var DO=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Hle=DO((Ni,Li)=>{const lr=(n,e,{checkForDefaultPrevented:t=!0}={})=>s=>{const r=n==null?void 0:n(s);if(t===!1||!r)return e==null?void 0:e(s)};function Wf(n,e){const t=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)t[i[s]]=!0;return e?s=>!!t[s.toLowerCase()]:s=>!!t[s]}const Ft={},Ya=[],ni=()=>{},FO=()=>!1,NO=/^on[^a-z]/,vu=n=>NO.test(n),Iv=n=>n.startsWith("onUpdate:"),qt=Object.assign,Ov=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},LO=Object.prototype.hasOwnProperty,wt=(n,e)=>LO.call(n,e),Pe=Array.isArray,Ja=n=>Ml(n)==="[object Map]",ra=n=>Ml(n)==="[object Set]",nf=n=>Ml(n)==="[object Date]",BO=n=>Ml(n)==="[object RegExp]",We=n=>typeof n=="function",Tt=n=>typeof n=="string",$c=n=>typeof n=="symbol",pt=n=>n!==null&&typeof n=="object",Rv=n=>pt(n)&&We(n.then)&&We(n.catch),lS=Object.prototype.toString,Ml=n=>lS.call(n),Nd=n=>Ml(n).slice(8,-1),cS=n=>Ml(n)==="[object Object]",Mv=n=>Tt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,wc=Wf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jf=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},$O=/-(\w)/g,wi=jf(n=>n.replace($O,(e,t)=>t?t.toUpperCase():"")),VO=/\B([A-Z])/g,Qi=jf(n=>n.replace(VO,"-$1").toLowerCase()),bu=jf(n=>n.charAt(0).toUpperCase()+n.slice(1)),_c=jf(n=>n?`on${bu(n)}`:""),sl=(n,e)=>!Object.is(n,e),Xa=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},sf=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},rf=n=>{const e=parseFloat(n);return isNaN(e)?n:e},of=n=>{const e=Tt(n)?Number(n):NaN;return isNaN(e)?n:e};let Wy;const Vp=()=>Wy||(Wy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),UO="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",zO=Wf(UO);function mn(n){if(Pe(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=Tt(i)?qO(i):mn(i);if(s)for(const r in s)e[r]=s[r]}return e}else{if(Tt(n))return n;if(pt(n))return n}}const HO=/;(?![^(]*\))/g,WO=/:([^]+)/,jO=/\/\*[^]*?\*\//g;function qO(n){const e={};return n.replace(jO,"").split(HO).forEach(t=>{if(t){const i=t.split(WO);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Y(n){let e="";if(Tt(n))e=n;else if(Pe(n))for(let t=0;t<n.length;t++){const i=Y(n[t]);i&&(e+=i+" ")}else if(pt(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function KO(n){if(!n)return null;let{class:e,style:t}=n;return e&&!Tt(e)&&(n.class=Y(e)),t&&(n.style=mn(t)),n}const GO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",QO=Wf(GO);function uS(n){return!!n||n===""}function YO(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=Xr(n[i],e[i]);return t}function Xr(n,e){if(n===e)return!0;let t=nf(n),i=nf(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=$c(n),i=$c(e),t||i)return n===e;if(t=Pe(n),i=Pe(e),t||i)return t&&i?YO(n,e):!1;if(t=pt(n),i=pt(e),t||i){if(!t||!i)return!1;const s=Object.keys(n).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Xr(n[o],e[o]))return!1}}return String(n)===String(e)}function qf(n,e){return n.findIndex(t=>Xr(t,e))}const Oe=n=>Tt(n)?n:n==null?"":Pe(n)||pt(n)&&(n.toString===lS||!We(n.toString))?JSON.stringify(n,dS,2):String(n),dS=(n,e)=>e&&e.__v_isRef?dS(n,e.value):Ja(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,s])=>(t[`${i} =>`]=s,t),{})}:ra(e)?{[`Set(${e.size})`]:[...e.values()]}:pt(e)&&!Pe(e)&&!cS(e)?String(e):e;let Oi;class Dv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Oi,!e&&Oi&&(this.index=(Oi.scopes||(Oi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Oi;try{return Oi=this,e()}finally{Oi=t}}}on(){Oi=this}off(){Oi=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function fS(n){return new Dv(n)}function hS(n,e=Oi){e&&e.active&&e.effects.push(n)}function Fv(){return Oi}function Nv(n){Oi&&Oi.cleanups.push(n)}const Lv=n=>{const e=new Set(n);return e.w=0,e.n=0,e},mS=n=>(n.w&Zr)>0,pS=n=>(n.n&Zr)>0,JO=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=Zr},XO=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const s=e[i];mS(s)&&!pS(s)?s.delete(n):e[t++]=s,s.w&=~Zr,s.n&=~Zr}e.length=t}},af=new WeakMap;let mc=0,Zr=1;const Up=30;let cs;const Fo=Symbol(""),zp=Symbol("");class yu{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,hS(this,i)}run(){if(!this.active)return this.fn();let e=cs,t=Kr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=cs,cs=this,Kr=!0,Zr=1<<++mc,mc<=Up?JO(this):jy(this),this.fn()}finally{mc<=Up&&XO(this),Zr=1<<--mc,cs=this.parent,Kr=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cs===this?this.deferStop=!0:this.active&&(jy(this),this.onStop&&this.onStop(),this.active=!1)}}function jy(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}function ZO(n,e){n.effect&&(n=n.effect.fn);const t=new yu(n);e&&(qt(t,e),e.scope&&hS(t,e.scope)),(!e||!e.lazy)&&t.run();const i=t.run.bind(t);return i.effect=t,i}function eR(n){n.effect.stop()}let Kr=!0;const gS=[];function Dl(){gS.push(Kr),Kr=!1}function Fl(){const n=gS.pop();Kr=n===void 0?!0:n}function Ei(n,e,t){if(Kr&&cs){let i=af.get(n);i||af.set(n,i=new Map);let s=i.get(t);s||i.set(t,s=Lv()),vS(s)}}function vS(n,e){let t=!1;mc<=Up?pS(n)||(n.n|=Zr,t=!mS(n)):t=!n.has(cs),t&&(n.add(cs),cs.deps.push(n))}function gr(n,e,t,i,s,r){const o=af.get(n);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&Pe(n)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(t!==void 0&&a.push(o.get(t)),e){case"add":Pe(n)?Mv(t)&&a.push(o.get("length")):(a.push(o.get(Fo)),Ja(n)&&a.push(o.get(zp)));break;case"delete":Pe(n)||(a.push(o.get(Fo)),Ja(n)&&a.push(o.get(zp)));break;case"set":Ja(n)&&a.push(o.get(Fo));break}if(a.length===1)a[0]&&Hp(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Hp(Lv(l))}}function Hp(n,e){const t=Pe(n)?n:[...n];for(const i of t)i.computed&&qy(i);for(const i of t)i.computed||qy(i)}function qy(n,e){(n!==cs||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function tR(n,e){var t;return(t=af.get(n))==null?void 0:t.get(e)}const nR=Wf("__proto__,__v_isRef,__isVue"),bS=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter($c)),iR=Kf(),sR=Kf(!1,!0),rR=Kf(!0),oR=Kf(!0,!0),Ky=aR();function aR(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=ut(this);for(let r=0,o=this.length;r<o;r++)Ei(i,"get",r+"");const s=i[e](...t);return s===-1||s===!1?i[e](...t.map(ut)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Dl();const i=ut(this)[e].apply(this,t);return Fl(),i}}),n}function lR(n){const e=ut(this);return Ei(e,"has",n),e.hasOwnProperty(n)}function Kf(n=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(n?e?ES:SS:e?kS:CS).get(i))return i;const o=Pe(i);if(!n){if(o&&wt(Ky,s))return Reflect.get(Ky,s,r);if(s==="hasOwnProperty")return lR}const a=Reflect.get(i,s,r);return($c(s)?bS.has(s):nR(s))||(n||Ei(i,"get",s),e)?a:$t(a)?o&&Mv(s)?a:a.value:pt(a)?n?wu(a):Wi(a):a}}const cR=yS(),uR=yS(!0);function yS(n=!1){return function(t,i,s,r){let o=t[i];if(Go(o)&&$t(o)&&!$t(s))return!1;if(!n&&(!Vc(s)&&!Go(s)&&(o=ut(o),s=ut(s)),!Pe(t)&&$t(o)&&!$t(s)))return o.value=s,!0;const a=Pe(t)&&Mv(i)?Number(i)<t.length:wt(t,i),l=Reflect.set(t,i,s,r);return t===ut(r)&&(a?sl(s,o)&&gr(t,"set",i,s):gr(t,"add",i,s)),l}}function dR(n,e){const t=wt(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&gr(n,"delete",e,void 0),i}function fR(n,e){const t=Reflect.has(n,e);return(!$c(e)||!bS.has(e))&&Ei(n,"has",e),t}function hR(n){return Ei(n,"iterate",Pe(n)?"length":Fo),Reflect.ownKeys(n)}const wS={get:iR,set:cR,deleteProperty:dR,has:fR,ownKeys:hR},_S={get:rR,set(n,e){return!0},deleteProperty(n,e){return!0}},mR=qt({},wS,{get:sR,set:uR}),pR=qt({},_S,{get:oR}),Bv=n=>n,Gf=n=>Reflect.getPrototypeOf(n);function Qu(n,e,t=!1,i=!1){n=n.__v_raw;const s=ut(n),r=ut(e);t||(e!==r&&Ei(s,"get",e),Ei(s,"get",r));const{has:o}=Gf(s),a=i?Bv:t?Vv:zc;if(o.call(s,e))return a(n.get(e));if(o.call(s,r))return a(n.get(r));n!==s&&n.get(e)}function Yu(n,e=!1){const t=this.__v_raw,i=ut(t),s=ut(n);return e||(n!==s&&Ei(i,"has",n),Ei(i,"has",s)),n===s?t.has(n):t.has(n)||t.has(s)}function Ju(n,e=!1){return n=n.__v_raw,!e&&Ei(ut(n),"iterate",Fo),Reflect.get(n,"size",n)}function Gy(n){n=ut(n);const e=ut(this);return Gf(e).has.call(e,n)||(e.add(n),gr(e,"add",n,n)),this}function Qy(n,e){e=ut(e);const t=ut(this),{has:i,get:s}=Gf(t);let r=i.call(t,n);r||(n=ut(n),r=i.call(t,n));const o=s.call(t,n);return t.set(n,e),r?sl(e,o)&&gr(t,"set",n,e):gr(t,"add",n,e),this}function Yy(n){const e=ut(this),{has:t,get:i}=Gf(e);let s=t.call(e,n);s||(n=ut(n),s=t.call(e,n)),i&&i.call(e,n);const r=e.delete(n);return s&&gr(e,"delete",n,void 0),r}function Jy(){const n=ut(this),e=n.size!==0,t=n.clear();return e&&gr(n,"clear",void 0,void 0),t}function Xu(n,e){return function(i,s){const r=this,o=r.__v_raw,a=ut(o),l=e?Bv:n?Vv:zc;return!n&&Ei(a,"iterate",Fo),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function Zu(n,e,t){return function(...i){const s=this.__v_raw,r=ut(s),o=Ja(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=s[n](...i),u=t?Bv:e?Vv:zc;return!e&&Ei(r,"iterate",l?zp:Fo),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Pr(n){return function(...e){return n==="delete"?!1:this}}function gR(){const n={get(r){return Qu(this,r)},get size(){return Ju(this)},has:Yu,add:Gy,set:Qy,delete:Yy,clear:Jy,forEach:Xu(!1,!1)},e={get(r){return Qu(this,r,!1,!0)},get size(){return Ju(this)},has:Yu,add:Gy,set:Qy,delete:Yy,clear:Jy,forEach:Xu(!1,!0)},t={get(r){return Qu(this,r,!0)},get size(){return Ju(this,!0)},has(r){return Yu.call(this,r,!0)},add:Pr("add"),set:Pr("set"),delete:Pr("delete"),clear:Pr("clear"),forEach:Xu(!0,!1)},i={get(r){return Qu(this,r,!0,!0)},get size(){return Ju(this,!0)},has(r){return Yu.call(this,r,!0)},add:Pr("add"),set:Pr("set"),delete:Pr("delete"),clear:Pr("clear"),forEach:Xu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Zu(r,!1,!1),t[r]=Zu(r,!0,!1),e[r]=Zu(r,!1,!0),i[r]=Zu(r,!0,!0)}),[n,t,e,i]}const[vR,bR,yR,wR]=gR();function Qf(n,e){const t=e?n?wR:yR:n?bR:vR;return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(wt(t,s)&&s in i?t:i,s,r)}const _R={get:Qf(!1,!1)},CR={get:Qf(!1,!0)},kR={get:Qf(!0,!1)},SR={get:Qf(!0,!0)},CS=new WeakMap,kS=new WeakMap,SS=new WeakMap,ES=new WeakMap;function ER(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TR(n){return n.__v_skip||!Object.isExtensible(n)?0:ER(Nd(n))}function Wi(n){return Go(n)?n:Yf(n,!1,wS,_R,CS)}function TS(n){return Yf(n,!1,mR,CR,kS)}function wu(n){return Yf(n,!0,_S,kR,SS)}function AR(n){return Yf(n,!0,pR,SR,ES)}function Yf(n,e,t,i,s){if(!pt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=TR(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return s.set(n,a),a}function No(n){return Go(n)?No(n.__v_raw):!!(n&&n.__v_isReactive)}function Go(n){return!!(n&&n.__v_isReadonly)}function Vc(n){return!!(n&&n.__v_isShallow)}function $v(n){return No(n)||Go(n)}function ut(n){const e=n&&n.__v_raw;return e?ut(e):n}function Uc(n){return sf(n,"__v_skip",!0),n}const zc=n=>pt(n)?Wi(n):n,Vv=n=>pt(n)?wu(n):n;function Uv(n){Kr&&cs&&(n=ut(n),vS(n.dep||(n.dep=Lv())))}function Jf(n,e){n=ut(n);const t=n.dep;t&&Hp(t)}function $t(n){return!!(n&&n.__v_isRef===!0)}function se(n){return AS(n,!1)}function Gr(n){return AS(n,!0)}function AS(n,e){return $t(n)?n:new xR(n,e)}class xR{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ut(e),this._value=t?e:zc(e)}get value(){return Uv(this),this._value}set value(e){const t=this.__v_isShallow||Vc(e)||Go(e);e=t?e:ut(e),sl(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:zc(e),Jf(this))}}function Na(n){Jf(n)}function g(n){return $t(n)?n.value:n}function PR(n){return We(n)?n():g(n)}const IR={get:(n,e,t)=>g(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const s=n[e];return $t(s)&&!$t(t)?(s.value=t,!0):Reflect.set(n,e,t,i)}};function zv(n){return No(n)?n:new Proxy(n,IR)}class OR{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:i}=e(()=>Uv(this),()=>Jf(this));this._get=t,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function RR(n){return new OR(n)}function oa(n){const e=Pe(n)?new Array(n.length):{};for(const t in n)e[t]=xS(n,t);return e}class MR{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return tR(ut(this._object),this._key)}}class DR{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Mn(n,e,t){return $t(n)?n:We(n)?new DR(n):pt(n)&&arguments.length>1?xS(n,e,t):se(n)}function xS(n,e,t){const i=n[e];return $t(i)?i:new MR(n,e,t)}class FR{constructor(e,t,i,s){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new yu(e,()=>{this._dirty||(this._dirty=!0,Jf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=ut(this);return Uv(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function NR(n,e,t=!1){let i,s;const r=We(n);return r?(i=n,s=ni):(i=n.get,s=n.set),new FR(i,s,r||!s,t)}function PS(n,...e){}function LR(n,e){}function hr(n,e,t,i){let s;try{s=i?n(...i):n()}catch(r){aa(r,e,t)}return s}function Bi(n,e,t,i){if(We(n)){const r=hr(n,e,t,i);return r&&Rv(r)&&r.catch(o=>{aa(o,e,t)}),r}const s=[];for(let r=0;r<n.length;r++)s.push(Bi(n[r],e,t,i));return s}function aa(n,e,t,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=t;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){hr(l,null,10,[n,o,a]);return}}BR(n,t,s,i)}function BR(n,e,t,i=!0){console.error(n)}let Hc=!1,Wp=!1;const ei=[];let Ms=0;const Za=[];let cr=null,Ao=0;const IS=Promise.resolve();let Hv=null;function lt(n){const e=Hv||IS;return n?e.then(this?n.bind(this):n):e}function $R(n){let e=Ms+1,t=ei.length;for(;e<t;){const i=e+t>>>1;Wc(ei[i])<n?e=i+1:t=i}return e}function Xf(n){(!ei.length||!ei.includes(n,Hc&&n.allowRecurse?Ms+1:Ms))&&(n.id==null?ei.push(n):ei.splice($R(n.id),0,n),OS())}function OS(){!Hc&&!Wp&&(Wp=!0,Hv=IS.then(RS))}function VR(n){const e=ei.indexOf(n);e>Ms&&ei.splice(e,1)}function Wv(n){Pe(n)?Za.push(...n):(!cr||!cr.includes(n,n.allowRecurse?Ao+1:Ao))&&Za.push(n),OS()}function Xy(n,e=Hc?Ms+1:0){for(;e<ei.length;e++){const t=ei[e];t&&t.pre&&(ei.splice(e,1),e--,t())}}function lf(n){if(Za.length){const e=[...new Set(Za)];if(Za.length=0,cr){cr.push(...e);return}for(cr=e,cr.sort((t,i)=>Wc(t)-Wc(i)),Ao=0;Ao<cr.length;Ao++)cr[Ao]();cr=null,Ao=0}}const Wc=n=>n.id==null?1/0:n.id,UR=(n,e)=>{const t=Wc(n)-Wc(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function RS(n){Wp=!1,Hc=!0,ei.sort(UR);const e=ni;try{for(Ms=0;Ms<ei.length;Ms++){const t=ei[Ms];t&&t.active!==!1&&hr(t,null,14)}}finally{Ms=0,ei.length=0,lf(),Hc=!1,Hv=null,(ei.length||Za.length)&&RS()}}let La,ed=[];function MS(n,e){var t,i;La=n,La?(La.enabled=!0,ed.forEach(({event:s,args:r})=>La.emit(s,...r)),ed=[]):typeof window<"u"&&window.HTMLElement&&!((i=(t=window.navigator)==null?void 0:t.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{MS(r,e)}),setTimeout(()=>{La||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ed=[])},3e3)):ed=[]}function zR(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||Ft;let s=t;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=i[u]||Ft;f&&(s=t.map(h=>Tt(h)?h.trim():h)),d&&(s=t.map(rf))}let a,l=i[a=_c(e)]||i[a=_c(wi(e))];!l&&r&&(l=i[a=_c(Qi(e))]),l&&Bi(l,n,6,s);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Bi(c,n,6,s)}}function DS(n,e,t=!1){const i=e.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},a=!1;if(!We(n)){const l=c=>{const u=DS(c,e,!0);u&&(a=!0,qt(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(pt(n)&&i.set(n,null),null):(Pe(r)?r.forEach(l=>o[l]=null):qt(o,r),pt(n)&&i.set(n,o),o)}function Zf(n,e){return!n||!vu(e)?!1:(e=e.slice(2).replace(/Once$/,""),wt(n,e[0].toLowerCase()+e.slice(1))||wt(n,Qi(e))||wt(n,e))}let Dn=null,eh=null;function jc(n){const e=Dn;return Dn=n,eh=n&&n.type.__scopeId||null,e}function FS(n){eh=n}function NS(){eh=null}const HR=n=>Ae;function Ae(n,e=Dn,t){if(!e||n._n)return n;const i=(...s)=>{i._d&&Jp(-1);const r=jc(e);let o;try{o=n(...s)}finally{jc(r),i._d&&Jp(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ld(n){const{type:e,vnode:t,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=n;let b,v;const w=jc(n);try{if(t.shapeFlag&4){const _=s||i;b=Ri(u.call(_,_,d,r,h,f,p)),v=l}else{const _=e;b=Ri(_.length>1?_(r,{attrs:l,slots:a,emit:c}):_(r,null)),v=e.props?l:jR(l)}}catch(_){Sc.length=0,aa(_,n,1),b=pe(Hn)}let C=b;if(v&&m!==!1){const _=Object.keys(v),{shapeFlag:T}=C;_.length&&T&7&&(o&&_.some(Iv)&&(v=qR(v,o)),C=hs(C,v))}return t.dirs&&(C=hs(C),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&(C.transition=t.transition),b=C,jc(w),b}function WR(n){let e;for(let t=0;t<n.length;t++){const i=n[t];if(eo(i)){if(i.type!==Hn||i.children==="v-if"){if(e)return;e=i}}else return}return e}const jR=n=>{let e;for(const t in n)(t==="class"||t==="style"||vu(t))&&((e||(e={}))[t]=n[t]);return e},qR=(n,e)=>{const t={};for(const i in n)(!Iv(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function KR(n,e,t){const{props:i,children:s,component:r}=n,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?Zy(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!Zf(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Zy(i,o,c):!0:!!o;return!1}function Zy(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==n[r]&&!Zf(t,r))return!0}return!1}function jv({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const LS=n=>n.__isSuspense,GR={name:"Suspense",__isSuspense:!0,process(n,e,t,i,s,r,o,a,l,c){n==null?YR(e,t,i,s,r,o,a,l,c):JR(n,e,t,i,s,o,a,l,c)},hydrate:XR,create:qv,normalize:ZR},QR=GR;function qc(n,e){const t=n.props&&n.props[e];We(t)&&t()}function YR(n,e,t,i,s,r,o,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=n.suspense=qv(n,s,i,e,d,t,r,o,a,l);c(null,f.pendingBranch=n.ssContent,d,null,i,f,r,o),f.deps>0?(qc(n,"onPending"),qc(n,"onFallback"),c(null,n.ssFallback,e,t,i,null,r,o),el(f,n.ssFallback)):f.resolve(!1,!0)}function JR(n,e,t,i,s,r,o,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=n.suspense;d.vnode=e,e.el=n.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:b,isHydrating:v}=d;if(m)d.pendingBranch=f,us(f,m)?(l(m,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0?d.resolve():b&&(l(p,h,t,i,s,null,r,o,a),el(d,h))):(d.pendingId++,v?(d.isHydrating=!1,d.activeBranch=m):c(m,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),b?(l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0?d.resolve():(l(p,h,t,i,s,null,r,o,a),el(d,h))):p&&us(f,p)?(l(p,f,t,i,s,d,r,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0&&d.resolve()));else if(p&&us(f,p))l(p,f,t,i,s,d,r,o,a),el(d,f);else if(qc(e,"onPending"),d.pendingBranch=f,d.pendingId++,l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0)d.resolve();else{const{timeout:w,pendingId:C}=d;w>0?setTimeout(()=>{d.pendingId===C&&d.fallback(h)},w):w===0&&d.fallback(h)}}function qv(n,e,t,i,s,r,o,a,l,c,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:m,remove:b}}=c;let v;const w=e4(n);w&&e!=null&&e.pendingBranch&&(v=e.pendingId,e.deps++);const C=n.props?of(n.props.timeout):void 0,_={vnode:n,parent:e,parentComponent:t,isSVG:o,container:i,hiddenContainer:s,anchor:r,deps:0,pendingId:0,timeout:typeof C=="number"?C:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(T=!1,k=!1){const{vnode:E,activeBranch:S,pendingBranch:P,pendingId:I,effects:W,parentComponent:j,container:B}=_;if(_.isHydrating)_.isHydrating=!1;else if(!T){const te=S&&P.transition&&P.transition.mode==="out-in";te&&(S.transition.afterLeave=()=>{I===_.pendingId&&f(P,B,O,0)});let{anchor:O}=_;S&&(O=p(S),h(S,j,_,!0)),te||f(P,B,O,0)}el(_,P),_.pendingBranch=null,_.isInFallback=!1;let F=_.parent,Z=!1;for(;F;){if(F.pendingBranch){F.effects.push(...W),Z=!0;break}F=F.parent}Z||Wv(W),_.effects=[],w&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!k&&e.resolve()),qc(E,"onResolve")},fallback(T){if(!_.pendingBranch)return;const{vnode:k,activeBranch:E,parentComponent:S,container:P,isSVG:I}=_;qc(k,"onFallback");const W=p(E),j=()=>{_.isInFallback&&(d(null,T,P,W,S,null,I,a,l),el(_,T))},B=T.transition&&T.transition.mode==="out-in";B&&(E.transition.afterLeave=j),_.isInFallback=!0,h(E,S,null,!0),B||j()},move(T,k,E){_.activeBranch&&f(_.activeBranch,T,k,E),_.container=T},next(){return _.activeBranch&&p(_.activeBranch)},registerDep(T,k){const E=!!_.pendingBranch;E&&_.deps++;const S=T.vnode.el;T.asyncDep.catch(P=>{aa(P,T,0)}).then(P=>{if(T.isUnmounted||_.isUnmounted||_.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:I}=T;Xp(T,P,!1),S&&(I.el=S);const W=!S&&T.subTree.el;k(T,I,m(S||T.subTree.el),S?null:p(T.subTree),_,o,l),W&&b(W),jv(T,I.el),E&&--_.deps===0&&_.resolve()})},unmount(T,k){_.isUnmounted=!0,_.activeBranch&&h(_.activeBranch,t,T,k),_.pendingBranch&&h(_.pendingBranch,t,T,k)}};return _}function XR(n,e,t,i,s,r,o,a,l){const c=e.suspense=qv(e,i,t,n.parentNode,document.createElement("div"),null,s,r,o,a,!0),u=l(n,c.pendingBranch=e.ssContent,t,c,r,o);return c.deps===0&&c.resolve(!1,!0),u}function ZR(n){const{shapeFlag:e,children:t}=n,i=e&32;n.ssContent=ew(i?t.default:t),n.ssFallback=i?ew(t.fallback):pe(Hn)}function ew(n){let e;if(We(n)){const t=Yo&&n._c;t&&(n._d=!1,U()),n=n(),t&&(n._d=!0,e=yi,hE())}return Pe(n)&&(n=WR(n)),n=Ri(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function BS(n,e){e&&e.pendingBranch?Pe(n)?e.effects.push(...n):e.effects.push(n):Wv(n)}function el(n,e){n.activeBranch=e;const{vnode:t,parentComponent:i}=n,s=t.el=e.el;i&&i.subTree===t&&(i.vnode.el=s,jv(i,s))}function e4(n){var e;return((e=n.props)==null?void 0:e.suspensible)!=null&&n.props.suspensible!==!1}function t4(n,e){return _u(n,null,e)}function $S(n,e){return _u(n,null,{flush:"post"})}function n4(n,e){return _u(n,null,{flush:"sync"})}const td={};function $e(n,e,t){return _u(n,e,t)}function _u(n,e,{immediate:t,deep:i,flush:s,onTrack:r,onTrigger:o}=Ft){var a;const l=Fv()===((a=vn)==null?void 0:a.scope)?vn:null;let c,u=!1,d=!1;if($t(n)?(c=()=>n.value,u=Vc(n)):No(n)?(c=()=>n,i=!0):Pe(n)?(d=!0,u=n.some(_=>No(_)||Vc(_)),c=()=>n.map(_=>{if($t(_))return _.value;if(No(_))return Oo(_);if(We(_))return hr(_,l,2)})):We(n)?e?c=()=>hr(n,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),Bi(n,l,3,[h])}:c=ni,e&&i){const _=c;c=()=>Oo(_())}let f,h=_=>{f=w.onStop=()=>{hr(_,l,4)}},p;if(ol)if(h=ni,e?t&&Bi(e,l,3,[c(),d?[]:void 0,h]):c(),s==="sync"){const _=kE();p=_.__watcherHandles||(_.__watcherHandles=[])}else return ni;let m=d?new Array(n.length).fill(td):td;const b=()=>{if(w.active)if(e){const _=w.run();(i||u||(d?_.some((T,k)=>sl(T,m[k])):sl(_,m)))&&(f&&f(),Bi(e,l,3,[_,m===td?void 0:d&&m[0]===td?[]:m,h]),m=_)}else w.run()};b.allowRecurse=!!e;let v;s==="sync"?v=b:s==="post"?v=()=>Vn(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),v=()=>Xf(b));const w=new yu(c,v);e?t?b():m=w.run():s==="post"?Vn(w.run.bind(w),l&&l.suspense):w.run();const C=()=>{w.stop(),l&&l.scope&&Ov(l.scope.effects,w)};return p&&p.push(C),C}function i4(n,e,t){const i=this.proxy,s=Tt(n)?n.includes(".")?VS(i,n):()=>i[n]:n.bind(i,i);let r;We(e)?r=e:(r=e.handler,t=e);const o=vn;to(this);const a=_u(s,r.bind(i),t);return o?to(o):Qr(),a}function VS(n,e){const t=e.split(".");return()=>{let i=n;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i}}function Oo(n,e){if(!pt(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),$t(n))Oo(n.value,e);else if(Pe(n))for(let t=0;t<n.length;t++)Oo(n[t],e);else if(ra(n)||Ja(n))n.forEach(t=>{Oo(t,e)});else if(cS(n))for(const t in n)Oo(n[t],e);return n}function Wt(n,e){const t=Dn;if(t===null)return n;const i=rh(t)||t.proxy,s=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=Ft]=e[r];o&&(We(o)&&(o={mounted:o,updated:o}),o.deep&&Oo(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return n}function Ps(n,e,t,i){const s=n.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Dl(),Bi(l,t,8,[n.el,a,n,e]),Fl())}}function Kv(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dn(()=>{n.isMounted=!0}),Ti(()=>{n.isUnmounting=!0}),n}const qi=[Function,Array],Gv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qi,onEnter:qi,onAfterEnter:qi,onEnterCancelled:qi,onBeforeLeave:qi,onLeave:qi,onAfterLeave:qi,onLeaveCancelled:qi,onBeforeAppear:qi,onAppear:qi,onAfterAppear:qi,onAppearCancelled:qi},s4={name:"BaseTransition",props:Gv,setup(n,{slots:e}){const t=Lt(),i=Kv();let s;return()=>{const r=e.default&&th(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const m of r)if(m.type!==Hn){o=m;break}}const a=ut(n),{mode:l}=a;if(i.isLeaving)return Pm(o);const c=tw(o);if(!c)return Pm(o);const u=rl(c,a,i,t);Qo(c,u);const d=t.subTree,f=d&&tw(d);let h=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();s===void 0?s=m:m!==s&&(s=m,h=!0)}if(f&&f.type!==Hn&&(!us(c,f)||h)){const m=rl(f,a,i,t);if(Qo(f,m),l==="out-in")return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,t.update.active!==!1&&t.update()},Pm(o);l==="in-out"&&c.type!==Hn&&(m.delayLeave=(b,v,w)=>{const C=zS(i,f);C[String(f.key)]=f,b._leaveCb=()=>{v(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=w})}return o}}},US=s4;function zS(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function rl(n,e,t,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:b,onAfterAppear:v,onAppearCancelled:w}=e,C=String(n.key),_=zS(t,n),T=(S,P)=>{S&&Bi(S,i,9,P)},k=(S,P)=>{const I=P[1];T(S,P),Pe(S)?S.every(W=>W.length<=1)&&I():S.length<=1&&I()},E={mode:r,persisted:o,beforeEnter(S){let P=a;if(!t.isMounted)if(s)P=m||a;else return;S._leaveCb&&S._leaveCb(!0);const I=_[C];I&&us(n,I)&&I.el._leaveCb&&I.el._leaveCb(),T(P,[S])},enter(S){let P=l,I=c,W=u;if(!t.isMounted)if(s)P=b||l,I=v||c,W=w||u;else return;let j=!1;const B=S._enterCb=F=>{j||(j=!0,F?T(W,[S]):T(I,[S]),E.delayedLeave&&E.delayedLeave(),S._enterCb=void 0)};P?k(P,[S,B]):B()},leave(S,P){const I=String(n.key);if(S._enterCb&&S._enterCb(!0),t.isUnmounting)return P();T(d,[S]);let W=!1;const j=S._leaveCb=B=>{W||(W=!0,P(),B?T(p,[S]):T(h,[S]),S._leaveCb=void 0,_[I]===n&&delete _[I])};_[I]=n,f?k(f,[S,j]):j()},clone(S){return rl(S,e,t,i)}};return E}function Pm(n){if(Cu(n))return n=hs(n),n.children=null,n}function tw(n){return Cu(n)?n.children?n.children[0]:void 0:n}function Qo(n,e){n.shapeFlag&6&&n.component?Qo(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function th(n,e=!1,t){let i=[],s=0;for(let r=0;r<n.length;r++){let o=n[r];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:r);o.type===tt?(o.patchFlag&128&&s++,i=i.concat(th(o.children,e,a))):(e||o.type!==Hn)&&i.push(a!=null?hs(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function Re(n,e){return We(n)?(()=>qt({name:n.name},e,{setup:n}))():n}const Lo=n=>!!n.type.__asyncLoader;function r4(n){We(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:i,delay:s=200,timeout:r,suspensible:o=!0,onError:a}=n;let l=null,c,u=0;const d=()=>(u++,l=null,f()),f=()=>{let h;return l||(h=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,b)=>{a(p,()=>m(d()),()=>b(p),u+1)});throw p}).then(p=>h!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Re({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const h=vn;if(c)return()=>Im(c,h);const p=w=>{l=null,aa(w,h,13,!i)};if(o&&h.suspense||ol)return f().then(w=>()=>Im(w,h)).catch(w=>(p(w),()=>i?pe(i,{error:w}):null));const m=se(!1),b=se(),v=se(!!s);return s&&setTimeout(()=>{v.value=!1},s),r!=null&&setTimeout(()=>{if(!m.value&&!b.value){const w=new Error(`Async component timed out after ${r}ms.`);p(w),b.value=w}},r),f().then(()=>{m.value=!0,h.parent&&Cu(h.parent.vnode)&&Xf(h.parent.update)}).catch(w=>{p(w),b.value=w}),()=>{if(m.value&&c)return Im(c,h);if(b.value&&i)return pe(i,{error:b.value});if(t&&!v.value)return pe(t)}}})}function Im(n,e){const{ref:t,props:i,children:s,ce:r}=e.vnode,o=pe(n,i,s);return o.ref=t,o.ce=r,delete e.vnode.ce,o}const Cu=n=>n.type.__isKeepAlive,o4={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=Lt(),i=t.ctx;if(!i.renderer)return()=>{const w=e.default&&e.default();return w&&w.length===1?w[0]:w};const s=new Map,r=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=i,f=d("div");i.activate=(w,C,_,T,k)=>{const E=w.component;c(w,C,_,0,a),l(E.vnode,w,C,_,E,a,T,w.slotScopeIds,k),Vn(()=>{E.isDeactivated=!1,E.a&&Xa(E.a);const S=w.props&&w.props.onVnodeMounted;S&&bi(S,E.parent,w)},a)},i.deactivate=w=>{const C=w.component;c(w,f,null,1,a),Vn(()=>{C.da&&Xa(C.da);const _=w.props&&w.props.onVnodeUnmounted;_&&bi(_,C.parent,w),C.isDeactivated=!0},a)};function h(w){Om(w),u(w,t,a,!0)}function p(w){s.forEach((C,_)=>{const T=eg(C.type);T&&(!w||!w(T))&&m(_)})}function m(w){const C=s.get(w);!o||!us(C,o)?h(C):o&&Om(o),s.delete(w),r.delete(w)}$e(()=>[n.include,n.exclude],([w,C])=>{w&&p(_=>pc(w,_)),C&&p(_=>!pc(C,_))},{flush:"post",deep:!0});let b=null;const v=()=>{b!=null&&s.set(b,Rm(t.subTree))};return dn(v),ku(v),Ti(()=>{s.forEach(w=>{const{subTree:C,suspense:_}=t,T=Rm(C);if(w.type===T.type&&w.key===T.key){Om(T);const k=T.component.da;k&&Vn(k,_);return}h(w)})}),()=>{if(b=null,!e.default)return null;const w=e.default(),C=w[0];if(w.length>1)return o=null,w;if(!eo(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return o=null,C;let _=Rm(C);const T=_.type,k=eg(Lo(_)?_.type.__asyncResolved||{}:T),{include:E,exclude:S,max:P}=n;if(E&&(!k||!pc(E,k))||S&&k&&pc(S,k))return o=_,C;const I=_.key==null?T:_.key,W=s.get(I);return _.el&&(_=hs(_),C.shapeFlag&128&&(C.ssContent=_)),b=I,W?(_.el=W.el,_.component=W.component,_.transition&&Qo(_,_.transition),_.shapeFlag|=512,r.delete(I),r.add(I)):(r.add(I),P&&r.size>parseInt(P,10)&&m(r.values().next().value)),_.shapeFlag|=256,o=_,LS(C.type)?C:_}}},a4=o4;function pc(n,e){return Pe(n)?n.some(t=>pc(t,e)):Tt(n)?n.split(",").includes(e):BO(n)?n.test(e):!1}function HS(n,e){WS(n,"a",e)}function Qv(n,e){WS(n,"da",e)}function WS(n,e,t=vn){const i=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(nh(e,i,t),t){let s=t.parent;for(;s&&s.parent;)Cu(s.parent.vnode)&&l4(i,e,t,s),s=s.parent}}function l4(n,e,t,i){const s=nh(e,n,i,!0);Nl(()=>{Ov(i[e],s)},t)}function Om(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function Rm(n){return n.shapeFlag&128?n.ssContent:n}function nh(n,e,t=vn,i=!1){if(t){const s=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;Dl(),to(t);const a=Bi(e,t,n,o);return Qr(),Fl(),a});return i?s.unshift(r):s.push(r),r}}const kr=n=>(e,t=vn)=>(!ol||n==="sp")&&nh(n,(...i)=>e(...i),t),Yv=kr("bm"),dn=kr("m"),jS=kr("bu"),ku=kr("u"),Ti=kr("bum"),Nl=kr("um"),qS=kr("sp"),KS=kr("rtg"),GS=kr("rtc");function QS(n,e=vn){nh("ec",n,e)}const Jv="components",c4="directives";function xs(n,e){return Xv(Jv,n,!0,e)||n}const YS=Symbol.for("v-ndc");function Fn(n){return Tt(n)?Xv(Jv,n,!1)||n:n||YS}function JS(n){return Xv(c4,n)}function Xv(n,e,t=!0,i=!1){const s=Dn||vn;if(s){const r=s.type;if(n===Jv){const a=eg(r,!1);if(a&&(a===e||a===wi(e)||a===bu(wi(e))))return r}const o=nw(s[n]||r[n],e)||nw(s.appContext[n],e);return!o&&i?r:o}}function nw(n,e){return n&&(n[e]||n[wi(e)]||n[bu(wi(e))])}function ln(n,e,t,i){let s;const r=t&&t[i];if(Pe(n)||Tt(n)){s=new Array(n.length);for(let o=0,a=n.length;o<a;o++)s[o]=e(n[o],o,void 0,r&&r[o])}else if(typeof n=="number"){s=new Array(n);for(let o=0;o<n;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(pt(n))if(n[Symbol.iterator])s=Array.from(n,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(n);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(n[c],c,a,r&&r[a])}}else s=[];return t&&(t[i]=s),s}function XS(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(Pe(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return n}function dt(n,e,t={},i,s){if(Dn.isCE||Dn.parent&&Lo(Dn.parent)&&Dn.parent.isCE)return e!=="default"&&(t.name=e),pe("slot",t,i&&i());let r=n[e];r&&r._c&&(r._d=!1),U();const o=r&&ZS(r(t)),a=Ue(tt,{key:t.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&n._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function ZS(n){return n.some(e=>eo(e)?!(e.type===Hn||e.type===tt&&!ZS(e.children)):!0)?n:null}function u4(n,e){const t={};for(const i in n)t[e&&/[A-Z]/.test(i)?`on:${i}`:_c(i)]=n[i];return t}const jp=n=>n?bE(n)?rh(n)||n.proxy:jp(n.parent):null,Cc=qt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>jp(n.parent),$root:n=>jp(n.root),$emit:n=>n.emit,$options:n=>Zv(n),$forceUpdate:n=>n.f||(n.f=()=>Xf(n.update)),$nextTick:n=>n.n||(n.n=lt.bind(n.proxy)),$watch:n=>i4.bind(n)}),Mm=(n,e)=>n!==Ft&&!n.__isScriptSetup&&wt(n,e),qp={get({_:n},e){const{ctx:t,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(Mm(i,e))return o[e]=1,i[e];if(s!==Ft&&wt(s,e))return o[e]=2,s[e];if((c=n.propsOptions[0])&&wt(c,e))return o[e]=3,r[e];if(t!==Ft&&wt(t,e))return o[e]=4,t[e];Kp&&(o[e]=0)}}const u=Cc[e];let d,f;if(u)return e==="$attrs"&&Ei(n,"get",e),u(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==Ft&&wt(t,e))return o[e]=4,t[e];if(f=l.config.globalProperties,wt(f,e))return f[e]},set({_:n},e,t){const{data:i,setupState:s,ctx:r}=n;return Mm(s,e)?(s[e]=t,!0):i!==Ft&&wt(i,e)?(i[e]=t,!0):wt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!t[o]||n!==Ft&&wt(n,o)||Mm(e,o)||(a=r[0])&&wt(a,o)||wt(i,o)||wt(Cc,o)||wt(s.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:wt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},d4=qt({},qp,{get(n,e){if(e!==Symbol.unscopables)return qp.get(n,e,n)},has(n,e){return e[0]!=="_"&&!zO(e)}});function f4(){return null}function h4(){return null}function m4(n){}function p4(n){}function g4(){return null}function v4(){}function b4(n,e){return null}function la(){return eE().slots}function ih(){return eE().attrs}function y4(n,e,t){const i=Lt();if(t&&t.local){const s=se(n[e]);return $e(()=>n[e],r=>s.value=r),$e(s,r=>{r!==n[e]&&i.emit(`update:${e}`,r)}),s}else return{__v_isRef:!0,get value(){return n[e]},set value(s){i.emit(`update:${e}`,s)}}}function eE(){const n=Lt();return n.setupContext||(n.setupContext=_E(n))}function Kc(n){return Pe(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function w4(n,e){const t=Kc(n);for(const i in e){if(i.startsWith("__skip"))continue;let s=t[i];s?Pe(s)||We(s)?s=t[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=t[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return t}function _4(n,e){return!n||!e?n||e:Pe(n)&&Pe(e)?n.concat(e):qt({},Kc(n),Kc(e))}function C4(n,e){const t={};for(const i in n)e.includes(i)||Object.defineProperty(t,i,{enumerable:!0,get:()=>n[i]});return t}function k4(n){const e=Lt();let t=n();return Qr(),Rv(t)&&(t=t.catch(i=>{throw to(e),i})),[t,()=>to(e)]}let Kp=!0;function S4(n){const e=Zv(n),t=n.proxy,i=n.ctx;Kp=!1,e.beforeCreate&&iw(e.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:b,beforeDestroy:v,beforeUnmount:w,destroyed:C,unmounted:_,render:T,renderTracked:k,renderTriggered:E,errorCaptured:S,serverPrefetch:P,expose:I,inheritAttrs:W,components:j,directives:B,filters:F}=e;if(c&&E4(c,i,null),o)for(const O in o){const J=o[O];We(J)&&(i[O]=J.bind(t))}if(s){const O=s.call(t,t);pt(O)&&(n.data=Wi(O))}if(Kp=!0,r)for(const O in r){const J=r[O],V=We(J)?J.bind(t,t):We(J.get)?J.get.bind(t,t):ni,Q=!We(J)&&We(J.set)?J.set.bind(t):ni,be=z({get:V,set:Q});Object.defineProperty(i,O,{enumerable:!0,configurable:!0,get:()=>be.value,set:R=>be.value=R})}if(a)for(const O in a)tE(a[O],i,t,O);if(l){const O=We(l)?l.call(t):l;Reflect.ownKeys(O).forEach(J=>{kn(J,O[J])})}u&&iw(u,n,"c");function te(O,J){Pe(J)?J.forEach(V=>O(V.bind(t))):J&&O(J.bind(t))}if(te(Yv,d),te(dn,f),te(jS,h),te(ku,p),te(HS,m),te(Qv,b),te(QS,S),te(GS,k),te(KS,E),te(Ti,w),te(Nl,_),te(qS,P),Pe(I))if(I.length){const O=n.exposed||(n.exposed={});I.forEach(J=>{Object.defineProperty(O,J,{get:()=>t[J],set:V=>t[J]=V})})}else n.exposed||(n.exposed={});T&&n.render===ni&&(n.render=T),W!=null&&(n.inheritAttrs=W),j&&(n.components=j),B&&(n.directives=B)}function E4(n,e,t=ni){Pe(n)&&(n=Gp(n));for(const i in n){const s=n[i];let r;pt(s)?"default"in s?r=ot(s.from||i,s.default,!0):r=ot(s.from||i):r=ot(s),$t(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function iw(n,e,t){Bi(Pe(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function tE(n,e,t,i){const s=i.includes(".")?VS(t,i):()=>t[i];if(Tt(n)){const r=e[n];We(r)&&$e(s,r)}else if(We(n))$e(s,n.bind(t));else if(pt(n))if(Pe(n))n.forEach(r=>tE(r,e,t,i));else{const r=We(n.handler)?n.handler.bind(t):e[n.handler];We(r)&&$e(s,r,n)}}function Zv(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!t&&!i?l=e:(l={},s.length&&s.forEach(c=>cf(l,c,o,!0)),cf(l,e,o)),pt(e)&&r.set(e,l),l}function cf(n,e,t,i=!1){const{mixins:s,extends:r}=e;r&&cf(n,r,t,!0),s&&s.forEach(o=>cf(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=T4[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const T4={data:sw,props:rw,emits:rw,methods:gc,computed:gc,beforeCreate:li,created:li,beforeMount:li,mounted:li,beforeUpdate:li,updated:li,beforeDestroy:li,beforeUnmount:li,destroyed:li,unmounted:li,activated:li,deactivated:li,errorCaptured:li,serverPrefetch:li,components:gc,directives:gc,watch:x4,provide:sw,inject:A4};function sw(n,e){return e?n?function(){return qt(We(n)?n.call(this,this):n,We(e)?e.call(this,this):e)}:e:n}function A4(n,e){return gc(Gp(n),Gp(e))}function Gp(n){if(Pe(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function li(n,e){return n?[...new Set([].concat(n,e))]:e}function gc(n,e){return n?qt(Object.create(null),n,e):e}function rw(n,e){return n?Pe(n)&&Pe(e)?[...new Set([...n,...e])]:qt(Object.create(null),Kc(n),Kc(e??{})):e}function x4(n,e){if(!n)return e;if(!e)return n;const t=qt(Object.create(null),n);for(const i in e)t[i]=li(n[i],e[i]);return t}function nE(){return{app:null,config:{isNativeTag:FO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let P4=0;function I4(n,e){return function(i,s=null){We(i)||(i=qt({},i)),s!=null&&!pt(s)&&(s=null);const r=nE(),o=new Set;let a=!1;const l=r.app={_uid:P4++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:EE,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&We(c.install)?(o.add(c),c.install(l,...u)):We(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const f=pe(i,s);return f.appContext=r,u&&e?e(f,c):n(f,c,d),a=!0,l._container=c,c.__vue_app__=l,rh(f.component)||f.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){Gc=l;try{return c()}finally{Gc=null}}};return l}}let Gc=null;function kn(n,e){if(vn){let t=vn.provides;const i=vn.parent&&vn.parent.provides;i===t&&(t=vn.provides=Object.create(i)),t[n]=e}}function ot(n,e,t=!1){const i=vn||Dn;if(i||Gc){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Gc._context.provides;if(s&&n in s)return s[n];if(arguments.length>1)return t&&We(e)?e.call(i&&i.proxy):e}}function O4(){return!!(vn||Dn||Gc)}function R4(n,e,t,i=!1){const s={},r={};sf(r,sh,1),n.propsDefaults=Object.create(null),iE(n,e,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);t?n.props=i?s:TS(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function M4(n,e,t,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,a=ut(s),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Zf(n.emitsOptions,f))continue;const h=e[f];if(l)if(wt(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=wi(f);s[p]=Qp(l,a,p,h,n,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{iE(n,e,s,r)&&(c=!0);let u;for(const d in a)(!e||!wt(e,d)&&((u=Qi(d))===d||!wt(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(s[d]=Qp(l,a,d,void 0,n,!0)):delete s[d]);if(r!==a)for(const d in r)(!e||!wt(e,d))&&(delete r[d],c=!0)}c&&gr(n,"set","$attrs")}function iE(n,e,t,i){const[s,r]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(wc(l))continue;const c=e[l];let u;s&&wt(s,u=wi(l))?!r||!r.includes(u)?t[u]=c:(a||(a={}))[u]=c:Zf(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=ut(t),c=a||Ft;for(let u=0;u<r.length;u++){const d=r[u];t[d]=Qp(s,l,d,c[d],n,!wt(c,d))}}return o}function Qp(n,e,t,i,s,r){const o=n[t];if(o!=null){const a=wt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&We(l)){const{propsDefaults:c}=s;t in c?i=c[t]:(to(s),i=c[t]=l.call(null,e),Qr())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Qi(t))&&(i=!0))}return i}function sE(n,e,t=!1){const i=e.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},a=[];let l=!1;if(!We(n)){const u=d=>{l=!0;const[f,h]=sE(d,e,!0);qt(o,f),h&&a.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return pt(n)&&i.set(n,Ya),Ya;if(Pe(r))for(let u=0;u<r.length;u++){const d=wi(r[u]);ow(d)&&(o[d]=Ft)}else if(r)for(const u in r){const d=wi(u);if(ow(d)){const f=r[u],h=o[d]=Pe(f)||We(f)?{type:f}:qt({},f);if(h){const p=cw(Boolean,h.type),m=cw(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||wt(h,"default"))&&a.push(d)}}}const c=[o,a];return pt(n)&&i.set(n,c),c}function ow(n){return n[0]!=="$"}function aw(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function lw(n,e){return aw(n)===aw(e)}function cw(n,e){return Pe(e)?e.findIndex(t=>lw(t,n)):We(e)&&lw(e,n)?0:-1}const rE=n=>n[0]==="_"||n==="$stable",eb=n=>Pe(n)?n.map(Ri):[Ri(n)],D4=(n,e,t)=>{if(e._n)return e;const i=Ae((...s)=>eb(e(...s)),t);return i._c=!1,i},oE=(n,e,t)=>{const i=n._ctx;for(const s in n){if(rE(s))continue;const r=n[s];if(We(r))e[s]=D4(s,r,i);else if(r!=null){const o=eb(r);e[s]=()=>o}}},aE=(n,e)=>{const t=eb(e);n.slots.default=()=>t},F4=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ut(e),sf(e,"_",t)):oE(e,n.slots={})}else n.slots={},e&&aE(n,e);sf(n.slots,sh,1)},N4=(n,e,t)=>{const{vnode:i,slots:s}=n;let r=!0,o=Ft;if(i.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:(qt(s,e),!t&&a===1&&delete s._):(r=!e.$stable,oE(e,s)),o=e}else e&&(aE(n,e),o={default:1});if(r)for(const a in s)!rE(a)&&!(a in o)&&delete s[a]};function uf(n,e,t,i,s=!1){if(Pe(n)){n.forEach((f,h)=>uf(f,e&&(Pe(e)?e[h]:e),t,i,s));return}if(Lo(i)&&!s)return;const r=i.shapeFlag&4?rh(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=n,c=e&&e.r,u=a.refs===Ft?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(Tt(c)?(u[c]=null,wt(d,c)&&(d[c]=null)):$t(c)&&(c.value=null)),We(l))hr(l,a,12,[o,u]);else{const f=Tt(l),h=$t(l);if(f||h){const p=()=>{if(n.f){const m=f?wt(d,l)?d[l]:u[l]:l.value;s?Pe(m)&&Ov(m,r):Pe(m)?m.includes(r)||m.push(r):f?(u[l]=[r],wt(d,l)&&(d[l]=u[l])):(l.value=[r],n.k&&(u[n.k]=l.value))}else f?(u[l]=o,wt(d,l)&&(d[l]=o)):h&&(l.value=o,n.k&&(u[n.k]=o))};o?(p.id=-1,Vn(p,t)):p()}}}let Ir=!1;const nd=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",id=n=>n.nodeType===8;function L4(n){const{mt:e,p:t,o:{patchProp:i,createText:s,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=n,u=(v,w)=>{if(!w.hasChildNodes()){t(null,v,w),lf(),w._vnode=v;return}Ir=!1,d(w.firstChild,v,null,null,null),lf(),w._vnode=v,Ir&&console.error("Hydration completed but contains mismatches.")},d=(v,w,C,_,T,k=!1)=>{const E=id(v)&&v.data==="[",S=()=>m(v,w,C,_,T,E),{type:P,ref:I,shapeFlag:W,patchFlag:j}=w;let B=v.nodeType;w.el=v,j===-2&&(k=!1,w.dynamicChildren=null);let F=null;switch(P){case js:B!==3?w.children===""?(l(w.el=s(""),o(v),v),F=v):F=S():(v.data!==w.children&&(Ir=!0,v.data=w.children),F=r(v));break;case Hn:B!==8||E?F=S():F=r(v);break;case Bo:if(E&&(v=r(v),B=v.nodeType),B===1||B===3){F=v;const Z=!w.children.length;for(let te=0;te<w.staticCount;te++)Z&&(w.children+=F.nodeType===1?F.outerHTML:F.data),te===w.staticCount-1&&(w.anchor=F),F=r(F);return E?r(F):F}else S();break;case tt:E?F=p(v,w,C,_,T,k):F=S();break;default:if(W&1)B!==1||w.type.toLowerCase()!==v.tagName.toLowerCase()?F=S():F=f(v,w,C,_,T,k);else if(W&6){w.slotScopeIds=T;const Z=o(v);if(e(w,Z,null,C,_,nd(Z),k),F=E?b(v):r(v),F&&id(F)&&F.data==="teleport end"&&(F=r(F)),Lo(w)){let te;E?(te=pe(tt),te.anchor=F?F.previousSibling:Z.lastChild):te=v.nodeType===3?cn(""):pe("div"),te.el=v,w.component.subTree=te}}else W&64?B!==8?F=S():F=w.type.hydrate(v,w,C,_,T,k,n,h):W&128&&(F=w.type.hydrate(v,w,C,_,nd(o(v)),T,k,n,d))}return I!=null&&uf(I,null,_,w),F},f=(v,w,C,_,T,k)=>{k=k||!!w.dynamicChildren;const{type:E,props:S,patchFlag:P,shapeFlag:I,dirs:W}=w,j=E==="input"&&W||E==="option";if(j||P!==-1){if(W&&Ps(w,null,C,"created"),S)if(j||!k||P&48)for(const F in S)(j&&F.endsWith("value")||vu(F)&&!wc(F))&&i(v,F,null,S[F],!1,void 0,C);else S.onClick&&i(v,"onClick",null,S.onClick,!1,void 0,C);let B;if((B=S&&S.onVnodeBeforeMount)&&bi(B,C,w),W&&Ps(w,null,C,"beforeMount"),((B=S&&S.onVnodeMounted)||W)&&BS(()=>{B&&bi(B,C,w),W&&Ps(w,null,C,"mounted")},_),I&16&&!(S&&(S.innerHTML||S.textContent))){let F=h(v.firstChild,w,v,C,_,T,k);for(;F;){Ir=!0;const Z=F;F=F.nextSibling,a(Z)}}else I&8&&v.textContent!==w.children&&(Ir=!0,v.textContent=w.children)}return v.nextSibling},h=(v,w,C,_,T,k,E)=>{E=E||!!w.dynamicChildren;const S=w.children,P=S.length;for(let I=0;I<P;I++){const W=E?S[I]:S[I]=Ri(S[I]);if(v)v=d(v,W,_,T,k,E);else{if(W.type===js&&!W.children)continue;Ir=!0,t(null,W,C,null,_,T,nd(C),k)}}return v},p=(v,w,C,_,T,k)=>{const{slotScopeIds:E}=w;E&&(T=T?T.concat(E):E);const S=o(v),P=h(r(v),w,S,C,_,T,k);return P&&id(P)&&P.data==="]"?r(w.anchor=P):(Ir=!0,l(w.anchor=c("]"),S,P),P)},m=(v,w,C,_,T,k)=>{if(Ir=!0,w.el=null,k){const P=b(v);for(;;){const I=r(v);if(I&&I!==P)a(I);else break}}const E=r(v),S=o(v);return a(v),t(null,w,S,E,C,_,nd(S),T),E},b=v=>{let w=0;for(;v;)if(v=r(v),v&&id(v)&&(v.data==="["&&w++,v.data==="]")){if(w===0)return r(v);w--}return v};return[u,d]}const Vn=BS;function lE(n){return uE(n)}function cE(n){return uE(n,L4)}function uE(n,e){const t=Vp();t.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=ni,insertStaticContent:p}=n,m=(x,D,ee,ce=null,de=null,ae=null,Te=!1,ge=null,ye=!!D.dynamicChildren)=>{if(x===D)return;x&&!us(x,D)&&(ce=je(x),R(x,de,ae,!0),x=null),D.patchFlag===-2&&(ye=!1,D.dynamicChildren=null);const{type:oe,ref:H,shapeFlag:G}=D;switch(oe){case js:b(x,D,ee,ce);break;case Hn:v(x,D,ee,ce);break;case Bo:x==null&&w(D,ee,ce,Te);break;case tt:j(x,D,ee,ce,de,ae,Te,ge,ye);break;default:G&1?T(x,D,ee,ce,de,ae,Te,ge,ye):G&6?B(x,D,ee,ce,de,ae,Te,ge,ye):(G&64||G&128)&&oe.process(x,D,ee,ce,de,ae,Te,ge,ye,Ne)}H!=null&&de&&uf(H,x&&x.ref,ae,D||x,!D)},b=(x,D,ee,ce)=>{if(x==null)i(D.el=a(D.children),ee,ce);else{const de=D.el=x.el;D.children!==x.children&&c(de,D.children)}},v=(x,D,ee,ce)=>{x==null?i(D.el=l(D.children||""),ee,ce):D.el=x.el},w=(x,D,ee,ce)=>{[x.el,x.anchor]=p(x.children,D,ee,ce,x.el,x.anchor)},C=({el:x,anchor:D},ee,ce)=>{let de;for(;x&&x!==D;)de=f(x),i(x,ee,ce),x=de;i(D,ee,ce)},_=({el:x,anchor:D})=>{let ee;for(;x&&x!==D;)ee=f(x),s(x),x=ee;s(D)},T=(x,D,ee,ce,de,ae,Te,ge,ye)=>{Te=Te||D.type==="svg",x==null?k(D,ee,ce,de,ae,Te,ge,ye):P(x,D,de,ae,Te,ge,ye)},k=(x,D,ee,ce,de,ae,Te,ge)=>{let ye,oe;const{type:H,props:G,shapeFlag:K,transition:we,dirs:Ve}=x;if(ye=x.el=o(x.type,ae,G&&G.is,G),K&8?u(ye,x.children):K&16&&S(x.children,ye,null,ce,de,ae&&H!=="foreignObject",Te,ge),Ve&&Ps(x,null,ce,"created"),E(ye,x,x.scopeId,Te,ce),G){for(const Fe in G)Fe!=="value"&&!wc(Fe)&&r(ye,Fe,null,G[Fe],ae,x.children,ce,de,xe);"value"in G&&r(ye,"value",null,G.value),(oe=G.onVnodeBeforeMount)&&bi(oe,ce,x)}Ve&&Ps(x,null,ce,"beforeMount");const Qe=(!de||de&&!de.pendingBranch)&&we&&!we.persisted;Qe&&we.beforeEnter(ye),i(ye,D,ee),((oe=G&&G.onVnodeMounted)||Qe||Ve)&&Vn(()=>{oe&&bi(oe,ce,x),Qe&&we.enter(ye),Ve&&Ps(x,null,ce,"mounted")},de)},E=(x,D,ee,ce,de)=>{if(ee&&h(x,ee),ce)for(let ae=0;ae<ce.length;ae++)h(x,ce[ae]);if(de){let ae=de.subTree;if(D===ae){const Te=de.vnode;E(x,Te,Te.scopeId,Te.slotScopeIds,de.parent)}}},S=(x,D,ee,ce,de,ae,Te,ge,ye=0)=>{for(let oe=ye;oe<x.length;oe++){const H=x[oe]=ge?Vr(x[oe]):Ri(x[oe]);m(null,H,D,ee,ce,de,ae,Te,ge)}},P=(x,D,ee,ce,de,ae,Te)=>{const ge=D.el=x.el;let{patchFlag:ye,dynamicChildren:oe,dirs:H}=D;ye|=x.patchFlag&16;const G=x.props||Ft,K=D.props||Ft;let we;ee&&bo(ee,!1),(we=K.onVnodeBeforeUpdate)&&bi(we,ee,D,x),H&&Ps(D,x,ee,"beforeUpdate"),ee&&bo(ee,!0);const Ve=de&&D.type!=="foreignObject";if(oe?I(x.dynamicChildren,oe,ge,ee,ce,Ve,ae):Te||J(x,D,ge,null,ee,ce,Ve,ae,!1),ye>0){if(ye&16)W(ge,D,G,K,ee,ce,de);else if(ye&2&&G.class!==K.class&&r(ge,"class",null,K.class,de),ye&4&&r(ge,"style",G.style,K.style,de),ye&8){const Qe=D.dynamicProps;for(let Fe=0;Fe<Qe.length;Fe++){const ie=Qe[Fe],ke=G[ie],Ke=K[ie];(Ke!==ke||ie==="value")&&r(ge,ie,ke,Ke,de,x.children,ee,ce,xe)}}ye&1&&x.children!==D.children&&u(ge,D.children)}else!Te&&oe==null&&W(ge,D,G,K,ee,ce,de);((we=K.onVnodeUpdated)||H)&&Vn(()=>{we&&bi(we,ee,D,x),H&&Ps(D,x,ee,"updated")},ce)},I=(x,D,ee,ce,de,ae,Te)=>{for(let ge=0;ge<D.length;ge++){const ye=x[ge],oe=D[ge],H=ye.el&&(ye.type===tt||!us(ye,oe)||ye.shapeFlag&70)?d(ye.el):ee;m(ye,oe,H,null,ce,de,ae,Te,!0)}},W=(x,D,ee,ce,de,ae,Te)=>{if(ee!==ce){if(ee!==Ft)for(const ge in ee)!wc(ge)&&!(ge in ce)&&r(x,ge,ee[ge],null,Te,D.children,de,ae,xe);for(const ge in ce){if(wc(ge))continue;const ye=ce[ge],oe=ee[ge];ye!==oe&&ge!=="value"&&r(x,ge,oe,ye,Te,D.children,de,ae,xe)}"value"in ce&&r(x,"value",ee.value,ce.value)}},j=(x,D,ee,ce,de,ae,Te,ge,ye)=>{const oe=D.el=x?x.el:a(""),H=D.anchor=x?x.anchor:a("");let{patchFlag:G,dynamicChildren:K,slotScopeIds:we}=D;we&&(ge=ge?ge.concat(we):we),x==null?(i(oe,ee,ce),i(H,ee,ce),S(D.children,ee,H,de,ae,Te,ge,ye)):G>0&&G&64&&K&&x.dynamicChildren?(I(x.dynamicChildren,K,ee,de,ae,Te,ge),(D.key!=null||de&&D===de.subTree)&&tb(x,D,!0)):J(x,D,ee,H,de,ae,Te,ge,ye)},B=(x,D,ee,ce,de,ae,Te,ge,ye)=>{D.slotScopeIds=ge,x==null?D.shapeFlag&512?de.ctx.activate(D,ee,ce,Te,ye):F(D,ee,ce,de,ae,Te,ye):Z(x,D,ye)},F=(x,D,ee,ce,de,ae,Te)=>{const ge=x.component=vE(x,ce,de);if(Cu(x)&&(ge.ctx.renderer=Ne),yE(ge),ge.asyncDep){if(de&&de.registerDep(ge,te),!x.el){const ye=ge.subTree=pe(Hn);v(null,ye,D,ee)}return}te(ge,x,D,ee,de,ae,Te)},Z=(x,D,ee)=>{const ce=D.component=x.component;if(KR(x,D,ee))if(ce.asyncDep&&!ce.asyncResolved){O(ce,D,ee);return}else ce.next=D,VR(ce.update),ce.update();else D.el=x.el,ce.vnode=D},te=(x,D,ee,ce,de,ae,Te)=>{const ge=()=>{if(x.isMounted){let{next:H,bu:G,u:K,parent:we,vnode:Ve}=x,Qe=H,Fe;bo(x,!1),H?(H.el=Ve.el,O(x,H,Te)):H=Ve,G&&Xa(G),(Fe=H.props&&H.props.onVnodeBeforeUpdate)&&bi(Fe,we,H,Ve),bo(x,!0);const ie=Ld(x),ke=x.subTree;x.subTree=ie,m(ke,ie,d(ke.el),je(ke),x,de,ae),H.el=ie.el,Qe===null&&jv(x,ie.el),K&&Vn(K,de),(Fe=H.props&&H.props.onVnodeUpdated)&&Vn(()=>bi(Fe,we,H,Ve),de)}else{let H;const{el:G,props:K}=D,{bm:we,m:Ve,parent:Qe}=x,Fe=Lo(D);if(bo(x,!1),we&&Xa(we),!Fe&&(H=K&&K.onVnodeBeforeMount)&&bi(H,Qe,D),bo(x,!0),G&&it){const ie=()=>{x.subTree=Ld(x),it(G,x.subTree,x,de,null)};Fe?D.type.__asyncLoader().then(()=>!x.isUnmounted&&ie()):ie()}else{const ie=x.subTree=Ld(x);m(null,ie,ee,ce,x,de,ae),D.el=ie.el}if(Ve&&Vn(Ve,de),!Fe&&(H=K&&K.onVnodeMounted)){const ie=D;Vn(()=>bi(H,Qe,ie),de)}(D.shapeFlag&256||Qe&&Lo(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&x.a&&Vn(x.a,de),x.isMounted=!0,D=ee=ce=null}},ye=x.effect=new yu(ge,()=>Xf(oe),x.scope),oe=x.update=()=>ye.run();oe.id=x.uid,bo(x,!0),oe()},O=(x,D,ee)=>{D.component=x;const ce=x.vnode.props;x.vnode=D,x.next=null,M4(x,D.props,ce,ee),N4(x,D.children,ee),Dl(),Xy(),Fl()},J=(x,D,ee,ce,de,ae,Te,ge,ye=!1)=>{const oe=x&&x.children,H=x?x.shapeFlag:0,G=D.children,{patchFlag:K,shapeFlag:we}=D;if(K>0){if(K&128){Q(oe,G,ee,ce,de,ae,Te,ge,ye);return}else if(K&256){V(oe,G,ee,ce,de,ae,Te,ge,ye);return}}we&8?(H&16&&xe(oe,de,ae),G!==oe&&u(ee,G)):H&16?we&16?Q(oe,G,ee,ce,de,ae,Te,ge,ye):xe(oe,de,ae,!0):(H&8&&u(ee,""),we&16&&S(G,ee,ce,de,ae,Te,ge,ye))},V=(x,D,ee,ce,de,ae,Te,ge,ye)=>{x=x||Ya,D=D||Ya;const oe=x.length,H=D.length,G=Math.min(oe,H);let K;for(K=0;K<G;K++){const we=D[K]=ye?Vr(D[K]):Ri(D[K]);m(x[K],we,ee,null,de,ae,Te,ge,ye)}oe>H?xe(x,de,ae,!0,!1,G):S(D,ee,ce,de,ae,Te,ge,ye,G)},Q=(x,D,ee,ce,de,ae,Te,ge,ye)=>{let oe=0;const H=D.length;let G=x.length-1,K=H-1;for(;oe<=G&&oe<=K;){const we=x[oe],Ve=D[oe]=ye?Vr(D[oe]):Ri(D[oe]);if(us(we,Ve))m(we,Ve,ee,null,de,ae,Te,ge,ye);else break;oe++}for(;oe<=G&&oe<=K;){const we=x[G],Ve=D[K]=ye?Vr(D[K]):Ri(D[K]);if(us(we,Ve))m(we,Ve,ee,null,de,ae,Te,ge,ye);else break;G--,K--}if(oe>G){if(oe<=K){const we=K+1,Ve=we<H?D[we].el:ce;for(;oe<=K;)m(null,D[oe]=ye?Vr(D[oe]):Ri(D[oe]),ee,Ve,de,ae,Te,ge,ye),oe++}}else if(oe>K)for(;oe<=G;)R(x[oe],de,ae,!0),oe++;else{const we=oe,Ve=oe,Qe=new Map;for(oe=Ve;oe<=K;oe++){const Ee=D[oe]=ye?Vr(D[oe]):Ri(D[oe]);Ee.key!=null&&Qe.set(Ee.key,oe)}let Fe,ie=0;const ke=K-Ve+1;let Ke=!1,q=0;const re=new Array(ke);for(oe=0;oe<ke;oe++)re[oe]=0;for(oe=we;oe<=G;oe++){const Ee=x[oe];if(ie>=ke){R(Ee,de,ae,!0);continue}let ft;if(Ee.key!=null)ft=Qe.get(Ee.key);else for(Fe=Ve;Fe<=K;Fe++)if(re[Fe-Ve]===0&&us(Ee,D[Fe])){ft=Fe;break}ft===void 0?R(Ee,de,ae,!0):(re[ft-Ve]=oe+1,ft>=q?q=ft:Ke=!0,m(Ee,D[ft],ee,null,de,ae,Te,ge,ye),ie++)}const _e=Ke?B4(re):Ya;for(Fe=_e.length-1,oe=ke-1;oe>=0;oe--){const Ee=Ve+oe,ft=D[Ee],ne=Ee+1<H?D[Ee+1].el:ce;re[oe]===0?m(null,ft,ee,ne,de,ae,Te,ge,ye):Ke&&(Fe<0||oe!==_e[Fe]?be(ft,ee,ne,2):Fe--)}}},be=(x,D,ee,ce,de=null)=>{const{el:ae,type:Te,transition:ge,children:ye,shapeFlag:oe}=x;if(oe&6){be(x.component.subTree,D,ee,ce);return}if(oe&128){x.suspense.move(D,ee,ce);return}if(oe&64){Te.move(x,D,ee,Ne);return}if(Te===tt){i(ae,D,ee);for(let G=0;G<ye.length;G++)be(ye[G],D,ee,ce);i(x.anchor,D,ee);return}if(Te===Bo){C(x,D,ee);return}if(ce!==2&&oe&1&&ge)if(ce===0)ge.beforeEnter(ae),i(ae,D,ee),Vn(()=>ge.enter(ae),de);else{const{leave:G,delayLeave:K,afterLeave:we}=ge,Ve=()=>i(ae,D,ee),Qe=()=>{G(ae,()=>{Ve(),we&&we()})};K?K(ae,Ve,Qe):Qe()}else i(ae,D,ee)},R=(x,D,ee,ce=!1,de=!1)=>{const{type:ae,props:Te,ref:ge,children:ye,dynamicChildren:oe,shapeFlag:H,patchFlag:G,dirs:K}=x;if(ge!=null&&uf(ge,null,ee,x,!0),H&256){D.ctx.deactivate(x);return}const we=H&1&&K,Ve=!Lo(x);let Qe;if(Ve&&(Qe=Te&&Te.onVnodeBeforeUnmount)&&bi(Qe,D,x),H&6)he(x.component,ee,ce);else{if(H&128){x.suspense.unmount(ee,ce);return}we&&Ps(x,null,D,"beforeUnmount"),H&64?x.type.remove(x,D,ee,de,Ne,ce):oe&&(ae!==tt||G>0&&G&64)?xe(oe,D,ee,!1,!0):(ae===tt&&G&384||!de&&H&16)&&xe(ye,D,ee),ce&&N(x)}(Ve&&(Qe=Te&&Te.onVnodeUnmounted)||we)&&Vn(()=>{Qe&&bi(Qe,D,x),we&&Ps(x,null,D,"unmounted")},ee)},N=x=>{const{type:D,el:ee,anchor:ce,transition:de}=x;if(D===tt){me(ee,ce);return}if(D===Bo){_(x);return}const ae=()=>{s(ee),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(x.shapeFlag&1&&de&&!de.persisted){const{leave:Te,delayLeave:ge}=de,ye=()=>Te(ee,ae);ge?ge(x.el,ae,ye):ye()}else ae()},me=(x,D)=>{let ee;for(;x!==D;)ee=f(x),s(x),x=ee;s(D)},he=(x,D,ee)=>{const{bum:ce,scope:de,update:ae,subTree:Te,um:ge}=x;ce&&Xa(ce),de.stop(),ae&&(ae.active=!1,R(Te,x,D,ee)),ge&&Vn(ge,D),Vn(()=>{x.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},xe=(x,D,ee,ce=!1,de=!1,ae=0)=>{for(let Te=ae;Te<x.length;Te++)R(x[Te],D,ee,ce,de)},je=x=>x.shapeFlag&6?je(x.component.subTree):x.shapeFlag&128?x.suspense.next():f(x.anchor||x.el),Ie=(x,D,ee)=>{x==null?D._vnode&&R(D._vnode,null,null,!0):m(D._vnode||null,x,D,null,null,null,ee),Xy(),lf(),D._vnode=x},Ne={p:m,um:R,m:be,r:N,mt:F,mc:S,pc:J,pbc:I,n:je,o:n};let Be,it;return e&&([Be,it]=e(Ne)),{render:Ie,hydrate:Be,createApp:I4(Ie,Be)}}function bo({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function tb(n,e,t=!1){const i=n.children,s=e.children;if(Pe(i)&&Pe(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Vr(s[r]),a.el=o.el),t||tb(o,a)),a.type===js&&(a.el=o.el)}}function B4(n){const e=n.slice(),t=[0];let i,s,r,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(s=t[t.length-1],n[s]<c){e[i]=s,t.push(i);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,n[t[a]]<c?r=a+1:o=a;c<n[t[r]]&&(r>0&&(e[i]=t[r-1]),t[r]=i)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}const $4=n=>n.__isTeleport,kc=n=>n&&(n.disabled||n.disabled===""),uw=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Yp=(n,e)=>{const t=n&&n.to;return Tt(t)?e?e(t):null:t},V4={__isTeleport:!0,process(n,e,t,i,s,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:b}}=c,v=kc(e.props);let{shapeFlag:w,children:C,dynamicChildren:_}=e;if(n==null){const T=e.el=m(""),k=e.anchor=m("");h(T,t,i),h(k,t,i);const E=e.target=Yp(e.props,p),S=e.targetAnchor=m("");E&&(h(S,E),o=o||uw(E));const P=(I,W)=>{w&16&&u(C,I,W,s,r,o,a,l)};v?P(t,k):E&&P(E,S)}else{e.el=n.el;const T=e.anchor=n.anchor,k=e.target=n.target,E=e.targetAnchor=n.targetAnchor,S=kc(n.props),P=S?t:k,I=S?T:E;if(o=o||uw(k),_?(f(n.dynamicChildren,_,P,s,r,o,a),tb(n,e,!0)):l||d(n,e,P,I,s,r,o,a,!1),v)S||sd(e,t,T,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const W=e.target=Yp(e.props,p);W&&sd(e,W,null,c,0)}else S&&sd(e,k,E,c,1)}fE(e)},remove(n,e,t,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:f}=n;if(d&&r(u),(o||!kc(f))&&(r(c),a&16))for(let h=0;h<l.length;h++){const p=l[h];s(p,e,t,!0,!!p.dynamicChildren)}},move:sd,hydrate:U4};function sd(n,e,t,{o:{insert:i},m:s},r=2){r===0&&i(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=n,d=r===2;if(d&&i(o,e,t),(!d||kc(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,t,2);d&&i(a,e,t)}function U4(n,e,t,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=Yp(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(kc(e.props))e.anchor=c(o(n),e,a(n),t,i,s,r),e.targetAnchor=d;else{e.anchor=o(n);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(d,e,u,t,i,s,r)}fE(e)}return e.anchor&&o(e.anchor)}const dE=V4;function fE(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const tt=Symbol.for("v-fgt"),js=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),Bo=Symbol.for("v-stc"),Sc=[];let yi=null;function U(n=!1){Sc.push(yi=n?null:[])}function hE(){Sc.pop(),yi=Sc[Sc.length-1]||null}let Yo=1;function Jp(n){Yo+=n}function mE(n){return n.dynamicChildren=Yo>0?yi||Ya:null,hE(),Yo>0&&yi&&yi.push(n),n}function le(n,e,t,i,s,r){return mE(X(n,e,t,i,s,r,!0))}function Ue(n,e,t,i,s){return mE(pe(n,e,t,i,s,!0))}function eo(n){return n?n.__v_isVNode===!0:!1}function us(n,e){return n.type===e.type&&n.key===e.key}function z4(n){}const sh="__vInternal",pE=({key:n})=>n??null,Bd=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Tt(n)||$t(n)||We(n)?{i:Dn,r:n,k:e,f:!!t}:n:null);function X(n,e=null,t=null,i=0,s=null,r=n===tt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&pE(e),ref:e&&Bd(e),scopeId:eh,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Dn};return a?(nb(l,t),r&128&&n.normalize(l)):t&&(l.shapeFlag|=Tt(t)?8:16),Yo>0&&!o&&yi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&yi.push(l),l}const pe=H4;function H4(n,e=null,t=null,i=0,s=null,r=!1){if((!n||n===YS)&&(n=Hn),eo(n)){const a=hs(n,e,!0);return t&&nb(a,t),Yo>0&&!r&&yi&&(a.shapeFlag&6?yi[yi.indexOf(n)]=a:yi.push(a)),a.patchFlag|=-2,a}if(J4(n)&&(n=n.__vccOpts),e){e=gE(e);let{class:a,style:l}=e;a&&!Tt(a)&&(e.class=Y(a)),pt(l)&&($v(l)&&!Pe(l)&&(l=qt({},l)),e.style=mn(l))}const o=Tt(n)?1:LS(n)?128:$4(n)?64:pt(n)?4:We(n)?2:0;return X(n,e,t,i,s,o,r,!0)}function gE(n){return n?$v(n)||sh in n?qt({},n):n:null}function hs(n,e,t=!1){const{props:i,ref:s,patchFlag:r,children:o}=n,a=e?Yi(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&pE(a),ref:e&&e.ref?t&&s?Pe(s)?s.concat(Bd(e)):[s,Bd(e)]:Bd(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==tt?r===-1?16:r|16:r,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&hs(n.ssContent),ssFallback:n.ssFallback&&hs(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function cn(n=" ",e=0){return pe(js,null,n,e)}function W4(n,e){const t=pe(Bo,null,n);return t.staticCount=e,t}function Me(n="",e=!1){return e?(U(),Ue(Hn,null,n)):pe(Hn,null,n)}function Ri(n){return n==null||typeof n=="boolean"?pe(Hn):Pe(n)?pe(tt,null,n.slice()):typeof n=="object"?Vr(n):pe(js,null,String(n))}function Vr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:hs(n)}function nb(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Pe(e))t=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),nb(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!(sh in e)?e._ctx=Dn:s===3&&Dn&&(Dn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else We(e)?(e={default:e,_ctx:Dn},t=32):(e=String(e),i&64?(t=16,e=[cn(e)]):t=8);n.children=e,n.shapeFlag|=t}function Yi(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Y([e.class,i.class]));else if(s==="style")e.style=mn([e.style,i.style]);else if(vu(s)){const r=e[s],o=i[s];o&&r!==o&&!(Pe(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function bi(n,e,t,i=null){Bi(n,e,7,[t,i])}const j4=nE();let q4=0;function vE(n,e,t){const i=n.type,s=(e?e.appContext:n.appContext)||j4,r={uid:q4++,vnode:n,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Dv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sE(i,s),emitsOptions:DS(i,s),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:i.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=zR.bind(null,r),n.ce&&n.ce(r),r}let vn=null;const Lt=()=>vn||Dn;let ib,Ta,dw="__VUE_INSTANCE_SETTERS__";(Ta=Vp()[dw])||(Ta=Vp()[dw]=[]),Ta.push(n=>vn=n),ib=n=>{Ta.length>1?Ta.forEach(e=>e(n)):Ta[0](n)};const to=n=>{ib(n),n.scope.on()},Qr=()=>{vn&&vn.scope.off(),ib(null)};function bE(n){return n.vnode.shapeFlag&4}let ol=!1;function yE(n,e=!1){ol=e;const{props:t,children:i}=n.vnode,s=bE(n);R4(n,t,s,e),F4(n,i);const r=s?K4(n,e):void 0;return ol=!1,r}function K4(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Uc(new Proxy(n.ctx,qp));const{setup:i}=t;if(i){const s=n.setupContext=i.length>1?_E(n):null;to(n),Dl();const r=hr(i,n,0,[n.props,s]);if(Fl(),Qr(),Rv(r)){if(r.then(Qr,Qr),e)return r.then(o=>{Xp(n,o,e)}).catch(o=>{aa(o,n,0)});n.asyncDep=r}else Xp(n,r,e)}else wE(n,e)}function Xp(n,e,t){We(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:pt(e)&&(n.setupState=zv(e)),wE(n,t)}let df,Zp;function G4(n){df=n,Zp=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,d4))}}const Q4=()=>!df;function wE(n,e,t){const i=n.type;if(!n.render){if(!e&&df&&!i.render){const s=i.template||Zv(n).template;if(s){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=qt(qt({isCustomElement:r,delimiters:a},o),l);i.render=df(s,c)}}n.render=i.render||ni,Zp&&Zp(n)}to(n),Dl(),S4(n),Fl(),Qr()}function Y4(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return Ei(n,"get","$attrs"),e[t]}}))}function _E(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return Y4(n)},slots:n.slots,emit:n.emit,expose:e}}function rh(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(zv(Uc(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Cc)return Cc[t](n)},has(e,t){return t in e||t in Cc}}))}function eg(n,e=!0){return We(n)?n.displayName||n.name:n.name||e&&n.__name}function J4(n){return We(n)&&"__vccOpts"in n}const z=(n,e)=>NR(n,e,ol);function Je(n,e,t){const i=arguments.length;return i===2?pt(e)&&!Pe(e)?eo(e)?pe(n,null,[e]):pe(n,e):pe(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&eo(t)&&(t=[t]),pe(n,e,t))}const CE=Symbol.for("v-scx"),kE=()=>ot(CE);function X4(){}function Z4(n,e,t,i){const s=t[i];if(s&&SE(s,n))return s;const r=e();return r.memo=n.slice(),t[i]=r}function SE(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(sl(t[i],e[i]))return!1;return Yo>0&&yi&&yi.push(n),!0}const EE="3.3.4",eM={createComponentInstance:vE,setupComponent:yE,renderComponentRoot:Ld,setCurrentRenderingInstance:jc,isVNode:eo,normalizeVNode:Ri},tM=eM,nM=null,iM=null,sM="http://www.w3.org/2000/svg",xo=typeof document<"u"?document:null,fw=xo&&xo.createElement("template"),rM={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const s=e?xo.createElementNS(sM,n):xo.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>xo.createTextNode(n),createComment:n=>xo.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>xo.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{fw.innerHTML=i?`<svg>${n}</svg>`:n;const a=fw.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function oM(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function aM(n,e,t){const i=n.style,s=Tt(t);if(t&&!s){if(e&&!Tt(e))for(const r in e)t[r]==null&&tg(i,r,"");for(const r in t)tg(i,r,t[r])}else{const r=i.display;s?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=r)}}const hw=/\s*!important$/;function tg(n,e,t){if(Pe(t))t.forEach(i=>tg(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=lM(n,e);hw.test(t)?n.setProperty(Qi(i),t.replace(hw,""),"important"):n[i]=t}}const mw=["Webkit","Moz","ms"],Dm={};function lM(n,e){const t=Dm[e];if(t)return t;let i=wi(e);if(i!=="filter"&&i in n)return Dm[e]=i;i=bu(i);for(let s=0;s<mw.length;s++){const r=mw[s]+i;if(r in n)return Dm[e]=r}return e}const pw="http://www.w3.org/1999/xlink";function cM(n,e,t,i,s){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(pw,e.slice(6,e.length)):n.setAttributeNS(pw,e,t);else{const r=QO(e);t==null||r&&!uS(t)?n.removeAttribute(e):n.setAttribute(e,r?"":t)}}function uM(n,e,t,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),n[e]=t??"";return}const a=n.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){n._value=t;const c=a==="OPTION"?n.getAttribute("value"):n.value,u=t??"";c!==u&&(n.value=u),t==null&&n.removeAttribute(e);return}let l=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=uS(t):t==null&&c==="string"?(t="",l=!0):c==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function fr(n,e,t,i){n.addEventListener(e,t,i)}function dM(n,e,t,i){n.removeEventListener(e,t,i)}function fM(n,e,t,i,s=null){const r=n._vei||(n._vei={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=hM(e);if(i){const c=r[e]=gM(i,s);fr(n,a,c,l)}else o&&(dM(n,a,o,l),r[e]=void 0)}}const gw=/(?:Once|Passive|Capture)$/;function hM(n){let e;if(gw.test(n)){e={};let i;for(;i=n.match(gw);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Qi(n.slice(2)),e]}let Fm=0;const mM=Promise.resolve(),pM=()=>Fm||(mM.then(()=>Fm=0),Fm=Date.now());function gM(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Bi(vM(i,t.value),e,5,[i])};return t.value=n,t.attached=pM(),t}function vM(n,e){if(Pe(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const vw=/^on[a-z]/,bM=(n,e,t,i,s=!1,r,o,a,l)=>{e==="class"?oM(n,i,s):e==="style"?aM(n,t,i):vu(e)?Iv(e)||fM(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yM(n,e,i,s))?uM(n,e,i,r,o,a,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),cM(n,e,i,s))};function yM(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&vw.test(e)&&We(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||vw.test(e)&&Tt(t)?!1:e in n}function TE(n,e){const t=Re(n);class i extends oh{constructor(r){super(t,r,e)}}return i.def=t,i}const wM=n=>TE(n,UE),_M=typeof HTMLElement<"u"?HTMLElement:class{};class oh extends _M{constructor(e,t={},i){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,lt(()=>{this._connected||(sg(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const e=(i,s=!1)=>{const{props:r,styles:o}=i;let a;if(r&&!Pe(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=of(this._props[l])),(a||(a=Object.create(null)))[wi(l)]=!0)}this._numberProps=a,s&&this._resolveProps(i),this._applyStyles(o),this._update()},t=this._def.__asyncLoader;t?t().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:t}=e,i=Pe(t)?t:Object.keys(t||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(wi))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(r){this._setProp(s,r)}})}_setAttr(e){let t=this.getAttribute(e);const i=wi(e);this._numberProps&&this._numberProps[i]&&(t=of(t)),this._setProp(i,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,i=!0,s=!0){t!==this._props[e]&&(this._props[e]=t,s&&this._instance&&this._update(),i&&(t===!0?this.setAttribute(Qi(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Qi(e),t+""):t||this.removeAttribute(Qi(e))))}_update(){sg(this._createVNode(),this.shadowRoot)}_createVNode(){const e=pe(this._def,qt({},this._props));return this._instance||(e.ce=t=>{this._instance=t,t.isCE=!0;const i=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};t.emit=(r,...o)=>{i(r,o),Qi(r)!==r&&i(Qi(r),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof oh){t.parent=s._instance,t.provides=s._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(t=>{const i=document.createElement("style");i.textContent=t,this.shadowRoot.appendChild(i)})}}function CM(n="$style"){{const e=Lt();if(!e)return Ft;const t=e.type.__cssModules;if(!t)return Ft;const i=t[n];return i||Ft}}function kM(n){const e=Lt();if(!e)return;const t=e.ut=(s=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>ig(r,s))},i=()=>{const s=n(e.proxy);ng(e.subTree,s),t(s)};$S(i),dn(()=>{const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),Nl(()=>s.disconnect())})}function ng(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{ng(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)ig(n.el,e);else if(n.type===tt)n.children.forEach(t=>ng(t,e));else if(n.type===Bo){let{el:t,anchor:i}=n;for(;t&&(ig(t,e),t!==i);)t=t.nextSibling}}function ig(n,e){if(n.nodeType===1){const t=n.style;for(const i in e)t.setProperty(`--${i}`,e[i])}}const Or="transition",tc="animation",ms=(n,{slots:e})=>Je(US,xE(n),e);ms.displayName="Transition";const AE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},SM=ms.props=qt({},Gv,AE),yo=(n,e=[])=>{Pe(n)?n.forEach(t=>t(...e)):n&&n(...e)},bw=n=>n?Pe(n)?n.some(e=>e.length>1):n.length>1:!1;function xE(n){const e={};for(const j in n)j in AE||(e[j]=n[j]);if(n.css===!1)return e;const{name:t="v",type:i,duration:s,enterFromClass:r=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,p=EM(s),m=p&&p[0],b=p&&p[1],{onBeforeEnter:v,onEnter:w,onEnterCancelled:C,onLeave:_,onLeaveCancelled:T,onBeforeAppear:k=v,onAppear:E=w,onAppearCancelled:S=C}=e,P=(j,B,F)=>{Fr(j,B?u:a),Fr(j,B?c:o),F&&F()},I=(j,B)=>{j._isLeaving=!1,Fr(j,d),Fr(j,h),Fr(j,f),B&&B()},W=j=>(B,F)=>{const Z=j?E:w,te=()=>P(B,j,F);yo(Z,[B,te]),yw(()=>{Fr(B,j?l:r),rr(B,j?u:a),bw(Z)||ww(B,i,m,te)})};return qt(e,{onBeforeEnter(j){yo(v,[j]),rr(j,r),rr(j,o)},onBeforeAppear(j){yo(k,[j]),rr(j,l),rr(j,c)},onEnter:W(!1),onAppear:W(!0),onLeave(j,B){j._isLeaving=!0;const F=()=>I(j,B);rr(j,d),IE(),rr(j,f),yw(()=>{j._isLeaving&&(Fr(j,d),rr(j,h),bw(_)||ww(j,i,b,F))}),yo(_,[j,F])},onEnterCancelled(j){P(j,!1),yo(C,[j])},onAppearCancelled(j){P(j,!0),yo(S,[j])},onLeaveCancelled(j){I(j),yo(T,[j])}})}function EM(n){if(n==null)return null;if(pt(n))return[Nm(n.enter),Nm(n.leave)];{const e=Nm(n);return[e,e]}}function Nm(n){return of(n)}function rr(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function Fr(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function yw(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let TM=0;function ww(n,e,t,i){const s=n._endId=++TM,r=()=>{s===n._endId&&i()};if(t)return setTimeout(r,t);const{type:o,timeout:a,propCount:l}=PE(n,e);if(!o)return i();const c=o+"end";let u=0;const d=()=>{n.removeEventListener(c,f),r()},f=h=>{h.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),n.addEventListener(c,f)}function PE(n,e){const t=window.getComputedStyle(n),i=p=>(t[p]||"").split(", "),s=i(`${Or}Delay`),r=i(`${Or}Duration`),o=_w(s,r),a=i(`${tc}Delay`),l=i(`${tc}Duration`),c=_w(a,l);let u=null,d=0,f=0;e===Or?o>0&&(u=Or,d=o,f=r.length):e===tc?c>0&&(u=tc,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Or:tc:null,f=u?u===Or?r.length:l.length:0);const h=u===Or&&/\b(transform|all)(,|$)/.test(i(`${Or}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function _w(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>Cw(t)+Cw(n[i])))}function Cw(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function IE(){return document.body.offsetHeight}const OE=new WeakMap,RE=new WeakMap,ME={name:"TransitionGroup",props:qt({},SM,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=Lt(),i=Kv();let s,r;return ku(()=>{if(!s.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!RM(s[0].el,t.vnode.el,o))return;s.forEach(PM),s.forEach(IM);const a=s.filter(OM);IE(),a.forEach(l=>{const c=l.el,u=c.style;rr(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,Fr(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=ut(n),a=xE(o);let l=o.tag||tt;s=r,r=e.default?th(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Qo(u,rl(u,a,i,t))}if(s)for(let c=0;c<s.length;c++){const u=s[c];Qo(u,rl(u,a,i,t)),OE.set(u,u.el.getBoundingClientRect())}return pe(l,null,r)}}},AM=n=>delete n.mode;ME.props;const xM=ME;function PM(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function IM(n){RE.set(n,n.el.getBoundingClientRect())}function OM(n){const e=OE.get(n),t=RE.get(n),i=e.left-t.left,s=e.top-t.top;if(i||s){const r=n.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",n}}function RM(n,e,t){const i=n.cloneNode();n._vtc&&n._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),t.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:r}=PE(i);return s.removeChild(i),r}const no=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Pe(e)?t=>Xa(e,t):e};function MM(n){n.target.composing=!0}function kw(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qc={created(n,{modifiers:{lazy:e,trim:t,number:i}},s){n._assign=no(s);const r=i||s.props&&s.props.type==="number";fr(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),r&&(a=rf(a)),n._assign(a)}),t&&fr(n,"change",()=>{n.value=n.value.trim()}),e||(fr(n,"compositionstart",MM),fr(n,"compositionend",kw),fr(n,"change",kw))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:s}},r){if(n._assign=no(r),n.composing||document.activeElement===n&&n.type!=="range"&&(t||i&&n.value.trim()===e||(s||n.type==="number")&&rf(n.value)===e))return;const o=e??"";n.value!==o&&(n.value=o)}},Jo={deep:!0,created(n,e,t){n._assign=no(t),fr(n,"change",()=>{const i=n._modelValue,s=al(n),r=n.checked,o=n._assign;if(Pe(i)){const a=qf(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(ra(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(FE(n,r))})},mounted:Sw,beforeUpdate(n,e,t){n._assign=no(t),Sw(n,e,t)}};function Sw(n,{value:e,oldValue:t},i){n._modelValue=e,Pe(e)?n.checked=qf(e,i.props.value)>-1:ra(e)?n.checked=e.has(i.props.value):e!==t&&(n.checked=Xr(e,FE(n,!0)))}const sb={created(n,{value:e},t){n.checked=Xr(e,t.props.value),n._assign=no(t),fr(n,"change",()=>{n._assign(al(n))})},beforeUpdate(n,{value:e,oldValue:t},i){n._assign=no(i),e!==t&&(n.checked=Xr(e,i.props.value))}},DE={deep:!0,created(n,{value:e,modifiers:{number:t}},i){const s=ra(e);fr(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?rf(al(o)):al(o));n._assign(n.multiple?s?new Set(r):r:r[0])}),n._assign=no(i)},mounted(n,{value:e}){Ew(n,e)},beforeUpdate(n,e,t){n._assign=no(t)},updated(n,{value:e}){Ew(n,e)}};function Ew(n,e){const t=n.multiple;if(!(t&&!Pe(e)&&!ra(e))){for(let i=0,s=n.options.length;i<s;i++){const r=n.options[i],o=al(r);if(t)Pe(e)?r.selected=qf(e,o)>-1:r.selected=e.has(o);else if(Xr(al(r),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function al(n){return"_value"in n?n._value:n.value}function FE(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const NE={created(n,e,t){rd(n,e,t,null,"created")},mounted(n,e,t){rd(n,e,t,null,"mounted")},beforeUpdate(n,e,t,i){rd(n,e,t,i,"beforeUpdate")},updated(n,e,t,i){rd(n,e,t,i,"updated")}};function LE(n,e){switch(n){case"SELECT":return DE;case"TEXTAREA":return Qc;default:switch(e){case"checkbox":return Jo;case"radio":return sb;default:return Qc}}}function rd(n,e,t,i,s){const o=LE(n.tagName,t.props&&t.props.type)[s];o&&o(n,e,t,i)}function DM(){Qc.getSSRProps=({value:n})=>({value:n}),sb.getSSRProps=({value:n},e)=>{if(e.props&&Xr(e.props.value,n))return{checked:!0}},Jo.getSSRProps=({value:n},e)=>{if(Pe(n)){if(e.props&&qf(n,e.props.value)>-1)return{checked:!0}}else if(ra(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},NE.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const t=LE(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}const FM=["ctrl","shift","alt","meta"],NM={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>FM.some(t=>n[`${t}Key`]&&!e.includes(t))},on=(n,e)=>(t,...i)=>{for(let s=0;s<e.length;s++){const r=NM[e[s]];if(r&&r(t,e))return}return n(t,...i)},LM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pn=(n,e)=>t=>{if(!("key"in t))return;const i=Qi(t.key);if(e.some(s=>s===i||LM[s]===i))return n(t)},ui={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):nc(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),nc(n,!0),i.enter(n)):i.leave(n,()=>{nc(n,!1)}):nc(n,e))},beforeUnmount(n,{value:e}){nc(n,e)}};function nc(n,e){n.style.display=e?n._vod:"none"}function BM(){ui.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const BE=qt({patchProp:bM},rM);let Ec,Tw=!1;function $E(){return Ec||(Ec=lE(BE))}function VE(){return Ec=Tw?Ec:cE(BE),Tw=!0,Ec}const sg=(...n)=>{$E().render(...n)},UE=(...n)=>{VE().hydrate(...n)},zE=(...n)=>{const e=$E().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=WE(i);if(!s)return;const r=e._component;!We(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=t(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},HE=(...n)=>{const e=VE().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=WE(i);if(s)return t(s,!0,s instanceof SVGElement)},e};function WE(n){return Tt(n)?document.querySelector(n):n}let Aw=!1;const $M=()=>{Aw||(Aw=!0,DM(),BM())},VM=()=>{},UM=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:US,BaseTransitionPropsValidators:Gv,Comment:Hn,EffectScope:Dv,Fragment:tt,KeepAlive:a4,ReactiveEffect:yu,Static:Bo,Suspense:QR,Teleport:dE,Text:js,Transition:ms,TransitionGroup:xM,VueElement:oh,assertNumber:LR,callWithAsyncErrorHandling:Bi,callWithErrorHandling:hr,camelize:wi,capitalize:bu,cloneVNode:hs,compatUtils:iM,compile:VM,computed:z,createApp:zE,createBlock:Ue,createCommentVNode:Me,createElementBlock:le,createElementVNode:X,createHydrationRenderer:cE,createPropsRestProxy:C4,createRenderer:lE,createSSRApp:HE,createSlots:XS,createStaticVNode:W4,createTextVNode:cn,createVNode:pe,customRef:RR,defineAsyncComponent:r4,defineComponent:Re,defineCustomElement:TE,defineEmits:h4,defineExpose:m4,defineModel:v4,defineOptions:p4,defineProps:f4,defineSSRCustomElement:wM,defineSlots:g4,get devtools(){return La},effect:ZO,effectScope:fS,getCurrentInstance:Lt,getCurrentScope:Fv,getTransitionRawChildren:th,guardReactiveProps:gE,h:Je,handleError:aa,hasInjectionContext:O4,hydrate:UE,initCustomFormatter:X4,initDirectivesForSSR:$M,inject:ot,isMemoSame:SE,isProxy:$v,isReactive:No,isReadonly:Go,isRef:$t,isRuntimeOnly:Q4,isShallow:Vc,isVNode:eo,markRaw:Uc,mergeDefaults:w4,mergeModels:_4,mergeProps:Yi,nextTick:lt,normalizeClass:Y,normalizeProps:KO,normalizeStyle:mn,onActivated:HS,onBeforeMount:Yv,onBeforeUnmount:Ti,onBeforeUpdate:jS,onDeactivated:Qv,onErrorCaptured:QS,onMounted:dn,onRenderTracked:GS,onRenderTriggered:KS,onScopeDispose:Nv,onServerPrefetch:qS,onUnmounted:Nl,onUpdated:ku,openBlock:U,popScopeId:NS,provide:kn,proxyRefs:zv,pushScopeId:FS,queuePostFlushCb:Wv,reactive:Wi,readonly:wu,ref:se,registerRuntimeCompiler:G4,render:sg,renderList:ln,renderSlot:dt,resolveComponent:xs,resolveDirective:JS,resolveDynamicComponent:Fn,resolveFilter:nM,resolveTransitionHooks:rl,setBlockTracking:Jp,setDevtoolsHook:MS,setTransitionHooks:Qo,shallowReactive:TS,shallowReadonly:AR,shallowRef:Gr,ssrContextKey:CE,ssrUtils:tM,stop:eR,toDisplayString:Oe,toHandlerKey:_c,toHandlers:u4,toRaw:ut,toRef:Mn,toRefs:oa,toValue:PR,transformVNodeArgs:z4,triggerRef:Na,unref:g,useAttrs:ih,useCssModule:CM,useCssVars:kM,useModel:y4,useSSRContext:kE,useSlots:la,useTransitionState:Kv,vModelCheckbox:Jo,vModelDynamic:NE,vModelRadio:sb,vModelSelect:DE,vModelText:Qc,vShow:ui,version:EE,warn:PS,watch:$e,watchEffect:t4,watchPostEffect:$S,watchSyncEffect:n4,withAsyncContext:k4,withCtx:Ae,withDefaults:b4,withDirectives:Wt,withKeys:Pn,withMemo:Z4,withModifiers:on,withScopeId:HR},Symbol.toStringTag,{value:"Module"}));var xw;const fi=typeof window<"u",zM=n=>typeof n=="string",jE=()=>{},qE=fi&&((xw=window==null?void 0:window.navigator)==null?void 0:xw.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function KE(n){return typeof n=="function"?n():g(n)}function HM(n){return n}function rb(n){return Fv()?(Nv(n),!0):!1}function WM(n,e=!0){Lt()?dn(n):e?n():lt(n)}function Wr(n){var e;const t=KE(n);return(e=t==null?void 0:t.$el)!=null?e:t}const ob=fi?window:void 0;function tl(...n){let e,t,i,s;if(zM(n[0])||Array.isArray(n[0])?([t,i,s]=n,e=ob):[e,t,i,s]=n,!e)return jE;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=$e(()=>[Wr(e),KE(s)],([u,d])=>{o(),u&&r.push(...t.flatMap(f=>i.map(h=>a(u,f,h,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return rb(c),c}let Pw=!1;function GE(n,e,t={}){const{window:i=ob,ignore:s=[],capture:r=!0,detectIframe:o=!1}=t;if(!i)return;qE&&!Pw&&(Pw=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",jE)));let a=!0;const l=f=>s.some(h=>{if(typeof h=="string")return Array.from(i.document.querySelectorAll(h)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Wr(h);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[tl(i,"click",f=>{const h=Wr(n);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:r}),tl(i,"pointerdown",f=>{const h=Wr(n);h&&(a=!f.composedPath().includes(h)&&!l(f))},{passive:!0}),o&&tl(i,"blur",f=>{var h;const p=Wr(n);((h=i.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function jM(n,e=!1){const t=se(),i=()=>t.value=!!n();return i(),WM(i,e),t}const Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ow="__vueuse_ssr_handlers__";Iw[Ow]=Iw[Ow]||{};var Rw=Object.getOwnPropertySymbols,qM=Object.prototype.hasOwnProperty,KM=Object.prototype.propertyIsEnumerable,GM=(n,e)=>{var t={};for(var i in n)qM.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Rw)for(var i of Rw(n))e.indexOf(i)<0&&KM.call(n,i)&&(t[i]=n[i]);return t};function ah(n,e,t={}){const i=t,{window:s=ob}=i,r=GM(i,["window"]);let o;const a=jM(()=>s&&"ResizeObserver"in s),l=()=>{o&&(o.disconnect(),o=void 0)},c=$e(()=>Wr(n),d=>{l(),a.value&&s&&d&&(o=new ResizeObserver(e),o.observe(d,r))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return rb(u),{isSupported:a,stop:u}}var Mw;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Mw||(Mw={}));var QM=Object.defineProperty,Dw=Object.getOwnPropertySymbols,YM=Object.prototype.hasOwnProperty,JM=Object.prototype.propertyIsEnumerable,Fw=(n,e,t)=>e in n?QM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,XM=(n,e)=>{for(var t in e||(e={}))YM.call(e,t)&&Fw(n,t,e[t]);if(Dw)for(var t of Dw(e))JM.call(e,t)&&Fw(n,t,e[t]);return n};const ZM={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};XM({linear:HM},ZM);const eD=()=>fi&&/firefox/i.test(window.navigator.userAgent);var tD=typeof global=="object"&&global&&global.Object===Object&&global;const QE=tD;var nD=typeof self=="object"&&self&&self.Object===Object&&self,iD=QE||nD||Function("return this")();const vs=iD;var sD=vs.Symbol;const es=sD;var YE=Object.prototype,rD=YE.hasOwnProperty,oD=YE.toString,ic=es?es.toStringTag:void 0;function aD(n){var e=rD.call(n,ic),t=n[ic];try{n[ic]=void 0;var i=!0}catch{}var s=oD.call(n);return i&&(e?n[ic]=t:delete n[ic]),s}var lD=Object.prototype,cD=lD.toString;function uD(n){return cD.call(n)}var dD="[object Null]",fD="[object Undefined]",Nw=es?es.toStringTag:void 0;function oo(n){return n==null?n===void 0?fD:dD:Nw&&Nw in Object(n)?aD(n):uD(n)}function ts(n){return n!=null&&typeof n=="object"}var hD="[object Symbol]";function lh(n){return typeof n=="symbol"||ts(n)&&oo(n)==hD}function mD(n,e){for(var t=-1,i=n==null?0:n.length,s=Array(i);++t<i;)s[t]=e(n[t],t,n);return s}var pD=Array.isArray;const zn=pD;var gD=1/0,Lw=es?es.prototype:void 0,Bw=Lw?Lw.toString:void 0;function JE(n){if(typeof n=="string")return n;if(zn(n))return mD(n,JE)+"";if(lh(n))return Bw?Bw.call(n):"";var e=n+"";return e=="0"&&1/n==-gD?"-0":e}var vD=/\s/;function bD(n){for(var e=n.length;e--&&vD.test(n.charAt(e)););return e}var yD=/^\s+/;function wD(n){return n&&n.slice(0,bD(n)+1).replace(yD,"")}function Xt(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var $w=0/0,_D=/^[-+]0x[0-9a-f]+$/i,CD=/^0b[01]+$/i,kD=/^0o[0-7]+$/i,SD=parseInt;function Vw(n){if(typeof n=="number")return n;if(lh(n))return $w;if(Xt(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Xt(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=wD(n);var t=CD.test(n);return t||kD.test(n)?SD(n.slice(2),t?2:8):_D.test(n)?$w:+n}function Po(n){return n}var ED="[object AsyncFunction]",TD="[object Function]",AD="[object GeneratorFunction]",xD="[object Proxy]";function Xo(n){if(!Xt(n))return!1;var e=oo(n);return e==TD||e==AD||e==ED||e==xD}var PD=vs["__core-js_shared__"];const Lm=PD;var Uw=function(){var n=/[^.]+$/.exec(Lm&&Lm.keys&&Lm.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function ID(n){return!!Uw&&Uw in n}var OD=Function.prototype,RD=OD.toString;function ca(n){if(n!=null){try{return RD.call(n)}catch{}try{return n+""}catch{}}return""}var MD=/[\\^$.*+?()[\]{}|]/g,DD=/^\[object .+?Constructor\]$/,FD=Function.prototype,ND=Object.prototype,LD=FD.toString,BD=ND.hasOwnProperty,$D=RegExp("^"+LD.call(BD).replace(MD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VD(n){if(!Xt(n)||ID(n))return!1;var e=Xo(n)?$D:DD;return e.test(ca(n))}function UD(n,e){return n==null?void 0:n[e]}function ua(n,e){var t=UD(n,e);return VD(t)?t:void 0}var zD=ua(vs,"WeakMap");const rg=zD;var zw=Object.create,HD=function(){function n(){}return function(e){if(!Xt(e))return{};if(zw)return zw(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const WD=HD;function jD(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function XE(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var qD=800,KD=16,GD=Date.now;function QD(n){var e=0,t=0;return function(){var i=GD(),s=KD-(i-t);if(t=i,s>0){if(++e>=qD)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function YD(n){return function(){return n}}var JD=function(){try{var n=ua(Object,"defineProperty");return n({},"",{}),n}catch{}}();const ff=JD;var XD=ff?function(n,e){return ff(n,"toString",{configurable:!0,enumerable:!1,value:YD(e),writable:!0})}:Po;const ZD=XD;var e5=QD(ZD);const ZE=e5;function t5(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var n5=9007199254740991,i5=/^(?:0|[1-9]\d*)$/;function ch(n,e){var t=typeof n;return e=e??n5,!!e&&(t=="number"||t!="symbol"&&i5.test(n))&&n>-1&&n%1==0&&n<e}function ab(n,e,t){e=="__proto__"&&ff?ff(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Su(n,e){return n===e||n!==n&&e!==e}var s5=Object.prototype,r5=s5.hasOwnProperty;function lb(n,e,t){var i=n[e];(!(r5.call(n,e)&&Su(i,t))||t===void 0&&!(e in n))&&ab(n,e,t)}function Ll(n,e,t,i){var s=!t;t||(t={});for(var r=-1,o=e.length;++r<o;){var a=e[r],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),s?ab(t,a,l):lb(t,a,l)}return t}var Hw=Math.max;function eT(n,e,t){return e=Hw(e===void 0?n.length-1:e,0),function(){for(var i=arguments,s=-1,r=Hw(i.length-e,0),o=Array(r);++s<r;)o[s]=i[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=i[s];return a[e]=t(o),jD(n,this,a)}}function o5(n,e){return ZE(eT(n,e,Po),n+"")}var a5=9007199254740991;function cb(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=a5}function uh(n){return n!=null&&cb(n.length)&&!Xo(n)}function l5(n,e,t){if(!Xt(t))return!1;var i=typeof e;return(i=="number"?uh(t)&&ch(e,t.length):i=="string"&&e in t)?Su(t[e],n):!1}function tT(n){return o5(function(e,t){var i=-1,s=t.length,r=s>1?t[s-1]:void 0,o=s>2?t[2]:void 0;for(r=n.length>3&&typeof r=="function"?(s--,r):void 0,o&&l5(t[0],t[1],o)&&(r=s<3?void 0:r,s=1),e=Object(e);++i<s;){var a=t[i];a&&n(e,a,i,r)}return e})}var c5=Object.prototype;function ub(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||c5;return n===t}function u5(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var d5="[object Arguments]";function Ww(n){return ts(n)&&oo(n)==d5}var nT=Object.prototype,f5=nT.hasOwnProperty,h5=nT.propertyIsEnumerable,m5=Ww(function(){return arguments}())?Ww:function(n){return ts(n)&&f5.call(n,"callee")&&!h5.call(n,"callee")};const Yc=m5;function p5(){return!1}var iT=typeof Ni=="object"&&Ni&&!Ni.nodeType&&Ni,jw=iT&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,g5=jw&&jw.exports===iT,qw=g5?vs.Buffer:void 0,v5=qw?qw.isBuffer:void 0,b5=v5||p5;const Jc=b5;var y5="[object Arguments]",w5="[object Array]",_5="[object Boolean]",C5="[object Date]",k5="[object Error]",S5="[object Function]",E5="[object Map]",T5="[object Number]",A5="[object Object]",x5="[object RegExp]",P5="[object Set]",I5="[object String]",O5="[object WeakMap]",R5="[object ArrayBuffer]",M5="[object DataView]",D5="[object Float32Array]",F5="[object Float64Array]",N5="[object Int8Array]",L5="[object Int16Array]",B5="[object Int32Array]",$5="[object Uint8Array]",V5="[object Uint8ClampedArray]",U5="[object Uint16Array]",z5="[object Uint32Array]",Kt={};Kt[D5]=Kt[F5]=Kt[N5]=Kt[L5]=Kt[B5]=Kt[$5]=Kt[V5]=Kt[U5]=Kt[z5]=!0;Kt[y5]=Kt[w5]=Kt[R5]=Kt[_5]=Kt[M5]=Kt[C5]=Kt[k5]=Kt[S5]=Kt[E5]=Kt[T5]=Kt[A5]=Kt[x5]=Kt[P5]=Kt[I5]=Kt[O5]=!1;function H5(n){return ts(n)&&cb(n.length)&&!!Kt[oo(n)]}function db(n){return function(e){return n(e)}}var sT=typeof Ni=="object"&&Ni&&!Ni.nodeType&&Ni,Tc=sT&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,W5=Tc&&Tc.exports===sT,Bm=W5&&QE.process,j5=function(){try{var n=Tc&&Tc.require&&Tc.require("util").types;return n||Bm&&Bm.binding&&Bm.binding("util")}catch{}}();const ll=j5;var Kw=ll&&ll.isTypedArray,q5=Kw?db(Kw):H5;const fb=q5;var K5=Object.prototype,G5=K5.hasOwnProperty;function rT(n,e){var t=zn(n),i=!t&&Yc(n),s=!t&&!i&&Jc(n),r=!t&&!i&&!s&&fb(n),o=t||i||s||r,a=o?u5(n.length,String):[],l=a.length;for(var c in n)(e||G5.call(n,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ch(c,l)))&&a.push(c);return a}function oT(n,e){return function(t){return n(e(t))}}var Q5=oT(Object.keys,Object);const Y5=Q5;var J5=Object.prototype,X5=J5.hasOwnProperty;function Z5(n){if(!ub(n))return Y5(n);var e=[];for(var t in Object(n))X5.call(n,t)&&t!="constructor"&&e.push(t);return e}function hb(n){return uh(n)?rT(n):Z5(n)}function e3(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var t3=Object.prototype,n3=t3.hasOwnProperty;function i3(n){if(!Xt(n))return e3(n);var e=ub(n),t=[];for(var i in n)i=="constructor"&&(e||!n3.call(n,i))||t.push(i);return t}function Bl(n){return uh(n)?rT(n,!0):i3(n)}var s3=tT(function(n,e){Ll(e,Bl(e),n)});const aT=s3;var r3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o3=/^\w*$/;function a3(n,e){if(zn(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||lh(n)?!0:o3.test(n)||!r3.test(n)||e!=null&&n in Object(e)}var l3=ua(Object,"create");const Xc=l3;function c3(){this.__data__=Xc?Xc(null):{},this.size=0}function u3(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var d3="__lodash_hash_undefined__",f3=Object.prototype,h3=f3.hasOwnProperty;function m3(n){var e=this.__data__;if(Xc){var t=e[n];return t===d3?void 0:t}return h3.call(e,n)?e[n]:void 0}var p3=Object.prototype,g3=p3.hasOwnProperty;function v3(n){var e=this.__data__;return Xc?e[n]!==void 0:g3.call(e,n)}var b3="__lodash_hash_undefined__";function y3(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Xc&&e===void 0?b3:e,this}function Zo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Zo.prototype.clear=c3;Zo.prototype.delete=u3;Zo.prototype.get=m3;Zo.prototype.has=v3;Zo.prototype.set=y3;function w3(){this.__data__=[],this.size=0}function dh(n,e){for(var t=n.length;t--;)if(Su(n[t][0],e))return t;return-1}var _3=Array.prototype,C3=_3.splice;function k3(n){var e=this.__data__,t=dh(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():C3.call(e,t,1),--this.size,!0}function S3(n){var e=this.__data__,t=dh(e,n);return t<0?void 0:e[t][1]}function E3(n){return dh(this.__data__,n)>-1}function T3(n,e){var t=this.__data__,i=dh(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Sr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Sr.prototype.clear=w3;Sr.prototype.delete=k3;Sr.prototype.get=S3;Sr.prototype.has=E3;Sr.prototype.set=T3;var A3=ua(vs,"Map");const Zc=A3;function x3(){this.size=0,this.__data__={hash:new Zo,map:new(Zc||Sr),string:new Zo}}function P3(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function fh(n,e){var t=n.__data__;return P3(e)?t[typeof e=="string"?"string":"hash"]:t.map}function I3(n){var e=fh(this,n).delete(n);return this.size-=e?1:0,e}function O3(n){return fh(this,n).get(n)}function R3(n){return fh(this,n).has(n)}function M3(n,e){var t=fh(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Er(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Er.prototype.clear=x3;Er.prototype.delete=I3;Er.prototype.get=O3;Er.prototype.has=R3;Er.prototype.set=M3;var D3="Expected a function";function mb(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(D3);var t=function(){var i=arguments,s=e?e.apply(this,i):i[0],r=t.cache;if(r.has(s))return r.get(s);var o=n.apply(this,i);return t.cache=r.set(s,o)||r,o};return t.cache=new(mb.Cache||Er),t}mb.Cache=Er;var F3=500;function N3(n){var e=mb(n,function(i){return t.size===F3&&t.clear(),i}),t=e.cache;return e}var L3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B3=/\\(\\)?/g,$3=N3(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(L3,function(t,i,s,r){e.push(s?r.replace(B3,"$1"):i||t)}),e});const V3=$3;function lT(n){return n==null?"":JE(n)}function Eu(n,e){return zn(n)?n:a3(n,e)?[n]:V3(lT(n))}var U3=1/0;function hh(n){if(typeof n=="string"||lh(n))return n;var e=n+"";return e=="0"&&1/n==-U3?"-0":e}function pb(n,e){e=Eu(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[hh(e[t++])];return t&&t==i?n:void 0}function Xn(n,e,t){var i=n==null?void 0:pb(n,e);return i===void 0?t:i}function gb(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n}var Gw=es?es.isConcatSpreadable:void 0;function z3(n){return zn(n)||Yc(n)||!!(Gw&&n&&n[Gw])}function cT(n,e,t,i,s){var r=-1,o=n.length;for(t||(t=z3),s||(s=[]);++r<o;){var a=n[r];e>0&&t(a)?e>1?cT(a,e-1,t,i,s):gb(s,a):i||(s[s.length]=a)}return s}function uT(n){var e=n==null?0:n.length;return e?cT(n,1):[]}function H3(n){return ZE(eT(n,void 0,uT),n+"")}var W3=oT(Object.getPrototypeOf,Object);const vb=W3;var j3="[object Object]",q3=Function.prototype,K3=Object.prototype,dT=q3.toString,G3=K3.hasOwnProperty,Q3=dT.call(Object);function Di(n){if(!ts(n)||oo(n)!=j3)return!1;var e=vb(n);if(e===null)return!0;var t=G3.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&dT.call(t)==Q3}function fT(n,e,t){var i=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var r=Array(s);++i<s;)r[i]=n[i+e];return r}function Y3(n,e,t){var i=n.length;return t=t===void 0?i:t,!e&&t>=i?n:fT(n,e,t)}var J3="\\ud800-\\udfff",X3="\\u0300-\\u036f",Z3="\\ufe20-\\ufe2f",eF="\\u20d0-\\u20ff",tF=X3+Z3+eF,nF="\\ufe0e\\ufe0f",iF="\\u200d",sF=RegExp("["+iF+J3+tF+nF+"]");function hT(n){return sF.test(n)}function rF(n){return n.split("")}var mT="\\ud800-\\udfff",oF="\\u0300-\\u036f",aF="\\ufe20-\\ufe2f",lF="\\u20d0-\\u20ff",cF=oF+aF+lF,uF="\\ufe0e\\ufe0f",dF="["+mT+"]",og="["+cF+"]",ag="\\ud83c[\\udffb-\\udfff]",fF="(?:"+og+"|"+ag+")",pT="[^"+mT+"]",gT="(?:\\ud83c[\\udde6-\\uddff]){2}",vT="[\\ud800-\\udbff][\\udc00-\\udfff]",hF="\\u200d",bT=fF+"?",yT="["+uF+"]?",mF="(?:"+hF+"(?:"+[pT,gT,vT].join("|")+")"+yT+bT+")*",pF=yT+bT+mF,gF="(?:"+[pT+og+"?",og,gT,vT,dF].join("|")+")",vF=RegExp(ag+"(?="+ag+")|"+gF+pF,"g");function bF(n){return n.match(vF)||[]}function yF(n){return hT(n)?bF(n):rF(n)}function wF(n){return function(e){e=lT(e);var t=hT(e)?yF(e):void 0,i=t?t[0]:e.charAt(0),s=t?Y3(t,1).join(""):e.slice(1);return i[n]()+s}}var _F=wF("toUpperCase");const CF=_F;function kF(){this.__data__=new Sr,this.size=0}function SF(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function EF(n){return this.__data__.get(n)}function TF(n){return this.__data__.has(n)}var AF=200;function xF(n,e){var t=this.__data__;if(t instanceof Sr){var i=t.__data__;if(!Zc||i.length<AF-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Er(i)}return t.set(n,e),this.size=t.size,this}function Vs(n){var e=this.__data__=new Sr(n);this.size=e.size}Vs.prototype.clear=kF;Vs.prototype.delete=SF;Vs.prototype.get=EF;Vs.prototype.has=TF;Vs.prototype.set=xF;function PF(n,e){return n&&Ll(e,hb(e),n)}function IF(n,e){return n&&Ll(e,Bl(e),n)}var wT=typeof Ni=="object"&&Ni&&!Ni.nodeType&&Ni,Qw=wT&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,OF=Qw&&Qw.exports===wT,Yw=OF?vs.Buffer:void 0,Jw=Yw?Yw.allocUnsafe:void 0;function _T(n,e){if(e)return n.slice();var t=n.length,i=Jw?Jw(t):new n.constructor(t);return n.copy(i),i}function RF(n,e){for(var t=-1,i=n==null?0:n.length,s=0,r=[];++t<i;){var o=n[t];e(o,t,n)&&(r[s++]=o)}return r}function CT(){return[]}var MF=Object.prototype,DF=MF.propertyIsEnumerable,Xw=Object.getOwnPropertySymbols,FF=Xw?function(n){return n==null?[]:(n=Object(n),RF(Xw(n),function(e){return DF.call(n,e)}))}:CT;const bb=FF;function NF(n,e){return Ll(n,bb(n),e)}var LF=Object.getOwnPropertySymbols,BF=LF?function(n){for(var e=[];n;)gb(e,bb(n)),n=vb(n);return e}:CT;const kT=BF;function $F(n,e){return Ll(n,kT(n),e)}function ST(n,e,t){var i=e(n);return zn(n)?i:gb(i,t(n))}function lg(n){return ST(n,hb,bb)}function VF(n){return ST(n,Bl,kT)}var UF=ua(vs,"DataView");const cg=UF;var zF=ua(vs,"Promise");const ug=zF;var HF=ua(vs,"Set");const dg=HF;var Zw="[object Map]",WF="[object Object]",e0="[object Promise]",t0="[object Set]",n0="[object WeakMap]",i0="[object DataView]",jF=ca(cg),qF=ca(Zc),KF=ca(ug),GF=ca(dg),QF=ca(rg),To=oo;(cg&&To(new cg(new ArrayBuffer(1)))!=i0||Zc&&To(new Zc)!=Zw||ug&&To(ug.resolve())!=e0||dg&&To(new dg)!=t0||rg&&To(new rg)!=n0)&&(To=function(n){var e=oo(n),t=e==WF?n.constructor:void 0,i=t?ca(t):"";if(i)switch(i){case jF:return i0;case qF:return Zw;case KF:return e0;case GF:return t0;case QF:return n0}return e});const eu=To;var YF=Object.prototype,JF=YF.hasOwnProperty;function XF(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&JF.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var ZF=vs.Uint8Array;const hf=ZF;function yb(n){var e=new n.constructor(n.byteLength);return new hf(e).set(new hf(n)),e}function eN(n,e){var t=e?yb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var tN=/\w*$/;function nN(n){var e=new n.constructor(n.source,tN.exec(n));return e.lastIndex=n.lastIndex,e}var s0=es?es.prototype:void 0,r0=s0?s0.valueOf:void 0;function iN(n){return r0?Object(r0.call(n)):{}}function ET(n,e){var t=e?yb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var sN="[object Boolean]",rN="[object Date]",oN="[object Map]",aN="[object Number]",lN="[object RegExp]",cN="[object Set]",uN="[object String]",dN="[object Symbol]",fN="[object ArrayBuffer]",hN="[object DataView]",mN="[object Float32Array]",pN="[object Float64Array]",gN="[object Int8Array]",vN="[object Int16Array]",bN="[object Int32Array]",yN="[object Uint8Array]",wN="[object Uint8ClampedArray]",_N="[object Uint16Array]",CN="[object Uint32Array]";function kN(n,e,t){var i=n.constructor;switch(e){case fN:return yb(n);case sN:case rN:return new i(+n);case hN:return eN(n,t);case mN:case pN:case gN:case vN:case bN:case yN:case wN:case _N:case CN:return ET(n,t);case oN:return new i;case aN:case uN:return new i(n);case lN:return nN(n);case cN:return new i;case dN:return iN(n)}}function TT(n){return typeof n.constructor=="function"&&!ub(n)?WD(vb(n)):{}}var SN="[object Map]";function EN(n){return ts(n)&&eu(n)==SN}var o0=ll&&ll.isMap,TN=o0?db(o0):EN;const AN=TN;var xN="[object Set]";function PN(n){return ts(n)&&eu(n)==xN}var a0=ll&&ll.isSet,IN=a0?db(a0):PN;const ON=IN;var RN=1,MN=2,DN=4,AT="[object Arguments]",FN="[object Array]",NN="[object Boolean]",LN="[object Date]",BN="[object Error]",xT="[object Function]",$N="[object GeneratorFunction]",VN="[object Map]",UN="[object Number]",PT="[object Object]",zN="[object RegExp]",HN="[object Set]",WN="[object String]",jN="[object Symbol]",qN="[object WeakMap]",KN="[object ArrayBuffer]",GN="[object DataView]",QN="[object Float32Array]",YN="[object Float64Array]",JN="[object Int8Array]",XN="[object Int16Array]",ZN="[object Int32Array]",eL="[object Uint8Array]",tL="[object Uint8ClampedArray]",nL="[object Uint16Array]",iL="[object Uint32Array]",zt={};zt[AT]=zt[FN]=zt[KN]=zt[GN]=zt[NN]=zt[LN]=zt[QN]=zt[YN]=zt[JN]=zt[XN]=zt[ZN]=zt[VN]=zt[UN]=zt[PT]=zt[zN]=zt[HN]=zt[WN]=zt[jN]=zt[eL]=zt[tL]=zt[nL]=zt[iL]=!0;zt[BN]=zt[xT]=zt[qN]=!1;function nl(n,e,t,i,s,r){var o,a=e&RN,l=e&MN,c=e&DN;if(t&&(o=s?t(n,i,s,r):t(n)),o!==void 0)return o;if(!Xt(n))return n;var u=zn(n);if(u){if(o=XF(n),!a)return XE(n,o)}else{var d=eu(n),f=d==xT||d==$N;if(Jc(n))return _T(n,a);if(d==PT||d==AT||f&&!s){if(o=l||f?{}:TT(n),!a)return l?$F(n,IF(o,n)):NF(n,PF(o,n))}else{if(!zt[d])return s?n:{};o=kN(n,d,a)}}r||(r=new Vs);var h=r.get(n);if(h)return h;r.set(n,o),ON(n)?n.forEach(function(b){o.add(nl(b,e,t,b,n,r))}):AN(n)&&n.forEach(function(b,v){o.set(v,nl(b,e,t,v,n,r))});var p=c?l?VF:lg:l?Bl:hb,m=u?void 0:p(n);return t5(m||n,function(b,v){m&&(v=b,b=n[v]),lb(o,v,nl(b,e,t,v,n,r))}),o}var sL=4;function IT(n){return nl(n,sL)}var rL=1,oL=4;function da(n){return nl(n,rL|oL)}var aL=1,lL=4;function wb(n,e){return e=typeof e=="function"?e:void 0,nl(n,aL|lL,e)}var cL="__lodash_hash_undefined__";function uL(n){return this.__data__.set(n,cL),this}function dL(n){return this.__data__.has(n)}function mf(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Er;++e<t;)this.add(n[e])}mf.prototype.add=mf.prototype.push=uL;mf.prototype.has=dL;function fL(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function hL(n,e){return n.has(e)}var mL=1,pL=2;function OT(n,e,t,i,s,r){var o=t&mL,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(n),u=r.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&pL?new mf:void 0;for(r.set(n,e),r.set(e,n);++d<a;){var p=n[d],m=e[d];if(i)var b=o?i(m,p,d,e,n,r):i(p,m,d,n,e,r);if(b!==void 0){if(b)continue;f=!1;break}if(h){if(!fL(e,function(v,w){if(!hL(h,w)&&(p===v||s(p,v,t,i,r)))return h.push(w)})){f=!1;break}}else if(!(p===m||s(p,m,t,i,r))){f=!1;break}}return r.delete(n),r.delete(e),f}function gL(n){var e=-1,t=Array(n.size);return n.forEach(function(i,s){t[++e]=[s,i]}),t}function vL(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var bL=1,yL=2,wL="[object Boolean]",_L="[object Date]",CL="[object Error]",kL="[object Map]",SL="[object Number]",EL="[object RegExp]",TL="[object Set]",AL="[object String]",xL="[object Symbol]",PL="[object ArrayBuffer]",IL="[object DataView]",l0=es?es.prototype:void 0,$m=l0?l0.valueOf:void 0;function OL(n,e,t,i,s,r,o){switch(t){case IL:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case PL:return!(n.byteLength!=e.byteLength||!r(new hf(n),new hf(e)));case wL:case _L:case SL:return Su(+n,+e);case CL:return n.name==e.name&&n.message==e.message;case EL:case AL:return n==e+"";case kL:var a=gL;case TL:var l=i&bL;if(a||(a=vL),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;i|=yL,o.set(n,e);var u=OT(a(n),a(e),i,s,r,o);return o.delete(n),u;case xL:if($m)return $m.call(n)==$m.call(e)}return!1}var RL=1,ML=Object.prototype,DL=ML.hasOwnProperty;function FL(n,e,t,i,s,r){var o=t&RL,a=lg(n),l=a.length,c=lg(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:DL.call(e,f)))return!1}var h=r.get(n),p=r.get(e);if(h&&p)return h==e&&p==n;var m=!0;r.set(n,e),r.set(e,n);for(var b=o;++d<l;){f=a[d];var v=n[f],w=e[f];if(i)var C=o?i(w,v,f,e,n,r):i(v,w,f,n,e,r);if(!(C===void 0?v===w||s(v,w,t,i,r):C)){m=!1;break}b||(b=f=="constructor")}if(m&&!b){var _=n.constructor,T=e.constructor;_!=T&&"constructor"in n&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof T=="function"&&T instanceof T)&&(m=!1)}return r.delete(n),r.delete(e),m}var NL=1,c0="[object Arguments]",u0="[object Array]",od="[object Object]",LL=Object.prototype,d0=LL.hasOwnProperty;function BL(n,e,t,i,s,r){var o=zn(n),a=zn(e),l=o?u0:eu(n),c=a?u0:eu(e);l=l==c0?od:l,c=c==c0?od:c;var u=l==od,d=c==od,f=l==c;if(f&&Jc(n)){if(!Jc(e))return!1;o=!0,u=!1}if(f&&!u)return r||(r=new Vs),o||fb(n)?OT(n,e,t,i,s,r):OL(n,e,l,t,i,s,r);if(!(t&NL)){var h=u&&d0.call(n,"__wrapped__"),p=d&&d0.call(e,"__wrapped__");if(h||p){var m=h?n.value():n,b=p?e.value():e;return r||(r=new Vs),s(m,b,t,i,r)}}return f?(r||(r=new Vs),FL(n,e,t,i,s,r)):!1}function _b(n,e,t,i,s){return n===e?!0:n==null||e==null||!ts(n)&&!ts(e)?n!==n&&e!==e:BL(n,e,t,i,_b,s)}function $L(n,e){return n!=null&&e in Object(n)}function VL(n,e,t){e=Eu(e,n);for(var i=-1,s=e.length,r=!1;++i<s;){var o=hh(e[i]);if(!(r=n!=null&&t(n,o)))break;n=n[o]}return r||++i!=s?r:(s=n==null?0:n.length,!!s&&cb(s)&&ch(o,s)&&(zn(n)||Yc(n)))}function UL(n,e){return n!=null&&VL(n,e,$L)}function zL(n){return function(e,t,i){for(var s=-1,r=Object(e),o=i(e),a=o.length;a--;){var l=o[n?a:++s];if(t(r[l],l,r)===!1)break}return e}}var HL=zL();const WL=HL;var jL=function(){return vs.Date.now()};const Vm=jL;var qL="Expected a function",KL=Math.max,GL=Math.min;function io(n,e,t){var i,s,r,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(qL);e=Vw(e)||0,Xt(t)&&(u=!!t.leading,d="maxWait"in t,r=d?KL(Vw(t.maxWait)||0,e):r,f="trailing"in t?!!t.trailing:f);function h(k){var E=i,S=s;return i=s=void 0,c=k,o=n.apply(S,E),o}function p(k){return c=k,a=setTimeout(v,e),u?h(k):o}function m(k){var E=k-l,S=k-c,P=e-E;return d?GL(P,r-S):P}function b(k){var E=k-l,S=k-c;return l===void 0||E>=e||E<0||d&&S>=r}function v(){var k=Vm();if(b(k))return w(k);a=setTimeout(v,m(k))}function w(k){return a=void 0,f&&i?h(k):(i=s=void 0,o)}function C(){a!==void 0&&clearTimeout(a),c=0,i=l=s=a=void 0}function _(){return a===void 0?o:w(Vm())}function T(){var k=Vm(),E=b(k);if(i=arguments,s=this,l=k,E){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),o}return T.cancel=C,T.flush=_,T}function fg(n,e,t){(t!==void 0&&!Su(n[e],t)||t===void 0&&!(e in n))&&ab(n,e,t)}function QL(n){return ts(n)&&uh(n)}function hg(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function YL(n){return Ll(n,Bl(n))}function JL(n,e,t,i,s,r,o){var a=hg(n,t),l=hg(e,t),c=o.get(l);if(c){fg(n,t,c);return}var u=r?r(a,l,t+"",n,e,o):void 0,d=u===void 0;if(d){var f=zn(l),h=!f&&Jc(l),p=!f&&!h&&fb(l);u=l,f||h||p?zn(a)?u=a:QL(a)?u=XE(a):h?(d=!1,u=_T(l,!0)):p?(d=!1,u=ET(l,!0)):u=[]:Di(l)||Yc(l)?(u=a,Yc(a)?u=YL(a):(!Xt(a)||Xo(a))&&(u=TT(l))):d=!1}d&&(o.set(l,u),s(u,l,i,r,o),o.delete(l)),fg(n,t,u)}function RT(n,e,t,i,s){n!==e&&WL(e,function(r,o){if(s||(s=new Vs),Xt(r))JL(n,e,o,t,RT,i,s);else{var a=i?i(hg(n,o),r,o+"",n,e,s):void 0;a===void 0&&(a=r),fg(n,o,a)}},Bl)}function XL(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function pf(n){for(var e=-1,t=n==null?0:n.length,i={};++e<t;){var s=n[e];i[s[0]]=s[1]}return i}var ZL="[object String]";function f0(n){return typeof n=="string"||!zn(n)&&ts(n)&&oo(n)==ZL}function eB(n,e){return e.length<2?n:pb(n,fT(e,0,-1))}function $l(n){return ts(n)&&n.nodeType===1&&!Di(n)}function cl(n,e){return _b(n,e)}function tB(n,e,t){t=typeof t=="function"?t:void 0;var i=t?t(n,e):void 0;return i===void 0?_b(n,e,void 0,t):!!i}function mh(n){return n==null}function nB(n){return n===void 0}var iB=tT(function(n,e,t){RT(n,e,t)});const MT=iB;function sB(n,e){return e=Eu(e,n),n=eB(n,e),n==null||delete n[hh(XL(e))]}function DT(n,e,t,i){if(!Xt(n))return n;e=Eu(e,n);for(var s=-1,r=e.length,o=r-1,a=n;a!=null&&++s<r;){var l=hh(e[s]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=o){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=Xt(u)?u:ch(e[s+1])?[]:{})}lb(a,l,c),a=a[l]}return n}function rB(n,e,t){for(var i=-1,s=e.length,r={};++i<s;){var o=e[i],a=pb(n,o);t(a,o)&&DT(r,Eu(o,n),a)}return r}function oB(n,e){return rB(n,e,function(t,i){return UL(n,i)})}var aB=H3(function(n,e){return n==null?{}:oB(n,e)});const lB=aB;function cB(n,e,t){return n==null?n:DT(n,e,t)}var uB="Expected a function";function FT(n,e,t){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(uB);return Xt(t)&&(i="leading"in t?!!t.leading:i,s="trailing"in t?!!t.trailing:s),io(n,e,{leading:i,maxWait:e,trailing:s})}function dB(n,e){return n==null?!0:sB(n,e)}const tu=n=>n===void 0,nu=n=>typeof n=="boolean",Fi=n=>typeof n=="number",NT=n=>!n&&n!==0||Pe(n)&&n.length===0||pt(n)&&!Object.keys(n).length,iu=n=>typeof Element>"u"?!1:n instanceof Element,fB=n=>Tt(n)?!Number.isNaN(Number(n)):!1,hB=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),h0=n=>Object.keys(n);class mB extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function pB(n,e){throw new mB(`[${n}] ${e}`)}const LT=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)};function mg(n,e="px"){if(!n)return"";if(Fi(n)||fB(n))return`${n}${e}`;if(Tt(n))return n}function gB(n,e){if(!fi)return;if(!e){n.scrollTop=0;return}const t=[];let i=e.offsetParent;for(;i!==null&&n!==i&&n.contains(i);)t.push(i),i=i.offsetParent;const s=e.offsetTop+t.reduce((l,c)=>l+c.offsetTop,0),r=s+e.offsetHeight,o=n.scrollTop,a=o+n.clientHeight;s<o?n.scrollTop=s:r>a&&(n.scrollTop=r-n.clientHeight)}/*! Element Plus Icons Vue v2.1.0 */var Ai=(n,e)=>{let t=n.__vccOpts||n;for(let[i,s]of e)t[i]=s;return t},vB={name:"ArrowDown"},bB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yB=X("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),wB=[yB];function _B(n,e,t,i,s,r){return U(),le("svg",bB,wB)}var BT=Ai(vB,[["render",_B],["__file","arrow-down.vue"]]),CB={name:"ArrowLeft"},kB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},SB=X("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),EB=[SB];function TB(n,e,t,i,s,r){return U(),le("svg",kB,EB)}var pg=Ai(CB,[["render",TB],["__file","arrow-left.vue"]]),AB={name:"ArrowRight"},xB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},PB=X("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),IB=[PB];function OB(n,e,t,i,s,r){return U(),le("svg",xB,IB)}var $d=Ai(AB,[["render",OB],["__file","arrow-right.vue"]]),RB={name:"ArrowUp"},MB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DB=X("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),FB=[DB];function NB(n,e,t,i,s,r){return U(),le("svg",MB,FB)}var LB=Ai(RB,[["render",NB],["__file","arrow-up.vue"]]),BB={name:"Calendar"},$B={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},VB=X("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),UB=[VB];function zB(n,e,t,i,s,r){return U(),le("svg",$B,UB)}var HB=Ai(BB,[["render",zB],["__file","calendar.vue"]]),WB={name:"CircleCheck"},jB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qB=X("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),KB=X("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),GB=[qB,KB];function QB(n,e,t,i,s,r){return U(),le("svg",jB,GB)}var YB=Ai(WB,[["render",QB],["__file","circle-check.vue"]]),JB={name:"CircleClose"},XB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZB=X("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),e$=X("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),t$=[ZB,e$];function n$(n,e,t,i,s,r){return U(),le("svg",XB,t$)}var ph=Ai(JB,[["render",n$],["__file","circle-close.vue"]]),i$={name:"Clock"},s$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},r$=X("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),o$=X("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),a$=X("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),l$=[r$,o$,a$];function c$(n,e,t,i,s,r){return U(),le("svg",s$,l$)}var u$=Ai(i$,[["render",c$],["__file","clock.vue"]]),d$={name:"Close"},f$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},h$=X("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),m$=[h$];function p$(n,e,t,i,s,r){return U(),le("svg",f$,m$)}var m0=Ai(d$,[["render",p$],["__file","close.vue"]]),g$={name:"DArrowLeft"},v$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},b$=X("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),y$=[b$];function w$(n,e,t,i,s,r){return U(),le("svg",v$,y$)}var su=Ai(g$,[["render",w$],["__file","d-arrow-left.vue"]]),_$={name:"DArrowRight"},C$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},k$=X("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),S$=[k$];function E$(n,e,t,i,s,r){return U(),le("svg",C$,S$)}var ru=Ai(_$,[["render",E$],["__file","d-arrow-right.vue"]]),T$={name:"Hide"},A$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},x$=X("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),P$=X("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),I$=[x$,P$];function O$(n,e,t,i,s,r){return U(),le("svg",A$,I$)}var R$=Ai(T$,[["render",O$],["__file","hide.vue"]]),M$={name:"Loading"},D$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},F$=X("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),N$=[F$];function L$(n,e,t,i,s,r){return U(),le("svg",D$,N$)}var $T=Ai(M$,[["render",L$],["__file","loading.vue"]]),B$={name:"View"},$$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},V$=X("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),U$=[V$];function z$(n,e,t,i,s,r){return U(),le("svg",$$,U$)}var H$=Ai(B$,[["render",z$],["__file","view.vue"]]);const VT="__epPropKey",qe=n=>n,W$=n=>pt(n)&&!!n[VT],gh=(n,e)=>{if(!pt(n)||W$(n))return n;const{values:t,required:i,default:s,type:r,validator:o}=n,l={type:r,required:!!i,validator:t||o?c=>{let u=!1,d=[];if(t&&(d=Array.from(t),wt(n,"default")&&d.push(s),u||(u=d.includes(c))),o&&(u||(u=o(c))),!u&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");PS(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[VT]:!0};return wt(n,"default")&&(l.default=s),l},vt=n=>pf(Object.entries(n).map(([e,t])=>[e,gh(t,e)])),ea=qe([String,Object,Function]),j$={validating:$T,success:YB,error:ph},bs=(n,e)=>{if(n.install=t=>{for(const i of[n,...Object.values(e??{})])t.component(i.name,i)},e)for(const[t,i]of Object.entries(e))n[t]=i;return n},Vl=n=>(n.install=ni,n),Ht={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},q$=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],di="update:modelValue",UT="change",Cb=["","default","small","large"],K$={large:40,default:32,small:24},G$=n=>K$[n||"default"],Q$=n=>["",...Cb].includes(n),$o=n=>!n&&n!==0?[]:Array.isArray(n)?n:[n],zT=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n),Y$=n=>n,J$=["class","style"],X$=/^on[A-Z]/,Z$=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t}=n,i=z(()=>((t==null?void 0:t.value)||[]).concat(J$)),s=Lt();return z(s?()=>{var r;return pf(Object.entries((r=s.proxy)==null?void 0:r.$attrs).filter(([o])=>!i.value.includes(o)&&!(e&&X$.test(o))))}:()=>({}))},HT=({from:n,replacement:e,scope:t,version:i,ref:s,type:r="API"},o)=>{$e(()=>g(o),a=>{},{immediate:!0})},eV=n=>({focus:()=>{var e,t;(t=(e=n.value)==null?void 0:e.focus)==null||t.call(e)}});var tV={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const nV=n=>(e,t)=>iV(e,t,g(n)),iV=(n,e,t)=>Xn(t,n,n).replace(/\{(\w+)\}/g,(i,s)=>{var r;return`${(r=e==null?void 0:e[s])!=null?r:`{${s}}`}`}),sV=n=>{const e=z(()=>g(n).name),t=$t(n)?n:se(n);return{lang:e,locale:t,t:nV(n)}},WT=Symbol("localeContextKey"),ji=n=>{const e=n||ot(WT,se());return sV(z(()=>e.value||tV))},p0="el",rV="is-",wo=(n,e,t,i,s)=>{let r=`${n}-${e}`;return t&&(r+=`-${t}`),i&&(r+=`__${i}`),s&&(r+=`--${s}`),r},jT=Symbol("namespaceContextKey"),kb=n=>{const e=n||ot(jT,se(p0));return z(()=>g(e)||p0)},mt=(n,e)=>{const t=kb(e);return{namespace:t,b:(m="")=>wo(t.value,n,m,"",""),e:m=>m?wo(t.value,n,"",m,""):"",m:m=>m?wo(t.value,n,"","",m):"",be:(m,b)=>m&&b?wo(t.value,n,m,b,""):"",em:(m,b)=>m&&b?wo(t.value,n,"",m,b):"",bm:(m,b)=>m&&b?wo(t.value,n,m,"",b):"",bem:(m,b,v)=>m&&b&&v?wo(t.value,n,m,b,v):"",is:(m,...b)=>{const v=b.length>=1?b[0]:!0;return m&&v?`${rV}${m}`:""},cssVar:m=>{const b={};for(const v in m)m[v]&&(b[`--${t.value}-${v}`]=m[v]);return b},cssVarName:m=>`--${t.value}-${m}`,cssVarBlock:m=>{const b={};for(const v in m)m[v]&&(b[`--${t.value}-${n}-${v}`]=m[v]);return b},cssVarBlockName:m=>`--${t.value}-${n}-${m}`}},oV=gh({type:qe(Boolean),default:null}),aV=gh({type:qe(Function)}),qT=n=>{const e=`update:${n}`,t=`onUpdate:${n}`,i=[e],s={[n]:oV,[t]:aV};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=Lt(),{emit:h}=f,p=f.props,m=z(()=>We(p[t])),b=z(()=>p[n]===null),v=E=>{o.value!==!0&&(o.value=!0,a&&(a.value=E),We(u)&&u(E))},w=E=>{o.value!==!1&&(o.value=!1,a&&(a.value=E),We(d)&&d(E))},C=E=>{if(p.disabled===!0||We(c)&&!c())return;const S=m.value&&fi;S&&h(e,!0),(b.value||!S)&&v(E)},_=E=>{if(p.disabled===!0||!fi)return;const S=m.value&&fi;S&&h(e,!1),(b.value||!S)&&w(E)},T=E=>{nu(E)&&(p.disabled&&E?m.value&&h(e,!1):o.value!==E&&(E?v():w()))},k=()=>{o.value?_():C()};return $e(()=>p[n],T),l&&f.appContext.config.globalProperties.$route!==void 0&&$e(()=>({...f.proxy.$route}),()=>{l.value&&o.value&&_()}),dn(()=>{T(p[n])}),{hide:_,show:C,toggle:k,hasUpdateHandler:m}},useModelToggleProps:s,useModelToggleEmits:i}};qT("modelValue");const KT=n=>{const e=Lt();return z(()=>{var t,i;return(i=(t=e==null?void 0:e.proxy)==null?void 0:t.$props)==null?void 0:i[n]})};var _i="top",ns="bottom",is="right",Ci="left",Sb="auto",Tu=[_i,ns,is,Ci],ul="start",ou="end",lV="clippingParents",GT="viewport",sc="popper",cV="reference",g0=Tu.reduce(function(n,e){return n.concat([e+"-"+ul,e+"-"+ou])},[]),vh=[].concat(Tu,[Sb]).reduce(function(n,e){return n.concat([e,e+"-"+ul,e+"-"+ou])},[]),uV="beforeRead",dV="read",fV="afterRead",hV="beforeMain",mV="main",pV="afterMain",gV="beforeWrite",vV="write",bV="afterWrite",yV=[uV,dV,fV,hV,mV,pV,gV,vV,bV];function qs(n){return n?(n.nodeName||"").toLowerCase():null}function Vi(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ta(n){var e=Vi(n).Element;return n instanceof e||n instanceof Element}function Ji(n){var e=Vi(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Eb(n){if(typeof ShadowRoot>"u")return!1;var e=Vi(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function wV(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},r=e.elements[t];!Ji(r)||!qs(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function _V(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ji(s)||!qs(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}const CV={name:"applyStyles",enabled:!0,phase:"write",fn:wV,effect:_V,requires:["computeStyles"]};function Us(n){return n.split("-")[0]}var Vo=Math.max,gf=Math.min,dl=Math.round;function gg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function QT(){return!/^((?!chrome|android).)*safari/i.test(gg())}function fl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),s=1,r=1;e&&Ji(n)&&(s=n.offsetWidth>0&&dl(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&dl(i.height)/n.offsetHeight||1);var o=ta(n)?Vi(n):window,a=o.visualViewport,l=!QT()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/s,u=(i.top+(l&&a?a.offsetTop:0))/r,d=i.width/s,f=i.height/r;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function Tb(n){var e=fl(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function YT(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Eb(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function vr(n){return Vi(n).getComputedStyle(n)}function kV(n){return["table","td","th"].indexOf(qs(n))>=0}function ao(n){return((ta(n)?n.ownerDocument:n.document)||window.document).documentElement}function bh(n){return qs(n)==="html"?n:n.assignedSlot||n.parentNode||(Eb(n)?n.host:null)||ao(n)}function v0(n){return!Ji(n)||vr(n).position==="fixed"?null:n.offsetParent}function SV(n){var e=/firefox/i.test(gg()),t=/Trident/i.test(gg());if(t&&Ji(n)){var i=vr(n);if(i.position==="fixed")return null}var s=bh(n);for(Eb(s)&&(s=s.host);Ji(s)&&["html","body"].indexOf(qs(s))<0;){var r=vr(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Au(n){for(var e=Vi(n),t=v0(n);t&&kV(t)&&vr(t).position==="static";)t=v0(t);return t&&(qs(t)==="html"||qs(t)==="body"&&vr(t).position==="static")?e:t||SV(n)||e}function Ab(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ac(n,e,t){return Vo(n,gf(e,t))}function EV(n,e,t){var i=Ac(n,e,t);return i>t?t:i}function JT(){return{top:0,right:0,bottom:0,left:0}}function XT(n){return Object.assign({},JT(),n)}function ZT(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var TV=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,XT(typeof e!="number"?e:ZT(e,Tu))};function AV(n){var e,t=n.state,i=n.name,s=n.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Us(t.placement),l=Ab(a),c=[Ci,is].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var d=TV(s.padding,t),f=Tb(r),h=l==="y"?_i:Ci,p=l==="y"?ns:is,m=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],b=o[l]-t.rects.reference[l],v=Au(r),w=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,C=m/2-b/2,_=d[h],T=w-f[u]-d[p],k=w/2-f[u]/2+C,E=Ac(_,k,T),S=l;t.modifiersData[i]=(e={},e[S]=E,e.centerOffset=E-k,e)}}function xV(n){var e=n.state,t=n.options,i=t.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||YT(e.elements.popper,s)&&(e.elements.arrow=s))}const PV={name:"arrow",enabled:!0,phase:"main",fn:AV,effect:xV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hl(n){return n.split("-")[1]}var IV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function OV(n,e){var t=n.x,i=n.y,s=e.devicePixelRatio||1;return{x:dl(t*s)/s||0,y:dl(i*s)/s||0}}function b0(n){var e,t=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,f=o.x,h=f===void 0?0:f,p=o.y,m=p===void 0?0:p,b=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=b.x,m=b.y;var v=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),C=Ci,_=_i,T=window;if(c){var k=Au(t),E="clientHeight",S="clientWidth";if(k===Vi(t)&&(k=ao(t),vr(k).position!=="static"&&a==="absolute"&&(E="scrollHeight",S="scrollWidth")),k=k,s===_i||(s===Ci||s===is)&&r===ou){_=ns;var P=d&&k===T&&T.visualViewport?T.visualViewport.height:k[E];m-=P-i.height,m*=l?1:-1}if(s===Ci||(s===_i||s===ns)&&r===ou){C=is;var I=d&&k===T&&T.visualViewport?T.visualViewport.width:k[S];h-=I-i.width,h*=l?1:-1}}var W=Object.assign({position:a},c&&IV),j=u===!0?OV({x:h,y:m},Vi(t)):{x:h,y:m};if(h=j.x,m=j.y,l){var B;return Object.assign({},W,(B={},B[_]=w?"0":"",B[C]=v?"0":"",B.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",B))}return Object.assign({},W,(e={},e[_]=w?m+"px":"",e[C]=v?h+"px":"",e.transform="",e))}function RV(n){var e=n.state,t=n.options,i=t.gpuAcceleration,s=i===void 0?!0:i,r=t.adaptive,o=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:Us(e.placement),variation:hl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,b0(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,b0(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const MV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:RV,data:{}};var ad={passive:!0};function DV(n){var e=n.state,t=n.instance,i=n.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Vi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",t.update,ad)}),a&&l.addEventListener("resize",t.update,ad),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",t.update,ad)}),a&&l.removeEventListener("resize",t.update,ad)}}const FV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:DV,data:{}};var NV={left:"right",right:"left",bottom:"top",top:"bottom"};function Vd(n){return n.replace(/left|right|bottom|top/g,function(e){return NV[e]})}var LV={start:"end",end:"start"};function y0(n){return n.replace(/start|end/g,function(e){return LV[e]})}function xb(n){var e=Vi(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Pb(n){return fl(ao(n)).left+xb(n).scrollLeft}function BV(n,e){var t=Vi(n),i=ao(n),s=t.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var c=QT();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+Pb(n),y:l}}function $V(n){var e,t=ao(n),i=xb(n),s=(e=n.ownerDocument)==null?void 0:e.body,r=Vo(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Vo(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Pb(n),l=-i.scrollTop;return vr(s||t).direction==="rtl"&&(a+=Vo(t.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function Ib(n){var e=vr(n),t=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+i)}function eA(n){return["html","body","#document"].indexOf(qs(n))>=0?n.ownerDocument.body:Ji(n)&&Ib(n)?n:eA(bh(n))}function xc(n,e){var t;e===void 0&&(e=[]);var i=eA(n),s=i===((t=n.ownerDocument)==null?void 0:t.body),r=Vi(i),o=s?[r].concat(r.visualViewport||[],Ib(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(xc(bh(o)))}function vg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function VV(n,e){var t=fl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function w0(n,e,t){return e===GT?vg(BV(n,t)):ta(e)?VV(e,t):vg($V(ao(n)))}function UV(n){var e=xc(bh(n)),t=["absolute","fixed"].indexOf(vr(n).position)>=0,i=t&&Ji(n)?Au(n):n;return ta(i)?e.filter(function(s){return ta(s)&&YT(s,i)&&qs(s)!=="body"}):[]}function zV(n,e,t,i){var s=e==="clippingParents"?UV(n):[].concat(e),r=[].concat(s,[t]),o=r[0],a=r.reduce(function(l,c){var u=w0(n,c,i);return l.top=Vo(u.top,l.top),l.right=gf(u.right,l.right),l.bottom=gf(u.bottom,l.bottom),l.left=Vo(u.left,l.left),l},w0(n,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function tA(n){var e=n.reference,t=n.element,i=n.placement,s=i?Us(i):null,r=i?hl(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(s){case _i:l={x:o,y:e.y-t.height};break;case ns:l={x:o,y:e.y+e.height};break;case is:l={x:e.x+e.width,y:a};break;case Ci:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?Ab(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case ul:l[c]=l[c]-(e[u]/2-t[u]/2);break;case ou:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function au(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=i===void 0?n.placement:i,r=t.strategy,o=r===void 0?n.strategy:r,a=t.boundary,l=a===void 0?lV:a,c=t.rootBoundary,u=c===void 0?GT:c,d=t.elementContext,f=d===void 0?sc:d,h=t.altBoundary,p=h===void 0?!1:h,m=t.padding,b=m===void 0?0:m,v=XT(typeof b!="number"?b:ZT(b,Tu)),w=f===sc?cV:sc,C=n.rects.popper,_=n.elements[p?w:f],T=zV(ta(_)?_:_.contextElement||ao(n.elements.popper),l,u,o),k=fl(n.elements.reference),E=tA({reference:k,element:C,strategy:"absolute",placement:s}),S=vg(Object.assign({},C,E)),P=f===sc?S:k,I={top:T.top-P.top+v.top,bottom:P.bottom-T.bottom+v.bottom,left:T.left-P.left+v.left,right:P.right-T.right+v.right},W=n.modifiersData.offset;if(f===sc&&W){var j=W[s];Object.keys(I).forEach(function(B){var F=[is,ns].indexOf(B)>=0?1:-1,Z=[_i,ns].indexOf(B)>=0?"y":"x";I[B]+=j[Z]*F})}return I}function HV(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?vh:l,u=hl(i),d=u?a?g0:g0.filter(function(p){return hl(p)===u}):Tu,f=d.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=au(n,{placement:m,boundary:s,rootBoundary:r,padding:o})[Us(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function WV(n){if(Us(n)===Sb)return[];var e=Vd(n);return[y0(n),e,y0(e)]}function jV(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,f=t.altBoundary,h=t.flipVariations,p=h===void 0?!0:h,m=t.allowedAutoPlacements,b=e.options.placement,v=Us(b),w=v===b,C=l||(w||!p?[Vd(b)]:WV(b)),_=[b].concat(C).reduce(function(me,he){return me.concat(Us(he)===Sb?HV(e,{placement:he,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):he)},[]),T=e.rects.reference,k=e.rects.popper,E=new Map,S=!0,P=_[0],I=0;I<_.length;I++){var W=_[I],j=Us(W),B=hl(W)===ul,F=[_i,ns].indexOf(j)>=0,Z=F?"width":"height",te=au(e,{placement:W,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),O=F?B?is:Ci:B?ns:_i;T[Z]>k[Z]&&(O=Vd(O));var J=Vd(O),V=[];if(r&&V.push(te[j]<=0),a&&V.push(te[O]<=0,te[J]<=0),V.every(function(me){return me})){P=W,S=!1;break}E.set(W,V)}if(S)for(var Q=p?3:1,be=function(he){var xe=_.find(function(je){var Ie=E.get(je);if(Ie)return Ie.slice(0,he).every(function(Ne){return Ne})});if(xe)return P=xe,"break"},R=Q;R>0;R--){var N=be(R);if(N==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}const qV={name:"flip",enabled:!0,phase:"main",fn:jV,requiresIfExists:["offset"],data:{_skip:!1}};function _0(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function C0(n){return[_i,is,ns,Ci].some(function(e){return n[e]>=0})}function KV(n){var e=n.state,t=n.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=au(e,{elementContext:"reference"}),a=au(e,{altBoundary:!0}),l=_0(o,i),c=_0(a,s,r),u=C0(l),d=C0(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const GV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:KV};function QV(n,e,t){var i=Us(n),s=[Ci,_i].indexOf(i)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[Ci,is].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function YV(n){var e=n.state,t=n.options,i=n.name,s=t.offset,r=s===void 0?[0,0]:s,o=vh.reduce(function(u,d){return u[d]=QV(d,e.rects,r),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const JV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:YV};function XV(n){var e=n.state,t=n.name;e.modifiersData[t]=tA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ZV={name:"popperOffsets",enabled:!0,phase:"read",fn:XV,data:{}};function e8(n){return n==="x"?"y":"x"}function t8(n){var e=n.state,t=n.options,i=n.name,s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,f=t.tether,h=f===void 0?!0:f,p=t.tetherOffset,m=p===void 0?0:p,b=au(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Us(e.placement),w=hl(e.placement),C=!w,_=Ab(v),T=e8(_),k=e.modifiersData.popperOffsets,E=e.rects.reference,S=e.rects.popper,P=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,I=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(k){if(r){var B,F=_==="y"?_i:Ci,Z=_==="y"?ns:is,te=_==="y"?"height":"width",O=k[_],J=O+b[F],V=O-b[Z],Q=h?-S[te]/2:0,be=w===ul?E[te]:S[te],R=w===ul?-S[te]:-E[te],N=e.elements.arrow,me=h&&N?Tb(N):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:JT(),xe=he[F],je=he[Z],Ie=Ac(0,E[te],me[te]),Ne=C?E[te]/2-Q-Ie-xe-I.mainAxis:be-Ie-xe-I.mainAxis,Be=C?-E[te]/2+Q+Ie+je+I.mainAxis:R+Ie+je+I.mainAxis,it=e.elements.arrow&&Au(e.elements.arrow),x=it?_==="y"?it.clientTop||0:it.clientLeft||0:0,D=(B=W==null?void 0:W[_])!=null?B:0,ee=O+Ne-D-x,ce=O+Be-D,de=Ac(h?gf(J,ee):J,O,h?Vo(V,ce):V);k[_]=de,j[_]=de-O}if(a){var ae,Te=_==="x"?_i:Ci,ge=_==="x"?ns:is,ye=k[T],oe=T==="y"?"height":"width",H=ye+b[Te],G=ye-b[ge],K=[_i,Ci].indexOf(v)!==-1,we=(ae=W==null?void 0:W[T])!=null?ae:0,Ve=K?H:ye-E[oe]-S[oe]-we+I.altAxis,Qe=K?ye+E[oe]+S[oe]-we-I.altAxis:G,Fe=h&&K?EV(Ve,ye,Qe):Ac(h?Ve:H,ye,h?Qe:G);k[T]=Fe,j[T]=Fe-ye}e.modifiersData[i]=j}}const n8={name:"preventOverflow",enabled:!0,phase:"main",fn:t8,requiresIfExists:["offset"]};function i8(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function s8(n){return n===Vi(n)||!Ji(n)?xb(n):i8(n)}function r8(n){var e=n.getBoundingClientRect(),t=dl(e.width)/n.offsetWidth||1,i=dl(e.height)/n.offsetHeight||1;return t!==1||i!==1}function o8(n,e,t){t===void 0&&(t=!1);var i=Ji(e),s=Ji(e)&&r8(e),r=ao(e),o=fl(n,s,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((qs(e)!=="body"||Ib(r))&&(a=s8(e)),Ji(e)?(l=fl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Pb(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function a8(n){var e=new Map,t=new Set,i=[];n.forEach(function(r){e.set(r.name,r)});function s(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.has(r.name)||s(r)}),i}function l8(n){var e=a8(n);return yV.reduce(function(t,i){return t.concat(e.filter(function(s){return s.phase===i}))},[])}function c8(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function u8(n){var e=n.reduce(function(t,i){var s=t[i.name];return t[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var k0={placement:"bottom",modifiers:[],strategy:"absolute"};function S0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function d8(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,s=e.defaultOptions,r=s===void 0?k0:s;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},k0,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(v){var w=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},r,u.options,w),u.scrollParents={reference:ta(a)?xc(a):a.contextElement?xc(a.contextElement):[],popper:xc(l)};var C=l8(u8([].concat(i,u.options.modifiers)));return u.orderedModifiers=C.filter(function(_){return _.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var v=u.elements,w=v.reference,C=v.popper;if(S0(w,C)){u.rects={reference:o8(w,Au(C),u.options.strategy==="fixed"),popper:Tb(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var T=u.orderedModifiers[_],k=T.fn,E=T.options,S=E===void 0?{}:E,P=T.name;typeof k=="function"&&(u=k({state:u,options:S,name:P,instance:h})||u)}}}},update:c8(function(){return new Promise(function(b){h.forceUpdate(),b(u)})}),destroy:function(){m(),f=!0}};if(!S0(a,l))return h;h.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function p(){u.orderedModifiers.forEach(function(b){var v=b.name,w=b.options,C=w===void 0?{}:w,_=b.effect;if(typeof _=="function"){var T=_({state:u,name:v,instance:h,options:C}),k=function(){};d.push(T||k)}})}function m(){d.forEach(function(b){return b()}),d=[]}return h}}var f8=[FV,ZV,MV,CV,JV,qV,n8,PV,GV],h8=d8({defaultModifiers:f8});const m8=(n,e,t={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=p8(l);Object.assign(o.value,c)},requires:["computeStyles"]},s=z(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=g(t);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],i,{name:"applyStyles",enabled:!1}]}}),r=Gr(),o=se({styles:{popper:{position:g(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{r.value&&(r.value.destroy(),r.value=void 0)};return $e(s,l=>{const c=g(r);c&&c.setOptions(l)},{deep:!0}),$e([n,e],([l,c])=>{a(),!(!l||!c)&&(r.value=h8(l,c,g(s)))}),Ti(()=>{a()}),{state:z(()=>{var l;return{...((l=g(r))==null?void 0:l.state)||{}}}),styles:z(()=>g(o).styles),attributes:z(()=>g(o).attributes),update:()=>{var l;return(l=g(r))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=g(r))==null?void 0:l.forceUpdate()},instanceRef:z(()=>g(r))}};function p8(n){const e=Object.keys(n.elements),t=pf(e.map(s=>[s,n.styles[s]||{}])),i=pf(e.map(s=>[s,n.attributes[s]]));return{styles:t,attributes:i}}function E0(){let n;const e=(i,s)=>{t(),n=window.setTimeout(i,s)},t=()=>window.clearTimeout(n);return rb(()=>t()),{registerTimeout:e,cancelTimeout:t}}const T0={prefix:Math.floor(Math.random()*1e4),current:0},g8=Symbol("elIdInjection"),nA=()=>Lt()?ot(g8,T0):T0,iA=n=>{const e=nA(),t=kb();return z(()=>g(n)||`${t.value}-id-${e.prefix}-${e.current++}`)};let Ba=[];const A0=n=>{const e=n;e.key===Ht.esc&&Ba.forEach(t=>t(e))},v8=n=>{dn(()=>{Ba.length===0&&document.addEventListener("keydown",A0),fi&&Ba.push(n)}),Ti(()=>{Ba=Ba.filter(e=>e!==n),Ba.length===0&&fi&&document.removeEventListener("keydown",A0)})};let x0;const sA=()=>{const n=kb(),e=nA(),t=z(()=>`${n.value}-popper-container-${e.prefix}`),i=z(()=>`#${t.value}`);return{id:t,selector:i}},b8=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},y8=()=>{const{id:n,selector:e}=sA();return Yv(()=>{fi&&!x0&&!document.body.querySelector(e.value)&&(x0=b8(n.value))}),{id:n,selector:e}},w8=vt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),_8=({showAfter:n,hideAfter:e,autoClose:t,open:i,close:s})=>{const{registerTimeout:r}=E0(),{registerTimeout:o,cancelTimeout:a}=E0();return{onOpen:u=>{r(()=>{i(u);const d=g(t);Fi(d)&&d>0&&o(()=>{s(u)},d)},g(n))},onClose:u=>{a(),r(()=>{s(u)},g(e))}}},rA=Symbol("elForwardRef"),C8=n=>{kn(rA,{setForwardRef:t=>{n.value=t}})},k8=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),P0=se(0),S8=2e3,oA=Symbol("zIndexContextKey"),E8=n=>{const e=n||ot(oA,void 0),t=z(()=>{const r=g(e);return Fi(r)?r:S8}),i=z(()=>t.value+P0.value);return{initialZIndex:t,currentZIndex:i,nextZIndex:()=>(P0.value++,i.value)}};function T8(n){const e=se();function t(){if(n.value==null)return;const{selectionStart:s,selectionEnd:r,value:o}=n.value;if(s==null||r==null)return;const a=o.slice(0,Math.max(0,s)),l=o.slice(Math.max(0,r));e.value={selectionStart:s,selectionEnd:r,value:o,beforeTxt:a,afterTxt:l}}function i(){if(n.value==null||e.value==null)return;const{value:s}=n.value,{beforeTxt:r,afterTxt:o,selectionStart:a}=e.value;if(r==null||o==null||a==null)return;let l=s.length;if(s.endsWith(o))l=s.length-o.length;else if(s.startsWith(r))l=r.length;else{const c=r[a-1],u=s.indexOf(c,a-1);u!==-1&&(l=u+1)}n.value.setSelectionRange(l,l)}return[t,i]}const Ul=gh({type:String,values:Cb,required:!1}),aA=Symbol("size"),A8=()=>{const n=ot(aA,{});return z(()=>g(n.size)||"")},lA=Symbol(),vf=se();function cA(n,e=void 0){const t=Lt()?ot(lA,vf):vf;return n?z(()=>{var i,s;return(s=(i=t.value)==null?void 0:i[n])!=null?s:e}):t}const x8=(n,e,t=!1)=>{var i;const s=!!Lt(),r=s?cA():void 0,o=(i=e==null?void 0:e.provide)!=null?i:s?kn:void 0;if(!o)return;const a=z(()=>{const l=g(n);return r!=null&&r.value?P8(r.value,l):l});return o(lA,a),o(WT,z(()=>a.value.locale)),o(jT,z(()=>a.value.namespace)),o(oA,z(()=>a.value.zIndex)),o(aA,{size:z(()=>a.value.size||"")}),(t||!vf.value)&&(vf.value=a.value),a},P8=(n,e)=>{var t;const i=[...new Set([...h0(n),...h0(e)])],s={};for(const r of i)s[r]=(t=e[r])!=null?t:n[r];return s},I8=vt({a11y:{type:Boolean,default:!0},locale:{type:qe(Object)},size:Ul,button:{type:qe(Object)},experimentalFeatures:{type:qe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:qe(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),O8={},R8=Re({name:"ElConfigProvider",props:I8,setup(n,{slots:e}){$e(()=>n.message,i=>{Object.assign(O8,i??{})},{immediate:!0,deep:!0});const t=x8(n);return()=>dt(e,"default",{config:t==null?void 0:t.value})}}),M8=bs(R8);var At=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t};const D8=vt({size:{type:qe([Number,String])},color:{type:String}}),F8=Re({name:"ElIcon",inheritAttrs:!1}),N8=Re({...F8,props:D8,setup(n){const e=n,t=mt("icon"),i=z(()=>{const{size:s,color:r}=e;return!s&&!r?{}:{fontSize:tu(s)?void 0:mg(s),"--color":r}});return(s,r)=>(U(),le("i",Yi({class:g(t).b(),style:g(i)},s.$attrs),[dt(s.$slots,"default")],16))}});var L8=At(N8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const St=bs(L8),Ob=Symbol("formContextKey"),bf=Symbol("formItemContextKey"),na=(n,e={})=>{const t=se(void 0),i=e.prop?t:KT("size"),s=e.global?t:A8(),r=e.form?{size:void 0}:ot(Ob,void 0),o=e.formItem?{size:void 0}:ot(bf,void 0);return z(()=>i.value||g(n)||(o==null?void 0:o.size)||(r==null?void 0:r.size)||s.value||"")},yh=n=>{const e=KT("disabled"),t=ot(Ob,void 0);return z(()=>e.value||g(n)||(t==null?void 0:t.disabled)||!1)},fa=()=>{const n=ot(Ob,void 0),e=ot(bf,void 0);return{form:n,formItem:e}},Rb=(n,{formItemContext:e,disableIdGeneration:t,disableIdManagement:i})=>{t||(t=se(!1)),i||(i=se(!1));const s=se();let r;const o=z(()=>{var a;return!!(!n.label&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return dn(()=>{r=$e([Mn(n,"id"),t],([a,l])=>{const c=a??(l?void 0:iA().value);c!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(i!=null&&i.value)&&!l&&c&&e.addInputId(c)),s.value=c)},{immediate:!0})}),Nl(()=>{r&&r(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:o,inputId:s}};let as;const B8=`
  height:0 !important;
  visibility:hidden !important;
  ${eD()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,$8=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function V8(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:$8.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:i,borderSize:s,boxSizing:t}}function I0(n,e=1,t){var i;as||(as=document.createElement("textarea"),document.body.appendChild(as));const{paddingSize:s,borderSize:r,boxSizing:o,contextStyle:a}=V8(n);as.setAttribute("style",`${a};${B8}`),as.value=n.value||n.placeholder||"";let l=as.scrollHeight;const c={};o==="border-box"?l=l+r:o==="content-box"&&(l=l-s),as.value="";const u=as.scrollHeight-s;if(Fi(e)){let d=u*e;o==="border-box"&&(d=d+s+r),l=Math.max(d,l),c.minHeight=`${d}px`}if(Fi(t)){let d=u*t;o==="border-box"&&(d=d+s+r),l=Math.min(d,l)}return c.height=`${l}px`,(i=as.parentNode)==null||i.removeChild(as),as=void 0,c}const U8=vt({id:{type:String,default:void 0},size:Ul,disabled:Boolean,modelValue:{type:qe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:qe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ea},prefixIcon:{type:ea},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:qe([Object,Array,String]),default:()=>Y$({})}}),z8={[di]:n=>Tt(n),input:n=>Tt(n),change:n=>Tt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},H8=["role"],W8=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],j8=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],q8=Re({name:"ElInput",inheritAttrs:!1}),K8=Re({...q8,props:U8,emits:z8,setup(n,{expose:e,emit:t}){const i=n,s=ih(),r=la(),o=z(()=>{const K={};return i.containerRole==="combobox"&&(K["aria-haspopup"]=s["aria-haspopup"],K["aria-owns"]=s["aria-owns"],K["aria-expanded"]=s["aria-expanded"]),K}),a=z(()=>[i.type==="textarea"?b.b():m.b(),m.m(h.value),m.is("disabled",p.value),m.is("exceed",be.value),{[m.b("group")]:r.prepend||r.append,[m.bm("group","append")]:r.append,[m.bm("group","prepend")]:r.prepend,[m.m("prefix")]:r.prefix||i.prefixIcon,[m.m("suffix")]:r.suffix||i.suffixIcon||i.clearable||i.showPassword,[m.bm("suffix","password-clear")]:O.value&&J.value},s.class]),l=z(()=>[m.e("wrapper"),m.is("focus",C.value)]),c=Z$({excludeKeys:z(()=>Object.keys(o.value))}),{form:u,formItem:d}=fa(),{inputId:f}=Rb(i,{formItemContext:d}),h=na(),p=yh(),m=mt("input"),b=mt("textarea"),v=Gr(),w=Gr(),C=se(!1),_=se(!1),T=se(!1),k=se(!1),E=se(),S=Gr(i.inputStyle),P=z(()=>v.value||w.value),I=z(()=>{var K;return(K=u==null?void 0:u.statusIcon)!=null?K:!1}),W=z(()=>(d==null?void 0:d.validateState)||""),j=z(()=>W.value&&j$[W.value]),B=z(()=>k.value?H$:R$),F=z(()=>[s.style,i.inputStyle]),Z=z(()=>[i.inputStyle,S.value,{resize:i.resize}]),te=z(()=>mh(i.modelValue)?"":String(i.modelValue)),O=z(()=>i.clearable&&!p.value&&!i.readonly&&!!te.value&&(C.value||_.value)),J=z(()=>i.showPassword&&!p.value&&!i.readonly&&!!te.value&&(!!te.value||C.value)),V=z(()=>i.showWordLimit&&!!c.value.maxlength&&(i.type==="text"||i.type==="textarea")&&!p.value&&!i.readonly&&!i.showPassword),Q=z(()=>te.value.length),be=z(()=>!!V.value&&Q.value>Number(c.value.maxlength)),R=z(()=>!!r.suffix||!!i.suffixIcon||O.value||i.showPassword||V.value||!!W.value&&I.value),[N,me]=T8(v);ah(w,K=>{if(je(),!V.value||i.resize!=="both")return;const we=K[0],{width:Ve}=we.contentRect;E.value={right:`calc(100% - ${Ve+15+6}px)`}});const he=()=>{const{type:K,autosize:we}=i;if(!(!fi||K!=="textarea"||!w.value))if(we){const Ve=pt(we)?we.minRows:void 0,Qe=pt(we)?we.maxRows:void 0,Fe=I0(w.value,Ve,Qe);S.value={overflowY:"hidden",...Fe},lt(()=>{w.value.offsetHeight,S.value=Fe})}else S.value={minHeight:I0(w.value).minHeight}},je=(K=>{let we=!1;return()=>{var Ve;if(we||!i.autosize)return;((Ve=w.value)==null?void 0:Ve.offsetParent)===null||(K(),we=!0)}})(he),Ie=()=>{const K=P.value;!K||K.value===te.value||(K.value=te.value)},Ne=async K=>{N();let{value:we}=K.target;if(i.formatter&&(we=i.parser?i.parser(we):we,we=i.formatter(we)),!T.value){if(we===te.value){Ie();return}t(di,we),t("input",we),await lt(),Ie(),me()}},Be=K=>{t("change",K.target.value)},it=K=>{t("compositionstart",K),T.value=!0},x=K=>{var we;t("compositionupdate",K);const Ve=(we=K.target)==null?void 0:we.value,Qe=Ve[Ve.length-1]||"";T.value=!zT(Qe)},D=K=>{t("compositionend",K),T.value&&(T.value=!1,Ne(K))},ee=()=>{k.value=!k.value,ce()},ce=async()=>{var K;await lt(),(K=P.value)==null||K.focus()},de=()=>{var K;return(K=P.value)==null?void 0:K.blur()},ae=K=>{C.value=!0,t("focus",K)},Te=K=>{var we;C.value=!1,t("blur",K),i.validateEvent&&((we=d==null?void 0:d.validate)==null||we.call(d,"blur").catch(Ve=>void 0))},ge=K=>{_.value=!1,t("mouseleave",K)},ye=K=>{_.value=!0,t("mouseenter",K)},oe=K=>{t("keydown",K)},H=()=>{var K;(K=P.value)==null||K.select()},G=()=>{t(di,""),t("change",""),t("clear"),t("input","")};return $e(()=>i.modelValue,()=>{var K;lt(()=>he()),i.validateEvent&&((K=d==null?void 0:d.validate)==null||K.call(d,"change").catch(we=>void 0))}),$e(te,()=>Ie()),$e(()=>i.type,async()=>{await lt(),Ie(),he()}),dn(()=>{!i.formatter&&i.parser,Ie(),lt(he)}),e({input:v,textarea:w,ref:P,textareaStyle:Z,autosize:Mn(i,"autosize"),focus:ce,blur:de,select:H,clear:G,resizeTextarea:he}),(K,we)=>Wt((U(),le("div",Yi(g(o),{class:g(a),style:g(F),role:K.containerRole,onMouseenter:ye,onMouseleave:ge}),[Me(" input "),K.type!=="textarea"?(U(),le(tt,{key:0},[Me(" prepend slot "),K.$slots.prepend?(U(),le("div",{key:0,class:Y(g(m).be("group","prepend"))},[dt(K.$slots,"prepend")],2)):Me("v-if",!0),X("div",{class:Y(g(l))},[Me(" prefix slot "),K.$slots.prefix||K.prefixIcon?(U(),le("span",{key:0,class:Y(g(m).e("prefix"))},[X("span",{class:Y(g(m).e("prefix-inner")),onClick:ce},[dt(K.$slots,"prefix"),K.prefixIcon?(U(),Ue(g(St),{key:0,class:Y(g(m).e("icon"))},{default:Ae(()=>[(U(),Ue(Fn(K.prefixIcon)))]),_:1},8,["class"])):Me("v-if",!0)],2)],2)):Me("v-if",!0),X("input",Yi({id:g(f),ref_key:"input",ref:v,class:g(m).e("inner")},g(c),{type:K.showPassword?k.value?"text":"password":K.type,disabled:g(p),formatter:K.formatter,parser:K.parser,readonly:K.readonly,autocomplete:K.autocomplete,tabindex:K.tabindex,"aria-label":K.label,placeholder:K.placeholder,style:K.inputStyle,form:i.form,onCompositionstart:it,onCompositionupdate:x,onCompositionend:D,onInput:Ne,onFocus:ae,onBlur:Te,onChange:Be,onKeydown:oe}),null,16,W8),Me(" suffix slot "),g(R)?(U(),le("span",{key:1,class:Y(g(m).e("suffix"))},[X("span",{class:Y(g(m).e("suffix-inner")),onClick:ce},[!g(O)||!g(J)||!g(V)?(U(),le(tt,{key:0},[dt(K.$slots,"suffix"),K.suffixIcon?(U(),Ue(g(St),{key:0,class:Y(g(m).e("icon"))},{default:Ae(()=>[(U(),Ue(Fn(K.suffixIcon)))]),_:1},8,["class"])):Me("v-if",!0)],64)):Me("v-if",!0),g(O)?(U(),Ue(g(St),{key:1,class:Y([g(m).e("icon"),g(m).e("clear")]),onMousedown:on(g(ni),["prevent"]),onClick:G},{default:Ae(()=>[pe(g(ph))]),_:1},8,["class","onMousedown"])):Me("v-if",!0),g(J)?(U(),Ue(g(St),{key:2,class:Y([g(m).e("icon"),g(m).e("password")]),onClick:ee},{default:Ae(()=>[(U(),Ue(Fn(g(B))))]),_:1},8,["class"])):Me("v-if",!0),g(V)?(U(),le("span",{key:3,class:Y(g(m).e("count"))},[X("span",{class:Y(g(m).e("count-inner"))},Oe(g(Q))+" / "+Oe(g(c).maxlength),3)],2)):Me("v-if",!0),g(W)&&g(j)&&g(I)?(U(),Ue(g(St),{key:4,class:Y([g(m).e("icon"),g(m).e("validateIcon"),g(m).is("loading",g(W)==="validating")])},{default:Ae(()=>[(U(),Ue(Fn(g(j))))]),_:1},8,["class"])):Me("v-if",!0)],2)],2)):Me("v-if",!0)],2),Me(" append slot "),K.$slots.append?(U(),le("div",{key:1,class:Y(g(m).be("group","append"))},[dt(K.$slots,"append")],2)):Me("v-if",!0)],64)):(U(),le(tt,{key:1},[Me(" textarea "),X("textarea",Yi({id:g(f),ref_key:"textarea",ref:w,class:g(b).e("inner")},g(c),{tabindex:K.tabindex,disabled:g(p),readonly:K.readonly,autocomplete:K.autocomplete,style:g(Z),"aria-label":K.label,placeholder:K.placeholder,form:i.form,onCompositionstart:it,onCompositionupdate:x,onCompositionend:D,onInput:Ne,onFocus:ae,onBlur:Te,onChange:Be,onKeydown:oe}),null,16,j8),g(V)?(U(),le("span",{key:0,style:mn(E.value),class:Y(g(m).e("count"))},Oe(g(Q))+" / "+Oe(g(c).maxlength),7)):Me("v-if",!0)],64))],16,H8)),[[ui,K.type!=="hidden"]])}});var G8=At(K8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Fs=bs(G8),ja=4,Q8={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Y8=({move:n,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${n}%)`}),uA=Symbol("scrollbarContextKey"),J8=vt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),X8="Thumb",Z8=Re({__name:"thumb",props:J8,setup(n){const e=n,t=ot(uA),i=mt("scrollbar");t||pB(X8,"can not inject scrollbar context");const s=se(),r=se(),o=se({}),a=se(!1);let l=!1,c=!1,u=fi?document.onselectstart:null;const d=z(()=>Q8[e.vertical?"vertical":"horizontal"]),f=z(()=>Y8({size:e.size,move:e.move,bar:d.value})),h=z(()=>s.value[d.value.offset]**2/t.wrapElement[d.value.scrollSize]/e.ratio/r.value[d.value.offset]),p=k=>{var E;if(k.stopPropagation(),k.ctrlKey||[1,2].includes(k.button))return;(E=window.getSelection())==null||E.removeAllRanges(),b(k);const S=k.currentTarget;S&&(o.value[d.value.axis]=S[d.value.offset]-(k[d.value.client]-S.getBoundingClientRect()[d.value.direction]))},m=k=>{if(!r.value||!s.value||!t.wrapElement)return;const E=Math.abs(k.target.getBoundingClientRect()[d.value.direction]-k[d.value.client]),S=r.value[d.value.offset]/2,P=(E-S)*100*h.value/s.value[d.value.offset];t.wrapElement[d.value.scroll]=P*t.wrapElement[d.value.scrollSize]/100},b=k=>{k.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",w),u=document.onselectstart,document.onselectstart=()=>!1},v=k=>{if(!s.value||!r.value||l===!1)return;const E=o.value[d.value.axis];if(!E)return;const S=(s.value.getBoundingClientRect()[d.value.direction]-k[d.value.client])*-1,P=r.value[d.value.offset]-E,I=(S-P)*100*h.value/s.value[d.value.offset];t.wrapElement[d.value.scroll]=I*t.wrapElement[d.value.scrollSize]/100},w=()=>{l=!1,o.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",w),T(),c&&(a.value=!1)},C=()=>{c=!1,a.value=!!e.size},_=()=>{c=!0,a.value=l};Ti(()=>{T(),document.removeEventListener("mouseup",w)});const T=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return tl(Mn(t,"scrollbarElement"),"mousemove",C),tl(Mn(t,"scrollbarElement"),"mouseleave",_),(k,E)=>(U(),Ue(ms,{name:g(i).b("fade"),persisted:""},{default:Ae(()=>[Wt(X("div",{ref_key:"instance",ref:s,class:Y([g(i).e("bar"),g(i).is(g(d).key)]),onMousedown:m},[X("div",{ref_key:"thumb",ref:r,class:Y(g(i).e("thumb")),style:mn(g(f)),onMousedown:p},null,38)],34),[[ui,k.always||a.value]])]),_:1},8,["name"]))}});var O0=At(Z8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const e6=vt({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),t6=Re({__name:"bar",props:e6,setup(n,{expose:e}){const t=n,i=se(0),s=se(0);return e({handleScroll:o=>{if(o){const a=o.offsetHeight-ja,l=o.offsetWidth-ja;s.value=o.scrollTop*100/a*t.ratioY,i.value=o.scrollLeft*100/l*t.ratioX}}}),(o,a)=>(U(),le(tt,null,[pe(O0,{move:i.value,ratio:o.ratioX,size:o.width,always:o.always},null,8,["move","ratio","size","always"]),pe(O0,{move:s.value,ratio:o.ratioY,size:o.height,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var n6=At(t6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const i6=vt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:qe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),s6={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(Fi)},r6="ElScrollbar",o6=Re({name:r6}),a6=Re({...o6,props:i6,emits:s6,setup(n,{expose:e,emit:t}){const i=n,s=mt("scrollbar");let r,o;const a=se(),l=se(),c=se(),u=se("0"),d=se("0"),f=se(),h=se(1),p=se(1),m=z(()=>{const E={};return i.height&&(E.height=mg(i.height)),i.maxHeight&&(E.maxHeight=mg(i.maxHeight)),[i.wrapStyle,E]}),b=z(()=>[i.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!i.native}]),v=z(()=>[s.e("view"),i.viewClass]),w=()=>{var E;l.value&&((E=f.value)==null||E.handleScroll(l.value),t("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function C(E,S){pt(E)?l.value.scrollTo(E):Fi(E)&&Fi(S)&&l.value.scrollTo(E,S)}const _=E=>{Fi(E)&&(l.value.scrollTop=E)},T=E=>{Fi(E)&&(l.value.scrollLeft=E)},k=()=>{if(!l.value)return;const E=l.value.offsetHeight-ja,S=l.value.offsetWidth-ja,P=E**2/l.value.scrollHeight,I=S**2/l.value.scrollWidth,W=Math.max(P,i.minSize),j=Math.max(I,i.minSize);h.value=P/(E-P)/(W/(E-W)),p.value=I/(S-I)/(j/(S-j)),d.value=W+ja<E?`${W}px`:"",u.value=j+ja<S?`${j}px`:""};return $e(()=>i.noresize,E=>{E?(r==null||r(),o==null||o()):({stop:r}=ah(c,k),o=tl("resize",k))},{immediate:!0}),$e(()=>[i.maxHeight,i.height],()=>{i.native||lt(()=>{var E;k(),l.value&&((E=f.value)==null||E.handleScroll(l.value))})}),kn(uA,Wi({scrollbarElement:a,wrapElement:l})),dn(()=>{i.native||lt(()=>{k()})}),ku(()=>k()),e({wrapRef:l,update:k,scrollTo:C,setScrollTop:_,setScrollLeft:T,handleScroll:w}),(E,S)=>(U(),le("div",{ref_key:"scrollbarRef",ref:a,class:Y(g(s).b())},[X("div",{ref_key:"wrapRef",ref:l,class:Y(g(b)),style:mn(g(m)),onScroll:w},[(U(),Ue(Fn(E.tag),{ref_key:"resizeRef",ref:c,class:Y(g(v)),style:mn(E.viewStyle)},{default:Ae(()=>[dt(E.$slots,"default")]),_:3},8,["class","style"]))],38),E.native?Me("v-if",!0):(U(),Ue(n6,{key:0,ref_key:"barRef",ref:f,height:d.value,width:u.value,always:E.always,"ratio-x":p.value,"ratio-y":h.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var l6=At(a6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const dA=bs(l6),Mb=Symbol("popper"),fA=Symbol("popperContent"),c6=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],hA=vt({role:{type:String,values:c6,default:"tooltip"}}),u6=Re({name:"ElPopper",inheritAttrs:!1}),d6=Re({...u6,props:hA,setup(n,{expose:e}){const t=n,i=se(),s=se(),r=se(),o=se(),a=z(()=>t.role),l={triggerRef:i,popperInstanceRef:s,contentRef:r,referenceRef:o,role:a};return e(l),kn(Mb,l),(c,u)=>dt(c.$slots,"default")}});var f6=At(d6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const mA=vt({arrowOffset:{type:Number,default:5}}),h6=Re({name:"ElPopperArrow",inheritAttrs:!1}),m6=Re({...h6,props:mA,setup(n,{expose:e}){const t=n,i=mt("popper"),{arrowOffset:s,arrowRef:r,arrowStyle:o}=ot(fA,void 0);return $e(()=>t.arrowOffset,a=>{s.value=a}),Ti(()=>{r.value=void 0}),e({arrowRef:r}),(a,l)=>(U(),le("span",{ref_key:"arrowRef",ref:r,class:Y(g(i).e("arrow")),style:mn(g(o)),"data-popper-arrow":""},null,6))}});var p6=At(m6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const g6="ElOnlyChild",v6=Re({name:g6,setup(n,{slots:e,attrs:t}){var i;const s=ot(rA),r=k8((i=s==null?void 0:s.setForwardRef)!=null?i:ni);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,t);if(!a||a.length>1)return null;const l=pA(a);return l?Wt(hs(l,t),[[r]]):null}}});function pA(n){if(!n)return null;const e=n;for(const t of e){if(pt(t))switch(t.type){case Hn:continue;case js:case"svg":return R0(t);case tt:return pA(t.children);default:return t}return R0(t)}return null}function R0(n){const e=mt("only-child");return pe("span",{class:e.e("content")},[n])}const gA=vt({virtualRef:{type:qe(Object)},virtualTriggering:Boolean,onMouseenter:{type:qe(Function)},onMouseleave:{type:qe(Function)},onClick:{type:qe(Function)},onKeydown:{type:qe(Function)},onFocus:{type:qe(Function)},onBlur:{type:qe(Function)},onContextmenu:{type:qe(Function)},id:String,open:Boolean}),b6=Re({name:"ElPopperTrigger",inheritAttrs:!1}),y6=Re({...b6,props:gA,setup(n,{expose:e}){const t=n,{role:i,triggerRef:s}=ot(Mb,void 0);C8(s);const r=z(()=>a.value?t.id:void 0),o=z(()=>{if(i&&i.value==="tooltip")return t.open&&t.id?t.id:void 0}),a=z(()=>{if(i&&i.value!=="tooltip")return i.value}),l=z(()=>a.value?`${t.open}`:void 0);let c;return dn(()=>{$e(()=>t.virtualRef,u=>{u&&(s.value=Wr(u))},{immediate:!0}),$e(s,(u,d)=>{c==null||c(),c=void 0,iu(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var h;const p=t[f];p&&(u.addEventListener(f.slice(2).toLowerCase(),p),(h=d==null?void 0:d.removeEventListener)==null||h.call(d,f.slice(2).toLowerCase(),p))}),c=$e([r,o,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,p)=>{mh(f[p])?u.removeAttribute(h):u.setAttribute(h,f[p])})},{immediate:!0})),iu(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>d.removeAttribute(f))},{immediate:!0})}),Ti(()=>{c==null||c(),c=void 0}),e({triggerRef:s}),(u,d)=>u.virtualTriggering?Me("v-if",!0):(U(),Ue(g(v6),Yi({key:0},u.$attrs,{"aria-controls":g(r),"aria-describedby":g(o),"aria-expanded":g(l),"aria-haspopup":g(a)}),{default:Ae(()=>[dt(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var w6=At(y6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Um="focus-trap.focus-after-trapped",zm="focus-trap.focus-after-released",_6="focus-trap.focusout-prevented",M0={cancelable:!0,bubbles:!1},C6={cancelable:!0,bubbles:!1},D0="focusAfterTrapped",F0="focusAfterReleased",k6=Symbol("elFocusTrap"),Db=se(),wh=se(0),Fb=se(0);let ld=0;const vA=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},N0=(n,e)=>{for(const t of n)if(!S6(t,e))return t},S6=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},E6=n=>{const e=vA(n),t=N0(e,n),i=N0(e.reverse(),n);return[t,i]},T6=n=>n instanceof HTMLInputElement&&"select"in n,Nr=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),Fb.value=window.performance.now(),n!==t&&T6(n)&&e&&n.select()}};function L0(n,e){const t=[...n],i=n.indexOf(e);return i!==-1&&t.splice(i,1),t}const A6=()=>{let n=[];return{push:i=>{const s=n[0];s&&i!==s&&s.pause(),n=L0(n,i),n.unshift(i)},remove:i=>{var s,r;n=L0(n,i),(r=(s=n[0])==null?void 0:s.resume)==null||r.call(s)}}},x6=(n,e=!1)=>{const t=document.activeElement;for(const i of n)if(Nr(i,e),document.activeElement!==t)return},B0=A6(),P6=()=>wh.value>Fb.value,cd=()=>{Db.value="pointer",wh.value=window.performance.now()},$0=()=>{Db.value="keyboard",wh.value=window.performance.now()},I6=()=>(dn(()=>{ld===0&&(document.addEventListener("mousedown",cd),document.addEventListener("touchstart",cd),document.addEventListener("keydown",$0)),ld++}),Ti(()=>{ld--,ld<=0&&(document.removeEventListener("mousedown",cd),document.removeEventListener("touchstart",cd),document.removeEventListener("keydown",$0))}),{focusReason:Db,lastUserFocusTimestamp:wh,lastAutomatedFocusTimestamp:Fb}),ud=n=>new CustomEvent(_6,{...C6,detail:n}),O6=Re({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[D0,F0,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const t=se();let i,s;const{focusReason:r}=I6();v8(p=>{n.trapped&&!o.paused&&e("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=p=>{if(!n.loop&&!n.trapped||o.paused)return;const{key:m,altKey:b,ctrlKey:v,metaKey:w,currentTarget:C,shiftKey:_}=p,{loop:T}=n,k=m===Ht.tab&&!b&&!v&&!w,E=document.activeElement;if(k&&E){const S=C,[P,I]=E6(S);if(P&&I){if(!_&&E===I){const j=ud({focusReason:r.value});e("focusout-prevented",j),j.defaultPrevented||(p.preventDefault(),T&&Nr(P,!0))}else if(_&&[P,S].includes(E)){const j=ud({focusReason:r.value});e("focusout-prevented",j),j.defaultPrevented||(p.preventDefault(),T&&Nr(I,!0))}}else if(E===S){const j=ud({focusReason:r.value});e("focusout-prevented",j),j.defaultPrevented||p.preventDefault()}}};kn(k6,{focusTrapRef:t,onKeydown:a}),$e(()=>n.focusTrapEl,p=>{p&&(t.value=p)},{immediate:!0}),$e([t],([p],[m])=>{p&&(p.addEventListener("keydown",a),p.addEventListener("focusin",u),p.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",a),m.removeEventListener("focusin",u),m.removeEventListener("focusout",d))});const l=p=>{e(D0,p)},c=p=>e(F0,p),u=p=>{const m=g(t);if(!m)return;const b=p.target,v=p.relatedTarget,w=b&&m.contains(b);n.trapped||v&&m.contains(v)||(i=v),w&&e("focusin",p),!o.paused&&n.trapped&&(w?s=b:Nr(s,!0))},d=p=>{const m=g(t);if(!(o.paused||!m))if(n.trapped){const b=p.relatedTarget;!mh(b)&&!m.contains(b)&&setTimeout(()=>{if(!o.paused&&n.trapped){const v=ud({focusReason:r.value});e("focusout-prevented",v),v.defaultPrevented||Nr(s,!0)}},0)}else{const b=p.target;b&&m.contains(b)||e("focusout",p)}};async function f(){await lt();const p=g(t);if(p){B0.push(o);const m=p.contains(document.activeElement)?i:document.activeElement;if(i=m,!p.contains(m)){const v=new Event(Um,M0);p.addEventListener(Um,l),p.dispatchEvent(v),v.defaultPrevented||lt(()=>{let w=n.focusStartEl;Tt(w)||(Nr(w),document.activeElement!==w&&(w="first")),w==="first"&&x6(vA(p),!0),(document.activeElement===m||w==="container")&&Nr(p)})}}}function h(){const p=g(t);if(p){p.removeEventListener(Um,l);const m=new CustomEvent(zm,{...M0,detail:{focusReason:r.value}});p.addEventListener(zm,c),p.dispatchEvent(m),!m.defaultPrevented&&(r.value=="keyboard"||!P6()||p.contains(document.activeElement))&&Nr(i??document.body),p.removeEventListener(zm,l),B0.remove(o)}}return dn(()=>{n.trapped&&f(),$e(()=>n.trapped,p=>{p?f():h()})}),Ti(()=>{n.trapped&&h()}),{onKeydown:a}}});function R6(n,e,t,i,s,r){return dt(n.$slots,"default",{handleKeydown:n.onKeydown})}var M6=At(O6,[["render",R6],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const D6=["fixed","absolute"],F6=vt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:qe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:vh,default:"bottom"},popperOptions:{type:qe(Object),default:()=>({})},strategy:{type:String,values:D6,default:"absolute"}}),bA=vt({...F6,id:String,style:{type:qe([String,Array,Object])},className:{type:qe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:qe([String,Array,Object])},popperStyle:{type:qe([String,Array,Object])},referenceEl:{type:qe(Object)},triggerTargetEl:{type:qe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),N6={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},L6=(n,e=[])=>{const{placement:t,strategy:i,popperOptions:s}=n,r={placement:t,strategy:i,...s,modifiers:[...$6(n),...e]};return V6(r,s==null?void 0:s.modifiers),r},B6=n=>{if(fi)return Wr(n)};function $6(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:i}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:t}}]}function V6(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const U6=0,z6=n=>{const{popperInstanceRef:e,contentRef:t,triggerRef:i,role:s}=ot(Mb,void 0),r=se(),o=se(),a=z(()=>({name:"eventListeners",enabled:!!n.visible})),l=z(()=>{var v;const w=g(r),C=(v=g(o))!=null?v:U6;return{name:"arrow",enabled:!nB(w),options:{element:w,padding:C}}}),c=z(()=>({onFirstUpdate:()=>{p()},...L6(n,[g(l),g(a)])})),u=z(()=>B6(n.referenceEl)||g(i)),{attributes:d,state:f,styles:h,update:p,forceUpdate:m,instanceRef:b}=m8(u,t,c);return $e(b,v=>e.value=v),dn(()=>{$e(()=>{var v;return(v=g(u))==null?void 0:v.getBoundingClientRect()},()=>{p()})}),{attributes:d,arrowRef:r,contentRef:t,instanceRef:b,state:f,styles:h,role:s,forceUpdate:m,update:p}},H6=(n,{attributes:e,styles:t,role:i})=>{const{nextZIndex:s}=E8(),r=mt("popper"),o=z(()=>g(e).popper),a=se(n.zIndex||s()),l=z(()=>[r.b(),r.is("pure",n.pure),r.is(n.effect),n.popperClass]),c=z(()=>[{zIndex:g(a)},n.popperStyle||{},g(t).popper]),u=z(()=>i.value==="dialog"?"false":void 0),d=z(()=>g(t).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:o,contentClass:l,contentStyle:c,contentZIndex:a,updateZIndex:()=>{a.value=n.zIndex||s()}}},W6=(n,e)=>{const t=se(!1),i=se();return{focusStartRef:i,trapped:t,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{n.visible&&!t.value&&(c.target&&(i.value=c.target),t.value=!0)},onFocusoutPrevented:c=>{n.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),t.value=!1)},onReleaseRequested:()=>{t.value=!1,e("close")}}},j6=Re({name:"ElPopperContent"}),q6=Re({...j6,props:bA,emits:N6,setup(n,{expose:e,emit:t}){const i=n,{focusStartRef:s,trapped:r,onFocusAfterReleased:o,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=W6(i,t),{attributes:d,arrowRef:f,contentRef:h,styles:p,instanceRef:m,role:b,update:v}=z6(i),{ariaModal:w,arrowStyle:C,contentAttrs:_,contentClass:T,contentStyle:k,updateZIndex:E}=H6(i,{styles:p,attributes:d,role:b}),S=ot(bf,void 0),P=se();kn(fA,{arrowStyle:C,arrowRef:f,arrowOffset:P}),S&&(S.addInputId||S.removeInputId)&&kn(bf,{...S,addInputId:ni,removeInputId:ni});let I;const W=(B=!0)=>{v(),B&&E()},j=()=>{W(!1),i.visible&&i.focusOnShow?r.value=!0:i.visible===!1&&(r.value=!1)};return dn(()=>{$e(()=>i.triggerTargetEl,(B,F)=>{I==null||I(),I=void 0;const Z=g(B||h.value),te=g(F||h.value);iu(Z)&&(I=$e([b,()=>i.ariaLabel,w,()=>i.id],O=>{["role","aria-label","aria-modal","id"].forEach((J,V)=>{mh(O[V])?Z.removeAttribute(J):Z.setAttribute(J,O[V])})},{immediate:!0})),te!==Z&&iu(te)&&["role","aria-label","aria-modal","id"].forEach(O=>{te.removeAttribute(O)})},{immediate:!0}),$e(()=>i.visible,j,{immediate:!0})}),Ti(()=>{I==null||I(),I=void 0}),e({popperContentRef:h,popperInstanceRef:m,updatePopper:W,contentStyle:k}),(B,F)=>(U(),le("div",Yi({ref_key:"contentRef",ref:h},g(_),{style:g(k),class:g(T),tabindex:"-1",onMouseenter:F[0]||(F[0]=Z=>B.$emit("mouseenter",Z)),onMouseleave:F[1]||(F[1]=Z=>B.$emit("mouseleave",Z))}),[pe(g(M6),{trapped:g(r),"trap-on-focus-in":!0,"focus-trap-el":g(h),"focus-start-el":g(s),onFocusAfterTrapped:g(a),onFocusAfterReleased:g(o),onFocusin:g(l),onFocusoutPrevented:g(c),onReleaseRequested:g(u)},{default:Ae(()=>[dt(B.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var K6=At(q6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const G6=bs(f6),_h=Symbol("elTooltip"),Nb=vt({...w8,...bA,appendTo:{type:qe([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:qe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),yA=vt({...gA,disabled:Boolean,trigger:{type:qe([String,Array]),default:"hover"},triggerKeys:{type:qe(Array),default:()=>[Ht.enter,Ht.space]}}),{useModelToggleProps:Q6,useModelToggleEmits:Y6,useModelToggle:J6}=qT("visible"),X6=vt({...hA,...Q6,...Nb,...yA,...mA,showArrow:{type:Boolean,default:!0}}),Z6=[...Y6,"before-show","before-hide","show","hide","open","close"],e7=(n,e)=>Pe(n)?n.includes(e):n===e,Aa=(n,e,t)=>i=>{e7(g(n),e)&&t(i)},t7=Re({name:"ElTooltipTrigger"}),n7=Re({...t7,props:yA,setup(n,{expose:e}){const t=n,i=mt("tooltip"),{controlled:s,id:r,open:o,onOpen:a,onClose:l,onToggle:c}=ot(_h,void 0),u=se(null),d=()=>{if(g(s)||t.disabled)return!0},f=Mn(t,"trigger"),h=lr(d,Aa(f,"hover",a)),p=lr(d,Aa(f,"hover",l)),m=lr(d,Aa(f,"click",_=>{_.button===0&&c(_)})),b=lr(d,Aa(f,"focus",a)),v=lr(d,Aa(f,"focus",l)),w=lr(d,Aa(f,"contextmenu",_=>{_.preventDefault(),c(_)})),C=lr(d,_=>{const{code:T}=_;t.triggerKeys.includes(T)&&(_.preventDefault(),c(_))});return e({triggerRef:u}),(_,T)=>(U(),Ue(g(w6),{id:g(r),"virtual-ref":_.virtualRef,open:g(o),"virtual-triggering":_.virtualTriggering,class:Y(g(i).e("trigger")),onBlur:g(v),onClick:g(m),onContextmenu:g(w),onFocus:g(b),onMouseenter:g(h),onMouseleave:g(p),onKeydown:g(C)},{default:Ae(()=>[dt(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var i7=At(n7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const s7=Re({name:"ElTooltipContent",inheritAttrs:!1}),r7=Re({...s7,props:Nb,setup(n,{expose:e}){const t=n,{selector:i}=sA(),s=mt("tooltip"),r=se(null),o=se(!1),{controlled:a,id:l,open:c,trigger:u,onClose:d,onOpen:f,onShow:h,onHide:p,onBeforeShow:m,onBeforeHide:b}=ot(_h,void 0),v=z(()=>t.transition||`${s.namespace.value}-fade-in-linear`),w=z(()=>t.persistent);Ti(()=>{o.value=!0});const C=z(()=>g(w)?!0:g(c)),_=z(()=>t.disabled?!1:g(c)),T=z(()=>t.appendTo||i.value),k=z(()=>{var O;return(O=t.style)!=null?O:{}}),E=z(()=>!g(c)),S=()=>{p()},P=()=>{if(g(a))return!0},I=lr(P,()=>{t.enterable&&g(u)==="hover"&&f()}),W=lr(P,()=>{g(u)==="hover"&&d()}),j=()=>{var O,J;(J=(O=r.value)==null?void 0:O.updatePopper)==null||J.call(O),m==null||m()},B=()=>{b==null||b()},F=()=>{h(),te=GE(z(()=>{var O;return(O=r.value)==null?void 0:O.popperContentRef}),()=>{if(g(a))return;g(u)!=="hover"&&d()})},Z=()=>{t.virtualTriggering||d()};let te;return $e(()=>g(c),O=>{O||te==null||te()},{flush:"post"}),$e(()=>t.content,()=>{var O,J;(J=(O=r.value)==null?void 0:O.updatePopper)==null||J.call(O)}),e({contentRef:r}),(O,J)=>(U(),Ue(dE,{disabled:!O.teleported,to:g(T)},[pe(ms,{name:g(v),onAfterLeave:S,onBeforeEnter:j,onAfterEnter:F,onBeforeLeave:B},{default:Ae(()=>[g(C)?Wt((U(),Ue(g(K6),Yi({key:0,id:g(l),ref_key:"contentRef",ref:r},O.$attrs,{"aria-label":O.ariaLabel,"aria-hidden":g(E),"boundaries-padding":O.boundariesPadding,"fallback-placements":O.fallbackPlacements,"gpu-acceleration":O.gpuAcceleration,offset:O.offset,placement:O.placement,"popper-options":O.popperOptions,strategy:O.strategy,effect:O.effect,enterable:O.enterable,pure:O.pure,"popper-class":O.popperClass,"popper-style":[O.popperStyle,g(k)],"reference-el":O.referenceEl,"trigger-target-el":O.triggerTargetEl,visible:g(_),"z-index":O.zIndex,onMouseenter:g(I),onMouseleave:g(W),onBlur:Z,onClose:g(d)}),{default:Ae(()=>[o.value?Me("v-if",!0):dt(O.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[ui,g(_)]]):Me("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var o7=At(r7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const a7=["innerHTML"],l7={key:1},c7=Re({name:"ElTooltip"}),u7=Re({...c7,props:X6,emits:Z6,setup(n,{expose:e,emit:t}){const i=n;y8();const s=iA(),r=se(),o=se(),a=()=>{var v;const w=g(r);w&&((v=w.popperInstanceRef)==null||v.update())},l=se(!1),c=se(),{show:u,hide:d,hasUpdateHandler:f}=J6({indicator:l,toggleReason:c}),{onOpen:h,onClose:p}=_8({showAfter:Mn(i,"showAfter"),hideAfter:Mn(i,"hideAfter"),autoClose:Mn(i,"autoClose"),open:u,close:d}),m=z(()=>nu(i.visible)&&!f.value);kn(_h,{controlled:m,id:s,open:wu(l),trigger:Mn(i,"trigger"),onOpen:v=>{h(v)},onClose:v=>{p(v)},onToggle:v=>{g(l)?p(v):h(v)},onShow:()=>{t("show",c.value)},onHide:()=>{t("hide",c.value)},onBeforeShow:()=>{t("before-show",c.value)},onBeforeHide:()=>{t("before-hide",c.value)},updatePopper:a}),$e(()=>i.disabled,v=>{v&&l.value&&(l.value=!1)});const b=()=>{var v,w;const C=(w=(v=o.value)==null?void 0:v.contentRef)==null?void 0:w.popperContentRef;return C&&C.contains(document.activeElement)};return Qv(()=>l.value&&d()),e({popperRef:r,contentRef:o,isFocusInsideContent:b,updatePopper:a,onOpen:h,onClose:p,hide:d}),(v,w)=>(U(),Ue(g(G6),{ref_key:"popperRef",ref:r,role:v.role},{default:Ae(()=>[pe(i7,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:Ae(()=>[v.$slots.default?dt(v.$slots,"default",{key:0}):Me("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),pe(o7,{ref_key:"contentRef",ref:o,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:Ae(()=>[dt(v.$slots,"content",{},()=>[v.rawContent?(U(),le("span",{key:0,innerHTML:v.content},null,8,a7)):(U(),le("span",l7,Oe(v.content),1))]),v.showArrow?(U(),Ue(g(p6),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Me("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var d7=At(u7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const wA=bs(d7),_A=Symbol("breadcrumbKey"),f7=vt({separator:{type:String,default:"/"},separatorIcon:{type:ea}}),h7=Re({name:"ElBreadcrumb"}),m7=Re({...h7,props:f7,setup(n){const e=n,t=mt("breadcrumb"),i=se();return kn(_A,e),dn(()=>{const s=i.value.querySelectorAll(`.${t.e("item")}`);s.length&&s[s.length-1].setAttribute("aria-current","page")}),(s,r)=>(U(),le("div",{ref_key:"breadcrumb",ref:i,class:Y(g(t).b()),"aria-label":"Breadcrumb",role:"navigation"},[dt(s.$slots,"default")],2))}});var p7=At(m7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const g7=vt({to:{type:qe([String,Object]),default:""},replace:{type:Boolean,default:!1}}),v7=Re({name:"ElBreadcrumbItem"}),b7=Re({...v7,props:g7,setup(n){const e=n,t=Lt(),i=ot(_A,void 0),s=mt("breadcrumb"),{separator:r,separatorIcon:o}=oa(i),a=t.appContext.config.globalProperties.$router,l=se(),c=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(u,d)=>(U(),le("span",{class:Y(g(s).e("item"))},[X("span",{ref_key:"link",ref:l,class:Y([g(s).e("inner"),g(s).is("link",!!u.to)]),role:"link",onClick:c},[dt(u.$slots,"default")],2),g(o)?(U(),Ue(g(St),{key:0,class:Y(g(s).e("separator"))},{default:Ae(()=>[(U(),Ue(Fn(g(o))))]),_:1},8,["class"])):(U(),le("span",{key:1,class:Y(g(s).e("separator")),role:"presentation"},Oe(g(r)),3))],2))}});var CA=At(b7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const y7=bs(p7,{BreadcrumbItem:CA}),w7=Vl(CA),kA=Symbol("buttonGroupContextKey"),_7=(n,e)=>{HT({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},z(()=>n.type==="text"));const t=ot(kA,void 0),i=cA("button"),{form:s}=fa(),r=na(z(()=>t==null?void 0:t.size)),o=yh(),a=se(),l=la(),c=z(()=>n.type||(t==null?void 0:t.type)||""),u=z(()=>{var p,m,b;return(b=(m=n.autoInsertSpace)!=null?m:(p=i.value)==null?void 0:p.autoInsertSpace)!=null?b:!1}),d=z(()=>n.tag==="button"?{ariaDisabled:o.value||n.loading,disabled:o.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),f=z(()=>{var p;const m=(p=l.default)==null?void 0:p.call(l);if(u.value&&(m==null?void 0:m.length)===1){const b=m[0];if((b==null?void 0:b.type)===js){const v=b.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:o,_size:r,_type:c,_ref:a,_props:d,shouldAddSpace:f,handleClick:p=>{n.nativeType==="reset"&&(s==null||s.resetFields()),e("click",p)}}},C7=["default","primary","success","warning","info","danger","text",""],k7=["button","submit","reset"],bg=vt({size:Ul,disabled:Boolean,type:{type:String,values:C7,default:""},icon:{type:ea},nativeType:{type:String,values:k7,default:"button"},loading:Boolean,loadingIcon:{type:ea,default:()=>$T},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:qe([String,Object]),default:"button"}}),S7={click:n=>n instanceof MouseEvent};function Wn(n,e){E7(n)&&(n="100%");var t=T7(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function dd(n){return Math.min(1,Math.max(0,n))}function E7(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function T7(n){return typeof n=="string"&&n.indexOf("%")!==-1}function SA(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function fd(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Ro(n){return n.length===1?"0"+n:String(n)}function A7(n,e,t){return{r:Wn(n,255)*255,g:Wn(e,255)*255,b:Wn(t,255)*255}}function V0(n,e,t){n=Wn(n,255),e=Wn(e,255),t=Wn(t,255);var i=Math.max(n,e,t),s=Math.min(n,e,t),r=0,o=0,a=(i+s)/2;if(i===s)o=0,r=0;else{var l=i-s;switch(o=a>.5?l/(2-i-s):l/(i+s),i){case n:r=(e-t)/l+(e<t?6:0);break;case e:r=(t-n)/l+2;break;case t:r=(n-e)/l+4;break}r/=6}return{h:r,s:o,l:a}}function Hm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function x7(n,e,t){var i,s,r;if(n=Wn(n,360),e=Wn(e,100),t=Wn(t,100),e===0)s=t,r=t,i=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;i=Hm(a,o,n+1/3),s=Hm(a,o,n),r=Hm(a,o,n-1/3)}return{r:i*255,g:s*255,b:r*255}}function U0(n,e,t){n=Wn(n,255),e=Wn(e,255),t=Wn(t,255);var i=Math.max(n,e,t),s=Math.min(n,e,t),r=0,o=i,a=i-s,l=i===0?0:a/i;if(i===s)r=0;else{switch(i){case n:r=(e-t)/a+(e<t?6:0);break;case e:r=(t-n)/a+2;break;case t:r=(n-e)/a+4;break}r/=6}return{h:r,s:l,v:o}}function P7(n,e,t){n=Wn(n,360)*6,e=Wn(e,100),t=Wn(t,100);var i=Math.floor(n),s=n-i,r=t*(1-e),o=t*(1-s*e),a=t*(1-(1-s)*e),l=i%6,c=[t,o,r,r,a,t][l],u=[a,t,t,o,r,r][l],d=[r,r,a,t,t,o][l];return{r:c*255,g:u*255,b:d*255}}function z0(n,e,t,i){var s=[Ro(Math.round(n).toString(16)),Ro(Math.round(e).toString(16)),Ro(Math.round(t).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function I7(n,e,t,i,s){var r=[Ro(Math.round(n).toString(16)),Ro(Math.round(e).toString(16)),Ro(Math.round(t).toString(16)),Ro(O7(i))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function O7(n){return Math.round(parseFloat(n)*255).toString(16)}function H0(n){return Ii(n)/255}function Ii(n){return parseInt(n,16)}function R7(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var yg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function M7(n){var e={r:0,g:0,b:0},t=1,i=null,s=null,r=null,o=!1,a=!1;return typeof n=="string"&&(n=N7(n)),typeof n=="object"&&(ir(n.r)&&ir(n.g)&&ir(n.b)?(e=A7(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):ir(n.h)&&ir(n.s)&&ir(n.v)?(i=fd(n.s),s=fd(n.v),e=P7(n.h,i,s),o=!0,a="hsv"):ir(n.h)&&ir(n.s)&&ir(n.l)&&(i=fd(n.s),r=fd(n.l),e=x7(n.h,i,r),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=SA(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var D7="[-\\+]?\\d+%?",F7="[-\\+]?\\d*\\.\\d+%?",jr="(?:".concat(F7,")|(?:").concat(D7,")"),Wm="[\\s|\\(]+(".concat(jr,")[,|\\s]+(").concat(jr,")[,|\\s]+(").concat(jr,")\\s*\\)?"),jm="[\\s|\\(]+(".concat(jr,")[,|\\s]+(").concat(jr,")[,|\\s]+(").concat(jr,")[,|\\s]+(").concat(jr,")\\s*\\)?"),ls={CSS_UNIT:new RegExp(jr),rgb:new RegExp("rgb"+Wm),rgba:new RegExp("rgba"+jm),hsl:new RegExp("hsl"+Wm),hsla:new RegExp("hsla"+jm),hsv:new RegExp("hsv"+Wm),hsva:new RegExp("hsva"+jm),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function N7(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(yg[n])n=yg[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=ls.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=ls.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ls.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=ls.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ls.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=ls.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ls.hex8.exec(n),t?{r:Ii(t[1]),g:Ii(t[2]),b:Ii(t[3]),a:H0(t[4]),format:e?"name":"hex8"}:(t=ls.hex6.exec(n),t?{r:Ii(t[1]),g:Ii(t[2]),b:Ii(t[3]),format:e?"name":"hex"}:(t=ls.hex4.exec(n),t?{r:Ii(t[1]+t[1]),g:Ii(t[2]+t[2]),b:Ii(t[3]+t[3]),a:H0(t[4]+t[4]),format:e?"name":"hex8"}:(t=ls.hex3.exec(n),t?{r:Ii(t[1]+t[1]),g:Ii(t[2]+t[2]),b:Ii(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function ir(n){return!!ls.CSS_UNIT.exec(String(n))}var L7=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=R7(e)),this.originalInput=e;var s=M7(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:s.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,s,r=e.r/255,o=e.g/255,a=e.b/255;return r<=.03928?t=r/12.92:t=Math.pow((r+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*i+.0722*s},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=SA(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=U0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=U0(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=V0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=V0(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),z0(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),I7(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(Wn(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(Wn(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+z0(this.r,this.g,this.b,!1),t=0,i=Object.entries(yg);t<i.length;t++){var s=i[t],r=s[0],o=s[1];if(e===o)return r}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var i=!1,s=this.a<1&&this.a>=0,r=!t&&s&&(e.startsWith("hex")||e==="name");return r?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=dd(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=dd(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=dd(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=dd(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),s=new n(e).toRgb(),r=t/100,o={r:(s.r-i.r)*r+i.r,g:(s.g-i.g)*r+i.g,b:(s.b-i.b)*r+i.b,a:(s.a-i.a)*r+i.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),s=360/t,r=[this];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,r.push(new n(i));return r},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,s=t.s,r=t.v,o=[],a=1/e;e--;)o.push(new n({h:i,s,v:r})),r=(r+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb(),s=t.a+i.a*(1-t.a);return new n({r:(t.r*t.a+i.r*i.a*(1-t.a))/s,g:(t.g*t.a+i.g*i.a*(1-t.a))/s,b:(t.b*t.a+i.b*i.a*(1-t.a))/s,a:s})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,s=[this],r=360/e,o=1;o<e;o++)s.push(new n({h:(i+o*r)%360,s:t.s,l:t.l}));return s},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function Rr(n,e=20){return n.mix("#141414",e).toString()}function B7(n){const e=yh(),t=mt("button");return z(()=>{let i={};const s=n.color;if(s){const r=new L7(s),o=n.dark?r.tint(20).toString():Rr(r,20);if(n.plain)i=t.cssVarBlock({"bg-color":n.dark?Rr(r,90):r.tint(90).toString(),"text-color":s,"border-color":n.dark?Rr(r,50):r.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":o,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(i[t.cssVarBlockName("disabled-bg-color")]=n.dark?Rr(r,90):r.tint(90).toString(),i[t.cssVarBlockName("disabled-text-color")]=n.dark?Rr(r,50):r.tint(50).toString(),i[t.cssVarBlockName("disabled-border-color")]=n.dark?Rr(r,80):r.tint(80).toString());else{const a=n.dark?Rr(r,30):r.tint(30).toString(),l=r.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(i=t.cssVarBlock({"bg-color":s,"text-color":l,"border-color":s,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),e.value){const c=n.dark?Rr(r,50):r.tint(50).toString();i[t.cssVarBlockName("disabled-bg-color")]=c,i[t.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,i[t.cssVarBlockName("disabled-border-color")]=c}}}return i})}const $7=Re({name:"ElButton"}),V7=Re({...$7,props:bg,emits:S7,setup(n,{expose:e,emit:t}){const i=n,s=B7(i),r=mt("button"),{_ref:o,_size:a,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:f}=_7(i,t);return e({ref:o,size:a,type:l,disabled:c,shouldAddSpace:d}),(h,p)=>(U(),Ue(Fn(h.tag),Yi({ref_key:"_ref",ref:o},g(u),{class:[g(r).b(),g(r).m(g(l)),g(r).m(g(a)),g(r).is("disabled",g(c)),g(r).is("loading",h.loading),g(r).is("plain",h.plain),g(r).is("round",h.round),g(r).is("circle",h.circle),g(r).is("text",h.text),g(r).is("link",h.link),g(r).is("has-bg",h.bg)],style:g(s),onClick:g(f)}),{default:Ae(()=>[h.loading?(U(),le(tt,{key:0},[h.$slots.loading?dt(h.$slots,"loading",{key:0}):(U(),Ue(g(St),{key:1,class:Y(g(r).is("loading"))},{default:Ae(()=>[(U(),Ue(Fn(h.loadingIcon)))]),_:1},8,["class"]))],64)):h.icon||h.$slots.icon?(U(),Ue(g(St),{key:1},{default:Ae(()=>[h.icon?(U(),Ue(Fn(h.icon),{key:0})):dt(h.$slots,"icon",{key:1})]),_:3})):Me("v-if",!0),h.$slots.default?(U(),le("span",{key:2,class:Y({[g(r).em("text","expand")]:g(d)})},[dt(h.$slots,"default")],2)):Me("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var U7=At(V7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const z7={size:bg.size,type:bg.type},H7=Re({name:"ElButtonGroup"}),W7=Re({...H7,props:z7,setup(n){const e=n;kn(kA,Wi({size:Mn(e,"size"),type:Mn(e,"type")}));const t=mt("button");return(i,s)=>(U(),le("div",{class:Y(`${g(t).b("group")}`)},[dt(i.$slots,"default")],2))}});var EA=At(W7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ml=bs(U7,{ButtonGroup:EA});Vl(EA);var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function TA(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){if(this instanceof i){var s=[null];s.push.apply(s,arguments);var r=Function.bind.apply(e,s);return new r}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var AA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){var t=1e3,i=6e4,s=36e5,r="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var F=["th","st","nd","rd"],Z=B%100;return"["+B+(F[(Z-20)%10]||F[Z]||F[0])+"]"}},C=function(B,F,Z){var te=String(B);return!te||te.length>=F?B:""+Array(F+1-te.length).join(Z)+B},_={s:C,z:function(B){var F=-B.utcOffset(),Z=Math.abs(F),te=Math.floor(Z/60),O=Z%60;return(F<=0?"+":"-")+C(te,2,"0")+":"+C(O,2,"0")},m:function B(F,Z){if(F.date()<Z.date())return-B(Z,F);var te=12*(Z.year()-F.year())+(Z.month()-F.month()),O=F.clone().add(te,d),J=Z-O<0,V=F.clone().add(te+(J?-1:1),d);return+(-(te+(Z-O)/(J?O-V:V-O))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:d,y:h,w:u,d:c,D:p,h:l,m:a,s:o,ms:r,Q:f}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},T="en",k={};k[T]=w;var E=function(B){return B instanceof W},S=function B(F,Z,te){var O;if(!F)return T;if(typeof F=="string"){var J=F.toLowerCase();k[J]&&(O=J),Z&&(k[J]=Z,O=J);var V=F.split("-");if(!O&&V.length>1)return B(V[0])}else{var Q=F.name;k[Q]=F,O=Q}return!te&&O&&(T=O),O||!te&&T},P=function(B,F){if(E(B))return B.clone();var Z=typeof F=="object"?F:{};return Z.date=B,Z.args=arguments,new W(Z)},I=_;I.l=S,I.i=E,I.w=function(B,F){return P(B,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var W=function(){function B(Z){this.$L=S(Z.locale,null,!0),this.parse(Z)}var F=B.prototype;return F.parse=function(Z){this.$d=function(te){var O=te.date,J=te.utc;if(O===null)return new Date(NaN);if(I.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var V=O.match(b);if(V){var Q=V[2]-1||0,be=(V[7]||"0").substring(0,3);return J?new Date(Date.UTC(V[1],Q,V[3]||1,V[4]||0,V[5]||0,V[6]||0,be)):new Date(V[1],Q,V[3]||1,V[4]||0,V[5]||0,V[6]||0,be)}}return new Date(O)}(Z),this.$x=Z.x||{},this.init()},F.init=function(){var Z=this.$d;this.$y=Z.getFullYear(),this.$M=Z.getMonth(),this.$D=Z.getDate(),this.$W=Z.getDay(),this.$H=Z.getHours(),this.$m=Z.getMinutes(),this.$s=Z.getSeconds(),this.$ms=Z.getMilliseconds()},F.$utils=function(){return I},F.isValid=function(){return this.$d.toString()!==m},F.isSame=function(Z,te){var O=P(Z);return this.startOf(te)<=O&&O<=this.endOf(te)},F.isAfter=function(Z,te){return P(Z)<this.startOf(te)},F.isBefore=function(Z,te){return this.endOf(te)<P(Z)},F.$g=function(Z,te,O){return I.u(Z)?this[te]:this.set(O,Z)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(Z,te){var O=this,J=!!I.u(te)||te,V=I.p(Z),Q=function(Ie,Ne){var Be=I.w(O.$u?Date.UTC(O.$y,Ne,Ie):new Date(O.$y,Ne,Ie),O);return J?Be:Be.endOf(c)},be=function(Ie,Ne){return I.w(O.toDate()[Ie].apply(O.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(Ne)),O)},R=this.$W,N=this.$M,me=this.$D,he="set"+(this.$u?"UTC":"");switch(V){case h:return J?Q(1,0):Q(31,11);case d:return J?Q(1,N):Q(0,N+1);case u:var xe=this.$locale().weekStart||0,je=(R<xe?R+7:R)-xe;return Q(J?me-je:me+(6-je),N);case c:case p:return be(he+"Hours",0);case l:return be(he+"Minutes",1);case a:return be(he+"Seconds",2);case o:return be(he+"Milliseconds",3);default:return this.clone()}},F.endOf=function(Z){return this.startOf(Z,!1)},F.$set=function(Z,te){var O,J=I.p(Z),V="set"+(this.$u?"UTC":""),Q=(O={},O[c]=V+"Date",O[p]=V+"Date",O[d]=V+"Month",O[h]=V+"FullYear",O[l]=V+"Hours",O[a]=V+"Minutes",O[o]=V+"Seconds",O[r]=V+"Milliseconds",O)[J],be=J===c?this.$D+(te-this.$W):te;if(J===d||J===h){var R=this.clone().set(p,1);R.$d[Q](be),R.init(),this.$d=R.set(p,Math.min(this.$D,R.daysInMonth())).$d}else Q&&this.$d[Q](be);return this.init(),this},F.set=function(Z,te){return this.clone().$set(Z,te)},F.get=function(Z){return this[I.p(Z)]()},F.add=function(Z,te){var O,J=this;Z=Number(Z);var V=I.p(te),Q=function(N){var me=P(J);return I.w(me.date(me.date()+Math.round(N*Z)),J)};if(V===d)return this.set(d,this.$M+Z);if(V===h)return this.set(h,this.$y+Z);if(V===c)return Q(1);if(V===u)return Q(7);var be=(O={},O[a]=i,O[l]=s,O[o]=t,O)[V]||1,R=this.$d.getTime()+Z*be;return I.w(R,this)},F.subtract=function(Z,te){return this.add(-1*Z,te)},F.format=function(Z){var te=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var J=Z||"YYYY-MM-DDTHH:mm:ssZ",V=I.z(this),Q=this.$H,be=this.$m,R=this.$M,N=O.weekdays,me=O.months,he=function(Ne,Be,it,x){return Ne&&(Ne[Be]||Ne(te,J))||it[Be].slice(0,x)},xe=function(Ne){return I.s(Q%12||12,Ne,"0")},je=O.meridiem||function(Ne,Be,it){var x=Ne<12?"AM":"PM";return it?x.toLowerCase():x},Ie={YY:String(this.$y).slice(-2),YYYY:this.$y,M:R+1,MM:I.s(R+1,2,"0"),MMM:he(O.monthsShort,R,me,3),MMMM:he(me,R),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:he(O.weekdaysMin,this.$W,N,2),ddd:he(O.weekdaysShort,this.$W,N,3),dddd:N[this.$W],H:String(Q),HH:I.s(Q,2,"0"),h:xe(1),hh:xe(2),a:je(Q,be,!0),A:je(Q,be,!1),m:String(be),mm:I.s(be,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:V};return J.replace(v,function(Ne,Be){return Be||Ie[Ne]||V.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(Z,te,O){var J,V=I.p(te),Q=P(Z),be=(Q.utcOffset()-this.utcOffset())*i,R=this-Q,N=I.m(this,Q);return N=(J={},J[h]=N/12,J[d]=N,J[f]=N/3,J[u]=(R-be)/6048e5,J[c]=(R-be)/864e5,J[l]=R/s,J[a]=R/i,J[o]=R/t,J)[V]||R,O?N:I.a(N)},F.daysInMonth=function(){return this.endOf(d).$D},F.$locale=function(){return k[this.$L]},F.locale=function(Z,te){if(!Z)return this.$L;var O=this.clone(),J=S(Z,te,!0);return J&&(O.$L=J),O},F.clone=function(){return I.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},B}(),j=W.prototype;return P.prototype=j,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",p]].forEach(function(B){j[B[1]]=function(F){return this.$g(F,B[0],B[1])}}),P.extend=function(B,F){return B.$i||(B(F,W,P),B.$i=!0),P},P.locale=S,P.isDayjs=E,P.unix=function(B){return P(1e3*B)},P.en=k[T],P.Ls=k,P.p={},P})})(AA);var j7=AA.exports;const st=xi(j7);var xA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(b){this[m]=+b}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var v=b.match(/([+-]|\d\d)/g),w=60*v[1]+(+v[2]||0);return w===0?0:v[0]==="+"?-w:w}(m)}],d=function(m){var b=a[m];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(m,b){var v,w=a.meridiem;if(w){for(var C=1;C<=24;C+=1)if(m.indexOf(w(C,0,b))>-1){v=C>12;break}}else v=m===(b?"pm":"PM");return v},h={A:[o,function(m){this.afternoon=f(m,!1)}],a:[o,function(m){this.afternoon=f(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[s,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[r,c("seconds")],ss:[r,c("seconds")],m:[r,c("minutes")],mm:[r,c("minutes")],H:[r,c("hours")],h:[r,c("hours")],HH:[r,c("hours")],hh:[r,c("hours")],D:[r,c("day")],DD:[s,c("day")],Do:[o,function(m){var b=a.ordinal,v=m.match(/\d+/);if(this.day=v[0],b)for(var w=1;w<=31;w+=1)b(w).replace(/\[|\]/g,"")===m&&(this.day=w)}],M:[r,c("month")],MM:[s,c("month")],MMM:[o,function(m){var b=d("months"),v=(d("monthsShort")||b.map(function(w){return w.slice(0,3)})).indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[o,function(m){var b=d("months").indexOf(m)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,c("year")],YY:[s,function(m){this.year=l(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function p(m){var b,v;b=m,v=a&&a.formats;for(var w=(m=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,I,W){var j=W&&W.toUpperCase();return I||v[W]||t[W]||v[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(B,F,Z){return F||Z.slice(1)})})).match(i),C=w.length,_=0;_<C;_+=1){var T=w[_],k=h[T],E=k&&k[0],S=k&&k[1];w[_]=S?{regex:E,parser:S}:T.replace(/^\[|\]$/g,"")}return function(P){for(var I={},W=0,j=0;W<C;W+=1){var B=w[W];if(typeof B=="string")j+=B.length;else{var F=B.regex,Z=B.parser,te=P.slice(j),O=F.exec(te)[0];Z.call(I,O),P=P.replace(O,"")}}return function(J){var V=J.afternoon;if(V!==void 0){var Q=J.hours;V?Q<12&&(J.hours+=12):Q===12&&(J.hours=0),delete J.afternoon}}(I),I}}return function(m,b,v){v.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var w=b.prototype,C=w.parse;w.parse=function(_){var T=_.date,k=_.utc,E=_.args;this.$u=k;var S=E[1];if(typeof S=="string"){var P=E[2]===!0,I=E[3]===!0,W=P||I,j=E[2];I&&(j=E[2]),a=this.$locale(),!P&&j&&(a=v.Ls[j]),this.$d=function(te,O,J){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*te);var V=p(O)(te),Q=V.year,be=V.month,R=V.day,N=V.hours,me=V.minutes,he=V.seconds,xe=V.milliseconds,je=V.zone,Ie=new Date,Ne=R||(Q||be?1:Ie.getDate()),Be=Q||Ie.getFullYear(),it=0;Q&&!be||(it=be>0?be-1:Ie.getMonth());var x=N||0,D=me||0,ee=he||0,ce=xe||0;return je?new Date(Date.UTC(Be,it,Ne,x,D,ee,ce+60*je.offset*1e3)):J?new Date(Date.UTC(Be,it,Ne,x,D,ee,ce)):new Date(Be,it,Ne,x,D,ee,ce)}catch{return new Date("")}}(T,S,k),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),W&&T!=this.format(S)&&(this.$d=new Date("")),a={}}else if(S instanceof Array)for(var B=S.length,F=1;F<=B;F+=1){E[1]=S[F-1];var Z=v.apply(this,E);if(Z.isValid()){this.$d=Z.$d,this.$L=Z.$L,this.init();break}F===B&&(this.$d=new Date(""))}else C.call(this,_)}}})})(xA);var q7=xA.exports;const K7=xi(q7),W0=["hours","minutes","seconds"],j0="HH:mm:ss",$a="YYYY-MM-DD",G7={date:$a,dates:$a,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${$a} ${j0}`,monthrange:"YYYY-MM",daterange:$a,datetimerange:`${$a} ${j0}`},qm=(n,e)=>[n>0?n-1:void 0,n,n<e?n+1:void 0],PA=n=>Array.from(Array.from({length:n}).keys()),IA=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),OA=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),q0=function(n,e){const t=nf(n),i=nf(e);return t&&i?n.getTime()===e.getTime():!t&&!i?n===e:!1},K0=function(n,e){const t=Pe(n),i=Pe(e);return t&&i?n.length!==e.length?!1:n.every((s,r)=>q0(s,e[r])):!t&&!i?q0(n,e):!1},G0=function(n,e,t){const i=NT(e)||e==="x"?st(n).locale(t):st(n,e).locale(t);return i.isValid()?i:void 0},Q0=function(n,e,t){return NT(e)?n:e==="x"?+n:st(n).locale(t).format(e)},Km=(n,e)=>{var t;const i=[],s=e==null?void 0:e();for(let r=0;r<n;r++)i.push((t=s==null?void 0:s.includes(r))!=null?t:!1);return i},RA=vt({disabledHours:{type:qe(Function)},disabledMinutes:{type:qe(Function)},disabledSeconds:{type:qe(Function)}}),Q7=vt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),MA=vt({id:{type:qe([Array,String])},name:{type:qe([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:qe([String,Object]),default:ph},editable:{type:Boolean,default:!0},prefixIcon:{type:qe([String,Object]),default:""},size:Ul,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:qe(Object),default:()=>({})},modelValue:{type:qe([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:qe([Date,Array])},defaultTime:{type:qe([Date,Array])},isRange:{type:Boolean,default:!1},...RA,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:qe([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Y7=["id","name","placeholder","value","disabled","readonly"],J7=["id","name","placeholder","value","disabled","readonly"],X7=Re({name:"Picker"}),Z7=Re({...X7,props:MA,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(n,{expose:e,emit:t}){const i=n,{lang:s}=ji(),r=mt("date"),o=mt("input"),a=mt("range"),{form:l,formItem:c}=fa(),u=ot("ElPopperOptions",{}),d=se(),f=se(),h=se(!1),p=se(!1),m=se(null);let b=!1,v=!1;$e(h,q=>{q?lt(()=>{q&&(m.value=i.modelValue)}):(ae.value=null,lt(()=>{w(i.modelValue)}))});const w=(q,re)=>{(re||!K0(q,m.value))&&(t("change",q),i.validateEvent&&(c==null||c.validate("change").catch(_e=>void 0)))},C=q=>{if(!K0(i.modelValue,q)){let re;Pe(q)?re=q.map(_e=>Q0(_e,i.valueFormat,s.value)):q&&(re=Q0(q,i.valueFormat,s.value)),t("update:modelValue",q&&re,s.value)}},_=q=>{t("keydown",q)},T=z(()=>{if(f.value){const q=D.value?f.value:f.value.$el;return Array.from(q.querySelectorAll("input"))}return[]}),k=(q,re,_e)=>{const Ee=T.value;Ee.length&&(!_e||_e==="min"?(Ee[0].setSelectionRange(q,re),Ee[0].focus()):_e==="max"&&(Ee[1].setSelectionRange(q,re),Ee[1].focus()))},E=()=>{Z(!0,!0),lt(()=>{v=!1})},S=(q="",re=!1)=>{re||(v=!0),h.value=re;let _e;Pe(q)?_e=q.map(Ee=>Ee.toDate()):_e=q&&q.toDate(),ae.value=null,C(_e)},P=()=>{p.value=!0},I=()=>{t("visible-change",!0)},W=q=>{(q==null?void 0:q.key)===Ht.esc&&Z(!0,!0)},j=()=>{p.value=!1,h.value=!1,v=!1,t("visible-change",!1)},B=()=>{h.value=!0},F=()=>{h.value=!1},Z=(q=!0,re=!1)=>{v=re;const[_e,Ee]=g(T);let ft=_e;!q&&D.value&&(ft=Ee),ft&&ft.focus()},te=q=>{i.readonly||V.value||h.value||v||(h.value=!0,t("focus",q))};let O;const J=q=>{const re=async()=>{setTimeout(()=>{var _e;O===re&&(!((_e=d.value)!=null&&_e.isFocusInsideContent()&&!b)&&T.value.filter(Ee=>Ee.contains(document.activeElement)).length===0&&(Te(),h.value=!1,t("blur",q),i.validateEvent&&(c==null||c.validate("blur").catch(Ee=>void 0))),b=!1)},0)};O=re,re()},V=z(()=>i.disabled||(l==null?void 0:l.disabled)),Q=z(()=>{let q;if(Ie.value?Fe.value.getDefaultValue&&(q=Fe.value.getDefaultValue()):Pe(i.modelValue)?q=i.modelValue.map(re=>G0(re,i.valueFormat,s.value)):q=G0(i.modelValue,i.valueFormat,s.value),Fe.value.getRangeAvailableTime){const re=Fe.value.getRangeAvailableTime(q);cl(re,q)||(q=re,C(Pe(q)?q.map(_e=>_e.toDate()):q.toDate()))}return Pe(q)&&q.some(re=>!re)&&(q=[]),q}),be=z(()=>{if(!Fe.value.panelReady)return"";const q=ye(Q.value);return Pe(ae.value)?[ae.value[0]||q&&q[0]||"",ae.value[1]||q&&q[1]||""]:ae.value!==null?ae.value:!N.value&&Ie.value||!h.value&&Ie.value?"":q?me.value?q.join(", "):q:""}),R=z(()=>i.type.includes("time")),N=z(()=>i.type.startsWith("time")),me=z(()=>i.type==="dates"),he=z(()=>i.prefixIcon||(R.value?u$:HB)),xe=se(!1),je=q=>{i.readonly||V.value||xe.value&&(q.stopPropagation(),E(),C(null),w(null,!0),xe.value=!1,h.value=!1,Fe.value.handleClear&&Fe.value.handleClear())},Ie=z(()=>{const{modelValue:q}=i;return!q||Pe(q)&&!q.filter(Boolean).length}),Ne=async q=>{var re;i.readonly||V.value||(((re=q.target)==null?void 0:re.tagName)!=="INPUT"||T.value.includes(document.activeElement))&&(h.value=!0)},Be=()=>{i.readonly||V.value||!Ie.value&&i.clearable&&(xe.value=!0)},it=()=>{xe.value=!1},x=q=>{var re;i.readonly||V.value||(((re=q.touches[0].target)==null?void 0:re.tagName)!=="INPUT"||T.value.includes(document.activeElement))&&(h.value=!0)},D=z(()=>i.type.includes("range")),ee=na(),ce=z(()=>{var q,re;return(re=(q=g(d))==null?void 0:q.popperRef)==null?void 0:re.contentRef}),de=z(()=>{var q;return g(D)?g(f):(q=g(f))==null?void 0:q.$el});GE(de,q=>{const re=g(ce),_e=g(de);re&&(q.target===re||q.composedPath().includes(re))||q.target===_e||q.composedPath().includes(_e)||(h.value=!1)});const ae=se(null),Te=()=>{if(ae.value){const q=ge(be.value);q&&oe(q)&&(C(Pe(q)?q.map(re=>re.toDate()):q.toDate()),ae.value=null)}ae.value===""&&(C(null),w(null),ae.value=null)},ge=q=>q?Fe.value.parseUserInput(q):null,ye=q=>q?Fe.value.formatToString(q):null,oe=q=>Fe.value.isValidValue(q),H=async q=>{if(i.readonly||V.value)return;const{code:re}=q;if(_(q),re===Ht.esc){h.value===!0&&(h.value=!1,q.preventDefault(),q.stopPropagation());return}if(re===Ht.down&&(Fe.value.handleFocusPicker&&(q.preventDefault(),q.stopPropagation()),h.value===!1&&(h.value=!0,await lt()),Fe.value.handleFocusPicker)){Fe.value.handleFocusPicker();return}if(re===Ht.tab){b=!0;return}if(re===Ht.enter||re===Ht.numpadEnter){(ae.value===null||ae.value===""||oe(ge(be.value)))&&(Te(),h.value=!1),q.stopPropagation();return}if(ae.value){q.stopPropagation();return}Fe.value.handleKeydownInput&&Fe.value.handleKeydownInput(q)},G=q=>{ae.value=q,h.value||(h.value=!0)},K=q=>{const re=q.target;ae.value?ae.value=[re.value,ae.value[1]]:ae.value=[re.value,null]},we=q=>{const re=q.target;ae.value?ae.value=[ae.value[0],re.value]:ae.value=[null,re.value]},Ve=()=>{var q;const re=ae.value,_e=ge(re&&re[0]),Ee=g(Q);if(_e&&_e.isValid()){ae.value=[ye(_e),((q=be.value)==null?void 0:q[1])||null];const ft=[_e,Ee&&(Ee[1]||null)];oe(ft)&&(C(ft),ae.value=null)}},Qe=()=>{var q;const re=g(ae),_e=ge(re&&re[1]),Ee=g(Q);if(_e&&_e.isValid()){ae.value=[((q=g(be))==null?void 0:q[0])||null,ye(_e)];const ft=[Ee&&Ee[0],_e];oe(ft)&&(C(ft),ae.value=null)}},Fe=se({}),ie=q=>{Fe.value[q[0]]=q[1],Fe.value.panelReady=!0},ke=q=>{t("calendar-change",q)},Ke=(q,re,_e)=>{t("panel-change",q,re,_e)};return kn("EP_PICKER_BASE",{props:i}),e({focus:Z,handleFocusInput:te,handleBlurInput:J,handleOpen:B,handleClose:F,onPick:S}),(q,re)=>(U(),Ue(g(wA),Yi({ref_key:"refPopper",ref:d,visible:h.value,effect:"light",pure:"",trigger:"click"},q.$attrs,{role:"dialog",teleported:"",transition:`${g(r).namespace.value}-zoom-in-top`,"popper-class":[`${g(r).namespace.value}-picker__popper`,q.popperClass],"popper-options":g(u),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:P,onShow:I,onHide:j}),{default:Ae(()=>[g(D)?(U(),le("div",{key:1,ref_key:"inputRef",ref:f,class:Y([g(r).b("editor"),g(r).bm("editor",q.type),g(o).e("wrapper"),g(r).is("disabled",g(V)),g(r).is("active",h.value),g(a).b("editor"),g(ee)?g(a).bm("editor",g(ee)):"",q.$attrs.class]),style:mn(q.$attrs.style),onClick:te,onMouseenter:Be,onMouseleave:it,onTouchstart:x,onKeydown:H},[g(he)?(U(),Ue(g(St),{key:0,class:Y([g(o).e("icon"),g(a).e("icon")]),onMousedown:on(Ne,["prevent"]),onTouchstart:x},{default:Ae(()=>[(U(),Ue(Fn(g(he))))]),_:1},8,["class","onMousedown"])):Me("v-if",!0),X("input",{id:q.id&&q.id[0],autocomplete:"off",name:q.name&&q.name[0],placeholder:q.startPlaceholder,value:g(be)&&g(be)[0],disabled:g(V),readonly:!q.editable||q.readonly,class:Y(g(a).b("input")),onMousedown:Ne,onInput:K,onChange:Ve,onFocus:te,onBlur:J},null,42,Y7),dt(q.$slots,"range-separator",{},()=>[X("span",{class:Y(g(a).b("separator"))},Oe(q.rangeSeparator),3)]),X("input",{id:q.id&&q.id[1],autocomplete:"off",name:q.name&&q.name[1],placeholder:q.endPlaceholder,value:g(be)&&g(be)[1],disabled:g(V),readonly:!q.editable||q.readonly,class:Y(g(a).b("input")),onMousedown:Ne,onFocus:te,onBlur:J,onInput:we,onChange:Qe},null,42,J7),q.clearIcon?(U(),Ue(g(St),{key:1,class:Y([g(o).e("icon"),g(a).e("close-icon"),{[g(a).e("close-icon--hidden")]:!xe.value}]),onClick:je},{default:Ae(()=>[(U(),Ue(Fn(q.clearIcon)))]),_:1},8,["class"])):Me("v-if",!0)],38)):(U(),Ue(g(Fs),{key:0,id:q.id,ref_key:"inputRef",ref:f,"container-role":"combobox","model-value":g(be),name:q.name,size:g(ee),disabled:g(V),placeholder:q.placeholder,class:Y([g(r).b("editor"),g(r).bm("editor",q.type),q.$attrs.class]),style:mn(q.$attrs.style),readonly:!q.editable||q.readonly||g(me)||q.type==="week",label:q.label,tabindex:q.tabindex,"validate-event":!1,onInput:G,onFocus:te,onBlur:J,onKeydown:H,onChange:Te,onMousedown:Ne,onMouseenter:Be,onMouseleave:it,onTouchstart:x,onClick:re[0]||(re[0]=on(()=>{},["stop"]))},{prefix:Ae(()=>[g(he)?(U(),Ue(g(St),{key:0,class:Y(g(o).e("icon")),onMousedown:on(Ne,["prevent"]),onTouchstart:x},{default:Ae(()=>[(U(),Ue(Fn(g(he))))]),_:1},8,["class","onMousedown"])):Me("v-if",!0)]),suffix:Ae(()=>[xe.value&&q.clearIcon?(U(),Ue(g(St),{key:0,class:Y(`${g(o).e("icon")} clear-icon`),onClick:on(je,["stop"])},{default:Ae(()=>[(U(),Ue(Fn(q.clearIcon)))]),_:1},8,["class","onClick"])):Me("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Ae(()=>[dt(q.$slots,"default",{visible:h.value,actualVisible:p.value,parsedValue:g(Q),format:q.format,unlinkPanels:q.unlinkPanels,type:q.type,defaultValue:q.defaultValue,onPick:S,onSelectRange:k,onSetPickerOption:ie,onCalendarChange:ke,onPanelChange:Ke,onKeydown:W,onMousedown:re[1]||(re[1]=on(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var eU=At(Z7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const tU=vt({...Q7,datetimeRole:String,parsedValue:{type:qe(Object)}}),nU=({getAvailableHours:n,getAvailableMinutes:e,getAvailableSeconds:t})=>{const i=(o,a,l,c)=>{const u={hour:n,minute:e,second:t};let d=o;return["hour","minute","second"].forEach(f=>{if(u[f]){let h;const p=u[f];switch(f){case"minute":{h=p(d.hour(),a,c);break}case"second":{h=p(d.hour(),d.minute(),a,c);break}default:{h=p(a,c);break}}if(h!=null&&h.length&&!h.includes(d[f]())){const m=l?0:h.length-1;d=d[f](h[m])}}}),d},s={};return{timePickerOptions:s,getAvailableTime:i,onSetOption:([o,a])=>{s[o]=a}}},Gm=n=>{const e=(i,s)=>i||s,t=i=>i!==!0;return n.map(e).filter(t)},DA=(n,e,t)=>({getHoursList:(o,a)=>Km(24,n&&(()=>n==null?void 0:n(o,a))),getMinutesList:(o,a,l)=>Km(60,e&&(()=>e==null?void 0:e(o,a,l))),getSecondsList:(o,a,l,c)=>Km(60,t&&(()=>t==null?void 0:t(o,a,l,c)))}),iU=(n,e,t)=>{const{getHoursList:i,getMinutesList:s,getSecondsList:r}=DA(n,e,t);return{getAvailableHours:(c,u)=>Gm(i(c,u)),getAvailableMinutes:(c,u,d)=>Gm(s(c,u,d)),getAvailableSeconds:(c,u,d,f)=>Gm(r(c,u,d,f))}},sU=n=>{const e=se(n.parsedValue);return $e(()=>n.visible,t=>{t||(e.value=n.parsedValue)}),e},Lr=new Map;let Y0;fi&&(document.addEventListener("mousedown",n=>Y0=n),document.addEventListener("mouseup",n=>{for(const e of Lr.values())for(const{documentHandler:t}of e)t(n,Y0)}));function J0(n,e){let t=[];return Array.isArray(e.arg)?t=e.arg:iu(e.arg)&&t.push(e.arg),function(i,s){const r=e.instance.popperRef,o=i.target,a=s==null?void 0:s.target,l=!e||!e.instance,c=!o||!a,u=n.contains(o)||n.contains(a),d=n===o,f=t.length&&t.some(p=>p==null?void 0:p.contains(o))||t.length&&t.includes(a),h=r&&(r.contains(o)||r.contains(a));l||c||u||d||f||h||e.value(i,s)}}const yf={beforeMount(n,e){Lr.has(n)||Lr.set(n,[]),Lr.get(n).push({documentHandler:J0(n,e),bindingFn:e.value})},updated(n,e){Lr.has(n)||Lr.set(n,[]);const t=Lr.get(n),i=t.findIndex(r=>r.bindingFn===e.oldValue),s={documentHandler:J0(n,e),bindingFn:e.value};i>=0?t.splice(i,1,s):t.push(s)},unmounted(n){Lr.delete(n)}},rU=100,oU=600,X0={beforeMount(n,e){const t=e.value,{interval:i=rU,delay:s=oU}=We(t)?{}:t;let r,o;const a=()=>We(t)?t():t.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),r&&(clearInterval(r),r=void 0)};n.addEventListener("mousedown",c=>{c.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{r=setInterval(()=>{a()},i)},s))})}},aU=vt({role:{type:String,required:!0},spinnerDate:{type:qe(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:qe(String),default:""},...RA}),lU=["onClick"],cU=["onMouseenter"],uU=Re({__name:"basic-time-spinner",props:aU,emits:["change","select-range","set-option"],setup(n,{emit:e}){const t=n,i=mt("time"),{getHoursList:s,getMinutesList:r,getSecondsList:o}=DA(t.disabledHours,t.disabledMinutes,t.disabledSeconds);let a=!1;const l=se(),c=se(),u=se(),d=se(),f={hours:c,minutes:u,seconds:d},h=z(()=>t.showSeconds?W0:W0.slice(0,2)),p=z(()=>{const{spinnerDate:V}=t,Q=V.hour(),be=V.minute(),R=V.second();return{hours:Q,minutes:be,seconds:R}}),m=z(()=>{const{hours:V,minutes:Q}=g(p);return{hours:s(t.role),minutes:r(V,t.role),seconds:o(V,Q,t.role)}}),b=z(()=>{const{hours:V,minutes:Q,seconds:be}=g(p);return{hours:qm(V,23),minutes:qm(Q,59),seconds:qm(be,59)}}),v=io(V=>{a=!1,_(V)},200),w=V=>{if(!!!t.amPmMode)return"";const be=t.amPmMode==="A";let R=V<12?" am":" pm";return be&&(R=R.toUpperCase()),R},C=V=>{let Q;switch(V){case"hours":Q=[0,2];break;case"minutes":Q=[3,5];break;case"seconds":Q=[6,8];break}const[be,R]=Q;e("select-range",be,R),l.value=V},_=V=>{E(V,g(p)[V])},T=()=>{_("hours"),_("minutes"),_("seconds")},k=V=>V.querySelector(`.${i.namespace.value}-scrollbar__wrap`),E=(V,Q)=>{if(t.arrowControl)return;const be=g(f[V]);be&&be.$el&&(k(be.$el).scrollTop=Math.max(0,Q*S(V)))},S=V=>{const Q=g(f[V]);return(Q==null?void 0:Q.$el.querySelector("li").offsetHeight)||0},P=()=>{W(1)},I=()=>{W(-1)},W=V=>{l.value||C("hours");const Q=l.value,be=g(p)[Q],R=l.value==="hours"?24:60,N=j(Q,be,V,R);B(Q,N),E(Q,N),lt(()=>C(Q))},j=(V,Q,be,R)=>{let N=(Q+be+R)%R;const me=g(m)[V];for(;me[N]&&N!==Q;)N=(N+be+R)%R;return N},B=(V,Q)=>{if(g(m)[V][Q])return;const{hours:N,minutes:me,seconds:he}=g(p);let xe;switch(V){case"hours":xe=t.spinnerDate.hour(Q).minute(me).second(he);break;case"minutes":xe=t.spinnerDate.hour(N).minute(Q).second(he);break;case"seconds":xe=t.spinnerDate.hour(N).minute(me).second(Q);break}e("change",xe)},F=(V,{value:Q,disabled:be})=>{be||(B(V,Q),C(V),E(V,Q))},Z=V=>{a=!0,v(V);const Q=Math.min(Math.round((k(g(f[V]).$el).scrollTop-(te(V)*.5-10)/S(V)+3)/S(V)),V==="hours"?23:59);B(V,Q)},te=V=>g(f[V]).$el.offsetHeight,O=()=>{const V=Q=>{const be=g(f[Q]);be&&be.$el&&(k(be.$el).onscroll=()=>{Z(Q)})};V("hours"),V("minutes"),V("seconds")};dn(()=>{lt(()=>{!t.arrowControl&&O(),T(),t.role==="start"&&C("hours")})});const J=(V,Q)=>{f[Q].value=V};return e("set-option",[`${t.role}_scrollDown`,W]),e("set-option",[`${t.role}_emitSelectRange`,C]),$e(()=>t.spinnerDate,()=>{a||T()}),(V,Q)=>(U(),le("div",{class:Y([g(i).b("spinner"),{"has-seconds":V.showSeconds}])},[V.arrowControl?Me("v-if",!0):(U(!0),le(tt,{key:0},ln(g(h),be=>(U(),Ue(g(dA),{key:be,ref_for:!0,ref:R=>J(R,be),class:Y(g(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":g(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:R=>C(be),onMousemove:R=>_(be)},{default:Ae(()=>[(U(!0),le(tt,null,ln(g(m)[be],(R,N)=>(U(),le("li",{key:N,class:Y([g(i).be("spinner","item"),g(i).is("active",N===g(p)[be]),g(i).is("disabled",R)]),onClick:me=>F(be,{value:N,disabled:R})},[be==="hours"?(U(),le(tt,{key:0},[cn(Oe(("0"+(V.amPmMode?N%12||12:N)).slice(-2))+Oe(w(N)),1)],64)):(U(),le(tt,{key:1},[cn(Oe(("0"+N).slice(-2)),1)],64))],10,lU))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),V.arrowControl?(U(!0),le(tt,{key:1},ln(g(h),be=>(U(),le("div",{key:be,class:Y([g(i).be("spinner","wrapper"),g(i).is("arrow")]),onMouseenter:R=>C(be)},[Wt((U(),Ue(g(St),{class:Y(["arrow-up",g(i).be("spinner","arrow")])},{default:Ae(()=>[pe(g(LB))]),_:1},8,["class"])),[[g(X0),I]]),Wt((U(),Ue(g(St),{class:Y(["arrow-down",g(i).be("spinner","arrow")])},{default:Ae(()=>[pe(g(BT))]),_:1},8,["class"])),[[g(X0),P]]),X("ul",{class:Y(g(i).be("spinner","list"))},[(U(!0),le(tt,null,ln(g(b)[be],(R,N)=>(U(),le("li",{key:N,class:Y([g(i).be("spinner","item"),g(i).is("active",R===g(p)[be]),g(i).is("disabled",g(m)[be][R])])},[typeof R=="number"?(U(),le(tt,{key:0},[be==="hours"?(U(),le(tt,{key:0},[cn(Oe(("0"+(V.amPmMode?R%12||12:R)).slice(-2))+Oe(w(R)),1)],64)):(U(),le(tt,{key:1},[cn(Oe(("0"+R).slice(-2)),1)],64))],64)):Me("v-if",!0)],2))),128))],2)],42,cU))),128)):Me("v-if",!0)],2))}});var dU=At(uU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const fU=Re({__name:"panel-time-pick",props:tU,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,i=ot("EP_PICKER_BASE"),{arrowControl:s,disabledHours:r,disabledMinutes:o,disabledSeconds:a,defaultValue:l}=i.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=iU(r,o,a),f=mt("time"),{t:h,lang:p}=ji(),m=se([0,2]),b=sU(t),v=z(()=>tu(t.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),w=z(()=>t.format.includes("ss")),C=z(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),_=J=>{const V=st(J).locale(p.value),Q=F(V);return V.isSame(Q)},T=()=>{e("pick",b.value,!1)},k=(J=!1,V=!1)=>{V||e("pick",t.parsedValue,J)},E=J=>{if(!t.visible)return;const V=F(J).millisecond(0);e("pick",V,!0)},S=(J,V)=>{e("select-range",J,V),m.value=[J,V]},P=J=>{const V=[0,3].concat(w.value?[6]:[]),Q=["hours","minutes"].concat(w.value?["seconds"]:[]),R=(V.indexOf(m.value[0])+J+V.length)%V.length;W.start_emitSelectRange(Q[R])},I=J=>{const V=J.code,{left:Q,right:be,up:R,down:N}=Ht;if([Q,be].includes(V)){P(V===Q?-1:1),J.preventDefault();return}if([R,N].includes(V)){const me=V===R?-1:1;W.start_scrollDown(me),J.preventDefault();return}},{timePickerOptions:W,onSetOption:j,getAvailableTime:B}=nU({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),F=J=>B(J,t.datetimeRole||"",!0),Z=J=>J?st(J,t.format).locale(p.value):null,te=J=>J?J.format(t.format):null,O=()=>st(l).locale(p.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",te]),e("set-picker-option",["parseUserInput",Z]),e("set-picker-option",["handleKeydownInput",I]),e("set-picker-option",["getRangeAvailableTime",F]),e("set-picker-option",["getDefaultValue",O]),(J,V)=>(U(),Ue(ms,{name:g(v)},{default:Ae(()=>[J.actualVisible||J.visible?(U(),le("div",{key:0,class:Y(g(f).b("panel"))},[X("div",{class:Y([g(f).be("panel","content"),{"has-seconds":g(w)}])},[pe(dU,{ref:"spinner",role:J.datetimeRole||"start","arrow-control":g(s),"show-seconds":g(w),"am-pm-mode":g(C),"spinner-date":J.parsedValue,"disabled-hours":g(r),"disabled-minutes":g(o),"disabled-seconds":g(a),onChange:E,onSetOption:g(j),onSelectRange:S},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),X("div",{class:Y(g(f).be("panel","footer"))},[X("button",{type:"button",class:Y([g(f).be("panel","btn"),"cancel"]),onClick:T},Oe(g(h)("el.datepicker.cancel")),3),X("button",{type:"button",class:Y([g(f).be("panel","btn"),"confirm"]),onClick:V[0]||(V[0]=Q=>k())},Oe(g(h)("el.datepicker.confirm")),3)],2)],2)):Me("v-if",!0)]),_:1},8,["name"]))}});var wg=At(fU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),FA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){return function(t,i,s){var r=i.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,h,p,m){var b=d.name?d:d.$locale(),v=o(b[f]),w=o(b[h]),C=v||w.map(function(T){return T.slice(0,p)});if(!m)return C;var _=b.weekStart;return C.map(function(T,k){return C[(k+(_||0))%7]})},l=function(){return s.Ls[s.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,m,b){return m||b.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return u.bind(this)()},s.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},s.months=function(){return a(l(),"months")},s.monthsShort=function(){return a(l(),"monthsShort","months",3)},s.weekdays=function(d){return a(l(),"weekdays",null,null,d)},s.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},s.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(FA);var hU=FA.exports;const mU=xi(hU),NA={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Ul,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},LA={[di]:n=>Tt(n)||Fi(n)||nu(n),change:n=>Tt(n)||Fi(n)||nu(n)},zl=Symbol("checkboxGroupContextKey"),pU=({model:n,isChecked:e})=>{const t=ot(zl,void 0),i=z(()=>{var r,o;const a=(r=t==null?void 0:t.max)==null?void 0:r.value,l=(o=t==null?void 0:t.min)==null?void 0:o.value;return!tu(a)&&n.value.length>=a&&!e.value||!tu(l)&&n.value.length<=l&&e.value});return{isDisabled:yh(z(()=>(t==null?void 0:t.disabled.value)||i.value)),isLimitDisabled:i}},gU=(n,{model:e,isLimitExceeded:t,hasOwnLabel:i,isDisabled:s,isLabeledByFormItem:r})=>{const o=ot(zl,void 0),{formItem:a}=fa(),{emit:l}=Lt();function c(p){var m,b;return p===n.trueLabel||p===!0?(m=n.trueLabel)!=null?m:!0:(b=n.falseLabel)!=null?b:!1}function u(p,m){l("change",c(p),m)}function d(p){if(t.value)return;const m=p.target;l("change",c(m.checked),p)}async function f(p){t.value||!i.value&&!s.value&&r.value&&(p.composedPath().some(v=>v.tagName==="LABEL")||(e.value=c([!1,n.falseLabel].includes(e.value)),await lt(),u(e.value,p)))}const h=z(()=>(o==null?void 0:o.validateEvent)||n.validateEvent);return $e(()=>n.modelValue,()=>{h.value&&(a==null||a.validate("change").catch(p=>void 0))}),{handleChange:d,onClickRoot:f}},vU=n=>{const e=se(!1),{emit:t}=Lt(),i=ot(zl,void 0),s=z(()=>tu(i)===!1),r=se(!1);return{model:z({get(){var a,l;return s.value?(a=i==null?void 0:i.modelValue)==null?void 0:a.value:(l=n.modelValue)!=null?l:e.value},set(a){var l,c;s.value&&Pe(a)?(r.value=((l=i==null?void 0:i.max)==null?void 0:l.value)!==void 0&&a.length>(i==null?void 0:i.max.value),r.value===!1&&((c=i==null?void 0:i.changeEvent)==null||c.call(i,a))):(t(di,a),e.value=a)}}),isGroup:s,isLimitExceeded:r}},bU=(n,e,{model:t})=>{const i=ot(zl,void 0),s=se(!1),r=z(()=>{const c=t.value;return nu(c)?c:Pe(c)?pt(n.label)?c.map(ut).some(u=>cl(u,n.label)):c.map(ut).includes(n.label):c!=null?c===n.trueLabel:!!c}),o=na(z(()=>{var c;return(c=i==null?void 0:i.size)==null?void 0:c.value}),{prop:!0}),a=na(z(()=>{var c;return(c=i==null?void 0:i.size)==null?void 0:c.value})),l=z(()=>!!(e.default||n.label));return{checkboxButtonSize:o,isChecked:r,isFocused:s,checkboxSize:a,hasOwnLabel:l}},yU=(n,{model:e})=>{function t(){Pe(e.value)&&!e.value.includes(n.label)?e.value.push(n.label):e.value=n.trueLabel||!0}n.checked&&t()},BA=(n,e)=>{const{formItem:t}=fa(),{model:i,isGroup:s,isLimitExceeded:r}=vU(n),{isFocused:o,isChecked:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u}=bU(n,e,{model:i}),{isDisabled:d}=pU({model:i,isChecked:a}),{inputId:f,isLabeledByFormItem:h}=Rb(n,{formItemContext:t,disableIdGeneration:u,disableIdManagement:s}),{handleChange:p,onClickRoot:m}=gU(n,{model:i,isLimitExceeded:r,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:h});return yU(n,{model:i}),{inputId:f,isLabeledByFormItem:h,isChecked:a,isDisabled:d,isFocused:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:i,handleChange:p,onClickRoot:m}},wU=["tabindex","role","aria-checked"],_U=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],CU=["id","aria-hidden","disabled","value","name","tabindex"],kU=Re({name:"ElCheckbox"}),SU=Re({...kU,props:NA,emits:LA,setup(n){const e=n,t=la(),{inputId:i,isLabeledByFormItem:s,isChecked:r,isDisabled:o,isFocused:a,checkboxSize:l,hasOwnLabel:c,model:u,handleChange:d,onClickRoot:f}=BA(e,t),h=mt("checkbox"),p=z(()=>[h.b(),h.m(l.value),h.is("disabled",o.value),h.is("bordered",e.border),h.is("checked",r.value)]),m=z(()=>[h.e("input"),h.is("disabled",o.value),h.is("checked",r.value),h.is("indeterminate",e.indeterminate),h.is("focus",a.value)]);return(b,v)=>(U(),Ue(Fn(!g(c)&&g(s)?"span":"label"),{class:Y(g(p)),"aria-controls":b.indeterminate?b.controls:null,onClick:g(f)},{default:Ae(()=>[X("span",{class:Y(g(m)),tabindex:b.indeterminate?0:void 0,role:b.indeterminate?"checkbox":void 0,"aria-checked":b.indeterminate?"mixed":void 0},[b.trueLabel||b.falseLabel?Wt((U(),le("input",{key:0,id:g(i),"onUpdate:modelValue":v[0]||(v[0]=w=>$t(u)?u.value=w:null),class:Y(g(h).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",name:b.name,tabindex:b.tabindex,disabled:g(o),"true-value":b.trueLabel,"false-value":b.falseLabel,onChange:v[1]||(v[1]=(...w)=>g(d)&&g(d)(...w)),onFocus:v[2]||(v[2]=w=>a.value=!0),onBlur:v[3]||(v[3]=w=>a.value=!1)},null,42,_U)),[[Jo,g(u)]]):Wt((U(),le("input",{key:1,id:g(i),"onUpdate:modelValue":v[4]||(v[4]=w=>$t(u)?u.value=w:null),class:Y(g(h).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",disabled:g(o),value:b.label,name:b.name,tabindex:b.tabindex,onChange:v[5]||(v[5]=(...w)=>g(d)&&g(d)(...w)),onFocus:v[6]||(v[6]=w=>a.value=!0),onBlur:v[7]||(v[7]=w=>a.value=!1)},null,42,CU)),[[Jo,g(u)]]),X("span",{class:Y(g(h).e("inner"))},null,2)],10,wU),g(c)?(U(),le("span",{key:0,class:Y(g(h).e("label"))},[dt(b.$slots,"default"),b.$slots.default?Me("v-if",!0):(U(),le(tt,{key:0},[cn(Oe(b.label),1)],64))],2)):Me("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var EU=At(SU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const TU=["name","tabindex","disabled","true-value","false-value"],AU=["name","tabindex","disabled","value"],xU=Re({name:"ElCheckboxButton"}),PU=Re({...xU,props:NA,emits:LA,setup(n){const e=n,t=la(),{isFocused:i,isChecked:s,isDisabled:r,checkboxButtonSize:o,model:a,handleChange:l}=BA(e,t),c=ot(zl,void 0),u=mt("checkbox"),d=z(()=>{var h,p,m,b;const v=(p=(h=c==null?void 0:c.fill)==null?void 0:h.value)!=null?p:"";return{backgroundColor:v,borderColor:v,color:(b=(m=c==null?void 0:c.textColor)==null?void 0:m.value)!=null?b:"",boxShadow:v?`-1px 0 0 0 ${v}`:void 0}}),f=z(()=>[u.b("button"),u.bm("button",o.value),u.is("disabled",r.value),u.is("checked",s.value),u.is("focus",i.value)]);return(h,p)=>(U(),le("label",{class:Y(g(f))},[h.trueLabel||h.falseLabel?Wt((U(),le("input",{key:0,"onUpdate:modelValue":p[0]||(p[0]=m=>$t(a)?a.value=m:null),class:Y(g(u).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:g(r),"true-value":h.trueLabel,"false-value":h.falseLabel,onChange:p[1]||(p[1]=(...m)=>g(l)&&g(l)(...m)),onFocus:p[2]||(p[2]=m=>i.value=!0),onBlur:p[3]||(p[3]=m=>i.value=!1)},null,42,TU)),[[Jo,g(a)]]):Wt((U(),le("input",{key:1,"onUpdate:modelValue":p[4]||(p[4]=m=>$t(a)?a.value=m:null),class:Y(g(u).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:g(r),value:h.label,onChange:p[5]||(p[5]=(...m)=>g(l)&&g(l)(...m)),onFocus:p[6]||(p[6]=m=>i.value=!0),onBlur:p[7]||(p[7]=m=>i.value=!1)},null,42,AU)),[[Jo,g(a)]]),h.$slots.default||h.label?(U(),le("span",{key:2,class:Y(g(u).be("button","inner")),style:mn(g(s)?g(d):void 0)},[dt(h.$slots,"default",{},()=>[cn(Oe(h.label),1)])],6)):Me("v-if",!0)],2))}});var $A=At(PU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const IU=vt({modelValue:{type:qe(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Ul,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),OU={[di]:n=>Pe(n),change:n=>Pe(n)},RU=Re({name:"ElCheckboxGroup"}),MU=Re({...RU,props:IU,emits:OU,setup(n,{emit:e}){const t=n,i=mt("checkbox"),{formItem:s}=fa(),{inputId:r,isLabeledByFormItem:o}=Rb(t,{formItemContext:s}),a=async c=>{e(di,c),await lt(),e("change",c)},l=z({get(){return t.modelValue},set(c){a(c)}});return kn(zl,{...lB(oa(t),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),$e(()=>t.modelValue,()=>{t.validateEvent&&(s==null||s.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return U(),Ue(Fn(c.tag),{id:g(r),class:Y(g(i).b("group")),role:"group","aria-label":g(o)?void 0:c.label||"checkbox-group","aria-labelledby":g(o)?(d=g(s))==null?void 0:d.labelId:void 0},{default:Ae(()=>[dt(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var VA=At(MU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const DU=bs(EU,{CheckboxButton:$A,CheckboxGroup:VA});Vl($A);Vl(VA);const UA=vt({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:Cb,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),FU={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},NU=Re({name:"ElTag"}),LU=Re({...NU,props:UA,emits:FU,setup(n,{emit:e}){const t=n,i=na(),s=mt("tag"),r=z(()=>{const{type:l,hit:c,effect:u,closable:d,round:f}=t;return[s.b(),s.is("closable",d),s.m(l),s.m(i.value),s.m(u),s.is("hit",c),s.is("round",f)]}),o=l=>{e("close",l)},a=l=>{e("click",l)};return(l,c)=>l.disableTransitions?(U(),le("span",{key:0,class:Y(g(r)),style:mn({backgroundColor:l.color}),onClick:a},[X("span",{class:Y(g(s).e("content"))},[dt(l.$slots,"default")],2),l.closable?(U(),Ue(g(St),{key:0,class:Y(g(s).e("close")),onClick:on(o,["stop"])},{default:Ae(()=>[pe(g(m0))]),_:1},8,["class","onClick"])):Me("v-if",!0)],6)):(U(),Ue(ms,{key:1,name:`${g(s).namespace.value}-zoom-in-center`,appear:""},{default:Ae(()=>[X("span",{class:Y(g(r)),style:mn({backgroundColor:l.color}),onClick:a},[X("span",{class:Y(g(s).e("content"))},[dt(l.$slots,"default")],2),l.closable?(U(),Ue(g(St),{key:0,class:Y(g(s).e("close")),onClick:on(o,["stop"])},{default:Ae(()=>[pe(g(m0))]),_:1},8,["class","onClick"])):Me("v-if",!0)],6)]),_:3},8,["name"]))}});var BU=At(LU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const $U=bs(BU);var zA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){return function(t,i){var s=i.prototype,r=s.format;s.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return r.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return r.bind(this)(u)}}})})(zA);var VU=zA.exports;const UU=xi(VU);var HA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){var t="week",i="year";return function(s,r,o){var a=r.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(i).add(1,i).date(c),d=o(this).endOf(t);if(u.isBefore(d))return 1}var f=o(this).startOf(i).date(c).startOf(t).subtract(1,"millisecond"),h=this.diff(f,t,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(HA);var zU=HA.exports;const HU=xi(zU);var WA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){return function(t,i){i.prototype.weekYear=function(){var s=this.month(),r=this.week(),o=this.year();return r===1&&s===11?o+1:s===0&&r>=52?o-1:o}}})})(WA);var WU=WA.exports;const jU=xi(WU);var jA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){return function(t,i,s){i.prototype.dayOfYear=function(r){var o=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return r==null?o:this.add(r-o,"day")}}})})(jA);var qU=jA.exports;const KU=xi(qU);var qA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){return function(t,i){i.prototype.isSameOrAfter=function(s,r){return this.isSame(s,r)||this.isAfter(s,r)}}})})(qA);var GU=qA.exports;const QU=xi(GU);var KA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(un,function(){return function(t,i){i.prototype.isSameOrBefore=function(s,r){return this.isSame(s,r)||this.isBefore(s,r)}}})})(KA);var YU=KA.exports;const JU=xi(YU),Lb=Symbol(),XU=vt({...MA,type:{type:qe(String),default:"date"}}),ZU=["date","dates","year","month","week","range"],Bb=vt({disabledDate:{type:qe(Function)},date:{type:qe(Object),required:!0},minDate:{type:qe(Object)},maxDate:{type:qe(Object)},parsedValue:{type:qe([Object,Array])},rangeState:{type:qe(Object),default:()=>({endDate:null,selecting:!1})}}),GA=vt({type:{type:qe(String),required:!0,values:q$}}),QA=vt({unlinkPanels:Boolean,parsedValue:{type:qe(Array)}}),YA=n=>({type:String,values:ZU,default:n}),ez=vt({...GA,parsedValue:{type:qe([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),tz=vt({...Bb,cellClassName:{type:qe(Function)},showWeekNumber:Boolean,selectionMode:YA("date")}),_g=n=>{if(!Pe(n))return!1;const[e,t]=n;return st.isDayjs(e)&&st.isDayjs(t)&&e.isSameOrBefore(t)},JA=(n,{lang:e,unit:t,unlinkPanels:i})=>{let s;if(Pe(n)){let[r,o]=n.map(a=>st(a).locale(e));return i||(o=r.add(1,t)),[r,o]}else n?s=st(n):s=st();return s=s.locale(e),[s,s.add(1,t)]},nz=(n,e,{columnIndexOffset:t,startDate:i,nextEndDate:s,now:r,unit:o,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<n.row;u++){const d=e[u];for(let f=0;f<n.column;f++){let h=d[f+t];h||(h={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const p=u*n.column+f,m=a(p);h.dayjs=m,h.date=m.toDate(),h.timestamp=m.valueOf(),h.type="normal",h.inRange=!!(i&&m.isSameOrAfter(i,o)&&s&&m.isSameOrBefore(s,o))||!!(i&&m.isSameOrBefore(i,o)&&s&&m.isSameOrAfter(s,o)),i!=null&&i.isSameOrAfter(s)?(h.start=!!s&&m.isSame(s,o),h.end=i&&m.isSame(i,o)):(h.start=!!i&&m.isSame(i,o),h.end=!!s&&m.isSame(s,o)),m.isSame(r,o)&&(h.type="today"),l==null||l(h,{rowIndex:u,columnIndex:f}),d[f+t]=h}c==null||c(d)}},iz=vt({cell:{type:qe(Object)}});var sz=Re({name:"ElDatePickerCell",props:iz,setup(n){const e=mt("date-table-cell"),{slots:t}=ot(Lb);return()=>{const{cell:i}=n;if(t.default){const s=t.default(i).filter(r=>r.patchFlag!==-2&&r.type.toString()!=="Symbol(Comment)");if(s.length)return s}return pe("div",{class:e.b()},[pe("span",{class:e.e("text")},[i==null?void 0:i.text])])}}});const rz=["aria-label","onMousedown"],oz={key:0,scope:"col"},az=["aria-label"],lz=["aria-current","aria-selected","tabindex"],cz=Re({__name:"basic-date-table",props:tz,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const i=n,s=mt("date-table"),{t:r,lang:o}=ji(),a=se(),l=se(),c=se(),u=se(),d=se([[],[],[],[],[],[]]);let f=!1;const h=i.date.$locale().weekStart||7,p=i.date.locale("en").localeData().weekdaysShort().map(R=>R.toLowerCase()),m=z(()=>h>3?7-h:-h),b=z(()=>{const R=i.date.startOf("month");return R.subtract(R.day()||7,"day")}),v=z(()=>p.concat(p).slice(h,h+7)),w=z(()=>uT(S.value).some(R=>R.isCurrent)),C=z(()=>{const R=i.date.startOf("month"),N=R.day()||7,me=R.daysInMonth(),he=R.subtract(1,"month").daysInMonth();return{startOfMonthDay:N,dateCountOfMonth:me,dateCountOfLastMonth:he}}),_=z(()=>i.selectionMode==="dates"?$o(i.parsedValue):[]),T=(R,{count:N,rowIndex:me,columnIndex:he})=>{const{startOfMonthDay:xe,dateCountOfMonth:je,dateCountOfLastMonth:Ie}=g(C),Ne=g(m);if(me>=0&&me<=1){const Be=xe+Ne<0?7+xe+Ne:xe+Ne;if(he+me*7>=Be)return R.text=N,!0;R.text=Ie-(Be-he%7)+1+me*7,R.type="prev-month"}else return N<=je?R.text=N:(R.text=N-je,R.type="next-month"),!0;return!1},k=(R,{columnIndex:N,rowIndex:me},he)=>{const{disabledDate:xe,cellClassName:je}=i,Ie=g(_),Ne=T(R,{count:he,rowIndex:me,columnIndex:N}),Be=R.dayjs.toDate();return R.selected=Ie.find(it=>it.valueOf()===R.dayjs.valueOf()),R.isSelected=!!R.selected,R.isCurrent=W(R),R.disabled=xe==null?void 0:xe(Be),R.customClass=je==null?void 0:je(Be),Ne},E=R=>{if(i.selectionMode==="week"){const[N,me]=i.showWeekNumber?[1,7]:[0,6],he=be(R[N+1]);R[N].inRange=he,R[N].start=he,R[me].inRange=he,R[me].end=he}},S=z(()=>{const{minDate:R,maxDate:N,rangeState:me,showWeekNumber:he}=i,xe=m.value,je=d.value,Ie="day";let Ne=1;if(he)for(let Be=0;Be<6;Be++)je[Be][0]||(je[Be][0]={type:"week",text:b.value.add(Be*7+1,Ie).week()});return nz({row:6,column:7},je,{startDate:R,columnIndexOffset:he?1:0,nextEndDate:me.endDate||N||me.selecting&&R||null,now:st().locale(g(o)).startOf(Ie),unit:Ie,relativeDateGetter:Be=>b.value.add(Be-xe,Ie),setCellMetadata:(...Be)=>{k(...Be,Ne)&&(Ne+=1)},setRowMetadata:E}),je});$e(()=>i.date,async()=>{var R,N;(R=a.value)!=null&&R.contains(document.activeElement)&&(await lt(),(N=l.value)==null||N.focus())});const P=async()=>{var R;(R=l.value)==null||R.focus()},I=(R="")=>["normal","today"].includes(R),W=R=>i.selectionMode==="date"&&I(R.type)&&j(R,i.parsedValue),j=(R,N)=>N?st(N).locale(o.value).isSame(i.date.date(Number(R.text)),"day"):!1,B=R=>{const N=[];return I(R.type)&&!R.disabled?(N.push("available"),R.type==="today"&&N.push("today")):N.push(R.type),W(R)&&N.push("current"),R.inRange&&(I(R.type)||i.selectionMode==="week")&&(N.push("in-range"),R.start&&N.push("start-date"),R.end&&N.push("end-date")),R.disabled&&N.push("disabled"),R.selected&&N.push("selected"),R.customClass&&N.push(R.customClass),N.join(" ")},F=(R,N)=>{const me=R*7+(N-(i.showWeekNumber?1:0))-m.value;return b.value.add(me,"day")},Z=R=>{var N;if(!i.rangeState.selecting)return;let me=R.target;if(me.tagName==="SPAN"&&(me=(N=me.parentNode)==null?void 0:N.parentNode),me.tagName==="DIV"&&(me=me.parentNode),me.tagName!=="TD")return;const he=me.parentNode.rowIndex-1,xe=me.cellIndex;S.value[he][xe].disabled||(he!==c.value||xe!==u.value)&&(c.value=he,u.value=xe,t("changerange",{selecting:!0,endDate:F(he,xe)}))},te=R=>!w.value&&(R==null?void 0:R.text)===1&&R.type==="normal"||R.isCurrent,O=R=>{f||w.value||i.selectionMode!=="date"||Q(R,!0)},J=R=>{R.target.closest("td")&&(f=!0)},V=R=>{R.target.closest("td")&&(f=!1)},Q=(R,N=!1)=>{const me=R.target.closest("td");if(!me)return;const he=me.parentNode.rowIndex-1,xe=me.cellIndex,je=S.value[he][xe];if(je.disabled||je.type==="week")return;const Ie=F(he,xe);if(i.selectionMode==="range")!i.rangeState.selecting||!i.minDate?(t("pick",{minDate:Ie,maxDate:null}),t("select",!0)):(Ie>=i.minDate?t("pick",{minDate:i.minDate,maxDate:Ie}):t("pick",{minDate:Ie,maxDate:i.minDate}),t("select",!1));else if(i.selectionMode==="date")t("pick",Ie,N);else if(i.selectionMode==="week"){const Ne=Ie.week(),Be=`${Ie.year()}w${Ne}`;t("pick",{year:Ie.year(),week:Ne,value:Be,date:Ie.startOf("week")})}else if(i.selectionMode==="dates"){const Ne=je.selected?$o(i.parsedValue).filter(Be=>(Be==null?void 0:Be.valueOf())!==Ie.valueOf()):$o(i.parsedValue).concat([Ie]);t("pick",Ne)}},be=R=>{if(i.selectionMode!=="week")return!1;let N=i.date.startOf("day");if(R.type==="prev-month"&&(N=N.subtract(1,"month")),R.type==="next-month"&&(N=N.add(1,"month")),N=N.date(Number.parseInt(R.text,10)),i.parsedValue&&!Array.isArray(i.parsedValue)){const me=(i.parsedValue.day()-h+7)%7-1;return i.parsedValue.subtract(me,"day").isSame(N,"day")}return!1};return e({focus:P}),(R,N)=>(U(),le("table",{role:"grid","aria-label":g(r)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:Y([g(s).b(),{"is-week-mode":R.selectionMode==="week"}]),onClick:Q,onMousemove:Z,onMousedown:on(J,["prevent"]),onMouseup:V},[X("tbody",{ref_key:"tbodyRef",ref:a},[X("tr",null,[R.showWeekNumber?(U(),le("th",oz,Oe(g(r)("el.datepicker.week")),1)):Me("v-if",!0),(U(!0),le(tt,null,ln(g(v),(me,he)=>(U(),le("th",{key:he,scope:"col","aria-label":g(r)("el.datepicker.weeksFull."+me)},Oe(g(r)("el.datepicker.weeks."+me)),9,az))),128))]),(U(!0),le(tt,null,ln(g(S),(me,he)=>(U(),le("tr",{key:he,class:Y([g(s).e("row"),{current:be(me[1])}])},[(U(!0),le(tt,null,ln(me,(xe,je)=>(U(),le("td",{key:`${he}.${je}`,ref_for:!0,ref:Ie=>te(xe)&&(l.value=Ie),class:Y(B(xe)),"aria-current":xe.isCurrent?"date":void 0,"aria-selected":xe.isCurrent,tabindex:te(xe)?0:-1,onFocus:O},[pe(g(sz),{cell:xe},null,8,["cell"])],42,lz))),128))],2))),128))],512)],42,rz))}});var Cg=At(cz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const uz=vt({...Bb,selectionMode:YA("month")}),dz=["aria-label"],fz=["aria-selected","aria-label","tabindex","onKeydown"],hz={class:"cell"},mz=Re({__name:"basic-month-table",props:uz,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const i=n,s=(_,T,k)=>{const E=st().locale(k).startOf("month").month(T).year(_),S=E.daysInMonth();return PA(S).map(P=>E.add(P,"day").toDate())},r=mt("month-table"),{t:o,lang:a}=ji(),l=se(),c=se(),u=se(i.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),d=se([[],[],[]]),f=se(),h=se(),p=z(()=>{var _,T;const k=d.value,E=st().locale(a.value).startOf("month");for(let S=0;S<3;S++){const P=k[S];for(let I=0;I<4;I++){const W=P[I]||(P[I]={row:S,column:I,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});W.type="normal";const j=S*4+I,B=i.date.startOf("year").month(j),F=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;W.inRange=!!(i.minDate&&B.isSameOrAfter(i.minDate,"month")&&F&&B.isSameOrBefore(F,"month"))||!!(i.minDate&&B.isSameOrBefore(i.minDate,"month")&&F&&B.isSameOrAfter(F,"month")),(_=i.minDate)!=null&&_.isSameOrAfter(F)?(W.start=!!(F&&B.isSame(F,"month")),W.end=i.minDate&&B.isSame(i.minDate,"month")):(W.start=!!(i.minDate&&B.isSame(i.minDate,"month")),W.end=!!(F&&B.isSame(F,"month"))),E.isSame(B)&&(W.type="today"),W.text=j,W.disabled=((T=i.disabledDate)==null?void 0:T.call(i,B.toDate()))||!1}}return k}),m=()=>{var _;(_=c.value)==null||_.focus()},b=_=>{const T={},k=i.date.year(),E=new Date,S=_.text;return T.disabled=i.disabledDate?s(k,S,a.value).every(i.disabledDate):!1,T.current=$o(i.parsedValue).findIndex(P=>st.isDayjs(P)&&P.year()===k&&P.month()===S)>=0,T.today=E.getFullYear()===k&&E.getMonth()===S,_.inRange&&(T["in-range"]=!0,_.start&&(T["start-date"]=!0),_.end&&(T["end-date"]=!0)),T},v=_=>{const T=i.date.year(),k=_.text;return $o(i.date).findIndex(E=>E.year()===T&&E.month()===k)>=0},w=_=>{var T;if(!i.rangeState.selecting)return;let k=_.target;if(k.tagName==="A"&&(k=(T=k.parentNode)==null?void 0:T.parentNode),k.tagName==="DIV"&&(k=k.parentNode),k.tagName!=="TD")return;const E=k.parentNode.rowIndex,S=k.cellIndex;p.value[E][S].disabled||(E!==f.value||S!==h.value)&&(f.value=E,h.value=S,t("changerange",{selecting:!0,endDate:i.date.startOf("year").month(E*4+S)}))},C=_=>{var T;const k=(T=_.target)==null?void 0:T.closest("td");if((k==null?void 0:k.tagName)!=="TD"||LT(k,"disabled"))return;const E=k.cellIndex,P=k.parentNode.rowIndex*4+E,I=i.date.startOf("year").month(P);i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&I>=i.minDate?t("pick",{minDate:i.minDate,maxDate:I}):t("pick",{minDate:I,maxDate:i.minDate}),t("select",!1)):(t("pick",{minDate:I,maxDate:null}),t("select",!0)):t("pick",P)};return $e(()=>i.date,async()=>{var _,T;(_=l.value)!=null&&_.contains(document.activeElement)&&(await lt(),(T=c.value)==null||T.focus())}),e({focus:m}),(_,T)=>(U(),le("table",{role:"grid","aria-label":g(o)("el.datepicker.monthTablePrompt"),class:Y(g(r).b()),onClick:C,onMousemove:w},[X("tbody",{ref_key:"tbodyRef",ref:l},[(U(!0),le(tt,null,ln(g(p),(k,E)=>(U(),le("tr",{key:E},[(U(!0),le(tt,null,ln(k,(S,P)=>(U(),le("td",{key:P,ref_for:!0,ref:I=>v(S)&&(c.value=I),class:Y(b(S)),"aria-selected":`${v(S)}`,"aria-label":g(o)(`el.datepicker.month${+S.text+1}`),tabindex:v(S)?0:-1,onKeydown:[Pn(on(C,["prevent","stop"]),["space"]),Pn(on(C,["prevent","stop"]),["enter"])]},[X("div",null,[X("span",hz,Oe(g(o)("el.datepicker.months."+u.value[S.text])),1)])],42,fz))),128))]))),128))],512)],42,dz))}});var kg=At(mz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:pz,disabledDate:gz,parsedValue:vz}=Bb,bz=vt({date:pz,disabledDate:gz,parsedValue:vz}),yz=["aria-label"],wz=["aria-selected","tabindex","onKeydown"],_z={class:"cell"},Cz={key:1},kz=Re({__name:"basic-year-table",props:bz,emits:["pick"],setup(n,{expose:e,emit:t}){const i=n,s=(m,b)=>{const v=st(String(m)).locale(b).startOf("year"),C=v.endOf("year").dayOfYear();return PA(C).map(_=>v.add(_,"day").toDate())},r=mt("year-table"),{t:o,lang:a}=ji(),l=se(),c=se(),u=z(()=>Math.floor(i.date.year()/10)*10),d=()=>{var m;(m=c.value)==null||m.focus()},f=m=>{const b={},v=st().locale(a.value);return b.disabled=i.disabledDate?s(m,a.value).every(i.disabledDate):!1,b.current=$o(i.parsedValue).findIndex(w=>w.year()===m)>=0,b.today=v.year()===m,b},h=m=>m===u.value&&i.date.year()<u.value&&i.date.year()>u.value+9||$o(i.date).findIndex(b=>b.year()===m)>=0,p=m=>{const v=m.target.closest("td");if(v&&v.textContent){if(LT(v,"disabled"))return;const w=v.textContent||v.innerText;t("pick",Number(w))}};return $e(()=>i.date,async()=>{var m,b;(m=l.value)!=null&&m.contains(document.activeElement)&&(await lt(),(b=c.value)==null||b.focus())}),e({focus:d}),(m,b)=>(U(),le("table",{role:"grid","aria-label":g(o)("el.datepicker.yearTablePrompt"),class:Y(g(r).b()),onClick:p},[X("tbody",{ref_key:"tbodyRef",ref:l},[(U(),le(tt,null,ln(3,(v,w)=>X("tr",{key:w},[(U(),le(tt,null,ln(4,(C,_)=>(U(),le(tt,{key:w+"_"+_},[w*4+_<10?(U(),le("td",{key:0,ref_for:!0,ref:T=>h(g(u)+w*4+_)&&(c.value=T),class:Y(["available",f(g(u)+w*4+_)]),"aria-selected":`${h(g(u)+w*4+_)}`,tabindex:h(g(u)+w*4+_)?0:-1,onKeydown:[Pn(on(p,["prevent","stop"]),["space"]),Pn(on(p,["prevent","stop"]),["enter"])]},[X("span",_z,Oe(g(u)+w*4+_),1)],42,wz)):(U(),le("td",Cz))],64))),64))])),64))],512)],10,yz))}});var Sz=At(kz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Ez=["onClick"],Tz=["aria-label"],Az=["aria-label"],xz=["aria-label"],Pz=["aria-label"],Iz=Re({__name:"panel-date-pick",props:ez,emits:["pick","set-picker-option","panel-change"],setup(n,{emit:e}){const t=n,i=(ie,ke,Ke)=>!0,s=mt("picker-panel"),r=mt("date-picker"),o=ih(),a=la(),{t:l,lang:c}=ji(),u=ot("EP_PICKER_BASE"),d=ot(_h),{shortcuts:f,disabledDate:h,cellClassName:p,defaultTime:m,arrowControl:b}=u.props,v=Mn(u.props,"defaultValue"),w=se(),C=se(st().locale(c.value)),_=se(!1),T=z(()=>st(m).locale(c.value)),k=z(()=>C.value.month()),E=z(()=>C.value.year()),S=se([]),P=se(null),I=se(null),W=ie=>S.value.length>0?i(ie,S.value,t.format||"HH:mm:ss"):!0,j=ie=>m&&!x.value&&!_.value?T.value.year(ie.year()).month(ie.month()).date(ie.date()):xe.value?ie.millisecond(0):ie.startOf("day"),B=(ie,...ke)=>{if(!ie)e("pick",ie,...ke);else if(Pe(ie)){const Ke=ie.map(j);e("pick",Ke,...ke)}else e("pick",j(ie),...ke);P.value=null,I.value=null,_.value=!1},F=(ie,ke)=>{if(Q.value==="date"){ie=ie;let Ke=t.parsedValue?t.parsedValue.year(ie.year()).month(ie.month()).date(ie.date()):ie;W(Ke)||(Ke=S.value[0][0].year(ie.year()).month(ie.month()).date(ie.date())),C.value=Ke,B(Ke,xe.value||ke)}else Q.value==="week"?B(ie.date):Q.value==="dates"&&B(ie,!0)},Z=ie=>{const ke=ie?"add":"subtract";C.value=C.value[ke](1,"month"),Fe("month")},te=ie=>{const ke=C.value,Ke=ie?"add":"subtract";C.value=O.value==="year"?ke[Ke](10,"year"):ke[Ke](1,"year"),Fe("year")},O=se("date"),J=z(()=>{const ie=l("el.datepicker.year");if(O.value==="year"){const ke=Math.floor(E.value/10)*10;return ie?`${ke} ${ie} - ${ke+9} ${ie}`:`${ke} - ${ke+9}`}return`${E.value} ${ie}`}),V=ie=>{const ke=We(ie.value)?ie.value():ie.value;if(ke){B(st(ke).locale(c.value));return}ie.onClick&&ie.onClick({attrs:o,slots:a,emit:e})},Q=z(()=>{const{type:ie}=t;return["week","month","year","dates"].includes(ie)?ie:"date"}),be=z(()=>Q.value==="date"?O.value:Q.value),R=z(()=>!!f.length),N=async ie=>{C.value=C.value.startOf("month").month(ie),Q.value==="month"?B(C.value,!1):(O.value="date",["month","year","date","week"].includes(Q.value)&&(B(C.value,!0),await lt(),we())),Fe("month")},me=async ie=>{Q.value==="year"?(C.value=C.value.startOf("year").year(ie),B(C.value,!1)):(C.value=C.value.year(ie),O.value="month",["month","year","date","week"].includes(Q.value)&&(B(C.value,!0),await lt(),we())),Fe("year")},he=async ie=>{O.value=ie,await lt(),we()},xe=z(()=>t.type==="datetime"||t.type==="datetimerange"),je=z(()=>xe.value||Q.value==="dates"),Ie=()=>{if(Q.value==="dates")B(t.parsedValue);else{let ie=t.parsedValue;if(!ie){const ke=st(m).locale(c.value),Ke=K();ie=ke.year(Ke.year()).month(Ke.month()).date(Ke.date())}C.value=ie,B(ie)}},Ne=()=>{const ke=st().locale(c.value).toDate();_.value=!0,(!h||!h(ke))&&W(ke)&&(C.value=st().locale(c.value),B(C.value))},Be=z(()=>OA(t.format)),it=z(()=>IA(t.format)),x=z(()=>{if(I.value)return I.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||C.value).format(Be.value)}),D=z(()=>{if(P.value)return P.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||C.value).format(it.value)}),ee=se(!1),ce=()=>{ee.value=!0},de=()=>{ee.value=!1},ae=ie=>({hour:ie.hour(),minute:ie.minute(),second:ie.second(),year:ie.year(),month:ie.month(),date:ie.date()}),Te=(ie,ke,Ke)=>{const{hour:q,minute:re,second:_e}=ae(ie),Ee=t.parsedValue?t.parsedValue.hour(q).minute(re).second(_e):ie;C.value=Ee,B(C.value,!0),Ke||(ee.value=ke)},ge=ie=>{const ke=st(ie,Be.value).locale(c.value);if(ke.isValid()&&W(ke)){const{year:Ke,month:q,date:re}=ae(C.value);C.value=ke.year(Ke).month(q).date(re),I.value=null,ee.value=!1,B(C.value,!0)}},ye=ie=>{const ke=st(ie,it.value).locale(c.value);if(ke.isValid()){if(h&&h(ke.toDate()))return;const{hour:Ke,minute:q,second:re}=ae(C.value);C.value=ke.hour(Ke).minute(q).second(re),P.value=null,B(C.value,!0)}},oe=ie=>st.isDayjs(ie)&&ie.isValid()&&(h?!h(ie.toDate()):!0),H=ie=>Q.value==="dates"?ie.map(ke=>ke.format(t.format)):ie.format(t.format),G=ie=>st(ie,t.format).locale(c.value),K=()=>{const ie=st(v.value).locale(c.value);if(!v.value){const ke=T.value;return st().hour(ke.hour()).minute(ke.minute()).second(ke.second()).locale(c.value)}return ie},we=async()=>{var ie;["week","month","year","date"].includes(Q.value)&&((ie=w.value)==null||ie.focus(),Q.value==="week"&&Qe(Ht.down))},Ve=ie=>{const{code:ke}=ie;[Ht.up,Ht.down,Ht.left,Ht.right,Ht.home,Ht.end,Ht.pageUp,Ht.pageDown].includes(ke)&&(Qe(ke),ie.stopPropagation(),ie.preventDefault()),[Ht.enter,Ht.space,Ht.numpadEnter].includes(ke)&&P.value===null&&I.value===null&&(ie.preventDefault(),B(C.value,!1))},Qe=ie=>{var ke;const{up:Ke,down:q,left:re,right:_e,home:Ee,end:ft,pageUp:ne,pageDown:Ce}=Ht,ze={year:{[Ke]:-4,[q]:4,[re]:-1,[_e]:1,offset:(et,bt)=>et.setFullYear(et.getFullYear()+bt)},month:{[Ke]:-4,[q]:4,[re]:-1,[_e]:1,offset:(et,bt)=>et.setMonth(et.getMonth()+bt)},week:{[Ke]:-1,[q]:1,[re]:-1,[_e]:1,offset:(et,bt)=>et.setDate(et.getDate()+bt*7)},date:{[Ke]:-7,[q]:7,[re]:-1,[_e]:1,[Ee]:et=>-et.getDay(),[ft]:et=>-et.getDay()+6,[ne]:et=>-new Date(et.getFullYear(),et.getMonth(),0).getDate(),[Ce]:et=>new Date(et.getFullYear(),et.getMonth()+1,0).getDate(),offset:(et,bt)=>et.setDate(et.getDate()+bt)}},Ze=C.value.toDate();for(;Math.abs(C.value.diff(Ze,"year",!0))<1;){const et=ze[be.value];if(!et)return;if(et.offset(Ze,We(et[ie])?et[ie](Ze):(ke=et[ie])!=null?ke:0),h&&h(Ze))break;const bt=st(Ze).locale(c.value);C.value=bt,e("pick",bt,!0);break}},Fe=ie=>{e("panel-change",C.value.toDate(),ie,O.value)};return $e(()=>Q.value,ie=>{if(["month","year"].includes(ie)){O.value=ie;return}O.value="date"},{immediate:!0}),$e(()=>O.value,()=>{d==null||d.updatePopper()}),$e(()=>v.value,ie=>{ie&&(C.value=K())},{immediate:!0}),$e(()=>t.parsedValue,ie=>{if(ie){if(Q.value==="dates"||Array.isArray(ie))return;C.value=ie}else C.value=K()},{immediate:!0}),e("set-picker-option",["isValidValue",oe]),e("set-picker-option",["formatToString",H]),e("set-picker-option",["parseUserInput",G]),e("set-picker-option",["handleFocusPicker",we]),(ie,ke)=>(U(),le("div",{class:Y([g(s).b(),g(r).b(),{"has-sidebar":ie.$slots.sidebar||g(R),"has-time":g(xe)}])},[X("div",{class:Y(g(s).e("body-wrapper"))},[dt(ie.$slots,"sidebar",{class:Y(g(s).e("sidebar"))}),g(R)?(U(),le("div",{key:0,class:Y(g(s).e("sidebar"))},[(U(!0),le(tt,null,ln(g(f),(Ke,q)=>(U(),le("button",{key:q,type:"button",class:Y(g(s).e("shortcut")),onClick:re=>V(Ke)},Oe(Ke.text),11,Ez))),128))],2)):Me("v-if",!0),X("div",{class:Y(g(s).e("body"))},[g(xe)?(U(),le("div",{key:0,class:Y(g(r).e("time-header"))},[X("span",{class:Y(g(r).e("editor-wrap"))},[pe(g(Fs),{placeholder:g(l)("el.datepicker.selectDate"),"model-value":g(D),size:"small","validate-event":!1,onInput:ke[0]||(ke[0]=Ke=>P.value=Ke),onChange:ye},null,8,["placeholder","model-value"])],2),Wt((U(),le("span",{class:Y(g(r).e("editor-wrap"))},[pe(g(Fs),{placeholder:g(l)("el.datepicker.selectTime"),"model-value":g(x),size:"small","validate-event":!1,onFocus:ce,onInput:ke[1]||(ke[1]=Ke=>I.value=Ke),onChange:ge},null,8,["placeholder","model-value"]),pe(g(wg),{visible:ee.value,format:g(Be),"time-arrow-control":g(b),"parsed-value":C.value,onPick:Te},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(yf),de]])],2)):Me("v-if",!0),Wt(X("div",{class:Y([g(r).e("header"),(O.value==="year"||O.value==="month")&&g(r).e("header--bordered")])},[X("span",{class:Y(g(r).e("prev-btn"))},[X("button",{type:"button","aria-label":g(l)("el.datepicker.prevYear"),class:Y(["d-arrow-left",g(s).e("icon-btn")]),onClick:ke[2]||(ke[2]=Ke=>te(!1))},[pe(g(St),null,{default:Ae(()=>[pe(g(su))]),_:1})],10,Tz),Wt(X("button",{type:"button","aria-label":g(l)("el.datepicker.prevMonth"),class:Y([g(s).e("icon-btn"),"arrow-left"]),onClick:ke[3]||(ke[3]=Ke=>Z(!1))},[pe(g(St),null,{default:Ae(()=>[pe(g(pg))]),_:1})],10,Az),[[ui,O.value==="date"]])],2),X("span",{role:"button",class:Y(g(r).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:ke[4]||(ke[4]=Pn(Ke=>he("year"),["enter"])),onClick:ke[5]||(ke[5]=Ke=>he("year"))},Oe(g(J)),35),Wt(X("span",{role:"button","aria-live":"polite",tabindex:"0",class:Y([g(r).e("header-label"),{active:O.value==="month"}]),onKeydown:ke[6]||(ke[6]=Pn(Ke=>he("month"),["enter"])),onClick:ke[7]||(ke[7]=Ke=>he("month"))},Oe(g(l)(`el.datepicker.month${g(k)+1}`)),35),[[ui,O.value==="date"]]),X("span",{class:Y(g(r).e("next-btn"))},[Wt(X("button",{type:"button","aria-label":g(l)("el.datepicker.nextMonth"),class:Y([g(s).e("icon-btn"),"arrow-right"]),onClick:ke[8]||(ke[8]=Ke=>Z(!0))},[pe(g(St),null,{default:Ae(()=>[pe(g($d))]),_:1})],10,xz),[[ui,O.value==="date"]]),X("button",{type:"button","aria-label":g(l)("el.datepicker.nextYear"),class:Y([g(s).e("icon-btn"),"d-arrow-right"]),onClick:ke[9]||(ke[9]=Ke=>te(!0))},[pe(g(St),null,{default:Ae(()=>[pe(g(ru))]),_:1})],10,Pz)],2)],2),[[ui,O.value!=="time"]]),X("div",{class:Y(g(s).e("content")),onKeydown:Ve},[O.value==="date"?(U(),Ue(Cg,{key:0,ref_key:"currentViewRef",ref:w,"selection-mode":g(Q),date:C.value,"parsed-value":ie.parsedValue,"disabled-date":g(h),"cell-class-name":g(p),onPick:F},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Me("v-if",!0),O.value==="year"?(U(),Ue(Sz,{key:1,ref_key:"currentViewRef",ref:w,date:C.value,"disabled-date":g(h),"parsed-value":ie.parsedValue,onPick:me},null,8,["date","disabled-date","parsed-value"])):Me("v-if",!0),O.value==="month"?(U(),Ue(kg,{key:2,ref_key:"currentViewRef",ref:w,date:C.value,"parsed-value":ie.parsedValue,"disabled-date":g(h),onPick:N},null,8,["date","parsed-value","disabled-date"])):Me("v-if",!0)],34)],2)],2),Wt(X("div",{class:Y(g(s).e("footer"))},[Wt(pe(g(ml),{text:"",size:"small",class:Y(g(s).e("link-btn")),onClick:Ne},{default:Ae(()=>[cn(Oe(g(l)("el.datepicker.now")),1)]),_:1},8,["class"]),[[ui,g(Q)!=="dates"]]),pe(g(ml),{plain:"",size:"small",class:Y(g(s).e("link-btn")),onClick:Ie},{default:Ae(()=>[cn(Oe(g(l)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[ui,g(je)&&O.value==="date"]])],2))}});var Oz=At(Iz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Rz=vt({...GA,...QA}),Mz=n=>{const{emit:e}=Lt(),t=ih(),i=la();return r=>{const o=We(r.value)?r.value():r.value;if(o){e("pick",[st(o[0]).locale(n.value),st(o[1]).locale(n.value)]);return}r.onClick&&r.onClick({attrs:t,slots:i,emit:e})}},XA=(n,{defaultValue:e,leftDate:t,rightDate:i,unit:s,onParsedValueChanged:r})=>{const{emit:o}=Lt(),{pickerNs:a}=ot(Lb),l=mt("date-range-picker"),{t:c,lang:u}=ji(),d=Mz(u),f=se(),h=se(),p=se({endDate:null,selecting:!1}),m=C=>{p.value=C},b=(C=!1)=>{const _=g(f),T=g(h);_g([_,T])&&o("pick",[_,T],C)},v=C=>{p.value.selecting=C,C||(p.value.endDate=null)},w=()=>{const[C,_]=JA(g(e),{lang:g(u),unit:s,unlinkPanels:n.unlinkPanels});f.value=void 0,h.value=void 0,t.value=C,i.value=_};return $e(e,C=>{C&&w()},{immediate:!0}),$e(()=>n.parsedValue,C=>{if(Pe(C)&&C.length===2){const[_,T]=C;f.value=_,t.value=_,h.value=T,r(g(f),g(h))}else w()},{immediate:!0}),{minDate:f,maxDate:h,rangeState:p,lang:u,ppNs:a,drpNs:l,handleChangeRange:m,handleRangeConfirm:b,handleShortcutClick:d,onSelect:v,t:c}},Dz=["onClick"],Fz=["disabled"],Nz=["disabled"],Lz=["disabled"],Bz=["disabled"],hd="month",$z=Re({__name:"panel-date-range",props:Rz,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,{emit:e}){const t=n,i=ot("EP_PICKER_BASE"),{disabledDate:s,cellClassName:r,format:o,defaultTime:a,arrowControl:l,clearable:c}=i.props,u=Mn(i.props,"shortcuts"),d=Mn(i.props,"defaultValue"),{lang:f}=ji(),h=se(st().locale(f.value)),p=se(st().locale(f.value).add(1,hd)),{minDate:m,maxDate:b,rangeState:v,ppNs:w,drpNs:C,handleChangeRange:_,handleRangeConfirm:T,handleShortcutClick:k,onSelect:E,t:S}=XA(t,{defaultValue:d,leftDate:h,rightDate:p,unit:hd,onParsedValueChanged:q}),P=se({min:null,max:null}),I=se({min:null,max:null}),W=z(()=>`${h.value.year()} ${S("el.datepicker.year")} ${S(`el.datepicker.month${h.value.month()+1}`)}`),j=z(()=>`${p.value.year()} ${S("el.datepicker.year")} ${S(`el.datepicker.month${p.value.month()+1}`)}`),B=z(()=>h.value.year()),F=z(()=>h.value.month()),Z=z(()=>p.value.year()),te=z(()=>p.value.month()),O=z(()=>!!u.value.length),J=z(()=>P.value.min!==null?P.value.min:m.value?m.value.format(N.value):""),V=z(()=>P.value.max!==null?P.value.max:b.value||m.value?(b.value||m.value).format(N.value):""),Q=z(()=>I.value.min!==null?I.value.min:m.value?m.value.format(R.value):""),be=z(()=>I.value.max!==null?I.value.max:b.value||m.value?(b.value||m.value).format(R.value):""),R=z(()=>OA(o)),N=z(()=>IA(o)),me=()=>{h.value=h.value.subtract(1,"year"),t.unlinkPanels||(p.value=h.value.add(1,"month")),x("year")},he=()=>{h.value=h.value.subtract(1,"month"),t.unlinkPanels||(p.value=h.value.add(1,"month")),x("month")},xe=()=>{t.unlinkPanels?p.value=p.value.add(1,"year"):(h.value=h.value.add(1,"year"),p.value=h.value.add(1,"month")),x("year")},je=()=>{t.unlinkPanels?p.value=p.value.add(1,"month"):(h.value=h.value.add(1,"month"),p.value=h.value.add(1,"month")),x("month")},Ie=()=>{h.value=h.value.add(1,"year"),x("year")},Ne=()=>{h.value=h.value.add(1,"month"),x("month")},Be=()=>{p.value=p.value.subtract(1,"year"),x("year")},it=()=>{p.value=p.value.subtract(1,"month"),x("month")},x=re=>{e("panel-change",[h.value.toDate(),p.value.toDate()],re)},D=z(()=>{const re=(F.value+1)%12,_e=F.value+1>=12?1:0;return t.unlinkPanels&&new Date(B.value+_e,re)<new Date(Z.value,te.value)}),ee=z(()=>t.unlinkPanels&&Z.value*12+te.value-(B.value*12+F.value+1)>=12),ce=z(()=>!(m.value&&b.value&&!v.value.selecting&&_g([m.value,b.value]))),de=z(()=>t.type==="datetime"||t.type==="datetimerange"),ae=(re,_e)=>{if(re)return a?st(a[_e]||a).locale(f.value).year(re.year()).month(re.month()).date(re.date()):re},Te=(re,_e=!0)=>{const Ee=re.minDate,ft=re.maxDate,ne=ae(Ee,0),Ce=ae(ft,1);b.value===Ce&&m.value===ne||(e("calendar-change",[Ee.toDate(),ft&&ft.toDate()]),b.value=Ce,m.value=ne,!(!_e||de.value)&&T())},ge=se(!1),ye=se(!1),oe=()=>{ge.value=!1},H=()=>{ye.value=!1},G=(re,_e)=>{P.value[_e]=re;const Ee=st(re,N.value).locale(f.value);if(Ee.isValid()){if(s&&s(Ee.toDate()))return;_e==="min"?(h.value=Ee,m.value=(m.value||h.value).year(Ee.year()).month(Ee.month()).date(Ee.date()),t.unlinkPanels||(p.value=Ee.add(1,"month"),b.value=m.value.add(1,"month"))):(p.value=Ee,b.value=(b.value||p.value).year(Ee.year()).month(Ee.month()).date(Ee.date()),t.unlinkPanels||(h.value=Ee.subtract(1,"month"),m.value=b.value.subtract(1,"month")))}},K=(re,_e)=>{P.value[_e]=null},we=(re,_e)=>{I.value[_e]=re;const Ee=st(re,R.value).locale(f.value);Ee.isValid()&&(_e==="min"?(ge.value=!0,m.value=(m.value||h.value).hour(Ee.hour()).minute(Ee.minute()).second(Ee.second()),(!b.value||b.value.isBefore(m.value))&&(b.value=m.value)):(ye.value=!0,b.value=(b.value||p.value).hour(Ee.hour()).minute(Ee.minute()).second(Ee.second()),p.value=b.value,b.value&&b.value.isBefore(m.value)&&(m.value=b.value)))},Ve=(re,_e)=>{I.value[_e]=null,_e==="min"?(h.value=m.value,ge.value=!1):(p.value=b.value,ye.value=!1)},Qe=(re,_e,Ee)=>{I.value.min||(re&&(h.value=re,m.value=(m.value||h.value).hour(re.hour()).minute(re.minute()).second(re.second())),Ee||(ge.value=_e),(!b.value||b.value.isBefore(m.value))&&(b.value=m.value,p.value=re))},Fe=(re,_e,Ee)=>{I.value.max||(re&&(p.value=re,b.value=(b.value||p.value).hour(re.hour()).minute(re.minute()).second(re.second())),Ee||(ye.value=_e),b.value&&b.value.isBefore(m.value)&&(m.value=b.value))},ie=()=>{h.value=JA(g(d),{lang:g(f),unit:"month",unlinkPanels:t.unlinkPanels})[0],p.value=h.value.add(1,"month"),e("pick",null)},ke=re=>Pe(re)?re.map(_e=>_e.format(o)):re.format(o),Ke=re=>Pe(re)?re.map(_e=>st(_e,o).locale(f.value)):st(re,o).locale(f.value);function q(re,_e){if(t.unlinkPanels&&_e){const Ee=(re==null?void 0:re.year())||0,ft=(re==null?void 0:re.month())||0,ne=_e.year(),Ce=_e.month();p.value=Ee===ne&&ft===Ce?_e.add(1,hd):_e}else p.value=h.value.add(1,hd),_e&&(p.value=p.value.hour(_e.hour()).minute(_e.minute()).second(_e.second()))}return e("set-picker-option",["isValidValue",_g]),e("set-picker-option",["parseUserInput",Ke]),e("set-picker-option",["formatToString",ke]),e("set-picker-option",["handleClear",ie]),(re,_e)=>(U(),le("div",{class:Y([g(w).b(),g(C).b(),{"has-sidebar":re.$slots.sidebar||g(O),"has-time":g(de)}])},[X("div",{class:Y(g(w).e("body-wrapper"))},[dt(re.$slots,"sidebar",{class:Y(g(w).e("sidebar"))}),g(O)?(U(),le("div",{key:0,class:Y(g(w).e("sidebar"))},[(U(!0),le(tt,null,ln(g(u),(Ee,ft)=>(U(),le("button",{key:ft,type:"button",class:Y(g(w).e("shortcut")),onClick:ne=>g(k)(Ee)},Oe(Ee.text),11,Dz))),128))],2)):Me("v-if",!0),X("div",{class:Y(g(w).e("body"))},[g(de)?(U(),le("div",{key:0,class:Y(g(C).e("time-header"))},[X("span",{class:Y(g(C).e("editors-wrap"))},[X("span",{class:Y(g(C).e("time-picker-wrap"))},[pe(g(Fs),{size:"small",disabled:g(v).selecting,placeholder:g(S)("el.datepicker.startDate"),class:Y(g(C).e("editor")),"model-value":g(J),"validate-event":!1,onInput:_e[0]||(_e[0]=Ee=>G(Ee,"min")),onChange:_e[1]||(_e[1]=Ee=>K(Ee,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Wt((U(),le("span",{class:Y(g(C).e("time-picker-wrap"))},[pe(g(Fs),{size:"small",class:Y(g(C).e("editor")),disabled:g(v).selecting,placeholder:g(S)("el.datepicker.startTime"),"model-value":g(Q),"validate-event":!1,onFocus:_e[2]||(_e[2]=Ee=>ge.value=!0),onInput:_e[3]||(_e[3]=Ee=>we(Ee,"min")),onChange:_e[4]||(_e[4]=Ee=>Ve(Ee,"min"))},null,8,["class","disabled","placeholder","model-value"]),pe(g(wg),{visible:ge.value,format:g(R),"datetime-role":"start","time-arrow-control":g(l),"parsed-value":h.value,onPick:Qe},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(yf),oe]])],2),X("span",null,[pe(g(St),null,{default:Ae(()=>[pe(g($d))]),_:1})]),X("span",{class:Y([g(C).e("editors-wrap"),"is-right"])},[X("span",{class:Y(g(C).e("time-picker-wrap"))},[pe(g(Fs),{size:"small",class:Y(g(C).e("editor")),disabled:g(v).selecting,placeholder:g(S)("el.datepicker.endDate"),"model-value":g(V),readonly:!g(m),"validate-event":!1,onInput:_e[5]||(_e[5]=Ee=>G(Ee,"max")),onChange:_e[6]||(_e[6]=Ee=>K(Ee,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Wt((U(),le("span",{class:Y(g(C).e("time-picker-wrap"))},[pe(g(Fs),{size:"small",class:Y(g(C).e("editor")),disabled:g(v).selecting,placeholder:g(S)("el.datepicker.endTime"),"model-value":g(be),readonly:!g(m),"validate-event":!1,onFocus:_e[7]||(_e[7]=Ee=>g(m)&&(ye.value=!0)),onInput:_e[8]||(_e[8]=Ee=>we(Ee,"max")),onChange:_e[9]||(_e[9]=Ee=>Ve(Ee,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),pe(g(wg),{"datetime-role":"end",visible:ye.value,format:g(R),"time-arrow-control":g(l),"parsed-value":p.value,onPick:Fe},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(yf),H]])],2)],2)):Me("v-if",!0),X("div",{class:Y([[g(w).e("content"),g(C).e("content")],"is-left"])},[X("div",{class:Y(g(C).e("header"))},[X("button",{type:"button",class:Y([g(w).e("icon-btn"),"d-arrow-left"]),onClick:me},[pe(g(St),null,{default:Ae(()=>[pe(g(su))]),_:1})],2),X("button",{type:"button",class:Y([g(w).e("icon-btn"),"arrow-left"]),onClick:he},[pe(g(St),null,{default:Ae(()=>[pe(g(pg))]),_:1})],2),re.unlinkPanels?(U(),le("button",{key:0,type:"button",disabled:!g(ee),class:Y([[g(w).e("icon-btn"),{"is-disabled":!g(ee)}],"d-arrow-right"]),onClick:Ie},[pe(g(St),null,{default:Ae(()=>[pe(g(ru))]),_:1})],10,Fz)):Me("v-if",!0),re.unlinkPanels?(U(),le("button",{key:1,type:"button",disabled:!g(D),class:Y([[g(w).e("icon-btn"),{"is-disabled":!g(D)}],"arrow-right"]),onClick:Ne},[pe(g(St),null,{default:Ae(()=>[pe(g($d))]),_:1})],10,Nz)):Me("v-if",!0),X("div",null,Oe(g(W)),1)],2),pe(Cg,{"selection-mode":"range",date:h.value,"min-date":g(m),"max-date":g(b),"range-state":g(v),"disabled-date":g(s),"cell-class-name":g(r),onChangerange:g(_),onPick:Te,onSelect:g(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),X("div",{class:Y([[g(w).e("content"),g(C).e("content")],"is-right"])},[X("div",{class:Y(g(C).e("header"))},[re.unlinkPanels?(U(),le("button",{key:0,type:"button",disabled:!g(ee),class:Y([[g(w).e("icon-btn"),{"is-disabled":!g(ee)}],"d-arrow-left"]),onClick:Be},[pe(g(St),null,{default:Ae(()=>[pe(g(su))]),_:1})],10,Lz)):Me("v-if",!0),re.unlinkPanels?(U(),le("button",{key:1,type:"button",disabled:!g(D),class:Y([[g(w).e("icon-btn"),{"is-disabled":!g(D)}],"arrow-left"]),onClick:it},[pe(g(St),null,{default:Ae(()=>[pe(g(pg))]),_:1})],10,Bz)):Me("v-if",!0),X("button",{type:"button",class:Y([g(w).e("icon-btn"),"d-arrow-right"]),onClick:xe},[pe(g(St),null,{default:Ae(()=>[pe(g(ru))]),_:1})],2),X("button",{type:"button",class:Y([g(w).e("icon-btn"),"arrow-right"]),onClick:je},[pe(g(St),null,{default:Ae(()=>[pe(g($d))]),_:1})],2),X("div",null,Oe(g(j)),1)],2),pe(Cg,{"selection-mode":"range",date:p.value,"min-date":g(m),"max-date":g(b),"range-state":g(v),"disabled-date":g(s),"cell-class-name":g(r),onChangerange:g(_),onPick:Te,onSelect:g(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),g(de)?(U(),le("div",{key:0,class:Y(g(w).e("footer"))},[g(c)?(U(),Ue(g(ml),{key:0,text:"",size:"small",class:Y(g(w).e("link-btn")),onClick:ie},{default:Ae(()=>[cn(Oe(g(S)("el.datepicker.clear")),1)]),_:1},8,["class"])):Me("v-if",!0),pe(g(ml),{plain:"",size:"small",class:Y(g(w).e("link-btn")),disabled:g(ce),onClick:_e[10]||(_e[10]=Ee=>g(T)(!1))},{default:Ae(()=>[cn(Oe(g(S)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):Me("v-if",!0)],2))}});var Vz=At($z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Uz=vt({...QA}),zz=["pick","set-picker-option"],Hz=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const{t:i}=ji(),s=()=>{e.value=e.value.subtract(1,"year"),n.value||(t.value=t.value.subtract(1,"year"))},r=()=>{n.value||(e.value=e.value.add(1,"year")),t.value=t.value.add(1,"year")},o=()=>{e.value=e.value.add(1,"year")},a=()=>{t.value=t.value.subtract(1,"year")},l=z(()=>`${e.value.year()} ${i("el.datepicker.year")}`),c=z(()=>`${t.value.year()} ${i("el.datepicker.year")}`),u=z(()=>e.value.year()),d=z(()=>t.value.year()===e.value.year()?e.value.year()+1:t.value.year());return{leftPrevYear:s,rightNextYear:r,leftNextYear:o,rightPrevYear:a,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},Wz=["onClick"],jz=["disabled"],qz=["disabled"],md="year",Kz=Re({name:"DatePickerMonthRange"}),Gz=Re({...Kz,props:Uz,emits:zz,setup(n,{emit:e}){const t=n,{lang:i}=ji(),s=ot("EP_PICKER_BASE"),{shortcuts:r,disabledDate:o,format:a}=s.props,l=Mn(s.props,"defaultValue"),c=se(st().locale(i.value)),u=se(st().locale(i.value).add(1,md)),{minDate:d,maxDate:f,rangeState:h,ppNs:p,drpNs:m,handleChangeRange:b,handleRangeConfirm:v,handleShortcutClick:w,onSelect:C}=XA(t,{defaultValue:l,leftDate:c,rightDate:u,unit:md,onParsedValueChanged:te}),_=z(()=>!!r.length),{leftPrevYear:T,rightNextYear:k,leftNextYear:E,rightPrevYear:S,leftLabel:P,rightLabel:I,leftYear:W,rightYear:j}=Hz({unlinkPanels:Mn(t,"unlinkPanels"),leftDate:c,rightDate:u}),B=z(()=>t.unlinkPanels&&j.value>W.value+1),F=(O,J=!0)=>{const V=O.minDate,Q=O.maxDate;f.value===Q&&d.value===V||(f.value=Q,d.value=V,J&&v())},Z=O=>O.map(J=>J.format(a));function te(O,J){if(t.unlinkPanels&&J){const V=(O==null?void 0:O.year())||0,Q=J.year();u.value=V===Q?J.add(1,md):J}else u.value=c.value.add(1,md)}return e("set-picker-option",["formatToString",Z]),(O,J)=>(U(),le("div",{class:Y([g(p).b(),g(m).b(),{"has-sidebar":!!O.$slots.sidebar||g(_)}])},[X("div",{class:Y(g(p).e("body-wrapper"))},[dt(O.$slots,"sidebar",{class:Y(g(p).e("sidebar"))}),g(_)?(U(),le("div",{key:0,class:Y(g(p).e("sidebar"))},[(U(!0),le(tt,null,ln(g(r),(V,Q)=>(U(),le("button",{key:Q,type:"button",class:Y(g(p).e("shortcut")),onClick:be=>g(w)(V)},Oe(V.text),11,Wz))),128))],2)):Me("v-if",!0),X("div",{class:Y(g(p).e("body"))},[X("div",{class:Y([[g(p).e("content"),g(m).e("content")],"is-left"])},[X("div",{class:Y(g(m).e("header"))},[X("button",{type:"button",class:Y([g(p).e("icon-btn"),"d-arrow-left"]),onClick:J[0]||(J[0]=(...V)=>g(T)&&g(T)(...V))},[pe(g(St),null,{default:Ae(()=>[pe(g(su))]),_:1})],2),O.unlinkPanels?(U(),le("button",{key:0,type:"button",disabled:!g(B),class:Y([[g(p).e("icon-btn"),{[g(p).is("disabled")]:!g(B)}],"d-arrow-right"]),onClick:J[1]||(J[1]=(...V)=>g(E)&&g(E)(...V))},[pe(g(St),null,{default:Ae(()=>[pe(g(ru))]),_:1})],10,jz)):Me("v-if",!0),X("div",null,Oe(g(P)),1)],2),pe(kg,{"selection-mode":"range",date:c.value,"min-date":g(d),"max-date":g(f),"range-state":g(h),"disabled-date":g(o),onChangerange:g(b),onPick:F,onSelect:g(C)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),X("div",{class:Y([[g(p).e("content"),g(m).e("content")],"is-right"])},[X("div",{class:Y(g(m).e("header"))},[O.unlinkPanels?(U(),le("button",{key:0,type:"button",disabled:!g(B),class:Y([[g(p).e("icon-btn"),{"is-disabled":!g(B)}],"d-arrow-left"]),onClick:J[2]||(J[2]=(...V)=>g(S)&&g(S)(...V))},[pe(g(St),null,{default:Ae(()=>[pe(g(su))]),_:1})],10,qz)):Me("v-if",!0),X("button",{type:"button",class:Y([g(p).e("icon-btn"),"d-arrow-right"]),onClick:J[3]||(J[3]=(...V)=>g(k)&&g(k)(...V))},[pe(g(St),null,{default:Ae(()=>[pe(g(ru))]),_:1})],2),X("div",null,Oe(g(I)),1)],2),pe(kg,{"selection-mode":"range",date:u.value,"min-date":g(d),"max-date":g(f),"range-state":g(h),"disabled-date":g(o),onChangerange:g(b),onPick:F,onSelect:g(C)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Qz=At(Gz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const Yz=function(n){switch(n){case"daterange":case"datetimerange":return Vz;case"monthrange":return Qz;default:return Oz}};st.extend(mU);st.extend(UU);st.extend(K7);st.extend(HU);st.extend(jU);st.extend(KU);st.extend(QU);st.extend(JU);var Jz=Re({name:"ElDatePicker",install:null,props:XU,emits:["update:modelValue"],setup(n,{expose:e,emit:t,slots:i}){const s=mt("picker-panel");kn("ElPopperOptions",Wi(Mn(n,"popperOptions"))),kn(Lb,{slots:i,pickerNs:s});const r=se();e({focus:(l=!0)=>{var c;(c=r.value)==null||c.focus(l)},handleOpen:()=>{var l;(l=r.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=r.value)==null||l.handleClose()}});const a=l=>{t("update:modelValue",l)};return()=>{var l;const c=(l=n.format)!=null?l:G7[n.type]||$a,u=Yz(n.type);return pe(eU,Yi(n,{format:c,type:n.type,ref:r,"onUpdate:modelValue":a}),{default:d=>pe(u,d,null),"range-separator":i["range-separator"]})}}});const Ud=Jz;Ud.install=n=>{n.component(Ud.name,Ud)};const Xz=Ud,ZA=Symbol("ElSelectGroup"),Ch=Symbol("ElSelect");function Zz(n,e){const t=ot(Ch),i=ot(ZA,{disabled:!1}),s=z(()=>Object.prototype.toString.call(n.value).toLowerCase()==="[object object]"),r=z(()=>t.props.multiple?d(t.props.modelValue,n.value):f(n.value,t.props.modelValue)),o=z(()=>{if(t.props.multiple){const m=t.props.modelValue||[];return!r.value&&m.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),a=z(()=>n.label||(s.value?"":n.value)),l=z(()=>n.value||n.label||""),c=z(()=>n.disabled||e.groupDisabled||o.value),u=Lt(),d=(m=[],b)=>{if(s.value){const v=t.props.valueKey;return m&&m.some(w=>ut(Xn(w,v))===Xn(b,v))}else return m&&m.includes(b)},f=(m,b)=>{if(s.value){const{valueKey:v}=t.props;return Xn(m,v)===Xn(b,v)}else return m===b},h=()=>{!n.disabled&&!i.disabled&&(t.hoverIndex=t.optionsArray.indexOf(u.proxy))};$e(()=>a.value,()=>{!n.created&&!t.props.remote&&t.setSelected()}),$e(()=>n.value,(m,b)=>{const{remote:v,valueKey:w}=t.props;if(Object.is(m,b)||(t.onOptionDestroy(b,u.proxy),t.onOptionCreate(u.proxy)),!n.created&&!v){if(w&&typeof m=="object"&&typeof b=="object"&&m[w]===b[w])return;t.setSelected()}}),$e(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0});const{queryChange:p}=ut(t);return $e(p,m=>{const{query:b}=g(m),v=new RegExp(hB(b),"i");e.visible=v.test(a.value)||n.created,e.visible||t.filteredOptionsCount--},{immediate:!0}),{select:t,currentLabel:a,currentValue:l,itemSelected:r,isDisabled:c,hoverItem:h}}const e9=Re({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(n){const e=mt("select"),t=Wi({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:i,itemSelected:s,isDisabled:r,select:o,hoverItem:a}=Zz(n,t),{visible:l,hover:c}=oa(t),u=Lt().proxy;o.onOptionCreate(u),Ti(()=>{const f=u.value,{selected:h}=o,m=(o.props.multiple?h:[h]).some(b=>b.value===u.value);lt(()=>{o.cachedOptions.get(f)===u&&!m&&o.cachedOptions.delete(f)}),o.onOptionDestroy(f,u)});function d(){n.disabled!==!0&&t.groupDisabled!==!0&&o.handleOptionSelect(u,!0)}return{ns:e,currentLabel:i,itemSelected:s,isDisabled:r,select:o,hoverItem:a,visible:l,hover:c,selectOptionClick:d,states:t}}});function t9(n,e,t,i,s,r){return Wt((U(),le("li",{class:Y([n.ns.be("dropdown","item"),n.ns.is("disabled",n.isDisabled),{selected:n.itemSelected,hover:n.hover}]),onMouseenter:e[0]||(e[0]=(...o)=>n.hoverItem&&n.hoverItem(...o)),onClick:e[1]||(e[1]=on((...o)=>n.selectOptionClick&&n.selectOptionClick(...o),["stop"]))},[dt(n.$slots,"default",{},()=>[X("span",null,Oe(n.currentLabel),1)])],34)),[[ui,n.visible]])}var $b=At(e9,[["render",t9],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const n9=Re({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=ot(Ch),e=mt("select"),t=z(()=>n.props.popperClass),i=z(()=>n.props.multiple),s=z(()=>n.props.fitInputWidth),r=se("");function o(){var a;r.value=`${(a=n.selectWrapper)==null?void 0:a.offsetWidth}px`}return dn(()=>{o(),ah(n.selectWrapper,o)}),{ns:e,minWidth:r,popperClass:t,isMultiple:i,isFitInputWidth:s}}});function i9(n,e,t,i,s,r){return U(),le("div",{class:Y([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:mn({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[dt(n.$slots,"default")],6)}var s9=At(n9,[["render",i9],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function r9(n){const{t:e}=ji();return Wi({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:n.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const o9=(n,e,t)=>{const{t:i}=ji(),s=mt("select");HT({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},z(()=>n.suffixTransition===!1));const r=se(null),o=se(null),a=se(null),l=se(null),c=se(null),u=se(null),d=se(null),f=se(-1),h=Gr({query:""}),p=Gr(""),m=se([]);let b=0;const{form:v,formItem:w}=fa(),C=z(()=>!n.filterable||n.multiple||!e.visible),_=z(()=>n.disabled||(v==null?void 0:v.disabled)),T=z(()=>{const ne=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!=="";return n.clearable&&!_.value&&e.inputHovering&&ne}),k=z(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),E=z(()=>s.is("reverse",k.value&&e.visible&&n.suffixTransition)),S=z(()=>n.remote?300:0),P=z(()=>n.loading?n.loadingText||i("el.select.loading"):n.remote&&e.query===""&&e.options.size===0?!1:n.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?n.noMatchText||i("el.select.noMatch"):e.options.size===0?n.noDataText||i("el.select.noData"):null),I=z(()=>{const ne=Array.from(e.options.values()),Ce=[];return m.value.forEach(ze=>{const Ze=ne.findIndex(et=>et.currentLabel===ze);Ze>-1&&Ce.push(ne[Ze])}),Ce.length?Ce:ne}),W=z(()=>Array.from(e.cachedOptions.values())),j=z(()=>{const ne=I.value.filter(Ce=>!Ce.created).some(Ce=>Ce.currentLabel===e.query);return n.filterable&&n.allowCreate&&e.query!==""&&!ne}),B=na(),F=z(()=>["small"].includes(B.value)?"small":"default"),Z=z({get(){return e.visible&&P.value!==!1},set(ne){e.visible=ne}});$e([()=>_.value,()=>B.value,()=>v==null?void 0:v.size],()=>{lt(()=>{te()})}),$e(()=>n.placeholder,ne=>{e.cachedPlaceHolder=e.currentPlaceholder=ne,n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(e.currentPlaceholder="")}),$e(()=>n.modelValue,(ne,Ce)=>{n.multiple&&(te(),ne&&ne.length>0||o.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,n.filterable&&!n.reserveKeyword&&(e.query="",O(e.query))),Q(),n.filterable&&!n.multiple&&(e.inputLength=20),!cl(ne,Ce)&&n.validateEvent&&(w==null||w.validate("change").catch(ze=>void 0))},{flush:"post",deep:!0}),$e(()=>e.visible,ne=>{var Ce,ze,Ze,et,bt;ne?((ze=(Ce=l.value)==null?void 0:Ce.updatePopper)==null||ze.call(Ce),n.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=n.remote?"":e.selectedLabel,(et=(Ze=a.value)==null?void 0:Ze.focus)==null||et.call(Ze),n.multiple?(bt=o.value)==null||bt.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),O(e.query),!n.multiple&&!n.remote&&(h.value.query="",Na(h),Na(p)))):(n.filterable&&(We(n.filterMethod)&&n.filterMethod(""),We(n.remoteMethod)&&n.remoteMethod("")),o.value&&o.value.blur(),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,R(),lt(()=>{o.value&&o.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),n.multiple||(e.selected&&(n.filterable&&n.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,n.filterable&&(e.query=e.selectedLabel)),n.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),t.emit("visible-change",ne)}),$e(()=>e.options.entries(),()=>{var ne,Ce,ze;if(!fi)return;(Ce=(ne=l.value)==null?void 0:ne.updatePopper)==null||Ce.call(ne),n.multiple&&te();const Ze=((ze=u.value)==null?void 0:ze.querySelectorAll("input"))||[];Array.from(Ze).includes(document.activeElement)||Q(),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&V()},{flush:"post"}),$e(()=>e.hoverIndex,ne=>{Fi(ne)&&ne>-1?f.value=I.value[ne]||{}:f.value={},I.value.forEach(Ce=>{Ce.hover=f.value===Ce})});const te=()=>{lt(()=>{var ne,Ce;if(!r.value)return;const ze=r.value.$el.querySelector("input");b=b||(ze.clientHeight>0?ze.clientHeight+2:0);const Ze=c.value,et=G$(B.value||(v==null?void 0:v.size)),bt=B.value||et===b||b<=0?et:b;!(ze.offsetParent===null)&&(ze.style.height=`${(e.selected.length===0?bt:Math.max(Ze?Ze.clientHeight+(Ze.clientHeight>bt?6:0):0,bt))-2}px`),e.tagInMultiLine=Number.parseFloat(ze.style.height)>=bt,e.visible&&P.value!==!1&&((Ce=(ne=l.value)==null?void 0:ne.updatePopper)==null||Ce.call(ne))})},O=async ne=>{if(!(e.previousQuery===ne||e.isOnComposition)){if(e.previousQuery===null&&(We(n.filterMethod)||We(n.remoteMethod))){e.previousQuery=ne;return}e.previousQuery=ne,lt(()=>{var Ce,ze;e.visible&&((ze=(Ce=l.value)==null?void 0:Ce.updatePopper)==null||ze.call(Ce))}),e.hoverIndex=-1,n.multiple&&n.filterable&&lt(()=>{const Ce=o.value.value.length*15+20;e.inputLength=n.collapseTags?Math.min(50,Ce):Ce,J(),te()}),n.remote&&We(n.remoteMethod)?(e.hoverIndex=-1,n.remoteMethod(ne)):We(n.filterMethod)?(n.filterMethod(ne),Na(p)):(e.filteredOptionsCount=e.optionsCount,h.value.query=ne,Na(h),Na(p)),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&(await lt(),V())}},J=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=o.value.value?"":e.cachedPlaceHolder)},V=()=>{const ne=I.value.filter(Ze=>Ze.visible&&!Ze.disabled&&!Ze.states.groupDisabled),Ce=ne.find(Ze=>Ze.created),ze=ne[0];e.hoverIndex=D(I.value,Ce||ze)},Q=()=>{var ne;if(n.multiple)e.selectedLabel="";else{const ze=be(n.modelValue);(ne=ze.props)!=null&&ne.created?(e.createdLabel=ze.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=ze.currentLabel,e.selected=ze,n.filterable&&(e.query=e.selectedLabel);return}const Ce=[];Array.isArray(n.modelValue)&&n.modelValue.forEach(ze=>{Ce.push(be(ze))}),e.selected=Ce,lt(()=>{te()})},be=ne=>{let Ce;const ze=Nd(ne).toLowerCase()==="object",Ze=Nd(ne).toLowerCase()==="null",et=Nd(ne).toLowerCase()==="undefined";for(let Ln=e.cachedOptions.size-1;Ln>=0;Ln--){const Tn=W.value[Ln];if(ze?Xn(Tn.value,n.valueKey)===Xn(ne,n.valueKey):Tn.value===ne){Ce={value:ne,currentLabel:Tn.currentLabel,isDisabled:Tn.isDisabled};break}}if(Ce)return Ce;const bt=ze?ne.label:!Ze&&!et?ne:"",oi={value:ne,currentLabel:bt};return n.multiple&&(oi.hitState=!1),oi},R=()=>{setTimeout(()=>{const ne=n.valueKey;n.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(Ce=>I.value.findIndex(ze=>Xn(ze,ne)===Xn(Ce,ne)))):e.hoverIndex=-1:e.hoverIndex=I.value.findIndex(Ce=>ke(Ce)===ke(e.selected))},300)},N=()=>{var ne,Ce;me(),(Ce=(ne=l.value)==null?void 0:ne.updatePopper)==null||Ce.call(ne),n.multiple&&te()},me=()=>{var ne;e.inputWidth=(ne=r.value)==null?void 0:ne.$el.offsetWidth},he=()=>{n.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,O(e.query))},xe=io(()=>{he()},S.value),je=io(ne=>{O(ne.target.value)},S.value),Ie=ne=>{cl(n.modelValue,ne)||t.emit(UT,ne)},Ne=ne=>{if(ne.code!==Ht.delete){if(ne.target.value.length<=0&&!ge()){const Ce=n.modelValue.slice();Ce.pop(),t.emit(di,Ce),Ie(Ce)}ne.target.value.length===1&&n.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}},Be=(ne,Ce)=>{const ze=e.selected.indexOf(Ce);if(ze>-1&&!_.value){const Ze=n.modelValue.slice();Ze.splice(ze,1),t.emit(di,Ze),Ie(Ze),t.emit("remove-tag",Ce.value)}ne.stopPropagation()},it=ne=>{ne.stopPropagation();const Ce=n.multiple?[]:"";if(!Tt(Ce))for(const ze of e.selected)ze.isDisabled&&Ce.push(ze.value);t.emit(di,Ce),Ie(Ce),e.hoverIndex=-1,e.visible=!1,t.emit("clear")},x=(ne,Ce)=>{var ze;if(n.multiple){const Ze=(n.modelValue||[]).slice(),et=D(Ze,ne.value);et>-1?Ze.splice(et,1):(n.multipleLimit<=0||Ze.length<n.multipleLimit)&&Ze.push(ne.value),t.emit(di,Ze),Ie(Ze),ne.created&&(e.query="",O(""),e.inputLength=20),n.filterable&&((ze=o.value)==null||ze.focus())}else t.emit(di,ne.value),Ie(ne.value),e.visible=!1;e.isSilentBlur=Ce,ee(),!e.visible&&lt(()=>{ce(ne)})},D=(ne=[],Ce)=>{if(!pt(Ce))return ne.indexOf(Ce);const ze=n.valueKey;let Ze=-1;return ne.some((et,bt)=>ut(Xn(et,ze))===Xn(Ce,ze)?(Ze=bt,!0):!1),Ze},ee=()=>{e.softFocus=!0;const ne=o.value||r.value;ne&&(ne==null||ne.focus())},ce=ne=>{var Ce,ze,Ze,et,bt;const oi=Array.isArray(ne)?ne[0]:ne;let Ln=null;if(oi!=null&&oi.value){const Tn=I.value.filter(Xs=>Xs.value===oi.value);Tn.length>0&&(Ln=Tn[0].$el)}if(l.value&&Ln){const Tn=(et=(Ze=(ze=(Ce=l.value)==null?void 0:Ce.popperRef)==null?void 0:ze.contentRef)==null?void 0:Ze.querySelector)==null?void 0:et.call(Ze,`.${s.be("dropdown","wrap")}`);Tn&&gB(Tn,Ln)}(bt=d.value)==null||bt.handleScroll()},de=ne=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(ne.value,ne),e.cachedOptions.set(ne.value,ne)},ae=(ne,Ce)=>{e.options.get(ne)===Ce&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(ne))},Te=ne=>{ne.code!==Ht.backspace&&ge(!1),e.inputLength=o.value.value.length*15+20,te()},ge=ne=>{if(!Array.isArray(e.selected))return;const Ce=e.selected[e.selected.length-1];if(Ce)return ne===!0||ne===!1?(Ce.hitState=ne,ne):(Ce.hitState=!Ce.hitState,Ce.hitState)},ye=ne=>{const Ce=ne.target.value;if(ne.type==="compositionend")e.isOnComposition=!1,lt(()=>O(Ce));else{const ze=Ce[Ce.length-1]||"";e.isOnComposition=!zT(ze)}},oe=()=>{lt(()=>ce(e.selected))},H=ne=>{e.softFocus?e.softFocus=!1:((n.automaticDropdown||n.filterable)&&(n.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),t.emit("focus",ne))},G=()=>{var ne,Ce,ze;e.visible=!1,(ne=r.value)==null||ne.blur(),(ze=(Ce=a.value)==null?void 0:Ce.blur)==null||ze.call(Ce)},K=ne=>{lt(()=>{e.isSilentBlur?e.isSilentBlur=!1:t.emit("blur",ne)}),e.softFocus=!1},we=ne=>{it(ne)},Ve=()=>{e.visible=!1},Qe=ne=>{e.visible&&(ne.preventDefault(),ne.stopPropagation(),e.visible=!1)},Fe=ne=>{var Ce;ne&&!e.mouseEnter||_.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:(!l.value||!l.value.isFocusInsideContent())&&(e.visible=!e.visible),e.visible&&((Ce=o.value||r.value)==null||Ce.focus()))},ie=()=>{e.visible?I.value[e.hoverIndex]&&x(I.value[e.hoverIndex],void 0):Fe()},ke=ne=>pt(ne.value)?Xn(ne.value,n.valueKey):ne.value,Ke=z(()=>I.value.filter(ne=>ne.visible).every(ne=>ne.disabled)),q=z(()=>e.selected.slice(0,n.maxCollapseTags)),re=z(()=>e.selected.slice(n.maxCollapseTags)),_e=ne=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!Ke.value){ne==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):ne==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const Ce=I.value[e.hoverIndex];(Ce.disabled===!0||Ce.states.groupDisabled===!0||!Ce.visible)&&_e(ne),lt(()=>ce(f.value))}};return{optionList:m,optionsArray:I,selectSize:B,handleResize:N,debouncedOnInputChange:xe,debouncedQueryChange:je,deletePrevTag:Ne,deleteTag:Be,deleteSelected:it,handleOptionSelect:x,scrollToOption:ce,readonly:C,resetInputHeight:te,showClose:T,iconComponent:k,iconReverse:E,showNewOption:j,collapseTagSize:F,setSelected:Q,managePlaceholder:J,selectDisabled:_,emptyText:P,toggleLastOptionHitState:ge,resetInputState:Te,handleComposition:ye,onOptionCreate:de,onOptionDestroy:ae,handleMenuEnter:oe,handleFocus:H,blur:G,handleBlur:K,handleClearClick:we,handleClose:Ve,handleKeydownEscape:Qe,toggleMenu:Fe,selectOption:ie,getValueKey:ke,navigateOptions:_e,dropMenuVisible:Z,queryChange:h,groupQueryChange:p,showTagList:q,collapseTagList:re,reference:r,input:o,iOSInput:a,tooltipRef:l,tags:c,selectWrapper:u,scrollbar:d,handleMouseEnter:()=>{e.mouseEnter=!0},handleMouseLeave:()=>{e.mouseEnter=!1}}};var a9=Re({name:"ElOptions",emits:["update-options"],setup(n,{slots:e,emit:t}){let i=[];function s(r,o){if(r.length!==o.length)return!1;for(const[a]of r.entries())if(r[a]!=o[a])return!1;return!0}return()=>{var r,o;const a=(r=e.default)==null?void 0:r.call(e),l=[];function c(u){Array.isArray(u)&&u.forEach(d=>{var f,h,p,m;const b=(f=(d==null?void 0:d.type)||{})==null?void 0:f.name;b==="ElOptionGroup"?c(!Tt(d.children)&&!Array.isArray(d.children)&&We((h=d.children)==null?void 0:h.default)?(p=d.children)==null?void 0:p.default():d.children):b==="ElOption"?l.push((m=d.props)==null?void 0:m.label):Array.isArray(d.children)&&c(d.children)})}return a.length&&c((o=a[0])==null?void 0:o.children),s(l,i)||(i=l,t("update-options",l)),a}}});const Z0="ElSelect",l9=Re({name:Z0,componentName:Z0,components:{ElInput:Fs,ElSelectMenu:s9,ElOption:$b,ElOptions:a9,ElTag:$U,ElScrollbar:dA,ElTooltip:wA,ElIcon:St},directives:{ClickOutside:yf},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Q$},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Nb.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ea,default:ph},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:ea,default:BT},tagType:{...UA.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:vh,default:"bottom-start"}},emits:[di,UT,"remove-tag","clear","visible-change","focus","blur"],setup(n,e){const t=mt("select"),i=mt("input"),{t:s}=ji(),r=r9(n),{optionList:o,optionsArray:a,selectSize:l,readonly:c,handleResize:u,collapseTagSize:d,debouncedOnInputChange:f,debouncedQueryChange:h,deletePrevTag:p,deleteTag:m,deleteSelected:b,handleOptionSelect:v,scrollToOption:w,setSelected:C,resetInputHeight:_,managePlaceholder:T,showClose:k,selectDisabled:E,iconComponent:S,iconReverse:P,showNewOption:I,emptyText:W,toggleLastOptionHitState:j,resetInputState:B,handleComposition:F,onOptionCreate:Z,onOptionDestroy:te,handleMenuEnter:O,handleFocus:J,blur:V,handleBlur:Q,handleClearClick:be,handleClose:R,handleKeydownEscape:N,toggleMenu:me,selectOption:he,getValueKey:xe,navigateOptions:je,dropMenuVisible:Ie,reference:Ne,input:Be,iOSInput:it,tooltipRef:x,tags:D,selectWrapper:ee,scrollbar:ce,queryChange:de,groupQueryChange:ae,handleMouseEnter:Te,handleMouseLeave:ge,showTagList:ye,collapseTagList:oe}=o9(n,r,e),{focus:H}=eV(Ne),{inputWidth:G,selected:K,inputLength:we,filteredOptionsCount:Ve,visible:Qe,softFocus:Fe,selectedLabel:ie,hoverIndex:ke,query:Ke,inputHovering:q,currentPlaceholder:re,menuVisibleOnFocus:_e,isOnComposition:Ee,isSilentBlur:ft,options:ne,cachedOptions:Ce,optionsCount:ze,prefixWidth:Ze,tagInMultiLine:et}=oa(r),bt=z(()=>{const wn=[t.b()],qn=g(l);return qn&&wn.push(t.m(qn)),n.disabled&&wn.push(t.m("disabled")),wn}),oi=z(()=>({maxWidth:`${g(G)-32}px`,width:"100%"})),Ln=z(()=>({maxWidth:`${g(G)>123?g(G)-123:g(G)-75}px`}));kn(Ch,Wi({props:n,options:ne,optionsArray:a,cachedOptions:Ce,optionsCount:ze,filteredOptionsCount:Ve,hoverIndex:ke,handleOptionSelect:v,onOptionCreate:Z,onOptionDestroy:te,selectWrapper:ee,selected:K,setSelected:C,queryChange:de,groupQueryChange:ae})),dn(()=>{r.cachedPlaceHolder=re.value=n.placeholder||(()=>s("el.select.placeholder")),n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(re.value=""),ah(ee,u),n.remote&&n.multiple&&_(),lt(()=>{const wn=Ne.value&&Ne.value.$el;if(wn&&(G.value=wn.getBoundingClientRect().width,e.slots.prefix)){const qn=wn.querySelector(`.${i.e("prefix")}`);Ze.value=Math.max(qn.getBoundingClientRect().width+5,30)}}),C()}),n.multiple&&!Array.isArray(n.modelValue)&&e.emit(di,[]),!n.multiple&&Array.isArray(n.modelValue)&&e.emit(di,"");const Tn=z(()=>{var wn,qn;return(qn=(wn=x.value)==null?void 0:wn.popperRef)==null?void 0:qn.contentRef});return{isIOS:qE,onOptionsRendered:wn=>{o.value=wn},tagInMultiLine:et,prefixWidth:Ze,selectSize:l,readonly:c,handleResize:u,collapseTagSize:d,debouncedOnInputChange:f,debouncedQueryChange:h,deletePrevTag:p,deleteTag:m,deleteSelected:b,handleOptionSelect:v,scrollToOption:w,inputWidth:G,selected:K,inputLength:we,filteredOptionsCount:Ve,visible:Qe,softFocus:Fe,selectedLabel:ie,hoverIndex:ke,query:Ke,inputHovering:q,currentPlaceholder:re,menuVisibleOnFocus:_e,isOnComposition:Ee,isSilentBlur:ft,options:ne,resetInputHeight:_,managePlaceholder:T,showClose:k,selectDisabled:E,iconComponent:S,iconReverse:P,showNewOption:I,emptyText:W,toggleLastOptionHitState:j,resetInputState:B,handleComposition:F,handleMenuEnter:O,handleFocus:J,blur:V,handleBlur:Q,handleClearClick:be,handleClose:R,handleKeydownEscape:N,toggleMenu:me,selectOption:he,getValueKey:xe,navigateOptions:je,dropMenuVisible:Ie,focus:H,reference:Ne,input:Be,iOSInput:it,tooltipRef:x,popperPaneRef:Tn,tags:D,selectWrapper:ee,scrollbar:ce,wrapperKls:bt,selectTagsStyle:oi,nsSelect:t,tagTextStyle:Ln,handleMouseEnter:Te,handleMouseLeave:ge,showTagList:ye,collapseTagList:oe}}}),c9=["disabled","autocomplete"],u9=["disabled"],d9={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function f9(n,e,t,i,s,r){const o=xs("el-tag"),a=xs("el-tooltip"),l=xs("el-icon"),c=xs("el-input"),u=xs("el-option"),d=xs("el-options"),f=xs("el-scrollbar"),h=xs("el-select-menu"),p=JS("click-outside");return Wt((U(),le("div",{ref:"selectWrapper",class:Y(n.wrapperKls),onMouseenter:e[21]||(e[21]=(...m)=>n.handleMouseEnter&&n.handleMouseEnter(...m)),onMouseleave:e[22]||(e[22]=(...m)=>n.handleMouseLeave&&n.handleMouseLeave(...m)),onClick:e[23]||(e[23]=on((...m)=>n.toggleMenu&&n.toggleMenu(...m),["stop"]))},[pe(a,{ref:"tooltipRef",visible:n.dropMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,onShow:n.handleMenuEnter},{default:Ae(()=>[X("div",{class:"select-trigger",onMouseenter:e[19]||(e[19]=m=>n.inputHovering=!0),onMouseleave:e[20]||(e[20]=m=>n.inputHovering=!1)},[n.multiple?(U(),le("div",{key:0,ref:"tags",class:Y([n.nsSelect.e("tags"),n.nsSelect.is("disabled",n.selectDisabled)]),style:mn(n.selectTagsStyle)},[n.collapseTags&&n.selected.length?(U(),Ue(ms,{key:0,onAfterLeave:n.resetInputHeight},{default:Ae(()=>[X("span",{class:Y([n.nsSelect.b("tags-wrapper"),{"has-prefix":n.prefixWidth&&n.selected.length}])},[(U(!0),le(tt,null,ln(n.showTagList,m=>(U(),Ue(o,{key:n.getValueKey(m),closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,hit:m.hitState,type:n.tagType,"disable-transitions":"",onClose:b=>n.deleteTag(b,m)},{default:Ae(()=>[X("span",{class:Y(n.nsSelect.e("tags-text")),style:mn(n.tagTextStyle)},Oe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),n.selected.length>n.maxCollapseTags?(U(),Ue(o,{key:0,closable:!1,size:n.collapseTagSize,type:n.tagType,"disable-transitions":""},{default:Ae(()=>[n.collapseTagsTooltip?(U(),Ue(a,{key:0,disabled:n.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:Ae(()=>[X("span",{class:Y(n.nsSelect.e("tags-text"))},"+ "+Oe(n.selected.length-n.maxCollapseTags),3)]),content:Ae(()=>[X("div",{class:Y(n.nsSelect.e("collapse-tags"))},[(U(!0),le(tt,null,ln(n.collapseTagList,m=>(U(),le("div",{key:n.getValueKey(m),class:Y(n.nsSelect.e("collapse-tag"))},[pe(o,{class:"in-tooltip",closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,hit:m.hitState,type:n.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:b=>n.deleteTag(b,m)},{default:Ae(()=>[X("span",{class:Y(n.nsSelect.e("tags-text")),style:mn({maxWidth:n.inputWidth-75+"px"})},Oe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(U(),le("span",{key:1,class:Y(n.nsSelect.e("tags-text"))},"+ "+Oe(n.selected.length-n.maxCollapseTags),3))]),_:1},8,["size","type"])):Me("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):Me("v-if",!0),n.collapseTags?Me("v-if",!0):(U(),Ue(ms,{key:1,onAfterLeave:n.resetInputHeight},{default:Ae(()=>[X("span",{class:Y([n.nsSelect.b("tags-wrapper"),{"has-prefix":n.prefixWidth&&n.selected.length}])},[(U(!0),le(tt,null,ln(n.selected,m=>(U(),Ue(o,{key:n.getValueKey(m),closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,hit:m.hitState,type:n.tagType,"disable-transitions":"",onClose:b=>n.deleteTag(b,m)},{default:Ae(()=>[X("span",{class:Y(n.nsSelect.e("tags-text")),style:mn({maxWidth:n.inputWidth-75+"px"})},Oe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),n.filterable?Wt((U(),le("input",{key:2,ref:"input","onUpdate:modelValue":e[0]||(e[0]=m=>n.query=m),type:"text",class:Y([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize),n.nsSelect.is("disabled",n.selectDisabled)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:mn({marginLeft:n.prefixWidth&&!n.selected.length||n.tagInMultiLine?`${n.prefixWidth}px`:"",flexGrow:1,width:`${n.inputLength/(n.inputWidth-32)}%`,maxWidth:`${n.inputWidth-42}px`}),onFocus:e[1]||(e[1]=(...m)=>n.handleFocus&&n.handleFocus(...m)),onBlur:e[2]||(e[2]=(...m)=>n.handleBlur&&n.handleBlur(...m)),onKeyup:e[3]||(e[3]=(...m)=>n.managePlaceholder&&n.managePlaceholder(...m)),onKeydown:[e[4]||(e[4]=(...m)=>n.resetInputState&&n.resetInputState(...m)),e[5]||(e[5]=Pn(on(m=>n.navigateOptions("next"),["prevent"]),["down"])),e[6]||(e[6]=Pn(on(m=>n.navigateOptions("prev"),["prevent"]),["up"])),e[7]||(e[7]=Pn((...m)=>n.handleKeydownEscape&&n.handleKeydownEscape(...m),["esc"])),e[8]||(e[8]=Pn(on((...m)=>n.selectOption&&n.selectOption(...m),["stop","prevent"]),["enter"])),e[9]||(e[9]=Pn((...m)=>n.deletePrevTag&&n.deletePrevTag(...m),["delete"])),e[10]||(e[10]=Pn(m=>n.visible=!1,["tab"]))],onCompositionstart:e[11]||(e[11]=(...m)=>n.handleComposition&&n.handleComposition(...m)),onCompositionupdate:e[12]||(e[12]=(...m)=>n.handleComposition&&n.handleComposition(...m)),onCompositionend:e[13]||(e[13]=(...m)=>n.handleComposition&&n.handleComposition(...m)),onInput:e[14]||(e[14]=(...m)=>n.debouncedQueryChange&&n.debouncedQueryChange(...m))},null,46,c9)),[[Qc,n.query]]):Me("v-if",!0)],6)):Me("v-if",!0),Me(" fix: https://github.com/element-plus/element-plus/issues/11415 "),n.isIOS&&!n.multiple&&n.filterable&&n.readonly?(U(),le("input",{key:1,ref:"iOSInput",class:Y([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize),n.nsSelect.em("input","iOS")]),disabled:n.selectDisabled,type:"text"},null,10,u9)):Me("v-if",!0),pe(c,{id:n.id,ref:"reference",modelValue:n.selectedLabel,"onUpdate:modelValue":e[15]||(e[15]=m=>n.selectedLabel=m),type:"text",placeholder:typeof n.currentPlaceholder=="function"?n.currentPlaceholder():n.currentPlaceholder,name:n.name,autocomplete:n.autocomplete,size:n.selectSize,disabled:n.selectDisabled,readonly:n.readonly,"validate-event":!1,class:Y([n.nsSelect.is("focus",n.visible)]),tabindex:n.multiple&&n.filterable?-1:void 0,onFocus:n.handleFocus,onBlur:n.handleBlur,onInput:n.debouncedOnInputChange,onPaste:n.debouncedOnInputChange,onCompositionstart:n.handleComposition,onCompositionupdate:n.handleComposition,onCompositionend:n.handleComposition,onKeydown:[e[16]||(e[16]=Pn(on(m=>n.navigateOptions("next"),["stop","prevent"]),["down"])),e[17]||(e[17]=Pn(on(m=>n.navigateOptions("prev"),["stop","prevent"]),["up"])),Pn(on(n.selectOption,["stop","prevent"]),["enter"]),Pn(n.handleKeydownEscape,["esc"]),e[18]||(e[18]=Pn(m=>n.visible=!1,["tab"]))]},XS({suffix:Ae(()=>[n.iconComponent&&!n.showClose?(U(),Ue(l,{key:0,class:Y([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:Ae(()=>[(U(),Ue(Fn(n.iconComponent)))]),_:1},8,["class"])):Me("v-if",!0),n.showClose&&n.clearIcon?(U(),Ue(l,{key:1,class:Y([n.nsSelect.e("caret"),n.nsSelect.e("icon")]),onClick:n.handleClearClick},{default:Ae(()=>[(U(),Ue(Fn(n.clearIcon)))]),_:1},8,["class","onClick"])):Me("v-if",!0)]),_:2},[n.$slots.prefix?{name:"prefix",fn:Ae(()=>[X("div",d9,[dt(n.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Ae(()=>[pe(h,null,{default:Ae(()=>[Wt(pe(f,{ref:"scrollbar",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:Y([n.nsSelect.is("empty",!n.allowCreate&&!!n.query&&n.filteredOptionsCount===0)])},{default:Ae(()=>[n.showNewOption?(U(),Ue(u,{key:0,value:n.query,created:!0},null,8,["value"])):Me("v-if",!0),pe(d,{onUpdateOptions:n.onOptionsRendered},{default:Ae(()=>[dt(n.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[ui,n.options.size>0&&!n.loading]]),n.emptyText&&(!n.allowCreate||n.loading||n.allowCreate&&n.options.size===0)?(U(),le(tt,{key:0},[n.$slots.empty?dt(n.$slots,"empty",{key:0}):(U(),le("p",{key:1,class:Y(n.nsSelect.be("dropdown","empty"))},Oe(n.emptyText),3))],64)):Me("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[p,n.handleClose,n.popperPaneRef]])}var h9=At(l9,[["render",f9],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const m9=Re({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(n){const e=mt("select"),t=se(!0),i=Lt(),s=se([]);kn(ZA,Wi({...oa(n)}));const r=ot(Ch);dn(()=>{s.value=o(i.subTree)});const o=l=>{const c=[];return Array.isArray(l.children)&&l.children.forEach(u=>{var d;u.type&&u.type.name==="ElOption"&&u.component&&u.component.proxy?c.push(u.component.proxy):(d=u.children)!=null&&d.length&&c.push(...o(u))}),c},{groupQueryChange:a}=ut(r);return $e(a,()=>{t.value=s.value.some(l=>l.visible===!0)},{flush:"post"}),{visible:t,ns:e}}});function p9(n,e,t,i,s,r){return Wt((U(),le("ul",{class:Y(n.ns.be("group","wrap"))},[X("li",{class:Y(n.ns.be("group","title"))},Oe(n.label),3),X("li",null,[X("ul",{class:Y(n.ns.b("group"))},[dt(n.$slots,"default")],2)])],2)),[[ui,n.visible]])}var ex=At(m9,[["render",p9],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const g9=bs(h9,{Option:$b,OptionGroup:ex}),v9=Vl($b);Vl(ex);/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Sg=typeof window<"u",b9=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",lo=n=>b9?Symbol(n):n,y9=(n,e,t)=>w9({l:n,k:e,s:t}),w9=n=>JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Rn=n=>typeof n=="number"&&isFinite(n),_9=n=>zb(n)==="[object Date]",wf=n=>zb(n)==="[object RegExp]",kh=n=>Ot(n)&&Object.keys(n).length===0;function C9(n,e){typeof console<"u"&&(console.warn("[intlify] "+n),e&&console.warn(e.stack))}const hi=Object.assign;let e_;const Vb=()=>e_||(e_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function t_(n){return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const k9=Object.prototype.hasOwnProperty;function Ub(n,e){return k9.call(n,e)}const yn=Array.isArray,Un=n=>typeof n=="function",Ge=n=>typeof n=="string",hn=n=>typeof n=="boolean",jt=n=>n!==null&&typeof n=="object",tx=Object.prototype.toString,zb=n=>tx.call(n),Ot=n=>zb(n)==="[object Object]",S9=n=>n==null?"":yn(n)||Ot(n)&&n.toString===tx?JSON.stringify(n,null,2):String(n);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const nx={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function ix(n,e,t={}){const{domain:i,messages:s,args:r}=t,o=n,a=new SyntaxError(String(o));return a.code=n,e&&(a.location=e),a.domain=i,a}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const sx={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const co=[];co[0]={w:[0],i:[3,0],["["]:[4],o:[7]};co[1]={w:[1],["."]:[2],["["]:[4],o:[7]};co[2]={w:[2],i:[3,0],[0]:[3,0]};co[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};co[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};co[5]={["'"]:[4,0],o:8,l:[5,0]};co[6]={['"']:[4,0],o:8,l:[6,0]};const E9=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function T9(n){return E9.test(n)}function A9(n){const e=n.charCodeAt(0),t=n.charCodeAt(n.length-1);return e===t&&(e===34||e===39)?n.slice(1,-1):n}function x9(n){if(n==null)return"o";switch(n.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return n;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function P9(n){const e=n.trim();return n.charAt(0)==="0"&&isNaN(parseInt(n))?!1:T9(e)?A9(e):"*"+e}function I9(n){const e=[];let t=-1,i=0,s=0,r,o,a,l,c,u,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,i=4,f[0]();else{if(s=0,o===void 0||(o=P9(o),o===!1))return!1;f[1]()}};function h(){const p=n[t+1];if(i===5&&p==="'"||i===6&&p==='"')return t++,a="\\"+p,f[0](),!0}for(;i!==null;)if(t++,r=n[t],!(r==="\\"&&h())){if(l=x9(r),d=co[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=r,u()===!1))))return;if(i===7)return e}}const n_=new Map;function O9(n,e){return jt(n)?n[e]:null}function R9(n,e){if(!jt(n))return null;let t=n_.get(e);if(t||(t=I9(e),t&&n_.set(e,t)),!t)return null;const i=t.length;let s=n,r=0;for(;r<i;){const o=s[t[r]];if(o===void 0)return null;s=o,r++}return s}const M9=n=>n,D9=n=>"",F9="text",N9=n=>n.length===0?"":n.join(""),L9=S9;function i_(n,e){return n=Math.abs(n),e===2?n?n>1?1:0:1:n?Math.min(n,2):0}function B9(n){const e=Rn(n.pluralIndex)?n.pluralIndex:-1;return n.named&&(Rn(n.named.count)||Rn(n.named.n))?Rn(n.named.count)?n.named.count:Rn(n.named.n)?n.named.n:e:e}function $9(n,e){e.count||(e.count=n),e.n||(e.n=n)}function V9(n={}){const e=n.locale,t=B9(n),i=jt(n.pluralRules)&&Ge(e)&&Un(n.pluralRules[e])?n.pluralRules[e]:i_,s=jt(n.pluralRules)&&Ge(e)&&Un(n.pluralRules[e])?i_:void 0,r=v=>v[i(t,v.length,s)],o=n.list||[],a=v=>o[v],l=n.named||{};Rn(n.pluralIndex)&&$9(t,l);const c=v=>l[v];function u(v){const w=Un(n.messages)?n.messages(v):jt(n.messages)?n.messages[v]:!1;return w||(n.parent?n.parent.message(v):D9)}const d=v=>n.modifiers?n.modifiers[v]:M9,f=Ot(n.processor)&&Un(n.processor.normalize)?n.processor.normalize:N9,h=Ot(n.processor)&&Un(n.processor.interpolate)?n.processor.interpolate:L9,p=Ot(n.processor)&&Ge(n.processor.type)?n.processor.type:F9,b={list:a,named:c,plural:r,linked:(v,...w)=>{const[C,_]=w;let T="text",k="";w.length===1?jt(C)?(k=C.modifier||k,T=C.type||T):Ge(C)&&(k=C||k):w.length===2&&(Ge(C)&&(k=C||k),Ge(_)&&(T=_||T));let E=u(v)(b);return T==="vnode"&&yn(E)&&k&&(E=E[0]),k?d(k)(E,T):E},message:u,type:p,interpolate:h,normalize:f};return b}let lu=null;function U9(n){lu=n}function z9(n,e,t){lu&&lu.emit(sx.I18nInit,{timestamp:Date.now(),i18n:n,version:e,meta:t})}const H9=W9(sx.FunctionTranslate);function W9(n){return e=>lu&&lu.emit(n,e)}function j9(n,e,t){return[...new Set([t,...yn(e)?e:jt(e)?Object.keys(e):Ge(e)?[e]:[t]])]}function rx(n,e,t){const i=Ge(t)?t:Hb,s=n;s.__localeChainCache||(s.__localeChainCache=new Map);let r=s.__localeChainCache.get(i);if(!r){r=[];let o=[t];for(;yn(o);)o=s_(r,o,e);const a=yn(e)||!Ot(e)?e:e.default?e.default:null;o=Ge(a)?[a]:a,yn(o)&&s_(r,o,!1),s.__localeChainCache.set(i,r)}return r}function s_(n,e,t){let i=!0;for(let s=0;s<e.length&&hn(i);s++){const r=e[s];Ge(r)&&(i=q9(n,e[s],t))}return i}function q9(n,e,t){let i;const s=e.split("-");do{const r=s.join("-");i=K9(n,r,t),s.splice(-1,1)}while(s.length&&i===!0);return i}function K9(n,e,t){let i=!1;if(!n.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const s=e.replace(/!/g,"");n.push(s),(yn(t)||Ot(t))&&t[s]&&(i=t[s])}return i}const G9="9.2.2",Sh=-1,Hb="en-US",r_="",o_=n=>`${n.charAt(0).toLocaleUpperCase()}${n.substr(1)}`;function Q9(){return{upper:(n,e)=>e==="text"&&Ge(n)?n.toUpperCase():e==="vnode"&&jt(n)&&"__v_isVNode"in n?n.children.toUpperCase():n,lower:(n,e)=>e==="text"&&Ge(n)?n.toLowerCase():e==="vnode"&&jt(n)&&"__v_isVNode"in n?n.children.toLowerCase():n,capitalize:(n,e)=>e==="text"&&Ge(n)?o_(n):e==="vnode"&&jt(n)&&"__v_isVNode"in n?o_(n.children):n}}let Y9,ox;function J9(n){ox=n}let ax;function X9(n){ax=n}let lx=null;const a_=n=>{lx=n},Z9=()=>lx;let cx=null;const l_=n=>{cx=n},eH=()=>cx;let c_=0;function tH(n={}){const e=Ge(n.version)?n.version:G9,t=Ge(n.locale)?n.locale:Hb,i=yn(n.fallbackLocale)||Ot(n.fallbackLocale)||Ge(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:t,s=Ot(n.messages)?n.messages:{[t]:{}},r=Ot(n.datetimeFormats)?n.datetimeFormats:{[t]:{}},o=Ot(n.numberFormats)?n.numberFormats:{[t]:{}},a=hi({},n.modifiers||{},Q9()),l=n.pluralRules||{},c=Un(n.missing)?n.missing:null,u=hn(n.missingWarn)||wf(n.missingWarn)?n.missingWarn:!0,d=hn(n.fallbackWarn)||wf(n.fallbackWarn)?n.fallbackWarn:!0,f=!!n.fallbackFormat,h=!!n.unresolving,p=Un(n.postTranslation)?n.postTranslation:null,m=Ot(n.processor)?n.processor:null,b=hn(n.warnHtmlMessage)?n.warnHtmlMessage:!0,v=!!n.escapeParameter,w=Un(n.messageCompiler)?n.messageCompiler:Y9,C=Un(n.messageResolver)?n.messageResolver:ox||O9,_=Un(n.localeFallbacker)?n.localeFallbacker:ax||j9,T=jt(n.fallbackContext)?n.fallbackContext:void 0,k=Un(n.onWarn)?n.onWarn:C9,E=n,S=jt(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,P=jt(E.__numberFormatters)?E.__numberFormatters:new Map,I=jt(E.__meta)?E.__meta:{};c_++;const W={version:e,cid:c_,locale:t,fallbackLocale:i,messages:s,modifiers:a,pluralRules:l,missing:c,missingWarn:u,fallbackWarn:d,fallbackFormat:f,unresolving:h,postTranslation:p,processor:m,warnHtmlMessage:b,escapeParameter:v,messageCompiler:w,messageResolver:C,localeFallbacker:_,fallbackContext:T,onWarn:k,__meta:I};return W.datetimeFormats=r,W.numberFormats=o,W.__datetimeFormatters=S,W.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&z9(W,e,I),W}function Wb(n,e,t,i,s){const{missing:r,onWarn:o}=n;if(r!==null){const a=r(n,t,e,s);return Ge(a)?a:e}else return e}function rc(n,e,t){const i=n;i.__localeChainCache=new Map,n.localeFallbacker(n,t,e)}let ux=nx.__EXTEND_POINT__;const Qm=()=>++ux,qa={INVALID_ARGUMENT:ux,INVALID_DATE_ARGUMENT:Qm(),INVALID_ISO_DATE_ARGUMENT:Qm(),__EXTEND_POINT__:Qm()};function Ka(n){return ix(n,null,void 0)}const u_=()=>"",Os=n=>Un(n);function d_(n,...e){const{fallbackFormat:t,postTranslation:i,unresolving:s,messageCompiler:r,fallbackLocale:o,messages:a}=n,[l,c]=Eg(...e),u=hn(c.missingWarn)?c.missingWarn:n.missingWarn,d=hn(c.fallbackWarn)?c.fallbackWarn:n.fallbackWarn,f=hn(c.escapeParameter)?c.escapeParameter:n.escapeParameter,h=!!c.resolvedMessage,p=Ge(c.default)||hn(c.default)?hn(c.default)?r?l:()=>l:c.default:t?r?l:()=>l:"",m=t||p!=="",b=Ge(c.locale)?c.locale:n.locale;f&&nH(c);let[v,w,C]=h?[l,b,a[b]||{}]:dx(n,l,b,o,d,u),_=v,T=l;if(!h&&!(Ge(_)||Os(_))&&m&&(_=p,T=_),!h&&(!(Ge(_)||Os(_))||!Ge(w)))return s?Sh:l;let k=!1;const E=()=>{k=!0},S=Os(_)?_:fx(n,l,w,_,T,E);if(k)return _;const P=rH(n,w,C,c),I=V9(P),W=iH(n,S,I),j=i?i(W,l):W;if(__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:Ge(l)?l:Os(_)?_.key:"",locale:w||(Os(_)?_.locale:""),format:Ge(_)?_:Os(_)?_.source:"",message:j};B.meta=hi({},n.__meta,Z9()||{}),H9(B)}return j}function nH(n){yn(n.list)?n.list=n.list.map(e=>Ge(e)?t_(e):e):jt(n.named)&&Object.keys(n.named).forEach(e=>{Ge(n.named[e])&&(n.named[e]=t_(n.named[e]))})}function dx(n,e,t,i,s,r){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=n,u=c(n,i,t);let d={},f,h=null;const p="translate";for(let m=0;m<u.length&&(f=u[m],d=o[f]||{},(h=l(d,e))===null&&(h=d[e]),!(Ge(h)||Un(h)));m++){const b=Wb(n,e,f,r,p);b!==e&&(h=b)}return[h,f,d]}function fx(n,e,t,i,s,r){const{messageCompiler:o,warnHtmlMessage:a}=n;if(Os(i)){const c=i;return c.locale=c.locale||t,c.key=c.key||e,c}if(o==null){const c=()=>i;return c.locale=t,c.key=e,c}const l=o(i,sH(n,t,s,i,a,r));return l.locale=t,l.key=e,l.source=i,l}function iH(n,e,t){return e(t)}function Eg(...n){const[e,t,i]=n,s={};if(!Ge(e)&&!Rn(e)&&!Os(e))throw Ka(qa.INVALID_ARGUMENT);const r=Rn(e)?String(e):(Os(e),e);return Rn(t)?s.plural=t:Ge(t)?s.default=t:Ot(t)&&!kh(t)?s.named=t:yn(t)&&(s.list=t),Rn(i)?s.plural=i:Ge(i)?s.default=i:Ot(i)&&hi(s,i),[r,s]}function sH(n,e,t,i,s,r){return{warnHtmlMessage:s,onError:o=>{throw r&&r(o),o},onCacheKey:o=>y9(e,t,o)}}function rH(n,e,t,i){const{modifiers:s,pluralRules:r,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=n,f={locale:e,modifiers:s,pluralRules:r,messages:h=>{let p=o(t,h);if(p==null&&u){const[,,m]=dx(u,h,e,a,l,c);p=o(m,h)}if(Ge(p)){let m=!1;const v=fx(n,h,e,p,h,()=>{m=!0});return m?u_:v}else return Os(p)?p:u_}};return n.processor&&(f.processor=n.processor),i.list&&(f.list=i.list),i.named&&(f.named=i.named),Rn(i.plural)&&(f.pluralIndex=i.plural),f}function f_(n,...e){const{datetimeFormats:t,unresolving:i,fallbackLocale:s,onWarn:r,localeFallbacker:o}=n,{__datetimeFormatters:a}=n,[l,c,u,d]=Tg(...e),f=hn(u.missingWarn)?u.missingWarn:n.missingWarn;hn(u.fallbackWarn)?u.fallbackWarn:n.fallbackWarn;const h=!!u.part,p=Ge(u.locale)?u.locale:n.locale,m=o(n,s,p);if(!Ge(l)||l==="")return new Intl.DateTimeFormat(p,d).format(c);let b={},v,w=null;const C="datetime format";for(let k=0;k<m.length&&(v=m[k],b=t[v]||{},w=b[l],!Ot(w));k++)Wb(n,l,v,f,C);if(!Ot(w)||!Ge(v))return i?Sh:l;let _=`${v}__${l}`;kh(d)||(_=`${_}__${JSON.stringify(d)}`);let T=a.get(_);return T||(T=new Intl.DateTimeFormat(v,hi({},w,d)),a.set(_,T)),h?T.formatToParts(c):T.format(c)}const hx=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Tg(...n){const[e,t,i,s]=n,r={};let o={},a;if(Ge(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Ka(qa.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Ka(qa.INVALID_ISO_DATE_ARGUMENT)}}else if(_9(e)){if(isNaN(e.getTime()))throw Ka(qa.INVALID_DATE_ARGUMENT);a=e}else if(Rn(e))a=e;else throw Ka(qa.INVALID_ARGUMENT);return Ge(t)?r.key=t:Ot(t)&&Object.keys(t).forEach(l=>{hx.includes(l)?o[l]=t[l]:r[l]=t[l]}),Ge(i)?r.locale=i:Ot(i)&&(o=i),Ot(s)&&(o=s),[r.key||"",a,r,o]}function h_(n,e,t){const i=n;for(const s in t){const r=`${e}__${s}`;i.__datetimeFormatters.has(r)&&i.__datetimeFormatters.delete(r)}}function m_(n,...e){const{numberFormats:t,unresolving:i,fallbackLocale:s,onWarn:r,localeFallbacker:o}=n,{__numberFormatters:a}=n,[l,c,u,d]=Ag(...e),f=hn(u.missingWarn)?u.missingWarn:n.missingWarn;hn(u.fallbackWarn)?u.fallbackWarn:n.fallbackWarn;const h=!!u.part,p=Ge(u.locale)?u.locale:n.locale,m=o(n,s,p);if(!Ge(l)||l==="")return new Intl.NumberFormat(p,d).format(c);let b={},v,w=null;const C="number format";for(let k=0;k<m.length&&(v=m[k],b=t[v]||{},w=b[l],!Ot(w));k++)Wb(n,l,v,f,C);if(!Ot(w)||!Ge(v))return i?Sh:l;let _=`${v}__${l}`;kh(d)||(_=`${_}__${JSON.stringify(d)}`);let T=a.get(_);return T||(T=new Intl.NumberFormat(v,hi({},w,d)),a.set(_,T)),h?T.formatToParts(c):T.format(c)}const mx=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ag(...n){const[e,t,i,s]=n,r={};let o={};if(!Rn(e))throw Ka(qa.INVALID_ARGUMENT);const a=e;return Ge(t)?r.key=t:Ot(t)&&Object.keys(t).forEach(l=>{mx.includes(l)?o[l]=t[l]:r[l]=t[l]}),Ge(i)?r.locale=i:Ot(i)&&(o=i),Ot(s)&&(o=s),[r.key||"",a,r,o]}function p_(n,e,t){const i=n;for(const s in t){const r=`${e}__${s}`;i.__numberFormatters.has(r)&&i.__numberFormatters.delete(r)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vb().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const oH="9.2.2";function aH(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vb().__INTLIFY_PROD_DEVTOOLS__=!1)}let px=nx.__EXTEND_POINT__;const gi=()=>++px,Ui={UNEXPECTED_RETURN_TYPE:px,INVALID_ARGUMENT:gi(),MUST_BE_CALL_SETUP_TOP:gi(),NOT_INSLALLED:gi(),NOT_AVAILABLE_IN_LEGACY_MODE:gi(),REQUIRED_VALUE:gi(),INVALID_VALUE:gi(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:gi(),NOT_INSLALLED_WITH_PROVIDE:gi(),UNEXPECTED_ERROR:gi(),NOT_COMPATIBLE_LEGACY_VUE_I18N:gi(),BRIDGE_SUPPORT_VUE_2_ONLY:gi(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:gi(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:gi(),__EXTEND_POINT__:gi()};function ss(n,...e){return ix(n,null,void 0)}const xg=lo("__transrateVNode"),Pg=lo("__datetimeParts"),Ig=lo("__numberParts"),lH=lo("__setPluralRules");lo("__intlifyMeta");const cH=lo("__injectWithOption");function Og(n){if(!jt(n))return n;for(const e in n)if(Ub(n,e))if(!e.includes("."))jt(n[e])&&Og(n[e]);else{const t=e.split("."),i=t.length-1;let s=n;for(let r=0;r<i;r++)t[r]in s||(s[t[r]]={}),s=s[t[r]];s[t[i]]=n[e],delete n[e],jt(s[t[i]])&&Og(s[t[i]])}return n}function gx(n,e){const{messages:t,__i18n:i,messageResolver:s,flatJson:r}=e,o=Ot(t)?t:yn(i)?{}:{[n]:{}};if(yn(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||{},Pc(c,o[l])):Pc(c,o)}else Ge(a)&&Pc(JSON.parse(a),o)}),s==null&&r)for(const a in o)Ub(o,a)&&Og(o[a]);return o}const pd=n=>!jt(n)||yn(n);function Pc(n,e){if(pd(n)||pd(e))throw ss(Ui.INVALID_VALUE);for(const t in n)Ub(n,t)&&(pd(n[t])||pd(e[t])?e[t]=n[t]:Pc(n[t],e[t]))}function vx(n){return n.type}function uH(n,e,t){let i=jt(e.messages)?e.messages:{};"__i18nGlobal"in t&&(i=gx(n.locale.value,{messages:i,__i18n:t.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(r=>{n.mergeLocaleMessage(r,i[r])});{if(jt(e.datetimeFormats)){const r=Object.keys(e.datetimeFormats);r.length&&r.forEach(o=>{n.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(jt(e.numberFormats)){const r=Object.keys(e.numberFormats);r.length&&r.forEach(o=>{n.mergeNumberFormat(o,e.numberFormats[o])})}}}function g_(n){return pe(js,null,n,0)}const v_="__INTLIFY_META__";let b_=0;function y_(n){return(e,t,i,s)=>n(t,i,Lt()||void 0,s)}const dH=()=>{const n=Lt();let e=null;return n&&(e=vx(n)[v_])?{[v_]:e}:null};function bx(n={},e){const{__root:t}=n,i=t===void 0;let s=hn(n.inheritLocale)?n.inheritLocale:!0;const r=se(t&&s?t.locale.value:Ge(n.locale)?n.locale:Hb),o=se(t&&s?t.fallbackLocale.value:Ge(n.fallbackLocale)||yn(n.fallbackLocale)||Ot(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:r.value),a=se(gx(r.value,n)),l=se(Ot(n.datetimeFormats)?n.datetimeFormats:{[r.value]:{}}),c=se(Ot(n.numberFormats)?n.numberFormats:{[r.value]:{}});let u=t?t.missingWarn:hn(n.missingWarn)||wf(n.missingWarn)?n.missingWarn:!0,d=t?t.fallbackWarn:hn(n.fallbackWarn)||wf(n.fallbackWarn)?n.fallbackWarn:!0,f=t?t.fallbackRoot:hn(n.fallbackRoot)?n.fallbackRoot:!0,h=!!n.fallbackFormat,p=Un(n.missing)?n.missing:null,m=Un(n.missing)?y_(n.missing):null,b=Un(n.postTranslation)?n.postTranslation:null,v=t?t.warnHtmlMessage:hn(n.warnHtmlMessage)?n.warnHtmlMessage:!0,w=!!n.escapeParameter;const C=t?t.modifiers:Ot(n.modifiers)?n.modifiers:{};let _=n.pluralRules||t&&t.pluralRules,T;T=(()=>{i&&l_(null);const H={version:oH,locale:r.value,fallbackLocale:o.value,messages:a.value,modifiers:C,pluralRules:_,missing:m===null?void 0:m,missingWarn:u,fallbackWarn:d,fallbackFormat:h,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:v,escapeParameter:w,messageResolver:n.messageResolver,__meta:{framework:"vue"}};H.datetimeFormats=l.value,H.numberFormats=c.value,H.__datetimeFormatters=Ot(T)?T.__datetimeFormatters:void 0,H.__numberFormatters=Ot(T)?T.__numberFormatters:void 0;const G=tH(H);return i&&l_(G),G})(),rc(T,r.value,o.value);function E(){return[r.value,o.value,a.value,l.value,c.value]}const S=z({get:()=>r.value,set:H=>{r.value=H,T.locale=r.value}}),P=z({get:()=>o.value,set:H=>{o.value=H,T.fallbackLocale=o.value,rc(T,r.value,H)}}),I=z(()=>a.value),W=z(()=>l.value),j=z(()=>c.value);function B(){return Un(b)?b:null}function F(H){b=H,T.postTranslation=H}function Z(){return p}function te(H){H!==null&&(m=y_(H)),p=H,T.missing=m}const O=(H,G,K,we,Ve,Qe)=>{E();let Fe;if(__INTLIFY_PROD_DEVTOOLS__)try{a_(dH()),i||(T.fallbackContext=t?eH():void 0),Fe=H(T)}finally{a_(null),i||(T.fallbackContext=void 0)}else Fe=H(T);if(Rn(Fe)&&Fe===Sh){const[ie,ke]=G();return t&&f?we(t):Ve(ie)}else{if(Qe(Fe))return Fe;throw ss(Ui.UNEXPECTED_RETURN_TYPE)}};function J(...H){return O(G=>Reflect.apply(d_,null,[G,...H]),()=>Eg(...H),"translate",G=>Reflect.apply(G.t,G,[...H]),G=>G,G=>Ge(G))}function V(...H){const[G,K,we]=H;if(we&&!jt(we))throw ss(Ui.INVALID_ARGUMENT);return J(G,K,hi({resolvedMessage:!0},we||{}))}function Q(...H){return O(G=>Reflect.apply(f_,null,[G,...H]),()=>Tg(...H),"datetime format",G=>Reflect.apply(G.d,G,[...H]),()=>r_,G=>Ge(G))}function be(...H){return O(G=>Reflect.apply(m_,null,[G,...H]),()=>Ag(...H),"number format",G=>Reflect.apply(G.n,G,[...H]),()=>r_,G=>Ge(G))}function R(H){return H.map(G=>Ge(G)||Rn(G)||hn(G)?g_(String(G)):G)}const me={normalize:R,interpolate:H=>H,type:"vnode"};function he(...H){return O(G=>{let K;const we=G;try{we.processor=me,K=Reflect.apply(d_,null,[we,...H])}finally{we.processor=null}return K},()=>Eg(...H),"translate",G=>G[xg](...H),G=>[g_(G)],G=>yn(G))}function xe(...H){return O(G=>Reflect.apply(m_,null,[G,...H]),()=>Ag(...H),"number format",G=>G[Ig](...H),()=>[],G=>Ge(G)||yn(G))}function je(...H){return O(G=>Reflect.apply(f_,null,[G,...H]),()=>Tg(...H),"datetime format",G=>G[Pg](...H),()=>[],G=>Ge(G)||yn(G))}function Ie(H){_=H,T.pluralRules=_}function Ne(H,G){const K=Ge(G)?G:r.value,we=x(K);return T.messageResolver(we,H)!==null}function Be(H){let G=null;const K=rx(T,o.value,r.value);for(let we=0;we<K.length;we++){const Ve=a.value[K[we]]||{},Qe=T.messageResolver(Ve,H);if(Qe!=null){G=Qe;break}}return G}function it(H){const G=Be(H);return G??(t?t.tm(H)||{}:{})}function x(H){return a.value[H]||{}}function D(H,G){a.value[H]=G,T.messages=a.value}function ee(H,G){a.value[H]=a.value[H]||{},Pc(G,a.value[H]),T.messages=a.value}function ce(H){return l.value[H]||{}}function de(H,G){l.value[H]=G,T.datetimeFormats=l.value,h_(T,H,G)}function ae(H,G){l.value[H]=hi(l.value[H]||{},G),T.datetimeFormats=l.value,h_(T,H,G)}function Te(H){return c.value[H]||{}}function ge(H,G){c.value[H]=G,T.numberFormats=c.value,p_(T,H,G)}function ye(H,G){c.value[H]=hi(c.value[H]||{},G),T.numberFormats=c.value,p_(T,H,G)}b_++,t&&Sg&&($e(t.locale,H=>{s&&(r.value=H,T.locale=H,rc(T,r.value,o.value))}),$e(t.fallbackLocale,H=>{s&&(o.value=H,T.fallbackLocale=H,rc(T,r.value,o.value))}));const oe={id:b_,locale:S,fallbackLocale:P,get inheritLocale(){return s},set inheritLocale(H){s=H,H&&t&&(r.value=t.locale.value,o.value=t.fallbackLocale.value,rc(T,r.value,o.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:I,get modifiers(){return C},get pluralRules(){return _||{}},get isGlobal(){return i},get missingWarn(){return u},set missingWarn(H){u=H,T.missingWarn=u},get fallbackWarn(){return d},set fallbackWarn(H){d=H,T.fallbackWarn=d},get fallbackRoot(){return f},set fallbackRoot(H){f=H},get fallbackFormat(){return h},set fallbackFormat(H){h=H,T.fallbackFormat=h},get warnHtmlMessage(){return v},set warnHtmlMessage(H){v=H,T.warnHtmlMessage=H},get escapeParameter(){return w},set escapeParameter(H){w=H,T.escapeParameter=H},t:J,getLocaleMessage:x,setLocaleMessage:D,mergeLocaleMessage:ee,getPostTranslationHandler:B,setPostTranslationHandler:F,getMissingHandler:Z,setMissingHandler:te,[lH]:Ie};return oe.datetimeFormats=W,oe.numberFormats=j,oe.rt=V,oe.te=Ne,oe.tm=it,oe.d=Q,oe.n=be,oe.getDateTimeFormat=ce,oe.setDateTimeFormat=de,oe.mergeDateTimeFormat=ae,oe.getNumberFormat=Te,oe.setNumberFormat=ge,oe.mergeNumberFormat=ye,oe[cH]=n.__injectWithOption,oe[xg]=he,oe[Pg]=je,oe[Ig]=xe,oe}const jb={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:n=>n==="parent"||n==="global",default:"parent"},i18n:{type:Object}};function fH({slots:n},e){return e.length===1&&e[0]==="default"?(n.default?n.default():[]).reduce((i,s)=>i=[...i,...yn(s.children)?s.children:[s]],[]):e.reduce((t,i)=>{const s=n[i];return s&&(t[i]=s()),t},{})}function yx(n){return tt}const w_={name:"i18n-t",props:hi({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:n=>Rn(n)||!isNaN(n)}},jb),setup(n,e){const{slots:t,attrs:i}=e,s=n.i18n||xu({useScope:n.scope,__useComponent:!0});return()=>{const r=Object.keys(t).filter(d=>d!=="_"),o={};n.locale&&(o.locale=n.locale),n.plural!==void 0&&(o.plural=Ge(n.plural)?+n.plural:n.plural);const a=fH(e,r),l=s[xg](n.keypath,a,o),c=hi({},i),u=Ge(n.tag)||jt(n.tag)?n.tag:yx();return Je(u,c,l)}}};function hH(n){return yn(n)&&!Ge(n[0])}function wx(n,e,t,i){const{slots:s,attrs:r}=e;return()=>{const o={part:!0};let a={};n.locale&&(o.locale=n.locale),Ge(n.format)?o.key=n.format:jt(n.format)&&(Ge(n.format.key)&&(o.key=n.format.key),a=Object.keys(n.format).reduce((f,h)=>t.includes(h)?hi({},f,{[h]:n.format[h]}):f,{}));const l=i(n.value,o,a);let c=[o.key];yn(l)?c=l.map((f,h)=>{const p=s[f.type],m=p?p({[f.type]:f.value,index:h,parts:l}):[f.value];return hH(m)&&(m[0].key=`${f.type}-${h}`),m}):Ge(l)&&(c=[l]);const u=hi({},r),d=Ge(n.tag)||jt(n.tag)?n.tag:yx();return Je(d,u,c)}}const __={name:"i18n-n",props:hi({value:{type:Number,required:!0},format:{type:[String,Object]}},jb),setup(n,e){const t=n.i18n||xu({useScope:"parent",__useComponent:!0});return wx(n,e,mx,(...i)=>t[Ig](...i))}},C_={name:"i18n-d",props:hi({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},jb),setup(n,e){const t=n.i18n||xu({useScope:"parent",__useComponent:!0});return wx(n,e,hx,(...i)=>t[Pg](...i))}};function mH(n,e){const t=n;if(n.mode==="composition")return t.__getInstance(e)||n.global;{const i=t.__getInstance(e);return i!=null?i.__composer:n.global.__composer}}function pH(n){const e=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw ss(Ui.UNEXPECTED_ERROR);const u=mH(n,a.$),d=k_(c);return[Reflect.apply(u.t,u,[...S_(d)]),u]};return{created:(o,a)=>{const[l,c]=e(a);Sg&&n.global===c&&(o.__i18nWatcher=$e(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Sg&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=k_(a);o.textContent=Reflect.apply(l.t,l,[...S_(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function k_(n){if(Ge(n))return{path:n};if(Ot(n)){if(!("path"in n))throw ss(Ui.REQUIRED_VALUE,"path");return n}else throw ss(Ui.INVALID_VALUE)}function S_(n){const{path:e,locale:t,args:i,choice:s,plural:r}=n,o={},a=i||{};return Ge(t)&&(o.locale=t),Rn(s)&&(o.plural=s),Rn(r)&&(o.plural=r),[e,a,o]}function gH(n,e,...t){const i=Ot(t[0])?t[0]:{},s=!!i.useI18nComponentName;(hn(i.globalInstall)?i.globalInstall:!0)&&(n.component(s?"i18n":w_.name,w_),n.component(__.name,__),n.component(C_.name,C_)),n.directive("t",pH(e))}const vH=lo("global-vue-i18n");function bH(n={},e){const t=hn(n.globalInjection)?n.globalInjection:!0,i=!0,s=new Map,[r,o]=yH(n),a=lo("");function l(d){return s.get(d)||null}function c(d,f){s.set(d,f)}function u(d){s.delete(d)}{const d={get mode(){return"composition"},get allowComposition(){return i},async install(f,...h){f.__VUE_I18N_SYMBOL__=a,f.provide(f.__VUE_I18N_SYMBOL__,d),t&&AH(f,d.global),gH(f,d,...h);const p=f.unmount;f.unmount=()=>{d.dispose(),p()}},get global(){return o},dispose(){r.stop()},__instances:s,__getInstance:l,__setInstance:c,__deleteInstance:u};return d}}function xu(n={}){const e=Lt();if(e==null)throw ss(Ui.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw ss(Ui.NOT_INSLALLED);const t=wH(e),i=CH(t),s=vx(e),r=_H(n,s);if(r==="global")return uH(i,n,s),i;if(r==="parent"){let l=kH(t,e,n.__useComponent);return l==null&&(l=i),l}const o=t;let a=o.__getInstance(e);if(a==null){const l=hi({},n);"__i18n"in s&&(l.__i18n=s.__i18n),i&&(l.__root=i),a=bx(l),SH(o,e),o.__setInstance(e,a)}return a}function yH(n,e,t){const i=fS();{const s=i.run(()=>bx(n));if(s==null)throw ss(Ui.UNEXPECTED_ERROR);return[i,s]}}function wH(n){{const e=ot(n.isCE?vH:n.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw ss(n.isCE?Ui.NOT_INSLALLED_WITH_PROVIDE:Ui.UNEXPECTED_ERROR);return e}}function _H(n,e){return kh(n)?"__i18n"in e?"local":"global":n.useScope?n.useScope:"local"}function CH(n){return n.mode==="composition"?n.global:n.global.__composer}function kH(n,e,t=!1){let i=null;const s=e.root;let r=e.parent;for(;r!=null;){const o=n;if(n.mode==="composition"&&(i=o.__getInstance(r)),i!=null||s===r)break;r=r.parent}return i}function SH(n,e,t){dn(()=>{},e),Nl(()=>{n.__deleteInstance(e)},e)}const EH=["locale","fallbackLocale","availableLocales"],TH=["t","rt","d","n","tm"];function AH(n,e){const t=Object.create(null);EH.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw ss(Ui.UNEXPECTED_ERROR);const r=$t(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(t,i,r)}),n.config.globalProperties.$i18n=t,TH.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw ss(Ui.UNEXPECTED_ERROR);Object.defineProperty(n.config.globalProperties,`$${i}`,s)})}J9(R9);X9(rx);aH();if(__INTLIFY_PROD_DEVTOOLS__){const n=Vb();n.__INTLIFY__=!0,U9(n.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var _x={exports:{}};const xH=TA(UM);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(n,e){(function(t,i){n.exports=i(xH)})(self,t=>(()=>{var i={976:a=>{a.exports=t}},s={};function r(a){var l=s[a];if(l!==void 0)return l.exports;var c=s[a]={exports:{}};return i[a](c,c.exports,r),c.exports}r.d=(a,l)=>{for(var c in l)r.o(l,c)&&!r.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},r.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l);var o={};return(()=>{r.d(o,{default:()=>R});var a=r(976);const l=function(N){var me=typeof N;return N!=null&&(me=="object"||me=="function")},c=typeof un=="object"&&un&&un.Object===Object&&un;var u=typeof self=="object"&&self&&self.Object===Object&&self;const d=c||u||Function("return this")(),f=function(){return d.Date.now()};var h=/\s/;const p=function(N){for(var me=N.length;me--&&h.test(N.charAt(me)););return me};var m=/^\s+/;const b=function(N){return N&&N.slice(0,p(N)+1).replace(m,"")},v=d.Symbol;var w=Object.prototype,C=w.hasOwnProperty,_=w.toString,T=v?v.toStringTag:void 0;const k=function(N){var me=C.call(N,T),he=N[T];try{N[T]=void 0;var xe=!0}catch{}var je=_.call(N);return xe&&(me?N[T]=he:delete N[T]),je};var E=Object.prototype.toString;const S=function(N){return E.call(N)};var P=v?v.toStringTag:void 0;const I=function(N){return N==null?N===void 0?"[object Undefined]":"[object Null]":P&&P in Object(N)?k(N):S(N)},W=function(N){return N!=null&&typeof N=="object"},j=function(N){return typeof N=="symbol"||W(N)&&I(N)=="[object Symbol]"};var B=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,Z=/^0o[0-7]+$/i,te=parseInt;const O=function(N){if(typeof N=="number")return N;if(j(N))return NaN;if(l(N)){var me=typeof N.valueOf=="function"?N.valueOf():N;N=l(me)?me+"":me}if(typeof N!="string")return N===0?N:+N;N=b(N);var he=F.test(N);return he||Z.test(N)?te(N.slice(2),he?2:8):B.test(N)?NaN:+N};var J=Math.max,V=Math.min;const Q=function(N,me,he){var xe,je,Ie,Ne,Be,it,x=0,D=!1,ee=!1,ce=!0;if(typeof N!="function")throw new TypeError("Expected a function");function de(H){var G=xe,K=je;return xe=je=void 0,x=H,Ne=N.apply(K,G)}function ae(H){return x=H,Be=setTimeout(ge,me),D?de(H):Ne}function Te(H){var G=H-it;return it===void 0||G>=me||G<0||ee&&H-x>=Ie}function ge(){var H=f();if(Te(H))return ye(H);Be=setTimeout(ge,function(G){var K=me-(G-it);return ee?V(K,Ie-(G-x)):K}(H))}function ye(H){return Be=void 0,ce&&xe?de(H):(xe=je=void 0,Ne)}function oe(){var H=f(),G=Te(H);if(xe=arguments,je=this,it=H,G){if(Be===void 0)return ae(it);if(ee)return clearTimeout(Be),Be=setTimeout(ge,me),de(it)}return Be===void 0&&(Be=setTimeout(ge,me)),Ne}return me=O(me)||0,l(he)&&(D=!!he.leading,Ie=(ee="maxWait"in he)?J(O(he.maxWait)||0,me):Ie,ce="trailing"in he?!!he.trailing:ce),oe.cancel=function(){Be!==void 0&&clearTimeout(Be),x=0,xe=it=je=Be=void 0},oe.flush=function(){return Be===void 0?Ne:ye(f())},oe},be=(0,a.defineComponent)({name:"Ckeditor",model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,required:!0},config:{type:Object,default:()=>({})},modelValue:{type:String,default:""},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1},disableTwoWayDataBinding:{type:Boolean,default:!1}},emits:["ready","destroy","blur","focus","input","update:modelValue"],data:()=>({instance:null,lastEditorData:null}),watch:{modelValue(N){this.instance&&N!==this.lastEditorData&&this.instance.data.set(N)},disabled(N){N?this.instance.enableReadOnlyMode("Integration Sample"):this.instance.disableReadOnlyMode("Integration Sample")}},created(){const{CKEDITOR_VERSION:N}=window;if(N){const[me]=N.split(".").map(Number);me<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')},mounted(){const N=Object.assign({},this.config);this.modelValue&&(N.initialData=this.modelValue),this.editor.create(this.$el,N).then(me=>{this.instance=(0,a.markRaw)(me),this.setUpEditorEvents(),this.modelValue!==N.initialData&&me.data.set(this.modelValue),this.disabled&&me.enableReadOnlyMode("Integration Sample"),this.$emit("ready",me)}).catch(me=>{console.error(me)})},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},methods:{setUpEditorEvents(){const N=this.instance,me=Q(he=>{if(this.disableTwoWayDataBinding)return;const xe=this.lastEditorData=N.data.get();this.$emit("update:modelValue",xe,he,N),this.$emit("input",xe,he,N)},300,{leading:!0});N.model.document.on("change:data",me),N.editing.view.document.on("focus",he=>{this.$emit("focus",he,N)}),N.editing.view.document.on("blur",he=>{this.$emit("blur",he,N)})}},render(){return(0,a.h)(this.tagName)}});if(!a.version||!a.version.startsWith("3."))throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const R={install(N){N.component("Ckeditor",be)},component:be}})(),o=o.default})())})(_x);var PH=_x.exports;const IH=xi(PH);/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qb({emitter:n,activator:e,callback:t,contextElements:i}){n.listenTo(document,"mousedown",(s,r)=>{if(!e())return;const o=typeof r.composedPath=="function"?r.composedPath():[],a=typeof i=="function"?i():i;for(const l of a)if(l.contains(r.target)||o.includes(l))return;t()})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Cx(n){class e extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kx({view:n}){n.listenTo(n.element,"submit",(e,t)=>{t.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function OH({keystrokeHandler:n,focusTracker:e,gridItems:t,numberOfColumns:i,uiLanguageDirection:s}){const r=typeof i=="number"?()=>i:i;n.set("arrowright",o((c,u)=>s==="rtl"?l(c,u.length):a(c,u.length))),n.set("arrowleft",o((c,u)=>s==="rtl"?a(c,u.length):l(c,u.length))),n.set("arrowup",o((c,u)=>{let d=c-r();return d<0&&(d=c+r()*Math.floor(u.length/r()),d>u.length-1&&(d-=r())),d})),n.set("arrowdown",o((c,u)=>{let d=c+r();return d>u.length-1&&(d=c%r()),d}));function o(c){return u=>{const d=t.find(p=>p.element===e.focusedElement),f=t.getIndex(d),h=c(f,t);t.get(h).focus(),u.stopPropagation(),u.preventDefault()}}function a(c,u){return c===u-1?0:c+1}function l(c,u){return c===0?u-1:c-1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function RH(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const _o=RH(),ht={isMac:Sx(_o),isWindows:MH(_o),isGecko:DH(_o),isSafari:FH(_o),isiOS:NH(_o),isAndroid:LH(_o),isBlink:BH(_o),features:{isRegExpUnicodePropertySupported:$H()}};function Sx(n){return n.indexOf("macintosh")>-1}function MH(n){return n.indexOf("windows")>-1}function DH(n){return!!n.match(/gecko\/\d+/)}function FH(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function NH(n){return!!n.match(/iphone|ipad/i)||Sx(n)&&navigator.maxTouchPoints>0}function LH(n){return n.indexOf("android")>-1}function BH(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function $H(){let n=!1;try{n="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ex(n,e,t,i){t=t||function(l,c){return l===c};const s=Array.isArray(n)?n:Array.prototype.slice.call(n),r=Array.isArray(e)?e:Array.prototype.slice.call(e),o=VH(s,r,t);return i?zH(o,r.length):UH(r,o)}function VH(n,e,t){const i=E_(n,e,t);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=T_(n,i),r=T_(e,i),o=E_(s,r,t),a=n.length-o,l=e.length-o;return{firstIndex:i,lastIndexOld:a,lastIndexNew:l}}function E_(n,e,t){for(let i=0;i<Math.max(n.length,e.length);i++)if(n[i]===void 0||e[i]===void 0||!t(n[i],e[i]))return i;return-1}function T_(n,e){return n.slice(e).reverse()}function UH(n,e){const t=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:r}=e;return r-i>0&&t.push({index:i,type:"insert",values:n.slice(i,r)}),s-i>0&&t.push({index:i+(r-i),type:"delete",howMany:s-i}),t}function zH(n,e){const{firstIndex:t,lastIndexOld:i,lastIndexNew:s}=n;if(t===-1)return Array(e).fill("equal");let r=[];return t>0&&(r=r.concat(Array(t).fill("equal"))),s-t>0&&(r=r.concat(Array(s-t).fill("insert"))),i-t>0&&(r=r.concat(Array(i-t).fill("delete"))),s<e&&(r=r.concat(Array(e-s).fill("equal"))),r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ic(n,e,t){t=t||function(m,b){return m===b};const i=n.length,s=e.length;if(i>200||s>200||i+s>300)return Ic.fastDiff(n,e,t,!0);let r,o;if(s<i){const m=n;n=e,e=m,r="delete",o="insert"}else r="insert",o="delete";const a=n.length,l=e.length,c=l-a,u={},d={};function f(m){const b=(d[m-1]!==void 0?d[m-1]:-1)+1,v=d[m+1]!==void 0?d[m+1]:-1,w=b>v?-1:1;u[m+w]&&(u[m]=u[m+w].slice(0)),u[m]||(u[m]=[]),u[m].push(b>v?r:o);let C=Math.max(b,v),_=C-m;for(;_<a&&C<l&&t(n[_],e[C]);)_++,C++,u[m].push("equal");return C}let h=0,p;do{for(p=-h;p<c;p++)d[p]=f(p);for(p=c+h;p>c;p--)d[p]=f(p);d[c]=f(c),h++}while(d[c]!==l);return u[c].slice(1)}Ic.fastDiff=Ex;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function A_(){return function n(){n.called=!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class br{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=A_(),this.off=A_()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Yn=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function Ks(){const n=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0;return"e"+Yn[n>>0&255]+Yn[n>>8&255]+Yn[n>>16&255]+Yn[n>>24&255]+Yn[e>>0&255]+Yn[e>>8&255]+Yn[e>>16&255]+Yn[e>>24&255]+Yn[t>>0&255]+Yn[t>>8&255]+Yn[t>>16&255]+Yn[t>>24&255]+Yn[i>>0&255]+Yn[i>>8&255]+Yn[i>>16&255]+Yn[i>>24&255]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Yr={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HH(n,e){const t=Yr.get(e.priority);for(let i=0;i<n.length;i++)if(Yr.get(n[i].priority)<t){n.splice(i,0,e);return}n.push(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const WH="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class L extends Error{constructor(e,t,i){super(jH(e,i)),this.name="CKEditorError",this.context=t,this.data=i}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const i=new L(e.message,t);throw i.stack=e.stack,i}}function Jt(n,e){console.warn(...qH(n,e))}function Tx(n){return`
Read more: ${WH}#error-${n}`}function jH(n,e){const t=new WeakSet,s=e?` ${JSON.stringify(e,(o,a)=>{if(typeof a=="object"&&a!==null){if(t.has(a))return`[object ${a.constructor.name}]`;t.add(a)}return a})}`:"",r=Tx(n);return n+s+r}function qH(n,e){const t=Tx(n);return e?[n,e,t]:[n,t]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const KH="37.1.0";/* istanbul ignore next -- @preserve */const x_=typeof window=="object"?window:global;/* istanbul ignore next -- @preserve */if(x_.CKEDITOR_VERSION)throw new L("ckeditor-duplicated-modules",null);x_.CKEDITOR_VERSION=KH;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Va=Symbol("listeningTo"),Rg=Symbol("emitterId"),sr=Symbol("delegations"),Ax=Vt(Object);function Vt(n){if(!n)return Ax;class e extends n{on(i,s,r){this.listenTo(this,i,s,r)}once(i,s,r){let o=!1;const a=(l,...c)=>{o||(o=!0,l.off(),s.call(this,l,...c))};this.listenTo(this,i,a,r)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,r,o={}){let a,l;this[Va]||(this[Va]={});const c=this[Va];Ym(i)||xx(i);const u=Ym(i);(a=c[u])||(a=c[u]={emitter:i,callbacks:{}}),(l=a.callbacks[s])||(l=a.callbacks[s]=[]),l.push(r),JH(this,i,s,r,o)}stopListening(i,s,r){const o=this[Va];let a=i&&Ym(i);const l=o&&a?o[a]:void 0,c=l&&s?l.callbacks[s]:void 0;if(!(!o||i&&!l||s&&!c))if(r)Jm(this,i,s,r),c.indexOf(r)!==-1&&(c.length===1?delete l.callbacks[s]:Jm(this,i,s,r));else if(c){for(;r=c.pop();)Jm(this,i,s,r);delete l.callbacks[s]}else if(l){for(s in l.callbacks)this.stopListening(i,s);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[Va]}}fire(i,...s){try{const r=i instanceof br?i:new br(this,i),o=r.name;let a=Ix(this,o);if(r.path.push(this),a){const c=[r,...s];a=Array.from(a);for(let u=0;u<a.length&&(a[u].callback.apply(this,c),r.off.called&&(delete r.off.called,this._removeEventListener(o,a[u].callback)),!r.stop.called);u++);}const l=this[sr];if(l){const c=l.get(o),u=l.get("*");c&&P_(c,r,s),u&&P_(u,r,s)}return r.return}catch(r){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(r,this)}}delegate(...i){return{to:(s,r)=>{this[sr]||(this[sr]=new Map),i.forEach(o=>{const a=this[sr].get(o);a?a.set(s,r):this[sr].set(o,new Map([[s,r]]))})}}}stopDelegating(i,s){if(this[sr])if(!i)this[sr].clear();else if(!s)this[sr].delete(i);else{const r=this[sr].get(i);r&&r.delete(s)}}_addEventListener(i,s,r){YH(this,i);const o=Mg(this,i),a=Yr.get(r.priority),l={callback:s,priority:a};for(const c of o)HH(c,l)}_removeEventListener(i,s){const r=Mg(this,i);for(const o of r)for(let a=0;a<o.length;a++)o[a].callback==s&&(o.splice(a,1),a--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Vt[n]=Ax.prototype[n]});function GH(n,e){const t=n[Va];return t&&t[e]?t[e].emitter:null}function xx(n,e){n[Rg]||(n[Rg]=e||Ks())}function Ym(n){return n[Rg]}function Px(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function QH(){return{callbacks:[],childEvents:[]}}function YH(n,e){const t=Px(n);if(t[e])return;let i=e,s=null;const r=[];for(;i!==""&&!t[i];)t[i]=QH(),r.push(t[i]),s&&t[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of r)o.callbacks=t[i].callbacks.slice();t[i].childEvents.push(s)}}function Mg(n,e){const t=Px(n)[e];if(!t)return[];let i=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const r=Mg(n,t.childEvents[s]);i=i.concat(r)}return i}function Ix(n,e){let t;return!n._events||!(t=n._events[e])||!t.callbacks.length?e.indexOf(":")>-1?Ix(n,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function P_(n,e,t){for(let[i,s]of n){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const r=new br(e.source,s);r.path=[...e.path],i.fire(r,...t)}}function JH(n,e,t,i,s){e._addEventListener?e._addEventListener(t,i,s):n._addEventListener.call(e,t,i,s)}function Jm(n,e,t,i){e._removeEventListener?e._removeEventListener(t,i):n._removeEventListener.call(e,t,i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const _f=Symbol("observableProperties"),Eh=Symbol("boundObservables"),Cf=Symbol("boundProperties"),xa=Symbol("decoratedMethods"),I_=Symbol("decoratedOriginal"),Ox=Bt(Vt());function Bt(n){if(!n)return Ox;class e extends n{set(i,s){if(Xt(i)){Object.keys(i).forEach(o=>{this.set(o,i[o])},this);return}Xm(this);const r=this[_f];if(i in this&&!r.has(i))throw new L("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return r.get(i)},set(o){const a=r.get(i);let l=this.fire(`set:${i}`,i,o,a);l===void 0&&(l=o),(a!==l||!r.has(i))&&(r.set(i,l),this.fire(`change:${i}`,i,l,a))}}),this[i]=s}bind(...i){if(!i.length||!O_(i))throw new L("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new L("observable-bind-duplicate-properties",this);Xm(this);const s=this[Cf];i.forEach(o=>{if(s.has(o))throw new L("observable-bind-rebind",this)});const r=new Map;return i.forEach(o=>{const a={property:o,to:[]};s.set(o,a),r.set(o,a)}),{to:XH,toMany:ZH,_observable:this,_bindProperties:i,_to:[],_bindings:r}}unbind(...i){if(!this[_f])return;const s=this[Cf],r=this[Eh];if(i.length){if(!O_(i))throw new L("observable-unbind-wrong-properties",this);i.forEach(o=>{const a=s.get(o);a&&(a.to.forEach(([l,c])=>{const u=r.get(l),d=u[c];d.delete(a),d.size||delete u[c],Object.keys(u).length||(r.delete(l),this.stopListening(l,"change"))}),s.delete(o))})}else r.forEach((o,a)=>{this.stopListening(a,"change")}),r.clear(),s.clear()}decorate(i){Xm(this);const s=this[i];if(!s)throw new L("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(r,o)=>{r.return=s.apply(this,o)}),this[i]=function(...r){return this.fire(i,r)},this[i][I_]=s,this[xa]||(this[xa]=[]),this[xa].push(i)}stopListening(i,s,r){if(!i&&this[xa]){for(const o of this[xa])this[o]=this[o][I_];delete this[xa]}super.stopListening(i,s,r)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Bt[n]=Ox.prototype[n]});function Xm(n){n[_f]||(Object.defineProperty(n,_f,{value:new Map}),Object.defineProperty(n,Eh,{value:new Map}),Object.defineProperty(n,Cf,{value:new Map}))}function XH(...n){const e=tW(...n),t=Array.from(this._bindings.keys()),i=t.length;if(!e.callback&&e.to.length>1)throw new L("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new L("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==i)throw new L("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),sW(this._observable,this._to),iW(this),this._bindProperties.forEach(s=>{Rx(this._observable,s)})}function ZH(n,e,t){if(this._bindings.size>1)throw new L("observable-bind-to-many-not-one-binding",this);this.to(...eW(n,e),t)}function eW(n,e){const t=n.map(i=>[i,e]);return Array.prototype.concat.apply([],t)}function O_(n){return n.every(e=>typeof e=="string")}function tW(...n){if(!n.length)throw new L("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof n[n.length-1]=="function"&&(e.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")t.properties.push(i);else if(typeof i=="object")t={observable:i,properties:[]},e.to.push(t);else throw new L("observable-bind-to-parse-error",null)}),e}function nW(n,e,t,i){const s=n[Eh],r=s.get(t),o=r||{};o[i]||(o[i]=new Set),o[i].add(e),r||s.set(t,o)}function iW(n){let e;n._bindings.forEach((t,i)=>{n._to.forEach(s=>{e=s.properties[t.callback?0:n._bindProperties.indexOf(i)],t.to.push([s.observable,e]),nW(n._observable,t,s.observable,e)})})}function Rx(n,e){const i=n[Cf].get(e);let s;i.callback?s=i.callback.apply(n,i.to.map(r=>r[0][r[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(n,e)?n[e]=s:n.set(e,s)}function sW(n,e){e.forEach(t=>{const i=n[Eh];let s;i.get(t.observable)||n.listenTo(t.observable,"change",(r,o)=>{s=i.get(t.observable)[o],s&&s.forEach(a=>{Rx(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mx{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Dg(n){let e=0;for(const t of n)e++;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ci(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)if(n[i]!=e[i])return i;return n.length==e.length?"same":n.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zi(n){return!!(n&&n[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Fg(n,e,t={},i=[]){const s=t&&t.xmlns,r=s?n.createElementNS(s,e):n.createElement(e);for(const o in t)r.setAttribute(o,t[o]);(f0(i)||!zi(i))&&(i=[i]);for(let o of i)f0(o)&&(o=n.createTextNode(o)),r.appendChild(o);return r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dx{constructor(e,t){this._config={},t&&this.define(R_(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,i,s=!1){if(Di(t)){this._setObjectToTarget(e,t,s);return}const r=t.split(".");t=r.pop();for(const o of r)Di(e[o])||(e[o]={}),e=e[o];if(Di(i)){Di(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,i,s);return}s&&typeof e[t]<"u"||(e[t]=i)}_getFromSource(e,t){const i=t.split(".");t=i.pop();for(const s of i){if(!Di(e[s])){e=null;break}e=e[s]}return e?R_(e[t]):void 0}_setObjectToTarget(e,t,i){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],i)})}}function R_(n){return wb(n,rW)}function rW(n){return $l(n)?n:void 0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function so(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kf(n){const e=Object.prototype.toString.apply(n);return e=="[object Window]"||e=="[object global]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Fx=ha(Vt());function ha(n){if(!n)return Fx;class e extends n{listenTo(i,s,r,o={}){if(so(i)||kf(i)){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(i,a)||new oW(i,a);this.listenTo(l,s,r,o)}else super.listenTo(i,s,r,o)}stopListening(i,s,r){if(so(i)||kf(i)){const o=this._getAllProxyEmitters(i);for(const a of o)this.stopListening(a,s,r)}else super.stopListening(i,s,r)}_getProxyEmitter(i,s){return GH(this,Nx(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(i,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{ha[n]=Fx.prototype[n]});class oW extends Vt(){constructor(e,t){super(),xx(this,Nx(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,i){this.attach(e),Vt().prototype._addEventListener.call(this,e,t,i)}_removeEventListener(e,t){Vt().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=i=>{this.fire(e,i)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function aW(n){return n["data-ck-expando"]||(n["data-ck-expando"]=Ks())}function Nx(n,e){let t=aW(n);for(const i of Object.keys(e).sort())e[i]&&(t+="-"+i);return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ng;try{Ng={window,document}}catch{/* istanbul ignore next -- @preserve */Ng={window:{},document:{}}}const _t=Ng;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Lx(n){const e=[];let t=n;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function lW(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nn(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Th(n){return Object.prototype.toString.apply(n)=="[object Range]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Bx(n){const e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $x=["top","right","bottom","left","width","height"];class rn{constructor(e){const t=Th(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Vx(e)||t)if(t){const i=rn.getDomRangeRects(e);gd(this,rn.getBoundingRect(i))}else gd(this,e.getBoundingClientRect());else if(kf(e)){const{innerWidth:i,innerHeight:s}=e;gd(this,{top:0,right:i,bottom:s,left:0,width:i,height:s})}else gd(this,e)}clone(){return new rn(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new rn(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!M_(e)){let i=e.parentNode||e.commonAncestorContainer;for(;i&&!M_(i);){const s=new rn(i),r=t.getIntersection(s);if(r)r.getArea()<t.getArea()&&(t=r);else return null;i=i.parentNode}}return t}isEqual(e){for(const t of $x)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,i,s;if(kf(e))t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const r=Bx(e);t=e.offsetWidth-e.clientWidth-r.left-r.right,i=e.offsetHeight-e.clientHeight-r.top-r.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const t=[],i=Array.from(e.getClientRects());if(i.length)for(const s of i)t.push(new rn(s));else{let s=e.startContainer;nn(s)&&(s=s.parentNode);const r=new rn(s.getBoundingClientRect());r.right=r.left,r.width=0,t.push(r)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const s of e)i++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return i==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new rn(t))}}function gd(n,e){for(const t of $x)n[t]=e[t]}function M_(n){return Vx(n)?n===n.ownerDocument.body:!1}function Vx(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ah=class fn{constructor(e,t){fn._observerInstance||fn._createObserver(),this._element=e,this._callback=t,fn._addElementCallback(e,t),fn._observerInstance.observe(e)}destroy(){fn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){fn._elementCallbacks||(fn._elementCallbacks=new Map);let i=fn._elementCallbacks.get(e);i||(i=new Set,fn._elementCallbacks.set(e,i)),i.add(t)}static _deleteElementCallback(e,t){const i=fn._getElementCallbacks(e);i&&(i.delete(t),i.size||(fn._elementCallbacks.delete(e),fn._observerInstance.unobserve(e))),fn._elementCallbacks&&!fn._elementCallbacks.size&&(fn._observerInstance=null,fn._elementCallbacks=null)}static _getElementCallbacks(e){return fn._elementCallbacks?fn._elementCallbacks.get(e):null}static _createObserver(){fn._observerInstance=new _t.window.ResizeObserver(e=>{for(const t of e){const i=fn._getElementCallbacks(t.target);if(i)for(const s of i)s(t)}})}};Ah._observerInstance=null;Ah._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function D_(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Kb(n){return e=>e+n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vd(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ux(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ga(n){return n&&n.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ia(n){return!!(n&&n.getClientRects&&n.getClientRects().length)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cW(n){return!n||!n.parentNode||n.offsetParent===_t.document.body?null:n.offsetParent}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zx({element:n,target:e,positions:t,limiter:i,fitInViewport:s,viewportOffsetConfig:r}){Xo(e)&&(e=e()),Xo(i)&&(i=i());const o=cW(n),a=new rn(n),l=new rn(e);let c;const u=s&&uW(r)||null,d={targetRect:l,elementRect:a,positionedElementAncestor:o,viewportRect:u};if(!i&&!s)c=new Lg(t[0],d);else{const f=i&&new rn(i).getVisible();Object.assign(d,{limiterRect:f,viewportRect:u}),c=dW(t,d)||new Lg(t[0],d)}return c}function uW(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const e=new rn(_t.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e}function dW(n,e){const{elementRect:t}=e,i=t.getArea(),s=n.map(a=>new Lg(a,e)).filter(a=>!!a.name);let r=0,o=null;for(const a of s){const{limiterIntersectionArea:l,viewportIntersectionArea:c}=a;if(l===i)return a;const u=c**2+l**2;u>r&&(r=u,o=a)}return o}function fW(n,e){const t=Hx(new rn(e)),i=Bx(e);let s=0,r=0;s-=t.left,r-=t.top,s+=e.scrollLeft,r+=e.scrollTop,s-=i.left,r-=i.top,n.moveBy(s,r)}function Hx(n){const{scrollX:e,scrollY:t}=_t.window;return n.clone().moveBy(e,t)}class Lg{constructor(e,t){const i=e(t.targetRect,t.elementRect,t.viewportRect);if(!i)return;const{left:s,top:r,name:o,config:a}=i;this.name=o,this.config=a,this._positioningFunctionCorrdinates={left:s,top:r},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const t=this._options.viewportRect;if(t){const i=e.getIntersection(t);if(i)return i.getIntersectionArea(this._rect)}else return e.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=Hx(this._rect),this._options.positionedElementAncestor&&fW(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function F_(n){const e=n.parentNode;e&&e.removeChild(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hW({target:n,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:i,forceScroll:s}){const r=Gb(n);let o=r,a=null;for(;o;){let l;o==r?l=N_(n):l=N_(a),pW({parent:l,getRect:()=>L_(n,o),alignToTop:i,ancestorOffset:t,forceScroll:s});const c=L_(n,o);if(mW({window:o,rect:c,viewportOffset:e,alignToTop:i,forceScroll:s}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function mW({window:n,rect:e,alignToTop:t,forceScroll:i,viewportOffset:s}){const r=e.clone().moveBy(0,s),o=e.clone().moveBy(0,-s),a=new rn(n).excludeScrollbarsAndBorders(),l=[o,r],c=t&&i,u=l.every(m=>a.contains(m));let{scrollX:d,scrollY:f}=n;const h=d,p=f;c?f-=a.top-e.top+s:u||(jx(o,a)?f-=a.top-e.top+s:Wx(r,a)&&(t?f+=e.top-a.top-s:f+=e.bottom-a.bottom+s)),u||(qx(e,a)?d-=a.left-e.left+s:Kx(e,a)&&(d+=e.right-a.right+s)),(d!=h||f!==p)&&n.scrollTo(d,f)}function pW({parent:n,getRect:e,alignToTop:t,forceScroll:i,ancestorOffset:s=0}){const r=Gb(n),o=t&&i;let a,l,c;for(;n!=r.document.body;)l=e(),a=new rn(n).excludeScrollbarsAndBorders(),c=a.contains(l),o?n.scrollTop-=a.top-l.top+s:c||(jx(l,a)?n.scrollTop-=a.top-l.top+s:Wx(l,a)&&(t?n.scrollTop+=l.top-a.top-s:n.scrollTop+=l.bottom-a.bottom+s)),c||(qx(l,a)?n.scrollLeft-=a.left-l.left+s:Kx(l,a)&&(n.scrollLeft+=l.right-a.right+s)),n=n.parentNode}function Wx(n,e){return n.bottom>e.bottom}function jx(n,e){return n.top<e.top}function qx(n,e){return n.left<e.left}function Kx(n,e){return n.right>e.right}function Gb(n){return Th(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function N_(n){if(Th(n)){let e=n.commonAncestorContainer;return nn(e)&&(e=e.parentNode),e}else return n.parentNode}function L_(n,e){const t=Gb(n),i=new rn(n);if(t===e)return i;{let s=t;for(;s!=e;){const r=s.frameElement,o=new rn(r).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),s=s.parent}}return i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gW={ctrl:"",cmd:"",alt:"",shift:""},vW={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Et=CW(),bW=Object.fromEntries(Object.entries(Et).map(([n,e])=>[e,n.charAt(0).toUpperCase()+n.slice(1)]));function pl(n){let e;if(typeof n=="string"){if(e=Et[n.toLowerCase()],!e)throw new L("keyboard-unknown-key",null,{key:n})}else e=n.keyCode+(n.altKey?Et.alt:0)+(n.ctrlKey?Et.ctrl:0)+(n.shiftKey?Et.shift:0)+(n.metaKey?Et.cmd:0);return e}function Qb(n){return typeof n=="string"&&(n=kW(n)),n.map(e=>typeof e=="string"?wW(e):e).reduce((e,t)=>t+e,0)}function B_(n){let e=Qb(n);return Object.entries(ht.isMac?gW:vW).reduce((s,[r,o])=>(e&Et[r]&&(e&=~Et[r],s+=o),s),"")+(e?bW[e]:"")}function yW(n){return n==Et.arrowright||n==Et.arrowleft||n==Et.arrowup||n==Et.arrowdown}function Yb(n,e){const t=e==="ltr";switch(n){case Et.arrowleft:return t?"left":"right";case Et.arrowright:return t?"right":"left";case Et.arrowup:return"up";case Et.arrowdown:return"down"}}function wW(n){if(n.endsWith("!"))return pl(n.slice(0,-1));const e=pl(n);return ht.isMac&&e==Et.ctrl?Et.cmd:e}function _W(n,e){const t=Yb(n,e);return t==="down"||t==="right"}function CW(){const n={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;e<=57;e++)n[e-48]=e;for(let e=112;e<=123;e++)n["f"+(e-111)]=e;for(const e of"`-=[];',./\\")n[e]=e.charCodeAt(0);return n}function kW(n){return n.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const SW=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function $_(n){return SW.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jn(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */_t.window.CKEDITOR_TRANSLATIONS||(_t.window.CKEDITOR_TRANSLATIONS={});function EW(n,e,t=1){if(typeof t!="number")throw new L("translation-service-quantity-not-a-number",null,{quantity:t});const i=AW();i===1&&(n=Object.keys(_t.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(i===0||!TW(n,s))return t!==1?e.plural:e.string;const r=_t.window.CKEDITOR_TRANSLATIONS[n].dictionary,o=_t.window.CKEDITOR_TRANSLATIONS[n].getPluralForm||(c=>c===1?0:1),a=r[s];if(typeof a=="string")return a;const l=Number(o(t));return a[l]}function TW(n,e){return!!_t.window.CKEDITOR_TRANSLATIONS[n]&&!!_t.window.CKEDITOR_TRANSLATIONS[n].dictionary[e]}function AW(){return Object.keys(_t.window.CKEDITOR_TRANSLATIONS).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xW{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=$_(this.uiLanguage),this.contentLanguageDirection=$_(this.contentLanguage),this.t=(i,s)=>this._t(i,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=jn(t),typeof e=="string"&&(e={string:e});const s=!!e.plural?t[0]:1,r=EW(this.uiLanguage,e,s);return PW(r,t)}}function PW(n,e){return n.replace(/%(\d+)/g,(t,i)=>i<e.length?e[i]:t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ys extends Vt(){constructor(e={},t={}){super();const i=zi(e);if(i||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new L("collection-add-item-invalid-index",this);let i=0;for(const s of e){const r=this._getItemIdBeforeAdding(s),o=t+i;this._items.splice(o,0,s),this._itemMap.set(r,s),this.fire("add",s,o),i++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new L("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,i=e[t];return i&&this._itemMap.has(i)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,i]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:i}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new L("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(i=>new t(i))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(i=>i[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,i=(s,r,o)=>{const a=t._bindToCollection==this,l=t._bindToInternalToExternalMap.get(r);if(a&&l)this._bindToExternalToInternalMap.set(r,l),this._bindToInternalToExternalMap.set(l,r);else{const c=e(r);if(!c){this._skippedIndexesFromExternal.push(o);return}let u=o;for(const d of this._skippedIndexesFromExternal)o>d&&u--;for(const d of t._skippedIndexesFromExternal)u>=d&&u++;this._bindToExternalToInternalMap.set(r,c),this._bindToInternalToExternalMap.set(c,r),this.add(c,u);for(let d=0;d<t._skippedIndexesFromExternal.length;d++)u<=t._skippedIndexesFromExternal[d]&&t._skippedIndexesFromExternal[d]++}};for(const s of t)i(null,s,t.getIndex(s));this.listenTo(t,"add",i),this.listenTo(t,"remove",(s,r,o)=>{const a=this._bindToExternalToInternalMap.get(r);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,c)=>(o<c&&l.push(c-1),o>c&&l.push(c),l),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let i;if(t in e){if(i=e[t],typeof i!="string")throw new L("collection-add-invalid-id",this);if(this.get(i))throw new L("collection-add-item-already-exists",this)}else e[t]=i=Ks();return i}_remove(e){let t,i,s,r=!1;const o=this._idProperty;if(typeof e=="string"?(i=e,s=this._itemMap.get(i),r=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],r=!s,s&&(i=s[o])):(s=e,i=s[o],t=this._items.indexOf(s),r=t==-1||!this._itemMap.get(i)),r)throw new L("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(i);const a=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(a),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Sn(n){const e=n.next();return e.done?null:e.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ws extends ha(Bt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new L("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tr{constructor(){this._listener=new(ha())}listenTo(e){this._listener.listenTo(e,"keydown",(t,i)=>{this._listener.fire("_keydown:"+pl(i),i)})}set(e,t,i={}){const s=Qb(e),r=i.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(o,a)=>{t(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0},{priority:r})}press(e){return!!this._listener.fire("_keydown:"+pl(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function IW(n){const e=new Map;for(const t in n)e.set(t,n[t]);return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yr(n){return zi(n)?new Map(n):IW(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const OW=1e4;function RW(n,e,t,i){if(Math.max(e.length,n.length)>OW)return n.slice(0,t).concat(e).concat(n.slice(t+i,n.length));{const s=Array.from(n);return s.splice(t,i,...e),s}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function MW(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function DW(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function FW(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function Jb(n,e){return DW(n.charAt(e-1))&&FW(n.charAt(e))}function Xb(n,e){return MW(n.charAt(e))}const NW=LW();function Gx(n,e){const t=String(n).matchAll(NW);return Array.from(t).some(i=>i.index<e&&e<i.index+i[0].length)}function LW(){const n=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+n.map(s=>s.source).join("|")+")",i=`${e}|${t}(?:${t})*`;return new RegExp(i,"ug")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ma extends ys{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,i,s)=>{this._renderViewIntoCollectionParent(i,s)}),this.on("remove",(t,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!BW(e))throw new L("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const i of this)for(const s of e)i.delegate(s).to(t);this.on("add",(i,s)=>{for(const r of e)s.delegate(r).to(t)}),this.on("remove",(i,s)=>{for(const r of e)s.stopDelegating(r,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function BW(n){return n.every(e=>typeof e=="string")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ct=class extends ha(Bt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ys,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=zs.bind(this,this)}createCollection(e){const t=new ma(e);return this._viewCollections.add(t),t}registerChild(e){zi(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){zi(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new zs(e)}extendTemplate(e){zs.extend(this.template,e)}render(){if(this.isRendered)throw new L("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $W="http://www.w3.org/1999/xhtml";class zs extends Vt(){constructor(e){super(),Object.assign(this,U_(V_(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=W_(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new L("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const i of t.children)Sf(i)?yield i:Zb(i)&&(yield*e(i))}yield*e(this)}static bind(e,t){return{to(i,s){return new VW({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:s})},if(i,s,r){return new Qx({observable:e,emitter:t,attribute:i,valueIfTrue:s,callback:r})}}}static extend(e,t){if(e._isRendered)throw new L("template-extend-render",[this,e]);Zx(e,U_(V_(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new L("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||$W,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),zd(this.text)?this._bindToObservable({schema:this.text,updater:zW(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,i=e.revertData;for(const s in this.attributes){const r=t.getAttribute(s),o=this.attributes[s];i&&(i.attributes[s]=r);const a=H_(o)?o[0].ns:null;if(zd(o)){const l=H_(o)?o[0].value:o;i&&j_(s)&&l.unshift(r),this._bindToObservable({schema:l,updater:HW(t,s,a),data:e})}else if(s=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{i&&r&&j_(s)&&o.unshift(r);const l=o.map(c=>c&&(c.value||c)).reduce((c,u)=>c.concat(u),[]).reduce(Xx,"");gl(l)||t.setAttributeNS(a,s,l)}}}_renderStyleAttribute(e,t){const i=t.node;for(const s in e){const r=e[s];zd(r)?this._bindToObservable({schema:[r],updater:WW(i,s),data:t}):i.style[s]=r}}_renderElementChildren(e){const t=e.node,i=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let r=0;for(const o of this.children)if(ey(o)){if(!s){o.setParent(t);for(const a of o)i.appendChild(a.element)}}else if(Sf(o))s||(o.isRendered||o.render(),i.appendChild(o.element));else if(so(o))i.appendChild(o);else if(s){const a=e.revertData,l=W_();a.children.push(l),o._renderNode({intoFragment:!1,node:i.childNodes[r++],isApplying:!0,revertData:l})}else i.appendChild(o.render());e.intoFragment&&t.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const i=this.eventListeners[t].map(s=>{const[r,o]=t.split("@");return s.activateDomEventListener(r,o,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:t,data:i}){const s=i.revertData;Yx(e,t,i);const r=e.filter(o=>!gl(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,i));s&&s.bindings.push(r)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const r of s)r();if(t.text){e.textContent=t.text;return}const i=e;for(const s in t.attributes){const r=t.attributes[s];r===null?i.removeAttribute(s):i.setAttribute(s,r)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(i.childNodes[s],t.children[s])}}class Pu{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){const s=()=>Yx(e,t,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class VW extends Pu{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,i){const s=(r,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(i.node,e,s),()=>{this.emitter.stopListening(i.node,e,s)}}}class Qx extends Pu{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return gl(t)?!1:this.valueIfTrue||!0}}function zd(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(zd):n instanceof Pu):!1}function UW(n,e){return n.map(t=>t instanceof Pu?t.getValue(e):t)}function Yx(n,e,{node:t}){const i=UW(n,t);let s;n.length==1&&n[0]instanceof Qx?s=i[0]:s=i.reduce(Xx,""),gl(s)?e.remove():e.set(s)}function zW(n){return{set(e){n.textContent=e},remove(){n.textContent=""}}}function HW(n,e,t){return{set(i){n.setAttributeNS(t,e,i)},remove(){n.removeAttributeNS(t,e)}}}function WW(n,e){return{set(t){n.style[e]=t},remove(){n.style[e]=null}}}function V_(n){return wb(n,t=>{if(t&&(t instanceof Pu||Zb(t)||Sf(t)||ey(t)))return t})}function U_(n){if(typeof n=="string"?n=KW(n):n.text&&GW(n),n.on&&(n.eventListeners=qW(n.on),delete n.on),!n.text){n.attributes&&jW(n.attributes);const e=[];if(n.children)if(ey(n.children))e.push(n.children);else for(const t of n.children)Zb(t)||Sf(t)||so(t)?e.push(t):e.push(new zs(t));n.children=e}return n}function jW(n){for(const e in n)n[e].value&&(n[e].value=jn(n[e].value)),Jx(n,e)}function qW(n){for(const e in n)Jx(n,e);return n}function KW(n){return{text:[n]}}function GW(n){n.text=jn(n.text)}function Jx(n,e){n[e]=jn(n[e])}function Xx(n,e){return gl(e)?n:gl(n)?e:`${n} ${e}`}function z_(n,e){for(const t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function Zx(n,e){if(e.attributes&&(n.attributes||(n.attributes={}),z_(n.attributes,e.attributes)),e.eventListeners&&(n.eventListeners||(n.eventListeners={}),z_(n.eventListeners,e.eventListeners)),e.text&&n.text.push(...e.text),e.children&&e.children.length){if(n.children.length!=e.children.length)throw new L("ui-template-extend-children-mismatch",n);let t=0;for(const i of e.children)Zx(n.children[t++],i)}}function gl(n){return!n&&n!==0}function Sf(n){return n instanceof Ct}function Zb(n){return n instanceof zs}function ey(n){return n instanceof ma}function H_(n){return Xt(n[0])&&n[0].ns}function W_(){return{children:[],bindings:[],attributes:{}}}function j_(n){return n=="class"||n=="style"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QW extends ma{constructor(e,t=[]){super(t),this.locale=e}attachToDom(){this._bodyCollectionContainer=new zs({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Fg(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hl extends Ct{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=t.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:s,value:r}of Array.from(t.attributes))Hl.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}Hl.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zt extends Ct{constructor(e){super(e);const t=this.bindTemplate,i=Ks();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(i),this.iconView=new Hl,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",r=>!r),t.if("isVisible","ck-hidden",r=>!r),t.to("isOn",r=>r?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",r=>r||"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${i}`,"aria-disabled":t.if("isEnabled",!0,r=>!r),"aria-pressed":t.to("isOn",r=>this.isToggleable?String(!!r):!1),"data-cke-tooltip-text":t.to("_tooltipString"),"data-cke-tooltip-position":t.to("tooltipPosition")},children:this.children,on:{click:t.to(r=>{this.isEnabled?this.fire("execute"):r.preventDefault()})}};ht.isSafari&&(s.on.mousedown=t.to(r=>{this.focus(),r.preventDefault()})),this.setTemplate(s)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(e){const t=new Ct,i=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:i.to("label")}]}),t}_createKeystrokeView(){const e=new Ct;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>B_(t))}]}),e}_getTooltipString(e,t,i){return e?typeof e=="string"?e:(i&&(i=B_(i)),e instanceof Function?e(t,i):`${t}${i?` (${i})`:""}`):""}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xh extends Zt{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Ct;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YW{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Zm(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new L("componentfactory-item-missing",this,{name:e});return this._components.get(Zm(e)).callback(this.editor.locale)}has(e){return this._components.has(Zm(e))}}function Zm(n){return String(n).toLowerCase()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vl extends Ct{constructor(e,t,i){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Tr,this.focusTracker=new ws,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",r=>!r)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,i,s)=>{s&&(this.panelPosition==="auto"?this.panelView.position=vl._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(t,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(t,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(t,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:i,southWest:s,northEast:r,northWest:o,southMiddleEast:a,southMiddleWest:l,northMiddleEast:c,northMiddleWest:u}=vl.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,s,a,l,e,r,o,c,u,t]:[s,i,l,a,e,o,r,u,c,t]}}vl.defaultPanelPositions={south:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)/2,name:"s"}),southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),southMiddleEast:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)/4,name:"sme"}),southMiddleWest:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)*3/4,name:"smw"}),north:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)/2,name:"n"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),northMiddleEast:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)/4,name:"nme"}),northMiddleWest:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)*3/4,name:"nmw"})};vl._getOptimalPosition=zx;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class JW extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",i=>`ck-dropdown__panel_${i}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(i=>i.preventDefault())}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Jt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const eP='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XW extends Zt{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Hl;return e.content=eP,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ty extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Tr,this.focusTracker=new ws,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",i=>!i),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new Zt;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new Zt,t=e.bindTemplate;return e.icon=eP,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Iu{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let i=e.actions[t];typeof i=="string"&&(i=[i]);for(const s of i)e.keystrokeHandler.set(s,(r,o)=>{this[t](),o()})}}get first(){return this.focusables.find(ep)||null}get last(){return this.focusables.filter(ep).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,i)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=i),s}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,i=this.focusables.length;if(!i)return null;if(t===null)return this[e===1?"first":"last"];let s=(t+i+e)%i;do{const r=this.focusables.get(s);if(ep(r))return r;s=(s+i+e)%i}while(s!==t);return null}}function ep(n){return!!(n.focus&&ia(n.element))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tP extends Ct{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ZW extends Ct{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ej(n){return n.bindTemplate.to(e=>{e.target===n.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nP(n){return Array.isArray(n)?{items:n,removeItems:[]}:n?Object.assign({items:[],removeItems:[]},n):{items:[],removeItems:[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class De extends Bt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",q_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",q_),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function q_(n){n.return=!1,n.stop()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kt extends Bt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(t,i,s)=>{s&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",K_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",K_),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function K_(n){n.return=!1,n.stop()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iP extends Vt(){constructor(e,t=[],i=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,r]of i)this._contextPlugins.set(s,r),this._contextPlugins.set(r,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new L("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return t}has(e){return this._plugins.has(e)}init(e,t=[],i=[]){const s=this,r=this._context;h(e),m(e);const o=e.filter(k=>!d(k,t)),a=[...p(o)];T(a,i);const l=C(a);return _(l,"init").then(()=>_(l,"afterInit")).then(()=>l);function c(k){return typeof k=="function"}function u(k){return c(k)&&!!k.isContextPlugin}function d(k,E){return E.some(S=>S===k||f(k)===S||f(S)===k)}function f(k){return c(k)?k.pluginName||k.name:k}function h(k,E=new Set){k.forEach(S=>{c(S)&&(E.has(S)||(E.add(S),S.pluginName&&!s._availablePlugins.has(S.pluginName)&&s._availablePlugins.set(S.pluginName,S),S.requires&&h(S.requires,E)))})}function p(k,E=new Set){return k.map(S=>c(S)?S:s._availablePlugins.get(S)).reduce((S,P)=>E.has(P)?S:(E.add(P),P.requires&&(m(P.requires,P),p(P.requires,E).forEach(I=>S.add(I))),S.add(P)),new Set)}function m(k,E=null){k.map(S=>c(S)?S:s._availablePlugins.get(S)||S).forEach(S=>{b(S,E),v(S,E),w(S,E)})}function b(k,E){if(!c(k))throw E?new L("plugincollection-soft-required",r,{missingPlugin:k,requiredBy:f(E)}):new L("plugincollection-plugin-not-found",r,{plugin:k})}function v(k,E){if(u(E)&&!u(k))throw new L("plugincollection-context-required",r,{plugin:f(k),requiredBy:f(E)})}function w(k,E){if(E&&d(k,t))throw new L("plugincollection-required",r,{plugin:f(k),requiredBy:f(E)})}function C(k){return k.map(E=>{let S=s._contextPlugins.get(E);return S=S||new E(r),s._add(E,S),S})}function _(k,E){return k.reduce((S,P)=>!P[E]||s._contextPlugins.has(P)?S:S.then(P[E].bind(P)),Promise.resolve())}function T(k,E){for(const S of E){if(typeof S!="function")throw new L("plugincollection-replace-plugin-invalid-type",null,{pluginItem:S});const P=S.pluginName;if(!P)throw new L("plugincollection-replace-plugin-missing-name",null,{pluginItem:S});if(S.requires&&S.requires.length)throw new L("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:P});const I=s._availablePlugins.get(P);if(!I)throw new L("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:P});const W=k.indexOf(I);if(W===-1){if(s._contextPlugins.has(I))return;throw new L("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:P})}if(I.requires&&I.requires.length)throw new L("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:P});k.splice(W,1,S),s._availablePlugins.set(P,S)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new L("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,t)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sP{constructor(e){this._contextOwner=null,this.config=new Dx(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new iP(this,t);const i=this.config.get("language")||{};this.locale=new xW({uiLanguage:typeof i=="string"?i:i.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new ys}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const i of e.concat(t)){if(typeof i!="function")throw new L("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new L("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new L("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const i=new this(e);t(i.initPlugins().then(()=>i))})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rP extends Bt(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Hd=new WeakMap;function oP({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:s=!1}){const r=n.document;Hd.has(r)||(Hd.set(r,new Map),r.registerPostFixer(o=>tp(r,o)),r.on("change:isComposing",()=>{n.change(o=>tp(r,o))},{priority:"high"})),Hd.get(r).set(e,{text:t,isDirectHost:i,keepOnFocus:s,hostElement:i?e:null}),n.change(o=>tp(r,o))}function tj(n,e){return e.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",e),!0)}function nj(n,e){return e.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",e),!0):!1}function ij(n,e){if(!n.isAttached()||Array.from(n.getChildren()).some(o=>!o.is("uiElement")))return!1;const i=n.document,r=i.selection.anchor;return i.isComposing&&r&&r.parent===n?!1:e||!i.isFocused?!0:!!r&&r.parent!==n}function tp(n,e){const t=Hd.get(n),i=[];let s=!1;for(const[r,o]of t)o.isDirectHost&&(i.push(r),G_(e,r,o)&&(s=!0));for(const[r,o]of t){if(o.isDirectHost)continue;const a=sj(r);a&&(i.includes(a)||(o.hostElement=a,G_(e,r,o)&&(s=!0)))}return s}function G_(n,e,t){const{text:i,isDirectHost:s,hostElement:r}=t;let o=!1;return r.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,r),o=!0),(s||e.childCount==1)&&ij(r,t.keepOnFocus)?tj(n,r)&&(o=!0):nj(n,r)&&(o=!0),o}function sj(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let pa=class{is(){throw new Error("is() method is abstract")}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ga=class extends Vt(pa){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new L("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),s=ci(t,i);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<i[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=IT(this);return delete e.parent,e}};ga.prototype.is=function(n){return n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Yt=class Bg extends ga{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Bg?this===e||this.data===e.data:!1}_clone(){return new Bg(this.document,this.data)}};Yt.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Is=class extends pa{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new L("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new L("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}};Is.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ph{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const s=Q_(t,i);if(s)return{element:t,pattern:i,match:s}}return null}matchAll(...e){const t=[];for(const i of e)for(const s of this._patterns){const r=Q_(i,s);r&&t.push({element:i,pattern:s,match:r})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function Q_(n,e){if(typeof e=="function")return e(n);const t={};return e.name&&(t.name=rj(e.name,n.name),!t.name)||e.attributes&&(t.attributes=cj(e.attributes,n),!t.attributes)||e.classes&&(t.classes=uj(e.classes,n),!t.classes)||e.styles&&(t.styles=dj(e.styles,n),!t.styles)?null:t}function rj(n,e){return n instanceof RegExp?!!e.match(n):n===e}function ny(n,e,t){const i=oj(n),s=Array.from(e),r=[];if(i.forEach(([o,a])=>{s.forEach(l=>{aj(o,l)&&lj(a,l,t)&&r.push(l)})}),!(!i.length||r.length<i.length))return r}function oj(n){return Array.isArray(n)?n.map(e=>Di(e)?((e.key===void 0||e.value===void 0)&&Jt("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):Di(n)?Object.entries(n):[[n,!0]]}function aj(n,e){return n===!0||n===e||n instanceof RegExp&&e.match(n)}function lj(n,e,t){if(n===!0)return!0;const i=t(e);return n===i||n instanceof RegExp&&!!String(i).match(n)}function cj(n,e){const t=new Set(e.getAttributeKeys());return Di(n)?(n.style!==void 0&&Jt("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&Jt("matcher-pattern-deprecated-attributes-class-key",n)):(t.delete("style"),t.delete("class")),ny(n,t,i=>e.getAttribute(i))}function uj(n,e){return ny(n,e.getClassNames(),()=>{})}function dj(n,e){return ny(n,e.getStyleNames(!0),t=>e.getStyle(t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fj{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(mj(e).entries());for(const[i,s]of t)this._styleProcessor.toNormalizedForm(i,s,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)}set(e,t){if(Xt(e))for(const[i,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=$g(e);dB(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Xt(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(i))return i[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([i])=>i)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const s=t.splice(0,t.length-1).join("."),r=Xn(this._styles,s);if(!r)return;!Array.from(Object.keys(r)).length&&this.remove(s)}}class hj{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if(Xt(t)){np(i,$g(e),t);return}if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:r,value:o}=s(t);np(i,r,o)}else np(i,e,t)}getNormalized(e,t){if(!e)return MT({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return Xn(t,i);const s=i(e,t);if(s)return s}return Xn(t,$g(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const r=this.getNormalized(s,e);return r&&typeof r=="object"?Object.keys(r).length:r}),i=new Set([...t,...Object.keys(e)]);return Array.from(i.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function mj(n){let e=null,t=0,i=0,s=null;const r=new Map;if(n==="")return r;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(e===null)switch(a){case":":s||(s=n.substr(t,o-t),i=o+1);break;case'"':case"'":e=a;break;case";":{const l=n.substr(i,o-i);s&&r.set(s.trim(),l.trim()),s=null,t=o+1;break}}else a===e&&(e=null)}return r}function $g(n){return n.replace("-",".")}function np(n,e,t){let i=t;Xt(t)&&(i=MT({},Xn(n,e),t)),cB(n,e,i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ps=class aP extends ga{constructor(e,t,i,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=pj(i),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const r=this._attrs.get("class");Y_(this._classes,r),this._attrs.delete("class")}this._styles=new fj(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof aP))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Ph(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const s=gj(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,r.document=this.document,this._children.splice(e,0,r),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?Y_(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of jn(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of jn(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of jn(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};ps.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function pj(n){const e=yr(n);for(const[t,i]of e)i===null?e.delete(t):typeof i!="string"&&e.set(t,String(i));return e}function Y_(n,e){const t=e.split(/\s+/);n.clear(),t.forEach(i=>n.add(i))}function gj(n,e){return typeof e=="string"?[new Yt(n,e)]:(zi(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Yt(n,t):t instanceof Is?new Yt(n,t.data):t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cu extends ps{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=lP}}cu.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function lP(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ih extends Bt(cu){constructor(e,t,i,s){super(e,t,i,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",r=>r&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Ih.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const J_=Symbol("rootName");class cP extends Ih{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(J_)}set rootName(e){this._setCustomProperty(J_,e)}set _name(e){this.name=e}}cP.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Mo=class{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new L("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new L("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Le._createAt(e.startPosition):this._position=Le._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(i instanceof Yt){if(e.isAtEnd)return this._position=Le._createAfter(i),this._next();s=i.data[e.offset]}else s=i.getChild(e.offset);if(s instanceof ps)return this.shallow?e.offset++:e=new Le(s,0),this._position=e,this._formatReturnValue("elementStart",s,t,e,1);if(s instanceof Yt){if(this.singleCharacters)return e=new Le(s,0),this._position=e,this._next();{let r=s.data.length,o;return s==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new Is(s,0,r),e=Le._createAfter(o)):(o=new Is(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,r)}}else if(typeof s=="string"){let r;this.singleCharacters?r=1:r=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const o=new Is(i,e.offset,r);return e.offset+=r,this._position=e,this._formatReturnValue("text",o,t,e,r)}else return e=Le._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(i instanceof Yt){if(e.isAtStart)return this._position=Le._createBefore(i),this._previous();s=i.data[e.offset-1]}else s=i.getChild(e.offset-1);if(s instanceof ps)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new Le(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof Yt){if(this.singleCharacters)return e=new Le(s,s.data.length),this._position=e,this._previous();{let r=s.data.length,o;if(s==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new Is(s,a,s.data.length-a),r=o.data.length,e=Le._createBefore(o)}else o=new Is(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,r)}}else if(typeof s=="string"){let r;if(this.singleCharacters)r=1;else{const a=i===this._boundaryStartParent?this.boundaries.start.offset:0;r=e.offset-a}e.offset-=r;const o=new Is(i,e.offset,r);return this._position=e,this._formatReturnValue("text",o,t,e,r)}else return e=Le._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,s,r){return t instanceof Is&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=Le._createAfter(t.textNode),this._position=s):i=Le._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=Le._createBefore(t.textNode),this._position=s):i=Le._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:s,length:r}}}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Le=class or extends pa{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Ih);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=or._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Mo(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]==i[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const s=ci(t,i);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<i[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Mo(e)}clone(){return new or(this.parent,this.offset)}static _createAt(e,t){if(e instanceof or)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new L("view-createpositionat-offset-required",i)}return new or(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new or(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new L("view-position-after-root",e,{root:e});return new or(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new or(e.textNode,e.offsetInText);if(!e.parent)throw new L("view-position-before-root",e,{root:e});return new or(e.parent,e.index)}};Le.prototype.is=function(n){return n==="position"||n==="view:position"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ct=class Br extends pa{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Mo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(bd,{direction:"backward"}),t=this.end.getLastMatchingPosition(bd);return e.parent.is("$text")&&e.isAtStart&&(e=Le._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Le._createAfter(t.parent)),new Br(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(bd);if(e.isAfter(this.end)||e.isEqual(this.end))return new Br(e,e);let t=this.end.getLastMatchingPosition(bd,{direction:"backward"});const i=e.nodeAfter,s=t.nodeBefore;return i&&i.is("$text")&&(e=new Le(i,0)),s&&s.is("$text")&&(t=new Le(s,s.data.length)),new Br(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Br(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Br(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Br(t,i)}return null}getWalker(e={}){return e.boundaries=this,new Mo(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Br(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Mo(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Mo(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,s){return new this(new Le(e,t),new Le(i,s))}static _createFromPositionAndShift(e,t){const i=e,s=e.getShiftedBy(t);return t>0?new this(i,s):new this(s,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Le._createBefore(e),t)}};ct.prototype.is=function(n){return n==="range"||n==="view:range"};function bd(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ro=class uP extends Vt(pa){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const s of e._ranges)if(t.isEqual(s)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Dg(this.getRanges()),i=Dg(e.getRanges());if(t!=i)return!1;if(t==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let r=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),s.start.isEqual(o.start)&&s.end.isEqual(o.end)){r=!0;break}if(!r)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,s]=e;if(typeof i=="object"&&(s=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof uP||t instanceof iy)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ct)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof Le)this._setRanges([new ct(t)]),this._setFakeOptions(s);else if(t instanceof ga){const r=!!s&&!!s.backward;let o;if(i===void 0)throw new L("view-selection-setto-required-second-parameter",this);i=="in"?o=ct._createIn(t):i=="on"?o=ct._createOn(t):o=new ct(Le._createAt(t,i)),this._setRanges([o],r),this._setFakeOptions(s)}else if(zi(t))this._setRanges(t,s&&s.backward),this._setFakeOptions(s);else throw new L("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new L("view-selection-setfocus-no-ranges",this);const i=Le._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),i.compareWith(s)=="before"?this._addRange(new ct(i,s),!0):this._addRange(new ct(s,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ct))throw new L("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new L("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ct(e.start,e.end))}};ro.prototype.is=function(n){return n==="selection"||n==="view:selection"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let iy=class extends Vt(pa){constructor(...e){super(),this._selection=new ro,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};iy.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wl extends br{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ip=Symbol("bubbling contexts");function Vg(n){class e extends n{fire(i,...s){try{const r=i instanceof br?i:new br(this,i),o=sp(this);if(!o.size)return;if(oc(r,"capturing",this),Pa(o,"$capture",r,...s))return r.return;const a=r.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,c=l?!!dP(o,l):!1;let u=l||vj(a);if(oc(r,"atTarget",u),!c){if(Pa(o,"$text",r,...s))return r.return;oc(r,"bubbling",u)}for(;u;){if(u.is("rootElement")){if(Pa(o,"$root",r,...s))return r.return}else if(u.is("element")&&Pa(o,u.name,r,...s))return r.return;if(Pa(o,u,r,...s))return r.return;u=u.parent,oc(r,"bubbling",u)}return oc(r,"bubbling",this),Pa(o,"$document",r,...s),r.return}catch(r){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(r,this)}}_addEventListener(i,s,r){const o=jn(r.context||"$document"),a=sp(this);for(const l of o){let c=a.get(l);c||(c=new(Vt()),a.set(l,c)),this.listenTo(c,i,s,r)}}_removeEventListener(i,s){const r=sp(this);for(const o of r.values())this.stopListening(o,i,s)}}return e}{const n=Vg(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Vg[e]=n.prototype[e]})}function oc(n,e,t){n instanceof Wl&&(n._eventPhase=e,n._currentTarget=t)}function Pa(n,e,t,...i){const s=typeof e=="string"?n.get(e):dP(n,e);return s?(s.fire(t,...i),t.stop.called):!1}function dP(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function sp(n){return n[ip]||(n[ip]=new Map),n[ip]}function vj(n){if(!n)return null;const e=n.start.parent,t=n.end.parent,i=e.getPath(),s=t.getPath();return i.length>s.length?e:t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let fP=class extends Vg(Bt()){constructor(e){super(),this._postFixers=new Set,this.selection=new iy,this.roots=new ys({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hP=10;class Uo extends ps{constructor(e,t,i,s){super(e,t,i,s),this._priority=hP,this._id=null,this._clonesGroup=null,this.getFillerOffset=bj}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new L("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}Uo.DEFAULT_PRIORITY=hP;Uo.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function bj(){if(rp(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(rp(n)>1)return null;n=n.parent}return!n||rp(n)>1?null:this.childCount}function rp(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sy extends ps{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=yj}_insertChild(e,t){if(t&&(t instanceof ga||Array.from(t).length>0))throw new L("view-emptyelement-cannot-add",[this,t]);return 0}}sy.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function yj(){return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oh extends ps{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=_j}_insertChild(e,t){if(t&&(t instanceof ga||Array.from(t).length>0))throw new L("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}Oh.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function wj(n){n.document.on("arrowKey",(e,t)=>Cj(e,t,n.domConverter),{priority:"low"})}function _j(){return null}function Cj(n,e,t){if(e.keyCode==Et.arrowright){const i=e.domTarget.ownerDocument.defaultView.getSelection(),s=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(s||e.shiftKey){const r=i.focusNode,o=i.focusOffset,a=t.domPositionToView(r,o);if(a===null)return;let l=!1;const c=a.getLastMatchingPosition(u=>(u.item.is("uiElement")&&(l=!0),!!(u.item.is("uiElement")||u.item.is("attributeElement"))));if(l){const u=t.viewPositionToDom(c);s?i.collapse(u.parent,u.offset):i.extend(u.parent,u.offset)}}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ry extends ps{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=kj}_insertChild(e,t){if(t&&(t instanceof ga||Array.from(t).length>0))throw new L("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}ry.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function kj(){return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let zo=class extends Vt(pa){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const s=Sj(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,this._children.splice(e,0,r),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};zo.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function Sj(n,e){return typeof e=="string"?[new Yt(n,e)]:(zi(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Yt(n,t):t instanceof Is?new Yt(n,t.data):t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mP{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new zo(this.document,e)}createText(e){return new Yt(this.document,e)}createAttributeElement(e,t,i={}){const s=new Uo(this.document,e,t);return typeof i.priority=="number"&&(s._priority=i.priority),i.id&&(s._id=i.id),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createContainerElement(e,t,i={},s={}){let r=null;Di(i)?s=i:r=i;const o=new cu(this.document,e,t,r);return s.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),o}createEditableElement(e,t,i={}){const s=new Ih(this.document,e,t);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createEmptyElement(e,t,i={}){const s=new sy(this.document,e,t);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createUIElement(e,t,i){const s=new Oh(this.document,e,t);return i&&(s.render=i),s}createRawElement(e,t,i,s={}){const r=new ry(this.document,e,t);return i&&(r.render=i),s.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),r}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){Di(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Le?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new L("view-writer-break-non-container-element",this.document);if(!t.parent)throw new L("view-writer-break-root",this.document);if(e.isAtStart)return Le._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(Le._createAfter(t),i);const s=new ct(e,Le._createAt(t,"end")),r=new Le(i,0);this.move(s,r)}return Le._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const o=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Le(o,a))}const s=i.getChild(t-1),r=i.getChild(t);if(!s||!r)return e;if(s.is("$text")&&r.is("$text"))return Z_(s,r);if(s.is("attributeElement")&&r.is("attributeElement")&&s.isSimilar(r)){const o=s.childCount;return s._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Le(s,o))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!t||!i||!t.is("containerElement")||!i.is("containerElement"))throw new L("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),r=s instanceof Yt?Le._createAt(s,"end"):Le._createAt(t,"end");return this.move(ct._createIn(i),Le._createAt(t,"end")),this.remove(ct._createOn(i)),r}insert(e,t){t=zi(t)?[...t]:[t],pP(t,this.document);const i=t.reduce((o,a)=>{const l=o[o.length-1],c=!a.is("uiElement");return!l||l.breakAttributes!=c?o.push({breakAttributes:c,nodes:[a]}):l.nodes.push(a),o},[]);let s=null,r=e;for(const{nodes:o,breakAttributes:a}of i){const l=this._insertNodes(r,o,a);s||(s=l.start),r=l.end}return s?new ct(s,r):new ct(e)}remove(e){const t=e instanceof ct?e:ct._createOn(e);if(ac(t,this.document),t.isCollapsed)return new zo(this.document);const{start:i,end:s}=this._breakAttributesRange(t,!0),r=i.parent,o=s.offset-i.offset,a=r._removeChildren(i.offset,o);for(const c of a)this._removeFromClonedElementsGroup(c);const l=this.mergeAttributes(i);return t.start=l,t.end=l.clone(),new zo(this.document,a)}clear(e,t){ac(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of i){const r=s.item;let o;if(r.is("element")&&t.isSimilar(r))o=ct._createOn(r);else if(!s.nextPosition.isAfter(e.start)&&r.is("$textProxy")){const a=r.getAncestors().find(l=>l.is("element")&&t.isSimilar(l));a&&(o=ct._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let i;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const s=t.parent,r=s.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=s.childCount-r}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof Uo))throw new L("view-writer-wrap-invalid-attribute",this.document);if(ac(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&!Ej(i.parent)&&(i=i.getLastMatchingPosition(r=>r.item.is("uiElement"))),i=this._wrapPosition(i,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new ct(i)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Uo))throw new L("view-writer-unwrap-invalid-attribute",this.document);if(ac(e,this.document),e.isCollapsed)return e;const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=this._unwrapChildren(r,i.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ct(a,l)}rename(e,t){const i=new cu(this.document,e,t.getAttributes());return this.insert(Le._createAfter(t),i),this.move(ct._createIn(t),Le._createAt(i,0)),this.remove(ct._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Le._createAt(e,t)}createPositionAfter(e){return Le._createAfter(e)}createPositionBefore(e){return Le._createBefore(e)}createRange(e,t){return new ct(e,t)}createRangeOn(e){return ct._createOn(e)}createRangeIn(e){return ct._createIn(e)}createSelection(...e){return new ro(...e)}createSlot(e="children"){if(!this._slotFactory)throw new L("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let s;if(i?s=Ug(e):s=e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new L("view-writer-invalid-position-container",this.document);let r;i?r=this._breakAttributes(e,!0):r=e.parent.is("$text")?op(e):e;const o=s._insertChild(r.offset,t);for(const u of t)this._addToClonedElementsGroup(u);const a=r.getShiftedBy(o),l=this.mergeAttributes(r);l.isEqual(r)||a.offset--;const c=this.mergeAttributes(a);return new ct(l,c)}_wrapChildren(e,t,i,s){let r=t;const o=[];for(;r<i;){const l=e.getChild(r),c=l.is("$text"),u=l.is("attributeElement");if(u&&this._wrapAttributeElement(s,l))o.push(new Le(e,r));else if(c||!u||Tj(s,l)){const d=s._clone();l._remove(),d._appendChild(l),e._insertChild(r,d),this._addToClonedElementsGroup(d),o.push(new Le(e,r))}else this._wrapChildren(l,0,l.childCount,s);r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return ct._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,s){let r=t;const o=[];for(;r<i;){const l=e.getChild(r);if(!l.is("attributeElement")){r++;continue}if(l.isSimilar(s)){const c=l.getChildren(),u=l.childCount;l._remove(),e._insertChild(r,c),this._removeFromClonedElementsGroup(l),o.push(new Le(e,r),new Le(e,r+u)),r+=u,i+=u-1;continue}if(this._unwrapAttributeElement(s,l)){o.push(new Le(e,r),new Le(e,r+1)),r++;continue}this._unwrapChildren(l,0,l.childCount,s),r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t||l.offset==i)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return ct._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=this._wrapChildren(r,i.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ct(a,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return X_(e.clone());e.parent.is("$text")&&(e=op(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const s=new ct(e,e.getShiftedBy(1));this.wrap(s,t);const r=new Le(i.parent,i.index);i._remove();const o=r.nodeBefore,a=r.nodeAfter;return o instanceof Yt&&a instanceof Yt?Z_(o,a):X_(r)}_wrapAttributeElement(e,t){if(!e1(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i==="class"||i==="style"||t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t);for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!e1(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i==="class"||i==="style"||this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,s=e.end;if(ac(e,this.document),e.isCollapsed){const l=this._breakAttributes(e.start,t);return new ct(l,l)}const r=this._breakAttributes(s,t),o=r.parent.childCount,a=this._breakAttributes(i,t);return r.offset+=r.parent.childCount-o,new ct(a,r)}_breakAttributes(e,t=!1){const i=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new L("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new L("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new L("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&zg(s.parent)||zg(s))return e.clone();if(s.is("$text"))return this._breakAttributes(op(e),t);const r=s.childCount;if(i==r){const o=new Le(s.parent,s.index+1);return this._breakAttributes(o,t)}else if(i===0){const o=new Le(s.parent,s.index);return this._breakAttributes(o,t)}else{const o=s.index+1,a=s._clone();s.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=s.childCount-i,c=s._removeChildren(i,l);a._appendChild(c);const u=new Le(s.parent,o);return this._breakAttributes(u,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function Ej(n){return Array.from(n.getChildren()).some(e=>!e.is("uiElement"))}function Ug(n){let e=n.parent;for(;!zg(e);){if(!e)return;e=e.parent}return e}function Tj(n,e){return n.priority<e.priority?!0:n.priority>e.priority?!1:n.getIdentity()<e.getIdentity()}function X_(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new Le(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new Le(t,0):n}function op(n){if(n.offset==n.parent.data.length)return new Le(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Le(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new Yt(n.root.document,e)),new Le(n.parent.parent,n.parent.index+1)}function Z_(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new Le(n,t)}const Aj=[Yt,Uo,cu,sy,ry,Oh];function pP(n,e){for(const t of n){if(!Aj.some(i=>t instanceof i))throw new L("view-writer-insert-invalid-node-type",e);t.is("$text")||pP(t.getChildren(),e)}}function zg(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function ac(n,e){const t=Ug(n.start),i=Ug(n.end);if(!t||!i||t!==i)throw new L("view-writer-invalid-range-container",e)}function e1(n,e){return n.id===null&&e.id===null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gP=n=>n.createTextNode(""),vP=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},bP=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},Ns=7,Ef="".repeat(Ns);function Mi(n){return nn(n)&&n.data.substr(0,Ns)===Ef}function vc(n){return n.data.length==Ns&&Mi(n)}function t1(n){return Mi(n)?n.data.slice(Ns):n.data}function xj(n){n.document.on("arrowKey",Pj,{priority:"low"})}function Pj(n,e){if(e.keyCode==Et.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;Mi(i)&&s<=Ns&&t.collapse(i,0)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ij=class extends Bt(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),ht.isBlink&&!ht.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new L("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!ht.isAndroid)return;let e=null;const t=ht.isBlink&&!ht.isAndroid?!this.isSelecting:!0;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Le._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),s=i.parent.ownerDocument;Mi(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=n1(s,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const i=Array.from(this.domConverter.mapViewToDom(e).childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),r=this._diffNodeLists(i,s),o=this._findUpdateActions(r,i,s,Rj);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const l of o)if(l==="update"){const c=a.equal+a.insert,u=a.equal+a.delete,d=e.getChild(c);d&&!(d.is("uiElement")||d.is("rawElement"))&&this._updateElementMappings(d,i[u]),F_(s[c]),a.equal++}else a[l]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Le._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&nn(t.parent)&&Mi(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Mi(e))throw new L("view-renderer-filler-was-lost",this);vc(e)?e.remove():e.data=e.data.substr(Ns),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!Oj(t)||i===t.getFillerOffset())return!1;const s=e.nodeBefore,r=e.nodeAfter;return!(s instanceof Yt||r instanceof Yt||ht.isAndroid&&(s||r))}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(r=Ef+r),i1(i,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(r=>r.name),s=e.getAttributeKeys();for(const r of s)this.domConverter.setDomElementAttribute(t,r,e.getAttribute(r),e);for(const r of i)e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(t,r)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(ht.isAndroid){let d=null;for(const f of Array.from(i.childNodes)){if(d&&nn(d)&&nn(f)){i.normalize();break}d=f}}const s=t.inlineFillerPosition,r=i.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&n1(i.ownerDocument,o,s.offset);const a=this._diffNodeLists(r,o),l=this._findUpdateActions(a,r,o,Mj);let c=0;const u=new Set;for(const d of l)d==="delete"?(u.add(r[c]),F_(r[c])):(d==="equal"||d==="update")&&c++;c=0;for(const d of l)d==="insert"?(Ux(i,c,o[c]),c++):d==="update"?(i1(r[c],o[c].data),c++):d==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[c])),c++);for(const d of u)d.parentNode||this.domConverter.unbindDomElement(d)}_diffNodeLists(e,t){return e=Nj(e,this._fakeSelectionContainer),Ic(e,t,Dj.bind(null,this.domConverter))}_findUpdateActions(e,t,i,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let r=[],o=[],a=[];const l={equal:0,insert:0,delete:0};for(const c of e)c==="insert"?a.push(i[l.equal+l.insert]):c==="delete"?o.push(t[l.equal+l.delete]):(r=r.concat(Ic(o,a,s).map(u=>u==="equal"?"update":u)),r.push("equal"),o=[],a=[]),l[c]++;return r.concat(Ic(o,a,s).map(c=>c==="equal"?"update":c))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(ht.isBlink&&!ht.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&ht.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Lj(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!i.parentElement||i.parentElement!=e)&&e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"";const s=t.getSelection(),r=t.createRange();s.removeAllRanges(),r.selectNodeContents(i),s.addRange(r)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(i.parent,i.offset),t.extend(s.parent,s.offset),ht.isGecko&&Fj(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,s=this.domConverter.mapDomToView(i);i&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function Oj(n){if(n.getAttribute("contenteditable")=="false")return!1;const e=n.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function n1(n,e,t){const i=e instanceof Array?e:e.childNodes,s=i[t];if(nn(s))return s.data=Ef+s.data,s;{const r=n.createTextNode(Ef);return Array.isArray(e)?i.splice(t,0,r):Ux(e,t,r),r}}function Rj(n,e){return so(n)&&so(e)&&!nn(n)&&!nn(e)&&!Ga(n)&&!Ga(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function Mj(n,e){return so(n)&&so(e)&&nn(n)&&nn(e)}function Dj(n,e,t){return e===t?!0:nn(e)&&nn(t)?e.data===t.data:!!(n.isBlockFiller(e)&&n.isBlockFiller(t))}function Fj(n,e){const t=n.parent;if(t.nodeType!=Node.ELEMENT_NODE||n.offset!=t.childNodes.length-1)return;const i=t.childNodes[n.offset];i&&i.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function Nj(n,e){const t=Array.from(n);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function Lj(n){const e=n.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}function i1(n,e){const t=n.data;if(t==e)return;const i=Ex(t,e);for(const s of i)s.type==="insert"?n.insertData(s.index,s.values.join("")):n.deleteData(s.index,s.howMany)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Bj=bP(_t.document),$j=gP(_t.document),Vj=vP(_t.document),yd="data-ck-unsafe-attribute-",s1="data-ck-unsafe-element";class yP{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ph,this._encounteredRawContentDomNodes=new WeakSet,this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?_t.document:_t.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new ro(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const i=new DOMParser().parseFromString(t,"text/html"),s=i.createDocumentFragment(),r=i.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);const o=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const c of a){for(const d of c.getAttributeNames())this.setDomElementAttribute(c,d,c.getAttribute(d));const u=c.tagName.toLowerCase();this._shouldRenameElement(u)&&(o1(u),c.replaceWith(this._createReplacementDomElement(u,c)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let i;if(e.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,e);else{if(e.is("uiElement"))return e.name==="$comment"?i=this._domDocument.createComment(e.getCustomProperty("$rawContent")):i=e.render(this._domDocument,this),t.bind&&this.bindElements(i,e),i;this._shouldRenameElement(e.name)?(o1(e.name),i=this._createReplacementDomElement(e.name)):e.hasAttribute("xmlns")?i=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):i=this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(i,this),t.bind&&this.bindElements(i,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(i,s,e.getAttribute(s),e)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(e,t))i.appendChild(s);return i}}setDomElementAttribute(e,t,i,s){const r=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);r||Jt("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),e.hasAttribute(t)&&!r?e.removeAttribute(t):e.hasAttribute(yd+t)&&r&&e.removeAttribute(yd+t),e.setAttribute(r?t:yd+t,i)}removeDomElementAttribute(e,t){t!=s1&&(e.removeAttribute(t),e.removeAttribute(yd+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const r of e.getChildren()){i===s&&(yield this._getBlockFiller());const o=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Sn(r.getAttributes());o&&this.renderingMode=="data"?yield*this.viewChildrenToDom(r,t):(o&&Jt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,t)),s++}i===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(i.parent,i.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let s=e.offset;return Mi(i)&&(s+=Ns),{parent:i,offset:s}}else{let i,s,r;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;r=i.childNodes[0]}else{const a=e.nodeBefore;if(s=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!s)return null;i=s.parentNode,r=s.nextSibling}if(nn(r)&&Mi(r))return{parent:r,offset:Ns};const o=s?vd(s)+1:0;return{parent:i,offset:o}}}domToView(e,t={}){if(this.isBlockFiller(e))return null;const i=this.getHostViewElement(e);if(i)return i;if(Ga(e)&&t.skipComments)return null;if(nn(e)){if(vc(e))return null;{const s=this._processDataFromDomText(e);return s===""?null:new Yt(this.document,s)}}else{if(this.mapDomToView(e))return this.mapDomToView(e);let s;if(this.isDocumentFragment(e))s=new zo(this.document),t.bind&&this.bindDocumentFragments(e,s);else{s=this._createViewElement(e,t),t.bind&&this.bindElements(e,s);const r=e.attributes;if(r)for(let o=r.length,a=0;a<o;a++)s._setAttribute(r[a].name,r[a].value);if(this._isViewElementWithRawContent(s,t)||Ga(e)){const o=Ga(e)?e.data:e.innerHTML;return s._setCustomProperty("$rawContent",o),this._encounteredRawContentDomNodes.add(e),s}}if(t.withChildren!==!1)for(const r of this.domChildrenToView(e,t))s._appendChild(r);return s}}*domChildrenToView(e,t){for(let i=0;i<e.childNodes.length;i++){const s=e.childNodes[i],r=this.domToView(s,t);r!==null&&(yield r)}}domSelectionToView(e){if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;nn(s)&&(s=s.parentNode);const r=this.fakeSelectionToView(s);if(r)return r}const t=this.isDomSelectionBackward(e),i=[];for(let s=0;s<e.rangeCount;s++){const r=e.getRangeAt(s),o=this.domRangeToView(r);o&&i.push(o)}return new ro(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new ct(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,vd(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return Le._createBefore(i);if(nn(e)){if(vc(e))return this.domPositionToView(e.parentNode,vd(e));const s=this.findCorrespondingViewText(e);let r=t;return s?(Mi(e)&&(r-=Ns,r=r<0?0:r),new Le(s,r)):null}else{if(t===0){const s=this.mapDomToView(e);if(s)return new Le(s,0)}else{const s=e.childNodes[t-1];if(nn(s)&&vc(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,vd(s));const r=nn(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(r&&r.parent)return new Le(r.parent,r.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(vc(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const s=this.mapDomToView(i);if(s){const r=s.nextSibling;return r instanceof Yt?r:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const r=s.getChild(0);return r instanceof Yt?r:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:s}=_t.window,r=[];r1(t,o=>{const{scrollLeft:a,scrollTop:l}=o;r.push([a,l])}),t.focus(),r1(t,o=>{const[a,l]=r.shift();o.scrollLeft=a,o.scrollTop=l}),_t.window.scrollTo(i,s)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Bj):e.tagName==="BR"&&wP(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(Vj)||zj(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=Lx(e);for(t.pop();t.length;){const i=t.pop(),s=this._domToViewMapping.get(i);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return gP(this._domDocument);case"markedNbsp":return vP(this._domDocument);case"br":return bP(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(nn(e)&&Mi(e)&&t<Ns||this.isElement(e)&&Mi(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!(i&&(i.is("uiElement")||i.is("rawElement")))}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),s=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!i||s)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_processDataFromDomText(e){let t=e.data;if(Uj(e,this.preElements))return t1(e);t=t.replace(/[ \n\t\r]{1,}/g," ");const i=this._getTouchingInlineDomNode(e,!1),s=this._getTouchingInlineDomNode(e,!0),r=this._checkShouldLeftTrimDomText(e,i),o=this._checkShouldRightTrimDomText(e,s);r&&(t=t.replace(/^ /,"")),o&&(t=t.replace(/ $/,"")),t=t1(new Text(t)),t=t.replace(/ \u00A0/g,"  ");const a=s&&this.isElement(s)&&s.tagName!="BR",l=s&&nn(s)&&s.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(t)||!s||a||l)&&(t=t.replace(/\u00A0$/," ")),(r||i&&this.isElement(i)&&i.tagName!="BR")&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e,t){return t?this.isElement(t)?t.tagName==="BR":this._encounteredRawContentDomNodes.has(e.previousSibling)?!1:/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)):!0}_checkShouldRightTrimDomText(e,t){return t?!1:!Mi(e)}_getTouchingInlineViewNode(e,t){const i=new Mo({startPosition:t?Le._createAfter(e):Le._createBefore(e),direction:t?"forward":"backward"});for(const s of i){if(s.item.is("element")&&this.inlineObjectElements.includes(s.item.name))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("element","br"))return null;if(s.item.is("$textProxy"))return s.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const i=t?"firstChild":"lastChild",s=t?"nextSibling":"previousSibling";let r=!0,o=e;do if(!r&&o[i]?o=o[i]:o[s]?(o=o[s],r=!1):(o=o.parentNode,r=!0),!o||this._isBlockElement(o))return null;while(!(nn(o)||o.tagName=="BR"||this._isInlineObjectElement(o)));return o}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,t){if(Ga(e))return new Oh(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ps(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(s1,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const s of t.getAttributeNames())i.setAttribute(s,t.getAttribute(s))}return i}}function Uj(n,e){return Lx(n).some(i=>i.tagName&&e.includes(i.tagName.toLowerCase()))}function r1(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function zj(n,e){return n.isEqualNode($j)&&wP(n,e)&&n.parentNode.childNodes.length===1}function wP(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function o1(n){n==="script"&&Jt("domconverter-unsafe-script-element-detected"),n==="style"&&Jt("domconverter-unsafe-style-element-detected")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ys extends ha(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bl{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,aT(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uo extends Ys{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(s,r)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(r.target)&&this.onDomEvent(r)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new bl(this.view,t,i))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hj extends uo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return pl(this)}};this.fire(e.type,e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wj extends Ys{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=io(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new ro(t.getRanges(),{backward:t.isBackward,fake:!1});(e==Et.arrowleft||e==Et.arrowup)&&i.setTo(i.getFirstPosition()),(e==Et.arrowright||e==Et.arrowdown)&&i.setTo(i.getLastPosition());const s={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let _P=class extends Ys{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,s=new Set;for(const o of e){const a=t.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&s.add(a))}for(const o of e){const a=t.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const l=t.findCorrespondingViewText(o.target);l&&!s.has(l.parent)?i.add(l):!l&&Mi(o.target)&&s.add(t.mapDomToView(o.target.parentNode))}}let r=!1;for(const o of i)r=!0,this.renderer.markToSync("text",o);for(const o of s){const a=t.mapViewToDom(o),l=Array.from(o.getChildren()),c=Array.from(t.domChildrenToView(a,{withChildren:!1}));tB(l,c,jj)||(r=!0,this.renderer.markToSync("children",o))}r&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function jj(n,e){if(!Array.isArray(n))return n===e?!0:n.is("$text")&&e.is("$text")?n.data===e.data:!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hg extends uo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,s)=>{const r=t.selection.editableElement;(r===null||r===s.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qj extends Ys{constructor(e){super(e),this.mutationObserver=e.getObserver(_P),this.focusObserver=e.getObserver(Hg),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=io(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=io(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",i,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(r,o)=>{this.document.isComposing&&!ht.isAndroid||(this._handleSelectionChange(o,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(i);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(i))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.focusObserver.flush(),this.selection.isSimilar(s))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:s,domSelection:i};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kj extends uo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class CP{constructor(e,t={}){this._files=t.cacheFiles?a1(e):null,this._native=e}get files(){return this._files||(this._files=a1(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function a1(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gj extends uo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,s=i.document;let r=null,o=null,a=[];if(e.dataTransfer&&(r=new CP(e.dataTransfer)),e.data!==null?o=e.data:r&&(o=r.getData("text/plain")),s.selection.isFake)a=Array.from(s.selection.getRanges());else if(t.length)a=t.map(l=>i.domConverter.domRangeToView(l));else if(ht.isAndroid){const l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(i.domConverter.domSelectionToView(l).getRanges())}if(ht.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(a[0].end)]});return}if(e.inputType=="insertText"&&o&&o.includes(`
`)){const l=o.split(/\n{1,2}/g);let c=a;for(let u=0;u<l.length;u++){const d=l[u];d!=""&&(this.fire(e.type,e,{data:d,dataTransfer:r,targetRanges:c,inputType:e.inputType,isComposing:e.isComposing}),c=[s.selection.getFirstRange()]),u+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:c}),c=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:r,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qj extends Ys{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&yW(i.keyCode)){const s=new Wl(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,i),s.stop.called&&t.stop()}})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yj extends Ys{constructor(e){super(e);const t=this.document;t.on("keydown",(i,s)=>{if(!this.isEnabled||s.keyCode!=Et.tab||s.ctrlKey)return;const r=new Wl(t,"tab",t.selection.getFirstRange());t.fire(r,s),r.stop.called&&i.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jj extends Bt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new fP(e),this.domConverter=new yP(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Ij(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new mP(this.document),this.addObserver(_P),this.addObserver(Hg),this.addObserver(qj),this.addObserver(Hj),this.addObserver(Wj),this.addObserver(Kj),this.addObserver(Qj),this.addObserver(Gj),this.addObserver(Yj),xj(this),wj(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const s={};for(const{name:o,value:a}of Array.from(e.attributes))s[o]=a,o==="class"?this._writer.addClass(a.split(" "),i):this._writer.setAttribute(o,a,i);this._initialDomRootAttributes.set(e,s);const r=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};r(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),i.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),i.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),i.on("change:isReadOnly",()=>this.change(r)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const i=this._initialDomRootAttributes.get(t);for(const s in i)t.setAttribute(s,i[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,s]of this.domRoots)t.observe(s,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:s=20}={}){const r=this.document.selection.getFirstRange();r&&hW({target:this.domConverter.viewRangeToDom(r),viewportOffset:i,ancestorOffset:s,alignToTop:e,forceScroll:t})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new L("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Hg).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Le._createAt(e,t)}createPositionAfter(e){return Le._createAfter(e)}createPositionBefore(e){return Le._createBefore(e)}createRange(e,t){return new ct(e,t)}createRangeOn(e){return ct._createOn(e)}createRangeIn(e){return ct._createIn(e)}createSelection(...e){return new ro(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fo{is(){throw new Error("is() method is abstract")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let va=class extends fo{constructor(e){super(),this.parent=null,this._attrs=yr(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new L("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new L("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),s=ci(t,i);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<i[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=yr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};va.prototype.is=function(n){return n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oc{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,s)=>i+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new L("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new L("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof va))throw new L("model-nodelist-insertnodes-not-node",this);this._nodes=RW(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Qt=class Wg extends va{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Wg(this.data,this.getAttributes())}static fromJSON(e){return new Wg(e.data,e.attributes)}};Qt.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ds extends fo{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new L("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new L("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ds.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Gt=class Wd extends va{constructor(e,t,i){super(t),this._children=new Oc,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new Wd(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=Xj(t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const s of i)s.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(Wd.fromJSON(i)):t.push(Qt.fromJSON(i))}return new Wd(e.name,e.attributes,t)}};Gt.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function Xj(n){return typeof n=="string"?[new Qt(n)]:(zi(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Qt(e):e instanceof ds?new Qt(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ls{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new L("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new L("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Se._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,s,r;do s=this.position,r=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=s,this._visitedParent=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=Rc(t,i),r=s||kP(t,i,s);if(r instanceof Gt)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=r),this._position=t,Co("elementStart",r,e,t,1);if(r instanceof Qt){let o;if(this.singleCharacters)o=1;else{let c=r.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),o=c-t.offset}const a=t.offset-r.startOffset,l=new ds(r,a,o);return t.offset+=o,this._position=t,Co("text",l,e,t,o)}else return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Co("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,r=Rc(t,s),o=r||SP(t,s,r);if(o instanceof Gt)return t.offset--,this.shallow?(this._position=t,Co("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Co("elementEnd",o,e,t));if(o instanceof Qt){let a;if(this.singleCharacters)a=1;else{let u=o.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),a=t.offset-u}const l=t.offset-o.startOffset,c=new ds(o,l-a,a);return t.offset-=a,this._position=t,Co("text",c,e,t,a)}else return t.path.pop(),this._position=t,this._visitedParent=i.parent,Co("elementStart",i,e,t,1)}}function Co(n,e,t,i,s){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:s}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Se extends fo{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new L("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new L("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new L("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new L("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Rc(this,this.parent)}get nodeAfter(){const e=this.parent;return kP(this,e,Rc(this,e))}get nodeBefore(){const e=this.parent;return SP(this,e,Rc(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=ci(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Ls(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=ci(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]==i[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const s=this.path[i]-e.path[i];if(s<-1||s>1)return!1;if(s===1)return l1(e,this,i);if(s===-1)return l1(this,e,i)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?jg(this.path,t):jg(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return ci(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Se._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,i=t.containsPosition(this)||t.start.isEqual(this);let s;return i?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=Se._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,t){const i=Se._createAt(this);if(this.root!=e.root)return i;if(ci(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if(ci(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;i.path[s]-=t}}return i}_getTransformedByInsertion(e,t){const i=Se._createAt(this);if(this.root!=e.root)return i;if(ci(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if(ci(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(i.path[s]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return Se._createAt(this);const s=this._getTransformedByDeletion(e,i);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,s=Se._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[i]-e.offset,s.path=[...s.path,...this.path.slice(i+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof Se)return new Se(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,i);if(t=="after")return this._createAfter(s,i);if(t!==0&&!t)throw new L("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new L("model-position-parent-incorrect",[this,e]);const r=s.getPath();return r.push(t),new this(s.root,r,i)}}static _createAfter(e,t){if(!e.parent)throw new L("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new L("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new Se(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new L("model-position-fromjson-no-root",t,{rootName:e.root});return new Se(t.getRoot(e.root),e.path,e.stickiness)}}Se.prototype.is=function(n){return n==="position"||n==="model:position"};function Rc(n,e){const t=e.getChild(e.offsetToIndex(n.offset));return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function kP(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset))}function SP(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function l1(n,e,t){return!(t+1===n.path.length||!jg(e.path,t+1)||!Zj(n,t+1))}function jg(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}function Zj(n,e){let t=n.parent,i=n.path.length-1,s=0;for(;i>=e;){if(n.path[i]+s!==t.maxOffset)return!1;s=1,i--,t=t.parent}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ue extends fo{constructor(e,t){super(),this.start=Se._createAt(e),this.end=t?Se._createAt(t):Se._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ls({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return ci(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&s}containsItem(e){const t=Se._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ue(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ue(e.end,this.end))):t.push(new ue(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new ue(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(this.start.isBefore(e.start)?i=t?this.end.isTouching(e.start):this.end.isEqual(e.start):i=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let s=this.start,r=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(r)&&(r=e.end),new ue(s,r)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=Se._createAt(this.start);let s=i.parent;for(;i.path.length>t+1;){const r=s.maxOffset-i.offset;r!==0&&e.push(new ue(i,i.getShiftedBy(r))),i.path=i.path.slice(0,-1),i.offset++,s=s.parent}for(;i.path.length<=this.end.path.length;){const r=this.end.path[i.path.length-1],o=r-i.offset;o!==0&&e.push(new ue(i,i.getShiftedBy(o))),i.offset=r,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Ls(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Ls(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Ls(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ue(this.start,this.end)]}getTransformedByOperations(e){const t=[new ue(this.start,this.end)];for(const i of e)for(let s=0;s<t.length;s++){const r=t[s].getTransformedByOperation(i);t.splice(s,1,...r),s+=r.length-1}for(let i=0;i<t.length;i++){const s=t[i];for(let r=i+1;r<t.length;r++){const o=t[r];(s.containsRange(o)||o.containsRange(s)||s.isEqual(o))&&t.splice(r,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,s=e.howMany,r=e.targetPosition;return this._getTransformedByMove(i,r,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new ue(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ue(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Se._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new ue(t,i)):new ue(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new ue(this.start,e),new ue(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new ue(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,i,s=!1){if(this.isCollapsed){const d=this.start._getTransformedByMove(e,t,i);return[new ue(d)]}const r=ue._createFromPositionAndShift(e,i),o=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!s&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const d=this.start._getTransformedByMove(e,t,i),f=this.end._getTransformedByMove(e,t,i);return[new ue(d,f)]}let a;const l=this.getDifference(r);let c=null;const u=this.getIntersection(r);if(l.length==1?c=new ue(l[0].start._getTransformedByDeletion(e,i),l[0].end._getTransformedByDeletion(e,i)):l.length==2&&(c=new ue(this.start,this.end._getTransformedByDeletion(e,i))),c?a=c._getTransformedByInsertion(o,i,u!==null||s):a=[],u){const d=new ue(u.start._getCombined(r.start,o),u.end._getCombined(r.start,o));a.length==2?a.splice(1,0,d):a.push(d)}return a}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return i==null&&s==null?null:(i==null&&(i=e),s==null&&(s=e),new ue(i,s))}static _createFromPositionAndShift(e,t){const i=e,s=e.getShiftedBy(t);return t>0?new this(i,s):new this(s,i)}static _createIn(e){return new this(Se._createAt(e,0),Se._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Se._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new L("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((r,o)=>r.start.isAfter(o.start)?1:-1);const i=e.indexOf(t),s=new this(t.start,t.end);if(i>0)for(let r=i-1;e[r].end.isEqual(s.start);r++)s.start=Se._createAt(e[r].start);for(let r=i+1;r<e.length&&e[r].start.isEqual(s.end);r++)s.end=Se._createAt(e[r].end);return s}static fromJSON(e,t){return new this(Se.fromJSON(e.start,t),Se.fromJSON(e.end,t))}}ue.prototype.is=function(n){return n==="range"||n==="model:range"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EP extends Vt(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new L("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(i),r=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=Se._createAt(s,r)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ue(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ct(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const s of t)if(s.is("attributeElement"))for(const r of s.getElementsWithSameId())i.add(r);else i.add(s);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e){const r=this._toModelOffset(e.parent,e.index,i),o=this._toModelOffset(e,t,e);return r+o}if(e.is("$text"))return t;let s=0;for(let r=0;r<t;r++)s+=this.getModelLength(e.getChild(r));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,s=0,r=0,o=0;if(e.is("$text"))return new Le(e,t);for(;r<t;)i=e.getChild(o),s=this.getModelLength(i),r+=s,o++;return r==t?this._moveViewPositionToTextNode(new Le(e,o)):this.findPositionIn(i,t-(r-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof Yt?new Le(t,t.data.length):i instanceof Yt?new Le(i,0):e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eq{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=wd(t),e instanceof ds&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=wd(t),e instanceof ds&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=wd(t),e instanceof ds&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const s=i.get(t);return s===void 0?null:s}revert(e,t){t=wd(t),e instanceof ds&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[i,s]of this._consumable)for(const[r,o]of s){const a=r.split(":")[0];o&&e==a&&t.push({event:r,item:i.name||i.description})}if(t.length)throw new L("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const s=i.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,s=e.parent,r=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),a=o.get(i),a||(a=new Map,o.set(i,a)),a.set(s,r),r}}function wd(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TP extends Vt(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const s=this._createConversionApi(i,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,s);const r=this._reduceChanges(e.getChanges());for(const o of r)o.type==="insert"?this._convertInsert(ue._createFromPositionAndShift(o.position,o.length),s):o.type==="reinsert"?this._convertReinsert(ue._createFromPositionAndShift(o.position,o.length),s):o.type==="remove"?this._convertRemove(o.position,o.length,o.name,s):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,s);for(const o of s.mapper.flushUnboundMarkerNames()){const a=t.get(o).getRange();this._convertMarkerRemove(o,a,s),this._convertMarkerAdd(o,a,s)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,t,i,s={}){const r=this._createConversionApi(i,void 0,s);this._convertInsert(e,r);for(const[o,a]of t)this._convertMarkerAdd(o,a,r);r.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const s=Array.from(t.getMarkersAtPosition(e.getFirstPosition())),r=this._createConversionApi(i);if(this._addConsumablesForSelection(r.consumable,e,s),this.fire("selection",{selection:e},r),!!e.isCollapsed){for(const o of s){const a=o.getRange();if(!tq(e.getFirstPosition(),o,r.mapper))continue;const l={item:e,markerName:o.name,markerRange:a};r.consumable.test(e,"addMarker:"+o.name)&&this.fire(`addMarker:${o.name}`,l,r)}for(const o of e.getAttributeKeys()){const a={item:e,range:e.getFirstRange(),attributeKey:o,attributeOldValue:null,attributeNewValue:e.getAttribute(o)};r.consumable.test(e,"attribute:"+a.attributeKey)&&this.fire(`attribute:${a.attributeKey}:$text`,a,r)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(c1))this._testAndFire("insert",s,t)}_convertRemove(e,t,i,s){this.fire(`remove:${i}`,{position:e,length:t},s)}_convertAttribute(e,t,i,s,r){this._addConsumablesForRange(r.consumable,e,`attribute:${t}`);for(const o of e){const a={item:o.item,range:ue._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:i,attributeNewValue:s};this._testAndFire(`attribute:${t}`,a,r)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const s of i.map(c1))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(i.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},i),!!i.consumable.consume(t,s)){this._addConsumablesForRange(i.consumable,t,s);for(const r of t.getItems()){if(!i.consumable.test(r,s))continue;const o={item:r,range:ue._createOn(r),markerName:e,markerRange:t};this.fire(s,o,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const s=i.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const r of s.getAttributeKeys())e.add(s,"attribute:"+r)}}return e}_addConsumablesForRange(e,t,i){for(const s of t.getItems())e.add(s,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const s of i)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,i){const s=nq(e,t),r=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(i),a=o.get(r);if(!a)o.set(r,new Set([s]));else if(!a.has(s))a.add(s);else return;this.fire(s,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:ue._createOn(e)};for(const s of i.item.getAttributeKeys())i.attributeKey=s,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(s),this._testAndFire(`attribute:${s}`,i,t)}_createConversionApi(e,t=new Set,i={}){const s={...this._conversionApi,consumable:new eq,writer:e,options:i,convertItem:r=>this._convertInsert(ue._createOn(r),s),convertChildren:r=>this._convertInsert(ue._createIn(r),s,{doNotAddConsumables:!0}),convertAttributes:r=>this._testAndFireAddAttributes(r,s),canReuseView:r=>!t.has(s.mapper.toModelElement(r))};return this._firedEventsMap.set(s,new Map),s}}function tq(n,e,t){const i=e.getRange(),s=Array.from(n.getAncestors());return s.shift(),s.reverse(),!s.some(o=>{if(i.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function nq(n,e){const t=e.item.is("element")?e.item.name:"$text";return`${n}:${t}`}function c1(n){const e=n.item,t=ue._createFromPositionAndShift(n.previousPosition,n.length);return{item:e,range:t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fs extends Vt(fo){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const s of e._ranges)if(t.isEqual(s)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ue(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new ue(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new ue(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,s]=e;if(typeof i=="object"&&(s=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof fs)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof ue)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof Se)this._setRanges([new ue(t)]);else if(t instanceof va){const r=!!s&&!!s.backward;let o;if(i=="in")o=ue._createIn(t);else if(i=="on")o=ue._createOn(t);else if(i!==void 0)o=new ue(Se._createAt(t,i));else throw new L("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],r)}else if(zi(t))this._setRanges(t,s&&!!s.backward);else throw new L("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const i=Array.from(e),s=i.some(r=>{if(!(r instanceof ue))throw new L("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(r))});i.length===this._ranges.length&&!s||(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new L("model-selection-setfocus-no-ranges",[this,e]);const i=Se._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(s)=="before"?(this._pushRange(new ue(i,s)),this._lastRangeBackward=!0):(this._pushRange(new ue(s,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=u1(t.start,e);sq(i,t)&&(yield i);for(const r of t.getWalker()){const o=r.item;r.type=="elementEnd"&&iq(o,e,t)&&(yield o)}const s=u1(t.end,e);rq(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=Se._createAt(e,0),i=Se._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ue(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new L("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}fs.prototype.is=function(n){return n==="selection"||n==="model:selection"};function AP(n,e){return e.has(n)?!1:(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function iq(n,e,t){return AP(n,e)&&oy(n,t)}function u1(n,e){const i=n.parent.root.document.model.schema,s=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=s.find(a=>r?!1:(r=i.isLimit(a),!r&&AP(a,e)));return s.forEach(a=>e.add(a)),o}function oy(n,e){const t=oq(n);return t?!e.containsRange(ue._createOn(t),!0):!0}function sq(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.start.isTouching(Se._createAt(n,n.maxOffset))?!1:oy(n,e):!1}function rq(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.end.isTouching(Se._createAt(n,0))?!1:oy(n,e):!1}function oq(n){const e=n.root.document.model.schema;let t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gs extends Vt(ue){constructor(e,t){super(e,t),aq.call(this)}detach(){this.stopListening()}toRange(){return new ue(this.start,this.end)}static fromRange(e){return new Gs(e.start,e.end)}}Gs.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function aq(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&lq.call(this,t)},{priority:"low"})}function lq(n){const e=this.getTransformedByOperation(n),t=ue._createFromRanges(e),i=!t.isEqual(this),s=cq(this,n);let r=null;if(i){t.root.rootName=="$graveyard"&&(n.type=="remove"?r=n.sourcePosition:r=n.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:r})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function cq(n,e){switch(e.type){case"insert":return n.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(e.sourcePosition)||n.start.isEqual(e.sourcePosition)||n.containsPosition(e.targetPosition);case"split":return n.containsPosition(e.splitPosition)||n.containsPosition(e.insertionPosition)}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const uu="selection:";class gs extends Vt(fo){constructor(e){super(),this._selection=new uq(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return uu+e}static _isStoreAttributeKey(e){return e.startsWith(uu)}}gs.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class uq extends fs{constructor(e){super(),this.markers=new ys({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const s=i[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,s,r)=>{this._updateMarker(i,r)}),this.listenTo(this._document,"change",(t,i)=>{dq(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=Ks();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new L("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new L("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Gs.fromRange(e);return t.on("change:range",(i,s,r)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const r=s.name.split(":",1)[0];if(!this._observedMarkers.has(r))continue;const o=s.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(s)}const i=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let s=!1;const r=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),s=!0);else{let a=!1;for(const l of this.getRanges())if(t.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),s=!0):!a&&o&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(e){const t=yr(this._getSurroundingAttributes()),i=yr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[r,o]of this._attributePriority)o=="low"&&(this._attrs.delete(r),this._attributePriority.delete(r));this._setAttributesTo(t);const s=[];for(const[r,o]of this.getAttributes())(!i.has(r)||i.get(r)!==o)&&s.push(r);for(const[r]of i)this.hasAttribute(r)||s.push(r);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,i=!0){const s=i?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,i),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[i,s]of this.getAttributes())e.get(i)!==s&&this._removeAttribute(i,!1);for(const[i,s]of e)this._setAttribute(i,s,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(uu)&&(yield[t.substr(uu.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let i=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=_d(s)),i||(i=_d(r)),!this.isGravityOverridden&&!i){let o=s;for(;o&&!t.isInline(o)&&!i;)o=o.previousSibling,i=_d(o)}if(!i){let o=r;for(;o&&!t.isInline(o)&&!i;)o=o.nextSibling,i=_d(o)}i||(i=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const r of s){if(r.item.is("element")&&t.isObject(r.item))break;if(r.type=="text"){i=r.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function _d(n){return n instanceof ds||n instanceof Qt?n.getAttributes():null}function dq(n,e){const t=n.document.differ;for(const i of t.getChanges()){if(i.type!="insert")continue;const s=i.position.parent;i.length===s.maxOffset&&n.enqueueChange(e,o=>{const a=Array.from(s.getAttributeKeys()).filter(l=>l.startsWith(uu));for(const l of a)o.removeAttribute(l,s)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xP{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fq extends xP{elementToElement(e){return this.add(Iq(e))}elementToStructure(e){return this.add(Oq(e))}attributeToElement(e){return this.add(Rq(e))}attributeToAttribute(e){return this.add(Mq(e))}markerToElement(e){return this.add(Dq(e))}markerToHighlight(e){return this.add(Nq(e))}markerToData(e){return this.add(Fq(e))}}function PP(){return(n,e,t)=>{if(!t.consumable.consume(e.item,n.name))return;const i=t.writer,s=t.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(s,r)}}function IP(){return(n,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function hq(){return(n,e,t)=>{const i=t.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),r=t.mapper.toViewPosition(s,{isPhantom:!0}),o=t.writer.createRange(i,r),a=t.writer.remove(o.getTrimmed());for(const l of t.writer.createRangeIn(a).getItems())t.mapper.unbindViewElement(l,{defer:!0})}}function OP(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function mq(){return(n,e,t)=>{const i=e.selection;if(i.isCollapsed||!t.consumable.consume(i,"selection"))return;const s=[];for(const r of i.getRanges())s.push(t.mapper.toViewRange(r));t.writer.setSelection(s,{backward:i.isBackward})}}function pq(){return(n,e,t)=>{const i=e.selection;if(!i.isCollapsed||!t.consumable.consume(i,"selection"))return;const s=t.writer,r=i.getFirstPosition(),o=t.mapper.toViewPosition(r),a=s.breakAttributes(o);s.setSelection(a)}}function gq(){return(n,e,t)=>{const i=t.writer,s=i.document.selection;for(const r of s.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&t.writer.mergeAttributes(r.start);i.setSelection(null)}}function vq(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const s=n(t.attributeOldValue,i,t),r=n(t.attributeNewValue,i,t);if(!s&&!r)return;i.consumable.consume(t.item,e.name);const o=i.writer,a=o.document.selection;if(t.item instanceof fs||t.item instanceof gs)o.wrap(a.getFirstRange(),r);else{let l=i.mapper.toViewRange(t.range);t.attributeOldValue!==null&&s&&(l=o.unwrap(l,s)),t.attributeNewValue!==null&&r&&o.wrap(l,r)}}}function bq(n,e=Hq){return(t,i,s)=>{if(!e(i.item,s.consumable,{preflight:!0}))return;const r=n(i.item,s,i);if(!r)return;e(i.item,s.consumable);const o=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,r),s.writer.insert(o,r),s.convertAttributes(i.item),NP(r,i.item.getChildren(),s,{reconversion:i.reconversion})}}function yq(n,e){return(t,i,s)=>{if(!e(i.item,s.consumable,{preflight:!0}))return;const r=new Map;s.writer._registerSlotFactory($q(i.item,r,s));const o=n(i.item,s,i);if(s.writer._clearSlotFactory(),!o)return;Vq(i.item,r,s),e(i.item,s.consumable);const a=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,o),s.writer.insert(a,o),s.convertAttributes(i.item),Uq(o,r,s,{reconversion:i.reconversion})}}function wq(n){return(e,t,i)=>{t.isOpening=!0;const s=n(t,i);t.isOpening=!1;const r=n(t,i);if(!s||!r)return;const o=t.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,e.name))return;for(const c of o)if(!i.consumable.consume(c.item,e.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(o.start),s),i.mapper.bindElementToMarker(s,t.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),r),i.mapper.bindElementToMarker(r,t.markerName)),e.stop()}}function _q(){return(n,e,t)=>{const i=t.mapper.markerNameToElements(e.markerName);if(i){for(const s of i)t.mapper.unbindElementFromMarkerName(s,e.markerName),t.writer.clear(t.writer.createRangeOn(s),s);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function Cq(n){return(e,t,i)=>{const s=n(t.markerName,i);if(!s)return;const r=t.markerRange;i.consumable.consume(r,e.name)&&(d1(r,!1,i,t,s),d1(r,!0,i,t,s),e.stop())}}function d1(n,e,t,i,s){const r=e?n.start:n.end,o=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(o||a){let c,u;e&&o||!e&&!a?(c=o,u=!0):(c=a,u=!1);const d=t.mapper.toViewElement(c);if(d){kq(d,e,u,t,i,s);return}}const l=t.mapper.toViewPosition(r);Sq(l,e,t,i,s)}function kq(n,e,t,i,s,r){const o=`data-${r.group}-${e?"start":"end"}-${t?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(r.name),i.writer.setAttribute(o,a.join(","),n),i.mapper.bindElementToMarker(n,s.markerName)}function Sq(n,e,t,i,s){const r=`${s.group}-${e?"start":"end"}`,o=s.name?{name:s.name}:null,a=t.writer.createUIElement(r,o);t.writer.insert(n,a),t.mapper.bindElementToMarker(a,i.markerName)}function Eq(n){return(e,t,i)=>{const s=n(t.markerName,i);if(!s)return;const r=i.mapper.markerNameToElements(t.markerName);if(!r)return;for(const a of r)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${s.group}-start-before`,a),o(`data-${s.group}-start-after`,a),o(`data-${s.group}-end-before`,a),o(`data-${s.group}-end-after`,a)):i.writer.clear(i.writer.createRangeOn(a),a);i.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(a,l){if(l.hasAttribute(a)){const c=new Set(l.getAttribute(a).split(","));c.delete(s.name),c.size==0?i.writer.removeAttribute(a,l):i.writer.setAttribute(a,Array.from(c).join(","),l)}}}}function Tq(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const s=n(t.attributeOldValue,i,t),r=n(t.attributeNewValue,i,t);if(!s&&!r)return;i.consumable.consume(t.item,e.name);const o=i.mapper.toViewElement(t.item),a=i.writer;if(!o)throw new L("conversion-attribute-to-attribute-on-text",i.dispatcher,t);if(t.attributeOldValue!==null&&s)if(s.key=="class"){const l=jn(s.value);for(const c of l)a.removeClass(c,o)}else if(s.key=="style"){const l=Object.keys(s.value);for(const c of l)a.removeStyle(c,o)}else a.removeAttribute(s.key,o);if(t.attributeNewValue!==null&&r)if(r.key=="class"){const l=jn(r.value);for(const c of l)a.addClass(c,o)}else if(r.key=="style"){const l=Object.keys(r.value);for(const c of l)a.setStyle(c,r.value[c],o)}else a.setAttribute(r.key,r.value,o)}}function Aq(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof fs||t.item instanceof gs)&&!t.item.is("$textProxy"))return;const s=ay(n,t,i);if(!s||!i.consumable.consume(t.item,e.name))return;const r=i.writer,o=OP(r,s),a=r.document.selection;if(t.item instanceof fs||t.item instanceof gs)r.wrap(a.getFirstRange(),o);else{const l=i.mapper.toViewRange(t.range),c=r.wrap(l,o);for(const u of c.getItems())if(u.is("attributeElement")&&u.isSimilar(o)){i.mapper.bindElementToMarker(u,t.markerName);break}}}}function xq(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof Gt))return;const s=ay(n,t,i);if(!s||!i.consumable.test(t.item,e.name))return;const r=i.mapper.toViewElement(t.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(t.item,e.name);for(const a of ue._createIn(t.item))i.consumable.consume(a.item,e.name);r.getCustomProperty("addHighlight")(r,s,i.writer),i.mapper.bindElementToMarker(r,t.markerName)}}}function Pq(n){return(e,t,i)=>{if(t.markerRange.isCollapsed)return;const s=ay(n,t,i);if(!s)return;const r=OP(i.writer,s),o=i.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(a),r):a.getCustomProperty("removeHighlight")(a,s.id,i.writer);i.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function Iq(n){const e=RP(n.model),t=du(n.view,"container");return e.attributes.length&&(e.children=!0),i=>{i.on(`insert:${e.name}`,bq(t,FP(e)),{priority:n.converterPriority||"normal"}),(e.children||e.attributes.length)&&i.on("reduceChanges",DP(e),{priority:"low"})}}function Oq(n){const e=RP(n.model),t=du(n.view,"container");return e.children=!0,i=>{if(i._conversionApi.schema.checkChild(e.name,"$text"))throw new L("conversion-element-to-structure-disallowed-text",i,{elementName:e.name});i.on(`insert:${e.name}`,yq(t,FP(e)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",DP(e),{priority:"low"})}}function Rq(n){n=da(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)n.view[s]=du(n.view[s],"attribute");else n.view=du(n.view,"attribute");const i=MP(n);return s=>{s.on(t,vq(i),{priority:n.converterPriority||"normal"})}}function Mq(n){n=da(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)n.view[s]=f1(n.view[s]);else n.view=f1(n.view);const i=MP(n);return s=>{s.on(t,Tq(i),{priority:n.converterPriority||"normal"})}}function Dq(n){const e=du(n.view,"ui");return t=>{t.on(`addMarker:${n.model}`,wq(e),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,_q(),{priority:n.converterPriority||"normal"})}}function Fq(n){n=da(n);const e=n.model;let t=n.view;return t||(t=i=>({group:e,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${e}`,Cq(t),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${e}`,Eq(t),{priority:n.converterPriority||"normal"})}}function Nq(n){return e=>{e.on(`addMarker:${n.model}`,Aq(n.view),{priority:n.converterPriority||"normal"}),e.on(`addMarker:${n.model}`,xq(n.view),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,Pq(n.view),{priority:n.converterPriority||"normal"})}}function RP(n){return typeof n=="string"&&(n={name:n}),n.attributes?Array.isArray(n.attributes)||(n.attributes=[n.attributes]):n.attributes=[],n.children=!!n.children,n}function du(n,e){return typeof n=="function"?n:(t,i)=>Lq(n,i,e)}function Lq(n,e,t){typeof n=="string"&&(n={name:n});let i;const s=e.writer,r=Object.assign({},n.attributes);if(t=="container")i=s.createContainerElement(n.name,r);else if(t=="attribute"){const o={priority:n.priority||Uo.DEFAULT_PRIORITY};i=s.createAttributeElement(n.name,r,o)}else i=s.createUIElement(n.name,r);if(n.styles){const o=Object.keys(n.styles);for(const a of o)s.setStyle(a,n.styles[a],i)}if(n.classes){const o=n.classes;if(typeof o=="string")s.addClass(o,i);else for(const a of o)s.addClass(a,i)}return i}function MP(n){return n.model.values?(e,t,i)=>{const s=n.view[e];return s?s(e,t,i):null}:n.view}function f1(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function ay(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function Bq(n){return(e,t)=>{if(!e.is("element",n.name))return!1;if(t.type=="attribute"){if(n.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function DP(n){const e=Bq(n);return(t,i)=>{const s=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const r of i.changes){const o=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!o||!e(o,r)){s.push(r);continue}if(!i.reconvertedElements.has(o)){i.reconvertedElements.add(o);const a=Se._createBefore(o);let l=s.length;for(let c=s.length-1;c>=0;c--){const u=s[c],f=(u.type=="attribute"?u.range.start:u.position).compareWith(a);if(f=="before"||u.type=="remove"&&f=="same")break;l=c}s.splice(l,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}i.changes=s}}function FP(n){return(e,t,i={})=>{const s=["insert"];for(const r of n.attributes)e.hasAttribute(r)&&s.push(`attribute:${r}`);return s.every(r=>t.test(e,r))?(i.preflight||s.forEach(r=>t.consume(e,r)),!0):!1}}function $q(n,e,t){return(i,s)=>{const r=i.createContainerElement("$slot");let o=null;if(s==="children")o=Array.from(n.getChildren());else if(typeof s=="function")o=Array.from(n.getChildren()).filter(a=>s(a));else throw new L("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:s});return e.set(r,o),r}}function Vq(n,e,t){const i=Array.from(e.values()).flat(),s=new Set(i);if(s.size!=i.length)throw new L("conversion-slot-filter-overlap",t.dispatcher,{element:n});if(s.size!=n.childCount)throw new L("conversion-slot-filter-incomplete",t.dispatcher,{element:n})}function Uq(n,e,t,i){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let s=null,r=null;for([s,r]of e)NP(n,r,t,i),t.writer.move(t.writer.createRangeIn(s),t.writer.createPositionBefore(s)),t.writer.remove(s);t.mapper.off("modelToViewPosition",o);function o(a,l){const c=l.modelPosition.nodeAfter,u=r.indexOf(c);u<0||(l.viewPosition=l.mapper.findPositionIn(s,u))}}function NP(n,e,t,i){for(const s of e)zq(n.root,s,t,i)||t.convertItem(s)}function zq(n,e,t,i){const{writer:s,mapper:r}=t;if(!i.reconversion)return!1;const o=r.toViewElement(e);return!o||o.root==n||!t.canReuseView(o)?!1:(s.move(s.createRangeOn(o),r.toViewPosition(Se._createBefore(e))),!0)}function Hq(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function LP(n){const{schema:e,document:t}=n.model;for(const i of t.getRootNames()){const s=t.getRoot(i);if(s.isEmpty&&!e.checkChild(s,"$text")&&e.checkChild(s,"paragraph"))return n.insertElement("paragraph",s),!0}return!1}function BP(n,e,t){const i=t.createContext(n);return!(!t.checkChild(i,"paragraph")||!t.checkChild(i.push("paragraph"),e))}function $P(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wq extends xP{elementToElement(e){return this.add(VP(e))}elementToAttribute(e){return this.add(Kq(e))}attributeToAttribute(e){return this.add(Gq(e))}elementToMarker(e){return this.add(Qq(e))}dataToMarker(e){return this.add(Yq(e))}}function h1(){return(n,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:i,modelCursor:s}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=i,e.modelCursor=s}}}function jq(){return(n,e,{schema:t,consumable:i,writer:s})=>{let r=e.modelCursor;if(!i.test(e.viewItem))return;if(!t.checkChild(r,"$text")){if(!BP(r,"$text",t)||e.viewItem.data.trim().length==0)return;const a=r.nodeBefore;r=$P(r,s),a&&a.is("element","$marker")&&(s.move(s.createRangeOn(a),r),r=s.createPositionAfter(a))}i.consume(e.viewItem);const o=s.createText(e.viewItem.data);s.insert(o,r),e.modelRange=s.createRange(r,r.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function qq(n,e){return(t,i)=>{const s=i.newSelection,r=[];for(const a of s.getRanges())r.push(e.toModelRange(a));const o=n.createSelection(r,{backward:s.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function VP(n){n=da(n);const e=qg(n),t=ly(n.view),i=t?`element:${t}`:"element";return s=>{s.on(i,e,{priority:n.converterPriority||"normal"})}}function Kq(n){n=da(n),UP(n);const e=zP(n,!1),t=ly(n.view),i=t?`element:${t}`:"element";return s=>{s.on(i,e,{priority:n.converterPriority||"low"})}}function Gq(n){n=da(n);let e=null;(typeof n.view=="string"||n.view.key)&&(e=Zq(n)),UP(n,e);const t=zP(n,!0);return i=>{i.on("element",t,{priority:n.converterPriority||"low"})}}function Qq(n){const e=nK(n.model);return VP({...n,model:e})}function Yq(n){n=da(n),n.model||(n.model=s=>s?n.view+":"+s:n.view);const e={view:n.view,model:n.model},t=qg(m1(e,"start")),i=qg(m1(e,"end"));return s=>{s.on(`element:${n.view}-start`,t,{priority:n.converterPriority||"normal"}),s.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});const r=Yr.get("low"),o=Yr.get("highest"),a=Yr.get(n.converterPriority)/o;s.on("element",Jq(e),{priority:r+a})}}function Jq(n){return(e,t,i)=>{const s=`data-${n.view}`;if(!i.consumable.test(t.viewItem,{attributes:s+"-end-after"})&&!i.consumable.test(t.viewItem,{attributes:s+"-start-after"})&&!i.consumable.test(t.viewItem,{attributes:s+"-end-before"})&&!i.consumable.test(t.viewItem,{attributes:s+"-start-before"}))return;t.modelRange||Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor)),i.consumable.consume(t.viewItem,{attributes:s+"-end-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-end-after").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-start-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-start-after").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-end-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-end-before").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-start-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-start-before").split(","));function r(o,a){for(const l of a){const c=n.model(l,i),u=i.writer.createElement("$marker",{"data-name":c});i.writer.insert(u,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function ly(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function qg(n){const e=new Ph(n.view);return(t,i,s)=>{const r=e.match(i.viewItem);if(!r)return;const o=r.match;if(o.name=!0,!s.consumable.test(i.viewItem,o))return;const a=Xq(n.model,i.viewItem,s);a&&s.safeInsert(a,i.modelCursor)&&(s.consumable.consume(i.viewItem,o),s.convertChildren(i.viewItem,a),s.updateConversionResult(a,i))}}function Xq(n,e,t){return n instanceof Function?n(e,t):t.writer.createElement(n)}function Zq(n){typeof n.view=="string"&&(n.view={key:n.view});const e=n.view.key;let t;if(e=="class"||e=="style")t={[e=="class"?"classes":"styles"]:n.view.value};else{const i=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;t={attributes:{[e]:i}}}return n.view.name&&(t.name=n.view.name),n.view=t,e}function UP(n,e=null){const t=e===null?!0:r=>r.getAttribute(e),i=typeof n.model!="object"?n.model:n.model.key,s=typeof n.model!="object"||typeof n.model.value>"u"?t:n.model.value;n.model={key:i,value:s}}function zP(n,e){const t=new Ph(n.view);return(i,s,r)=>{if(!s.modelRange&&e)return;const o=t.match(s.viewItem);if(!o||(eK(n.view,s.viewItem)?o.match.name=!0:delete o.match.name,!r.consumable.test(s.viewItem,o.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(s.viewItem,r):n.model.value;if(l===null)return;s.modelRange||Object.assign(s,r.convertChildren(s.viewItem,s.modelCursor)),tK(s.modelRange,{key:a,value:l},e,r)&&(r.consumable.test(s.viewItem,{name:!0})&&(o.match.name=!0),r.consumable.consume(s.viewItem,o.match))}}function eK(n,e){const t=typeof n=="function"?n(e):n;return typeof t=="object"&&!ly(t)?!1:!t.classes&&!t.attributes&&!t.styles}function tK(n,e,t,i){let s=!1;for(const r of Array.from(n.getItems({shallow:t})))i.schema.checkAttribute(r,e.key)&&(s=!0,!r.hasAttribute(e.key)&&i.writer.setAttribute(e.key,e.value,r));return s}function nK(n){return(e,t)=>{const i=typeof n=="string"?n:n(e,t);return t.writer.createElement("$marker",{"data-name":i})}}function m1(n,e){const t=(i,s)=>{const r=i.getAttribute("name"),o=n.model(r,s);return s.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${e}`,model:t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function iK(n){n.document.registerPostFixer(e=>sK(e,n))}function sK(n,e){const t=e.document.selection,i=e.schema,s=[];let r=!1;for(const o of t.getRanges()){const a=HP(o,i);a&&!a.isEqual(o)?(s.push(a),r=!0):s.push(o)}return r&&n.setSelection(lK(s),{backward:t.isBackward}),!1}function HP(n,e){return n.isCollapsed?rK(n,e):oK(n,e)}function rK(n,e){const t=n.start,i=e.getNearestSelectionRange(t);if(!i){const r=t.getAncestors().reverse().find(o=>e.isObject(o));return r?ue._createOn(r):null}if(!i.isCollapsed)return i;const s=i.start;return t.isEqual(s)?null:new ue(s)}function oK(n,e){const{start:t,end:i}=n,s=e.checkChild(t,"$text"),r=e.checkChild(i,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(i);if(o===a){if(s&&r)return null;if(aK(t,i,e)){const d=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),h=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),p=d?d.start:t,m=h?h.end:i;return new ue(p,m)}}const l=o&&!o.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const u=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,d=l&&(!u||!g1(t.nodeAfter,e)),f=c&&(!u||!g1(i.nodeBefore,e));let h=t,p=i;return d&&(h=Se._createBefore(p1(o,e))),f&&(p=Se._createAfter(p1(a,e))),new ue(h,p)}return null}function p1(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function aK(n,e,t){const i=n.nodeAfter&&!t.isLimit(n.nodeAfter)||t.checkChild(n,"$text"),s=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return i||s}function lK(n){const e=[...n],t=new Set;let i=1;for(;i<e.length;){const r=e[i],o=e.slice(0,i);for(const[a,l]of o.entries())if(!t.has(a)){if(r.isEqual(l))t.add(a);else if(r.isIntersecting(l)){t.add(a),t.add(i);const c=r.getJoined(l);e.push(c)}}i++}return e.filter((r,o)=>!t.has(o))}function g1(n,e){return n&&e.isSelectable(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cK extends Bt(){constructor(e,t){super(),this.model=e,this.view=new Jj(t),this.mapper=new EP,this.downcastDispatcher=new TP({mapper:this.mapper,schema:e.schema});const i=this.model.document,s=i.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(i.differ,r,o),this.downcastDispatcher.convertSelection(s,r,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",qq(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",uK(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",PP(),{priority:"lowest"}),this.downcastDispatcher.on("insert",IP(),{priority:"lowest"}),this.downcastDispatcher.on("remove",hq(),{priority:"low"}),this.downcastDispatcher.on("selection",gq(),{priority:"high"}),this.downcastDispatcher.on("selection",mq(),{priority:"low"}),this.downcastDispatcher.on("selection",pq(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new cP(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new L("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function uK(n,e,t){return(i,s)=>{if(!(t.document.isComposing&&!ht.isAndroid))for(let r=0;r<s.targetRanges.length;r++){const o=s.targetRanges[r],a=n.toModelRange(o),l=HP(a,e);!l||l.isEqual(a)||(s.targetRanges[r]=n.toViewRange(l))}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mc{constructor(){this._consumables=new Map}add(e,t){let i;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?i=this._consumables.get(e):(i=new dK(e),this._consumables.set(e,i)),i.add(t)}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const o of i)o=="style"||o=="class"||t.attributes.push(o);const s=e.getClassNames();for(const o of s)t.classes.push(o);const r=e.getStyleNames();for(const o of r)t.styles.push(o);return t}static createFrom(e,t){if(t||(t=new Mc),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Mc.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=Mc.createFrom(i,t);return t}}const Cd=["attributes","classes","styles"];class dK{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Cd)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Cd)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Cd)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Cd)t in e&&this._revert(t,e[t])}_add(e,t){const i=zn(t)?t:[t],s=this._consumables[e];for(const r of i){if(e==="attributes"&&(r==="class"||r==="style"))throw new L("viewconsumable-invalid-attribute",this);if(s.set(r,!0),e==="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(r))s.set(o,!0)}}_test(e,t){const i=zn(t)?t:[t],s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles",a=this._test(o,[...this._consumables[o].keys()]);if(a!==!0)return a}else{const o=s.get(r);if(o===void 0)return null;if(!o)return!1}return!0}_consume(e,t){const i=zn(t)?t:[t],s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles";this._consume(o,[...this._consumables[o].keys()])}else if(s.set(r,!1),e=="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(r))s.set(o,!1)}_revert(e,t){const i=zn(t)?t:[t],s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles";this._revert(o,[...this._consumables[o].keys()])}else s.get(r)===!1&&s.set(r,!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fK extends Bt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Ho(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Ho(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new L("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new L("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const i=this.getDefinition(e.last);return i?i.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof Se){const i=e.nodeBefore,s=e.nodeAfter;if(!(i instanceof Gt))throw new L("schema-check-merge-no-element-before",this);if(!(s instanceof Gt))throw new L("schema-check-merge-no-element-after",this);return this.checkMerge(i,s)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,s])=>{if(!s)return;const r=e(i,s);typeof r=="boolean"&&(t.stop(),t.return=r)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,s])=>{const r=e(i,s);typeof r=="boolean"&&(t.stop(),t.return=r)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof Se?t=e.parent:t=(e instanceof ue?[e]:Array.from(e.getRanges())).reduce((s,r)=>{const o=r.getCommonAncestor();return s?s.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Qt("",e.getAttributes())];return this.checkAttribute(s,t)}else{const i=e.getRanges();for(const s of i)for(const r of s)if(this.checkAttribute(r.item,t))return!0}return!1}*getValidRanges(e,t){e=xK(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new ue(e);let i,s;const r=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(i=new Ls({boundaries:ue._createIn(r),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(s=new Ls({boundaries:ue._createIn(r),startPosition:e}));for(const o of AK(i,s)){const a=o.walker==i?"elementEnd":"elementStart",l=o.value;if(l.type==a&&this.isObject(l.item))return ue._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new ue(l.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const s=i.model;for(const[r,o]of Object.entries(t))s.schema.checkAttribute(e,r)&&i.setAttribute(r,o,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))v1(this,i,t);else{const r=ue._createIn(i).getPositions();for(const o of r){const a=o.nodeBefore||o.parent;v1(this,a,t)}}}getAttributesWithProperty(e,t,i){const s={};for(const[r,o]of e.getAttributes()){const a=this.getAttributeProperties(r);a[t]!==void 0&&(i===void 0||i===a[t])&&(s[r]=o)}return s}createContext(e){return new Ho(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const s of i)e[s]=hK(t[s],s);for(const s of i)mK(e,s);for(const s of i)pK(e,s);for(const s of i)gK(e,s);for(const s of i)vK(e,s),bK(e,s);for(const s of i)yK(e,s),wK(e,s),_K(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const s=t.getItem(i);if(e.allowIn.includes(s.name)){if(i==0)return!0;{const r=this.getDefinition(s);return this._checkContextMatch(r,t,i-1)}}else return!1}*_getValidRangesForRange(e,t){let i=e.start,s=e.start;for(const r of e.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(ue._createIn(r),t)),this.checkAttribute(r,t)||(i.isEqual(s)||(yield new ue(i,s)),i=Se._createAfter(r)),s=Se._createAfter(r);i.isEqual(s)||(yield new ue(i,s))}}class Ho{constructor(e){if(e instanceof Ho)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(TK)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Ho([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function hK(n,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return CK(n,t),ko(n,t,"allowIn"),ko(n,t,"allowContentOf"),ko(n,t,"allowWhere"),ko(n,t,"allowAttributes"),ko(n,t,"allowAttributesOf"),ko(n,t,"allowChildren"),ko(n,t,"inheritTypesFrom"),kK(n,t),t}function mK(n,e){const t=n[e];for(const i of t.allowChildren){const s=n[i];s&&s.allowIn.push(e)}t.allowChildren.length=0}function pK(n,e){for(const t of n[e].allowContentOf)n[t]&&SK(n,t).forEach(s=>{s.allowIn.push(e)});delete n[e].allowContentOf}function gK(n,e){for(const t of n[e].allowWhere){const i=n[t];if(i){const s=i.allowIn;n[e].allowIn.push(...s)}}delete n[e].allowWhere}function vK(n,e){for(const t of n[e].allowAttributesOf){const i=n[t];if(i){const s=i.allowAttributes;n[e].allowAttributes.push(...s)}}delete n[e].allowAttributesOf}function bK(n,e){const t=n[e];for(const i of t.inheritTypesFrom){const s=n[i];if(s){const r=Object.keys(s).filter(o=>o.startsWith("is"));for(const o of r)o in t||(t[o]=s[o])}}delete t.inheritTypesFrom}function yK(n,e){const t=n[e],i=t.allowIn.filter(s=>n[s]);t.allowIn=Array.from(new Set(i))}function wK(n,e){const t=n[e];for(const i of t.allowIn)n[i].allowChildren.push(e)}function _K(n,e){const t=n[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function CK(n,e){for(const t of n){const i=Object.keys(t).filter(s=>s.startsWith("is"));for(const s of i)e[s]=!!t[s]}}function ko(n,e,t){for(const i of n){const s=i[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function kK(n,e){for(const t of n){const i=t.inheritAllFrom;i&&(e.allowContentOf.push(i),e.allowWhere.push(i),e.allowAttributesOf.push(i),e.inheritTypesFrom.push(i))}}function SK(n,e){const t=n[e];return EK(n).filter(i=>i.allowIn.includes(t.name))}function EK(n){return Object.keys(n).map(e=>n[e])}function TK(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(e){return n.getAttribute(e)}}}function*AK(n,e){let t=!1;for(;!t;){if(t=!0,n){const i=n.next();i.done||(t=!1,yield{walker:n,value:i.value})}if(e){const i=e.next();i.done||(t=!1,yield{walker:e,value:i.value})}}}function*xK(n){for(const e of n)yield*e.getMinimalFlatRanges()}function v1(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PK extends Vt(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,i)=>this._convertItem(t,i),convertChildren:(t,i)=>this._convertChildren(t,i),safeInsert:(t,i)=>this._safeInsert(t,i),updateConversionResult:(t,i)=>this._updateConversionResult(t,i),splitToAllowedParent:(t,i)=>this._splitToAllowedParent(t,i),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=OK(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=Mc.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),r=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const o of Array.from(this._modelCursor.parent.getChildren()))t.append(o,r);r.markers=IK(r,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof ue))throw new L("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:Se._createAt(t,0);const s=new ue(i);for(const r of Array.from(e.getChildren())){const o=this._convertItem(r,i);o.modelRange instanceof ue&&(s.end=o.modelRange.end,i=o.modelCursor)}return{modelRange:s,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return i?(this.conversionApi.writer.insert(e,i.position),!0):!1}_updateConversionResult(e,t){const i=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(i[i.length-1])));const r=this._cursorParents.get(e);r?t.modelCursor=s.createPositionAt(r,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:s}=this.conversionApi;let r=i.findAllowedParent(t,e);if(r){if(r===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return BP(t,e,i)?{position:$P(t,s)}:null;const o=this.conversionApi.writer.split(t,r),a=[];for(const c of o.range.getWalker())if(c.type=="elementEnd")a.push(c.item);else{const u=a.pop(),d=c.item;this._registerSplitPair(u,d)}const l=o.range.end.parent;return this._cursorParents.set(e,l),{position:o.position,cursorParent:l}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function IK(n,e){const t=new Set,i=new Map,s=ue._createIn(n).getItems();for(const r of s)r.is("element","$marker")&&t.add(r);for(const r of t){const o=r.getAttribute("data-name"),a=e.createPositionBefore(r);i.has(o)?i.get(o).end=a.clone():i.set(o,new ue(a.clone())),e.remove(r)}return i}function OK(n,e){let t;for(const i of new Ho(n)){const s={};for(const o of i.getAttributeKeys())s[o]=i.getAttribute(o);const r=e.createElement(i.name,s);t&&e.insert(r,t),t=Se._createAt(r,0)}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RK{getHtml(e){const i=document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WP{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new yP(e,{renderingMode:"data"}),this.htmlWriter=new RK}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);return i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MK extends Vt(){constructor(e,t){super(),this.model=e,this.mapper=new EP,this.downcastDispatcher=new TP({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",PP(),{priority:"lowest"}),this.downcastDispatcher.on("insert",IP(),{priority:"lowest"}),this.upcastDispatcher=new PK({schema:e.schema}),this.viewDocument=new fP(t),this.stylesProcessor=t,this.htmlProcessor=new WP(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new mP(this.viewDocument),this.upcastDispatcher.on("text",jq(),{priority:"lowest"}),this.upcastDispatcher.on("element",h1(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",h1(),{priority:"lowest"}),Bt().prototype.decorate.call(this,"init"),Bt().prototype.decorate.call(this,"set"),Bt().prototype.decorate.call(this,"get"),Bt().prototype.decorate.call(this,"toView"),Bt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},LP)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new L("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||Jt("datacontroller-get-detached-root",this),i==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const r=ue._createIn(e),o=new zo(i);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:DK(e);return this.downcastDispatcher.convert(r,a,s,t),o}init(e){if(this.model.document.version)throw new L("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new L("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const s of Object.keys(t)){const r=this.model.document.getRoot(s);i.insert(this.parse(t[s],r),r,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new L("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const r of Object.keys(i)){const o=this.model.document.getRoot(r);s.remove(s.createRangeIn(o)),s.insert(this.parse(i[r],o),o,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function DK(n){const e=[],t=n.root.document;if(!t)return new Map;const i=ue._createIn(n);for(const s of t.model.markers){const r=s.getRange(),o=r.isCollapsed,a=r.start.isEqual(i.start)||r.end.isEqual(i.end);if(o&&a)e.push([s.name,r]);else{const l=i.getIntersection(r);l&&e.push([s.name,l])}}return e.sort(([s,r],[o,a])=>{if(r.end.compareWith(a.start)!=="after")return 1;if(r.start.compareWith(a.end)!=="before")return-1;switch(r.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(s)}}}),new Map(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FK{constructor(e,t){this._helpers=new Map,this._downcast=jn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=jn(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new L("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new L("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of ap(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of ap(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of ap(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new L("conversion-group-exists",this);const s=i?new fq(t):new Wq(t);this._helpers.set(e,s)}}function*ap(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],s=n.upcastAlso?n.upcastAlso[e]:void 0;yield*b1(t,i,s)}else yield*b1(n.model,n.view,n.upcastAlso)}function*b1(n,e,t){if(yield{model:n,view:e},t)for(const i of jn(t))yield{model:n,view:i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hi{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cy(n,e){const t=qP(e),i=t.reduce((o,a)=>o+a.offsetSize,0),s=n.parent;mu(n);const r=n.index;return s._insertChild(r,t),hu(s,r+t.length),hu(s,r),new ue(n,n.getShiftedBy(i))}function jP(n){if(!n.isFlat)throw new L("operation-utils-remove-range-not-flat",this);const e=n.start.parent;mu(n.start),mu(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return hu(e,n.start.index),t}function fu(n,e){if(!n.isFlat)throw new L("operation-utils-move-range-not-flat",this);const t=jP(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),cy(e,t)}function NK(n,e,t){mu(n.start),mu(n.end);for(const i of n.getItems({shallow:!0})){const s=i.is("$textProxy")?i.textNode:i;t!==null?s._setAttribute(e,t):s._removeAttribute(e),hu(s.parent,s.index)}hu(n.end.parent,n.end.index)}function qP(n){const e=[];function t(i){if(typeof i=="string")e.push(new Qt(i));else if(i instanceof ds)e.push(new Qt(i.data,i.getAttributes()));else if(i instanceof va)e.push(i);else if(zi(i))for(const s of i)t(s)}t(n);for(let i=1;i<e.length;i++){const s=e[i],r=e[i-1];s instanceof Qt&&r instanceof Qt&&KP(s,r)&&(e.splice(i-1,2,new Qt(r.data+s.data,r.getAttributes())),i--)}return e}function hu(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&KP(t,i)){const s=new Qt(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,s)}}function mu(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const r=new Qt(e.data.substr(0,i),e.getAttributes()),o=new Qt(e.data.substr(i),e.getAttributes());t._insertChild(s,[r,o])}}function KP(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;i.next()}return i.next().done}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rt extends Hi{constructor(e,t,i,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new Rt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Rt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,s=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new L("move-operation-nodes-do-not-exist",this);if(e===t&&i<s&&s<i+this.howMany)throw new L("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ci(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=i&&this.targetPosition.path[r]<i+this.howMany)throw new L("move-operation-node-into-itself",this)}}_execute(){fu(ue._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=Se.fromJSON(e.sourcePosition,t),s=Se.fromJSON(e.targetPosition,t);return new this(i,e.howMany,s,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nn extends Hi{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Oc(qP(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new Oc([...this.nodes].map(i=>i._clone(!0))),t=new Nn(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Se(e,[0]);return new Rt(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new L("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Oc([...e].map(t=>t._clone(!0))),cy(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const r of e.nodes)r.name?i.push(Gt.fromJSON(r)):i.push(Qt.fromJSON(r));const s=new Nn(Se.fromJSON(e.position,t),i,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nt extends Hi{constructor(e,t,i,s,r){super(r),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Se(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ue(this.splitPosition,e)}clone(){return new Nt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Se(e,[0]);return new an(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new L("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new L("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new L("split-operation-graveyard-position-invalid",this)}else throw new L("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)fu(ue._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();cy(this.insertionPosition,i)}const t=new ue(Se._createAt(e,this.splitPosition.offset),Se._createAt(e,e.maxOffset));fu(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Se(e.root,t,"toPrevious")}static fromJSON(e,t){const i=Se.fromJSON(e.splitPosition,t),s=Se.fromJSON(e.insertionPosition,t),r=e.graveyardPosition?Se.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,s,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class an extends Hi{constructor(e,t,i,s,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new Se(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ue(this.sourcePosition,e)}clone(){return new an(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new Se(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Nt(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new L("merge-operation-how-many-invalid",this)}else throw new L("merge-operation-target-position-invalid",this);else throw new L("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=ue._createIn(e);fu(t,this.targetPosition),fu(ue._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=Se.fromJSON(e.sourcePosition,t),s=Se.fromJSON(e.targetPosition,t),r=Se.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,s,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ki extends Hi{constructor(e,t,i,s,r,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=r,this._markers=s}get type(){return"marker"}clone(){return new ki(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ki(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new ki(e.name,e.oldRange?ue.fromJSON(e.oldRange,t):null,e.newRange?ue.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pn extends Hi{constructor(e,t,i,s,r){super(r),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new pn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new pn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new L("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!cl(e.getAttribute(this.key),this.oldValue))throw new L("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new L("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){cl(this.oldValue,this.newValue)||NK(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new pn(ue.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cn extends Hi{get type(){return"noop"}clone(){return new Cn(this.baseVersion)}getReversed(){return new Cn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Si extends Hi{constructor(e,t,i,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}clone(){return new Si(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Si(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof Gt){if(e.name!==this.oldName)throw new L("rename-operation-wrong-name",this)}else throw new L("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Si(Se.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mr extends Hi{constructor(e,t,i,s,r){super(r),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new mr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new mr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new L("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new L("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new L("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new L("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new mr(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hs extends Hi{constructor(e,t,i,s,r){if(super(r),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=s,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}clone(){return new Hs(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Hs(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const e=this._document.getRoot(this.rootName);if(e.isAttached()&&this.isAdd)throw new L("root-operation-root-attached",this);if(!e.isAttached()&&!this.isAdd)throw new L("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Hs(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const rs={};rs[pn.className]=pn;rs[Nn.className]=Nn;rs[ki.className]=ki;rs[Rt.className]=Rt;rs[Cn.className]=Cn;rs[Hi.className]=Hi;rs[Si.className]=Si;rs[mr.className]=mr;rs[Hs.className]=Hs;rs[Nt.className]=Nt;rs[an.className]=an;class LK{static fromJSON(e,t){return rs[e.__className].fromJSON(e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Kg=new Map;function xt(n,e,t){let i=Kg.get(n);i||(i=new Map,Kg.set(n,i)),i.set(e,t)}function BK(n,e){const t=Kg.get(n);return t&&t.has(e)?t.get(e):$K}function $K(n){return[n]}function y1(n,e,t={}){const i=BK(n.constructor,e.constructor);try{return n=n.clone(),i(n,e,t)}catch(s){throw s}}function VK(n,e,t){n=n.slice(),e=e.slice();const i=new UK(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const s=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:s};const r=new WeakMap;for(const l of n)r.set(l,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let a=0;for(;a<n.length;){const l=n[a],c=r.get(l);if(c==e.length){a++;continue}const u=e[c],d=y1(l,u,i.getContext(l,u,!0)),f=y1(u,l,i.getContext(u,l,!1));i.updateRelation(l,u),i.setOriginalOperations(d,l),i.setOriginalOperations(f,u);for(const h of d)r.set(h,c+f.length);n.splice(a,1,...d),e.splice(c,1,...f)}if(t.padWithNoOps){const l=n.length-o.originalOperationsACount,c=e.length-o.originalOperationsBCount;_1(n,c-l),_1(e,l-c)}return w1(n,o.nextBaseVersionB),w1(e,o.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:s}}class UK{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,i||s)}updateRelation(e,t){if(e instanceof Rt)t instanceof an?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Rt&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Nt){if(t instanceof an)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Rt)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=ue._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const s=i.end.offset-e.splitPosition.offset,r=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:s,offset:r})}}}else if(e instanceof an)t instanceof an?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Nt&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof ki){const i=e.newRange;if(!i)return;if(t instanceof Rt){const s=ue._createFromPositionAndShift(t.sourcePosition,t.howMany),r=s.containsPosition(i.start)||s.start.isEqual(i.start),o=s.containsPosition(i.end)||s.end.isEqual(i.end);(r||o)&&!s.containsRange(i)&&this._setRelation(e,t,{side:r?"left":"right",path:r?i.start.path.slice():i.end.path.slice()})}else if(t instanceof an){const s=i.start.isEqual(t.targetPosition),r=i.start.isEqual(t.deletionPosition),o=i.end.isEqual(t.deletionPosition),a=i.end.isEqual(t.sourcePosition);(s||r||o||a)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),s=this._history.getUndoneOperation(i);if(!s)return null;const r=this.originalOperations.get(e),o=this._relations.get(r);return o&&o.get(s)||null}_setRelation(e,t,i){const s=this.originalOperations.get(e),r=this.originalOperations.get(t);let o=this._relations.get(s);o||(o=new Map,this._relations.set(s,o)),o.set(r,i)}}function w1(n,e){for(const t of n)t.baseVersion=e++}function _1(n,e){for(let t=0;t<e;t++)n.push(new Cn(0))}xt(pn,pn,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(r=>new pn(r,n.key,n.oldValue,n.newValue,0)),s=n.range.getIntersection(e.range);return s&&t.aIsStrong&&i.push(new pn(s,e.key,e.newValue,n.newValue,0)),i.length==0?[new Cn(0)]:i}else return[n]});xt(pn,Nn,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const i=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new pn(s,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const s=GP(e,n.key,n.oldValue);s&&i.unshift(s)}return i}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]});function GP(n,e,t){const s=n.nodes.getNode(0).getAttribute(e);if(s==t)return null;const r=new ue(n.position,n.position.getShiftedBy(n.howMany));return new pn(r,e,s,t,0)}xt(pn,an,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(ue._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(s=>new pn(s,n.key,n.oldValue,n.newValue,n.baseVersion))});xt(pn,Rt,(n,e)=>zK(n.range,e).map(i=>new pn(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function zK(n,e){const t=ue._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,s=[];t.containsRange(n,!0)?i=n:n.start.hasSameParentAs(t.start)?(s=n.getDifference(t),i=n.getIntersection(t)):s=[n];const r=[];for(let o of s){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),l=o.start.hasSameParentAs(a),c=o._getTransformedByInsertion(a,e.howMany,l);r.push(...c)}return i&&r.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),r}xt(pn,Nt,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new ue(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]});xt(Nn,pn,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=GP(n,e.key,e.newValue);i&&t.push(i)}return t});xt(Nn,Nn,(n,e,t)=>n.position.isEqual(e.position)&&t.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(e),[n]));xt(Nn,Rt,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));xt(Nn,Nt,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n]));xt(Nn,an,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n]));xt(ki,Nn,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n]));xt(ki,ki,(n,e,t)=>{if(n.name==e.name)if(t.aIsStrong)n.oldRange=e.newRange?e.newRange.clone():null;else return[new Cn(0)];return[n]});xt(ki,an,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n]));xt(ki,Rt,(n,e,t)=>{if(n.oldRange&&(n.oldRange=ue._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){if(t.abRelation){const i=ue._createFromRanges(n.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(n.newRange.start))return n.newRange.end=i.end,n.newRange.start.path=t.abRelation.path,[n];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(n.newRange.end))return n.newRange.start=i.start,n.newRange.end.path=t.abRelation.path,[n]}n.newRange=ue._createFromRanges(n.newRange._getTransformedByMoveOperation(e))}return[n]});xt(ki,Nt,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?n.newRange.start=Se._createAt(e.insertionPosition):n.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(n.newRange.start=Se._createAt(e.moveTargetPosition)),n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?n.newRange.end=Se._createAt(e.moveTargetPosition):n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=Se._createAt(e.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]});xt(an,Nn,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n]));xt(an,an,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new Se(e.graveyardPosition.root,i),n.howMany=0,[n]}else return[new Cn(0)];if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),c=n.targetPosition._getTransformedByMergeOperation(e);return[new Rt(l,n.howMany,c,0)]}else return[new Cn(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),(!n.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});xt(an,Rt,(n,e,t)=>{const i=ue._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new Cn(0)]:(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])});xt(an,Nt,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,s=e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition);if(i||s||t.abRelation=="mergeTargetNotMoved")return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n]}if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]});xt(Rt,Nn,(n,e)=>{const i=ue._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]});xt(Rt,Rt,(n,e,t)=>{const i=ue._createFromPositionAndShift(n.sourcePosition,n.howMany),s=ue._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(e.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),C1(n,e)&&C1(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(s,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Qa([i],a);if(s.containsPosition(n.targetPosition)&&s.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Qa([i],a);const u=ci(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(u=="prefix"||u=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Qa([i],a);n.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?r=!0:n.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(r=!1);const d=[],f=i.getDifference(s);for(const p of f){p.start=p.start._getTransformedByDeletion(e.sourcePosition,e.howMany),p.end=p.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const m=ci(p.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",b=p._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,m);d.push(...b)}const h=i.getIntersection(s);return h!==null&&r&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.length===0?d.push(h):d.length==1?s.start.isBefore(i.start)||s.start.isEqual(i.start)?d.unshift(h):d.push(h):d.splice(1,0,h)),d.length===0?[new Cn(n.baseVersion)]:Qa(d,a)});xt(Rt,Nt,(n,e,t)=>{let i=n.targetPosition.clone();(!n.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(e));const s=ue._createFromPositionAndShift(n.sourcePosition,n.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let a=new ue(e.splitPosition,s.end);a=a._getTransformedBySplitOperation(e);const l=[new ue(s.start,e.splitPosition),a];return Qa(l,i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const o=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);n.howMany>1&&a&&!t.aWasUndone&&o.push(ue._createFromPositionAndShift(e.insertionPosition,1))}return Qa(o,i)});xt(Rt,an,(n,e,t)=>{const i=ue._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);n.howMany>1&&(o.push(new Rt(n.sourcePosition,n.howMany-1,n.targetPosition,0)),a=a._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));const c=e.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),u=new Rt(a,1,c,0),d=u.getMovedRangeStart().path.slice();d.push(0);const f=new Se(u.targetPosition.root,d);l=l._getTransformedByMove(a,c,1);const h=new Rt(l,e.howMany,f,0);return o.push(u),o.push(h),o}}else if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new Cn(0)]}const r=ue._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]});xt(Si,Nn,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n]));xt(Si,an,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n]));xt(Si,Rt,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));xt(Si,Si,(n,e,t)=>{if(n.position.isEqual(e.position))if(t.aIsStrong)n.oldName=e.newName;else return[new Cn(0)];return[n]});xt(Si,Nt,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if(ci(t,i)=="same"&&!e.graveyardPosition){const s=new Si(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,s]}return n.position=n.position._getTransformedBySplitOperation(e),[n]});xt(mr,mr,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new Cn(0)];n.oldValue=e.newValue}return[n]});xt(Hs,Hs,(n,e,t)=>n.rootName===e.rootName&&n.isAdd===e.isAdd&&!t.bWasUndone?[new Cn(0)]:[n]);xt(Nt,Nn,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n]));xt(Nt,an,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const s=new Se(e.graveyardPosition.root,i),r=Nt.getInsertionPosition(new Se(e.graveyardPosition.root,i)),o=new Nt(s,0,r,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});xt(Nt,Rt,(n,e,t)=>{const i=ue._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const r=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&r){const o=n.splitPosition._getTransformedByMoveOperation(e),a=n.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);const c=new Se(a.root,l);return[new Rt(o,n.howMany,c,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const s=n.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),[n];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:r,offset:o}=t.abRelation;return n.howMany+=r,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const r=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=r,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),[n]});xt(Nt,Nt,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new Cn(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new Cn(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new Rt(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&l.push(new Rt(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new Cn(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const s=new Se(e.insertionPosition.root,i),r=new Rt(n.insertionPosition,1,s,0);return[n,r]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),[n]});function C1(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Qa(n,e){const t=[];for(let i=0;i<n.length;i++){const s=n[i],r=new Rt(s.start,s.end.offset-s.start.offset,e,0);t.push(r);for(let o=i+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vi extends Vt(Se){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new L("model-liveposition-root-not-rootelement",e);HK.call(this)}detach(){this.stopListening()}toPosition(){return new Se(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}vi.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function HK(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&WK.call(this,t)},{priority:"low"})}function WK(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ia{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Jt("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:s=!1,isTyping:r=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=s,this.isTyping=r}get type(){return Jt("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jK{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=ue._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const r=s.getData();this.bufferMarkerChange(s.name,r,r)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const r=t.targetPosition.parent;this._isInInsertedElement(r)||this._markInsert(r,t.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){const s=this._changedMarkers.get(e);s?(s.newMarkerData=i,s.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:i,oldMarkerData:t})}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,s=!e.range&&t.range,r=e.range&&t.range&&!e.range.isEqual(t.range);if(i||s||r)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const s=this._changesInElement.get(i).sort((u,d)=>u.offset===d.offset?u.type!=d.type?u.type=="remove"?-1:1:0:u.offset<d.offset?-1:1),r=this._elementSnapshots.get(i),o=k1(i.getChildren()),a=qK(r.length,s);let l=0,c=0;for(const u of a)if(u==="i")t.push(this._getInsertDiff(i,l,o[l])),l++;else if(u==="r")t.push(this._getRemoveDiff(i,l,r[c])),c++;else if(u==="a"){const d=o[l].attributes,f=r[c].attributes;let h;if(o[l].name=="$text")h=new ue(Se._createAt(i,l),Se._createAt(i,l+1));else{const p=i.offsetToIndex(l);h=new ue(Se._createAt(i,l),Se._createAt(i.getChild(p),0))}t.push(...this._getAttributesDiff(h,f,d)),l++,c++}else l++,c++}t.sort((i,s)=>i.position.root!=s.position.root?i.position.root.rootName<s.position.root.rootName?-1:1:i.position.isEqual(s.position)?i.changeCount-s.changeCount:i.position.isBefore(s.position)?-1:1);for(let i=1,s=0;i<t.length;i++){const r=t[s],o=t[i],a=r.type=="remove"&&o.type=="remove"&&r.name=="$text"&&o.name=="$text"&&r.position.isEqual(o.position),l=r.type=="insert"&&o.type=="insert"&&r.name=="$text"&&o.name=="$text"&&r.position.parent==o.position.parent&&r.position.offset+r.length==o.position.offset,c=r.type=="attribute"&&o.type=="attribute"&&r.position.parent==o.position.parent&&r.range.isFlat&&o.range.isFlat&&r.position.offset+r.length==o.position.offset&&r.attributeKey==o.attributeKey&&r.attributeOldValue==o.attributeOldValue&&r.attributeNewValue==o.attributeNewValue;a||l||c?(r.length++,c&&(r.range.end=r.range.end.getShiftedBy(1)),t[i]=null):s=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(KK),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,s){const r=this._changedRoots.get(e)||{name:e},o=r.attributes||{};if(o[t]){const a=o[t];s===a.oldValue?delete o[t]:a.newValue=s}else o[t]={oldValue:i,newValue:s};Object.entries(o).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(e)):(r.attributes=o,this._changedRoots.set(e,r))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=ue._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._cachedChanges=null}_markInsert(e,t,i){const s={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,i){const s={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let s=0;s<i.length;s++)i[s].howMany<1&&(i.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,k1(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const s=e.offset+e.howMany,r=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<r&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<r){const o=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:s,howMany:o-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(s<=i.offset)i.offset-=e.howMany;else if(s<=r)if(e.offset<i.offset){const o=s-i.offset;i.offset=e.offset,i.howMany-=o,e.nodesToHandle-=o}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<r){const o=r-e.offset;i.howMany-=o,e.nodesToHandle-=o}}if(i.type=="remove"&&(s<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(s<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const o=s-i.offset;i.offset=e.offset,i.howMany-=o}else if(e.offset<r)if(s<=r){const o=i.howMany;i.howMany=e.offset-i.offset;const a=o-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else i.howMany-=r-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&s>i.offset){if(s>r){const o={type:"attribute",offset:r,howMany:s-r,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<r&&(s>r?(e.nodesToHandle=s-r,e.offset=r):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&s>i.offset){const o={type:"attribute",offset:i.offset,howMany:s-i.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&s<=r?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&s>=r&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:Se._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,i){return{type:"remove",position:Se._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const s=[];i=new Map(i);for(const[r,o]of t){const a=i.has(r)?i.get(r):null;a!==o&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(r)}for(const[r,o]of i)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),s=e.startOffset;if(i){for(const r of i)if(r.type=="insert"&&s>=r.offset&&s<r.offset+r.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const s=new ue(Se._createAt(e,t),Se._createAt(e,t+i));for(const r of s.getItems({shallow:!0}))r.is("element")&&(this._elementSnapshots.delete(r),this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}}function k1(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function qK(n,e){const t=[];let i=0,s=0;for(const r of e){if(r.offset>i){for(let o=0;o<r.offset-i;o++)t.push("e");s+=r.offset-i}if(r.type=="insert"){for(let o=0;o<r.howMany;o++)t.push("i");i=r.offset+r.howMany}else if(r.type=="remove"){for(let o=0;o<r.howMany;o++)t.push("r");i=r.offset,s+=r.howMany}else t.push(..."a".repeat(r.howMany).split("")),i=r.offset+r.howMany,s+=r.howMany}if(s<n)for(let r=0;r<n-s-i;r++)t.push("e");return t}function KK(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class GK{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new L("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let s=t-1;for(const[a,l]of this._gaps)e>a&&e<l&&(e=l),s>a&&s<l&&(s=a-1);if(s<i.baseVersion||e>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(e);r===void 0&&(r=0);let o=this._baseVersionToOperationIndex.get(s);return o===void 0&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tf extends Gt{constructor(e,t,i="main"){super(t),this._isAttached=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Tf.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const lp="$graveyard";class QK extends Vt(){constructor(e){super(),this.model=e,this.history=new GK,this.selection=new gs(this),this.roots=new ys({idProperty:"rootName"}),this.differ=new jK(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",lp),this.listenTo(e,"applyOperation",(t,i)=>{const s=i[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const s=i[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,s,r,o)=>{const a={...i.getData(),range:r};this.differ.bufferMarkerChange(i.name,o,a),s===null&&i.on("change",(l,c)=>{const u=i.getData();this.differ.bufferMarkerChange(i.name,{...u,range:c},u)})}),this.registerPostFixer(t=>{let i=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(t.remove(t.createRangeIn(s)),i=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(lp)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new L("model-document-createroot-name-exists",this,{name:t});const i=new Tf(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return Array.from(this.roots).filter(t=>t.rootName!=lp&&(e||t.isAttached())).map(t=>t.rootName)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=IT(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,s=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return S1(e.start)&&S1(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function S1(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!Jb(t,i)&&!Xb(t,i)}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YK extends Vt(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Ua?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,s=!1){const r=e instanceof Ua?e.name:e;if(r.includes(","))throw new L("markercollection-incorrect-marker-name",this);const o=this._markers.get(r);if(o){const c=o.getData(),u=o.getRange();let d=!1;return u.isEqual(t)||(o._attachLiveRange(Gs.fromRange(t)),d=!0),i!=o.managedUsingOperations&&(o._managedUsingOperations=i,d=!0),typeof s=="boolean"&&s!=o.affectsData&&(o._affectsData=s,d=!0),d&&this.fire(`update:${r}`,o,u,t,c),o}const a=Gs.fromRange(t),l=new Ua(r,a,i,s);return this._markers.set(r,l),this.fire(`update:${r}`,l,null,t,{...l.getData(),range:null}),l}_remove(e){const t=e instanceof Ua?e.name:e,i=this._markers.get(t);return i?(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0):!1}_refresh(e){const t=e instanceof Ua?e.name:e,i=this._markers.get(t);if(!i)throw new L("markercollection-refresh-marker-not-exists",this);const s=i.getRange();this.fire(`update:${t}`,i,s,s,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ua extends Vt(fo){constructor(e,t,i,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ua.prototype.is=function(n){return n==="marker"||n==="model:marker"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class JK extends Hi{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new L("detach-operation-on-document-node",this)}_execute(){jP(ue._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ur extends fo{constructor(e){super(),this.markers=new Map,this._children=new Oc,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(Gt.fromJSON(i)):t.push(Qt.fromJSON(i));return new ur(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=XK(t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const s of i)s.parent=null;return i}}ur.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function XK(n){return typeof n=="string"?[new Qt(n)]:(zi(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Qt(e):e instanceof ds?new Qt(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ZK{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Qt(e,t)}createElement(e,t){return new Gt(e,t)}createDocumentFragment(){return new ur}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof Qt&&e.data=="")return;const s=Se._createAt(t,i);if(e.parent)if(A1(e.root,s.root)){this.move(ue._createOn(e),s);return}else{if(e.root.document)throw new L("model-writer-insert-forbidden-move",this);this.remove(e)}const r=s.root.document?s.root.document.version:null,o=new Nn(s,e,r);if(e instanceof Qt&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof ur)for(const[a,l]of e.markers){const c=Se._createAt(l.root,0),d={range:new ue(l.start._getCombined(c,s),l.end._getCombined(c,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,d):this.addMarker(a,d)}}insertText(e,t,i,s){t instanceof ur||t instanceof Gt||t instanceof Se?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,s)}insertElement(e,t,i,s){t instanceof ur||t instanceof Gt||t instanceof Se?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof ur||t instanceof Gt?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof ur||t instanceof Gt?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof ue){const s=i.getMinimalFlatRanges();for(const r of s)E1(this,e,t,r)}else T1(this,e,t,i)}setAttributes(e,t){for(const[i,s]of yr(e))this.setAttribute(i,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof ue){const i=t.getMinimalFlatRanges();for(const s of i)E1(this,e,null,s)}else T1(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const s of i.getAttributeKeys())this.removeAttribute(s,i)};if(!(e instanceof ue))t(e);else for(const i of e.getItems())t(i)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof ue))throw new L("writer-move-invalid-range",this);if(!e.isFlat)throw new L("writer-move-range-not-flat",this);const s=Se._createAt(t,i);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!A1(e.root,s.root))throw new L("writer-move-different-document",this);const r=e.root.document?e.root.document.version:null,o=new Rt(e.start,e.end.offset-e.start.offset,s,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof ue?e:ue._createOn(e)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),eG(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Gt))throw new L("writer-merge-no-element-before",this);if(!(i instanceof Gt))throw new L("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(ue._createIn(i),Se._createAt(t,"end")),this.remove(i)}_merge(e){const t=Se._createAt(e.nodeBefore,"end"),i=Se._createAt(e.nodeAfter,0),s=e.root.document.graveyard,r=new Se(s,[0]),o=e.root.document.version,a=new an(i,e.nodeAfter.maxOffset,t,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Gt))throw new L("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,s=new Si(Se._createBefore(e),e.name,t,i);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let i=e.parent;if(!i.parent)throw new L("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new L("writer-split-invalid-limit-element",this);let s,r;do{const o=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,l=Nt.getInsertionPosition(e),c=new Nt(e,a,l,null,o);this.batch.addOperation(c),this.model.applyOperation(c),!s&&!r&&(s=i,r=e.parent.nextSibling),e=this.createPositionAfter(e.parent),i=e.parent}while(i!==t);return{position:e,range:new ue(Se._createAt(s,"end"),Se._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new L("writer-wrap-range-not-flat",this);const i=t instanceof Gt?t:new Gt(t);if(i.childCount>0)throw new L("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new L("writer-wrap-element-attached",this);this.insert(i,e.start);const s=new ue(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,Se._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new L("writer-unwrap-element-no-parent",this);this.move(ue._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new L("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,s=t.range,r=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new L("writer-addmarker-marker-exists",this);if(!s)throw new L("writer-addmarker-no-range",this);return i?(lc(this,e,null,s,r),this.model.markers.get(e)):this.model.markers._set(e,s,i,r)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new L("writer-updatemarker-marker-not-exists",this);if(!t){Jt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(s);return}const r=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",a=o?t.affectsData:s.affectsData;if(!r&&!t.range&&!o)throw new L("writer-updatemarker-wrong-options",this);const l=s.getRange(),c=t.range?t.range:l;if(r&&t.usingOperation!==s.managedUsingOperations){t.usingOperation?lc(this,i,null,c,a):(lc(this,i,l,null,a),this.model.markers._set(i,c,void 0,a));return}s.managedUsingOperations?lc(this,i,l,c,a):this.model.markers._set(i,c,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new L("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations){this.model.markers._remove(t);return}const s=i.getRange();lc(this,t,s,null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new L("writer-addroot-root-exists",this);const s=this.model.document,r=new Hs(e,t,!0,s,s.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new L("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===t&&this.removeMarker(r);for(const r of t.getAttributeKeys())this.removeAttribute(r,t);this.remove(this.createRangeIn(t));const i=this.model.document,s=new Hs(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,s]of yr(e))this._setSelectionAttribute(i,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=gs._getStoreAttributeKey(e);this.setAttribute(s,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=gs._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new L("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const s=i.getRange();let r=!1;if(e==="move"){const o=t;r=o.containsPosition(s.start)||o.start.isEqual(s.start)||o.containsPosition(s.end)||o.end.isEqual(s.end)}else{const o=t,a=o.nodeBefore,l=o.nodeAfter,c=s.start.parent==a&&s.start.isAtEnd,u=s.end.parent==l&&s.end.offset==0,d=s.end.nodeAfter==l,f=s.start.nodeAfter==l;r=c||u||d||f}r&&this.updateMarker(i.name,{range:s})}}}function E1(n,e,t,i){const s=n.model,r=s.document;let o=i.start,a,l,c;for(const d of i.getWalker({shallow:!0}))c=d.item.getAttribute(e),a&&l!=c&&(l!=t&&u(),o=a),a=d.nextPosition,l=c;a instanceof Se&&a!=o&&l!=t&&u();function u(){const d=new ue(o,a),f=d.root.document?r.version:null,h=new pn(d,e,l,t,f);n.batch.addOperation(h),s.applyOperation(h)}}function T1(n,e,t,i){const s=n.model,r=s.document,o=i.getAttribute(e);let a,l;if(o!=t){if(i.root===i){const u=i.document?r.version:null;l=new mr(i,e,o,t,u)}else{a=new ue(Se._createBefore(i),n.createPositionAfter(i));const u=a.root.document?r.version:null;l=new pn(a,e,o,t,u)}n.batch.addOperation(l),s.applyOperation(l)}}function lc(n,e,t,i,s){const r=n.model,o=r.document,a=new ki(e,t,i,r.markers,!!s,o.version);n.batch.addOperation(a),r.applyOperation(a)}function eG(n,e,t,i){let s;if(n.root.document){const r=i.document,o=new Se(r.graveyard,[0]);s=new Rt(n,e,o,r.version)}else s=new JK(n,e);t.addOperation(s),i.applyOperation(s)}function A1(n,e){return n===e||n instanceof Tf&&e instanceof Tf}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tG(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const s=n.schema;n.change(r=>{if(!t.doNotResetEntireContent&&uG(s,e)){cG(r,e);return}const o={};if(!t.doNotAutoparagraph){const c=e.getSelectedElement();c&&Object.assign(o,s.getAttributesWithProperty(c,"copyOnReplace",!0))}const[a,l]=nG(i);a.isTouching(l)||r.remove(r.createRange(a,l)),t.leaveUnmerged||(sG(r,a,l),s.removeDisallowedAttributes(a.parent.getChildren(),r)),XP(r,e,a),!t.doNotAutoparagraph&&aG(s,a)&&JP(r,a,e,o),a.detach(),l.detach()})}function nG(n){const e=n.root.document.model,t=n.start;let i=n.end;if(e.hasContent(n,{ignoreMarkers:!0})){const s=iG(i);if(s&&i.isTouching(e.createPositionAt(s,0))){const r=e.createSelection(n);e.modifySelection(r,{direction:"backward"});const o=r.getLastPosition(),a=e.createRange(o,i);e.hasContent(a,{ignoreMarkers:!0})||(i=o)}}return[vi.fromPosition(t,"toPrevious"),vi.fromPosition(i,"toNext")]}function iG(n){const e=n.parent,t=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of i){if(t.isLimit(s))return null;if(t.isBlock(s))return s}}function sG(n,e,t){const i=n.model;if(!uy(n.model.schema,e,t))return;const[s,r]=oG(e,t);!s||!r||(!i.hasContent(s,{ignoreMarkers:!0})&&i.hasContent(r,{ignoreMarkers:!0})?YP(n,e,t,s.parent):QP(n,e,t,s.parent))}function QP(n,e,t,i){const s=e.parent,r=t.parent;if(!(s==i||r==i)){for(e=n.createPositionAfter(s),t=n.createPositionBefore(r),t.isEqual(e)||n.insert(r,e),n.merge(e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}uy(n.model.schema,e,t)&&QP(n,e,t,i)}}function YP(n,e,t,i){const s=e.parent,r=t.parent;if(!(s==i||r==i)){for(e=n.createPositionAfter(s),t=n.createPositionBefore(r),t.isEqual(e)||n.insert(s,t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}t=n.createPositionBefore(r),rG(n,t),uy(n.model.schema,e,t)&&YP(n,e,t,i)}}function rG(n,e){const t=e.nodeBefore,i=e.nodeAfter;t.name!=i.name&&n.rename(t,i.name),n.clearAttributes(t),n.setAttributes(Object.fromEntries(i.getAttributes()),t),n.merge(e)}function uy(n,e,t){const i=e.parent,s=t.parent;return i==s||n.isLimit(i)||n.isLimit(s)?!1:lG(e,t,n)}function oG(n,e){const t=n.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]&&t[s]==i[s];)s++;return[t[s],i[s]]}function aG(n,e){const t=n.checkChild(e,"$text"),i=n.checkChild(e,"paragraph");return!t&&i}function lG(n,e,t){const i=new ue(n,e);for(const s of i.getWalker())if(t.isLimit(s.item))return!1;return!0}function JP(n,e,t,i={}){const s=n.createElement("paragraph");n.model.schema.setAllowedAttributes(s,i,n),n.insert(s,e),XP(n,t,n.createPositionAt(s,0))}function cG(n,e){const t=n.model.schema.getLimitElement(e);n.remove(n.createRangeIn(t)),JP(n,n.createPositionAt(t,0),e)}function uG(n,e){const t=n.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const i=e.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(t,"paragraph")}function XP(n,e,t){e instanceof gs?n.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function dG(n,e){return n.change(t=>{const i=t.createDocumentFragment(),s=e.getFirstRange();if(!s||s.isCollapsed)return i;const r=s.start.root,o=s.start.getCommonPath(s.end),a=r.getNodeByPath(o);let l;s.start.parent==s.end.parent?l=s:l=t.createRange(t.createPositionAt(a,s.start.path[o.length]),t.createPositionAt(a,s.end.path[o.length]+1));const c=l.end.offset-l.start.offset;for(const u of l.getItems({shallow:!0}))u.is("$textProxy")?t.appendText(u.data,u.getAttributes(),i):t.append(t.cloneElement(u,!0),i);if(l!=s){const u=s._getTransformedByMove(l.start,t.createPositionAt(i,0),c)[0],d=t.createRange(t.createPositionAt(i,0),u.start),f=t.createRange(u.end,t.createPositionAt(i,"end"));x1(f,t),x1(d,t)}return i})}function x1(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let s=i;for(;s.parent&&s.isEmpty;){const r=e.createRangeOn(s);s=s.parent,e.remove(r)}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fG(n,e,t){return n.change(i=>{const s=t||n.document.selection;s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});const r=new hG(n,i,s.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const u=[];for(const[d,f]of e.markers){const{start:h,end:p}=f,m=h.isEqual(p);u.push({position:h,name:d,isCollapsed:m},{position:p,name:d,isCollapsed:m})}u.sort(({position:d},{position:f})=>d.isBefore(f)?1:-1);for(const{position:d,name:f,isCollapsed:h}of u){let p=null,m=null;const b=d.parent===e&&d.isAtStart,v=d.parent===e&&d.isAtEnd;!b&&!v?(p=i.createElement("$marker"),i.insert(p,d)):h&&(m=b?"start":"end"),o.push({name:f,element:p,collapsed:m})}}a=e.getChildren()}else a=[e];r.handleNodes(a);let l=r.getSelectionRange();if(e.is("documentFragment")&&o.length){const u=l?Gs.fromRange(l):null,d={};for(let f=o.length-1;f>=0;f--){const{name:h,element:p,collapsed:m}=o[f],b=!d[h];if(b&&(d[h]=[]),p){const v=i.createPositionAt(p,"before");d[h].push(v),i.remove(p)}else{const v=r.getAffectedRange();if(!v){m&&d[h].push(r.position);continue}m?d[h].push(v[m]):d[h].push(b?v.start:v.end)}}for(const[f,[h,p]]of Object.entries(d))h&&p&&h.root===p.root&&i.addMarker(f,{usingOperation:!0,affectsData:!0,range:new ue(h,p)});u&&(l=u.toRange(),u.detach())}/* istanbul ignore else -- @preserve */l&&(s instanceof gs?i.setSelection(l):s.setTo(l));const c=r.getAffectedRange()||n.createRange(s.anchor);return r.destroy(),c})}class hG{constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new L("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ue._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ue(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=vi.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new L("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=vi.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=vi.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Gt)||!this._canMergeLeft(e))return;const t=vi._createBefore(e);t.stickiness="toNext";const i=vi.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=vi._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=vi._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Gt)||!this._canMergeRight(e))return;const t=vi._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new L("insertcontent-invalid-insertion-position",this);this.position=Se._createAt(t.nodeBefore,"end");const i=vi.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=vi._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=vi._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Gt&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Gt&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ZP(n,e,t="auto"){const i=n.getSelectedElement();if(i&&e.schema.isObject(i)&&!e.schema.isInline(i))return t=="before"||t=="after"?e.createRange(e.createPositionAt(i,t)):e.createRangeOn(i);const s=Sn(n.getSelectedBlocks());if(!s)return e.createRange(n.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const r=e.createPositionAfter(s);return n.focus.isTouching(r)?e.createRange(r):e.createRange(e.createPositionBefore(s))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function mG(n,e,t,i={}){if(!n.schema.isObject(e))throw new L("insertobject-element-not-an-object",n,{object:e});const s=t||n.document.selection;let r=s;i.findOptimalPosition&&n.schema.isBlock(e)&&(r=n.createSelection(ZP(s,n,i.findOptimalPosition)));const o=Sn(s.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(l=>{r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});let c=e;const u=r.anchor.parent;!n.schema.checkChild(u,e)&&n.schema.checkChild(u,"paragraph")&&n.schema.checkChild("paragraph",e)&&(c=l.createElement("paragraph"),l.insert(e,c)),n.schema.setAllowedAttributes(c,a,l);const d=n.insertContent(c,r);return d.isCollapsed||i.setSelection&&pG(l,e,i.setSelection,a),d})}function pG(n,e,t,i){const s=n.model;if(t=="on"){n.setSelection(e,"on");return}if(t!="after")throw new L("insertobject-invalid-place-parameter-value",s);let r=e.nextSibling;if(s.schema.isInline(e)){n.setSelection(e,"after");return}!(r&&s.schema.checkChild(r,"$text"))&&s.schema.checkChild(e.parent,"paragraph")&&(r=n.createElement("paragraph"),s.schema.setAllowedAttributes(r,i,n),s.insertContent(r,n.createPositionAfter(e))),r&&n.setSelection(r,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gG=' ,.?!:;"-()';function vG(n,e,t={}){const i=n.schema,s=t.direction!="backward",r=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,a=e.focus,l=new Ls({boundaries:_G(a,s),singleCharacters:!0,direction:s?"forward":"backward"}),c={walker:l,schema:i,isForward:s,unit:r,treatEmojiAsSingleUnit:o};let u;for(;u=l.next();){if(u.done)return;const d=bG(c,u.value);if(d){e instanceof gs?n.change(f=>{f.setSelectionFocus(d)}):e.setFocus(d);return}}}function bG(n,e){const{isForward:t,walker:i,unit:s,schema:r,treatEmojiAsSingleUnit:o}=n,{type:a,item:l,nextPosition:c}=e;if(a=="text")return n.unit==="word"?wG(i,t):yG(i,s,o);if(a==(t?"elementStart":"elementEnd")){if(r.isSelectable(l))return Se._createAt(l,t?"after":"before");if(r.checkChild(c,"$text"))return c}else{if(r.isLimit(l)){i.skip(()=>!0);return}if(r.checkChild(c,"$text"))return c}}function yG(n,e,t){const i=n.position.textNode;if(i){const s=i.data;let r=n.position.offset-i.startOffset;for(;Jb(s,r)||e=="character"&&Xb(s,r)||t&&Gx(s,r);)n.next(),r=n.position.offset-i.startOffset}return n.position}function wG(n,e){let t=n.position.textNode;for(t||(t=e?n.position.nodeAfter:n.position.nodeBefore);t&&t.is("$text");){const i=n.position.offset-t.startOffset;if(kG(t,i,e))t=e?n.position.nodeAfter:n.position.nodeBefore;else{if(CG(t.data,i,e))break;n.next()}}return n.position}function _G(n,e){const t=n.root,i=Se._createAt(t,e?"end":0);return e?new ue(n,i):new ue(i,n)}function CG(n,e,t){const i=e+(t?0:-1);return gG.includes(n.charAt(i))}function kG(n,e,t){return e===(t?n.offsetSize:0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let SG=class extends Bt(){constructor(){super(),this.markers=new YK,this.document=new QK(this),this.schema=new fK,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),iK(this),this.document.registerPostFixer(LP),this.on("insertContent",(e,[t,i])=>{e.return=fG(this,t,i)}),this.on("insertObject",(e,[t,i,s])=>{e.return=mG(this,t,i,s)})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ia,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ia):e instanceof Ia||(e=new Ia(e)):e=new Ia,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...s){const r=P1(t,i);return this.fire("insertContent",[e,r,i,...s])}insertObject(e,t,i,s,...r){const o=P1(t,i);return this.fire("insertObject",[e,o,s,s,...r])}deleteContent(e,t){tG(this,e,t)}modifySelection(e,t){vG(this,e,t)}getSelectedContent(e){return dG(this,e)}hasContent(e,t={}){const i=e instanceof ue?e:ue._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:r=!1}=t;if(!r){for(const o of this.markers.getMarkersIntersectingRange(i))if(o.affectsData)return!0}for(const o of i.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(s){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}createPositionFromPath(e,t,i){return new Se(e,t,i)}createPositionAt(e,t){return Se._createAt(e,t)}createPositionAfter(e){return Se._createAfter(e)}createPositionBefore(e){return Se._createBefore(e)}createRange(e,t){return new ue(e,t)}createRangeIn(e){return ue._createIn(e)}createRangeOn(e){return ue._createOn(e)}createSelection(...e){return new fs(...e)}createBatch(e){return new Ia(e)}createOperationFromJSON(e){return LK.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new ZK(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function P1(n,e){if(n)return n instanceof fs||n instanceof gs?n:n instanceof va?new fs(n,e):new fs(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EG extends uo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dy extends uo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fy{constructor(e){this.document=e}createDocumentFragment(e){return new zo(this.document,e)}createElement(e,t,i){return new ps(this.document,e,t,i)}createText(e){return new Yt(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const s=i.getChildIndex(e);return this.removeChildren(s,1,i),this.insertChild(s,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new ps(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){Di(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Le._createAt(e,t)}createPositionAfter(e){return Le._createAfter(e)}createPositionBefore(e){return Le._createBefore(e)}createRange(e,t){return new ct(e,t)}createRangeOn(e){return ct._createOn(e)}createRangeIn(e){return ct._createIn(e)}createSelection(...e){return new ro(...e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TG{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const i=this.get(e);if(!i)throw new L("commandcollection-command-not-found",this,{commandName:e});return i.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AG extends Tr{constructor(e){super(),this.editor=e}set(e,t,i={}){if(typeof t=="string"){const s=t;t=(r,o)=>{this.editor.execute(s),o()}}super.set(e,t,i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xG extends Bt(){constructor(e={}){super();const t=this.constructor,i=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new sP({language:i}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new Dx(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new iP(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new TG,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new SG;const r=new hj;this.data=new MK(this.model,r),this.editing=new cK(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new FK([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new AG(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new L("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),i=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],r=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),i,r)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(i){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function PG(n){if(!Xo(n.updateSourceElement))throw new L("attachtoform-missing-elementapi-interface",n);const e=n.sourceElement;if(IG(e)&&e.form){let t;const i=e.form,s=()=>n.updateSourceElement();Xo(i.submit)&&(t=i.submit,i.submit=()=>{s(),t.apply(i)}),i.addEventListener("submit",s),n.on("destroy",()=>{i.removeEventListener("submit",s),t&&(i.submit=t)})}}function IG(n){return!!n&&n.tagName.toLowerCase()==="textarea"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jd(n){class e extends n{setData(i){this.data.set(i)}getData(i){return this.data.get(i)}}return e}{const n=jd(Object);jd.setData=n.prototype.setData,jd.getData=n.prototype.getData}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gg(n){class e extends n{updateSourceElement(i=this.data.get()){if(!this.sourceElement)throw new L("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!r){D_(this.sourceElement,"");return}D_(this.sourceElement,i)}}return e}Gg.updateSourceElement=Gg(Object).prototype.updateSourceElement;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Af extends rP{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ys({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new L("pendingactions-add-invalid-message",this);const t=new(Bt());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const OG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',RG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',MG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',DG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',FG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',NG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',LG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',BG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',$G='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',VG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',UG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',zG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',HG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',WG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',jG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',qG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',KG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',GG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',QG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',YG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',JG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',XG='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',ZG='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',eQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',tQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',nQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',iQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',sQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',rQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',oQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',aQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',lQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',cQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',uQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const en={bold:oQ,cancel:OG,caption:RG,check:MG,cog:DG,eraser:FG,image:LG,lowVision:NG,importExport:uQ,paragraph:aQ,plus:lQ,text:cQ,alignBottom:BG,alignMiddle:$G,alignTop:VG,alignLeft:UG,alignCenter:zG,alignRight:HG,alignJustify:WG,objectLeft:YG,objectCenter:qG,objectRight:JG,objectFullWidth:GG,objectInline:QG,objectBlockLeft:jG,objectBlockRight:KG,objectSizeFull:XG,objectSizeLarge:ZG,objectSizeSmall:eQ,objectSizeMedium:tQ,pencil:nQ,pilcrow:iQ,quote:sQ,threeVerticalDots:rQ};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{threeVerticalDots:eI}=en,dQ={alignLeft:en.alignLeft,bold:en.bold,importExport:en.importExport,paragraph:en.paragraph,plus:en.plus,text:en.text,threeVerticalDots:en.threeVerticalDots};class hy extends Ct{constructor(e,t){super(e);const i=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ws,this.keystrokes=new Tr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new fQ(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r=e.uiLanguageDirection==="rtl";this._focusCycler=new Iu({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")}},children:this.children,on:{mousedown:ej(this)}}),this._behavior=this.options.shouldGroupWhenFull?new mQ(this):new hQ(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,i){this.items.addMany(this._buildItemsFromConfig(e,t,i))}_buildItemsFromConfig(e,t,i){const s=nP(e),r=i||s.removeItems;return this._cleanItemsConfiguration(s.items,t,r).map(a=>Xt(a)?this._createNestedToolbarDropdown(a,t,r):a==="|"?new tP:a==="-"?new ZW:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,i){const s=e.filter((r,o,a)=>r==="|"?!0:i.indexOf(r)!==-1?!1:r==="-"?this.options.shouldGroupWhenFull?(Jt("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!Xt(r)&&!t.has(r)?(Jt("toolbarview-item-unavailable",{item:r}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",i=e.length,s=e.findIndex(t);if(s===-1)return[];const r=i-e.slice().reverse().findIndex(t);return e.slice(s,r).filter((o,a,l)=>t(o)?!0:!(a>0&&l[a-1]===o))}_createNestedToolbarDropdown(e,t,i){let{label:s,icon:r,items:o,tooltip:a=!0,withText:l=!1}=e;if(o=this._cleanItemsConfiguration(o,t,i),!o.length)return null;const c=this.locale,u=Jr(c);return s||Jt("toolbarview-nested-toolbar-dropdown-missing-label",e),u.class="ck-toolbar__nested-toolbar-dropdown",u.buttonView.set({label:s,tooltip:a,withText:!!l}),r!==!1?u.buttonView.icon=dQ[r]||r||eI:u.buttonView.withText=!0,Rh(u,()=>u.toolbarView._buildItemsFromConfig(o,t,i)),u}}class fQ extends Ct{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class hQ{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(i=>i),e.focusables.bindTo(e.items).using(i=>i),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class mQ{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,i)=>{const s=i.index,r=Array.from(i.added);for(const o of i.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=s;o<s+r.length;o++){const a=r[o-s];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ia(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,i=new rn(e.lastChild),s=new rn(e);if(!this.cachedPadding){const r=_t.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return t==="ltr"?i.right>s.right-this.cachedPadding:i.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Ah(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new tP),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,i=Jr(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Rh(i,this.groupedItems),i.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:eI}),i}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pQ extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new ws,this.keystrokes=new Tr,this._focusCycler=new Iu({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":t.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tI extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",i=>!i)]},children:this.children})}focus(){this.children.first.focus()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gQ extends Ct{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Jr(n,e=XW){const t=new e(n),i=new JW(n),s=new vl(n,t,i);return t.bind("isEnabled").to(s),t instanceof ty?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),vQ(s),s}function Rh(n,e,t={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?I1(n,e,t):n.once("change:isOpen",()=>I1(n,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&iI(n,()=>n.toolbarView.items.find(i=>i.isOn))}function I1(n,e,t){const i=n.locale,s=i.t,r=n.toolbarView=new hy(i),o=typeof e=="function"?e():e;r.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(r.maxWidth=t.maxWidth),t.class&&(r.class=t.class),t.isCompact&&(r.isCompact=t.isCompact),t.isVertical&&(r.isVertical=!0),o instanceof ma?r.items.bindTo(o).using(a=>a):r.items.addMany(o),n.panelView.children.add(r),r.items.delegate("execute").to(n)}function nI(n,e,t={}){n.isOpen?O1(n,e,t):n.once("change:isOpen",()=>O1(n,e,t),{priority:"highest"}),iI(n,()=>n.listView.items.find(i=>i instanceof tI?i.children.first.isOn:!1))}function O1(n,e,t){const i=n.locale,s=n.listView=new pQ(i),r=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.items.bindTo(r).using(o=>{if(o.type==="separator")return new gQ(i);if(o.type==="button"||o.type==="switchbutton"){const a=new tI(i);let l;return o.type==="button"?l=new Zt(i):l=new xh(i),l.bind(...Object.keys(o.model)).to(o.model),l.delegate("execute").to(a),a.children.add(l),a}return null}),n.panelView.children.add(s),s.items.delegate("execute").to(n)}function iI(n,e){n.on("change:isOpen",()=>{if(!n.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():Jt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:Yr.low-10})}function vQ(n){bQ(n),yQ(n),wQ(n),_Q(n),CQ(n),kQ(n)}function bQ(n){n.on("render",()=>{qb({emitter:n,activator:()=>n.isOpen,callback:()=>{n.isOpen=!1},contextElements:[n.element]})})}function yQ(n){n.on("execute",e=>{e.source instanceof xh||(n.isOpen=!1)})}function wQ(n){n.focusTracker.on("change:isFocused",(e,t,i)=>{n.isOpen&&!i&&(n.isOpen=!1)})}function _Q(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function CQ(n){n.on("change:isOpen",(e,t,i)=>{if(i)return;const s=n.panelView.element;s&&s.contains(_t.document.activeElement)&&n.buttonView.focus()})}function kQ(n){n.on("change:isOpen",(e,t,i)=>{i&&n.panelView.focus()},{priority:"low"})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const R1=Kb("px"),M1=_t.document.body;class ii extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",i=>`ck-balloon-panel_${i}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",R1),left:t.to("left",R1)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=ii.defaultPositions,i=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:M1,fitInViewport:!0},e),s=ii._getOptimalPosition(i),r=parseInt(s.left),o=parseInt(s.top),a=s.name,l=s.config||{},{withArrow:c=!0}=l;this.top=o,this.left=r,this.position=a,this.withArrow=c}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Qg(e.target),i=e.limiter?Qg(e.limiter):M1;this.listenTo(_t.document,"scroll",(s,r)=>{const o=r.target,a=t&&o.contains(t),l=i&&o.contains(i);(a||l||!t||!i)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(_t.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(_t.document,"scroll"),this.stopListening(_t.window,"resize")}}ii.arrowSideOffset=25;ii.arrowHeightOffset=10;ii.stickyVerticalOffset=20;ii._getOptimalPosition=zx;ii.defaultPositions=sI();function Qg(n){return $l(n)?n:Th(n)?n.commonAncestorContainer:typeof n=="function"?Qg(n()):null}function sI(n={}){const{sideOffset:e=ii.arrowSideOffset,heightOffset:t=ii.arrowHeightOffset,stickyVerticalOffset:i=ii.stickyVerticalOffset,config:s}=n;return{northWestArrowSouthWest:(a,l)=>({top:r(a,l),left:a.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.left-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(a,l)=>({top:r(a,l),left:a.left-l.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.left-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(a,l)=>({top:r(a,l),left:a.left-l.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(a,l)=>({top:r(a,l),left:a.left+a.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(a,l)=>({top:r(a,l),left:a.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.right-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(a,l)=>({top:r(a,l),left:a.right-l.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.right-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(a,l)=>({top:r(a,l),left:a.right-l.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:a=>({top:o(a),left:a.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(a,l)=>({top:o(a),left:a.left-l.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(a,l)=>({top:o(a),left:a.left-l.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:a=>({top:o(a),left:a.left+a.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:a=>({top:o(a),left:a.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.right-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(a,l)=>({top:o(a),left:a.right-l.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.right-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(a,l)=>({top:o(a),left:a.right-l.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.left-l.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(a,l,c)=>a.getIntersection(c)?{top:c.top+i,left:a.left+a.width/2-l.width/2,name:"arrowless",config:{withArrow:!1,...s}}:null};function r(a,l){return a.top-l.height-t}function o(a){return a.bottom+t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const D1="ck-tooltip";class xn extends ha(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,xn._editors.add(e),xn._instance)return xn._instance;xn._instance=this,this.tooltipTextView=new Ct(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ii(e.locale),this.balloonPanelView.class=D1,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=io(this._pinTooltip,600),this.listenTo(_t.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_t.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_t.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_t.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_t.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;xn._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),xn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),xn._instance=null)}static getPositioningFunctions(e){const t=xn.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const i=cp(t);i&&i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,SQ(i)))}_onLeaveOrBlur(e,{target:t,relatedTarget:i}){if(e.name==="mouseleave"){if(!$l(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=cp(t),r=cp(i);s&&s!==r&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:i,cssClass:s}){const r=Sn(xn._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:xn.getPositioningFunctions(i)}),this._resizeObserver=new Ah(e,()=>{ia(e)||this._unpinTooltip()}),this.balloonPanelView.class=[D1,s].filter(o=>o).join(" ");for(const o of xn._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of xn._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!ia(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:xn.getPositioningFunctions(this._currentTooltipPosition)})}}xn.defaultBalloonPositions=sI({heightOffset:5,sideOffset:13});xn._editors=new Set;xn._instance=null;function cp(n){return $l(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function SQ(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EQ extends Bt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.editor=e,this.componentFactory=new YW(e),this.focusTracker=new ws,this.tooltipManager=new xn(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let i,s;e.keystrokes.set("Alt+F10",(r,o)=>{const a=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(a)&&!Array.from(t.domRoots.values()).includes(a)&&(i=a);const l=this._getCurrentFocusedToolbarDefinition();(!l||!s)&&(s=this._getFocusableCandidateToolbarDefinitions());for(let c=0;c<s.length;c++){const u=s.shift();if(s.push(u),u!==l&&this._focusFocusableCandidateToolbar(u)){l&&l.options.afterBlur&&l.options.afterBlur();break}}o()}),e.keystrokes.set("Esc",(r,o)=>{const a=this._getCurrentFocusedToolbarDefinition();a&&(i?(i.focus(),i=null):e.editing.view.focus(),a.options.afterBlur&&a.options.afterBlur(),o())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:i,options:s}=t;(ia(i.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,i)=>F1(t)-F1(i)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:i}}=e;return i&&i(),ia(t.element)?(t.focus(),!0):!1}}function F1(n){const{toolbarView:e,options:t}=n;let i=10;return ia(e.element)&&i--,t.isContextual&&i--,i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TQ extends Ct{constructor(e){super(e),this.body=new QW(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rI extends Ct{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Ks()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AQ extends TQ{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new rI;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xQ extends Ct{constructor(e,t,i){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?i(this):t(this);function t(s){e.change(r=>{const o=e.document.getRoot(s.name);r.addClass(s.isFocused?"ck-focused":"ck-blurred",o),r.removeClass(s.isFocused?"ck-blurred":"ck-focused",o)})}function i(s){e.once("change:isRenderingInProgress",(r,o,a)=>{a?i(s):t(s)})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PQ extends xQ{constructor(e,t,i,s={}){super(e,t,i);const r=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>r("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const i=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),i)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IQ extends Ct{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new ws,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),inputmode:t.to("inputMode"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=OQ(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function OQ(n){return!n.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RQ extends IQ{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oI extends Ct{constructor(e,t){super(e);const i=`ck-labeled-field-view-${Ks()}`,s=`ck-labeled-field-view-status-${Ks()}`;this.fieldView=t(this,i,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,a)=>o||a);const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new rI(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Ct(this.locale),i=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",s=>!s)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),t}focus(){this.fieldView.focus()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function aI(n,e,t){const i=new RQ(n.locale);return i.set({id:e,ariaDescribedById:t}),i.bind("isReadOnly").to(n,"isEnabled",s=>!s),i.bind("hasError").to(n,"errorText",s=>!!s),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class N1 extends rP{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lI extends Bt(){constructor(e,t){super(),t&&aT(this,t),e&&this.set(e)}}const MQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',DQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const kd=Kb("px");class xf extends De{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,s=t.document.selection.editableElement;return s?t.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new L("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const i=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new L("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new L("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new ii(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new FQ(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,s)=>{if(s<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[r,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new NQ(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,i)=>!i&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:i=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class FQ extends Ct{constructor(e){super(e);const t=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ws,this.buttonPrevView=this._createButtonView(t("Previous"),MQ),this.buttonNextView=this._createButtonView(t("Next"),DQ),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const i=new Zt(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i}}class NQ extends Ct{constructor(e,t){super(e);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:i.to("top",kd),left:i.to("left",kd),width:i.to("width",kd),height:i.to("height",kd)}},children:this.content}),this.on("change:numberOfPanels",(s,r,o,a)=>{o>a?this._addPanels(o-a):this._removePanels(a-o),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Ct;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:i,height:s}=new rn(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:i,height:s})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const cc=Kb("px");class LQ extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new zs({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",i=>i?"block":"none"),height:t.to("isSticky",i=>i?cc(this._panelRect.height):null)}}}).render(),this._contentPanel=new zs({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",i=>i?cc(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",i=>i?cc(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",i=>i?cc(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(_t.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:cc(-_t.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BQ extends EQ{constructor(e,t){super(e),this.view=t,this._toolbarConfig=nP(e.config.get("toolbar")),this._elementReplacer=new Mx}get element(){return this.view.element}init(e){const t=this.editor,i=this.view,s=t.editing.view,r=i.editable,o=s.document.getRoot();r.name=o.rootName,i.render();const a=r.element;this.setEditableElement(r.name,a),i.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,i=t.document.getRoot(),s=e.sourceElement;let r;const o=e.config.get("placeholder");o&&(r=typeof o=="string"?o:o[this.view.editable.name]),!r&&s&&s.tagName.toLowerCase()==="textarea"&&(r=s.getAttribute("placeholder")),r&&oP({view:t,element:i,text:r,isDirectHost:!1,keepOnFocus:!0})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $Q extends AQ{constructor(e,t,i={}){super(e),this.stickyPanel=new LQ(e),this.toolbar=new hy(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),this.editable=new PQ(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cI{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const i="error"in t?t.error:t.reason;i instanceof Error&&this._handleError(i,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(i=>i!==t)}_fire(e,...t){const i=this._listeners[e]||[];for(const s of i)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yg(n,e=new Set){const t=[n],i=new Set;let s=0;for(;t.length>s;){const r=t[s++];if(!(i.has(r)||!VQ(r)||e.has(r)))if(i.add(r),Symbol.iterator in r)try{for(const o of r)t.push(o)}catch{}else for(const o in r)o!=="defaultValue"&&t.push(r[o])}return i}function VQ(n){const e=Object.prototype.toString.call(n),t=typeof n;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function uI(n,e,t=new Set){if(n===e&&UQ(n))return!0;const i=Yg(n,t),s=Yg(e,t);for(const r of i)if(s.has(r))return!0;return!1}function UQ(n){return typeof n=="object"&&n!==null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dI extends cI{constructor(e,t={}){super(t),this._editor=null,this._throttledSave=FT(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(i,s)=>e.create(i,s)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const e=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,e,e.context)}}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,i){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._config=this._cloneEditorConfiguration(t)||{},this._config.context=i,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e={};for(const t of this._editor.model.document.getRootNames())e[t]=this._editor.data.get({rootName:t});return e}_isErrorComingFromThisItem(e){return uI(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return wb(e,(t,i)=>{if($l(t)||i==="context")return t})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Dc=Symbol("MainQueueId");class zQ extends cI{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new HQ,this._watchdogConfig=t,this._creator=i=>e.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Dc,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=L1(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return s=new dI(null,this._watchdogConfig),s.setCreator(i.creator),s._setExcludedProperties(this._contextProps),i.destructor&&s.setDestructor(i.destructor),this._watchdogs.set(i.id,s),s.on("error",(r,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:i.id,error:o}),a&&this._actionQueues.enqueue(i.id,()=>new Promise(l=>{const c=()=>{s.off("restart",c),this._fire("itemRestart",{itemId:i.id}),l()};s.on("restart",c)}))}),s.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(e){const t=L1(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i,()=>{const s=this._getWatchdog(i);return this._watchdogs.delete(i),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Dc,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Dc,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Yg(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return uI(this._context,e.context)}}class HQ{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const i=e===Dc;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const r=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(Dc),this._queues.get(e)])).then(t),o=r.catch(()=>{});return this._queues.set(e,o),r.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function L1(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mh extends jd(Gg(xG)){constructor(e,t={}){if(!qd(e)&&t.initialData!==void 0)throw new L("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",WQ(e)),qd(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new $Q(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i});this.ui=new BQ(this,s),PG(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(i=>{const s=new this(e,t);i(s.initPlugins().then(()=>s.ui.init(qd(e)?e:null)).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}Mh.Context=sP;Mh.EditorWatchdog=dI;Mh.ContextWatchdog=zQ;function WQ(n){return qd(n)?lW(n):n}function qd(n){return $l(n)}function fI(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let jl=fI();function jQ(n){jl=n}const qQ=/[&<>"']/,KQ=/[&<>"']/g,GQ=/[<>"']|&(?!#?\w+;)/,QQ=/[<>"']|&(?!#?\w+;)/g,YQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B1=n=>YQ[n];function On(n,e){if(e){if(qQ.test(n))return n.replace(KQ,B1)}else if(GQ.test(n))return n.replace(QQ,B1);return n}const JQ=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function hI(n){return n.replace(JQ,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const XQ=/(^|[^\[])\^/g;function Ut(n,e){n=n.source||n,e=e||"";const t={replace:(i,s)=>(s=s.source||s,s=s.replace(XQ,"$1"),n=n.replace(i,s),t),getRegex:()=>new RegExp(n,e)};return t}const ZQ=/[^\w:]/g,eY=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function $1(n,e,t){if(n){let i;try{i=decodeURIComponent(hI(t)).replace(ZQ,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!eY.test(t)&&(t=sY(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Sd={},tY=/^[^:]+:\/*[^/]*$/,nY=/^([^:]+:)[\s\S]*$/,iY=/^([^:]+:\/*[^/]*)[\s\S]*$/;function sY(n,e){Sd[" "+n]||(tY.test(n)?Sd[" "+n]=n+"/":Sd[" "+n]=Kd(n,"/",!0)),n=Sd[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(nY,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(iY,"$1")+e:n+e}const Pf={exec:function(){}};function _s(n){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function V1(n,e){const t=n.replace(/\|/g,(r,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),i=t.split(/ \|/);let s=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(/\\\|/g,"|");return i}function Kd(n,e,t){const i=n.length;if(i===0)return"";let s=0;for(;s<i;){const r=n.charAt(i-s-1);if(r===e&&!t)s++;else if(r!==e&&t)s++;else break}return n.substr(0,i-s)}function rY(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let i=0,s=0;for(;s<t;s++)if(n[s]==="\\")s++;else if(n[s]===e[0])i++;else if(n[s]===e[1]&&(i--,i<0))return s;return-1}function mI(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function U1(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}function z1(n,e,t,i){const s=e.href,r=e.title?On(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:t,href:s,title:r,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,a}else return{type:"image",raw:t,href:s,title:r,text:On(o)}}function oY(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(s=>{const r=s.match(/^\s+/);if(r===null)return s;const[o]=r;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}class my{constructor(e){this.options=e||jl}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Kd(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],s=oY(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const r=Kd(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}const s={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,s,r,o,a,l,c,u,d,f,h,p,m=t[1].trim();const b=m.length>1,v={type:"list",raw:"",ordered:b,start:b?+m.slice(0,-1):"",loose:!1,items:[]};m=b?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=b?m:"[*+-]");const w=new RegExp(`^( {0,3}${m})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(t=w.exec(e))||this.rules.block.hr.test(e)));){if(i=t[0],e=e.substring(i.length),u=t[2].split(`
`,1)[0],d=e.split(`
`,1)[0],this.options.pedantic?(o=2,h=u.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,h=u.slice(o),o+=t[1].length),l=!1,!u&&/^ *$/.test(d)&&(i+=d+`
`,e=e.substring(d.length+1),p=!0),!p){const _=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(f=e.split(`
`,1)[0],u=f,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!_.test(u));){if(u.search(/[^ ]/)>=o||!u.trim())h+=`
`+u.slice(o);else if(!l)h+=`
`+u;else break;!l&&!u.trim()&&(l=!0),i+=f+`
`,e=e.substring(f.length+1)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(i)&&(c=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(h),s&&(r=s[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:i,task:!!s,checked:r,loose:!1,text:h}),v.raw+=i}v.items[v.items.length-1].raw=i.trimRight(),v.items[v.items.length-1].text=h.trimRight(),v.raw=v.raw.trimRight();const C=v.items.length;for(a=0;a<C;a++){this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]);const _=v.items[a].tokens.filter(k=>k.type==="space"),T=_.every(k=>{const E=k.raw.split("");let S=0;for(const P of E)if(P===`
`&&(S+=1),S>1)return!0;return!1});!v.loose&&_.length&&T&&(v.loose=!0,v.items[a].loose=!0)}return v}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):On(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:V1(t[1]).map(s=>({text:s})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let s=i.align.length,r,o,a,l;for(r=0;r<s;r++)/^ *-+: *$/.test(i.align[r])?i.align[r]="right":/^ *:-+: *$/.test(i.align[r])?i.align[r]="center":/^ *:-+ *$/.test(i.align[r])?i.align[r]="left":i.align[r]=null;for(s=i.rows.length,r=0;r<s;r++)i.rows[r]=V1(i.rows[r],i.header.length).map(c=>({text:c}));for(s=i.header.length,o=0;o<s;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(s=i.rows.length,o=0;o<s;o++)for(l=i.rows[o],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){const t=this.rules.block.text.exec(e);if(t){const i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:On(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):On(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=Kd(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=rY(t[2],"()");if(o>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let s=t[2],r="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],r=o[3])}else r=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(i)?s=s.slice(1):s=s.slice(1,-1)),z1(t,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let s=(i[2]||i[1]).replace(/\s+/g," ");if(s=t[s.toLowerCase()],!s||!s.href){const r=i[0].charAt(0);return{type:"text",raw:r,text:r}}return z1(i,s,i[0],this.lexer)}}emStrong(e,t,i=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&i.match(/[\p{L}\p{N}]/u))return;const r=s[1]||s[2]||"";if(!r||r&&(i===""||this.rules.inline.punctuation.exec(i))){const o=s[0].length-1;let a,l,c=o,u=0;const d=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(s=d.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(l=a.length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;if(l=Math.min(l,l+c+u),Math.min(o,l)%2){const h=e.slice(1,o+s.index+l);return{type:"em",raw:e.slice(0,o+s.index+l+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}const f=e.slice(2,o+s.index+l-1);return{type:"strong",raw:e.slice(0,o+s.index+l+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const s=/[^ ]/.test(i),r=/^ /.test(i)&&/ $/.test(i);return s&&r&&(i=i.substring(1,i.length-1)),i=On(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let s,r;return i[2]==="@"?(s=On(this.options.mangle?t(i[1]):i[1]),r="mailto:"+s):(s=On(i[1]),r=s),{type:"link",raw:i[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let s,r;if(i[2]==="@")s=On(this.options.mangle?t(i[0]):i[0]),r="mailto:"+s;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);s=On(i[0]),i[1]==="www."?r="http://"+s:r=s}return{type:"link",raw:i[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):On(i[0]):i[0]:s=On(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:s}}}}const nt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pf,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};nt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;nt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;nt.def=Ut(nt.def).replace("label",nt._label).replace("title",nt._title).getRegex();nt.bullet=/(?:[*+-]|\d{1,9}[.)])/;nt.listItemStart=Ut(/^( *)(bull) */).replace("bull",nt.bullet).getRegex();nt.list=Ut(nt.list).replace(/bull/g,nt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+nt.def.source+")").getRegex();nt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";nt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;nt.html=Ut(nt.html,"i").replace("comment",nt._comment).replace("tag",nt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();nt.paragraph=Ut(nt._paragraph).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex();nt.blockquote=Ut(nt.blockquote).replace("paragraph",nt.paragraph).getRegex();nt.normal=_s({},nt);nt.gfm=_s({},nt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});nt.gfm.table=Ut(nt.gfm.table).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex();nt.gfm.paragraph=Ut(nt._paragraph).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",nt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex();nt.pedantic=_s({},nt.normal,{html:Ut(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",nt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pf,paragraph:Ut(nt.normal._paragraph).replace("hr",nt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",nt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const He={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pf,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pf,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};He._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";He.punctuation=Ut(He.punctuation).replace(/punctuation/g,He._punctuation).getRegex();He.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;He.escapedEmSt=/\\\*|\\_/g;He._comment=Ut(nt._comment).replace("(?:-->|$)","-->").getRegex();He.emStrong.lDelim=Ut(He.emStrong.lDelim).replace(/punct/g,He._punctuation).getRegex();He.emStrong.rDelimAst=Ut(He.emStrong.rDelimAst,"g").replace(/punct/g,He._punctuation).getRegex();He.emStrong.rDelimUnd=Ut(He.emStrong.rDelimUnd,"g").replace(/punct/g,He._punctuation).getRegex();He._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;He._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;He._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;He.autolink=Ut(He.autolink).replace("scheme",He._scheme).replace("email",He._email).getRegex();He._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;He.tag=Ut(He.tag).replace("comment",He._comment).replace("attribute",He._attribute).getRegex();He._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;He._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;He._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;He.link=Ut(He.link).replace("label",He._label).replace("href",He._href).replace("title",He._title).getRegex();He.reflink=Ut(He.reflink).replace("label",He._label).replace("ref",nt._label).getRegex();He.nolink=Ut(He.nolink).replace("ref",nt._label).getRegex();He.reflinkSearch=Ut(He.reflinkSearch,"g").replace("reflink",He.reflink).replace("nolink",He.nolink).getRegex();He.normal=_s({},He);He.pedantic=_s({},He.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ut(/^!?\[(label)\]\((.*?)\)/).replace("label",He._label).getRegex(),reflink:Ut(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",He._label).getRegex()});He.gfm=_s({},He.normal,{escape:Ut(He.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});He.gfm.url=Ut(He.gfm.url,"i").replace("email",He.gfm._extended_email).getRegex();He.breaks=_s({},He.gfm,{br:Ut(He.br).replace("{2,}","*").getRegex(),text:Ut(He.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function aY(n){return n.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function H1(n){let e="",t,i;const s=n.length;for(t=0;t<s;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}class wr{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||jl,this.options.tokenizer=this.options.tokenizer||new my,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:nt.normal,inline:He.normal};this.options.pedantic?(t.block=nt.pedantic,t.inline=He.pedantic):this.options.gfm&&(t.block=nt.gfm,this.options.breaks?t.inline=He.breaks:t.inline=He.gfm),this.tokenizer.rules=t}static get rules(){return{block:nt,inline:He}}static lex(e,t){return new wr(t).lex(e)}static lexInline(e,t){return new wr(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,s,r,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(r=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r))){s=t[t.length-1],o&&s.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i),o=r.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,s,r,o=e,a,l,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+U1("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+U1("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(i=u.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,c)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,H1)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,H1))){e=e.substring(i.raw.length),t.push(i);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const d=e.slice(1);let f;this.options.extensions.startInline.forEach(function(h){f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(r=e.substring(0,u+1))}if(i=this.tokenizer.inlineText(r,aY)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(c=i.raw.slice(-1)),l=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class py{constructor(e){this.options=e||jl}code(e,t,i){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,s);r!=null&&r!==e&&(i=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+On(s,!0)+'">'+(i?e:On(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:On(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,s){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+s.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){const s=t?"ol":"ul",r=t&&i!==1?' start="'+i+'"':"";return"<"+s+r+`>
`+e+"</"+s+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=$1(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let s='<a href="'+On(e)+'"';return t&&(s+=' title="'+t+'"'),s+=">"+i+"</a>",s}image(e,t,i){if(e=$1(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let s='<img src="'+e+'" alt="'+i+'"';return t&&(s+=' title="'+t+'"'),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class pI{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class gI{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,s=0;if(this.seen.hasOwnProperty(i)){s=this.seen[e];do s++,i=e+"-"+s;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=s,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class _r{constructor(e){this.options=e||jl,this.options.renderer=this.options.renderer||new py,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new pI,this.slugger=new gI}static parse(e,t){return new _r(t).parse(e)}static parseInline(e,t){return new _r(t).parseInline(e)}parse(e,t=!0){let i="",s,r,o,a,l,c,u,d,f,h,p,m,b,v,w,C,_,T,k;const E=e.length;for(s=0;s<E;s++){if(h=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(k=this.options.extensions.renderers[h.type].call({parser:this},h),k!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){i+=k||"";continue}switch(h.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(h.tokens),h.depth,hI(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(d="",u="",a=h.header.length,r=0;r<a;r++)u+=this.renderer.tablecell(this.parseInline(h.header[r].tokens),{header:!0,align:h.align[r]});for(d+=this.renderer.tablerow(u),f="",a=h.rows.length,r=0;r<a;r++){for(c=h.rows[r],u="",l=c.length,o=0;o<l;o++)u+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:h.align[o]});f+=this.renderer.tablerow(u)}i+=this.renderer.table(d,f);continue}case"blockquote":{f=this.parse(h.tokens),i+=this.renderer.blockquote(f);continue}case"list":{for(p=h.ordered,m=h.start,b=h.loose,a=h.items.length,f="",r=0;r<a;r++)w=h.items[r],C=w.checked,_=w.task,v="",w.task&&(T=this.renderer.checkbox(C),b?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=T+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=T+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:T}):v+=T),v+=this.parse(w.tokens,b),f+=this.renderer.listitem(v,_,C);i+=this.renderer.list(f,p,m);continue}case"html":{i+=this.renderer.html(h.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(f=h.tokens?this.parseInline(h.tokens):h.text;s+1<E&&e[s+1].type==="text";)h=e[++s],f+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);i+=t?this.renderer.paragraph(f):f;continue}default:{const S='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(S);return}else throw new Error(S)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",s,r,o;const a=e.length;for(s=0;s<a;s++){if(r=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(o=this.options.extensions.renderers[r.type].call({parser:this},r),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){i+=o||"";continue}switch(r.type){case"escape":{i+=t.text(r.text);break}case"html":{i+=t.html(r.text);break}case"link":{i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{i+=t.image(r.href,r.title,r.text);break}case"strong":{i+=t.strong(this.parseInline(r.tokens,t));break}case"em":{i+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{i+=t.codespan(r.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(r.tokens,t));break}case"text":{i+=t.text(r.text);break}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return i}}function rt(n,e,t){if(typeof n>"u"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=_s({},rt.defaults,e||{}),mI(e),t){const i=e.highlight;let s;try{s=wr.lex(n,e)}catch(a){return t(a)}const r=function(a){let l;if(!a)try{e.walkTokens&&rt.walkTokens(s,e.walkTokens),l=_r.parse(s,e)}catch(c){a=c}return e.highlight=i,a?t(a):t(null,l)};if(!i||i.length<3||(delete e.highlight,!s.length))return r();let o=0;rt.walkTokens(s,function(a){a.type==="code"&&(o++,setTimeout(()=>{i(a.text,a.lang,function(l,c){if(l)return r(l);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),o--,o===0&&r()})},0))}),o===0&&r();return}try{const i=wr.lex(n,e);return e.walkTokens&&rt.walkTokens(i,e.walkTokens),_r.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+On(i.message+"",!0)+"</pre>";throw i}}rt.options=rt.setOptions=function(n){return _s(rt.defaults,n),jQ(rt.defaults),rt};rt.getDefaults=fI;rt.defaults=jl;rt.use=function(...n){const e=_s({},...n),t=rt.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(s=>{if(s.extensions&&(i=!0,s.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const o=t.renderers?t.renderers[r.name]:null;o?t.renderers[r.name]=function(...a){let l=r.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[r.level]?t[r.level].unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}r.childTokens&&(t.childTokens[r.name]=r.childTokens)})),s.renderer){const r=rt.defaults.renderer||new py;for(const o in s.renderer){const a=r[o];r[o]=(...l)=>{let c=s.renderer[o].apply(r,l);return c===!1&&(c=a.apply(r,l)),c}}e.renderer=r}if(s.tokenizer){const r=rt.defaults.tokenizer||new my;for(const o in s.tokenizer){const a=r[o];r[o]=(...l)=>{let c=s.tokenizer[o].apply(r,l);return c===!1&&(c=a.apply(r,l)),c}}e.tokenizer=r}if(s.walkTokens){const r=rt.defaults.walkTokens;e.walkTokens=function(o){s.walkTokens.call(this,o),r&&r.call(this,o)}}i&&(e.extensions=t),rt.setOptions(e)})};rt.walkTokens=function(n,e){for(const t of n)switch(e.call(rt,t),t.type){case"table":{for(const i of t.header)rt.walkTokens(i.tokens,e);for(const i of t.rows)for(const s of i)rt.walkTokens(s.tokens,e);break}case"list":{rt.walkTokens(t.items,e);break}default:rt.defaults.extensions&&rt.defaults.extensions.childTokens&&rt.defaults.extensions.childTokens[t.type]?rt.defaults.extensions.childTokens[t.type].forEach(function(i){rt.walkTokens(t[i],e)}):t.tokens&&rt.walkTokens(t.tokens,e)}};rt.parseInline=function(n,e){if(typeof n>"u"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=_s({},rt.defaults,e||{}),mI(e);try{const t=wr.lexInline(n,e);return e.walkTokens&&rt.walkTokens(t,e.walkTokens),_r.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+On(t.message+"",!0)+"</pre>";throw t}};rt.Parser=_r;rt.parser=_r.parse;rt.Renderer=py;rt.TextRenderer=pI;rt.Lexer=wr;rt.lexer=wr.lex;rt.Tokenizer=my;rt.Slugger=gI;rt.parse=rt;rt.options;rt.setOptions;rt.use;rt.walkTokens;rt.parseInline;_r.parse;wr.lex;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */rt.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...n){return Object.getPrototypeOf(this).checkbox.call(this,...n).trimRight()},code(...n){return Object.getPrototypeOf(this).code.call(this,...n).replace(`
</code>`,"</code>")}}});function lY(n){const e={gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1};return rt.parse(n,e)}function cY(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function Jg(n,e){return Array(e+1).join(n)}var uY=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function gy(n){return uY.indexOf(n.nodeName.toLowerCase())!==-1}var vI=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function bI(n){return vI.indexOf(n.nodeName.toLowerCase())!==-1}var dY=vI.join();function fY(n){return n.querySelector&&n.querySelector(dY)}var ri={};ri.paragraph={filter:"p",replacement:function(n){return`

`+n+`

`}};ri.lineBreak={filter:"br",replacement:function(n,e,t){return t.br+`
`}};ri.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,e,t){var i=Number(e.nodeName.charAt(1));if(t.headingStyle==="setext"&&i<3){var s=Jg(i===1?"=":"-",n.length);return`

`+n+`
`+s+`

`}else return`

`+Jg("#",i)+" "+n+`

`}};ri.blockquote={filter:"blockquote",replacement:function(n){return n=n.replace(/^\n+|\n+$/g,""),n=n.replace(/^/gm,"> "),`

`+n+`

`}};ri.list={filter:["ul","ol"],replacement:function(n,e){var t=e.parentNode;return t.nodeName==="LI"&&t.lastElementChild===e?`
`+n:`

`+n+`

`}};ri.listItem={filter:"li",replacement:function(n,e,t){n=n.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var i=t.bulletListMarker+"   ",s=e.parentNode;if(s.nodeName==="OL"){var r=s.getAttribute("start"),o=Array.prototype.indexOf.call(s.children,e);i=(r?Number(r)+o:o+1)+".  "}return i+n+(e.nextSibling&&!/\n$/.test(n)?`
`:"")}};ri.indentedCodeBlock={filter:function(n,e){return e.codeBlockStyle==="indented"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,e,t){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};ri.fencedCodeBlock={filter:function(n,e){return e.codeBlockStyle==="fenced"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,e,t){for(var i=e.firstChild.className||"",s=(i.match(/language-(\S+)/)||[null,""])[1],r=e.firstChild.textContent,o=t.fence.charAt(0),a=3,l=new RegExp("^"+o+"{3,}","gm"),c;c=l.exec(r);)c[0].length>=a&&(a=c[0].length+1);var u=Jg(o,a);return`

`+u+s+`
`+r.replace(/\n$/,"")+`
`+u+`

`}};ri.horizontalRule={filter:"hr",replacement:function(n,e,t){return`

`+t.hr+`

`}};ri.inlineLink={filter:function(n,e){return e.linkStyle==="inlined"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,e){var t=e.getAttribute("href"),i=e.title?' "'+e.title+'"':"";return"["+n+"]("+t+i+")"}};ri.referenceLink={filter:function(n,e){return e.linkStyle==="referenced"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,e,t){var i=e.getAttribute("href"),s=e.title?' "'+e.title+'"':"",r,o;switch(t.linkReferenceStyle){case"collapsed":r="["+n+"][]",o="["+n+"]: "+i+s;break;case"shortcut":r="["+n+"]",o="["+n+"]: "+i+s;break;default:var a=this.references.length+1;r="["+n+"]["+a+"]",o="["+a+"]: "+i+s}return this.references.push(o),r},references:[],append:function(n){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};ri.emphasis={filter:["em","i"],replacement:function(n,e,t){return n.trim()?t.emDelimiter+n+t.emDelimiter:""}};ri.strong={filter:["strong","b"],replacement:function(n,e,t){return n.trim()?t.strongDelimiter+n+t.strongDelimiter:""}};ri.code={filter:function(n){var e=n.previousSibling||n.nextSibling,t=n.parentNode.nodeName==="PRE"&&!e;return n.nodeName==="CODE"&&!t},replacement:function(n){if(!n.trim())return"";var e="`",t="",i="",s=n.match(/`+/gm);if(s)for(/^`/.test(n)&&(t=" "),/`$/.test(n)&&(i=" ");s.indexOf(e)!==-1;)e=e+"`";return e+t+n+i+e}};ri.image={filter:"img",replacement:function(n,e){var t=e.alt||"",i=e.getAttribute("src")||"",s=e.title||"",r=s?' "'+s+'"':"";return i?"!["+t+"]("+i+r+")":""}};function yI(n){this.options=n,this._keep=[],this._remove=[],this.blankRule={replacement:n.blankReplacement},this.keepReplacement=n.keepReplacement,this.defaultRule={replacement:n.defaultReplacement},this.array=[];for(var e in n.rules)this.array.push(n.rules[e])}yI.prototype={add:function(n,e){this.array.unshift(e)},keep:function(n){this._keep.unshift({filter:n,replacement:this.keepReplacement})},remove:function(n){this._remove.unshift({filter:n,replacement:function(){return""}})},forNode:function(n){if(n.isBlank)return this.blankRule;var e;return(e=up(this.array,n,this.options))||(e=up(this._keep,n,this.options))||(e=up(this._remove,n,this.options))?e:this.defaultRule},forEach:function(n){for(var e=0;e<this.array.length;e++)n(this.array[e],e)}};function up(n,e,t){for(var i=0;i<n.length;i++){var s=n[i];if(hY(s,e,t))return s}}function hY(n,e,t){var i=n.filter;if(typeof i=="string"){if(i===e.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof i=="function"){if(i.call(n,e,t))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function mY(n){var e=n.element,t=n.isBlock,i=n.isVoid,s=n.isPre||function(d){return d.nodeName==="PRE"};if(!(!e.firstChild||s(e))){for(var r=null,o=!1,a=null,l=W1(a,e,s);l!==e;){if(l.nodeType===3||l.nodeType===4){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!r||/ $/.test(r.data))&&!o&&c[0]===" "&&(c=c.substr(1)),!c){l=dp(l);continue}l.data=c,r=l}else if(l.nodeType===1)t(l)||l.nodeName==="BR"?(r&&(r.data=r.data.replace(/ $/,"")),r=null,o=!1):i(l)&&(r=null,o=!0);else{l=dp(l);continue}var u=W1(a,l,s);a=l,l=u}r&&(r.data=r.data.replace(/ $/,""),r.data||dp(r))}}function dp(n){var e=n.nextSibling||n.parentNode;return n.parentNode.removeChild(n),e}function W1(n,e,t){return n&&n.parentNode===e||t(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var wI=typeof window<"u"?window:{};function pY(){var n=wI.DOMParser,e=!1;try{new n().parseFromString("","text/html")&&(e=!0)}catch{}return e}function gY(){var n=function(){};{var e=require("jsdom").JSDOM;n.prototype.parseFromString=function(t){return new e(t).window.document}}return n}var vY=pY()?wI.DOMParser:gY();function bY(n){var e;if(typeof n=="string"){var t=yY().parseFromString('<x-turndown id="turndown-root">'+n+"</x-turndown>","text/html");e=t.getElementById("turndown-root")}else e=n.cloneNode(!0);return mY({element:e,isBlock:gy,isVoid:bI}),e}var fp;function yY(){return fp=fp||new vY,fp}function wY(n){return n.isBlock=gy(n),n.isCode=n.nodeName.toLowerCase()==="code"||n.parentNode.isCode,n.isBlank=_Y(n),n.flankingWhitespace=CY(n),n}function _Y(n){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(n.nodeName)===-1&&/^\s*$/i.test(n.textContent)&&!bI(n)&&!fY(n)}function CY(n){var e="",t="";if(!n.isBlock){var i=/^\s/.test(n.textContent),s=/\s$/.test(n.textContent),r=n.isBlank&&i&&s;i&&!j1("left",n)&&(e=" "),!r&&s&&!j1("right",n)&&(t=" ")}return{leading:e,trailing:t}}function j1(n,e){var t,i,s;return n==="left"?(t=e.previousSibling,i=/ $/):(t=e.nextSibling,i=/^ /),t&&(t.nodeType===3?s=i.test(t.nodeValue):t.nodeType===1&&!gy(t)&&(s=i.test(t.textContent))),s}var kY=Array.prototype.reduce,_I=/^\n*/,CI=/\n*$/,SY=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function yl(n){if(!(this instanceof yl))return new yl(n);var e={rules:ri,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(t,i){return i.isBlock?`

`:""},keepReplacement:function(t,i){return i.isBlock?`

`+i.outerHTML+`

`:i.outerHTML},defaultReplacement:function(t,i){return i.isBlock?`

`+t+`

`:t}};this.options=cY({},e,n),this.rules=new yI(this.options)}yl.prototype={turndown:function(n){if(!xY(n))throw new TypeError(n+" is not a string, or an element/document/fragment node.");if(n==="")return"";var e=kI.call(this,new bY(n));return EY.call(this,e)},use:function(n){if(Array.isArray(n))for(var e=0;e<n.length;e++)this.use(n[e]);else if(typeof n=="function")n(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(n,e){return this.rules.add(n,e),this},keep:function(n){return this.rules.keep(n),this},remove:function(n){return this.rules.remove(n),this},escape:function(n){return SY.reduce(function(e,t){return e.replace(t[0],t[1])},n)}};function kI(n){var e=this;return kY.call(n.childNodes,function(t,i){i=new wY(i);var s="";return i.nodeType===3?s=i.isCode?i.nodeValue:e.escape(i.nodeValue):i.nodeType===1&&(s=TY.call(e,i)),SI(t,s)},"")}function EY(n){var e=this;return this.rules.forEach(function(t){typeof t.append=="function"&&(n=SI(n,t.append(e.options)))}),n.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function TY(n){var e=this.rules.forNode(n),t=kI.call(this,n),i=n.flankingWhitespace;return(i.leading||i.trailing)&&(t=t.trim()),i.leading+e.replacement(t,n,this.options)+i.trailing}function AY(n,e){var t=[n.match(CI)[0],e.match(_I)[0]].sort(),i=t[t.length-1];return i.length<2?i:`

`}function SI(n,e){var t=AY(n,e);return n=n.replace(CI,""),e=e.replace(_I,""),n+t+e}function xY(n){return n!=null&&(typeof n=="string"||n.nodeType&&(n.nodeType===1||n.nodeType===9||n.nodeType===11))}var q1=/highlight-(?:text|source)-([a-z0-9]+)/;function PY(n){n.addRule("highlightedCodeBlock",{filter:function(e){var t=e.firstChild;return e.nodeName==="DIV"&&q1.test(e.className)&&t&&t.nodeName==="PRE"},replacement:function(e,t,i){var s=t.className||"",r=(s.match(q1)||[null,""])[1];return`

`+i.fence+r+`
`+t.firstChild.textContent+`
`+i.fence+`

`}})}function IY(n){n.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var OY=Array.prototype.indexOf,RY=Array.prototype.every,wl={};wl.tableCell={filter:["th","td"],replacement:function(n,e){return EI(n,e)}};wl.tableRow={filter:"tr",replacement:function(n,e){var t="",i={left:":--",right:"--:",center:":-:"};if(vy(e))for(var s=0;s<e.childNodes.length;s++){var r="---",o=(e.childNodes[s].getAttribute("align")||"").toLowerCase();o&&(r=i[o]||r),t+=EI(r,e.childNodes[s])}return`
`+n+(t?`
`+t:"")}};wl.table={filter:function(n){return n.nodeName==="TABLE"&&vy(n.rows[0])},replacement:function(n){return n=n.replace(`

`,`
`),`

`+n+`

`}};wl.tableSection={filter:["thead","tbody","tfoot"],replacement:function(n){return n}};function vy(n){var e=n.parentNode;return e.nodeName==="THEAD"||e.firstChild===n&&(e.nodeName==="TABLE"||MY(e))&&RY.call(n.childNodes,function(t){return t.nodeName==="TH"})}function MY(n){var e=n.previousSibling;return n.nodeName==="TBODY"&&(!e||e.nodeName==="THEAD"&&/^\s*$/i.test(e.textContent))}function EI(n,e){var t=OY.call(e.parentNode.childNodes,e),i=" ";return t===0&&(i="| "),i+n+" |"}function DY(n){n.keep(function(t){return t.nodeName==="TABLE"&&!vy(t.rows[0])});for(var e in wl)n.addRule(e,wl[e])}function FY(n){n.addRule("taskListItems",{filter:function(e){return e.type==="checkbox"&&e.parentNode.nodeName==="LI"},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}function NY(n){n.use([PY,IY,DY,FY])}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const LY=yl.prototype.escape;function K1(n){return n=LY(n),n=n.replace(/</g,"\\<"),n}yl.prototype.escape=function(n){let e="",t=0;for(const i of UY(n)){const s=i.index;s>t&&(e+=K1(n.substring(t,s)));const r=i[0];e+=r,t=s+r.length}return t<n.length&&(e+=K1(n.substring(t,n.length))),e};const by=new yl({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});by.use([NY,$Y]);function BY(n){return by.turndown(n)}function $Y(n){n.addRule("taskListItems",{filter(e){return e.type==="checkbox"&&(e.parentNode.nodeName==="LI"||e.parentNode.parentNode.nodeName==="LI")},replacement(e,t){return(t.checked?"[x]":"[ ]")+" "}})}const VY=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function*UY(n){for(const e of n.matchAll(VY)){const t=e[0],i=zY(t);yield Object.assign([t.substring(0,i)],{index:e.index})}}function zY(n){let e=n.length;for(;e>0;){const t=n[e-1];if(`?!.,:*_~'"`.includes(t))e--;else if(t==")"){let i=0;for(let s=0;s<e;s++)n[s]=="("?i++:n[s]==")"&&i--;if(i<0)e--;else break}else break}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HY{constructor(e){this._htmlDP=new WP(e)}keepHtml(e){by.keep([e])}toView(e){const t=lY(e);return this._htmlDP.toView(t)}toData(e){const t=this._htmlDP.toData(e);return BY(t)}registerRawContentMatcher(e){this._htmlDP.registerRawContentMatcher(e)}useFillerType(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WY extends De{constructor(e){super(e),e.data.processor=new HY(e.data.viewDocument)}static get pluginName(){return"Markdown"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jY extends kt{refresh(){const e=this.editor.model,t=e.document,i=Sn(t.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&G1(i,e.schema)}execute(e={}){const t=this.editor.model,i=t.document;t.change(s=>{const r=(e.selection||i.selection).getSelectedBlocks();for(const o of r)!o.is("element","paragraph")&&G1(o,t.schema)&&s.rename(o,"paragraph")})}}function G1(n,e){return e.checkChild(n.parent,"paragraph")&&!e.isObject(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qY extends kt{execute(e){const t=this.editor.model,i=e.attributes;let s=e.position;t.change(r=>{const o=r.createElement("paragraph");if(i&&t.schema.setAllowedAttributes(o,i,r),!t.schema.checkChild(s.parent,o)){const a=t.schema.findAllowedParent(s,o);if(!a)return;s=r.split(s,a).position}t.insertContent(o,s),r.setSelection(o,"in")})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ou extends De{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new jY(e)),e.commands.add("insertParagraph",new qY(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>!Ou.paragraphLikeElements.has(i.name)||i.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Ou.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yy extends uo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",i("dragging"),{priority:"low"});function i(s){return(r,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,l=new br(t,s);t.fire(l,{dataTransfer:o.dataTransfer,method:r.name,targetRanges:a,target:o.target}),l.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",s={dataTransfer:new CP(t,{cacheFiles:i})};(e.type=="drop"||e.type=="dragover")&&(s.dropRange=KY(this.view,e)),this.fire(e.type,e,s)}}function KY(n,e){const t=e.target.ownerDocument,i=e.clientX,s=e.clientY;let r;return t.caretRangeFromPoint&&t.caretRangeFromPoint(i,s)?r=t.caretRangeFromPoint(i,s):e.rangeParent&&(r=t.createRange(),r.setStart(e.rangeParent,e.rangeOffset),r.collapse(!0)),r?n.domConverter.domRangeToView(r):null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function GY(n){return n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function QY(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Q1=["figcaption","li"];function TI(n){let e="";if(n.is("$text")||n.is("$textProxy"))e=n.data;else if(n.is("element","img")&&n.hasAttribute("alt"))e=n.getAttribute("alt");else if(n.is("element","br"))e=`
`;else{let t=null;for(const i of n.getChildren()){const s=TI(i);t&&(t.is("containerElement")||i.is("containerElement"))&&(Q1.includes(t.name)||Q1.includes(i.name)?e+=`
`:e+=`

`),e+=s,t=i}}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cr extends De{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(yy),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document;this.listenTo(s,"clipboardInput",r=>{e.isReadOnly&&r.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(r,o)=>{const a=o.dataTransfer;let l;if(o.content)l=o.content;else{let u="";a.getData("text/html")?u=QY(a.getData("text/html")):a.getData("text/plain")&&(u=GY(a.getData("text/plain"))),l=this.editor.data.htmlProcessor.toView(u)}const c=new br(this,"inputTransformation");this.fire(c,{content:l,dataTransfer:a,targetRanges:o.targetRanges,method:o.method}),c.stop.called&&r.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(r,o)=>{if(o.content.isEmpty)return;const l=this.editor.data.toModel(o.content,"$clipboardHolder");l.childCount!=0&&(r.stop(),t.change(()=>{this.fire("contentInsertion",{content:l,method:o.method,dataTransfer:o.dataTransfer,targetRanges:o.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(r,o)=>{o.resultRange=t.insertContent(o.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,s=e.editing.view.document,r=(o,a)=>{const l=a.dataTransfer;a.preventDefault();const c=e.data.toView(e.model.getSelectedContent(t.selection));s.fire("clipboardOutput",{dataTransfer:l,content:c,method:o.name})};this.listenTo(s,"copy",r,{priority:"low"}),this.listenTo(s,"cut",(o,a)=>{e.isReadOnly?a.preventDefault():r(o,a)},{priority:"low"}),this.listenTo(s,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",TI(a.content))),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AI{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(i,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YY extends kt{constructor(e,t){super(e),this._buffer=new AI(e.model,t)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,i=t.document,s=e.text||"",r=s.length;let o=i.selection;e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range));const a=e.resultRange;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock(),t.deleteContent(o),s&&t.insertContent(l.createText(s,i.selection.getAttributes()),o),a?l.setSelection(a):o.is("documentSelection")||l.setSelection(o),this._buffer.unlock(),this._buffer.input(r)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Y1=["insertText","insertReplacementText"];class JY extends Ys{constructor(e){super(e),ht.isAndroid&&Y1.push("insertCompositionText");const t=e.document;t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{data:r,targetRanges:o,inputType:a,domEvent:l}=s;if(!Y1.includes(a))return;const c=new br(t,"insertText");t.fire(c,new bl(e,l,{text:r,selection:e.createSelection(o)})),c.stop.called&&i.stop()}),t.on("compositionend",(i,{data:s,domEvent:r})=>{!this.isEnabled||ht.isAndroid||s&&t.fire("insertText",new bl(e,r,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xI extends De{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,i=e.editing.view,s=t.document.selection;i.addObserver(JY);const r=new YY(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",r),e.commands.add("input",r),this.listenTo(i.document,"insertText",(o,a)=>{i.document.isComposing||a.preventDefault();const{text:l,selection:c,resultRange:u}=a,d=Array.from(c.getRanges()).map(p=>e.editing.mapper.toModelRange(p));let f=l;if(ht.isAndroid){const p=Array.from(d[0].getItems()).reduce((m,b)=>m+(b.is("$textProxy")?b.data:""),"");p&&(p.length<=f.length?f.startsWith(p)&&(f=f.substring(p.length),d[0].start=d[0].start.getShiftedBy(p.length)):p.startsWith(f)&&(d[0].start=d[0].start.getShiftedBy(f.length),f=""))}const h={text:f,selection:t.createSelection(d)};u&&(h.resultRange=e.editing.mapper.toModelRange(u)),e.execute("insertText",h)}),ht.isAndroid?this.listenTo(i.document,"keydown",(o,a)=>{s.isCollapsed||a.keyCode!=229||!i.document.isComposing||J1(t,r)}):this.listenTo(i.document,"compositionstart",()=>{s.isCollapsed||J1(t,r)})}}function J1(n,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class X1 extends kt{constructor(e,t){super(e),this.direction=t,this._buffer=new AI(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const r=s.createSelection(e.selection||i.selection),o=e.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&t.modifySelection(r,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(r,o)){this.editor.execute("paragraph",{selection:r});return}if(r.isCollapsed)return;let l=0;r.getFirstRange().getMinimalFlatRanges().forEach(c=>{l+=Dg(c.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),s.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(r))||!t.schema.checkChild(r,"paragraph"))return!1;const a=r.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s),o=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(o,r),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const i=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),r=i.schema.getLimitElement(s),o=r.getChild(0);return!(s.parent!=o||!e.containsEntireContent(o)||!i.schema.checkChild(r,"paragraph")||o.name=="paragraph")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const XY="character",Z1="word",ZY="codePoint",Hr="selection",za="backward",bc="forward",PI={deleteContent:{unit:Hr,direction:za},deleteContentBackward:{unit:ZY,direction:za},deleteWordBackward:{unit:Z1,direction:za},deleteHardLineBackward:{unit:Hr,direction:za},deleteSoftLineBackward:{unit:Hr,direction:za},deleteContentForward:{unit:XY,direction:bc},deleteWordForward:{unit:Z1,direction:bc},deleteHardLineForward:{unit:Hr,direction:bc},deleteSoftLineForward:{unit:Hr,direction:bc}};class eJ extends Ys{constructor(e){super(e);const t=e.document;let i=0;t.on("keydown",()=>{i++}),t.on("keyup",()=>{i=0}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=r,c=PI[l];if(!c)return;const u={direction:c.direction,unit:c.unit,sequence:i};u.unit==Hr&&(u.selectionToRemove=e.createSelection(o[0])),l==="deleteContentBackward"&&(ht.isAndroid&&(u.sequence=1),nJ(o)&&(u.unit=Hr,u.selectionToRemove=e.createSelection(o)));const d=new Wl(t,"delete",o[0]);t.fire(d,new bl(e,a,u)),d.stop.called&&s.stop()}),ht.isBlink&&tJ(this)}observe(){}stopObserving(){}}function tJ(n){const e=n.view,t=e.document;let i=null,s=!1;t.on("keydown",(a,{keyCode:l})=>{i=l,s=!1}),t.on("keyup",(a,{keyCode:l,domEvent:c})=>{const u=t.selection,d=n.isEnabled&&l==i&&r(l)&&!u.isCollapsed&&!s;if(i=null,d){const f=u.getFirstRange(),h=new Wl(t,"delete",f),p={unit:Hr,direction:o(l),selectionToRemove:u};t.fire(h,new bl(e,c,p))}}),t.on("beforeinput",(a,{inputType:l})=>{const c=PI[l];r(i)&&c&&c.direction==o(i)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:l,data:c})=>{i==Et.delete&&l=="insertText"&&c==""&&a.stop()},{priority:"high"});function r(a){return a==Et.backspace||a==Et.delete}function o(a){return a==Et.backspace?za:bc}}function nJ(n){if(n.length!=1||n[0].isCollapsed)return!1;const e=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:i}of e){if(!i.parent.is("$text"))t++;else{const s=i.parent.data,r=i.offset;if(Jb(s,r)||Xb(s,r)||Gx(s,r))continue;t++}if(t>1)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ba extends De{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,i=t.document,s=e.model.document;t.addObserver(eJ),this._undoOnBackspace=!1;const r=new X1(e,"forward");e.commands.add("deleteForward",r),e.commands.add("forwardDelete",r),e.commands.add("delete",new X1(e,"backward")),this.listenTo(i,"delete",(o,a)=>{i.isComposing||a.preventDefault();const{direction:l,sequence:c,selectionToRemove:u,unit:d}=a,f=l==="forward"?"deleteForward":"delete",h={sequence:c};if(d=="selection"){const p=Array.from(u.getRanges()).map(m=>e.editing.mapper.toModelRange(m));h.selection=e.model.createSelection(p)}else h.unit=d;e.execute(f,h),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iJ extends De{static get requires(){return[xI,ba]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function II(n,e){let t=n.start;return{text:Array.from(n.getItems()).reduce((s,r)=>r.is("$text")||r.is("$textProxy")?s+r.data:(t=e.createPositionAfter(r),""),""),range:e.createRange(t,n.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sJ extends Bt(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(i,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(i,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const i=this.model,r=i.document.selection,o=i.createRange(i.createPositionAt(r.focus.parent,0),r.focus),{text:a,range:l}=II(o,i),c=this.testCallback(a);if(!c&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!c,c){const u=Object.assign(t,{text:a,range:l});typeof c=="object"&&Object.assign(u,c),this.fire(`matched:${e}`,u)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eC extends De{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,i=e.editing.view,s=e.locale,r=t.document.selection;this.listenTo(i.document,"arrowKey",(o,a)=>{if(!r.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==Et.arrowright,c=a.keyCode==Et.arrowleft;if(!l&&!c)return;const u=s.contentLanguageDirection;let d=!1;u==="ltr"&&l||u==="rtl"&&c?d=this._handleForwardMovement(a):d=this._handleBackwardMovement(a),d===!0&&o.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(r,"change:range",(o,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&Gd(r.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,s=this.editor.model.document.selection,r=s.getFirstPosition();return this._isGravityOverridden||r.isAtStart&&hp(s,t)?!1:Gd(r,t)?(Ed(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,i=this.editor.model,s=i.document.selection,r=s.getFirstPosition();return this._isGravityOverridden?(Ed(e),this._restoreGravity(),mp(i,t,r),!0):r.isAtStart?hp(s,t)?(Ed(e),mp(i,t,r),!0):!1:rJ(r,t)?r.isAtEnd&&!hp(s,t)&&Gd(r,t)?(Ed(e),mp(i,t,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function hp(n,e){for(const t of e)if(n.hasAttribute(t))return!0;return!1}function mp(n,e,t){const i=t.nodeBefore;n.change(s=>{i?s.setSelectionAttribute(i.getAttributes()):s.removeSelectionAttribute(e)})}function Ed(n){n.preventDefault()}function rJ(n,e){const t=n.getShiftedBy(-1);return Gd(t,e)}function Gd(n,e){const{nodeBefore:t,nodeAfter:i}=n;for(const s of e){const r=t?t.getAttribute(s):void 0;if((i?i.getAttribute(s):void 0)!==r)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _l(n,e,t,i){return i.createRange(tC(n,e,t,!0,i),tC(n,e,t,!1,i))}function tC(n,e,t,i,s){let r=n.textNode||(i?n.nodeBefore:n.nodeAfter),o=null;for(;r&&r.getAttribute(e)==t;)o=r,r=i?r.previousSibling:r.nextSibling;return o?s.createPositionAt(o,i?"before":"after"):n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function oJ(n,e,t,i){const s=n.editing.view,r=new Set;s.document.registerPostFixer(o=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(e)){const c=_l(a.getFirstPosition(),e,a.getAttribute(e),n.model),u=n.editing.mapper.toViewRange(c);for(const d of u.getItems())d.is("element",t)&&!d.hasClass(i)&&(o.addClass(i,d),r.add(d),l=!0)}return l}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){s.change(l=>{for(const c of r.values())l.removeClass(i,c),r.delete(c)})}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*OI(n,e){for(const t of e)t&&n.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aJ extends kt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,i=t.document.selection,s=t.schema,r=i.isCollapsed,o=i.getFirstRange(),a=o.start.parent,l=o.end.parent;if(s.isLimit(a)||s.isLimit(l))return!r&&a==l&&t.deleteContent(i),!1;if(r){const c=OI(e.model.schema,i.getAttributes());return nC(e,o.start),e.setSelectionAttribute(c),!0}else{const c=!(o.start.isAtStart&&o.end.isAtEnd),u=a==l;if(t.deleteContent(i,{leaveUnmerged:c}),c){if(u)return nC(e,i.focus),!0;e.setSelection(l,0)}}return!1}}function nC(n,e){n.split(e),n.setSelection(e.parent.nextSibling,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const lJ={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class RI extends Ys{constructor(e){super(e);const t=this.document;let i=!1;t.on("keydown",(s,r)=>{i=r.shiftKey}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;let o=r.inputType;ht.isSafari&&i&&o=="insertParagraph"&&(o="insertLineBreak");const a=r.domEvent,l=lJ[o];if(!l)return;const c=new Wl(t,"enter",r.targetRanges[0]);t.fire(c,new bl(e,a,{isSoft:l.isSoft})),c.stop.called&&s.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dh extends De{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,i=t.document;t.addObserver(RI),e.commands.add("enter",new aJ(e)),this.listenTo(i,"enter",(s,r)=>{i.isComposing||r.preventDefault(),!r.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cJ extends kt{execute(){const e=this.editor.model,t=e.document;e.change(i=>{dJ(e,i,t.selection),this.fire("afterExecute",{writer:i})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=uJ(e.schema,t.selection)}}function uJ(n,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!n.checkChild(t,"softBreak"))return!1;const i=e.getFirstRange(),s=i.start.parent,r=i.end.parent;return!((Xg(s,n)||Xg(r,n))&&s!==r)}function dJ(n,e,t){const i=t.isCollapsed,s=t.getFirstRange(),r=s.start.parent,o=s.end.parent,a=r==o;if(i){const l=OI(n.schema,t.getAttributes());iC(n,e,s.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(l)}else{const l=!(s.start.isAtStart&&s.end.isAtEnd);n.deleteContent(t,{leaveUnmerged:l}),a?iC(n,e,t.focus):l&&e.setSelection(o,0)}}function iC(n,e,t){const i=e.createElement("softBreak");n.insertContent(i,t),e.setSelection(i,"after")}function Xg(n,e){return n.is("rootElement")?!1:e.isLimit(n)||Xg(n.parent,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fJ extends De{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,i=e.conversion,s=e.editing.view,r=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(o,{writer:a})=>a.createEmptyElement("br")}),s.addObserver(RI),e.commands.add("shiftEnter",new cJ(e)),this.listenTo(r,"enter",(o,a)=>{r.isComposing||a.preventDefault(),a.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hJ extends Vt(){constructor(){super(...arguments),this._stack=[]}add(e,t){const i=this._stack,s=i[0];this._insertDescriptor(e);const r=i[0];s!==r&&!pp(s,r)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:r,writer:t})}remove(e,t){const i=this._stack,s=i[0];this._removeDescriptor(e);const r=i[0];s!==r&&!pp(s,r)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:r,writer:t})}_insertDescriptor(e){const t=this._stack,i=t.findIndex(r=>r.id===e.id);if(pp(e,t[i]))return;i>-1&&t.splice(i,1);let s=0;for(;t[s]&&mJ(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,i=t.findIndex(s=>s.id===e);i>-1&&t.splice(i,1)}}function pp(n,e){return n&&e&&n.priority==e.priority&&If(n.classes)==If(e.classes)}function mJ(n,e){return n.priority>e.priority?!0:n.priority<e.priority?!1:If(n.classes)>If(e.classes)}function If(n){return Array.isArray(n)?n.sort().join(","):n}const pJ='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gJ="ck-widget",sC="ck-widget_selected";function tn(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function MI(n,e,t={}){if(!n.is("containerElement"))throw new L("widget-to-widget-wrong-element-type",null,{element:n});return e.setAttribute("contenteditable","false",n),e.addClass(gJ,n),e.setCustomProperty("widget",!0,n),n.getFillerOffset=CJ,e.setCustomProperty("widgetLabel",[],n),t.label&&yJ(n,t.label),t.hasSelectionHandle&&kJ(n,e),DI(n,e),n}function vJ(n,e,t){if(e.classes&&t.addClass(jn(e.classes),n),e.attributes)for(const i in e.attributes)t.setAttribute(i,e.attributes[i],n)}function bJ(n,e,t){if(e.classes&&t.removeClass(jn(e.classes),n),e.attributes)for(const i in e.attributes)t.removeAttribute(i,n)}function DI(n,e,t=vJ,i=bJ){const s=new hJ;s.on("change:top",(a,l)=>{l.oldDescriptor&&i(n,l.oldDescriptor,l.writer),l.newDescriptor&&t(n,l.newDescriptor,l.writer)});const r=(a,l,c)=>s.add(l,c),o=(a,l,c)=>s.remove(l,c);e.setCustomProperty("addHighlight",r,n),e.setCustomProperty("removeHighlight",o,n)}function yJ(n,e){n.getCustomProperty("widgetLabel").push(e)}function wJ(n){return n.getCustomProperty("widgetLabel").reduce((t,i)=>typeof i=="function"?t?t+". "+i():i():t?t+". "+i:i,"")}function FI(n,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),e.setAttribute("role","textbox",n),t.label&&e.setAttribute("aria-label",t.label,n),e.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(i,s,r)=>{e.setAttribute("contenteditable",r?"false":"true",n)}),n.on("change:isFocused",(i,s,r)=>{r?e.addClass("ck-editor__nested-editable_focused",n):e.removeClass("ck-editor__nested-editable_focused",n)}),DI(n,e),n}function _J(n,e){const t=n.getSelectedElement();if(t){const i=$r(n);if(i)return e.createRange(e.createPositionAt(t,i))}return ZP(n,e)}function CJ(){return null}function kJ(n,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(i){const s=this.toDomElement(i),r=new Hl;return r.set("content",pJ),r.render(),s.appendChild(r.element),s});e.insert(e.createPositionAt(n,0),t),e.addClass(["ck-widget_with-selection-handle"],n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ar="widget-type-around";function So(n,e,t){return!!n&&tn(n)&&!t.isInline(e)}function SJ(n){return n.closest(".ck-widget__type-around__button")}function EJ(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function TJ(n,e){const t=n.closest(".ck-widget");return e.mapDomToView(t)}function $r(n){return n.getAttribute(ar)}const AJ='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const NI=["before","after"],xJ=new DOMParser().parseFromString(AJ,"image/svg+xml").firstChild,rC="ck-widget__type-around_disabled";class PJ extends De{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Dh,ba]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(i,s,r)=>{t.change(o=>{for(const a of t.document.roots)r?o.removeClass(rC,a):o.addClass(rC,a)}),r||e.model.change(o=>{o.removeSelectionAttribute(ar)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const i=this.editor,s=i.editing.view,r=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,t),attributes:r}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,i,s){this.listenTo(e,t,(...r)=>{this.isEnabled&&i(...r)},s)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,s=$r(i);if(!s)return!1;const r=i.getSelectedElement();return this._insertParagraph(r,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,i=e.locale.t,s={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(r,o,a)=>{const l=a.mapper.toViewElement(o.item);l&&So(l,o.item,t)&&(IJ(a.writer,s,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,i=t.document.selection,s=t.schema,r=e.editing.view;this._listenToIfEnabled(r.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[tn,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(a,l)=>{l.directChange&&e.model.change(c=>{c.removeSelectionAttribute(ar)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const a=i.getSelectedElement();if(a){const l=e.editing.mapper.toViewElement(a);if(So(l,a,s))return}e.model.change(l=>{l.removeSelectionAttribute(ar)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,c)=>{const u=c.writer;if(this._currentFakeCaretModelElement){const p=c.mapper.toViewElement(this._currentFakeCaretModelElement);p&&(u.removeClass(NI.map(o),p),this._currentFakeCaretModelElement=null)}const d=l.selection.getSelectedElement();if(!d)return;const f=c.mapper.toViewElement(d);if(!So(f,d,s))return;const h=$r(l.selection);h&&(u.addClass(o(h),f),this._currentFakeCaretModelElement=d)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,c)=>{c||e.model.change(u=>{u.removeSelectionAttribute(ar)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){const i=this.editor,s=i.model,r=s.document.selection,o=s.schema,a=i.editing.view,l=t.keyCode,c=_W(l,i.locale.contentLanguageDirection),u=a.document.selection.getSelectedElement(),d=i.editing.mapper.toModelElement(u);let f;So(u,d,o)?f=this._handleArrowKeyPressOnSelectedWidget(c):r.isCollapsed?f=this._handleArrowKeyPressWhenSelectionNextToAWidget(c):t.shiftKey||(f=this._handleArrowKeyPressWhenNonCollapsedSelection(c)),f&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,s=i.document.selection,r=$r(s);return i.change(o=>{if(r){if(!(r===(e?"after":"before")))return o.removeSelectionAttribute(ar),!0}else return o.setSelectionAttribute(ar,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,i=t.model,s=i.schema,r=t.plugins.get("Widget"),o=r._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(o);return So(a,o,s)?(i.change(l=>{r._setSelectionOverElement(o),l.setSelectionAttribute(ar,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,i=t.model,s=i.schema,r=t.editing.mapper,o=i.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,l=r.toViewElement(a);return So(l,a,s)?(i.change(c=>{c.setSelection(a,"on"),c.setSelectionAttribute(ar,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(i,s)=>{const r=SJ(s.domTarget);if(!r)return;const o=EJ(r),a=TJ(r,t.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,o),s.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(s,r)=>{if(s.eventPhase!="atTarget")return;const o=t.getSelectedElement(),a=e.editing.mapper.toViewElement(o),l=e.model.schema;let c;this._insertParagraphAccordingToFakeCaretPosition()?c=!0:So(a,o,l)&&(this._insertParagraph(o,r.isSoft?"before":"after"),c=!0),c&&(r.preventDefault(),s.stop())},{context:tn})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(i,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),ht.isAndroid?this._listenToIfEnabled(t,"keydown",(i,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,i=e.model,s=i.schema;this._listenToIfEnabled(t.document,"delete",(r,o)=>{if(r.eventPhase!="atTarget")return;const a=$r(i.document.selection);if(!a)return;const l=o.direction,c=i.document.selection.getSelectedElement(),u=a==="before",d=l=="forward";if(u===d)e.execute("delete",{selection:i.createSelection(c,"on")});else{const h=s.getNearestSelectionRange(i.createPositionAt(c,a),l);if(h)if(!h.isCollapsed)i.change(p=>{p.setSelection(h),e.execute(d?"deleteForward":"delete")});else{const p=i.createSelection(h.start);if(i.modifySelection(p,{direction:l}),!p.focus.isEqual(h.start))i.change(m=>{m.setSelection(h),e.execute(d?"deleteForward":"delete")});else{const m=MJ(s,h.start.parent);i.deleteContent(i.createSelection(m,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),r.stop()},{context:tn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[r,o])=>{if(o&&!o.is("documentSelection"))return;const a=$r(i);if(a)return s.stop(),t.change(l=>{const c=i.getSelectedElement(),u=t.createPositionAt(c,a),d=l.createSelection(u),f=t.insertContent(r,d);return l.setSelection(d),f})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,r)=>{const[,o,a={}]=r;if(o&&!o.is("documentSelection"))return;const l=$r(i);l&&(a.findOptimalPosition=l,r[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[r])=>{if(r&&!r.is("documentSelection"))return;$r(i)&&s.stop()},{priority:"high"})}}function IJ(n,e,t){const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const r=this.toDomElement(s);return OJ(r,e),RJ(r),r});n.insert(n.createPositionAt(t,"end"),i)}function OJ(n,e){for(const t of NI){const i=new zs({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[n.ownerDocument.importNode(xJ,!0)]});n.appendChild(i.render())}}function RJ(n){const e=new zs({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(e.render())}function MJ(n,e){let t=e;for(const i of e.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;t=i}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function DJ(n){const e=n.model;return(t,i)=>{const s=i.keyCode==Et.arrowup,r=i.keyCode==Et.arrowdown,o=i.shiftKey,a=e.document.selection;if(!s&&!r)return;const l=r;if(o&&LJ(a,l))return;const c=FJ(n,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(o)return}(c.isCollapsed||NJ(n,c,l))&&(e.change(u=>{const d=l?c.end:c.start;if(o){const f=e.createSelection(a.anchor);f.setFocus(d),u.setSelection(f)}else u.setSelection(d)}),t.stop(),i.preventDefault(),i.stopPropagation())}}}function FJ(n,e,t){const i=n.model;if(t){const s=e.isCollapsed?e.focus:e.getLastPosition(),r=oC(i,s,"forward");if(!r)return null;const o=i.createRange(s,r),a=aC(i.schema,o,"backward");return a?i.createRange(s,a):null}else{const s=e.isCollapsed?e.focus:e.getFirstPosition(),r=oC(i,s,"backward");if(!r)return null;const o=i.createRange(r,s),a=aC(i.schema,o,"forward");return a?i.createRange(a,s):null}}function oC(n,e,t){const i=n.schema,s=n.createRangeIn(e.root),r=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of s.getWalker({startPosition:e,direction:t})){if(i.isLimit(a)&&!i.isInline(a))return o;if(l==r&&i.isBlock(a))return null}return null}function aC(n,e,t){const i=t=="backward"?e.end:e.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:s}of e.getWalker({direction:t}))if(n.checkChild(s,"$text"))return s;return null}function NJ(n,e,t){const i=n.model,s=n.view.domConverter;if(t){const c=i.createSelection(e.start);i.modifySelection(c),!c.focus.isAtEnd&&!e.start.isEqual(c.focus)&&(e=i.createRange(c.focus,e.end))}const r=n.mapper.toViewRange(e),o=s.viewRangeToDom(r),a=rn.getDomRangeRects(o);let l;for(const c of a){if(l===void 0){l=Math.round(c.bottom);continue}if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}return!0}function LJ(n,e){return!n.isCollapsed&&n.isBackward==e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fh extends De{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[PJ,ba]}init(){const e=this.editor,t=e.editing.view,i=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,r,o)=>{const a=o.writer,l=r.selection;if(l.isCollapsed)return;const c=l.getSelectedElement();if(!c)return;const u=e.editing.mapper.toViewElement(c);tn(u)&&o.consumable.consume(l,"selection")&&a.setSelection(a.createRangeOn(u),{fake:!0,label:wJ(u)})}),this.editor.editing.downcastDispatcher.on("selection",(s,r,o)=>{this._clearPreviouslySelectedWidgets(o.writer);const a=o.writer,l=a.document.selection;let c=null;for(const u of l.getRanges())for(const d of u){const f=d.item;tn(f)&&!$J(f,c)&&(a.addClass(sC,f),this._previouslySelected.add(f),c=f)}},{priority:"low"}),t.addObserver(dy),this.listenTo(i,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(i,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[tn,"$text"]}),this.listenTo(i,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(i,"arrowKey",DJ(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(s,r)=>{this._handleDelete(r.direction=="forward")&&(r.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const i=this.editor,s=i.editing.view,r=s.document;let o=t.target;if(BJ(o)){if((ht.isSafari||ht.isGecko)&&t.domEvent.detail>=3){const l=i.editing.mapper,c=o.is("attributeElement")?o.findAncestor(d=>!d.is("attributeElement")):o,u=l.toModelElement(c);t.preventDefault(),this.editor.model.change(d=>{d.setSelection(u,"in")})}return}if(!tn(o)&&(o=o.findAncestor(tn),!o))return;ht.isAndroid&&t.preventDefault(),r.isFocused||s.focus();const a=i.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_handleSelectionChangeOnArrowKeyPress(e,t){const i=t.keyCode,s=this.editor.model,r=s.schema,o=s.document.selection,a=o.getSelectedElement(),l=Yb(i,this.editor.locale.contentLanguageDirection),c=l=="down"||l=="right",u=l=="up"||l=="down";if(a&&r.isObject(a)){const f=c?o.getLastPosition():o.getFirstPosition(),h=r.getNearestSelectionRange(f,c?"forward":"backward");h&&(s.change(p=>{p.setSelection(h)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed&&!t.shiftKey){const f=o.getFirstPosition(),h=o.getLastPosition(),p=f.nodeAfter,m=h.nodeBefore;(p&&r.isObject(p)||m&&r.isObject(m))&&(s.change(b=>{b.setSelection(c?h:f)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed)return;const d=this._getObjectElementNextToSelection(c);if(d&&r.isObject(d)){if(r.isInline(d)&&u)return;this._setSelectionOverElement(d),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const i=this.editor.model,s=i.schema,r=i.document.selection.getSelectedElement();r&&s.isObject(r)&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const i=this.editor.model.document.selection;if(!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(r=>{let o=i.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,r.remove(a)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,i=t.schema,s=t.document.selection,r=t.createSelection(s);if(t.modifySelection(r,{direction:e?"forward":"backward"}),r.isEqual(s))return null;const o=e?r.focus.nodeBefore:r.focus.nodeAfter;return o&&i.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(sC,t);this._previouslySelected.clear()}}function BJ(n){let e=n;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(tn(e))return!1;e=e.parent}return!1}function $J(n,e){return e?Array.from(n.getAncestors()).includes(e):!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Of extends De{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[xf]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",i=>{VJ(e.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:i,getRelatedElement:s,balloonClassName:r="ck-toolbar-container"}){if(!i.length){Jt("widget-toolbar-no-items",{toolbarId:e});return}const o=this.editor,a=o.t,l=new hy(o.locale);if(l.ariaLabel=t||a("Widget toolbar"),this._toolbarDefinitions.has(e))throw new L("widget-toolbar-duplicated",this,{toolbarId:e});const c={view:l,getRelatedElement:s,balloonClassName:r,itemsConfig:i,initialized:!1};o.ui.addToolbar(l,{isContextual:!0,beforeFocus:()=>{const u=s(o.editing.view.document.selection);u&&this._showToolbar(c,u)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(e,c)}_updateToolbarsVisibility(){let e=0,t=null,i=null;for(const s of this._toolbarDefinitions.values()){const r=s.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!r)this._isToolbarInBalloon(s)&&this._hideToolbar(s);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(s)&&this._hideToolbar(s);else{const o=r.getAncestors().length;o>e&&(e=o,t=r,i=s)}}i&&this._showToolbar(i,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?lC(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:LI(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const s=i.getRelatedElement(this.editor.editing.view.document.selection);lC(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function lC(n,e){const t=n.plugins.get("ContextualBalloon"),i=LI(n,e);t.updatePosition(i)}function LI(n,e){const t=n.editing.view,i=ii.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function VJ(n){const e=n.getSelectedElement();return!!(e&&tn(e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UJ extends De{static get pluginName(){return"DragDrop"}static get requires(){return[Cr,Fh]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=FT(i=>this._updateDropMarker(i),40),this._removeDropMarkerDelayed=dC(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=dC(()=>this._clearDraggableAttributes(),40),t.addObserver(yy),t.addObserver(dy),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,s,r)=>{r?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,s,r)=>{r||this._finalizeDragging(!1)}),ht.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,i=t.document,s=e.editing.view,r=s.document;this.listenTo(r,"dragstart",(o,a)=>{const l=i.selection;if(a.target&&a.target.is("editableElement")){a.preventDefault();return}const c=a.target?fC(a.target):null;if(c){const f=e.editing.mapper.toModelElement(c);this._draggedRange=Gs.fromRange(t.createRangeOn(f)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!r.selection.isCollapsed){const f=r.selection.getSelectedElement();(!f||!tn(f))&&(this._draggedRange=Gs.fromRange(l.getFirstRange()))}if(!this._draggedRange){a.preventDefault();return}this._draggingUid=Ks(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const u=t.createSelection(this._draggedRange.toRange()),d=e.data.toView(t.getSelectedContent(u));r.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:d,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(r,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const l=cC(e,a.targetRanges,a.target);this._draggedRange||(a.dataTransfer.dropEffect="copy"),ht.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move"));/* istanbul ignore else -- @preserve */l&&this._updateDropMarkerThrottled(l)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"clipboardInput",(s,r)=>{if(r.method!="drop")return;const o=cC(e,r.targetRanges,r.target);this._removeDropMarker();/* istanbul ignore if -- @preserve */if(!o){this._finalizeDragging(!1),s.stop();return}if(this._draggedRange&&this._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),uC(r.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(o,!0)){this._finalizeDragging(!1),s.stop();return}r.targetRanges=[e.editing.mapper.toViewRange(o)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Cr);e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const s=i.targetRanges.map(r=>this.editor.editing.mapper.toModelRange(r));this.editor.model.change(r=>r.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const s=uC(i.dataTransfer)=="move",r=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(r&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,i=t.document;this.listenTo(i,"mousedown",(s,r)=>{if(ht.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let o=fC(r.target);if(ht.isBlink&&!e.isReadOnly&&!o&&!i.selection.isCollapsed){const a=i.selection.getSelectedElement();(!a||!tn(a))&&(o=i.selection.editableElement)}o&&(t.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(i,"mouseup",()=>{ht.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:i})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return i.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(r){const o=this.toDomElement(r);return o.append("",r.createElement("span"),""),o})}})}_updateDropMarker(e){const t=this.editor,i=t.model.markers;t.model.change(s=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_finalizeDragging(e){const t=this.editor,i=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&i.deleteContent(i.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function cC(n,e,t){const i=n.model,s=n.editing.mapper;let r=null;const o=e?e[0].start:null;if(t.is("uiElement")&&(t=t.parent),r=zJ(n,t),r)return r;const a=qJ(n,t),l=o?s.toModelPosition(o):null;return l?(r=WJ(n,l,a),r||(r=i.schema.getNearestSelectionRange(l,ht.isGecko?"forward":"backward"),r)?r:jJ(n,l.parent)):HJ(n,a)}function zJ(n,e){const t=n.model,i=n.editing.mapper;if(tn(e))return t.createRangeOn(i.toModelElement(e));if(!e.is("editableElement")){const s=e.findAncestor(r=>tn(r)||r.is("editableElement"));if(tn(s))return t.createRangeOn(i.toModelElement(s))}return null}function HJ(n,e){const t=n.model,i=t.schema,s=t.createPositionAt(e,0);return i.getNearestSelectionRange(s,"forward")}function WJ(n,e,t){const i=n.model;if(!i.schema.checkChild(t,"$block"))return null;const s=i.createPositionAt(t,0),r=e.path.slice(0,s.path.length),a=i.createPositionFromPath(e.root,r).nodeAfter;return a&&i.schema.isObject(a)?i.createRangeOn(a):null}function jJ(n,e){const t=n.model;let i=e;for(;i;){if(t.schema.isObject(i))return t.createRangeOn(i);i=i.parent}/* istanbul ignore next -- @preserve */return null}function qJ(n,e){const t=n.editing.mapper,i=n.editing.view,s=t.toModelElement(e);if(s)return s;const r=i.createPositionBefore(e),o=t.findMappedViewAncestor(r);return t.toModelElement(o)}function uC(n){return ht.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function dC(n,e){let t;function i(...s){i.cancel(),t=setTimeout(()=>n(...s),e)}return i.cancel=()=>{clearTimeout(t)},i}function fC(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(tn);if(tn(n))return n;const e=n.findAncestor(t=>tn(t)||t.is("editableElement"));return tn(e)?e:null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KJ extends De{static get pluginName(){return"PastePlainText"}static get requires(){return[Cr]}init(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document,r=t.document.selection;let o=!1;i.addObserver(yy),this.listenTo(s,"keydown",(a,l)=>{o=l.shiftKey}),e.plugins.get(Cr).on("contentInsertion",(a,l)=>{!o&&!GJ(l.content,t.schema)||t.change(c=>{const u=Array.from(r.getAttributes()).filter(([f])=>t.schema.getAttributeProperties(f).isFormatting);r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),u.push(...r.getAttributes());const d=c.createRangeIn(l.content);for(const f of d.getItems())f.is("$textProxy")&&c.setAttributes(u,f)})})}}function GJ(n,e){if(n.childCount>1)return!1;const t=n.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QJ extends De{static get pluginName(){return"Clipboard"}static get requires(){return[Cr,UJ,KJ]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YJ extends kt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let i=e.schema.getLimitElement(t);if(t.containsEntireContent(i)||!hC(e.schema,i))do if(i=i.parent,!i)return;while(!hC(e.schema,i));e.change(s=>{s.setSelection(i,"in")})}}function hC(n,e){return n.isLimit(e)&&(n.checkChild(e,"$text")||n.checkChild(e,"paragraph"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const JJ=Qb("Ctrl+A");class XJ extends De{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.editing.view.document;e.commands.add("selectAll",new YJ(e)),this.listenTo(i,"keydown",(s,r)=>{pl(r)===JJ&&(e.execute("selectAll"),r.preventDefault())})}}const ZJ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eX extends De{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const i=e.commands.get("selectAll"),s=new Zt(t),r=t.t;return s.set({label:r("Select all"),icon:ZJ,keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tX extends De{static get requires(){return[XJ,eX]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BI extends kt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(t,i)=>{i[1]={...i[1]};const s=i[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,i){const s=this.editor.model,r=s.document,o=[],a=e.map(c=>c.getTransformedByOperations(i)),l=a.flat();for(const c of a){const u=c.filter(d=>d.root!=r.graveyard).filter(d=>!iX(d,l));u.length&&(nX(u),o.push(u[0]))}o.length&&s.change(c=>{c.setSelection(o,{backward:t})})}_undo(e,t){const i=this.editor.model,s=i.document;this._createdBatches.add(t);const r=e.operations.slice().filter(o=>o.isDocumentOperation);r.reverse();for(const o of r){const a=o.baseVersion+1,l=Array.from(s.history.getOperations(a)),u=VK([o.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const d of u)t.addOperation(d),i.applyOperation(d),s.history.setOperationAsUndone(o,d)}}}function nX(n){n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){const i=n[e-1].getJoined(n[e],!0);i&&(e--,n.splice(e,2,i))}}function iX(n,e){return e.some(t=>t!==n&&t.containsRange(n,!0))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sX extends BI{execute(e=null){const t=e?this._stack.findIndex(r=>r.batch==e):this._stack.length-1,i=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(i.batch,s);const r=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,r),this.fire("revert",i.batch,s)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rX extends BI{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r),this._undo(e.batch,t)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oX extends De{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new sX(e),this._redoCommand=new rX(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,i)=>{const s=i[0];if(!s.isDocumentOperation)return;const r=s.batch,o=this._redoCommand.createdBatches.has(r),a=this._undoCommand.createdBatches.has(r);this._batchRegistry.has(r)||(this._batchRegistry.add(r),r.isUndoable&&(o?this._undoCommand.addBatch(r):a||(this._undoCommand.addBatch(r),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,i,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const mC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',pC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aX extends De{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,i=e.t,s=t.uiLanguageDirection=="ltr"?mC:pC,r=t.uiLanguageDirection=="ltr"?pC:mC;this._addButton("undo",i("Undo"),"CTRL+Z",s),this._addButton("redo",i("Redo"),"CTRL+Y",r)}_addButton(e,t,i,s){const r=this.editor;r.ui.componentFactory.add(e,o=>{const a=r.commands.get(e),l=new Zt(o);return l.set({label:t,icon:s,keystroke:i,tooltip:!0}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>{r.execute(e),r.editing.view.focus()}),l})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lX extends De{static get requires(){return[oX,aX]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cX extends De{static get requires(){return[QJ,Dh,tX,fJ,iJ,lX]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Mr(n,e,t,i){let s,r=null;typeof i=="function"?s=i:(r=n.commands.get(i),s=()=>{n.execute(i)}),n.model.document.on("change:data",(o,a)=>{if(r&&!r.isEnabled||!e.isEnabled)return;const l=Sn(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const c=Array.from(n.model.document.differ.getChanges()),u=c[0];if(c.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)return;const d=u.position.parent;if(d.is("element","codeBlock")||d.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||r&&r.value===!0)return;const f=d.getChild(0),h=n.model.createRangeOn(f);if(!h.containsRange(l)&&!l.end.isEqual(h.end))return;const p=t.exec(f.data.substr(0,l.end.offset));p&&n.model.enqueueChange(m=>{const b=m.createPositionAt(d,0),v=m.createPositionAt(d,p[0].length),w=new Gs(b,v);if(s({match:p})!==!1){m.remove(w);const _=n.model.document.selection.getFirstRange(),T=m.createRangeIn(d);d.isEmpty&&!T.isEqual(_)&&!T.containsRange(_,!0)&&m.remove(d)}w.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Oa(n,e,t,i){let s,r;t instanceof RegExp?s=t:r=t,r=r||(o=>{let a;const l=[],c=[];for(;(a=s.exec(o))!==null&&!(a&&a.length<4);){let{index:u,"1":d,"2":f,"3":h}=a;const p=d+f+h;u+=a[0].length-p.length;const m=[u,u+d.length],b=[u+d.length+f.length,u+d.length+f.length+h.length];l.push(m),l.push(b),c.push([u+d.length,u+d.length+f.length])}return{remove:l,format:c}}),n.model.document.on("change:data",(o,a)=>{if(a.isUndo||!a.isLocal||!e.isEnabled)return;const l=n.model,c=l.document.selection;if(!c.isCollapsed)return;const u=Array.from(l.document.differ.getChanges()),d=u[0];if(u.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1)return;const f=c.focus,h=f.parent,{text:p,range:m}=uX(l.createRange(l.createPositionAt(h,0),f),l),b=r(p),v=gC(m.start,b.format,l),w=gC(m.start,b.remove,l);v.length&&w.length&&l.enqueueChange(C=>{if(i(C,v)!==!1){for(const T of w.reverse())C.remove(T);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function gC(n,e,t){return e.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>t.createRange(n.getShiftedBy(i[0]),n.getShiftedBy(i[1])))}function uX(n,e){let t=n.start;return{text:Array.from(n.getItems()).reduce((s,r)=>!(r.is("$text")||r.is("$textProxy"))||r.getAttribute("code")?(t=e.createPositionAfter(r),""):s+r.data,""),range:e.createRange(t,n.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dX extends De{static get requires(){return[ba]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Mr(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Mr(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&Mr(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&Mr(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=Td(this.editor,"bold");Oa(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Oa(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=Td(this.editor,"italic");Oa(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Oa(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=Td(this.editor,"code");Oa(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=Td(this.editor,"strikethrough");Oa(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const i=t[7],s=new RegExp(`^(#{${i}})\\s$`);Mr(this.editor,this,s,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Mr(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&Mr(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Mr(this.editor,this,/^---$/,"horizontalLine")}}function Td(n,e){return(t,i)=>{if(!n.commands.get(e).isEnabled)return!1;const r=n.model.schema.getValidRanges(i,e);for(const o of r)t.setAttribute(e,!0,o);t.removeSelectionAttribute(e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $I extends kt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,s=t.document.selection,r=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(s.isCollapsed)r?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=t.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const l of a)r?o.setAttribute(this.attributeKey,r,l):o.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const s of i.getRanges())for(const r of s.getItems())if(t.checkAttribute(r,this.attributeKey))return r.hasAttribute(this.attributeKey);return!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ra="bold";class fX extends De{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Ra}),e.model.schema.setAttributeProperties(Ra,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ra,view:"strong",upcastAlso:["b",t=>{const i=t.getStyle("font-weight");return i&&(i=="bold"||Number(i)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Ra,new $I(e,Ra)),e.keystrokes.set("CTRL+B",Ra)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gp="bold";class hX extends De{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(gp,i=>{const s=e.commands.get(gp),r=new Zt(i);return r.set({label:t("Bold"),icon:en.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(gp),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vC extends De{static get requires(){return[fX,hX]}static get pluginName(){return"Bold"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ma="italic";class mX extends De{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Ma}),e.model.schema.setAttributeProperties(Ma,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ma,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Ma,new $I(e,Ma)),e.keystrokes.set("CTRL+I",Ma)}}const pX='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const vp="italic";class gX extends De{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(vp,i=>{const s=e.commands.get(vp),r=new Zt(i);return r.set({label:t("Italic"),icon:pX,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(vp),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bC extends De{static get requires(){return[mX,gX]}static get pluginName(){return"Italic"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vX extends kt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.schema,s=t.document.selection,r=Array.from(s.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;t.change(a=>{if(!o)this._removeQuote(a,r.filter(Ad));else{const l=r.filter(c=>Ad(c)||wC(i,c));this._applyQuote(a,l)}})}_getValue(){const e=this.editor.model.document.selection,t=Sn(e.getSelectedBlocks());return!!(t&&Ad(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=Sn(e.getSelectedBlocks());return i?wC(t,i):!1}_removeQuote(e,t){yC(e,t).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd){e.unwrap(i.start.parent);return}if(i.start.isAtStart){const r=e.createPositionBefore(i.start.parent);e.move(i,r);return}i.end.isAtEnd||e.split(i.end);const s=e.createPositionAfter(i.end.parent);e.move(i,s)})}_applyQuote(e,t){const i=[];yC(e,t).reverse().forEach(s=>{let r=Ad(s.start);r||(r=e.createElement("blockQuote"),e.wrap(s,r)),i.push(r)}),i.reverse().reduce((s,r)=>s.nextSibling==r?(e.merge(e.createPositionAfter(s)),s):r)}}function Ad(n){return n.parent.name=="blockQuote"?n.parent:null}function yC(n,e){let t,i=0;const s=[];for(;i<e.length;){const r=e[i],o=e[i+1];t||(t=n.createPositionBefore(r)),(!o||r.nextSibling!=o)&&(s.push(n.createRange(t,n.createPositionAfter(r))),t=null),i++}return s}function wC(n,e){const t=n.checkChild(e.parent,"blockQuote"),i=n.checkChild(["$root","blockQuote"],e);return t&&i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bX extends De{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Dh,ba]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new vX(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const a=e.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const c=l.position.nodeAfter;if(!c)continue;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0;if(c.is("element","blockQuote")&&!t.checkChild(l.position,c))return o.unwrap(c),!0;if(c.is("element")){const u=o.createRangeIn(c);for(const d of u.getItems())if(d.is("element","blockQuote")&&!t.checkChild(o.createPositionBefore(d),d))return o.unwrap(d),!0}}else if(l.type=="remove"){const c=l.position.parent;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0}return!1});const i=this.editor.editing.view.document,s=e.model.document.selection,r=e.commands.get("blockQuote");this.listenTo(i,"enter",(o,a)=>{if(!s.isCollapsed||!r.value)return;s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(o,a)=>{if(a.direction!="backward"||!s.isCollapsed||!r.value)return;const l=s.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yX extends De{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",i=>{const s=e.commands.get("blockQuote"),r=new Zt(i);return r.set({label:t("Block quote"),icon:en.quote,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wX extends De{static get requires(){return[bX,yX]}static get pluginName(){return"BlockQuote"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _X extends kt{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Sn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>_C(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,i=t.document,s=e.value;t.change(r=>{const o=Array.from(i.selection.getSelectedBlocks()).filter(a=>_C(a,s,t.schema));for(const a of o)a.is("element",s)||r.rename(a,s)})}}function _C(n,e,t){return t.checkChild(n.parent,e)&&!t.isObject(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const CC="paragraph";class CX extends De{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Ou]}init(){const e=this.editor,t=e.config.get("heading.options"),i=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),i.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new _X(e,i))}afterInit(){const e=this.editor,t=e.commands.get("enter"),i=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,r)=>{const o=e.model.document.selection.getFirstPosition().parent;i.some(l=>o.is("element",l.model))&&!o.is("element",CC)&&o.childCount===0&&r.writer.rename(o,CC)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Yr.get("low")+1})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kX(n){const e=n.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return n.config.get("heading.options").map(i=>{const s=t[i.title];return s&&s!=i.title&&(i.title=s),i})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SX extends De{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,i=kX(e),s=t("Choose heading"),r=t("Heading");e.ui.componentFactory.add("heading",o=>{const a={},l=new ys,c=e.commands.get("heading"),u=e.commands.get("paragraph"),d=[c];for(const h of i){const p={type:"button",model:new lI({label:h.title,class:h.class,withText:!0})};h.model==="paragraph"?(p.model.bind("isOn").to(u,"value"),p.model.set("commandName","paragraph"),d.push(u)):(p.model.bind("isOn").to(c,"value",m=>m===h.model),p.model.set({commandName:"heading",commandValue:h.model})),l.add(p),a[h.model]=h.title}const f=Jr(o);return nI(f,l),f.buttonView.set({isOn:!1,withText:!0,tooltip:r}),f.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),f.bind("isEnabled").toMany(d,"isEnabled",(...h)=>h.some(p=>p)),f.buttonView.bind("label").to(c,"value",u,"value",(h,p)=>{const m=h||p&&"paragraph";return typeof m=="boolean"||!a[m]?s:a[m]}),this.listenTo(f,"execute",h=>{const{commandName:p,commandValue:m}=h.source;e.execute(p,m?{value:m}:void 0),e.editing.view.focus()}),f})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EX extends De{static get requires(){return[CX,SX]}static get pluginName(){return"Heading"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TX extends kt{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled&&i.hasAttribute("alt")?this.value=i.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,i=t.plugins.get("ImageUtils"),s=t.model,r=i.getClosestSelectedImageElement(s.document.selection);s.change(o=>{o.setAttribute("alt",e.newValue,r)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function AX(n){return n.createContainerElement("span",{class:"image-inline"},n.createEmptyElement("img"))}function kC(n){return n.createContainerElement("figure",{class:"image"},[n.createEmptyElement("img"),n.createSlot("children")])}function VI(n,e){const t=n.plugins.get("ImageUtils"),i=n.plugins.has("ImageInlineEditing")&&n.plugins.has("ImageBlockEditing");return r=>t.isInlineImageView(r)?i&&(r.getStyle("display")=="block"||r.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(r):null;function s(r){const o={name:!0};return r.hasAttribute("src")&&(o.attributes=["src"]),o}}function wy(n,e){const t=Sn(e.getSelectedBlocks());return!t||n.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qs extends De{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,i=null){const s=this.editor,r=s.model,o=r.document.selection;i=UI(s,t||o,i),e={...Object.fromEntries(o.getAttributes()),...e};for(const a in e)r.schema.checkAttribute(i,a)||delete e[a];return r.change(a=>{const l=a.createElement(i,e);return r.insertObject(l,t,null,{setSelection:"on",findOptimalPosition:!t&&i!="imageInline"?"auto":void 0}),l.parent?l:null})}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const i=e.getSelectedElement();if(i&&this.isImageWidget(i))return i;let s=t.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const t=this.editor.model.document.selection;return xX(this.editor,t)&&PX(t)}toImageWidget(e,t,i){return t.setCustomProperty("image",!0,e),MI(e,t,{label:()=>{const o=this.findViewImgElement(e).getAttribute("alt");return o?`${o} ${i}`:i}})}isImageWidget(e){return!!e.getCustomProperty("image")&&tn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:i}of t.createRangeIn(e))if(this.isInlineImageView(i))return i}}function xX(n,e){if(UI(n,e,null)=="imageBlock"){const i=IX(e,n.model);if(n.model.schema.checkChild(i,"imageBlock"))return!0}else if(n.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function PX(n){return[...n.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function IX(n,e){const i=_J(n,e).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}function UI(n,e,t){const i=n.model.schema,s=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?t||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?wy(i,e):i.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class OX extends De{static get requires(){return[Qs]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new TX(this.editor))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RX extends Ct{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new ws,this.keystrokes=new Tr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),en.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),en.cancel,"ck-button-cancel","cancel"),this._focusables=new ma,this._focusCycler=new Iu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),kx({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,i,s){const r=new Zt(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:i}}),s&&r.delegate("execute").to(this,s),r}_createLabeledInputView(){const e=this.locale.t,t=new oI(this.locale,aI);return t.label=e("Text alternative"),t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function MX(n){const e=n.plugins.get("ContextualBalloon");if(n.plugins.get("ImageUtils").getClosestSelectedImageWidget(n.editing.view.document.selection)){const i=zI(n);e.updatePosition(i)}}function zI(n){const e=n.editing.view,t=ii.defaultPositions,i=n.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DX extends De{static get requires(){return[xf]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",i=>{const s=e.commands.get("imageTextAlternative"),r=new Zt(i);return r.set({label:t("Change image text alternative"),icon:en.lowVision,tooltip:!0}),r.bind("isEnabled").to(s,"isEnabled"),r.bind("isOn").to(s,"value",o=>!!o),this.listenTo(r,"execute",()=>{this._showForm()}),r})}_createForm(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Cx(RX))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(r,o)=>{this._hideForm(!0),o()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(i.selection)?this._isVisible&&MX(e):this._hideForm(!0)}),qb({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),i=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:zI(e)}),i.fieldView.value=i.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HI extends De{static get requires(){return[OX,DX]}static get pluginName(){return"ImageTextAlternative"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function FX(n){const e=(t,i,s)=>{if(!s.consumable.test(i.viewItem,{name:!0,classes:"image"}))return;const r=n.findViewImgElement(i.viewItem);if(!r||!s.consumable.test(r,{name:!0}))return;s.consumable.consume(i.viewItem,{name:!0,classes:"image"});const o=s.convertItem(r,i.modelCursor),a=Sn(o.modelRange.getItems());if(!a){s.consumable.revert(i.viewItem,{name:!0,classes:"image"});return}s.convertChildren(i.viewItem,a),s.updateConversionResult(a,i)};return t=>{t.on("element:figure",e)}}function WI(n,e){const t=(i,s,r)=>{if(!r.consumable.consume(s.item,i.name))return;const o=r.writer,a=r.mapper.toViewElement(s.item),l=n.findViewImgElement(a);if(s.attributeNewValue===null){const c=s.attributeOldValue;c&&c.data&&(o.removeAttribute("srcset",l),o.removeAttribute("sizes",l),c.width&&o.removeAttribute("width",l))}else{const c=s.attributeNewValue;c&&c.data&&(o.setAttribute("srcset",c.data,l),o.setAttribute("sizes","100vw",l),c.width&&o.setAttribute("width",c.width,l))}};return i=>{i.on(`attribute:srcset:${e}`,t)}}function Rf(n,e,t){const i=(s,r,o)=>{if(!o.consumable.consume(r.item,s.name))return;const a=o.writer,l=o.mapper.toViewElement(r.item),c=n.findViewImgElement(l);a.setAttribute(r.attributeKey,r.attributeNewValue||"",c)};return s=>{s.on(`attribute:${t}:${e}`,i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class NX extends Ys{observe(e){this.listenTo(e,"load",(t,i)=>{const s=i.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LX extends kt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&Jt("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&Jt("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=jn(e.source),i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());t.forEach((o,a)=>{const l=i.getSelectedElement();if(typeof o=="string"&&(o={src:o}),a&&l&&s.isImage(l)){const c=this.editor.model.createPositionAfter(l);s.insertImage({...o,...r},c)}else s.insertImage({...o,...r})})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BX extends kt{refresh(){const t=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(i=>{i.setAttribute("src",e.source,t),i.removeAttribute("srcset",t),i.removeAttribute("sizes",t)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jI extends De{static get requires(){return[Qs]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(NX),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:r=>{const o={data:r.getAttribute("srcset")};return r.hasAttribute("width")&&(o.width=r.getAttribute("width")),o}}});const i=new LX(e),s=new BX(e);e.commands.add("insertImage",i),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qI extends kt{constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),i=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(i):this.isEnabled=t.isBlockImage(i)}execute(){const e=this.editor,t=this.editor.model,i=e.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(t.document.selection),r=Object.fromEntries(s.getAttributes());return!r.src&&!r.uploadId?null:t.change(o=>{const a=Array.from(t.markers).filter(u=>u.getRange().containsItem(s)),l=i.insertImage(r,t.createSelection(s,"on"),this._modelElementName);if(!l)return null;const c=o.createRangeOn(l);for(const u of a){const d=u.getRange(),f=d.root.rootName!="$graveyard"?d.getJoined(c,!0):c;o.updateMarker(u,{range:f})}return{oldElement:s,newElement:l}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KI extends De{static get requires(){return[jI,Qs,Cr]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new qI(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,i=e.conversion,s=e.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:o})=>kC(o)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:o})=>s.toImageWidget(kC(o),o,t("image widget"))}),i.for("downcast").add(Rf(s,"imageBlock","src")).add(Rf(s,"imageBlock","alt")).add(WI(s,"imageBlock")),i.for("upcast").elementToElement({view:VI(e,"imageBlock"),model:(r,{writer:o})=>o.createElement("imageBlock",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)}).add(FX(s))}_setupClipboardIntegration(){const e=this.editor,t=e.model,i=e.editing.view,s=e.plugins.get("ImageUtils"),r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(s.isInlineImageView))return;a.targetRanges?c=e.editing.mapper.toModelRange(a.targetRanges[0]):c=t.document.selection.getFirstRange();const u=t.createSelection(c);if(wy(t.schema,u)==="imageBlock"){const d=new fy(i.document),f=l.map(h=>d.createElement("figure",{class:"image"},h));a.content=d.createDocumentFragment(f)}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $X extends De{static get requires(){return[KI,Fh,HI]}static get pluginName(){return"ImageBlock"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VX extends De{static get requires(){return[jI,Qs,Cr]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((i,s)=>{if(i.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new qI(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,i=e.conversion,s=e.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(r,{writer:o})=>o.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(r,{writer:o})=>s.toImageWidget(AX(o),o,t("image widget"))}),i.for("downcast").add(Rf(s,"imageInline","src")).add(Rf(s,"imageInline","alt")).add(WI(s,"imageInline")),i.for("upcast").elementToElement({view:VI(e,"imageInline"),model:(r,{writer:o})=>o.createElement("imageInline",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,i=e.editing.view,s=e.plugins.get("ImageUtils"),r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(s.isBlockImageView))return;a.targetRanges?c=e.editing.mapper.toModelRange(a.targetRanges[0]):c=t.document.selection.getFirstRange();const u=t.createSelection(c);if(wy(t.schema,u)==="imageInline"){const d=new fy(i.document),f=l.map(h=>h.childCount===1?(Array.from(h.getAttributes()).forEach(p=>d.setAttribute(...p,s.findViewImgElement(h))),h.getChild(0)):h);a.content=d.createDocumentFragment(f)}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UX extends De{static get requires(){return[VX,Fh,HI]}static get pluginName(){return"ImageInline"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zX extends De{static get requires(){return[$X,UX]}static get pluginName(){return"Image"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HX extends kt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),i=e.plugins.get("ImageUtils");if(!e.plugins.has(KI)){this.isEnabled=!1,this.value=!1;return}const s=e.model.document.selection,r=s.getSelectedElement();if(!r){const o=t.getCaptionFromModelSelection(s);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=i.isImage(r),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(r):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,t)})}_showImageCaption(e,t){const s=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let a=s.getSelectedElement();const l=r._getSavedCaption(a);o.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=s.getSelectedElement());const c=l||e.createElement("caption");e.append(c,a),t&&e.setSelection(c,"in")}_hideImageCaption(e){const t=this.editor,i=t.model.document.selection,s=t.plugins.get("ImageCaptionEditing"),r=t.plugins.get("ImageCaptionUtils");let o=i.getSelectedElement(),a;o?a=r.getCaptionFromImageModelElement(o):(a=r.getCaptionFromModelSelection(i),o=a.parent),s._saveCaption(o,a),e.setSelection(o,"on"),e.remove(a)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class GI extends De{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Qs]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),i=e.getFirstPosition().findAncestor("caption");return i&&t.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WX extends De{static get requires(){return[Qs,GI]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new HX(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),r=e.t;e.conversion.for("upcast").elementToElement({view:o=>s.matchImageCaptionViewElement(o),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>i.isBlockImage(o.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!i.isBlockImage(o.parent))return null;const l=a.createEditableElement("figcaption");a.setCustomProperty("imageCaption",!0,l),oP({view:t,element:l,text:r("Enter image caption"),keepOnFocus:!0});const c=o.parent.getAttribute("alt"),u=c?r("Caption for image: %0",[c]):r("Caption for the image");return FI(l,a,{label:u})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),r=e.commands.get("imageTypeBlock"),o=a=>{if(!a.return)return;const{oldElement:l,newElement:c}=a.return;/* istanbul ignore if: paranoid check -- @preserve */if(!l)return;if(t.isBlockImage(l)){const d=i.getCaptionFromImageModelElement(l);if(d){this._saveCaption(c,d);return}}const u=this._getSavedCaption(l);u&&this._saveCaption(c,u)};s&&this.listenTo(s,"execute",o,{priority:"low"}),r&&this.listenTo(r,"execute",o,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Gt.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const r=t.document.differ.getChanges();for(const o of r){if(o.attributeKey!=="alt")continue;const a=o.range.start.nodeAfter;if(i.isBlockImage(a)){const l=s.getCaptionFromImageModelElement(a);if(!l)return;e.editing.reconvertItem(l)}}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jX extends De{static get requires(){return[GI]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",r=>{const o=e.commands.get("toggleImageCaption"),a=new Zt(r);return a.set({icon:en.caption,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.bind("label").to(o,"value",l=>s(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=i.getCaptionFromModelSelection(e.model.document.selection);if(l){const c=e.editing.mapper.toViewElement(l);t.scrollToTheSelection(),t.change(u=>{u.addClass("image__caption_highlighted",c)})}e.editing.view.focus()}),a})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qX extends De{static get requires(){return[WX,jX]}static get pluginName(){return"ImageCaption"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KX extends kt{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(i=>{if(i.isDefault)for(const s of i.modelElements)this._defaultStyles[s]=i.name;return[i.name,i]}))}refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled?i.hasAttribute("imageStyle")?this.value=i.getAttribute("imageStyle"):this.value=this._defaultStyles[i.name]:this.value=!1}execute(e={}){const t=this.editor,i=t.model,s=t.plugins.get("ImageUtils");i.change(r=>{const o=e.value;let a=s.getClosestSelectedImageElement(i.document.selection);o&&this.shouldConvertImageType(o,a)&&(this.editor.execute(s.isBlockImage(a)?"imageTypeInline":"imageTypeBlock"),a=s.getClosestSelectedImageElement(i.document.selection)),!o||this._styles.get(o).isDefault?r.removeAttribute("imageStyle",a):r.setAttribute("imageStyle",o,a)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{objectFullWidth:GX,objectInline:QI,objectLeft:YI,objectRight:Zg,objectCenter:ev,objectBlockLeft:JI,objectBlockRight:XI}=en,Qd={get inline(){return{name:"inline",title:"In line",icon:QI,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:YI,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:JI,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:ev,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Zg,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:XI,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:ev,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Zg,modelElements:["imageBlock"],className:"image-style-side"}}},ZI={full:GX,left:JI,right:XI,center:ev,inlineLeft:YI,inlineRight:Zg,inline:QI},e2=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function QX(n){return(n.configuredStyles.options||[]).map(i=>XX(i)).filter(i=>ZX(i,n))}function YX(n,e){return n&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:n?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function JX(n){return n.has("ImageBlockEditing")&&n.has("ImageInlineEditing")?[...e2]:[]}function XX(n){return typeof n=="string"?Qd[n]?n={...Qd[n]}:n={name:n}:n=eZ(Qd[n.name],n),typeof n.icon=="string"&&(n.icon=ZI[n.icon]||n.icon),n}function ZX(n,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:i,name:s}=n;if(!i||!i.length||!s)return t2({style:n}),!1;{const r=[e?"imageBlock":null,t?"imageInline":null];if(!i.some(o=>r.includes(o)))return Jt("image-style-missing-dependency",{style:n,missingPlugins:i.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function eZ(n,e){const t={...e};for(const i in n)Object.prototype.hasOwnProperty.call(e,i)||(t[i]=n[i]);return t}function t2(n){Jt("image-style-configuration-definition-invalid",n)}const tv={normalizeStyles:QX,getDefaultStylesConfiguration:YX,getDefaultDropdownDefinitions:JX,warnInvalidStyle:t2,DEFAULT_OPTIONS:Qd,DEFAULT_ICONS:ZI,DEFAULT_DROPDOWN_DEFINITIONS:e2};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tZ(n){return(e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const s=SC(t.attributeNewValue,n),r=SC(t.attributeOldValue,n),o=i.mapper.toViewElement(t.item),a=i.writer;r&&a.removeClass(r.className,o),s&&a.addClass(s.className,o)}}function nZ(n){const e={imageInline:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,i,s)=>{if(!i.modelRange)return;const r=i.viewItem,o=Sn(i.modelRange.getItems());if(o&&s.schema.checkAttribute(o,"imageStyle"))for(const a of e[o.name])s.consumable.consume(r,{classes:a.className})&&s.writer.setAttribute("imageStyle",a.name,o)}}function SC(n,e){for(const t of e)if(t.name===n)return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class n2 extends De{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Qs]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=tv,i=this.editor,s=i.plugins.has("ImageBlockEditing"),r=i.plugins.has("ImageInlineEditing");i.config.define("image.styles",t(s,r)),this.normalizedStyles=e({configuredStyles:i.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:r}),this._setupConversion(s,r),this._setupPostFixer(),i.commands.add("imageStyle",new KX(i,this.normalizedStyles))}_setupConversion(e,t){const i=this.editor,s=i.model.schema,r=tZ(this.normalizedStyles),o=nZ(this.normalizedStyles);i.editing.downcastDispatcher.on("attribute:imageStyle",r),i.data.downcastDispatcher.on("attribute:imageStyle",r),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:figure",o,{priority:"low"})),t&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:img",o,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,i=e.plugins.get(Qs),s=new Map(this.normalizedStyles.map(r=>[r.name,r]));t.registerPostFixer(r=>{let o=!1;for(const a of t.differ.getChanges())if(a.type=="insert"||a.type=="attribute"&&a.attributeKey=="imageStyle"){let l=a.type=="insert"?a.position.nodeAfter:a.range.start.nodeAfter;if(l&&l.is("element","paragraph")&&l.childCount>0&&(l=l.getChild(0)),!i.isImage(l))continue;const c=l.getAttribute("imageStyle");if(!c)continue;const u=s.get(c);(!u||!u.modelElements.includes(l.name))&&(r.removeAttribute("imageStyle",l),o=!0)}return o})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iZ extends De{static get requires(){return[n2]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],i=e.get("ImageStyleEditing"),s=EC(i.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of s)this._createButton(o);const r=EC([...t.filter(Xt),...tv.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const o of r)this._createDropdown(o,s)}_createDropdown(e,t){const i=this.editor.ui.componentFactory;i.add(e.name,s=>{let r;const{defaultItem:o,items:a,title:l}=e,c=a.filter(h=>t.find(({name:p})=>TC(p)===h)).map(h=>{const p=i.create(h);return h===o&&(r=p),p});a.length!==c.length&&tv.warnInvalidStyle({dropdown:e});const u=Jr(s,ty),d=u.buttonView,f=d.arrowView;return Rh(u,c,{enableActiveItemFocusOnDropdownOpen:!0}),d.set({label:AC(l,r.label),class:null,tooltip:!0}),f.unbind("label"),f.set({label:l}),d.bind("icon").toMany(c,"isOn",(...h)=>{const p=h.findIndex(Po);return p<0?r.icon:c[p].icon}),d.bind("label").toMany(c,"isOn",(...h)=>{const p=h.findIndex(Po);return AC(l,p<0?r.label:c[p].label)}),d.bind("isOn").toMany(c,"isOn",(...h)=>h.some(Po)),d.bind("class").toMany(c,"isOn",(...h)=>h.some(Po)?"ck-splitbutton_flatten":void 0),d.on("execute",()=>{c.some(({isOn:h})=>h)?u.isOpen=!u.isOpen:r.fire("execute")}),u.bind("isEnabled").toMany(c,"isEnabled",(...h)=>h.some(Po)),this.listenTo(u,"execute",()=>{this.editor.editing.view.focus()}),u})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(TC(t),i=>{const s=this.editor.commands.get("imageStyle"),r=new Zt(i);return r.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(s,"isEnabled"),r.bind("isOn").to(s,"value",o=>o===t),r.on("execute",this._executeCommand.bind(this,t)),r})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function EC(n,e){for(const t of n)e[t.title]&&(t.title=e[t.title]);return n}function TC(n){return`imageStyle:${n}`}function AC(n,e){return(n?n+": ":"")+e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sZ extends De{static get requires(){return[n2,iZ]}static get pluginName(){return"ImageStyle"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rZ extends De{static get requires(){return[Of,Qs]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,i=e.plugins.get(Of),s=e.plugins.get("ImageUtils");i.register("image",{ariaLabel:t("Image toolbar"),items:oZ(e.config.get("image.toolbar")||[]),getRelatedElement:r=>s.getClosestSelectedImageWidget(r)})}}function oZ(n){return n.map(e=>Xt(e)?e.name:e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aZ extends Bt(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((i,s)=>{t.onload=()=>{const r=t.result;this._data=r,i(r)},t.onerror=()=>{s("error")},t.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wo extends De{constructor(){super(...arguments),this.loaders=new ys,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Af]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Jt("filerepository-no-upload-adapter"),null;const t=new xC(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(i=>{this._loadersMap.set(i,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let i=0;for(const s of this.loaders)i+=s.uploaded;this.uploaded=i}),t.on("change:uploadTotal",()=>{let i=0;for(const s of this.loaders)s.uploadTotal&&(i+=s.uploadTotal);this.uploadTotal=i}),t}destroyLoader(e){const t=e instanceof xC?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((i,s)=>{i===t&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(Af);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,i=s=>`${t("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(i(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",i)}}else e.remove(this._pendingAction),this._pendingAction=null}}class xC extends Bt(){constructor(e,t){super(),this.id=Ks(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new aZ,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,s)=>s?i/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new L("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new L("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((i,s)=>{t.rejecter=s,t.isFulfilled=!1,e.then(r=>{t.isFulfilled=!0,i(r)}).catch(r=>{t.isFulfilled=!0,s(r)})}),t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lZ extends Ct{constructor(e){super(e),this.buttonView=new Zt(e),this._fileInputView=new cZ(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class cZ extends Ct{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uZ extends De{static get requires(){return[Wo]}static get pluginName(){return"SimpleUploadAdapter"}init(){const e=this.editor.config.get("simpleUpload");if(e){if(!e.uploadUrl){Jt("simple-upload-adapter-missing-uploadurl");return}this.editor.plugins.get(Wo).createUploadAdapter=t=>new dZ(t,e)}}}class dZ{constructor(e,t){this.loader=e,this.options=t}upload(){return this.loader.file.then(e=>new Promise((t,i)=>{this._initRequest(),this._initListeners(t,i,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.options.uploadUrl,!0),e.responseType="json"}_initListeners(e,t,i){const s=this.xhr,r=this.loader,o=`Couldn't upload file: ${i.name}.`;s.addEventListener("error",()=>t(o)),s.addEventListener("abort",()=>t()),s.addEventListener("load",()=>{const a=s.response;if(!a||a.error)return t(a&&a.error&&a.error.message?a.error.message:o);const l=a.url?{default:a.url}:a.urls;e({...a,urls:l})});/* istanbul ignore else -- @preserve */s.upload&&s.upload.addEventListener("progress",a=>{a.lengthComputable&&(r.uploadTotal=a.total,r.uploaded=a.loaded)})}_sendRequest(e){const t=this.options.headers||{},i=this.options.withCredentials||!1;for(const r of Object.keys(t))this.xhr.setRequestHeader(r,t[r]);this.xhr.withCredentials=i;const s=new FormData;s.append("upload",e),this.xhr.send(s)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function i2(n){const e=n.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function fZ(n){return new Promise((e,t)=>{const i=n.getAttribute("src");fetch(i).then(s=>s.blob()).then(s=>{const r=s2(s,i),a=`image.${r.replace("image/","")}`,l=new File([s],a,{type:r});e(l)}).catch(s=>s&&s.name==="TypeError"?mZ(i).then(e).catch(t):t(s))})}function hZ(n,e){return!n.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function s2(n,e){return n.type?n.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function mZ(n){return pZ(n).then(e=>{const t=s2(e,n),s=`image.${t.replace("image/","")}`;return new File([e],s,{type:t})})}function pZ(n){return new Promise((e,t)=>{const i=_t.document.createElement("img");i.addEventListener("load",()=>{const s=_t.document.createElement("canvas");s.width=i.width,s.height=i.height,s.getContext("2d").drawImage(i,0,0),s.toBlob(o=>o?e(o):t())}),i.addEventListener("error",()=>t()),i.src=n})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gZ extends De{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,i=s=>{const r=new lZ(s),o=e.commands.get("uploadImage"),a=e.config.get("image.upload.types"),l=i2(a);return r.set({acceptedType:a.map(c=>`image/${c}`).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:t("Insert image"),icon:en.image,tooltip:!0}),r.buttonView.bind("isEnabled").to(o),r.on("done",(c,u)=>{const d=Array.from(u).filter(f=>l.test(f.type));d.length&&(e.execute("uploadImage",{file:d}),e.editing.view.focus())}),r};e.ui.componentFactory.add("uploadImage",i),e.ui.componentFactory.add("imageUpload",i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vZ extends De{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,i,s)=>{const r=this.editor,o=i.item,a=o.getAttribute("uploadId");if(!s.consumable.consume(i.item,t.name))return;const l=r.plugins.get("ImageUtils"),c=r.plugins.get(Wo),u=a?i.attributeNewValue:null,d=this.placeholder,f=r.editing.mapper.toViewElement(o),h=s.writer;if(u=="reading"){PC(f,h),IC(l,d,f,h);return}if(u=="uploading"){const p=c.loaders.get(a);PC(f,h),p?(OC(f,h),yZ(f,h,p,r.editing.view),SZ(l,f,h,p)):IC(l,d,f,h);return}u=="complete"&&c.loaders.get(a)&&_Z(f,h,r.editing.view),wZ(f,h),OC(f,h),bZ(f,h)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function PC(n,e){n.hasClass("ck-appear")||e.addClass("ck-appear",n)}function bZ(n,e){e.removeClass("ck-appear",n)}function IC(n,e,t,i){t.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",t);const s=n.findViewImgElement(t);s.getAttribute("src")!==e&&i.setAttribute("src",e,s),r2(t,"placeholder")||i.insert(i.createPositionAfter(s),kZ(i))}function OC(n,e){n.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",n),o2(n,e,"placeholder")}function yZ(n,e,t,i){const s=CZ(e);e.insert(e.createPositionAt(n,"end"),s),t.on("change:uploadedPercent",(r,o,a)=>{i.change(l=>{l.setStyle("width",a+"%",s)})})}function wZ(n,e){o2(n,e,"progressBar")}function _Z(n,e,t){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(n,"end"),i),setTimeout(()=>{t.change(s=>s.remove(s.createRangeOn(i)))},3e3)}function CZ(n){const e=n.createUIElement("div",{class:"ck-progress-bar"});return n.setCustomProperty("progressBar",!0,e),e}function kZ(n){const e=n.createUIElement("div",{class:"ck-upload-placeholder-loader"});return n.setCustomProperty("placeholder",!0,e),e}function r2(n,e){for(const t of n.getChildren())if(t.getCustomProperty(e))return t}function o2(n,e,t){const i=r2(n,t);i&&e.remove(e.createRangeOn(i))}function SZ(n,e,t,i){if(i.data){const s=n.findViewImgElement(e);t.setAttribute("src",i.data,s)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EZ extends kt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(i)}execute(e){const t=jn(e.file),i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());t.forEach((o,a)=>{const l=i.getSelectedElement();if(a&&l&&s.isImage(l)){const c=this.editor.model.createPositionAfter(l);this._uploadImage(o,r,c)}else this._uploadImage(o,r)})}_uploadImage(e,t,i){const s=this.editor,o=s.plugins.get(Wo).createLoader(e),a=s.plugins.get("ImageUtils");o&&a.insertImage({...t,uploadId:o.id},i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TZ extends De{static get requires(){return[Wo,N1,Cr,Qs]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,i=e.conversion,s=e.plugins.get(Wo),r=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline"),a=i2(e.config.get("image.upload.types")),l=new EZ(e);e.commands.add("uploadImage",l),e.commands.add("imageUpload",l),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(c,u)=>{if(AZ(u.dataTransfer))return;const d=Array.from(u.dataTransfer.files).filter(f=>f?a.test(f.type):!1);d.length&&(c.stop(),e.model.change(f=>{u.targetRanges&&f.setSelection(u.targetRanges.map(h=>e.editing.mapper.toModelRange(h))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:d})})}))}),this.listenTo(o,"inputTransformation",(c,u)=>{const d=Array.from(e.editing.view.createRangeIn(u.content)).map(h=>h.item).filter(h=>hZ(r,h)&&!h.getAttribute("uploadProcessed")).map(h=>({promise:fZ(h),imageElement:h}));if(!d.length)return;const f=new fy(e.editing.view.document);for(const h of d){f.setAttribute("uploadProcessed",!0,h.imageElement);const p=s.createLoader(h.promise);p&&(f.setAttribute("src","",h.imageElement),f.setAttribute("uploadId",p.id,h.imageElement))}}),e.editing.view.document.on("dragover",(c,u)=>{u.preventDefault()}),t.on("change",()=>{const c=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),u=new Set;for(const d of c)if(d.type=="insert"&&d.name!="$text"){const f=d.position.nodeAfter,h=d.position.root.rootName=="$graveyard";for(const p of xZ(e,f)){const m=p.getAttribute("uploadId");if(!m)continue;const b=s.loaders.get(m);b&&(h?u.has(m)||b.abort():(u.add(m),this._uploadImageElements.set(m,p),b.status=="idle"&&this._readAndUpload(b)))}}}),this.on("uploadComplete",(c,{imageElement:u,data:d})=>{const f=d.urls?d.urls:d;this.editor.model.change(h=>{h.setAttribute("src",f.default,u),this._parseAndSetSrcsetAttributeOnImage(f,u,h)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,i=t.model,s=t.locale.t,r=t.plugins.get(Wo),o=t.plugins.get(N1),a=t.plugins.get("ImageUtils"),l=this._uploadImageElements;return i.enqueueChange({isUndoable:!1},u=>{u.setAttribute("uploadStatus","reading",l.get(e.id))}),e.read().then(()=>{const u=e.upload(),d=l.get(e.id);/* istanbul ignore next -- @preserve */if(ht.isSafari){const f=t.editing.mapper.toViewElement(d),h=a.findViewImgElement(f);t.editing.view.once("render",()=>{if(!h.parent)return;const p=t.editing.view.domConverter.mapViewToDom(h.parent);if(!p)return;const m=p.style.display;p.style.display="none",p._ckHack=p.offsetHeight,p.style.display=m})}return i.enqueueChange({isUndoable:!1},f=>{f.setAttribute("uploadStatus","uploading",d)}),u}).then(u=>{i.enqueueChange({isUndoable:!1},d=>{const f=l.get(e.id);d.setAttribute("uploadStatus","complete",f),this.fire("uploadComplete",{data:u,imageElement:f})}),c()}).catch(u=>{if(e.status!=="error"&&e.status!=="aborted")throw u;e.status=="error"&&u&&o.showWarning(u,{title:s("Upload failed"),namespace:"upload"}),i.enqueueChange({isUndoable:!1},d=>{d.remove(l.get(e.id))}),c()});function c(){i.enqueueChange({isUndoable:!1},u=>{const d=l.get(e.id);u.removeAttribute("uploadId",d),u.removeAttribute("uploadStatus",d),l.delete(e.id)}),r.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,i){let s=0;const r=Object.keys(e).filter(o=>{const a=parseInt(o,10);if(!isNaN(a))return s=Math.max(s,a),!0}).map(o=>`${e[o]} ${o}w`).join(", ");r!=""&&i.setAttribute("srcset",{data:r,width:s},t)}}function AZ(n){return Array.from(n.types).includes("text/html")&&n.getData("text/html")!==""}function xZ(n,e){const t=n.plugins.get("ImageUtils");return Array.from(n.model.createRangeOn(e)).filter(i=>t.isImage(i.item)).map(i=>i.item)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PZ extends De{static get pluginName(){return"ImageUpload"}static get requires(){return[TZ,gZ,vZ]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IZ{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,i,s)=>{if(!s.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||s.schema.isInline(i.item)))return;const r=s.writer,o=r.document.selection;for(const a of this._definitions){const l=r.createAttributeElement("a",a.attributes,{priority:5});a.classes&&r.addClass(a.classes,l);for(const c in a.styles)r.setStyle(c,a.styles[c],l);r.setCustomProperty("link",!0,l),a.callback(i.attributeNewValue)?i.item.is("selection")?r.wrap(o.getFirstRange(),l):r.wrap(s.mapper.toViewRange(i.range),l):r.unwrap(s.mapper.toViewRange(i.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,i,{writer:s,mapper:r})=>{const o=r.toViewElement(i.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));for(const l of this._definitions){const c=yr(l.attributes);if(l.callback(i.attributeNewValue)){for(const[u,d]of c)u==="class"?s.addClass(d,a):s.setAttribute(u,d,a);l.classes&&s.addClass(l.classes,a);for(const u in l.styles)s.setStyle(u,l.styles[u],a)}else{for(const[u,d]of c)u==="class"?s.removeClass(d,a):s.removeAttribute(u,a);l.classes&&s.removeClass(l.classes,a);for(const u in l.styles)s.removeStyle(u,a)}}})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const OZ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,RZ=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,MZ=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,DZ=/^((\w+:(\/{2,})?)|(\W))/i,bp="Ctrl+K";function FZ(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function RC(n,{writer:e}){const t=e.createAttributeElement("a",{href:n},{priority:5});return e.setCustomProperty("link",!0,t),t}function a2(n){const e=String(n);return NZ(e)?e:"#"}function NZ(n){return!!n.replace(OZ,"").match(RZ)}function LZ(n,e){const t={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return e.forEach(i=>("label"in i&&t[i.label]&&(i.label=t[i.label]),i)),e}function BZ(n){const e=[];if(n)for(const[t,i]of Object.entries(n)){const s=Object.assign({},i,{id:`link${CF(t)}`});e.push(s)}return e}function nv(n,e){return n?e.checkAttribute(n.name,"linkHref"):!1}function $Z(n){return MZ.test(n)}function _y(n,e){const t=$Z(n)?"mailto:":e,i=!!t&&!l2(n);return n&&i?t+n:n}function l2(n){return DZ.test(n)}function MC(n){window.open(n,"_blank","noopener")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VZ extends kt{constructor(){super(...arguments),this.manualDecorators=new ys,this.automaticDecorators=new IZ}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement()||Sn(t.getSelectedBlocks());nv(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const i=this.editor.model,s=i.document.selection,r=[],o=[];for(const a in t)t[a]?r.push(a):o.push(a);i.change(a=>{if(s.isCollapsed){const l=s.getFirstPosition();if(s.hasAttribute("linkHref")){const c=DC(s);let u=_l(l,"linkHref",s.getAttribute("linkHref"),i);s.getAttribute("linkHref")===c&&(u=this._updateLinkContent(i,a,u,e)),a.setAttribute("linkHref",e,u),r.forEach(d=>{a.setAttribute(d,!0,u)}),o.forEach(d=>{a.removeAttribute(d,u)}),a.setSelection(a.createPositionAfter(u.end.nodeBefore))}else if(e!==""){const c=yr(s.getAttributes());c.set("linkHref",e),r.forEach(d=>{c.set(d,!0)});const{end:u}=i.insertContent(a.createText(e,c),l);a.setSelection(u)}["linkHref",...r,...o].forEach(c=>{a.removeSelectionAttribute(c)})}else{const l=i.schema.getValidRanges(s.getRanges(),"linkHref"),c=[];for(const d of s.getSelectedBlocks())i.schema.checkAttribute(d,"linkHref")&&c.push(a.createRangeOn(d));const u=c.slice();for(const d of l)this._isRangeToUpdate(d,c)&&u.push(d);for(const d of u){let f=d;if(u.length===1){const h=DC(s);s.getAttribute("linkHref")===h&&(f=this._updateLinkContent(i,a,d,e),a.setSelection(a.createSelection(f)))}a.setAttribute("linkHref",e,f),r.forEach(h=>{a.setAttribute(h,!0,f)}),o.forEach(h=>{a.removeAttribute(h,f)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,i=t.document.selection,s=i.getSelectedElement();return nv(s,t.schema)?s.getAttribute(e):i.getAttribute(e)}_isRangeToUpdate(e,t){for(const i of t)if(i.containsRange(e))return!1;return!0}_updateLinkContent(e,t,i,s){const r=t.createText(s,{linkHref:s});return e.insertContent(r,i)}}function DC(n){if(n.isCollapsed){const e=n.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(n.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UZ extends kt{refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement();nv(i,e.schema)?this.isEnabled=e.schema.checkAttribute(i,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,i=t.document.selection,s=e.commands.get("link");t.change(r=>{const o=i.isCollapsed?[_l(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),t)]:t.schema.getValidRanges(i.getRanges(),"linkHref");for(const a of o)if(r.removeAttribute("linkHref",a),s)for(const l of s.manualDecorators)r.removeAttribute(l.id,a)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zZ extends Bt(){constructor({id:e,label:t,attributes:i,classes:s,styles:r,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=i,this.classes=s,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const HZ="ck-link_selected",FC="automatic",WZ="manual",jZ=/^(https?:)?\/\//;class qZ extends De{static get pluginName(){return"LinkEditing"}static get requires(){return[eC,xI,Cr]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:RC}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,r)=>RC(a2(s),r)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new VZ(e)),e.commands.add("unlink",new UZ(e));const t=LZ(e.t,BZ(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(s=>s.mode===FC)),this._enableManualDecorators(t.filter(s=>s.mode===WZ)),e.plugins.get(eC).registerAttribute("linkHref"),oJ(e,"linkHref","a",HZ),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,s=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:FC,callback:r=>!!r&&jZ.test(r),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&t.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,s=t.commands.get("link").manualDecorators;e.forEach(r=>{t.model.schema.extend("$text",{allowAttributes:r.id});const o=new zZ(r);s.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:c},{item:u})=>{if((u.is("selection")||c.isInline(u))&&a){const d=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,d);for(const f in o.styles)l.setStyle(f,o.styles[f],d);return l.setCustomProperty("link",!0,d),d}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(s,r)=>{if(!(ht.isMac?r.domEvent.metaKey:r.domEvent.ctrlKey))return;let a=r.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const l=a.getAttribute("href");l&&(s.stop(),r.preventDefault(),MC(l))},{context:"$capture"}),this.listenTo(i,"keydown",(s,r)=>{const a=e.commands.get("link").value;a&&r.keyCode===Et.enter&&r.altKey&&(s.stop(),MC(a))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,i=t.document.selection;this.listenTo(t,"insertContent",()=>{const s=i.anchor.nodeBefore,r=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(r&&r.hasAttribute("linkHref")||t.change(o=>{yp(o,wp(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(dy);let i=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{i=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!i)return;i=!1;const s=t.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const r=s.getFirstPosition(),o=_l(r,"linkHref",s.getAttribute("linkHref"),t);(r.isTouching(o.start)||r.isTouching(o.end))&&t.change(a=>{yp(a,wp(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let i=null,s=!1;this.listenTo(t.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const r=e.model.document.selection;if(!r.isCollapsed){if(s){s=!1;return}NC(e)&&KZ(e.model)&&(i=r.getAttributes())}},{priority:"high"}),this.listenTo(e.model,"insertContent",(r,[o])=>{s=!1,NC(e)&&i&&(e.model.change(a=>{for(const[l,c]of i)a.setAttribute(l,c,o)}),i=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,i=t.document.selection,s=e.editing.view;let r=!1,o=!1;this.listenTo(s.document,"delete",(a,l)=>{o=l.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{r=!1;const a=i.getFirstPosition(),l=i.getAttribute("linkHref");if(!l)return;const c=_l(a,"linkHref",l,t);r=c.containsPosition(a)||c.end.isEqual(a)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{o&&(o=!1,!r&&e.model.enqueueChange(a=>{yp(a,wp(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,r)=>{t.change(o=>{const a=o.createRangeIn(r.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const c=_y(l.getAttribute("linkHref"),i);o.setAttribute("linkHref",c,l)}})})}}function yp(n,e){n.removeSelectionAttribute("linkHref");for(const t of e)n.removeSelectionAttribute(t)}function KZ(n){const e=n.document.selection,t=e.getFirstPosition(),i=e.getLastPosition(),s=t.nodeAfter;if(!s||!s.is("$text")||!s.hasAttribute("linkHref"))return!1;const r=i.textNode||i.nodeBefore;return s===r?!0:_l(t,"linkHref",s.getAttribute("linkHref"),n).containsRange(n.createRange(t,i),!0)}function NC(n){return n.model.change(t=>t.batch).isTyping}function wp(n){return n.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class GZ extends Ct{constructor(e,t){super(e),this.focusTracker=new ws,this.keystrokes=new Tr,this._focusables=new ma;const i=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),en.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),en.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new Iu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),kx({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new oI(this.locale,aI);return t.label=e("Link URL"),t}_createButton(e,t,i,s){const r=new Zt(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:i}}),s&&r.delegate("execute").to(this,s),r}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const i of e.manualDecorators){const s=new xh(this.locale);s.set({name:i.id,label:i.label,withText:!0}),s.bind("isOn").toMany([i,e],"value",(r,o)=>o===void 0&&r===void 0?!!i.defaultValue:!!r),s.on("execute",()=>{i.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const i=new Ct;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(i)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}const QZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YZ extends Ct{constructor(e){super(e),this.focusTracker=new ws,this.keystrokes=new Tr,this._focusables=new ma;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),QZ,"unlink"),this.editButtonView=this._createButton(t("Edit link"),en.pencil,"edit"),this.set("href",void 0),this._focusCycler=new Iu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,i){const s=new Zt(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,i),s}_createPreviewButton(){const e=new Zt(this.locale),t=this.bindTemplate,i=this.t;return e.set({withText:!0,tooltip:i("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&a2(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||i("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const JZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Es="link-ui";class XZ extends De{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[xf]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(EG),this._balloon=e.plugins.get(xf),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Es,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Es,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new YZ(e.locale),i=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(i,"value"),t.editButtonView.bind("isEnabled").to(i),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(r,o)=>{this._hideUI(),o()}),t.keystrokes.set(bp,(r,o)=>{this._addFormView(),o()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),s=new(Cx(GZ))(e.locale,t);return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t),this.listenTo(s,"submit",()=>{const{value:r}=s.urlInputView.fieldView.element,o=_y(r,i);e.execute("link",o,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(r,o)=>{this._closeFormView(),o()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),i=e.t;e.ui.componentFactory.add("link",s=>{const r=new Zt(s);return r.isEnabled=!0,r.label=i("Link"),r.icon=JZ,r.keystroke=bp,r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(t,"isEnabled"),r.bind("isOn").to(t,"value",o=>!!o),this.listenTo(r,"execute",()=>this._showUI(!0)),r})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(bp,(i,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),qb({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let i=this._getSelectedLinkElement(),s=o();const r=()=>{const a=this._getSelectedLinkElement(),l=o();i&&!a||!i&&l!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=a,s=l};function o(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,i=e.document;let s;if(t.markers.has(Es)){const r=Array.from(this.editor.editing.mapper.markerNameToElements(Es)),o=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));s=e.domConverter.viewRangeToDom(o)}else s=()=>{const r=this._getSelectedLinkElement();return r?e.domConverter.mapViewToDom(r):e.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,i=t.getSelectedElement();if(t.isCollapsed||i&&tn(i))return _p(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),r=_p(s.start),o=_p(s.end);return!r||r!=o?null:e.createRangeIn(r).getTrimmed().isEqual(s)?r:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const i=e.document.selection.getFirstRange();if(e.markers.has(Es))t.updateMarker(Es,{range:i});else if(i.start.isAtEnd){const s=i.start.getLastMatchingPosition(({item:r})=>!e.schema.isContent(r),{boundaries:i});t.addMarker(Es,{usingOperation:!1,affectsData:!1,range:t.createRange(s,i.end)})}else t.addMarker(Es,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Es)&&e.change(t=>{t.removeMarker(Es)})}}function _p(n){return n.getAncestors().find(e=>FZ(e))||null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ZZ=4,eee=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),tee=2;class nee extends De{static get requires(){return[ba]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new sJ(e.model,i=>{if(!iee(i))return;const s=LC(i.substr(0,i.length-1));if(s)return{url:s}});t.on("matched:data",(i,s)=>{const{batch:r,range:o,url:a}=s;if(!r.isTyping)return;const l=o.end.getShiftedBy(-1),c=l.getShiftedBy(-a.length),u=e.model.createRange(c,l);this._applyAutoLink(a,u)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("enter");i&&i.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const r=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("shiftEnter");i&&i.on("execute",()=>{const s=t.document.selection.getFirstPosition(),r=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:i,range:s}=II(e,t),r=LC(i);if(r){const o=t.createRange(s.end.getShiftedBy(-r.length),s.end);this._applyAutoLink(r,o)}}_applyAutoLink(e,t){const i=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),r=_y(e,s);!this.isEnabled||!see(t,i)||!l2(r)||ree(t)||this._persistAutoLink(r,t)}_persistAutoLink(e,t){const i=this.editor.model,s=this.editor.plugins.get("Delete");i.enqueueChange(r=>{r.setAttribute("linkHref",e,t),i.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function iee(n){return n.length>ZZ&&n[n.length-1]===" "&&n[n.length-2]!==" "}function LC(n){const e=eee.exec(n);return e?e[tee]:null}function see(n,e){return e.schema.checkAttributeInSelection(e.createSelection(n),"linkHref")}function ree(n){const e=n.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oee extends De{static get requires(){return[qZ,XZ,nee]}static get pluginName(){return"Link"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BC extends kt{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.document,s=Array.from(i.selection.getSelectedBlocks()).filter(o=>VC(o,t.schema)),r=e.forceValue!==void 0?!e.forceValue:this.value;t.change(o=>{if(r){let a=s[s.length-1].nextSibling,l=Number.POSITIVE_INFINITY,c=[];for(;a&&a.name=="listItem"&&a.getAttribute("listIndent")!==0;){const u=a.getAttribute("listIndent");u<l&&(l=u);const d=u-l;c.push({element:a,listIndent:d}),a=a.nextSibling}c=c.reverse();for(const u of c)o.setAttribute("listIndent",u.listIndent,u.element)}if(!r){let a=Number.POSITIVE_INFINITY;for(const l of s)l.is("element","listItem")&&l.getAttribute("listIndent")<a&&(a=l.getAttribute("listIndent"));a=a===0?1:a,$C(s,!0,a),$C(s,!1,a)}for(const a of s.reverse())r&&a.name=="listItem"?o.rename(a,"paragraph"):!r&&a.name!="listItem"?(o.setAttributes({listType:this.type,listIndent:0},a),o.rename(a,"listItem")):!r&&a.name=="listItem"&&a.getAttribute("listType")!=this.type&&o.setAttribute("listType",this.type,a);this.fire("_executeCleanup",s)})}_getValue(){const e=Sn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=Sn(e.getSelectedBlocks());return i?VC(i,t):!1}}function $C(n,e,t){const i=e?n[0]:n[n.length-1];if(i.is("element","listItem")){let s=i[e?"previousSibling":"nextSibling"],r=i.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;)r>s.getAttribute("listIndent")&&(r=s.getAttribute("listIndent")),s.getAttribute("listIndent")==r&&n[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function VC(n,e){return e.checkChild(n.parent,"listItem")&&!e.isObject(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UC extends kt{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let i=Array.from(t.selection.getSelectedBlocks());e.change(s=>{const r=i[i.length-1];let o=r.nextSibling;for(;o&&o.name=="listItem"&&o.getAttribute("listIndent")>r.getAttribute("listIndent");)i.push(o),o=o.nextSibling;this._indentBy<0&&(i=i.reverse());for(const a of i){const l=a.getAttribute("listIndent")+this._indentBy;l<0?s.rename(a,"paragraph"):s.setAttribute("listIndent",l,a)}this.fire("_executeCleanup",i)})}_checkEnabled(){const e=Sn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),i=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;){if(s.getAttribute("listIndent")==t)return s.getAttribute("listType")==i;s=s.previousSibling}return!1}return!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function aee(n){const e=n.createContainerElement("li");return e.getFillerOffset=mee,e}function lee(n,e){const t=e.mapper,i=e.writer,s=n.getAttribute("listType")=="numbered"?"ol":"ul",r=aee(i),o=i.createContainerElement(s,null);return i.insert(i.createPositionAt(o,0),r),t.bindElements(n,r),r}function c2(n,e,t,i){const s=e.parent,r=t.mapper,o=t.writer;let a=r.toViewPosition(i.createPositionBefore(n));const l=d2(n.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:n.getAttribute("listIndent")}),c=n.previousSibling;if(l&&l.getAttribute("listIndent")==n.getAttribute("listIndent")){const u=r.toViewElement(l);a=o.breakContainer(o.createPositionAfter(u))}else if(c&&c.name=="listItem"){a=r.toViewPosition(i.createPositionAt(c,"end"));const u=r.findMappedViewAncestor(a),d=cee(u);d?a=o.createPositionBefore(d):a=o.createPositionAt(u,"end")}else a=r.toViewPosition(i.createPositionBefore(n));if(a=u2(a),o.insert(a,s),c&&c.name=="listItem"){const u=r.toViewElement(c),f=o.createRange(o.createPositionAt(u,0),a).getWalker({ignoreElementEnd:!0});for(const h of f)if(h.item.is("element","li")){const p=o.breakContainer(o.createPositionBefore(h.item)),m=h.item.parent,b=o.createPositionAt(e,"end");Xi(o,b.nodeBefore,b.nodeAfter),o.move(o.createRangeOn(m),b),f._position=p}}else{const u=s.nextSibling;if(u&&(u.is("element","ul")||u.is("element","ol"))){let d=null;for(const f of u.getChildren()){const h=r.toModelElement(f);if(h&&h.getAttribute("listIndent")>n.getAttribute("listIndent"))d=f;else break}d&&(o.breakContainer(o.createPositionAfter(d)),o.move(o.createRangeOn(d.parent),o.createPositionAt(e,"end")))}}Xi(o,s,s.nextSibling),Xi(o,s.previousSibling,s)}function Xi(n,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:n.mergeContainers(n.createPositionAfter(e))}function u2(n){return n.getLastMatchingPosition(e=>e.item.is("uiElement"))}function d2(n,e){const t=!!e.sameIndent,i=!!e.smallerIndent,s=e.listIndent;let r=n;for(;r&&r.name=="listItem";){const o=r.getAttribute("listIndent");if(t&&s==o||i&&s>o)return r;e.direction==="forward"?r=r.nextSibling:r=r.previousSibling}return null}function zC(n,e,t,i){n.ui.componentFactory.add(e,s=>{const r=n.commands.get(e),o=new Zt(s);return o.set({label:t,icon:i,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),o.on("execute",()=>{n.execute(e),n.editing.view.focus()}),o})}function cee(n){for(const e of n.getChildren())if(e.name=="ul"||e.name=="ol")return e;return null}function iv(n,e){const t=[],i=n.parent,s={ignoreElementEnd:!1,startPosition:n,shallow:!0,direction:e},r=i.getAttribute("listIndent"),o=[...new Ls(s)].filter(a=>a.item.is("element")).map(a=>a.item);for(const a of o){if(!a.is("element","listItem")||a.getAttribute("listIndent")<r)break;if(!(a.getAttribute("listIndent")>r)){if(a.getAttribute("listType")!==i.getAttribute("listType")||a.getAttribute("listStyle")!==i.getAttribute("listStyle")||a.getAttribute("listReversed")!==i.getAttribute("listReversed")||a.getAttribute("listStart")!==i.getAttribute("listStart"))break;e==="backward"?t.unshift(a):t.push(a)}}return t}function uee(n){let t=[...n.document.selection.getSelectedBlocks()].filter(i=>i.is("element","listItem")).map(i=>{const s=n.change(r=>r.createPositionAt(i,0));return[...iv(s,"backward"),...iv(s,"forward")]}).flat();return t=[...new Set(t)],t}const dee=["disc","circle","square"],fee=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function hee(n){return dee.includes(n)?"bulleted":fee.includes(n)?"numbered":null}function mee(){const n=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||n?0:lP.call(this)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pee extends De{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return hee(e)}getSelectedListItems(e){return uee(e)}getSiblingNodes(e,t){return iv(e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HC(n){return(e,t,i)=>{const s=i.consumable;if(!s.test(t.item,"insert")||!s.test(t.item,"attribute:listType")||!s.test(t.item,"attribute:listIndent"))return;s.consume(t.item,"insert"),s.consume(t.item,"attribute:listType"),s.consume(t.item,"attribute:listIndent");const r=t.item,o=lee(r,i);c2(r,o,i,n)}}function gee(n){return(e,t,i)=>{const o=i.mapper.toViewPosition(t.position).getLastMatchingPosition(h=>!h.item.is("element","li")).nodeAfter,a=i.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o));const l=o.parent,c=l.previousSibling,u=a.createRangeOn(l),d=a.remove(u);c&&c.nextSibling&&Xi(a,c,c.nextSibling);const f=i.mapper.toModelElement(o);f2(f.getAttribute("listIndent")+1,t.position,u.start,o,i,n);for(const h of a.createRangeIn(d).getItems())i.mapper.unbindViewElement(h);e.stop()}}const vee=(n,e,t)=>{if(!t.consumable.test(e.item,n.name))return;const i=t.mapper.toViewElement(e.item),s=t.writer;s.breakContainer(s.createPositionBefore(i)),s.breakContainer(s.createPositionAfter(i));const r=i.parent,o=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(o,r)},bee=(n,e,t)=>{t.consumable.consume(e.item,n.name);const s=t.mapper.toViewElement(e.item).parent,r=t.writer;Xi(r,s,s.nextSibling),Xi(r,s.previousSibling,s)};function yee(n){return(e,t,i)=>{if(!i.consumable.consume(t.item,"attribute:listIndent"))return;const s=i.mapper.toViewElement(t.item),r=i.writer;r.breakContainer(r.createPositionBefore(s)),r.breakContainer(r.createPositionAfter(s));const o=s.parent,a=o.previousSibling,l=r.createRangeOn(o);r.remove(l),a&&a.nextSibling&&Xi(r,a,a.nextSibling),f2(t.attributeOldValue+1,t.range.start,l.start,s,i,n),c2(t.item,s,i,n);for(const c of t.item.getChildren())i.consumable.consume(c,"insert")}}const WC=(n,e,t)=>{if(t.consumable.test(e.item,n.name)&&e.item.name!="listItem"){let i=t.mapper.toViewPosition(e.range.start);const s=t.writer,r=[];for(;(i.parent.name=="ul"||i.parent.name=="ol")&&(i=s.breakContainer(i),i.parent.name=="li");){const o=i,a=s.createPositionAt(i.parent,"end");if(!o.isEqual(a)){const l=s.remove(s.createRange(o,a));r.push(l)}i=s.createPositionAfter(i.parent)}if(r.length>0){for(let o=0;o<r.length;o++){const a=i.nodeBefore;if(i=s.insert(i,r[o]).end,o>0){const c=Xi(s,a,a.nextSibling);c&&c.parent==a&&i.offset--}}Xi(s,i.nodeBefore,i.nodeAfter)}}},wee=(n,e,t)=>{const i=t.mapper.toViewPosition(e.position),s=i.nodeBefore,r=i.nodeAfter;Xi(t.writer,s,r)},_ee=(n,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const i=t.writer,s=i.createElement("listItem"),r=xee(e.viewItem);i.setAttribute("listIndent",r,s);const o=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(i.setAttribute("listType",o,s),!t.safeInsert(s,e.modelCursor))return;const a=Tee(s,e.viewItem.getChildren(),t);e.modelRange=i.createRange(e.modelCursor,a),t.updateConversionResult(s,e)}},jC=(n,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const i=Array.from(e.viewItem.getChildren());for(const s of i)!(s.is("element","li")||Cl(s))&&s._remove()}},Cee=(n,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const i=[...e.viewItem.getChildren()];let s=!1;for(const r of i)s&&!Cl(r)&&r._remove(),Cl(r)&&(s=!0)}};function qC(n){return(e,t)=>{if(t.isPhantom)return;const i=t.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){const s=t.mapper.toViewElement(i),r=s.getAncestors().find(Cl),o=n.createPositionAt(s,0).getWalker();for(const a of o)if(a.type=="elementStart"&&a.item.is("element","li")){t.viewPosition=a.previousPosition;break}else if(a.type=="elementEnd"&&a.item==r){t.viewPosition=a.nextPosition;break}}}}function kee(n){return(e,t)=>{const i=t.viewPosition,s=i.parent,r=t.mapper;if(s.name=="ul"||s.name=="ol"){if(i.isAtEnd){const o=r.toModelElement(i.nodeBefore),a=r.getModelLength(i.nodeBefore);t.modelPosition=n.createPositionBefore(o).getShiftedBy(a)}else{const o=r.toModelElement(i.nodeAfter);t.modelPosition=n.createPositionBefore(o)}e.stop()}else if(s.name=="li"&&i.nodeBefore&&(i.nodeBefore.name=="ul"||i.nodeBefore.name=="ol")){const o=r.toModelElement(s);let a=1,l=i.nodeBefore;for(;l&&Cl(l);)a+=r.getModelLength(l),l=l.previousSibling;t.modelPosition=n.createPositionBefore(o).getShiftedBy(a),e.stop()}}}function See(n,e){const t=n.document.differ.getChanges(),i=new Map;let s=!1;for(const l of t)if(l.type=="insert"&&l.name=="listItem")r(l.position);else if(l.type=="insert"&&l.name!="listItem"){if(l.name!="$text"){const u=l.position.nodeAfter;u.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",u),s=!0),u.hasAttribute("listType")&&(e.removeAttribute("listType",u),s=!0),u.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",u),s=!0),u.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",u),s=!0),u.hasAttribute("listStart")&&(e.removeAttribute("listStart",u),s=!0);for(const d of Array.from(n.createRangeIn(u)).filter(f=>f.item.is("element","listItem")))r(d.previousPosition)}const c=l.position.getShiftedBy(l.length);r(c)}else l.type=="remove"&&l.name=="listItem"?r(l.position):(l.type=="attribute"&&l.attributeKey=="listIndent"||l.type=="attribute"&&l.attributeKey=="listType")&&r(l.range.start);for(const l of i.values())o(l),a(l);return s;function r(l){const c=l.nodeBefore;if(!c||!c.is("element","listItem")){const u=l.nodeAfter;u&&u.is("element","listItem")&&i.set(u,u)}else{let u=c;if(i.has(u))return;for(let d=u.previousSibling;d&&d.is("element","listItem");d=u.previousSibling)if(u=d,i.has(u))return;i.set(c,u)}}function o(l){let c=0,u=null;for(;l&&l.is("element","listItem");){const d=l.getAttribute("listIndent");if(d>c){let f;u===null?(u=d-c,f=c):(u>d&&(u=d),f=d-u),e.setAttribute("listIndent",f,l),s=!0}else u=null,c=l.getAttribute("listIndent")+1;l=l.nextSibling}}function a(l){let c=[],u=null;for(;l&&l.is("element","listItem");){const d=l.getAttribute("listIndent");if(u&&u.getAttribute("listIndent")>d&&(c=c.slice(0,d+1)),d!=0)if(c[d]){const f=c[d];l.getAttribute("listType")!=f&&(e.setAttribute("listType",f,l),s=!0)}else c[d]=l.getAttribute("listType");u=l,l=l.nextSibling}}}const Eee=function(n,[e,t]){const i=this;let s=e.is("documentFragment")?e.getChild(0):e,r;if(t?r=i.createSelection(t):r=i.document.selection,s&&s.is("element","listItem")){const o=r.getFirstPosition();let a=null;if(o.parent.is("element","listItem")?a=o.parent:o.nodeBefore&&o.nodeBefore.is("element","listItem")&&(a=o.nodeBefore),a){const l=a.getAttribute("listIndent");if(l>0)for(;s&&s.is("element","listItem");)s._setAttribute("listIndent",s.getAttribute("listIndent")+l),s=s.nextSibling}}};function Tee(n,e,t){const{writer:i,schema:s}=t;let r=i.createPositionAfter(n);for(const o of e)if(o.name=="ul"||o.name=="ol")r=t.convertItem(o,r).modelCursor;else{const a=t.convertItem(o,i.createPositionAt(n,"end")),l=a.modelRange.start.nodeAfter;l&&l.is("element")&&!s.checkChild(n,l.name)&&(a.modelCursor.parent.is("element","listItem")?n=a.modelCursor.parent:n=Aee(a.modelCursor),r=i.createPositionAfter(n))}return r}function Aee(n){const e=new Ls({startPosition:n});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function f2(n,e,t,i,s,r){const o=d2(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:n}),a=s.mapper,l=s.writer,c=o?o.getAttribute("listIndent"):null;let u;if(!o)u=t;else if(c==n){const d=a.toViewElement(o).parent;u=l.createPositionAfter(d)}else{const d=r.createPositionAt(o,"end");u=a.toViewPosition(d)}u=u2(u);for(const d of[...i.getChildren()])Cl(d)&&(u=l.move(l.createRangeOn(d),u).end,Xi(l,d,d.nextSibling),Xi(l,d.previousSibling,d))}function Cl(n){return n.is("element","ol")||n.is("element","ul")}function xee(n){let e=0,t=n.parent;for(;t;){if(t.is("element","li"))e++;else{const i=t.previousSibling;i&&i.is("element","li")&&e++}t=t.parent}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pee extends De{static get pluginName(){return"ListEditing"}static get requires(){return[Dh,ba,pee]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,i=e.editing;e.model.document.registerPostFixer(r=>See(e.model,r)),i.mapper.registerViewToModelLength("li",sv),t.mapper.registerViewToModelLength("li",sv),i.mapper.on("modelToViewPosition",qC(i.view)),i.mapper.on("viewToModelPosition",kee(e.model)),t.mapper.on("modelToViewPosition",qC(i.view)),e.conversion.for("editingDowncast").add(r=>{r.on("insert",WC,{priority:"high"}),r.on("insert:listItem",HC(e.model)),r.on("attribute:listType:listItem",vee,{priority:"high"}),r.on("attribute:listType:listItem",bee,{priority:"low"}),r.on("attribute:listIndent:listItem",yee(e.model)),r.on("remove:listItem",gee(e.model)),r.on("remove",wee,{priority:"low"})}),e.conversion.for("dataDowncast").add(r=>{r.on("insert",WC,{priority:"high"}),r.on("insert:listItem",HC(e.model))}),e.conversion.for("upcast").add(r=>{r.on("element:ul",jC,{priority:"high"}),r.on("element:ol",jC,{priority:"high"}),r.on("element:li",Cee,{priority:"high"}),r.on("element:li",_ee)}),e.model.on("insertContent",Eee,{priority:"high"}),e.commands.add("numberedList",new BC(e,"numbered")),e.commands.add("bulletedList",new BC(e,"bulleted")),e.commands.add("indentList",new UC(e,"forward")),e.commands.add("outdentList",new UC(e,"backward"));const s=i.view.document;this.listenTo(s,"enter",(r,o)=>{const a=this.editor.model.document,l=a.selection.getLastPosition().parent;a.selection.isCollapsed&&l.name=="listItem"&&l.isEmpty&&(this.editor.execute("outdentList"),o.preventDefault(),r.stop())},{context:"li"}),this.listenTo(s,"delete",(r,o)=>{if(o.direction!=="backward")return;const a=this.editor.model.document.selection;if(!a.isCollapsed)return;const l=a.getFirstPosition();if(!l.isAtStart)return;const c=l.parent;c.name!=="listItem"||c.previousSibling&&c.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),o.preventDefault(),r.stop())},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(r,o)=>{const a=o.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),o.stopPropagation(),o.preventDefault(),r.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),i=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),i&&i.registerChildCommand(e.get("outdentList"))}}function sv(n){let e=1;for(const t of n.getChildren())if(t.name=="ul"||t.name=="ol")for(const i of t.getChildren())e+=sv(i);return e}const Iee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Oee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ree extends De{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;zC(this.editor,"numberedList",e("Numbered List"),Iee),zC(this.editor,"bulletedList",e("Bulleted List"),Oee)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mee extends De{static get requires(){return[Pee,Ree]}static get pluginName(){return"List"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Cy=["left","right","center","justify"];function h2(n){return Cy.includes(n)}function m2(n,e){return e.contentLanguageDirection=="rtl"?n==="right":n==="left"}function p2(n){const e=n.map(i=>{let s;return typeof i=="string"?s={name:i}:s=i,s}).filter(i=>{const s=Cy.includes(i.name);return s||Jt("alignment-config-name-not-recognized",{option:i}),s}),t=e.filter(i=>!!i.className).length;if(t&&t<e.length)throw new L("alignment-config-classnames-are-missing",{configuredOptions:n});return e.forEach((i,s,r)=>{const o=r.slice(s+1);if(o.some(l=>l.name==i.name))throw new L("alignment-config-name-already-defined",{option:i,configuredOptions:n});if(i.className&&o.some(c=>c.className==i.className))throw new L("alignment-config-classname-already-defined",{option:i,configuredOptions:n})}),e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ky="alignment";class Dee extends kt{refresh(){const t=this.editor.locale,i=Sn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i),this.isEnabled&&i.hasAttribute("alignment")?this.value=i.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,i=t.locale,s=t.model,r=s.document,o=e.value;s.change(a=>{const l=Array.from(r.selection.getSelectedBlocks()).filter(d=>this._canBeAligned(d)),c=l[0].getAttribute("alignment");m2(o,i)||c===o||!o?Fee(l,a):Nee(l,a,o)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,ky)}}function Fee(n,e){for(const t of n)e.removeAttribute(ky,t)}function Nee(n,e,t){for(const i of n)e.setAttribute(ky,t,i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lee extends De{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:Cy.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,i=e.model.schema,r=p2(e.config.get("alignment.options")).filter(c=>h2(c.name)&&!m2(c.name,t)),o=r.some(c=>!!c.className);i.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?e.conversion.attributeToAttribute(Uee(r)):e.conversion.for("downcast").attributeToAttribute(Bee(r));const a=$ee(r);for(const c of a)e.conversion.for("upcast").attributeToAttribute(c);const l=Vee(r);for(const c of l)e.conversion.for("upcast").attributeToAttribute(c);e.commands.add("alignment",new Dee(e))}}function Bee(n){const e={};for(const{name:i}of n)e[i]={key:"style",value:{"text-align":i}};return{model:{key:"alignment",values:n.map(i=>i.name)},view:e}}function $ee(n){const e=[];for(const{name:t}of n)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function Vee(n){const e=[];for(const{name:t}of n)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function Uee(n){const e={};for(const i of n)e[i.name]={key:"class",value:i.className};return{model:{key:"alignment",values:n.map(i=>i.name)},view:e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const xd=new Map([["left",en.alignLeft],["right",en.alignRight],["center",en.alignCenter],["justify",en.alignJustify]]);class zee extends De{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,i=e.t,s=p2(e.config.get("alignment.options"));s.map(r=>r.name).filter(h2).forEach(r=>this._addButton(r)),t.add("alignment",r=>{const o=Jr(r);Rh(o,()=>s.map(c=>t.create(`alignment:${c.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:i("Text alignment toolbar")}),o.buttonView.set({label:i("Text alignment"),tooltip:!0}),o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const a=r.contentLanguageDirection==="rtl"?xd.get("right"):xd.get("left"),l=e.commands.get("alignment");return o.buttonView.bind("icon").to(l,"value",c=>xd.get(c)||a),o.bind("isEnabled").to(l,"isEnabled"),this.listenTo(o,"execute",()=>{e.editing.view.focus()}),o})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,i=>{const s=t.commands.get("alignment"),r=new Zt(i);return r.set({label:this.localizedOptionTitles[e],icon:xd.get(e),tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(s),r.bind("isOn").to(s,"value",o=>o===e),this.listenTo(r,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hee extends De{static get requires(){return[Lee,zee]}static get pluginName(){return"Alignment"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Wee(n){const e=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"br",isVoid:!0},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"input",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"textarea",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],t=e.map(r=>r.name).join("|"),i=n.replace(new RegExp(`</?(${t})( .*?)?>`,"g"),`
$&
`).split(`
`);let s=0;return i.filter(r=>r.length).map(r=>jee(r,e)?Cp(r,s++):qee(r,e)?Cp(r,--s):Cp(r,s)).join(`
`)}function jee(n,e){return e.some(t=>!(t.isVoid||!new RegExp(`<${t.name}( .*?)?>`).test(n)))}function qee(n,e){return e.some(t=>new RegExp(`</${t.name}>`).test(n))}function Cp(n,e,t="    "){return`${t.repeat(Math.max(0,e))}${n}`}const Kee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const KC="SourceEditingMode";class Gee extends De{static get pluginName(){return"SourceEditing"}static get requires(){return[Af]}constructor(e){super(e),this.set("isSourceEditingMode",!1),this._elementReplacer=new Mx,this._replacedRoots=new Map,this._dataFromRoots=new Map}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("sourceEditing",i=>{const s=new Zt(i);return s.set({label:t("Source"),icon:Kee,tooltip:!0,withText:!0,class:"ck-source-editing-button"}),s.bind("isOn").to(this,"isSourceEditingMode"),s.bind("isEnabled").to(this,"isEnabled",e,"isReadOnly",e.plugins.get(Af),"hasAny",(r,o,a)=>!(!r||o||a)),this.listenTo(s,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),s}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(i,s,r)=>{r?(this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(i,s,r)=>this._handleReadOnlyMode(!r)),this.listenTo(e,"change:isReadOnly",(i,s,r)=>this._handleReadOnlyMode(r))),e.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}afterInit(){const e=this.editor;["RealTimeCollaborativeEditing","CommentsEditing","TrackChangesEditing","RevisionHistory"].some(i=>e.plugins.has(i))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}updateEditorData(){const e=this.editor,t={};for(const[i,s]of this._replacedRoots){const r=this._dataFromRoots.get(i),o=s.dataset.value;r!==o&&(t[i]=o)}Object.keys(t).length&&e.data.set(t,{batchType:{isUndoable:!0}})}_showSourceEditing(){const e=this.editor,t=e.editing.view,i=e.model;i.change(s=>{s.setSelection(null),s.removeSelectionAttribute(i.document.selection.getAttributeKeys())});for(const[s,r]of t.domRoots){const o=Qee(e.data.get({rootName:s})),a=Fg(r.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),l=Fg(r.ownerDocument,"div",{class:"ck-source-editing-area","data-value":o},[a]);a.value=o,a.setSelectionRange(0,0),a.addEventListener("input",()=>{l.dataset.value=a.value}),t.change(c=>{const u=t.document.getRoot(s);c.addClass("ck-hidden",u)}),e.ui.setEditableElement("sourceEditing:"+s,a),this._replacedRoots.set(s,l),this._elementReplacer.replace(r,l),this._dataFromRoots.set(s,o)}this._focusSourceEditing()}_hideSourceEditing(){const t=this.editor.editing.view;this.updateEditorData(),t.change(i=>{for(const[s]of this._replacedRoots)i.removeClass("ck-hidden",t.document.getRoot(s))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),t.focus()}_focusSourceEditing(){const e=this.editor,[t]=this._replacedRoots.values(),i=t.querySelector("textarea");e.editing.view.document.isFocused=!1,i.focus()}_disableCommands(){const e=this.editor;for(const t of e.commands.commands())t.forceDisabled(KC)}_enableCommands(){const e=this.editor;for(const t of e.commands.commands())t.clearForceDisabled(KC)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(const[,t]of this._replacedRoots)t.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){const t=this.editor.ui.view.editable;return t&&!t.hasExternalElement}}function Qee(n){return Yee(n)?Wee(n):n}function Yee(n){return n.startsWith("<")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sn(n,e,t,i,s=1){e!=null&&s!==void 0&&s!==null&&e>s?i.setAttribute(n,e,t):i.removeAttribute(n,t)}function ya(n,e,t={}){const i=n.createElement("tableCell",t);return n.insertElement("paragraph",i),n.insert(i,e),i}function rv(n,e){const t=e.parent.parent,i=parseInt(t.getAttribute("headingColumns")||"0"),{column:s}=n.getCellLocation(e);return!!i&&s<i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Jee(){return n=>{n.on("element:figure",(e,t,i)=>{if(!i.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const s=ete(t.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(t.viewItem,{name:!0,classes:"table"});const r=i.convertItem(s,t.modelCursor),o=Sn(r.modelRange.getItems());if(!o){i.consumable.revert(t.viewItem,{name:!0,classes:"table"});return}i.convertChildren(t.viewItem,i.writer.createPositionAt(o,"end")),i.updateConversionResult(o,t)})}}function Xee(){return n=>{n.on("element:table",(e,t,i)=>{const s=t.viewItem;if(!i.consumable.test(s,{name:!0}))return;const{rows:r,headingRows:o,headingColumns:a}=tte(s),l={};a&&(l.headingColumns=a),o&&(l.headingRows=o);const c=i.writer.createElement("table",l);if(i.safeInsert(c,t.modelCursor)){if(i.consumable.consume(s,{name:!0}),r.forEach(u=>i.convertItem(u,i.writer.createPositionAt(c,"end"))),i.convertChildren(s,i.writer.createPositionAt(c,"end")),c.isEmpty){const u=i.writer.createElement("tableRow");i.writer.insert(u,i.writer.createPositionAt(c,"end")),ya(i.writer,i.writer.createPositionAt(u,"end"))}i.updateConversionResult(c,t)}})}}function Zee(){return n=>{n.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&t.modelCursor.index==0&&e.stop()},{priority:"high"})}}function GC(n){return e=>{e.on(`element:${n}`,(t,i,{writer:s})=>{if(!i.modelRange)return;const r=i.modelRange.start.nodeAfter,o=s.createPositionAt(r,0);if(i.viewItem.isEmpty){s.insertElement("paragraph",o);return}const a=Array.from(r.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=s.createElement("paragraph");s.insert(l,s.createPositionAt(r,0));for(const c of a)s.move(s.createRangeOn(c),s.createPositionAt(l,"end"))}},{priority:"low"})}}function ete(n){for(const e of n.getChildren())if(e.is("element","table"))return e}function tte(n){let e=0,t;const i=[],s=[];let r;for(const o of Array.from(n.getChildren())){if(o.name!=="tbody"&&o.name!=="thead"&&o.name!=="tfoot")continue;o.name==="thead"&&!r&&(r=o);const a=Array.from(o.getChildren()).filter(l=>l.is("element","tr"));for(const l of a)if(r&&o===r||o.name==="tbody"&&Array.from(l.getChildren()).length&&Array.from(l.getChildren()).every(c=>c.is("element","th")))e++,i.push(l);else{s.push(l);const c=nte(l);(!t||c<t)&&(t=c)}}return{headingRows:e,headingColumns:t||0,rows:[...i,...s]}}function nte(n){let e=0,t=0;const i=Array.from(n.getChildren()).filter(s=>s.name==="th"||s.name==="td");for(;t<i.length&&i[t].name==="th";){const s=i[t],r=parseInt(s.getAttribute("colspan")||"1");e=e+r,t++}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dt{constructor(e,t={}){this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(i.cell,i.row,i.column));else{const s=e.getChild(this._cellIndex);if(!s)return this._advanceToNextRow();const r=parseInt(s.getAttribute("colspan")||"1"),o=parseInt(s.getAttribute("rowspan")||"1");(r>1||o>1)&&this._recordSpans(s,o,r),this._shouldSkipSlot()||(t=this._formatOutValue(s)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,i=this._column){return{done:!1,value:new ite(this,e,t,i)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,i=this._column<this._startColumn,s=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||i||s}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,i){const s={cell:e,row:this._row,column:this._column};for(let r=this._row;r<this._row+t;r++)for(let o=this._column;o<this._column+i;o++)(r!=this._row||o!=this._column)&&this._markSpannedCell(r,o,s)}_markSpannedCell(e,t,i){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,i)}}class ite{constructor(e,t,i,s){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=i,this.cellAnchorColumn=s,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function QC(n,e){return(t,{writer:i})=>{const s=t.getAttribute("headingRows")||0,r=i.createContainerElement("table",null,[]),o=i.createContainerElement("figure",{class:"table"},r);s>0&&i.insert(i.createPositionAt(r,"end"),i.createContainerElement("thead",null,i.createSlot(a=>a.is("element","tableRow")&&a.index<s))),s<n.getRows(t)&&i.insert(i.createPositionAt(r,"end"),i.createContainerElement("tbody",null,i.createSlot(a=>a.is("element","tableRow")&&a.index>=s)));for(const{positionOffset:a,filter:l}of e.additionalSlots)i.insert(i.createPositionAt(r,a),i.createSlot(l));return i.insert(i.createPositionAt(r,"after"),i.createSlot(a=>a.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:l})=>l(a)))),e.asWidget?rte(o,i):o}}function ste(){return(n,{writer:e})=>n.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function YC(n={}){return(e,{writer:t})=>{const i=e.parent,s=i.parent,r=s.getChildIndex(i),o=new Dt(s,{row:r}),a=s.getAttribute("headingRows")||0,l=s.getAttribute("headingColumns")||0;let c=null;for(const u of o)if(u.cell==e){const f=u.row<a||u.column<l?"th":"td";c=n.asWidget?FI(t.createEditableElement(f),t):t.createContainerElement(f);break}return c}}function JC(n={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!g2(e))return null;if(n.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function g2(n){return n.parent.childCount==1&&!ote(n)}function rte(n,e){return e.setCustomProperty("table",!0,n),MI(n,e,{hasSelectionHandle:!0})}function ote(n){return!n.getAttributeKeys().next().done}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ate extends kt{refresh(){const e=this.editor.model,t=e.document.selection,i=e.schema;this.isEnabled=lte(t,i)}execute(e={}){const t=this.editor,i=t.model,s=t.plugins.get("TableUtils"),r=t.config.get("table.defaultHeadings.rows"),o=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&r&&(e.headingRows=r),e.headingColumns===void 0&&o&&(e.headingColumns=o),i.change(a=>{const l=s.createTable(a,e);i.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function lte(n,e){const t=n.getFirstPosition().parent,i=t===t.root?t:t.parent;return e.checkChild(i,"table")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XC extends kt{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),s=this.order==="above",r=i.getSelectionAffectedTableCells(t),o=i.getRowIndexes(r),a=s?o.first:o.last,l=r[0].findAncestor("table");i.insertRows(l,{at:s?a:a+1,copyStructureFromAbove:!s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ZC extends kt{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),s=this.order==="left",r=i.getSelectionAffectedTableCells(t),o=i.getColumnIndexes(r),a=s?o.first:o.last,l=r[0].findAncestor("table");i.insertColumns(l,{columns:1,at:s?a:a+1})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ek extends kt{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function v2(n,e,t){const{startRow:i,startColumn:s,endRow:r,endColumn:o}=e,a=t.createElement("table"),l=r-i+1;for(let u=0;u<l;u++)t.insertElement("tableRow",a,"end");const c=[...new Dt(n,{startRow:i,endRow:r,startColumn:s,endColumn:o,includeAllSlots:!0})];for(const{row:u,column:d,cell:f,isAnchor:h,cellAnchorRow:p,cellAnchorColumn:m}of c){const b=u-i,v=a.getChild(b);if(!h)(p<i||m<s)&&ya(t,t.createPositionAt(v,"end"));else{const w=t.cloneElement(f);t.append(w,v),C2(w,u,d,r,o,t)}}return cte(a,n,i,s,t),a}function b2(n,e,t=0){const i=[],s=new Dt(n,{startRow:t,endRow:e-1});for(const r of s){const{row:o,cellHeight:a}=r,l=o+a-1;o<e&&e<=l&&i.push(r)}return i}function y2(n,e,t){const i=n.parent,s=i.parent,r=i.index,o=parseInt(n.getAttribute("rowspan")),a=e-r,l={},c=o-a;c>1&&(l.rowspan=c);const u=parseInt(n.getAttribute("colspan")||"1");u>1&&(l.colspan=u);const d=r,f=d+a,h=[...new Dt(s,{startRow:d,endRow:f,includeAllSlots:!0})];let p=null,m;for(const b of h){const{row:v,column:w,cell:C}=b;C===n&&m===void 0&&(m=w),m!==void 0&&m===w&&v===f&&(p=ya(t,b.getPositionBefore(),l))}return sn("rowspan",a,n,t),p}function w2(n,e){const t=[],i=new Dt(n);for(const s of i){const{column:r,cellWidth:o}=s,a=r+o-1;r<e&&e<=a&&t.push(s)}return t}function _2(n,e,t,i){const s=parseInt(n.getAttribute("colspan")),r=t-e,o={},a=s-r;a>1&&(o.colspan=a);const l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(o.rowspan=l);const c=ya(i,i.createPositionAfter(n),o);return sn("colspan",r,n,i),c}function C2(n,e,t,i,s,r){const o=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(t+o-1>s){const u=s-t+1;sn("colspan",u,n,r,1)}if(e+a-1>i){const u=i-e+1;sn("rowspan",u,n,r,1)}}function cte(n,e,t,i,s){const r=parseInt(e.getAttribute("headingRows")||"0");if(r>0){const a=r-t;sn("headingRows",a,n,s,0)}const o=parseInt(e.getAttribute("headingColumns")||"0");if(o>0){const a=o-i;sn("headingColumns",a,n,s,0)}}function ov(n,e){const t=e.getColumns(n),i=new Array(t).fill(0);for(const{column:r}of new Dt(n))i[r]++;const s=i.reduce((r,o,a)=>o?r:[...r,a],[]);if(s.length>0){const r=s[s.length-1];return e.removeColumns(n,{at:r}),!0}return!1}function av(n,e){const t=[],i=e.getRows(n);for(let s=0;s<i;s++)n.getChild(s).isEmpty&&t.push(s);if(t.length>0){const s=t[t.length-1];return e.removeRows(n,{at:s}),!0}return!1}function Sy(n,e){ov(n,e)||av(n,e)}function k2(n,e){const t=Array.from(new Dt(n,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:r})=>r===1))return e.lastRow;const s=t[0].cellHeight-1;return e.lastRow+s}function S2(n,e){const t=Array.from(new Dt(n,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:r})=>r===1))return e.lastColumn;const s=t[0].cellWidth-1;return e.lastColumn+s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pd extends kt{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],r=this.value,o=this.direction;e.change(a=>{const l=o=="right"||o=="down",c=l?s:r,u=l?r:s,d=u.parent;fte(u,c,a);const f=this.isHorizontal?"colspan":"rowspan",h=parseInt(s.getAttribute(f)||"1"),p=parseInt(r.getAttribute(f)||"1");a.setAttribute(f,h+p,c),a.setSelection(a.createRangeIn(c));const m=this.editor.plugins.get("TableUtils"),b=d.findAncestor("table");Sy(b,m)})}_getMergeableCell(){const t=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),s=i.getTableCellsContainingSelection(t.selection)[0];if(!s)return;const r=this.isHorizontal?ute(s,this.direction,i):dte(s,this.direction,i);if(!r)return;const o=this.isHorizontal?"rowspan":"colspan",a=parseInt(s.getAttribute(o)||"1");if(parseInt(r.getAttribute(o)||"1")===a)return r}}function ute(n,e,t){const s=n.parent.parent,r=e=="right"?n.nextSibling:n.previousSibling,o=(s.getAttribute("headingColumns")||0)>0;if(!r)return;const a=e=="right"?n:r,l=e=="right"?r:n,{column:c}=t.getCellLocation(a),{column:u}=t.getCellLocation(l),d=parseInt(a.getAttribute("colspan")||"1"),f=rv(t,a),h=rv(t,l);return o&&f!=h?void 0:c+d===u?r:void 0}function dte(n,e,t){const i=n.parent,s=i.parent,r=s.getChildIndex(i);if(e=="down"&&r===t.getRows(s)-1||e=="up"&&r===0)return null;const o=parseInt(n.getAttribute("rowspan")||"1"),a=s.getAttribute("headingRows")||0,l=e=="down"&&r+o===a,c=e=="up"&&r===a;if(a&&(l||c))return null;const u=parseInt(n.getAttribute("rowspan")||"1"),d=e=="down"?r+u:r,f=[...new Dt(s,{endRow:d})],p=f.find(b=>b.cell===n).column,m=f.find(({row:b,cellHeight:v,column:w})=>w!==p?!1:e=="down"?b===d:d===b+v);return m&&m.cell?m.cell:null}function fte(n,e,t){tk(n)||(tk(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function tk(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hte extends kt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){const s=i.findAncestor("table"),o=e.getRows(s)-1,a=e.getRowIndexes(t),l=a.first===0&&a.last===o;this.isEnabled=!l}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),s=t.getRowIndexes(i),r=i[0],o=r.findAncestor("table"),a=t.getCellLocation(r).column;e.change(l=>{const c=s.last-s.first+1;t.removeRows(o,{at:s.first,rows:c});const u=mte(o,s.first,a,t.getRows(o));l.setSelection(l.createPositionAt(u,0))})}}function mte(n,e,t,i){const s=n.getChild(Math.min(e,i-1));let r=s.getChild(0),o=0;for(const a of s.getChildren()){if(o>t)return r;r=a,o+=parseInt(a.getAttribute("colspan")||"1")}return r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pte extends kt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){const s=i.findAncestor("table"),r=e.getColumns(s),{first:o,last:a}=e.getColumnIndexes(t);this.isEnabled=a-o<r-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,i]=vte(this.editor.model.document.selection,e),s=t.parent.parent,r=[...new Dt(s)],o={first:r.find(l=>l.cell===t).column,last:r.find(l=>l.cell===i).column},a=gte(r,t,i,o);this.editor.model.change(l=>{const c=o.last-o.first+1;e.removeColumns(s,{at:o.first,columns:c}),l.setSelection(l.createPositionAt(a,0))})}}function gte(n,e,t,i){return parseInt(t.getAttribute("colspan")||"1")>1?t:e.previousSibling||t.nextSibling?t.nextSibling||e.previousSibling:i.first?n.reverse().find(({column:r})=>r<i.first).cell:n.reverse().find(({column:r})=>r>i.last).cell}function vte(n,e){const t=e.getSelectionAffectedTableCells(n),i=t[0],s=t.pop(),r=[i,s];return i.isBefore(s)?r:r.reverse()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bte extends kt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),s=i.length>0;this.isEnabled=s,this.value=s&&i.every(r=>this._isInHeading(r,r.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=t.getSelectionAffectedTableCells(i.document.selection),r=s[0].findAncestor("table"),{first:o,last:a}=t.getRowIndexes(s),l=this.value?o:a+1,c=r.getAttribute("headingRows")||0;i.change(u=>{if(l){const d=l>c?c:0,f=b2(r,l,d);for(const{cell:h}of f)y2(h,l,u)}sn("headingRows",l,r,u,0)})}_isInHeading(e,t){const i=parseInt(t.getAttribute("headingRows")||"0");return!!i&&e.parent.index<i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yte extends kt{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),s=i.length>0;this.isEnabled=s,this.value=s&&i.every(r=>rv(t,r))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=t.getSelectionAffectedTableCells(i.document.selection),r=s[0].findAncestor("table"),{first:o,last:a}=t.getColumnIndexes(s),l=this.value?o:a+1;i.change(c=>{if(l){const u=w2(r,l);for(const{cell:d,column:f}of u)_2(d,f,l,c)}sn("headingColumns",l,r,c,0)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ti extends De{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,i=t.parent,s=i.getChildIndex(t),r=new Dt(i,{row:s});for(const{cell:o,row:a,column:l}of r)if(o===e)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(e,t){const i=e.createElement("table"),s=t.rows||2,r=t.columns||2;return kp(e,i,0,s,r),t.headingRows&&sn("headingRows",Math.min(t.headingRows,s),i,e,0),t.headingColumns&&sn("headingColumns",Math.min(t.headingColumns,r),i,e,0),i}insertRows(e,t={}){const i=this.editor.model,s=t.at||0,r=t.rows||1,o=t.copyStructureFromAbove!==void 0,a=t.copyStructureFromAbove?s-1:s,l=this.getRows(e),c=this.getColumns(e);if(s>l)throw new L("tableutils-insertrows-insert-out-of-range",this,{options:t});i.change(u=>{const d=e.getAttribute("headingRows")||0;if(d>s&&sn("headingRows",d+r,e,u,0),!o&&(s===0||s===l)){kp(u,e,s,r,c);return}const f=o?Math.max(s,a):s,h=new Dt(e,{endRow:f}),p=new Array(c).fill(1);for(const{row:m,column:b,cellHeight:v,cellWidth:w,cell:C}of h){const _=m+v-1,T=m<s&&s<=_,k=m<=a&&a<=_;T?(u.setAttribute("rowspan",v+r,C),p[b]=-w):o&&k&&(p[b]=w)}for(let m=0;m<r;m++){const b=u.createElement("tableRow");u.insert(b,e,s);for(let v=0;v<p.length;v++){const w=p[v],C=u.createPositionAt(b,"end");w>0&&ya(u,C,w>1?{colspan:w}:void 0),v+=Math.abs(w)-1}}})}insertColumns(e,t={}){const i=this.editor.model,s=t.at||0,r=t.columns||1;i.change(o=>{const a=e.getAttribute("headingColumns");s<a&&o.setAttribute("headingColumns",a+r,e);const l=this.getColumns(e);if(s===0||l===s){for(const u of e.getChildren())u.is("element","tableRow")&&Ha(r,o,o.createPositionAt(u,s?"end":0));return}const c=new Dt(e,{column:s,includeAllSlots:!0});for(const u of c){const{row:d,cell:f,cellAnchorColumn:h,cellAnchorRow:p,cellWidth:m,cellHeight:b}=u;if(h<s){o.setAttribute("colspan",m+r,f);const v=p+b-1;for(let w=d;w<=v;w++)c.skipRow(w)}else Ha(r,o,u.getPositionBefore())}})}removeRows(e,t){const i=this.editor.model,s=t.rows||1,r=this.getRows(e),o=t.at,a=o+s-1;if(a>r-1)throw new L("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});i.change(l=>{const c={first:o,last:a},{cellsToMove:u,cellsToTrim:d}=Cte(e,c);if(u.size){const f=a+1;kte(e,f,u,l)}for(let f=a;f>=o;f--)l.remove(e.getChild(f));for(const{rowspan:f,cell:h}of d)sn("rowspan",f,h,l);_te(e,c,l),ov(e,this)||av(e,this)})}removeColumns(e,t){const i=this.editor.model,s=t.at,r=t.columns||1,o=t.at+r-1;i.change(a=>{wte(e,{first:s,last:o},a);for(let l=o;l>=s;l--)for(const{cell:c,column:u,cellWidth:d}of[...new Dt(e)])u<=l&&d>1&&u+d>l?sn("colspan",d-1,c,a):u===l&&a.remove(c);av(e,this)||ov(e,this)})}splitCellVertically(e,t=2){const i=this.editor.model,r=e.parent.parent,o=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");i.change(l=>{if(a>1){const{newCellsSpan:c,updatedSpan:u}=nk(a,t);sn("colspan",u,e,l);const d={};c>1&&(d.colspan=c),o>1&&(d.rowspan=o);const f=a>t?t-1:a-1;Ha(f,l,l.createPositionAfter(e),d)}if(a<t){const c=t-a,u=[...new Dt(r)],{column:d}=u.find(({cell:m})=>m===e),f=u.filter(({cell:m,cellWidth:b,column:v})=>{const w=m!==e&&v===d,C=v<d&&v+b>d;return w||C});for(const{cell:m,cellWidth:b}of f)l.setAttribute("colspan",b+c,m);const h={};o>1&&(h.rowspan=o),Ha(c,l,l.createPositionAfter(e),h);const p=r.getAttribute("headingColumns")||0;p>d&&sn("headingColumns",p+c,r,l)}})}splitCellHorizontally(e,t=2){const i=this.editor.model,s=e.parent,r=s.parent,o=r.getChildIndex(s),a=parseInt(e.getAttribute("rowspan")||"1"),l=parseInt(e.getAttribute("colspan")||"1");i.change(c=>{if(a>1){const u=[...new Dt(r,{startRow:o,endRow:o+a-1,includeAllSlots:!0})],{newCellsSpan:d,updatedSpan:f}=nk(a,t);sn("rowspan",f,e,c);const{column:h}=u.find(({cell:m})=>m===e),p={};d>1&&(p.rowspan=d),l>1&&(p.colspan=l);for(const m of u){const{column:b,row:v}=m,w=v>=o+f,C=b===h,_=(v+o+f)%d===0;w&&C&&_&&Ha(1,c,m.getPositionBefore(),p)}}if(a<t){const u=t-a,d=[...new Dt(r,{startRow:0,endRow:o})];for(const{cell:p,cellHeight:m,row:b}of d)if(p!==e&&b+m>o){const v=m+u;c.setAttribute("rowspan",v,p)}const f={};l>1&&(f.colspan=l),kp(c,r,o+1,u,1,f);const h=r.getAttribute("headingRows")||0;h>o&&sn("headingRows",h+u,r,c)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((i,s)=>{const r=parseInt(s.getAttribute("colspan")||"1");return i+r},0)}getRows(e){return Array.from(e.getChildren()).reduce((t,i)=>i.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Dt(e,t)}getSelectedTableCells(e){const t=[];for(const i of this.sortRanges(e.getRanges())){const s=i.getContainedElement();s&&s.is("element","tableCell")&&t.push(s)}return t}getTableCellsContainingSelection(e){const t=[];for(const i of e.getRanges()){const s=i.start.findAncestor("tableCell");s&&t.push(s)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(i=>i.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),s=[...new Dt(t)].filter(r=>e.includes(r.cell)).map(r=>r.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,i=new Set;let s=0;for(const o of e){const{row:a,column:l}=this.getCellLocation(o),c=parseInt(o.getAttribute("rowspan"))||1,u=parseInt(o.getAttribute("colspan"))||1;t.add(a),i.add(l),c>1&&t.add(a+c-1),u>1&&i.add(l+u-1),s+=c*u}return Ete(t,i)==s}sortRanges(e){return Array.from(e).sort(Ste)}_getFirstLastIndexesObject(e){const t=e.sort((r,o)=>r-o),i=t[0],s=t[t.length-1];return{first:i,last:s}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),i=this.getRowIndexes(e),s=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,s))return!1;const r=this.getColumnIndexes(e),o=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(r,o)}_areIndexesInSameSection({first:e,last:t},i){const s=e<i,r=t<i;return s===r}}function kp(n,e,t,i,s,r={}){for(let o=0;o<i;o++){const a=n.createElement("tableRow");n.insert(a,e,t),Ha(s,n,n.createPositionAt(a,"end"),r)}}function Ha(n,e,t,i={}){for(let s=0;s<n;s++)ya(e,t,i)}function nk(n,e){if(n<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(n/e),i=n-t*e+t;return{newCellsSpan:t,updatedSpan:i}}function wte(n,e,t){const i=n.getAttribute("headingColumns")||0;if(i&&e.first<i){const s=Math.min(i-1,e.last)-e.first+1;t.setAttribute("headingColumns",i-s,n)}}function _te(n,{first:e,last:t},i){const s=n.getAttribute("headingRows")||0;if(e<s){const r=t<s?s-(t-e+1):e;sn("headingRows",r,n,i,0)}}function Cte(n,{first:e,last:t}){const i=new Map,s=[];for(const{row:r,column:o,cellHeight:a,cell:l}of new Dt(n,{endRow:t})){const c=r+a-1;if(r>=e&&r<=t&&c>t){const f=t-r+1,h=a-f;i.set(o,{cell:l,rowspan:h})}if(r<e&&c>=e){let f;c>=t?f=t-e+1:f=c-e+1,s.push({cell:l,rowspan:a-f})}}return{cellsToMove:i,cellsToTrim:s}}function kte(n,e,t,i){const r=[...new Dt(n,{includeAllSlots:!0,row:e})],o=n.getChild(e);let a;for(const{column:l,cell:c,isAnchor:u}of r)if(t.has(l)){const{cell:d,rowspan:f}=t.get(l),h=a?i.createPositionAfter(a):i.createPositionAt(o,0);i.move(i.createRangeOn(d),h),sn("rowspan",f,d,i),a=d}else u&&(a=c)}function Ste(n,e){const t=n.start,i=e.start;return t.isBefore(i)?-1:1}function Ete(n,e){const t=Array.from(n.values()),i=Array.from(e.values()),s=Math.max(...t),r=Math.min(...t),o=Math.max(...i),a=Math.min(...i);return(s-r+1)*(o-a+1)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tte extends kt{refresh(){const e=this.editor.plugins.get(ti),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(ti);e.change(i=>{const s=t.getSelectedTableCells(e.document.selection),r=s.shift(),{mergeWidth:o,mergeHeight:a}=xte(r,s,t);sn("colspan",o,r,i),sn("rowspan",a,r,i);for(const c of s)Ate(c,r,i);const l=r.findAncestor("table");Sy(l,t),i.setSelection(r,"in")})}}function Ate(n,e,t){ik(n)||(ik(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function ik(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function xte(n,e,t){let i=0,s=0;for(const c of e){const{row:u,column:d}=t.getCellLocation(c);i=sk(c,d,i,"colspan"),s=sk(c,u,s,"rowspan")}const{row:r,column:o}=t.getCellLocation(n),a=i-o,l=s-r;return{mergeWidth:a,mergeHeight:l}}function sk(n,e,t,i){const s=parseInt(n.getAttribute(i)||"1");return Math.max(t,e+s)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pte extends kt{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),s=t.getRowIndexes(i),r=i[0].findAncestor("table"),o=[];for(let a=s.first;a<=s.last;a++)for(const l of r.getChild(a).getChildren())o.push(e.createRangeOn(l));e.change(a=>{a.setSelection(o)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ite extends kt{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),s=i[0],r=i.pop(),o=s.findAncestor("table"),a=e.getCellLocation(s),l=e.getCellLocation(r),c=Math.min(a.column,l.column),u=Math.max(a.column,l.column),d=[];for(const f of new Dt(o,{startColumn:c,endColumn:u}))d.push(t.createRangeOn(f.cell));t.change(f=>{f.setSelection(d)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ote(n){n.document.registerPostFixer(e=>Rte(e,n))}function Rte(n,e){const t=e.document.differ.getChanges();let i=!1;const s=new Set;for(const r of t){let o=null;r.type=="insert"&&r.name=="table"&&(o=r.position.nodeAfter),(r.type=="insert"||r.type=="remove")&&(r.name=="tableRow"||r.name=="tableCell")&&(o=r.position.findAncestor("table")),Lte(r)&&(o=r.range.start.findAncestor("table")),o&&!s.has(o)&&(i=Mte(o,n)||i,i=Dte(o,n)||i,s.add(o))}return i}function Mte(n,e){let t=!1;const i=Fte(n);if(i.length){t=!0;for(const s of i)sn("rowspan",s.rowspan,s.cell,e,1)}return t}function Dte(n,e){let t=!1;const i=Nte(n),s=[];for(const[l,c]of i.entries())!c&&n.getChild(l).is("element","tableRow")&&s.push(l);if(s.length){t=!0;for(const l of s.reverse())e.remove(n.getChild(l)),i.splice(l,1)}const r=i.filter((l,c)=>n.getChild(c).is("element","tableRow")),o=r[0];if(!r.every(l=>l===o)){const l=r.reduce((c,u)=>u>c?u:c,0);for(const[c,u]of r.entries()){const d=l-u;if(d){for(let f=0;f<d;f++)ya(e,e.createPositionAt(n.getChild(c),"end"));t=!0}}}return t}function Fte(n){const e=parseInt(n.getAttribute("headingRows")||"0"),t=Array.from(n.getChildren()).reduce((s,r)=>r.is("element","tableRow")?s+1:s,0),i=[];for(const{row:s,cell:r,cellHeight:o}of new Dt(n)){if(o<2)continue;const l=s<e?e:t;if(s+o>l){const c=l-s;i.push({cell:r,rowspan:c})}}return i}function Nte(n){const e=new Array(n.childCount).fill(0);for(const{rowIndex:t}of new Dt(n,{includeAllSlots:!0}))e[t]++;return e}function Lte(n){if(n.type!=="attribute")return!1;const e=n.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Bte(n){n.document.registerPostFixer(e=>$te(e,n))}function $te(n,e){const t=e.document.differ.getChanges();let i=!1;for(const s of t)s.type=="insert"&&s.name=="table"&&(i=Vte(s.position.nodeAfter,n)||i),s.type=="insert"&&s.name=="tableRow"&&(i=E2(s.position.nodeAfter,n)||i),s.type=="insert"&&s.name=="tableCell"&&(i=lv(s.position.nodeAfter,n)||i),(s.type=="remove"||s.type=="insert")&&Ute(s)&&(i=lv(s.position.parent,n)||i);return i}function Vte(n,e){let t=!1;for(const i of n.getChildren())i.is("element","tableRow")&&(t=E2(i,e)||t);return t}function E2(n,e){let t=!1;for(const i of n.getChildren())t=lv(i,e)||t;return t}function lv(n,e){if(n.childCount==0)return e.insertElement("paragraph",n),!0;const t=Array.from(n.getChildren()).filter(i=>i.is("$text"));for(const i of t)e.wrap(e.createRangeOn(i),"paragraph");return!!t.length}function Ute(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zte(n,e){const t=n.document.differ;for(const i of t.getChanges()){let s,r=!1;if(i.type=="attribute"){const c=i.range.start.nodeAfter;if(!c||!c.is("element","table")||i.attributeKey!="headingRows"&&i.attributeKey!="headingColumns")continue;s=c,r=i.attributeKey=="headingRows"}else(i.name=="tableRow"||i.name=="tableCell")&&(s=i.position.findAncestor("table"),r=i.name=="tableRow");if(!s)continue;const o=s.getAttribute("headingRows")||0,a=s.getAttribute("headingColumns")||0,l=new Dt(s);for(const c of l){const d=c.row<o||c.column<a?"th":"td",f=e.mapper.toViewElement(c.cell);f&&f.is("element")&&f.name!=d&&e.reconvertItem(r?c.cell.parent:c.cell)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Hte(n,e){const t=n.document.differ,i=new Set;for(const s of t.getChanges()){const r=s.type=="attribute"?s.range.start.parent:s.position.parent;r.is("element","tableCell")&&i.add(r)}for(const s of i.values()){const r=Array.from(s.getChildren()).filter(o=>Wte(o,e.mapper));for(const o of r)e.reconvertItem(o)}}function Wte(n,e){if(!n.is("element","paragraph"))return!1;const t=e.toViewElement(n);return t?g2(n)!==t.is("element","span"):!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jte extends De{static get pluginName(){return"TableEditing"}static get requires(){return[ti]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,i=t.schema,s=e.conversion,r=e.plugins.get(ti);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),s.for("upcast").add(Jee()),s.for("upcast").add(Xee()),s.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:QC(r,{asWidget:!0,additionalSlots:this._additionalSlots})}),s.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:QC(r,{additionalSlots:this._additionalSlots})}),s.for("upcast").elementToElement({model:"tableRow",view:"tr"}),s.for("upcast").add(Zee()),s.for("downcast").elementToElement({model:"tableRow",view:ste()}),s.for("upcast").elementToElement({model:"tableCell",view:"td"}),s.for("upcast").elementToElement({model:"tableCell",view:"th"}),s.for("upcast").add(GC("td")),s.for("upcast").add(GC("th")),s.for("editingDowncast").elementToElement({model:"tableCell",view:YC({asWidget:!0})}),s.for("dataDowncast").elementToElement({model:"tableCell",view:YC()}),s.for("editingDowncast").elementToElement({model:"paragraph",view:JC({asWidget:!0}),converterPriority:"high"}),s.for("dataDowncast").elementToElement({model:"paragraph",view:JC(),converterPriority:"high"}),s.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),s.for("upcast").attributeToAttribute({model:{key:"colspan",value:rk("colspan")},view:"colspan"}),s.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),s.for("upcast").attributeToAttribute({model:{key:"rowspan",value:rk("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new ate(e)),e.commands.add("insertTableRowAbove",new XC(e,{order:"above"})),e.commands.add("insertTableRowBelow",new XC(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new ZC(e,{order:"left"})),e.commands.add("insertTableColumnRight",new ZC(e,{order:"right"})),e.commands.add("removeTableRow",new hte(e)),e.commands.add("removeTableColumn",new pte(e)),e.commands.add("splitTableCellVertically",new ek(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new ek(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new Tte(e)),e.commands.add("mergeTableCellRight",new Pd(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Pd(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Pd(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Pd(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new yte(e)),e.commands.add("setTableRowHeader",new bte(e)),e.commands.add("selectTableRow",new Pte(e)),e.commands.add("selectTableColumn",new Ite(e)),Ote(t),Bte(t),this.listenTo(t.document,"change:data",()=>{zte(t,e.editing),Hte(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function rk(n){return e=>{const t=parseInt(e.getAttribute(n));return Number.isNaN(t)||t<=0?null:t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qte extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Tr,this.focusTracker=new ws,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,s)=>`${s}  ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(i=>{i.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,s)=>{const{row:r,column:o}=s.target.dataset;this.items.get((parseInt(r,10)-1)*10+(parseInt(o,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,s,r)=>{if(!r)return;const{row:o,column:a}=r.dataset;this.set({rows:parseInt(o),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),OH({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((i,s)=>{const r=Math.floor(s/10),o=s%10,a=r<e&&o<t;i.set("isOn",a)})}_createGridButton(e,t,i,s){const r=new Zt(e);return r.set({label:s,class:"ck-insert-table-dropdown-grid-box"}),r.extendTemplate({attributes:{"data-row":t,"data-column":i}}),r}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const i=Math.floor(t/10),s=t%10,r=`${i+1}  ${s+1}`;e.push(this._createGridButton(this.locale,i+1,s+1,r))}return this.createCollection(e)}}const Kte='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',Gte='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',Qte='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',Yte='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jte extends De{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",r=>{const o=e.commands.get("insertTable"),a=Jr(r);a.bind("isEnabled").to(o),a.buttonView.set({icon:Kte,label:t("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new qte(r),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}))}),a}),e.ui.componentFactory.add("tableColumn",r=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),Gte,o,r)}),e.ui.componentFactory.add("tableRow",r=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),Qte,o,r)}),e.ui.componentFactory.add("mergeTableCells",r=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),Yte,o,r)})}_prepareDropdown(e,t,i,s){const r=this.editor,o=Jr(s),a=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(c=>c)),this.listenTo(o,"execute",l=>{r.execute(l.source.commandName),l.source instanceof xh||r.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(e,t,i,s){const r=this.editor,o=Jr(s,ty),a="mergeTableCells",l=r.commands.get(a),c=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([l,...c],"isEnabled",(...u)=>u.some(d=>d)),this.listenTo(o.buttonView,"execute",()=>{r.execute(a),r.editing.view.focus()}),this.listenTo(o,"execute",u=>{r.execute(u.source.commandName),r.editing.view.focus()}),o}_fillDropdownWithListOptions(e,t){const i=this.editor,s=[],r=new ys;for(const o of t)Xte(o,i,s,r);return nI(e,r),s}}function Xte(n,e,t,i){if(n.type==="button"||n.type==="switchbutton"){const s=n.model=new lI(n.model),{commandName:r,bindIsOn:o}=n.model,a=e.commands.get(r);t.push(a),s.set({commandName:r}),s.bind("isEnabled").to(a),o&&s.bind("isOn").to(a,"value"),s.set({withText:!0})}i.add(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jo extends De{static get pluginName(){return"TableSelection"}static get requires(){return[ti,ti]}init(){const e=this.editor,t=e.model,i=e.editing.view;this.listenTo(t,"deleteContent",(s,r)=>this._handleDeleteContent(s,r),{priority:"high"}),this.listenTo(i.document,"insertText",(s,r)=>this._handleInsertTextEvent(s,r),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(ti),t=this.editor.model.document.selection,i=e.getSelectedTableCells(t);if(i.length==0)return null;// @if CK_DEBUG //	/* istanbul ignore next -- @preserve */
return i}getSelectionAsFragment(){const e=this.editor.plugins.get(ti),t=this.getSelectedTableCells();return t?this.editor.model.change(i=>{const s=i.createDocumentFragment(),{first:r,last:o}=e.getColumnIndexes(t),{first:a,last:l}=e.getRowIndexes(t),c=t[0].findAncestor("table");let u=l,d=o;if(e.isSelectionRectangular(t)){const p={firstColumn:r,lastColumn:o,firstRow:a,lastRow:l};u=k2(c,p),d=S2(c,p)}const h=v2(c,{startRow:a,startColumn:r,endRow:u,endColumn:d},i);return i.insert(h,s,0),s}):null}setCellSelection(e,t){const i=this._getCellsToSelect(e,t);this.editor.model.change(s=>{s.setSelection(i.cells.map(r=>s.createRangeOn(r)),{backward:i.backward})})}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const e=this.editor.model.document.selection,i=Sn(e.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(r,o,a)=>{const l=a.writer;i(l);const c=this.getSelectedTableCells();if(!c)return;for(const d of c){const f=a.mapper.toViewElement(d);l.addClass("ck-editor__editable_selected",f),t.add(f)}const u=a.mapper.toViewElement(c[c.length-1]);l.setSelection(u,0)},{priority:"lowest"}));function i(s){for(const r of t)s.removeClass("ck-editor__editable_selected",r);t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(i=>{const s=i.createPositionAt(t[0],0),r=e.model.schema.getNearestSelectionRange(s);i.setSelection(r)})}})}_handleDeleteContent(e,t){const i=this.editor.plugins.get(ti),s=t[0],r=t[1],o=this.editor.model,a=!r||r.direction=="backward",l=i.getSelectedTableCells(s);l.length&&(e.stop(),o.change(c=>{const u=l[a?l.length-1:0];o.change(f=>{for(const h of l)o.deleteContent(f.createSelection(h,"in"))});const d=o.schema.getNearestSelectionRange(c.createPositionAt(u,0));s.is("documentSelection")?c.setSelection(d):s.setTo(d)}))}_handleInsertTextEvent(e,t){const i=this.editor,s=this.getSelectedTableCells();if(!s)return;const r=i.editing.view,o=i.editing.mapper,a=s.map(l=>r.createRangeOn(o.toViewElement(l)));t.selection=r.createSelection(a)}_getCellsToSelect(e,t){const i=this.editor.plugins.get("TableUtils"),s=i.getCellLocation(e),r=i.getCellLocation(t),o=Math.min(s.row,r.row),a=Math.max(s.row,r.row),l=Math.min(s.column,r.column),c=Math.max(s.column,r.column),u=new Array(a-o+1).fill(null).map(()=>[]),d={startRow:o,endRow:a,startColumn:l,endColumn:c};for(const{row:p,cell:m}of new Dt(e.findAncestor("table"),d))u[p-o].push(m);const f=r.row<s.row,h=r.column<s.column;return f&&u.reverse(),h&&u.forEach(p=>p.reverse()),{cells:u.flat(),backward:f||h}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zte extends De{static get pluginName(){return"TableClipboard"}static get requires(){return[jo,ti]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(i,s)=>this._onCopyCut(i,s)),this.listenTo(t,"cut",(i,s)=>this._onCopyCut(i,s)),this.listenTo(e.model,"insertContent",(i,[s,r])=>this._onInsertContent(i,s,r),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const i=this.editor.plugins.get(jo);if(!i.getSelectedTableCells()||e.name=="cut"&&this.editor.isReadOnly)return;t.preventDefault(),e.stop();const s=this.editor.data,r=this.editor.editing.view.document,o=s.toView(i.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:o,method:e.name})}_onInsertContent(e,t,i){if(i&&!i.is("documentSelection"))return;const s=this.editor.model,r=this.editor.plugins.get(ti);let o=this.getTableIfOnlyTableInContent(t,s);if(!o)return;const a=r.getSelectionAffectedTableCells(s.document.selection);if(!a.length){Sy(o,r);return}e.stop(),s.change(l=>{const c={width:r.getColumns(o),height:r.getRows(o)},u=ene(a,c,l,r),d=u.lastRow-u.firstRow+1,f=u.lastColumn-u.firstColumn+1,h={startRow:0,startColumn:0,endRow:Math.min(d,c.height)-1,endColumn:Math.min(f,c.width)-1};o=v2(o,h,l);const p=a[0].findAncestor("table"),m=this._replaceSelectedCellsWithPasted(o,c,p,u,l);if(this.editor.plugins.get("TableSelection").isEnabled){const b=r.sortRanges(m.map(v=>l.createRangeOn(v)));l.setSelection(b)}else l.setSelection(m[0],0)})}_replaceSelectedCellsWithPasted(e,t,i,s,r){const{width:o,height:a}=t,l=nne(e,o,a),c=[...new Dt(i,{startRow:s.firstRow,endRow:s.lastRow,startColumn:s.firstColumn,endColumn:s.lastColumn,includeAllSlots:!0})],u=[];let d;for(const b of c){const{row:v,column:w}=b;w===s.firstColumn&&(d=b.getPositionBefore());const C=v-s.firstRow,_=w-s.firstColumn,T=l[C%a][_%o],k=T?r.cloneElement(T):null,E=this._replaceTableSlotCell(b,k,d,r);E&&(C2(E,v,w,s.lastRow,s.lastColumn,r),u.push(E),d=r.createPositionAfter(E))}const f=parseInt(i.getAttribute("headingRows")||"0"),h=parseInt(i.getAttribute("headingColumns")||"0"),p=s.firstRow<f&&f<=s.lastRow,m=s.firstColumn<h&&h<=s.lastColumn;if(p){const b={first:s.firstColumn,last:s.lastColumn},v=cv(i,f,b,r,s.firstRow);u.push(...v)}if(m){const b={first:s.firstRow,last:s.lastRow},v=uv(i,h,b,r);u.push(...v)}return u}_replaceTableSlotCell(e,t,i,s){const{cell:r,isAnchor:o}=e;return o&&s.remove(r),t?(s.insert(t,i),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const i=t.createRangeIn(e);for(const s of i.getItems())if(s.is("element","table")){const r=t.createRange(i.start,t.createPositionBefore(s));if(t.hasContent(r,{ignoreWhitespaces:!0}))return null;const o=t.createRange(t.createPositionAfter(s),i.end);return t.hasContent(o,{ignoreWhitespaces:!0})?null:s}return null}}function ene(n,e,t,i){const s=n[0].findAncestor("table"),r=i.getColumnIndexes(n),o=i.getRowIndexes(n),a={firstColumn:r.first,lastColumn:r.last,firstRow:o.first,lastRow:o.last},l=n.length===1;return l&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,tne(s,a.lastRow+1,a.lastColumn+1,i)),l||!i.isSelectionRectangular(n)?ine(s,a,t):(a.lastRow=k2(s,a),a.lastColumn=S2(s,a)),a}function tne(n,e,t,i){const s=i.getColumns(n),r=i.getRows(n);t>s&&i.insertColumns(n,{at:s,columns:t-s}),e>r&&i.insertRows(n,{at:r,rows:e-r})}function nne(n,e,t){const i=new Array(t).fill(null).map(()=>new Array(e).fill(null));for(const{column:s,row:r,cell:o}of new Dt(n))i[r][s]=o;return i}function ine(n,e,t){const{firstRow:i,lastRow:s,firstColumn:r,lastColumn:o}=e,a={first:i,last:s},l={first:r,last:o};uv(n,r,a,t),uv(n,o+1,a,t),cv(n,i,l,t),cv(n,s+1,l,t,i)}function cv(n,e,t,i,s=0){return e<1?void 0:b2(n,e,s).filter(({column:a,cellWidth:l})=>T2(a,l,t)).map(({cell:a})=>y2(a,e,i))}function uv(n,e,t,i){return e<1?void 0:w2(n,e).filter(({row:o,cellHeight:a})=>T2(o,a,t)).map(({cell:o,column:a})=>_2(o,a,e,i))}function T2(n,e,t){const i=n+e-1,{first:s,last:r}=t,o=n>=s&&n<=r,a=n<s&&i>=s;return o||a}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sne extends De{static get pluginName(){return"TableKeyboard"}static get requires(){return[jo,ti]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...i)=>this._onArrowKey(...i),{context:"table"}),this.listenTo(t,"tab",(...i)=>this._handleTabOnSelectedTable(...i),{context:"figure"}),this.listenTo(t,"tab",(...i)=>this._handleTab(...i),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const i=this.editor,r=i.model.document.selection.getSelectedElement();!r||!r.is("element","table")||(t.preventDefault(),t.stopPropagation(),e.stop(),i.model.change(o=>{o.setSelection(o.createRangeIn(r.getChild(0).getChild(0)))}))}_handleTab(e,t){const i=this.editor,s=this.editor.plugins.get(ti),r=this.editor.plugins.get("TableSelection"),o=i.model.document.selection,a=!t.shiftKey;let l=s.getTableCellsContainingSelection(o)[0];if(l||(l=r.getFocusCell()),!l)return;t.preventDefault(),t.stopPropagation(),e.stop();const c=l.parent,u=c.parent,d=u.getChildIndex(c),f=c.getChildIndex(l),h=f===0;if(!a&&h&&d===0){i.model.change(v=>{v.setSelection(v.createRangeOn(u))});return}const p=f===c.childCount-1,m=d===s.getRows(u)-1;if(a&&m&&p&&(i.execute("insertTableRowBelow"),d===s.getRows(u)-1)){i.model.change(v=>{v.setSelection(v.createRangeOn(u))});return}let b;if(a&&p)b=u.getChild(d+1).getChild(0);else if(!a&&h){const v=u.getChild(d-1);b=v.getChild(v.childCount-1)}else b=c.getChild(f+(a?1:-1));i.model.change(v=>{v.setSelection(v.createRangeIn(b))})}_onArrowKey(e,t){const i=this.editor,s=t.keyCode,r=Yb(s,i.locale.contentLanguageDirection);this._handleArrowKeys(r,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const i=this.editor.plugins.get(ti),s=this.editor.plugins.get("TableSelection"),r=this.editor.model,o=r.document.selection,a=["right","down"].includes(e),l=i.getSelectedTableCells(o);if(l.length){let u;return t?u=s.getFocusCell():u=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(u,e,t),!0}const c=o.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!c)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==a&&!o.containsEntireContent(c))return!1}else{const u=o.getSelectedElement();if(!u||!r.schema.isObject(u))return!1}return this._isSelectionAtCellEdge(o,c,a)?(this._navigateFromCellInDirection(c,e,t),!0):!1}_isSelectionAtCellEdge(e,t,i){const s=this.editor.model,r=this.editor.model.schema,o=i?e.getLastPosition():e.getFirstPosition();if(!r.getLimitElement(o).is("element","tableCell"))return s.createPositionAt(t,i?"end":0).isTouching(o);const a=s.createSelection(o);return s.modifySelection(a,{direction:i?"forward":"backward"}),o.isEqual(a.focus)}_navigateFromCellInDirection(e,t,i=!1){const s=this.editor.model,r=e.findAncestor("table"),o=[...new Dt(r,{includeAllSlots:!0})],{row:a,column:l}=o[o.length-1],c=o.find(({cell:w})=>w==e);let{row:u,column:d}=c;switch(t){case"left":d--;break;case"up":u--;break;case"right":d+=c.cellWidth;break;case"down":u+=c.cellHeight;break}const f=u<0||u>a,h=d<0&&u<=0,p=d>l&&u>=a;if(f||h||p){s.change(w=>{w.setSelection(w.createRangeOn(r))});return}d<0?(d=i?0:l,u--):d>l&&(d=i?l:0,u++);const m=o.find(w=>w.row==u&&w.column==d).cell,b=["right","down"].includes(t),v=this.editor.plugins.get("TableSelection");if(i&&v.isEnabled){const w=v.getAnchorCell()||e;v.setCellSelection(w,m)}else{const w=s.createPositionAt(m,b?0:"end");s.change(C=>{C.setSelection(w)})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rne extends uo{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class one extends De{static get pluginName(){return"TableMouse"}static get requires(){return[jo,ti]}init(){this.editor.editing.view.addObserver(rne),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(ti);let i=!1;const s=e.plugins.get(jo);this.listenTo(e.editing.view.document,"mousedown",(r,o)=>{const a=e.model.document.selection;if(!this.isEnabled||!s.isEnabled||!o.domEvent.shiftKey)return;const l=s.getAnchorCell()||t.getTableCellsContainingSelection(a)[0];if(!l)return;const c=this._getModelTableCellFromDomEvent(o);c&&ok(l,c)&&(i=!0,s.setCellSelection(l,c),o.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(e.editing.view.document,"selectionChange",r=>{i&&r.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,i,s=!1,r=!1;const o=e.plugins.get(jo);this.listenTo(e.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!o.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(l))}),this.listenTo(e.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!t)return;const c=this._getModelTableCellFromDomEvent(l);c&&ok(t,c)&&(i=c,!s&&i!=t&&(s=!0)),s&&(r=!0,o.setCellSelection(t,i),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1,r=!1,t=null,i=null}),this.listenTo(e.editing.view.document,"selectionChange",a=>{r&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,i=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function ok(n,e){return n.parent.parent==e.parent.parent}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ane extends De{static get requires(){return[jte,Jte,jo,one,sne,Zte,Fh]}static get pluginName(){return"Table"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function lne(n){const e=n.getSelectedElement();return e&&A2(e)?e:null}function cne(n){const e=n.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&A2(t))return t;t=t.parent}return null}function A2(n){return!!n.getCustomProperty("table")&&tn(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class une extends De{static get requires(){return[Of]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,i=e.plugins.get(Of),s=e.config.get("table.contentToolbar"),r=e.config.get("table.tableToolbar");s&&i.register("tableContent",{ariaLabel:t("Table toolbar"),items:s,getRelatedElement:cne}),r&&i.register("table",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:lne})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Eo=ii.defaultPositions;Eo.northArrowSouth,Eo.northArrowSouthWest,Eo.northArrowSouthEast,Eo.southArrowNorth,Eo.southArrowNorthWest,Eo.southArrowNorthEast,Eo.viewportStickyNorth;const dne={components:{ckeditor:IH.component},props:{content:{type:String,default:""}},emits:["content"],setup(n,{emit:e}){const t=Mh,i=se(n.content),s=se({plugins:[Ou,WY,vC,bC,cX,oee,dX,vC,bC,wX,EX,zX,qX,sZ,rZ,PZ,Mee,Hee,Gee,uZ,ane,une],toolbar:{items:["heading","alignment","bold","italic","link","bulletedList","numberedList","uploadImage","blockQuote","undo","redo","sourceEditing","insertTable"]},image:{toolbar:["toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},simpleUpload:{uploadUrl:"/admin/image/store",withCredentials:!0,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}});return $e(i,r=>{e("content",r)},{immediate:!0}),{editor:t,editorData:i,editorConfig:s}}},Nh=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t};function fne(n,e,t,i,s,r){const o=xs("ckeditor");return U(),Ue(o,{editor:i.editor,modelValue:i.editorData,"onUpdate:modelValue":e[0]||(e[0]=a=>i.editorData=a),config:i.editorConfig},null,8,["editor","modelValue","config"])}const hne=Nh(dne,[["render",fne]]);function x2(n,e){return function(){return n.apply(e,arguments)}}const{toString:mne}=Object.prototype,{getPrototypeOf:Ey}=Object,Lh=(n=>e=>{const t=mne.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Js=n=>(n=n.toLowerCase(),e=>Lh(e)===n),Bh=n=>e=>typeof e===n,{isArray:ql}=Array,pu=Bh("undefined");function pne(n){return n!==null&&!pu(n)&&n.constructor!==null&&!pu(n.constructor)&&Zi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const P2=Js("ArrayBuffer");function gne(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&P2(n.buffer),e}const vne=Bh("string"),Zi=Bh("function"),I2=Bh("number"),$h=n=>n!==null&&typeof n=="object",bne=n=>n===!0||n===!1,Yd=n=>{if(Lh(n)!=="object")return!1;const e=Ey(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},yne=Js("Date"),wne=Js("File"),_ne=Js("Blob"),Cne=Js("FileList"),kne=n=>$h(n)&&Zi(n.pipe),Sne=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Zi(n.append)&&((e=Lh(n))==="formdata"||e==="object"&&Zi(n.toString)&&n.toString()==="[object FormData]"))},Ene=Js("URLSearchParams"),Tne=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ru(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),ql(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,n[a],a,n)}}function O2(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const R2=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),M2=n=>!pu(n)&&n!==R2;function dv(){const{caseless:n}=M2(this)&&this||{},e={},t=(i,s)=>{const r=n&&O2(e,s)||s;Yd(e[r])&&Yd(i)?e[r]=dv(e[r],i):Yd(i)?e[r]=dv({},i):ql(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ru(arguments[i],t);return e}const Ane=(n,e,t,{allOwnKeys:i}={})=>(Ru(e,(s,r)=>{t&&Zi(s)?n[r]=x2(s,t):n[r]=s},{allOwnKeys:i}),n),xne=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Pne=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Ine=(n,e,t,i)=>{let s,r,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Ey(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},One=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Rne=n=>{if(!n)return null;if(ql(n))return n;let e=n.length;if(!I2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Mne=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ey(Uint8Array)),Dne=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(n,r[0],r[1])}},Fne=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},Nne=Js("HTMLFormElement"),Lne=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),ak=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Bne=Js("RegExp"),D2=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Ru(t,(s,r)=>{e(s,r,n)!==!1&&(i[r]=s)}),Object.defineProperties(n,i)},$ne=n=>{D2(n,(e,t)=>{if(Zi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Zi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Vne=(n,e)=>{const t={},i=s=>{s.forEach(r=>{t[r]=!0})};return ql(n)?i(n):i(String(n).split(e)),t},Une=()=>{},zne=(n,e)=>(n=+n,Number.isFinite(n)?n:e),Sp="abcdefghijklmnopqrstuvwxyz",lk="0123456789",F2={DIGIT:lk,ALPHA:Sp,ALPHA_DIGIT:Sp+Sp.toUpperCase()+lk},Hne=(n=16,e=F2.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function Wne(n){return!!(n&&Zi(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const jne=n=>{const e=new Array(10),t=(i,s)=>{if($h(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=ql(i)?[]:{};return Ru(i,(o,a)=>{const l=t(o,s+1);!pu(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return t(n,0)},qne=Js("AsyncFunction"),Kne=n=>n&&($h(n)||Zi(n))&&Zi(n.then)&&Zi(n.catch),ve={isArray:ql,isArrayBuffer:P2,isBuffer:pne,isFormData:Sne,isArrayBufferView:gne,isString:vne,isNumber:I2,isBoolean:bne,isObject:$h,isPlainObject:Yd,isUndefined:pu,isDate:yne,isFile:wne,isBlob:_ne,isRegExp:Bne,isFunction:Zi,isStream:kne,isURLSearchParams:Ene,isTypedArray:Mne,isFileList:Cne,forEach:Ru,merge:dv,extend:Ane,trim:Tne,stripBOM:xne,inherits:Pne,toFlatObject:Ine,kindOf:Lh,kindOfTest:Js,endsWith:One,toArray:Rne,forEachEntry:Dne,matchAll:Fne,isHTMLForm:Nne,hasOwnProperty:ak,hasOwnProp:ak,reduceDescriptors:D2,freezeMethods:$ne,toObjectSet:Vne,toCamelCase:Lne,noop:Une,toFiniteNumber:zne,findKey:O2,global:R2,isContextDefined:M2,ALPHABET:F2,generateString:Hne,isSpecCompliantForm:Wne,toJSONObject:jne,isAsyncFn:qne,isThenable:Kne};function It(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s)}ve.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const N2=It.prototype,L2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{L2[n]={value:n}});Object.defineProperties(It,L2);Object.defineProperty(N2,"isAxiosError",{value:!0});It.from=(n,e,t,i,s,r)=>{const o=Object.create(N2);return ve.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),It.call(o,n.message,e,t,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const Gne=null;function fv(n){return ve.isPlainObject(n)||ve.isArray(n)}function B2(n){return ve.endsWith(n,"[]")?n.slice(0,-2):n}function ck(n,e,t){return n?n.concat(e).map(function(s,r){return s=B2(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function Qne(n){return ve.isArray(n)&&!n.some(fv)}const Yne=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function Vh(n,e,t){if(!ve.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ve.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!ve.isUndefined(b[m])});const i=t.metaTokens,s=t.visitor||u,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(ve.isDate(p))return p.toISOString();if(!l&&ve.isBlob(p))throw new It("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(p)||ve.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,b){let v=p;if(p&&!b&&typeof p=="object"){if(ve.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(ve.isArray(p)&&Qne(p)||(ve.isFileList(p)||ve.endsWith(m,"[]"))&&(v=ve.toArray(p)))return m=B2(m),v.forEach(function(C,_){!(ve.isUndefined(C)||C===null)&&e.append(o===!0?ck([m],_,r):o===null?m:m+"[]",c(C))}),!1}return fv(p)?!0:(e.append(ck(b,m,r),c(p)),!1)}const d=[],f=Object.assign(Yne,{defaultVisitor:u,convertValue:c,isVisitable:fv});function h(p,m){if(!ve.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),ve.forEach(p,function(v,w){(!(ve.isUndefined(v)||v===null)&&s.call(e,v,ve.isString(w)?w.trim():w,m,f))===!0&&h(v,m?m.concat(w):[w])}),d.pop()}}if(!ve.isObject(n))throw new TypeError("data must be an object");return h(n),e}function uk(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Ty(n,e){this._pairs=[],n&&Vh(n,this,e)}const $2=Ty.prototype;$2.append=function(e,t){this._pairs.push([e,t])};$2.toString=function(e){const t=e?function(i){return e.call(this,i,uk)}:uk;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Jne(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function V2(n,e,t){if(!e)return n;const i=t&&t.encode||Jne,s=t&&t.serialize;let r;if(s?r=s(e,t):r=ve.isURLSearchParams(e)?e.toString():new Ty(e,t).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class Xne{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(i){i!==null&&e(i)})}}const dk=Xne,U2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zne=typeof URLSearchParams<"u"?URLSearchParams:Ty,eie=typeof FormData<"u"?FormData:null,tie=typeof Blob<"u"?Blob:null,nie=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),iie=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Bs={isBrowser:!0,classes:{URLSearchParams:Zne,FormData:eie,Blob:tie},isStandardBrowserEnv:nie,isStandardBrowserWebWorkerEnv:iie,protocols:["http","https","file","blob","url","data"]};function sie(n,e){return Vh(n,new Bs.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,r){return Bs.isNode&&ve.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function rie(n){return ve.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oie(n){const e={},t=Object.keys(n);let i;const s=t.length;let r;for(i=0;i<s;i++)r=t[i],e[r]=n[r];return e}function z2(n){function e(t,i,s,r){let o=t[r++];const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&ve.isArray(s)?s.length:o,l?(ve.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!ve.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],r)&&ve.isArray(s[o])&&(s[o]=oie(s[o])),!a)}if(ve.isFormData(n)&&ve.isFunction(n.entries)){const t={};return ve.forEachEntry(n,(i,s)=>{e(rie(i),s,t,0)}),t}return null}const aie={"Content-Type":void 0};function lie(n,e,t){if(ve.isString(n))try{return(e||JSON.parse)(n),ve.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Uh={transitional:U2,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=ve.isObject(e);if(r&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return s&&s?JSON.stringify(z2(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return sie(e,this.formSerializer).toString();if((a=ve.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Vh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),lie(e)):e}],transformResponse:[function(e){const t=this.transitional||Uh.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&ve.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?It.from(a,It.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bs.classes.FormData,Blob:Bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ve.forEach(["delete","get","head"],function(e){Uh.headers[e]={}});ve.forEach(["post","put","patch"],function(e){Uh.headers[e]=ve.merge(aie)});const Ay=Uh,cie=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uie=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&cie[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},fk=Symbol("internals");function uc(n){return n&&String(n).trim().toLowerCase()}function Jd(n){return n===!1||n==null?n:ve.isArray(n)?n.map(Jd):String(n)}function die(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const fie=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ep(n,e,t,i,s){if(ve.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!ve.isString(e)){if(ve.isString(i))return e.indexOf(i)!==-1;if(ve.isRegExp(i))return i.test(e)}}function hie(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function mie(n,e){const t=ve.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class zh{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function r(a,l,c){const u=uc(l);if(!u)throw new Error("header name must be a non-empty string");const d=ve.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Jd(a))}const o=(a,l)=>ve.forEach(a,(c,u)=>r(c,u,l));return ve.isPlainObject(e)||e instanceof this.constructor?o(e,t):ve.isString(e)&&(e=e.trim())&&!fie(e)?o(uie(e),t):e!=null&&r(t,e,i),this}get(e,t){if(e=uc(e),e){const i=ve.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return die(s);if(ve.isFunction(t))return t.call(this,s,i);if(ve.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=uc(e),e){const i=ve.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Ep(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function r(o){if(o=uc(o),o){const a=ve.findKey(i,o);a&&(!t||Ep(i,i[a],a,t))&&(delete i[a],s=!0)}}return ve.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const r=t[i];(!e||Ep(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,i={};return ve.forEach(this,(s,r)=>{const o=ve.findKey(i,r);if(o){t[o]=Jd(s),delete t[r];return}const a=e?hie(r):String(r).trim();a!==r&&delete t[r],t[a]=Jd(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&ve.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[fk]=this[fk]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=uc(o);i[a]||(mie(s,o),i[a]=!0)}return ve.isArray(e)?e.forEach(r):r(e),this}}zh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.freezeMethods(zh.prototype);ve.freezeMethods(zh);const pr=zh;function Tp(n,e){const t=this||Ay,i=e||t,s=pr.from(i.headers);let r=i.data;return ve.forEach(n,function(a){r=a.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function H2(n){return!!(n&&n.__CANCEL__)}function Mu(n,e,t){It.call(this,n??"canceled",It.ERR_CANCELED,e,t),this.name="CanceledError"}ve.inherits(Mu,It,{__CANCEL__:!0});function pie(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new It("Request failed with status code "+t.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const gie=Bs.isStandardBrowserEnv?function(){return{write:function(t,i,s,r,o,a){const l=[];l.push(t+"="+encodeURIComponent(i)),ve.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),ve.isString(r)&&l.push("path="+r),ve.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function vie(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function bie(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function W2(n,e){return n&&!vie(e)?bie(n,e):e}const yie=Bs.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function s(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=s(window.location.href),function(o){const a=ve.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function wie(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function _ie(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),t[s]=l,i[s]=c;let d=r,f=0;for(;d!==s;)f+=t[d++],d=d%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function hk(n,e){let t=0;const i=_ie(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-t,l=i(a),c=r<=o;t=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:s};u[e?"download":"upload"]=!0,n(u)}}const Cie=typeof XMLHttpRequest<"u",kie=Cie&&function(n){return new Promise(function(t,i){let s=n.data;const r=pr.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}ve.isFormData(s)&&(Bs.isStandardBrowserEnv||Bs.isStandardBrowserWebWorkerEnv?r.setContentType(!1):r.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(n.auth){const h=n.auth.username||"",p=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";r.set("Authorization","Basic "+btoa(h+":"+p))}const u=W2(n.baseURL,n.url);c.open(n.method.toUpperCase(),V2(u,n.params,n.paramsSerializer),!0),c.timeout=n.timeout;function d(){if(!c)return;const h=pr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:h,config:n,request:c};pie(function(v){t(v),l()},function(v){i(v),l()},m),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(i(new It("Request aborted",It.ECONNABORTED,n,c)),c=null)},c.onerror=function(){i(new It("Network Error",It.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let p=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const m=n.transitional||U2;n.timeoutErrorMessage&&(p=n.timeoutErrorMessage),i(new It(p,m.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,n,c)),c=null},Bs.isStandardBrowserEnv){const h=(n.withCredentials||yie(u))&&n.xsrfCookieName&&gie.read(n.xsrfCookieName);h&&r.set(n.xsrfHeaderName,h)}s===void 0&&r.setContentType(null),"setRequestHeader"in c&&ve.forEach(r.toJSON(),function(p,m){c.setRequestHeader(m,p)}),ve.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&o!=="json"&&(c.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&c.addEventListener("progress",hk(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",hk(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=h=>{c&&(i(!h||h.type?new Mu(null,n,c):h),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const f=wie(u);if(f&&Bs.protocols.indexOf(f)===-1){i(new It("Unsupported protocol "+f+":",It.ERR_BAD_REQUEST,n));return}c.send(s||null)})},Xd={http:Gne,xhr:kie};ve.forEach(Xd,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Sie={getAdapter:n=>{n=ve.isArray(n)?n:[n];const{length:e}=n;let t,i;for(let s=0;s<e&&(t=n[s],!(i=ve.isString(t)?Xd[t.toLowerCase()]:t));s++);if(!i)throw i===!1?new It(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ve.hasOwnProp(Xd,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!ve.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Xd};function Ap(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Mu(null,n)}function mk(n){return Ap(n),n.headers=pr.from(n.headers),n.data=Tp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Sie.getAdapter(n.adapter||Ay.adapter)(n).then(function(i){return Ap(n),i.data=Tp.call(n,n.transformResponse,i),i.headers=pr.from(i.headers),i},function(i){return H2(i)||(Ap(n),i&&i.response&&(i.response.data=Tp.call(n,n.transformResponse,i.response),i.response.headers=pr.from(i.response.headers))),Promise.reject(i)})}const pk=n=>n instanceof pr?n.toJSON():n;function kl(n,e){e=e||{};const t={};function i(c,u,d){return ve.isPlainObject(c)&&ve.isPlainObject(u)?ve.merge.call({caseless:d},c,u):ve.isPlainObject(u)?ve.merge({},u):ve.isArray(u)?u.slice():u}function s(c,u,d){if(ve.isUndefined(u)){if(!ve.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function r(c,u){if(!ve.isUndefined(u))return i(void 0,u)}function o(c,u){if(ve.isUndefined(u)){if(!ve.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(pk(c),pk(u),!0)};return ve.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||s,f=d(n[u],e[u],u);ve.isUndefined(f)&&d!==a||(t[u]=f)}),t}const j2="1.4.0",xy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{xy[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const gk={};xy.transitional=function(e,t,i){function s(r,o){return"[Axios v"+j2+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new It(s(o," has been removed"+(t?" in "+t:"")),It.ERR_DEPRECATED);return t&&!gk[o]&&(gk[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};function Eie(n,e,t){if(typeof n!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=n[r],l=a===void 0||o(a,r,n);if(l!==!0)throw new It("option "+r+" must be "+l,It.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new It("Unknown option "+r,It.ERR_BAD_OPTION)}}const hv={assertOptions:Eie,validators:xy},Dr=hv.validators;class Mf{constructor(e){this.defaults=e,this.interceptors={request:new dk,response:new dk}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=kl(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:r}=t;i!==void 0&&hv.assertOptions(i,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),s!=null&&(ve.isFunction(s)?t.paramsSerializer={serialize:s}:hv.assertOptions(s,{encode:Dr.function,serialize:Dr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o;o=r&&ve.merge(r.common,r[t.method]),o&&ve.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),t.headers=pr.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[mk.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(t);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=t;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(b){m.call(this,b);break}}try{u=mk.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=kl(this.defaults,e);const t=W2(e.baseURL,e.url);return V2(t,e.params,e.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(e){Mf.prototype[e]=function(t,i){return this.request(kl(i||{},{method:e,url:t,data:(i||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,a){return this.request(kl(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Mf.prototype[e]=t(),Mf.prototype[e+"Form"]=t(!0)});const Zd=Mf;class Py{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new Mu(r,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Py(function(s){e=s}),cancel:e}}}const Tie=Py;function Aie(n){return function(t){return n.apply(null,t)}}function xie(n){return ve.isObject(n)&&n.isAxiosError===!0}const mv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mv).forEach(([n,e])=>{mv[e]=n});const Pie=mv;function q2(n){const e=new Zd(n),t=x2(Zd.prototype.request,e);return ve.extend(t,Zd.prototype,e,{allOwnKeys:!0}),ve.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return q2(kl(n,s))},t}const En=q2(Ay);En.Axios=Zd;En.CanceledError=Mu;En.CancelToken=Tie;En.isCancel=H2;En.VERSION=j2;En.toFormData=Vh;En.AxiosError=It;En.Cancel=En.CanceledError;En.all=function(e){return Promise.all(e)};En.spread=Aie;En.isAxiosError=xie;En.mergeConfig=kl;En.AxiosHeaders=pr;En.formToJSON=n=>z2(ve.isHTMLForm(n)?new FormData(n):n);En.HttpStatusCode=Pie;En.default=En;const vk=En;var Iie=function(e){return Oie(e)&&!Rie(e)};function Oie(n){return!!n&&typeof n=="object"}function Rie(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||Fie(n)}var Mie=typeof Symbol=="function"&&Symbol.for,Die=Mie?Symbol.for("react.element"):60103;function Fie(n){return n.$$typeof===Die}function Nie(n){return Array.isArray(n)?[]:{}}function gu(n,e){return e.clone!==!1&&e.isMergeableObject(n)?Sl(Nie(n),n,e):n}function Lie(n,e,t){return n.concat(e).map(function(i){return gu(i,t)})}function Bie(n,e){if(!e.customMerge)return Sl;var t=e.customMerge(n);return typeof t=="function"?t:Sl}function $ie(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(e){return Object.propertyIsEnumerable.call(n,e)}):[]}function bk(n){return Object.keys(n).concat($ie(n))}function K2(n,e){try{return e in n}catch{return!1}}function Vie(n,e){return K2(n,e)&&!(Object.hasOwnProperty.call(n,e)&&Object.propertyIsEnumerable.call(n,e))}function Uie(n,e,t){var i={};return t.isMergeableObject(n)&&bk(n).forEach(function(s){i[s]=gu(n[s],t)}),bk(e).forEach(function(s){Vie(n,s)||(K2(n,s)&&t.isMergeableObject(e[s])?i[s]=Bie(s,t)(n[s],e[s],t):i[s]=gu(e[s],t))}),i}function Sl(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||Lie,t.isMergeableObject=t.isMergeableObject||Iie,t.cloneUnlessOtherwiseSpecified=gu;var i=Array.isArray(e),s=Array.isArray(n),r=i===s;return r?i?t.arrayMerge(n,e,t):Uie(n,e,t):gu(e,t)}Sl.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,s){return Sl(i,s,t)},{})};var zie=Sl,Hie=zie;const Wie=xi(Hie);var jie=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var r=Object.getOwnPropertySymbols(e);if(r.length!==1||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==s||o.enumerable!==!0)return!1}return!0},yk=typeof Symbol<"u"&&Symbol,qie=jie,Kie=function(){return typeof yk!="function"||typeof Symbol!="function"||typeof yk("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:qie()},wk={foo:{}},Gie=Object,Qie=function(){return{__proto__:wk}.foo===wk.foo&&!({__proto__:null}instanceof Gie)},Yie="Function.prototype.bind called on incompatible ",xp=Array.prototype.slice,Jie=Object.prototype.toString,Xie="[object Function]",Zie=function(e){var t=this;if(typeof t!="function"||Jie.call(t)!==Xie)throw new TypeError(Yie+t);for(var i=xp.call(arguments,1),s,r=function(){if(this instanceof s){var u=t.apply(this,i.concat(xp.call(arguments)));return Object(u)===u?u:this}else return t.apply(e,i.concat(xp.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],l=0;l<o;l++)a.push("$"+l);if(s=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(r),t.prototype){var c=function(){};c.prototype=t.prototype,s.prototype=new c,c.prototype=null}return s},ese=Zie,Iy=Function.prototype.bind||ese,tse=Iy,nse=tse.call(Function.call,Object.prototype.hasOwnProperty),gt,El=SyntaxError,G2=Function,il=TypeError,Pp=function(n){try{return G2('"use strict"; return ('+n+").constructor;")()}catch{}},qo=Object.getOwnPropertyDescriptor;if(qo)try{qo({},"")}catch{qo=null}var Ip=function(){throw new il},ise=qo?function(){try{return arguments.callee,Ip}catch{try{return qo(arguments,"callee").get}catch{return Ip}}}():Ip,Da=Kie(),sse=Qie(),In=Object.getPrototypeOf||(sse?function(n){return n.__proto__}:null),Wa={},rse=typeof Uint8Array>"u"||!In?gt:In(Uint8Array),Ko={"%AggregateError%":typeof AggregateError>"u"?gt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?gt:ArrayBuffer,"%ArrayIteratorPrototype%":Da&&In?In([][Symbol.iterator]()):gt,"%AsyncFromSyncIteratorPrototype%":gt,"%AsyncFunction%":Wa,"%AsyncGenerator%":Wa,"%AsyncGeneratorFunction%":Wa,"%AsyncIteratorPrototype%":Wa,"%Atomics%":typeof Atomics>"u"?gt:Atomics,"%BigInt%":typeof BigInt>"u"?gt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?gt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?gt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?gt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?gt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?gt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?gt:FinalizationRegistry,"%Function%":G2,"%GeneratorFunction%":Wa,"%Int8Array%":typeof Int8Array>"u"?gt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?gt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?gt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Da&&In?In(In([][Symbol.iterator]())):gt,"%JSON%":typeof JSON=="object"?JSON:gt,"%Map%":typeof Map>"u"?gt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Da||!In?gt:In(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?gt:Promise,"%Proxy%":typeof Proxy>"u"?gt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?gt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?gt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Da||!In?gt:In(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?gt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Da&&In?In(""[Symbol.iterator]()):gt,"%Symbol%":Da?Symbol:gt,"%SyntaxError%":El,"%ThrowTypeError%":ise,"%TypedArray%":rse,"%TypeError%":il,"%Uint8Array%":typeof Uint8Array>"u"?gt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?gt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?gt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?gt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?gt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?gt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?gt:WeakSet};if(In)try{null.error}catch(n){var ose=In(In(n));Ko["%Error.prototype%"]=ose}var ase=function n(e){var t;if(e==="%AsyncFunction%")t=Pp("async function () {}");else if(e==="%GeneratorFunction%")t=Pp("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Pp("async function* () {}");else if(e==="%AsyncGenerator%"){var i=n("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=n("%AsyncGenerator%");s&&In&&(t=In(s.prototype))}return Ko[e]=t,t},_k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Du=Iy,Df=nse,lse=Du.call(Function.call,Array.prototype.concat),cse=Du.call(Function.apply,Array.prototype.splice),Ck=Du.call(Function.call,String.prototype.replace),Ff=Du.call(Function.call,String.prototype.slice),use=Du.call(Function.call,RegExp.prototype.exec),dse=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fse=/\\(\\)?/g,hse=function(e){var t=Ff(e,0,1),i=Ff(e,-1);if(t==="%"&&i!=="%")throw new El("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new El("invalid intrinsic syntax, expected opening `%`");var s=[];return Ck(e,dse,function(r,o,a,l){s[s.length]=a?Ck(l,fse,"$1"):o||r}),s},mse=function(e,t){var i=e,s;if(Df(_k,i)&&(s=_k[i],i="%"+s[0]+"%"),Df(Ko,i)){var r=Ko[i];if(r===Wa&&(r=ase(i)),typeof r>"u"&&!t)throw new il("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:i,value:r}}throw new El("intrinsic "+e+" does not exist!")},Oy=function(e,t){if(typeof e!="string"||e.length===0)throw new il("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new il('"allowMissing" argument must be a boolean');if(use(/^%?[^%]*%?$/,e)===null)throw new El("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=hse(e),s=i.length>0?i[0]:"",r=mse("%"+s+"%",t),o=r.name,a=r.value,l=!1,c=r.alias;c&&(s=c[0],cse(i,lse([0,1],c)));for(var u=1,d=!0;u<i.length;u+=1){var f=i[u],h=Ff(f,0,1),p=Ff(f,-1);if((h==='"'||h==="'"||h==="`"||p==='"'||p==="'"||p==="`")&&h!==p)throw new El("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),s+="."+f,o="%"+s+"%",Df(Ko,o))a=Ko[o];else if(a!=null){if(!(f in a)){if(!t)throw new il("base intrinsic for "+e+" exists, but the property is not available.");return}if(qo&&u+1>=i.length){var m=qo(a,f);d=!!m,d&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[f]}else d=Df(a,f),a=a[f];d&&!l&&(Ko[o]=a)}}return a},Q2={exports:{}};(function(n){var e=Iy,t=Oy,i=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),r=t("%Reflect.apply%",!0)||e.call(s,i),o=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}n.exports=function(d){var f=r(e,s,arguments);if(o&&a){var h=o(f,"length");h.configurable&&a(f,"length",{value:1+l(0,d.length-(arguments.length-1))})}return f};var c=function(){return r(e,i,arguments)};a?a(n.exports,"apply",{value:c}):n.exports.apply=c})(Q2);var pse=Q2.exports,Y2=Oy,J2=pse,gse=J2(Y2("String.prototype.indexOf")),vse=function(e,t){var i=Y2(e,!!t);return typeof i=="function"&&gse(e,".prototype.")>-1?J2(i):i};const bse={},yse=Object.freeze(Object.defineProperty({__proto__:null,default:bse},Symbol.toStringTag,{value:"Module"})),wse=TA(yse);var Ry=typeof Map=="function"&&Map.prototype,Op=Object.getOwnPropertyDescriptor&&Ry?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Nf=Ry&&Op&&typeof Op.get=="function"?Op.get:null,kk=Ry&&Map.prototype.forEach,My=typeof Set=="function"&&Set.prototype,Rp=Object.getOwnPropertyDescriptor&&My?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Lf=My&&Rp&&typeof Rp.get=="function"?Rp.get:null,Sk=My&&Set.prototype.forEach,_se=typeof WeakMap=="function"&&WeakMap.prototype,Fc=_se?WeakMap.prototype.has:null,Cse=typeof WeakSet=="function"&&WeakSet.prototype,Nc=Cse?WeakSet.prototype.has:null,kse=typeof WeakRef=="function"&&WeakRef.prototype,Ek=kse?WeakRef.prototype.deref:null,Sse=Boolean.prototype.valueOf,Ese=Object.prototype.toString,Tse=Function.prototype.toString,Ase=String.prototype.match,Dy=String.prototype.slice,qr=String.prototype.replace,xse=String.prototype.toUpperCase,Tk=String.prototype.toLowerCase,X2=RegExp.prototype.test,Ak=Array.prototype.concat,Rs=Array.prototype.join,Pse=Array.prototype.slice,xk=Math.floor,pv=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Mp=Object.getOwnPropertySymbols,gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",si=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Tl||"symbol")?Symbol.toStringTag:null,Z2=Object.prototype.propertyIsEnumerable,Pk=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function Ik(n,e){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||X2.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var i=n<0?-xk(-n):xk(n);if(i!==n){var s=String(i),r=Dy.call(e,s.length+1);return qr.call(s,t,"$&_")+"."+qr.call(qr.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return qr.call(e,t,"$&_")}var vv=wse,Ok=vv.custom,Rk=tO(Ok)?Ok:null,Ise=function n(e,t,i,s){var r=t||{};if(Ur(r,"quoteStyle")&&r.quoteStyle!=="single"&&r.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ur(r,"maxStringLength")&&(typeof r.maxStringLength=="number"?r.maxStringLength<0&&r.maxStringLength!==1/0:r.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Ur(r,"customInspect")?r.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ur(r,"indent")&&r.indent!==null&&r.indent!=="	"&&!(parseInt(r.indent,10)===r.indent&&r.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ur(r,"numericSeparator")&&typeof r.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=r.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return iO(e,r);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Ik(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Ik(e,c):c}var u=typeof r.depth>"u"?5:r.depth;if(typeof i>"u"&&(i=0),i>=u&&u>0&&typeof e=="object")return bv(e)?"[Array]":"[Object]";var d=Gse(r,i);if(typeof s>"u")s=[];else if(nO(s,e)>=0)return"[Circular]";function f(B,F,Z){if(F&&(s=Pse.call(s),s.push(F)),Z){var te={depth:r.depth};return Ur(r,"quoteStyle")&&(te.quoteStyle=r.quoteStyle),n(B,te,i+1,s)}return n(B,r,i+1,s)}if(typeof e=="function"&&!Mk(e)){var h=$se(e),p=Id(e,f);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(p.length>0?" { "+Rs.call(p,", ")+" }":"")}if(tO(e)){var m=Tl?qr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):gv.call(e);return typeof e=="object"&&!Tl?dc(m):m}if(jse(e)){for(var b="<"+Tk.call(String(e.nodeName)),v=e.attributes||[],w=0;w<v.length;w++)b+=" "+v[w].name+"="+eO(Ose(v[w].value),"double",r);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+Tk.call(String(e.nodeName))+">",b}if(bv(e)){if(e.length===0)return"[]";var C=Id(e,f);return d&&!Kse(C)?"["+yv(C,d)+"]":"[ "+Rs.call(C,", ")+" ]"}if(Mse(e)){var _=Id(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Z2.call(e,"cause")?"{ ["+String(e)+"] "+Rs.call(Ak.call("[cause]: "+f(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Rs.call(_,", ")+" }"}if(typeof e=="object"&&o){if(Rk&&typeof e[Rk]=="function"&&vv)return vv(e,{depth:u-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Vse(e)){var T=[];return kk&&kk.call(e,function(B,F){T.push(f(F,e,!0)+" => "+f(B,e))}),Dk("Map",Nf.call(e),T,d)}if(Hse(e)){var k=[];return Sk&&Sk.call(e,function(B){k.push(f(B,e))}),Dk("Set",Lf.call(e),k,d)}if(Use(e))return Dp("WeakMap");if(Wse(e))return Dp("WeakSet");if(zse(e))return Dp("WeakRef");if(Fse(e))return dc(f(Number(e)));if(Lse(e))return dc(f(pv.call(e)));if(Nse(e))return dc(Sse.call(e));if(Dse(e))return dc(f(String(e)));if(!Rse(e)&&!Mk(e)){var E=Id(e,f),S=Pk?Pk(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",I=!S&&si&&Object(e)===e&&si in e?Dy.call(ho(e),8,-1):P?"Object":"",W=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",j=W+(I||P?"["+Rs.call(Ak.call([],I||[],P||[]),": ")+"] ":"");return E.length===0?j+"{}":d?j+"{"+yv(E,d)+"}":j+"{ "+Rs.call(E,", ")+" }"}return String(e)};function eO(n,e,t){var i=(t.quoteStyle||e)==="double"?'"':"'";return i+n+i}function Ose(n){return qr.call(String(n),/"/g,"&quot;")}function bv(n){return ho(n)==="[object Array]"&&(!si||!(typeof n=="object"&&si in n))}function Rse(n){return ho(n)==="[object Date]"&&(!si||!(typeof n=="object"&&si in n))}function Mk(n){return ho(n)==="[object RegExp]"&&(!si||!(typeof n=="object"&&si in n))}function Mse(n){return ho(n)==="[object Error]"&&(!si||!(typeof n=="object"&&si in n))}function Dse(n){return ho(n)==="[object String]"&&(!si||!(typeof n=="object"&&si in n))}function Fse(n){return ho(n)==="[object Number]"&&(!si||!(typeof n=="object"&&si in n))}function Nse(n){return ho(n)==="[object Boolean]"&&(!si||!(typeof n=="object"&&si in n))}function tO(n){if(Tl)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!gv)return!1;try{return gv.call(n),!0}catch{}return!1}function Lse(n){if(!n||typeof n!="object"||!pv)return!1;try{return pv.call(n),!0}catch{}return!1}var Bse=Object.prototype.hasOwnProperty||function(n){return n in this};function Ur(n,e){return Bse.call(n,e)}function ho(n){return Ese.call(n)}function $se(n){if(n.name)return n.name;var e=Ase.call(Tse.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function nO(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t;return-1}function Vse(n){if(!Nf||!n||typeof n!="object")return!1;try{Nf.call(n);try{Lf.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function Use(n){if(!Fc||!n||typeof n!="object")return!1;try{Fc.call(n,Fc);try{Nc.call(n,Nc)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function zse(n){if(!Ek||!n||typeof n!="object")return!1;try{return Ek.call(n),!0}catch{}return!1}function Hse(n){if(!Lf||!n||typeof n!="object")return!1;try{Lf.call(n);try{Nf.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function Wse(n){if(!Nc||!n||typeof n!="object")return!1;try{Nc.call(n,Nc);try{Fc.call(n,Fc)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function jse(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function iO(n,e){if(n.length>e.maxStringLength){var t=n.length-e.maxStringLength,i="... "+t+" more character"+(t>1?"s":"");return iO(Dy.call(n,0,e.maxStringLength),e)+i}var s=qr.call(qr.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,qse);return eO(s,"single",e)}function qse(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+xse.call(e.toString(16))}function dc(n){return"Object("+n+")"}function Dp(n){return n+" { ? }"}function Dk(n,e,t,i){var s=i?yv(t,i):Rs.call(t,", ");return n+" ("+e+") {"+s+"}"}function Kse(n){for(var e=0;e<n.length;e++)if(nO(n[e],`
`)>=0)return!1;return!0}function Gse(n,e){var t;if(n.indent==="	")t="	";else if(typeof n.indent=="number"&&n.indent>0)t=Rs.call(Array(n.indent+1)," ");else return null;return{base:t,prev:Rs.call(Array(e+1),t)}}function yv(n,e){if(n.length===0)return"";var t=`
`+e.prev+e.base;return t+Rs.call(n,","+t)+`
`+e.prev}function Id(n,e){var t=bv(n),i=[];if(t){i.length=n.length;for(var s=0;s<n.length;s++)i[s]=Ur(n,s)?e(n[s],n):""}var r=typeof Mp=="function"?Mp(n):[],o;if(Tl){o={};for(var a=0;a<r.length;a++)o["$"+r[a]]=r[a]}for(var l in n)Ur(n,l)&&(t&&String(Number(l))===l&&l<n.length||Tl&&o["$"+l]instanceof Symbol||(X2.call(/[^\w$]/,l)?i.push(e(l,n)+": "+e(n[l],n)):i.push(l+": "+e(n[l],n))));if(typeof Mp=="function")for(var c=0;c<r.length;c++)Z2.call(n,r[c])&&i.push("["+e(r[c])+"]: "+e(n[r[c]],n));return i}var Fy=Oy,Kl=vse,Qse=Ise,Yse=Fy("%TypeError%"),Od=Fy("%WeakMap%",!0),Rd=Fy("%Map%",!0),Jse=Kl("WeakMap.prototype.get",!0),Xse=Kl("WeakMap.prototype.set",!0),Zse=Kl("WeakMap.prototype.has",!0),ere=Kl("Map.prototype.get",!0),tre=Kl("Map.prototype.set",!0),nre=Kl("Map.prototype.has",!0),Ny=function(n,e){for(var t=n,i;(i=t.next)!==null;t=i)if(i.key===e)return t.next=i.next,i.next=n.next,n.next=i,i},ire=function(n,e){var t=Ny(n,e);return t&&t.value},sre=function(n,e,t){var i=Ny(n,e);i?i.value=t:n.next={key:e,next:n.next,value:t}},rre=function(n,e){return!!Ny(n,e)},ore=function(){var e,t,i,s={assert:function(r){if(!s.has(r))throw new Yse("Side channel does not contain "+Qse(r))},get:function(r){if(Od&&r&&(typeof r=="object"||typeof r=="function")){if(e)return Jse(e,r)}else if(Rd){if(t)return ere(t,r)}else if(i)return ire(i,r)},has:function(r){if(Od&&r&&(typeof r=="object"||typeof r=="function")){if(e)return Zse(e,r)}else if(Rd){if(t)return nre(t,r)}else if(i)return rre(i,r);return!1},set:function(r,o){Od&&r&&(typeof r=="object"||typeof r=="function")?(e||(e=new Od),Xse(e,r,o)):Rd?(t||(t=new Rd),tre(t,r,o)):(i||(i={key:{},next:null}),sre(i,r,o))}};return s},are=String.prototype.replace,lre=/%20/g,Fp={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ly={default:Fp.RFC3986,formatters:{RFC1738:function(n){return are.call(n,lre,"+")},RFC3986:function(n){return String(n)}},RFC1738:Fp.RFC1738,RFC3986:Fp.RFC3986},cre=Ly,Np=Object.prototype.hasOwnProperty,Io=Array.isArray,Ts=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),ure=function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(Io(i)){for(var s=[],r=0;r<i.length;++r)typeof i[r]<"u"&&s.push(i[r]);t.obj[t.prop]=s}}},sO=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(i[s]=e[s]);return i},dre=function n(e,t,i){if(!t)return e;if(typeof t!="object"){if(Io(e))e.push(t);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Np.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var s=e;return Io(e)&&!Io(t)&&(s=sO(e,i)),Io(e)&&Io(t)?(t.forEach(function(r,o){if(Np.call(e,o)){var a=e[o];a&&typeof a=="object"&&r&&typeof r=="object"?e[o]=n(a,r,i):e.push(r)}else e[o]=r}),e):Object.keys(t).reduce(function(r,o){var a=t[o];return Np.call(r,o)?r[o]=n(r[o],a,i):r[o]=a,r},s)},fre=function(e,t){return Object.keys(t).reduce(function(i,s){return i[s]=t[s],i},e)},hre=function(n,e,t){var i=n.replace(/\+/g," ");if(t==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},mre=function(e,t,i,s,r){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||r===cre.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Ts[c];continue}if(c<2048){a=a+(Ts[192|c>>6]+Ts[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Ts[224|c>>12]+Ts[128|c>>6&63]+Ts[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Ts[240|c>>18]+Ts[128|c>>12&63]+Ts[128|c>>6&63]+Ts[128|c&63]}return a},pre=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],s=0;s<t.length;++s)for(var r=t[s],o=r.obj[r.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],u=o[c];typeof u=="object"&&u!==null&&i.indexOf(u)===-1&&(t.push({obj:o,prop:c}),i.push(u))}return ure(t),e},gre=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},vre=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},bre=function(e,t){return[].concat(e,t)},yre=function(e,t){if(Io(e)){for(var i=[],s=0;s<e.length;s+=1)i.push(t(e[s]));return i}return t(e)},rO={arrayToObject:sO,assign:fre,combine:bre,compact:pre,decode:hre,encode:mre,isBuffer:vre,isRegExp:gre,maybeMap:yre,merge:dre},oO=ore,ef=rO,Lc=Ly,wre=Object.prototype.hasOwnProperty,Fk={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},dr=Array.isArray,_re=Array.prototype.push,aO=function(n,e){_re.apply(n,dr(e)?e:[e])},Cre=Date.prototype.toISOString,Nk=Lc.default,Jn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ef.encode,encodeValuesOnly:!1,format:Nk,formatter:Lc.formatters[Nk],indices:!1,serializeDate:function(e){return Cre.call(e)},skipNulls:!1,strictNullHandling:!1},kre=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Lp={},Sre=function n(e,t,i,s,r,o,a,l,c,u,d,f,h,p,m,b){for(var v=e,w=b,C=0,_=!1;(w=w.get(Lp))!==void 0&&!_;){var T=w.get(e);if(C+=1,typeof T<"u"){if(T===C)throw new RangeError("Cyclic object value");_=!0}typeof w.get(Lp)>"u"&&(C=0)}if(typeof l=="function"?v=l(t,v):v instanceof Date?v=d(v):i==="comma"&&dr(v)&&(v=ef.maybeMap(v,function(te){return te instanceof Date?d(te):te})),v===null){if(r)return a&&!p?a(t,Jn.encoder,m,"key",f):t;v=""}if(kre(v)||ef.isBuffer(v)){if(a){var k=p?t:a(t,Jn.encoder,m,"key",f);return[h(k)+"="+h(a(v,Jn.encoder,m,"value",f))]}return[h(t)+"="+h(String(v))]}var E=[];if(typeof v>"u")return E;var S;if(i==="comma"&&dr(v))p&&a&&(v=ef.maybeMap(v,a)),S=[{value:v.length>0?v.join(",")||null:void 0}];else if(dr(l))S=l;else{var P=Object.keys(v);S=c?P.sort(c):P}for(var I=s&&dr(v)&&v.length===1?t+"[]":t,W=0;W<S.length;++W){var j=S[W],B=typeof j=="object"&&typeof j.value<"u"?j.value:v[j];if(!(o&&B===null)){var F=dr(v)?typeof i=="function"?i(I,j):I:I+(u?"."+j:"["+j+"]");b.set(e,C);var Z=oO();Z.set(Lp,b),aO(E,n(B,F,i,s,r,o,i==="comma"&&p&&dr(v)?null:a,l,c,u,d,f,h,p,m,Z))}}return E},Ere=function(e){if(!e)return Jn;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Jn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=Lc.default;if(typeof e.format<"u"){if(!wre.call(Lc.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var s=Lc.formatters[i],r=Jn.filter;return(typeof e.filter=="function"||dr(e.filter))&&(r=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Jn.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Jn.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Jn.charsetSentinel,delimiter:typeof e.delimiter>"u"?Jn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Jn.encode,encoder:typeof e.encoder=="function"?e.encoder:Jn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Jn.encodeValuesOnly,filter:r,format:i,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Jn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Jn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Jn.strictNullHandling}},Tre=function(n,e){var t=n,i=Ere(e),s,r;typeof i.filter=="function"?(r=i.filter,t=r("",t)):dr(i.filter)&&(r=i.filter,s=r);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in Fk?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=Fk[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(t)),i.sort&&s.sort(i.sort);for(var u=oO(),d=0;d<s.length;++d){var f=s[d];i.skipNulls&&t[f]===null||aO(o,Sre(t[f],f,l,c,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,u))}var h=o.join(i.delimiter),p=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},Al=rO,wv=Object.prototype.hasOwnProperty,Are=Array.isArray,An={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Al.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},xre=function(n){return n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},lO=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},Pre="utf8=%26%2310003%3B",Ire="utf8=%E2%9C%93",Ore=function(e,t){var i={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,r=t.parameterLimit===1/0?void 0:t.parameterLimit,o=s.split(t.delimiter,r),a=-1,l,c=t.charset;if(t.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===Ire?c="utf-8":o[l]===Pre&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var u=o[l],d=u.indexOf("]="),f=d===-1?u.indexOf("="):d+1,h,p;f===-1?(h=t.decoder(u,An.decoder,c,"key"),p=t.strictNullHandling?null:""):(h=t.decoder(u.slice(0,f),An.decoder,c,"key"),p=Al.maybeMap(lO(u.slice(f+1),t),function(m){return t.decoder(m,An.decoder,c,"value")})),p&&t.interpretNumericEntities&&c==="iso-8859-1"&&(p=xre(p)),u.indexOf("[]=")>-1&&(p=Are(p)?[p]:p),wv.call(i,h)?i[h]=Al.combine(i[h],p):i[h]=p}return i},Rre=function(n,e,t,i){for(var s=i?e:lO(e,t),r=n.length-1;r>=0;--r){var o,a=n[r];if(a==="[]"&&t.parseArrays)o=[].concat(s);else{o=t.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!t.parseArrays&&l===""?o={0:s}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&t.parseArrays&&c<=t.arrayLimit?(o=[],o[c]=s):l!=="__proto__"&&(o[l]=s)}s=o}return s},Mre=function(e,t,i,s){if(e){var r=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=i.depth>0&&o.exec(r),c=l?r.slice(0,l.index):r,u=[];if(c){if(!i.plainObjects&&wv.call(Object.prototype,c)&&!i.allowPrototypes)return;u.push(c)}for(var d=0;i.depth>0&&(l=a.exec(r))!==null&&d<i.depth;){if(d+=1,!i.plainObjects&&wv.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+r.slice(l.index)+"]"),Rre(u,t,i,s)}},Dre=function(e){if(!e)return An;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?An.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?An.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:An.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:An.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:An.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:An.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:An.comma,decoder:typeof e.decoder=="function"?e.decoder:An.decoder,delimiter:typeof e.delimiter=="string"||Al.isRegExp(e.delimiter)?e.delimiter:An.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:An.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:An.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:An.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:An.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:An.strictNullHandling}},Fre=function(n,e){var t=Dre(e);if(n===""||n===null||typeof n>"u")return t.plainObjects?Object.create(null):{};for(var i=typeof n=="string"?Ore(n,t):n,s=t.plainObjects?Object.create(null):{},r=Object.keys(i),o=0;o<r.length;++o){var a=r[o],l=Mre(a,i[a],t,typeof n=="string");s=Al.merge(s,l,t)}return t.allowSparse===!0?s:Al.compact(s)},Nre=Tre,Lre=Fre,Bre=Ly,Lk={formats:Bre,parse:Lre,stringify:Nre},cO={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(n,e){(function(t,i){n.exports=i()})(un,function(){var t={};t.version="0.2.0";var i=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(p){var m,b;for(m in p)b=p[m],b!==void 0&&p.hasOwnProperty(m)&&(i[m]=b);return this},t.status=null,t.set=function(p){var m=t.isStarted();p=s(p,i.minimum,1),t.status=p===1?null:p;var b=t.render(!m),v=b.querySelector(i.barSelector),w=i.speed,C=i.easing;return b.offsetWidth,a(function(_){i.positionUsing===""&&(i.positionUsing=t.getPositioningCSS()),l(v,o(p,w,C)),p===1?(l(b,{transition:"none",opacity:1}),b.offsetWidth,setTimeout(function(){l(b,{transition:"all "+w+"ms linear",opacity:0}),setTimeout(function(){t.remove(),_()},w)},w)):setTimeout(_,w)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var p=function(){setTimeout(function(){t.status&&(t.trickle(),p())},i.trickleSpeed)};return i.trickle&&p(),this},t.done=function(p){return!p&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(p){var m=t.status;return m?(typeof p!="number"&&(p=(1-m)*s(Math.random()*m,.1,.95)),m=s(m+p,0,.994),t.set(m)):t.start()},t.trickle=function(){return t.inc(Math.random()*i.trickleRate)},function(){var p=0,m=0;t.promise=function(b){return!b||b.state()==="resolved"?this:(m===0&&t.start(),p++,m++,b.always(function(){m--,m===0?(p=0,t.done()):t.set((p-m)/p)}),this)}}(),t.render=function(p){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var m=document.createElement("div");m.id="nprogress",m.innerHTML=i.template;var b=m.querySelector(i.barSelector),v=p?"-100":r(t.status||0),w=document.querySelector(i.parent),C;return l(b,{transition:"all 0 linear",transform:"translate3d("+v+"%,0,0)"}),i.showSpinner||(C=m.querySelector(i.spinnerSelector),C&&h(C)),w!=document.body&&u(w,"nprogress-custom-parent"),w.appendChild(m),m},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(i.parent),"nprogress-custom-parent");var p=document.getElementById("nprogress");p&&h(p)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var p=document.body.style,m="WebkitTransform"in p?"Webkit":"MozTransform"in p?"Moz":"msTransform"in p?"ms":"OTransform"in p?"O":"";return m+"Perspective"in p?"translate3d":m+"Transform"in p?"translate":"margin"};function s(p,m,b){return p<m?m:p>b?b:p}function r(p){return(-1+p)*100}function o(p,m,b){var v;return i.positionUsing==="translate3d"?v={transform:"translate3d("+r(p)+"%,0,0)"}:i.positionUsing==="translate"?v={transform:"translate("+r(p)+"%,0)"}:v={"margin-left":r(p)+"%"},v.transition="all "+m+"ms "+b,v}var a=function(){var p=[];function m(){var b=p.shift();b&&b(m)}return function(b){p.push(b),p.length==1&&m()}}(),l=function(){var p=["Webkit","O","Moz","ms"],m={};function b(_){return _.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(T,k){return k.toUpperCase()})}function v(_){var T=document.body.style;if(_ in T)return _;for(var k=p.length,E=_.charAt(0).toUpperCase()+_.slice(1),S;k--;)if(S=p[k]+E,S in T)return S;return _}function w(_){return _=b(_),m[_]||(m[_]=v(_))}function C(_,T,k){T=w(T),_.style[T]=k}return function(_,T){var k=arguments,E,S;if(k.length==2)for(E in T)S=T[E],S!==void 0&&T.hasOwnProperty(E)&&C(_,E,S);else C(_,k[1],k[2])}}();function c(p,m){var b=typeof p=="string"?p:f(p);return b.indexOf(" "+m+" ")>=0}function u(p,m){var b=f(p),v=b+m;c(b,m)||(p.className=v.substring(1))}function d(p,m){var b=f(p),v;c(p,m)&&(v=b.replace(" "+m+" "," "),p.className=v.substring(1,v.length-1))}function f(p){return(" "+(p.className||"")+" ").replace(/\s+/gi," ")}function h(p){p&&p.parentNode&&p.parentNode.removeChild(p)}return t})})(cO);var $re=cO.exports;const Ds=xi($re);function uO(n,e){let t;return function(...i){clearTimeout(t),t=setTimeout(()=>n.apply(this,i),e)}}function Ar(n,e){return document.dispatchEvent(new CustomEvent(`inertia:${n}`,e))}var Vre=n=>Ar("before",{cancelable:!0,detail:{visit:n}}),Ure=n=>Ar("error",{detail:{errors:n}}),zre=n=>Ar("exception",{cancelable:!0,detail:{exception:n}}),Bk=n=>Ar("finish",{detail:{visit:n}}),Hre=n=>Ar("invalid",{cancelable:!0,detail:{response:n}}),fc=n=>Ar("navigate",{detail:{page:n}}),Wre=n=>Ar("progress",{detail:{progress:n}}),jre=n=>Ar("start",{detail:{visit:n}}),qre=n=>Ar("success",{detail:{page:n}});function _v(n){return n instanceof File||n instanceof Blob||n instanceof FileList&&n.length>0||n instanceof FormData&&Array.from(n.values()).some(e=>_v(e))||typeof n=="object"&&n!==null&&Object.values(n).some(e=>_v(e))}function dO(n,e=new FormData,t=null){n=n||{};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&hO(e,fO(t,i),n[i]);return e}function fO(n,e){return n?n+"["+e+"]":e}function hO(n,e,t){if(Array.isArray(t))return Array.from(t.keys()).forEach(i=>hO(n,fO(e,i.toString()),t[i]));if(t instanceof Date)return n.append(e,t.toISOString());if(t instanceof File)return n.append(e,t,t.name);if(t instanceof Blob)return n.append(e,t);if(typeof t=="boolean")return n.append(e,t?"1":"0");if(typeof t=="string")return n.append(e,t);if(typeof t=="number")return n.append(e,`${t}`);if(t==null)return n.append(e,"");dO(t,n,e)}var Kre={modal:null,listener:null,show(n){typeof n=="object"&&(n=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(n)}`);let e=document.createElement("html");e.innerHTML=n,e.querySelectorAll("a").forEach(i=>i.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let t=document.createElement("iframe");if(t.style.backgroundColor="white",t.style.borderRadius="5px",t.style.width="100%",t.style.height="100%",this.modal.appendChild(t),document.body.prepend(this.modal),document.body.style.overflow="hidden",!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(e.outerHTML),t.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(n){n.keyCode===27&&this.hide()}};function Fa(n){return new URL(n.toString(),window.location.toString())}function Gre(n,e,t,i="brackets"){let s=/^https?:\/\//.test(e.toString()),r=s||e.toString().startsWith("/"),o=!r&&!e.toString().startsWith("#")&&!e.toString().startsWith("?"),a=e.toString().includes("?")||n==="get"&&Object.keys(t).length,l=e.toString().includes("#"),c=new URL(e.toString(),"http://localhost");return n==="get"&&Object.keys(t).length&&(c.search=Lk.stringify(Wie(Lk.parse(c.search,{ignoreQueryPrefix:!0}),t),{encodeValuesOnly:!0,arrayFormat:i}),t={}),[[s?`${c.protocol}//${c.host}`:"",r?c.pathname:"",o?c.pathname.substring(1):"",a?c.search:"",l?c.hash:""].join(""),t]}function hc(n){return n=new URL(n.href),n.hash="",n}var $k=typeof window>"u",Qre=class{constructor(){this.visitId=null}init({initialPage:n,resolveComponent:e,swapComponent:t}){this.page=n,this.resolveComponent=e,this.swapComponent=t,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var n;this.navigationType==="reload"&&((n=window.history.state)!=null&&n.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(n){this.page.url+=window.location.hash,this.setPage(n,{preserveState:!0}).then(()=>fc(n))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",uO(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(n){typeof n.target.hasAttribute=="function"&&n.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(n=>({top:n.scrollTop,left:n.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(n=>{typeof n.scrollTo=="function"?n.scrollTo(0,0):(n.scrollTop=0,n.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>{var n;return(n=document.getElementById(window.location.hash.slice(1)))==null?void 0:n.scrollIntoView()})}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((n,e)=>{let t=this.page.scrollRegions[e];if(t)typeof n.scrollTo=="function"?n.scrollTo(t.left,t.top):(n.scrollTop=t.top,n.scrollLeft=t.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(n){window.history.state.version=n.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),fc(n)})}locationVisit(n,e){try{let t={preserveScroll:e};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(t)),window.location.href=n.href,hc(window.location).href===hc(n).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(n){var t,i;let e=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),n.url+=window.location.hash,n.rememberedState=((t=window.history.state)==null?void 0:t.rememberedState)??{},n.scrollRegions=((i=window.history.state)==null?void 0:i.scrollRegions)??[],this.setPage(n,{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&this.restoreScrollPositions(),fc(n)})}isLocationVisitResponse(n){return!!(n&&n.status===409&&n.headers["x-inertia-location"])}isInertiaResponse(n){return!!(n!=null&&n.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(n,{cancelled:e=!1,interrupted:t=!1}){n&&!n.completed&&!n.cancelled&&!n.interrupted&&(n.cancelToken.abort(),n.onCancel(),n.completed=!1,n.cancelled=e,n.interrupted=t,Bk(n),n.onFinish(n))}finishVisit(n){!n.cancelled&&!n.interrupted&&(n.completed=!0,n.cancelled=!1,n.interrupted=!1,Bk(n),n.onFinish(n))}resolvePreserveOption(n,e){return typeof n=="function"?n(e):n==="errors"?Object.keys(e.props.errors||{}).length>0:n}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(n,{method:e="get",data:t={},replace:i=!1,preserveScroll:s=!1,preserveState:r=!1,only:o=[],headers:a={},errorBag:l="",forceFormData:c=!1,onCancelToken:u=()=>{},onBefore:d=()=>{},onStart:f=()=>{},onProgress:h=()=>{},onFinish:p=()=>{},onCancel:m=()=>{},onSuccess:b=()=>{},onError:v=()=>{},queryStringArrayFormat:w="brackets"}={}){let C=typeof n=="string"?Fa(n):n;if((_v(t)||c)&&!(t instanceof FormData)&&(t=dO(t)),!(t instanceof FormData)){let[k,E]=Gre(e,C,t,w);C=Fa(k),t=E}let _={url:C,method:e,data:t,replace:i,preserveScroll:s,preserveState:r,only:o,headers:a,errorBag:l,forceFormData:c,queryStringArrayFormat:w,cancelled:!1,completed:!1,interrupted:!1};if(d(_)===!1||!Vre(_))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let T=this.createVisitId();this.activeVisit={..._,onCancelToken:u,onBefore:d,onStart:f,onProgress:h,onFinish:p,onCancel:m,onSuccess:b,onError:v,queryStringArrayFormat:w,cancelToken:new AbortController},u({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),jre(_),f(_),vk({method:e,url:hc(C).href,data:e==="get"?{}:t,params:e==="get"?t:{},signal:this.activeVisit.cancelToken.signal,headers:{...a,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...o.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":o.join(",")}:{},...l&&l.length?{"X-Inertia-Error-Bag":l}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:k=>{t instanceof FormData&&(k.percentage=k.progress?Math.round(k.progress*100):0,Wre(k),h(k))}}).then(k=>{var I;if(!this.isInertiaResponse(k))return Promise.reject({response:k});let E=k.data;o.length&&E.component===this.page.component&&(E.props={...this.page.props,...E.props}),s=this.resolvePreserveOption(s,E),r=this.resolvePreserveOption(r,E),r&&((I=window.history.state)!=null&&I.rememberedState)&&E.component===this.page.component&&(E.rememberedState=window.history.state.rememberedState);let S=C,P=Fa(E.url);return S.hash&&!P.hash&&hc(S).href===P.href&&(P.hash=S.hash,E.url=P.href),this.setPage(E,{visitId:T,replace:i,preserveScroll:s,preserveState:r})}).then(()=>{let k=this.page.props.errors||{};if(Object.keys(k).length>0){let E=l?k[l]?k[l]:{}:k;return Ure(E),v(E)}return qre(this.page),b(this.page)}).catch(k=>{if(this.isInertiaResponse(k.response))return this.setPage(k.response.data,{visitId:T});if(this.isLocationVisitResponse(k.response)){let E=Fa(k.response.headers["x-inertia-location"]),S=C;S.hash&&!E.hash&&hc(S).href===E.href&&(E.hash=S.hash),this.locationVisit(E,s===!0)}else if(k.response)Hre(k.response)&&Kre.show(k.response.data);else return Promise.reject(k)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(k=>{if(!vk.isCancel(k)){let E=zre(k);if(this.activeVisit&&this.finishVisit(this.activeVisit),E)return Promise.reject(k)}})}setPage(n,{visitId:e=this.createVisitId(),replace:t=!1,preserveScroll:i=!1,preserveState:s=!1}={}){return Promise.resolve(this.resolveComponent(n.component)).then(r=>{e===this.visitId&&(n.scrollRegions=n.scrollRegions||[],n.rememberedState=n.rememberedState||{},t=t||Fa(n.url).href===window.location.href,t?this.replaceState(n):this.pushState(n),this.swapComponent({component:r,page:n,preserveState:s}).then(()=>{i||this.resetScrollPositions(),t||fc(n)}))})}pushState(n){this.page=n,window.history.pushState(n,"",n.url)}replaceState(n){this.page=n,window.history.replaceState(n,"",n.url)}handlePopstateEvent(n){if(n.state!==null){let e=n.state,t=this.createVisitId();Promise.resolve(this.resolveComponent(e.component)).then(i=>{t===this.visitId&&(this.page=e,this.swapComponent({component:i,page:e,preserveState:!1}).then(()=>{this.restoreScrollPositions(),fc(e)}))})}else{let e=Fa(this.page.url);e.hash=window.location.hash,this.replaceState({...this.page,url:e.href}),this.resetScrollPositions()}}get(n,e={},t={}){return this.visit(n,{...t,method:"get",data:e})}reload(n={}){return this.visit(window.location.href,{...n,preserveScroll:!0,preserveState:!0})}replace(n,e={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${e.method??"get"}() instead.`),this.visit(n,{preserveState:!0,...e,replace:!0})}post(n,e={},t={}){return this.visit(n,{preserveState:!0,...t,method:"post",data:e})}put(n,e={},t={}){return this.visit(n,{preserveState:!0,...t,method:"put",data:e})}patch(n,e={},t={}){return this.visit(n,{preserveState:!0,...t,method:"patch",data:e})}delete(n,e={}){return this.visit(n,{preserveState:!0,...e,method:"delete"})}remember(n,e="default"){var t;$k||this.replaceState({...this.page,rememberedState:{...(t=this.page)==null?void 0:t.rememberedState,[e]:n}})}restore(n="default"){var e,t;if(!$k)return(t=(e=window.history.state)==null?void 0:e.rememberedState)==null?void 0:t[n]}on(n,e){let t=i=>{let s=e(i);i.cancelable&&!i.defaultPrevented&&s===!1&&i.preventDefault()};return document.addEventListener(`inertia:${n}`,t),()=>document.removeEventListener(`inertia:${n}`,t)}},Yre={buildDOMElement(n){let e=document.createElement("template");e.innerHTML=n;let t=e.content.firstChild;if(!n.startsWith("<script "))return t;let i=document.createElement("script");return i.innerHTML=t.innerHTML,t.getAttributeNames().forEach(s=>{i.setAttribute(s,t.getAttribute(s)||"")}),i},isInertiaManagedElement(n){return n.nodeType===Node.ELEMENT_NODE&&n.getAttribute("inertia")!==null},findMatchingElementIndex(n,e){let t=n.getAttribute("inertia");return t!==null?e.findIndex(i=>i.getAttribute("inertia")===t):-1},update:uO(function(n){let e=n.map(t=>this.buildDOMElement(t));Array.from(document.head.childNodes).filter(t=>this.isInertiaManagedElement(t)).forEach(t=>{var r,o;let i=this.findMatchingElementIndex(t,e);if(i===-1){(r=t==null?void 0:t.parentNode)==null||r.removeChild(t);return}let s=e.splice(i,1)[0];s&&!t.isEqualNode(s)&&((o=t==null?void 0:t.parentNode)==null||o.replaceChild(s,t))}),e.forEach(t=>document.head.appendChild(t))},1)};function Jre(n,e,t){let i={},s=0;function r(){let u=s+=1;return i[u]=[],u.toString()}function o(u){u===null||Object.keys(i).indexOf(u)===-1||(delete i[u],c())}function a(u,d=[]){u!==null&&Object.keys(i).indexOf(u)>-1&&(i[u]=d),c()}function l(){let u=e(""),d={...u?{title:`<title inertia="">${u}</title>`}:{}},f=Object.values(i).reduce((h,p)=>h.concat(p),[]).reduce((h,p)=>{if(p.indexOf("<")===-1)return h;if(p.indexOf("<title ")===0){let b=p.match(/(<title [^>]+>)(.*?)(<\/title>)/);return h.title=b?`${b[1]}${e(b[2])}${b[3]}`:p,h}let m=p.match(/ inertia="[^"]+"/);return m?h[m[0]]=p:h[Object.keys(h).length]=p,h},d);return Object.values(f)}function c(){n?t(l()):Yre.update(l())}return c(),{forceUpdate:c,createProvider:function(){let u=r();return{update:d=>a(u,d),disconnect:()=>o(u)}}}}var mO=null;function Xre(n){document.addEventListener("inertia:start",Zre.bind(null,n)),document.addEventListener("inertia:progress",eoe),document.addEventListener("inertia:finish",toe)}function Zre(n){mO=setTimeout(()=>Ds.start(),n)}function eoe(n){var e;Ds.isStarted()&&((e=n.detail.progress)!=null&&e.percentage)&&Ds.set(Math.max(Ds.status,n.detail.progress.percentage/100*.9))}function toe(n){if(clearTimeout(mO),Ds.isStarted())n.detail.visit.completed?Ds.done():n.detail.visit.interrupted?Ds.set(0):n.detail.visit.cancelled&&(Ds.done(),Ds.remove());else return}function noe(n){let e=document.createElement("style");e.type="text/css",e.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${n};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${n}, 0 0 5px ${n};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${n};
      border-left-color: ${n};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(e)}function ioe({delay:n=250,color:e="#29d",includeCSS:t=!0,showSpinner:i=!1}={}){Xre(n),Ds.configure({showSpinner:i}),t&&noe(e)}var $s=new Qre,Bf={exports:{}};Bf.exports;(function(n,e){var t=200,i="__lodash_hash_undefined__",s=9007199254740991,r="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object GeneratorFunction]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object Promise]",b="[object RegExp]",v="[object Set]",w="[object String]",C="[object Symbol]",_="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",W="[object Int32Array]",j="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",Z="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,O=/\w*$/,J=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,Q={};Q[r]=Q[o]=Q[T]=Q[k]=Q[a]=Q[l]=Q[E]=Q[S]=Q[P]=Q[I]=Q[W]=Q[f]=Q[h]=Q[p]=Q[b]=Q[v]=Q[w]=Q[C]=Q[j]=Q[B]=Q[F]=Q[Z]=!0,Q[c]=Q[u]=Q[_]=!1;var be=typeof un=="object"&&un&&un.Object===Object&&un,R=typeof self=="object"&&self&&self.Object===Object&&self,N=be||R||Function("return this")(),me=e&&!e.nodeType&&e,he=me&&!0&&n&&!n.nodeType&&n,xe=he&&he.exports===me;function je(y,A){return y.set(A[0],A[1]),y}function Ie(y,A){return y.add(A),y}function Ne(y,A){for(var M=-1,fe=y?y.length:0;++M<fe&&A(y[M],M,y)!==!1;);return y}function Be(y,A){for(var M=-1,fe=A.length,at=y.length;++M<fe;)y[at+M]=A[M];return y}function it(y,A,M,fe){var at=-1,Ye=y?y.length:0;for(fe&&Ye&&(M=y[++at]);++at<Ye;)M=A(M,y[at],at,y);return M}function x(y,A){for(var M=-1,fe=Array(y);++M<y;)fe[M]=A(M);return fe}function D(y,A){return y==null?void 0:y[A]}function ee(y){var A=!1;if(y!=null&&typeof y.toString!="function")try{A=!!(y+"")}catch{}return A}function ce(y){var A=-1,M=Array(y.size);return y.forEach(function(fe,at){M[++A]=[at,fe]}),M}function de(y,A){return function(M){return y(A(M))}}function ae(y){var A=-1,M=Array(y.size);return y.forEach(function(fe){M[++A]=fe}),M}var Te=Array.prototype,ge=Function.prototype,ye=Object.prototype,oe=N["__core-js_shared__"],H=function(){var y=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),G=ge.toString,K=ye.hasOwnProperty,we=ye.toString,Ve=RegExp("^"+G.call(K).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=xe?N.Buffer:void 0,Fe=N.Symbol,ie=N.Uint8Array,ke=de(Object.getPrototypeOf,Object),Ke=Object.create,q=ye.propertyIsEnumerable,re=Te.splice,_e=Object.getOwnPropertySymbols,Ee=Qe?Qe.isBuffer:void 0,ft=de(Object.keys,Object),ne=os(N,"DataView"),Ce=os(N,"Map"),ze=os(N,"Promise"),Ze=os(N,"Set"),et=os(N,"WeakMap"),bt=os(Object,"create"),oi=ai(ne),Ln=ai(Ce),Tn=ai(ze),Xs=ai(Ze),wn=ai(et),qn=Fe?Fe.prototype:void 0,Nu=qn?qn.valueOf:void 0;function Zs(y){var A=-1,M=y?y.length:0;for(this.clear();++A<M;){var fe=y[A];this.set(fe[0],fe[1])}}function qh(){this.__data__=bt?bt(null):{}}function Kh(y){return this.has(y)&&delete this.__data__[y]}function Gh(y){var A=this.__data__;if(bt){var M=A[y];return M===i?void 0:M}return K.call(A,y)?A[y]:void 0}function Lu(y){var A=this.__data__;return bt?A[y]!==void 0:K.call(A,y)}function Gl(y,A){var M=this.__data__;return M[y]=bt&&A===void 0?i:A,this}Zs.prototype.clear=qh,Zs.prototype.delete=Kh,Zs.prototype.get=Gh,Zs.prototype.has=Lu,Zs.prototype.set=Gl;function Bn(y){var A=-1,M=y?y.length:0;for(this.clear();++A<M;){var fe=y[A];this.set(fe[0],fe[1])}}function Qh(){this.__data__=[]}function Yh(y){var A=this.__data__,M=Ca(A,y);if(M<0)return!1;var fe=A.length-1;return M==fe?A.pop():re.call(A,M,1),!0}function Jh(y){var A=this.__data__,M=Ca(A,y);return M<0?void 0:A[M][1]}function Xh(y){return Ca(this.__data__,y)>-1}function Zh(y,A){var M=this.__data__,fe=Ca(M,y);return fe<0?M.push([y,A]):M[fe][1]=A,this}Bn.prototype.clear=Qh,Bn.prototype.delete=Yh,Bn.prototype.get=Jh,Bn.prototype.has=Xh,Bn.prototype.set=Zh;function Kn(y){var A=-1,M=y?y.length:0;for(this.clear();++A<M;){var fe=y[A];this.set(fe[0],fe[1])}}function em(){this.__data__={hash:new Zs,map:new(Ce||Bn),string:new Zs}}function tm(y){return go(this,y).delete(y)}function nm(y){return go(this,y).get(y)}function im(y){return go(this,y).has(y)}function sm(y,A){return go(this,y).set(y,A),this}Kn.prototype.clear=em,Kn.prototype.delete=tm,Kn.prototype.get=nm,Kn.prototype.has=im,Kn.prototype.set=sm;function mi(y){this.__data__=new Bn(y)}function rm(){this.__data__=new Bn}function om(y){return this.__data__.delete(y)}function am(y){return this.__data__.get(y)}function lm(y){return this.__data__.has(y)}function cm(y,A){var M=this.__data__;if(M instanceof Bn){var fe=M.__data__;if(!Ce||fe.length<t-1)return fe.push([y,A]),this;M=this.__data__=new Kn(fe)}return M.set(y,A),this}mi.prototype.clear=rm,mi.prototype.delete=om,mi.prototype.get=am,mi.prototype.has=lm,mi.prototype.set=cm;function _a(y,A){var M=Xl(y)||Sa(y)?x(y.length,String):[],fe=M.length,at=!!fe;for(var Ye in y)(A||K.call(y,Ye))&&!(at&&(Ye=="length"||km(Ye,fe)))&&M.push(Ye);return M}function Bu(y,A,M){var fe=y[A];(!(K.call(y,A)&&Hu(fe,M))||M===void 0&&!(A in y))&&(y[A]=M)}function Ca(y,A){for(var M=y.length;M--;)if(Hu(y[M][0],A))return M;return-1}function Cs(y,A){return y&&Jl(A,ec(A),y)}function Ql(y,A,M,fe,at,Ye,yt){var Pt;if(fe&&(Pt=Ye?fe(y,at,Ye,yt):fe(y)),Pt!==void 0)return Pt;if(!Ss(y))return y;var gn=Xl(y);if(gn){if(Pt=_m(y),!A)return bm(y,Pt)}else{var Mt=tr(y),Gn=Mt==u||Mt==d;if(Wu(y))return ka(y,A);if(Mt==p||Mt==r||Gn&&!Ye){if(ee(y))return Ye?y:{};if(Pt=ks(Gn?{}:y),!A)return ym(y,Cs(Pt,y))}else{if(!Q[Mt])return Ye?y:{};Pt=Cm(y,Mt,Ql,A)}}yt||(yt=new mi);var pi=yt.get(y);if(pi)return pi;if(yt.set(y,Pt),!gn)var _n=M?wm(y):ec(y);return Ne(_n||y,function(Qn,$n){_n&&($n=Qn,Qn=y[$n]),Bu(Pt,$n,Ql(Qn,A,M,fe,$n,y,yt))}),Pt}function um(y){return Ss(y)?Ke(y):{}}function dm(y,A,M){var fe=A(y);return Xl(y)?fe:Be(fe,M(y))}function fm(y){return we.call(y)}function hm(y){if(!Ss(y)||Em(y))return!1;var A=Zl(y)||ee(y)?Ve:J;return A.test(ai(y))}function mm(y){if(!Uu(y))return ft(y);var A=[];for(var M in Object(y))K.call(y,M)&&M!="constructor"&&A.push(M);return A}function ka(y,A){if(A)return y.slice();var M=new y.constructor(y.length);return y.copy(M),M}function Yl(y){var A=new y.constructor(y.byteLength);return new ie(A).set(new ie(y)),A}function po(y,A){var M=A?Yl(y.buffer):y.buffer;return new y.constructor(M,y.byteOffset,y.byteLength)}function $u(y,A,M){var fe=A?M(ce(y),!0):ce(y);return it(fe,je,new y.constructor)}function Vu(y){var A=new y.constructor(y.source,O.exec(y));return A.lastIndex=y.lastIndex,A}function pm(y,A,M){var fe=A?M(ae(y),!0):ae(y);return it(fe,Ie,new y.constructor)}function gm(y){return Nu?Object(Nu.call(y)):{}}function vm(y,A){var M=A?Yl(y.buffer):y.buffer;return new y.constructor(M,y.byteOffset,y.length)}function bm(y,A){var M=-1,fe=y.length;for(A||(A=Array(fe));++M<fe;)A[M]=y[M];return A}function Jl(y,A,M,fe){M||(M={});for(var at=-1,Ye=A.length;++at<Ye;){var yt=A[at],Pt=fe?fe(M[yt],y[yt],yt,M,y):void 0;Bu(M,yt,Pt===void 0?y[yt]:Pt)}return M}function ym(y,A){return Jl(y,er(y),A)}function wm(y){return dm(y,ec,er)}function go(y,A){var M=y.__data__;return Sm(A)?M[typeof A=="string"?"string":"hash"]:M.map}function os(y,A){var M=D(y,A);return hm(M)?M:void 0}var er=_e?de(_e,Object):Am,tr=fm;(ne&&tr(new ne(new ArrayBuffer(1)))!=k||Ce&&tr(new Ce)!=f||ze&&tr(ze.resolve())!=m||Ze&&tr(new Ze)!=v||et&&tr(new et)!=_)&&(tr=function(y){var A=we.call(y),M=A==p?y.constructor:void 0,fe=M?ai(M):void 0;if(fe)switch(fe){case oi:return k;case Ln:return f;case Tn:return m;case Xs:return v;case wn:return _}return A});function _m(y){var A=y.length,M=y.constructor(A);return A&&typeof y[0]=="string"&&K.call(y,"index")&&(M.index=y.index,M.input=y.input),M}function ks(y){return typeof y.constructor=="function"&&!Uu(y)?um(ke(y)):{}}function Cm(y,A,M,fe){var at=y.constructor;switch(A){case T:return Yl(y);case a:case l:return new at(+y);case k:return po(y,fe);case E:case S:case P:case I:case W:case j:case B:case F:case Z:return vm(y,fe);case f:return $u(y,fe,M);case h:case w:return new at(y);case b:return Vu(y);case v:return pm(y,fe,M);case C:return gm(y)}}function km(y,A){return A=A??s,!!A&&(typeof y=="number"||V.test(y))&&y>-1&&y%1==0&&y<A}function Sm(y){var A=typeof y;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?y!=="__proto__":y===null}function Em(y){return!!H&&H in y}function Uu(y){var A=y&&y.constructor,M=typeof A=="function"&&A.prototype||ye;return y===M}function ai(y){if(y!=null){try{return G.call(y)}catch{}try{return y+""}catch{}}return""}function zu(y){return Ql(y,!0,!0)}function Hu(y,A){return y===A||y!==y&&A!==A}function Sa(y){return Tm(y)&&K.call(y,"callee")&&(!q.call(y,"callee")||we.call(y)==r)}var Xl=Array.isArray;function Ea(y){return y!=null&&ju(y.length)&&!Zl(y)}function Tm(y){return qu(y)&&Ea(y)}var Wu=Ee||xm;function Zl(y){var A=Ss(y)?we.call(y):"";return A==u||A==d}function ju(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=s}function Ss(y){var A=typeof y;return!!y&&(A=="object"||A=="function")}function qu(y){return!!y&&typeof y=="object"}function ec(y){return Ea(y)?_a(y):mm(y)}function Am(){return[]}function xm(){return!1}n.exports=zu})(Bf,Bf.exports);var soe=Bf.exports;const As=xi(soe);var $f={exports:{}};$f.exports;(function(n,e){var t=200,i="__lodash_hash_undefined__",s=1,r=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",b="[object Number]",v="[object Null]",w="[object Object]",C="[object Promise]",_="[object Proxy]",T="[object RegExp]",k="[object Set]",E="[object String]",S="[object Symbol]",P="[object Undefined]",I="[object WeakMap]",W="[object ArrayBuffer]",j="[object DataView]",B="[object Float32Array]",F="[object Float64Array]",Z="[object Int8Array]",te="[object Int16Array]",O="[object Int32Array]",J="[object Uint8Array]",V="[object Uint8ClampedArray]",Q="[object Uint16Array]",be="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,N=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,he={};he[B]=he[F]=he[Z]=he[te]=he[O]=he[J]=he[V]=he[Q]=he[be]=!0,he[a]=he[l]=he[W]=he[u]=he[j]=he[d]=he[f]=he[h]=he[m]=he[b]=he[w]=he[T]=he[k]=he[E]=he[I]=!1;var xe=typeof un=="object"&&un&&un.Object===Object&&un,je=typeof self=="object"&&self&&self.Object===Object&&self,Ie=xe||je||Function("return this")(),Ne=e&&!e.nodeType&&e,Be=Ne&&!0&&n&&!n.nodeType&&n,it=Be&&Be.exports===Ne,x=it&&xe.process,D=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),ee=D&&D.isTypedArray;function ce(y,A){for(var M=-1,fe=y==null?0:y.length,at=0,Ye=[];++M<fe;){var yt=y[M];A(yt,M,y)&&(Ye[at++]=yt)}return Ye}function de(y,A){for(var M=-1,fe=A.length,at=y.length;++M<fe;)y[at+M]=A[M];return y}function ae(y,A){for(var M=-1,fe=y==null?0:y.length;++M<fe;)if(A(y[M],M,y))return!0;return!1}function Te(y,A){for(var M=-1,fe=Array(y);++M<y;)fe[M]=A(M);return fe}function ge(y){return function(A){return y(A)}}function ye(y,A){return y.has(A)}function oe(y,A){return y==null?void 0:y[A]}function H(y){var A=-1,M=Array(y.size);return y.forEach(function(fe,at){M[++A]=[at,fe]}),M}function G(y,A){return function(M){return y(A(M))}}function K(y){var A=-1,M=Array(y.size);return y.forEach(function(fe){M[++A]=fe}),M}var we=Array.prototype,Ve=Function.prototype,Qe=Object.prototype,Fe=Ie["__core-js_shared__"],ie=Ve.toString,ke=Qe.hasOwnProperty,Ke=function(){var y=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),q=Qe.toString,re=RegExp("^"+ie.call(ke).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=it?Ie.Buffer:void 0,Ee=Ie.Symbol,ft=Ie.Uint8Array,ne=Qe.propertyIsEnumerable,Ce=we.splice,ze=Ee?Ee.toStringTag:void 0,Ze=Object.getOwnPropertySymbols,et=_e?_e.isBuffer:void 0,bt=G(Object.keys,Object),oi=er(Ie,"DataView"),Ln=er(Ie,"Map"),Tn=er(Ie,"Promise"),Xs=er(Ie,"Set"),wn=er(Ie,"WeakMap"),qn=er(Object,"create"),Nu=ai(oi),Zs=ai(Ln),qh=ai(Tn),Kh=ai(Xs),Gh=ai(wn),Lu=Ee?Ee.prototype:void 0,Gl=Lu?Lu.valueOf:void 0;function Bn(y){var A=-1,M=y==null?0:y.length;for(this.clear();++A<M;){var fe=y[A];this.set(fe[0],fe[1])}}function Qh(){this.__data__=qn?qn(null):{},this.size=0}function Yh(y){var A=this.has(y)&&delete this.__data__[y];return this.size-=A?1:0,A}function Jh(y){var A=this.__data__;if(qn){var M=A[y];return M===i?void 0:M}return ke.call(A,y)?A[y]:void 0}function Xh(y){var A=this.__data__;return qn?A[y]!==void 0:ke.call(A,y)}function Zh(y,A){var M=this.__data__;return this.size+=this.has(y)?0:1,M[y]=qn&&A===void 0?i:A,this}Bn.prototype.clear=Qh,Bn.prototype.delete=Yh,Bn.prototype.get=Jh,Bn.prototype.has=Xh,Bn.prototype.set=Zh;function Kn(y){var A=-1,M=y==null?0:y.length;for(this.clear();++A<M;){var fe=y[A];this.set(fe[0],fe[1])}}function em(){this.__data__=[],this.size=0}function tm(y){var A=this.__data__,M=ka(A,y);if(M<0)return!1;var fe=A.length-1;return M==fe?A.pop():Ce.call(A,M,1),--this.size,!0}function nm(y){var A=this.__data__,M=ka(A,y);return M<0?void 0:A[M][1]}function im(y){return ka(this.__data__,y)>-1}function sm(y,A){var M=this.__data__,fe=ka(M,y);return fe<0?(++this.size,M.push([y,A])):M[fe][1]=A,this}Kn.prototype.clear=em,Kn.prototype.delete=tm,Kn.prototype.get=nm,Kn.prototype.has=im,Kn.prototype.set=sm;function mi(y){var A=-1,M=y==null?0:y.length;for(this.clear();++A<M;){var fe=y[A];this.set(fe[0],fe[1])}}function rm(){this.size=0,this.__data__={hash:new Bn,map:new(Ln||Kn),string:new Bn}}function om(y){var A=os(this,y).delete(y);return this.size-=A?1:0,A}function am(y){return os(this,y).get(y)}function lm(y){return os(this,y).has(y)}function cm(y,A){var M=os(this,y),fe=M.size;return M.set(y,A),this.size+=M.size==fe?0:1,this}mi.prototype.clear=rm,mi.prototype.delete=om,mi.prototype.get=am,mi.prototype.has=lm,mi.prototype.set=cm;function _a(y){var A=-1,M=y==null?0:y.length;for(this.__data__=new mi;++A<M;)this.add(y[A])}function Bu(y){return this.__data__.set(y,i),this}function Ca(y){return this.__data__.has(y)}_a.prototype.add=_a.prototype.push=Bu,_a.prototype.has=Ca;function Cs(y){var A=this.__data__=new Kn(y);this.size=A.size}function Ql(){this.__data__=new Kn,this.size=0}function um(y){var A=this.__data__,M=A.delete(y);return this.size=A.size,M}function dm(y){return this.__data__.get(y)}function fm(y){return this.__data__.has(y)}function hm(y,A){var M=this.__data__;if(M instanceof Kn){var fe=M.__data__;if(!Ln||fe.length<t-1)return fe.push([y,A]),this.size=++M.size,this;M=this.__data__=new mi(fe)}return M.set(y,A),this.size=M.size,this}Cs.prototype.clear=Ql,Cs.prototype.delete=um,Cs.prototype.get=dm,Cs.prototype.has=fm,Cs.prototype.set=hm;function mm(y,A){var M=Sa(y),fe=!M&&Hu(y),at=!M&&!fe&&Ea(y),Ye=!M&&!fe&&!at&&qu(y),yt=M||fe||at||Ye,Pt=yt?Te(y.length,String):[],gn=Pt.length;for(var Mt in y)(A||ke.call(y,Mt))&&!(yt&&(Mt=="length"||at&&(Mt=="offset"||Mt=="parent")||Ye&&(Mt=="buffer"||Mt=="byteLength"||Mt=="byteOffset")||Cm(Mt,gn)))&&Pt.push(Mt);return Pt}function ka(y,A){for(var M=y.length;M--;)if(zu(y[M][0],A))return M;return-1}function Yl(y,A,M){var fe=A(y);return Sa(y)?fe:de(fe,M(y))}function po(y){return y==null?y===void 0?P:v:ze&&ze in Object(y)?tr(y):Uu(y)}function $u(y){return Ss(y)&&po(y)==a}function Vu(y,A,M,fe,at){return y===A?!0:y==null||A==null||!Ss(y)&&!Ss(A)?y!==y&&A!==A:pm(y,A,M,fe,Vu,at)}function pm(y,A,M,fe,at,Ye){var yt=Sa(y),Pt=Sa(A),gn=yt?l:ks(y),Mt=Pt?l:ks(A);gn=gn==a?w:gn,Mt=Mt==a?w:Mt;var Gn=gn==w,pi=Mt==w,_n=gn==Mt;if(_n&&Ea(y)){if(!Ea(A))return!1;yt=!0,Gn=!1}if(_n&&!Gn)return Ye||(Ye=new Cs),yt||qu(y)?Jl(y,A,M,fe,at,Ye):ym(y,A,gn,M,fe,at,Ye);if(!(M&s)){var Qn=Gn&&ke.call(y,"__wrapped__"),$n=pi&&ke.call(A,"__wrapped__");if(Qn||$n){var xr=Qn?y.value():y,nr=$n?A.value():A;return Ye||(Ye=new Cs),at(xr,nr,M,fe,Ye)}}return _n?(Ye||(Ye=new Cs),wm(y,A,M,fe,at,Ye)):!1}function gm(y){if(!ju(y)||Sm(y))return!1;var A=Wu(y)?re:N;return A.test(ai(y))}function vm(y){return Ss(y)&&Zl(y.length)&&!!he[po(y)]}function bm(y){if(!Em(y))return bt(y);var A=[];for(var M in Object(y))ke.call(y,M)&&M!="constructor"&&A.push(M);return A}function Jl(y,A,M,fe,at,Ye){var yt=M&s,Pt=y.length,gn=A.length;if(Pt!=gn&&!(yt&&gn>Pt))return!1;var Mt=Ye.get(y);if(Mt&&Ye.get(A))return Mt==A;var Gn=-1,pi=!0,_n=M&r?new _a:void 0;for(Ye.set(y,A),Ye.set(A,y);++Gn<Pt;){var Qn=y[Gn],$n=A[Gn];if(fe)var xr=yt?fe($n,Qn,Gn,A,y,Ye):fe(Qn,$n,Gn,y,A,Ye);if(xr!==void 0){if(xr)continue;pi=!1;break}if(_n){if(!ae(A,function(nr,vo){if(!ye(_n,vo)&&(Qn===nr||at(Qn,nr,M,fe,Ye)))return _n.push(vo)})){pi=!1;break}}else if(!(Qn===$n||at(Qn,$n,M,fe,Ye))){pi=!1;break}}return Ye.delete(y),Ye.delete(A),pi}function ym(y,A,M,fe,at,Ye,yt){switch(M){case j:if(y.byteLength!=A.byteLength||y.byteOffset!=A.byteOffset)return!1;y=y.buffer,A=A.buffer;case W:return!(y.byteLength!=A.byteLength||!Ye(new ft(y),new ft(A)));case u:case d:case b:return zu(+y,+A);case f:return y.name==A.name&&y.message==A.message;case T:case E:return y==A+"";case m:var Pt=H;case k:var gn=fe&s;if(Pt||(Pt=K),y.size!=A.size&&!gn)return!1;var Mt=yt.get(y);if(Mt)return Mt==A;fe|=r,yt.set(y,A);var Gn=Jl(Pt(y),Pt(A),fe,at,Ye,yt);return yt.delete(y),Gn;case S:if(Gl)return Gl.call(y)==Gl.call(A)}return!1}function wm(y,A,M,fe,at,Ye){var yt=M&s,Pt=go(y),gn=Pt.length,Mt=go(A),Gn=Mt.length;if(gn!=Gn&&!yt)return!1;for(var pi=gn;pi--;){var _n=Pt[pi];if(!(yt?_n in A:ke.call(A,_n)))return!1}var Qn=Ye.get(y);if(Qn&&Ye.get(A))return Qn==A;var $n=!0;Ye.set(y,A),Ye.set(A,y);for(var xr=yt;++pi<gn;){_n=Pt[pi];var nr=y[_n],vo=A[_n];if(fe)var Hy=yt?fe(vo,nr,_n,A,y,Ye):fe(nr,vo,_n,y,A,Ye);if(!(Hy===void 0?nr===vo||at(nr,vo,M,fe,Ye):Hy)){$n=!1;break}xr||(xr=_n=="constructor")}if($n&&!xr){var Ku=y.constructor,Gu=A.constructor;Ku!=Gu&&"constructor"in y&&"constructor"in A&&!(typeof Ku=="function"&&Ku instanceof Ku&&typeof Gu=="function"&&Gu instanceof Gu)&&($n=!1)}return Ye.delete(y),Ye.delete(A),$n}function go(y){return Yl(y,ec,_m)}function os(y,A){var M=y.__data__;return km(A)?M[typeof A=="string"?"string":"hash"]:M.map}function er(y,A){var M=oe(y,A);return gm(M)?M:void 0}function tr(y){var A=ke.call(y,ze),M=y[ze];try{y[ze]=void 0;var fe=!0}catch{}var at=q.call(y);return fe&&(A?y[ze]=M:delete y[ze]),at}var _m=Ze?function(y){return y==null?[]:(y=Object(y),ce(Ze(y),function(A){return ne.call(y,A)}))}:Am,ks=po;(oi&&ks(new oi(new ArrayBuffer(1)))!=j||Ln&&ks(new Ln)!=m||Tn&&ks(Tn.resolve())!=C||Xs&&ks(new Xs)!=k||wn&&ks(new wn)!=I)&&(ks=function(y){var A=po(y),M=A==w?y.constructor:void 0,fe=M?ai(M):"";if(fe)switch(fe){case Nu:return j;case Zs:return m;case qh:return C;case Kh:return k;case Gh:return I}return A});function Cm(y,A){return A=A??o,!!A&&(typeof y=="number"||me.test(y))&&y>-1&&y%1==0&&y<A}function km(y){var A=typeof y;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?y!=="__proto__":y===null}function Sm(y){return!!Ke&&Ke in y}function Em(y){var A=y&&y.constructor,M=typeof A=="function"&&A.prototype||Qe;return y===M}function Uu(y){return q.call(y)}function ai(y){if(y!=null){try{return ie.call(y)}catch{}try{return y+""}catch{}}return""}function zu(y,A){return y===A||y!==y&&A!==A}var Hu=$u(function(){return arguments}())?$u:function(y){return Ss(y)&&ke.call(y,"callee")&&!ne.call(y,"callee")},Sa=Array.isArray;function Xl(y){return y!=null&&Zl(y.length)&&!Wu(y)}var Ea=et||xm;function Tm(y,A){return Vu(y,A)}function Wu(y){if(!ju(y))return!1;var A=po(y);return A==h||A==p||A==c||A==_}function Zl(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=o}function ju(y){var A=typeof y;return y!=null&&(A=="object"||A=="function")}function Ss(y){return y!=null&&typeof y=="object"}var qu=ee?ge(ee):vm;function ec(y){return Xl(y)?mm(y):bm(y)}function Am(){return[]}function xm(){return!1}n.exports=Tm})($f,$f.exports);var roe=$f.exports;const ooe=xi(roe);var aoe={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let n=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,e=$s.restore(n),t=this.$options.remember.data.filter(s=>!(this[s]!==null&&typeof this[s]=="object"&&this[s].__rememberable===!1)),i=s=>this[s]!==null&&typeof this[s]=="object"&&typeof this[s].__remember=="function"&&typeof this[s].__restore=="function";t.forEach(s=>{this[s]!==void 0&&e!==void 0&&e[s]!==void 0&&(i(s)?this[s].__restore(e[s]):this[s]=e[s]),this.$watch(s,()=>{$s.remember(t.reduce((r,o)=>({...r,[o]:As(i(o)?this[o].__remember():this[o])}),{}),n)},{immediate:!0,deep:!0})})}},loe=aoe;function pO(n,e){let t=typeof n=="string"?n:null,i=typeof n=="string"?e:n,s=t?$s.restore(t):null,r=As(typeof i=="object"?i:i()),o=null,a=null,l=u=>u,c=Wi({...s?s.data:As(r),isDirty:!1,errors:s?s.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(r).reduce((u,d)=>(u[d]=this[d],u),{})},transform(u){return l=u,this},defaults(u,d){if(typeof i=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return typeof u>"u"?r=this.data():r=Object.assign({},As(r),typeof u=="string"?{[u]:d}:u),this},reset(...u){let d=As(typeof i=="object"?r:i()),f=As(d);return u.length===0?(r=f,Object.assign(this,d)):Object.keys(d).filter(h=>u.includes(h)).forEach(h=>{r[h]=f[h],this[h]=d[h]}),this},setError(u,d){return Object.assign(this.errors,typeof u=="string"?{[u]:d}:u),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...u){return this.errors=Object.keys(this.errors).reduce((d,f)=>({...d,...u.length>0&&!u.includes(f)?{[f]:this.errors[f]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(u,d,f={}){let h=l(this.data()),p={...f,onCancelToken:m=>{if(o=m,f.onCancelToken)return f.onCancelToken(m)},onBefore:m=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(a),f.onBefore)return f.onBefore(m)},onStart:m=>{if(this.processing=!0,f.onStart)return f.onStart(m)},onProgress:m=>{if(this.progress=m,f.onProgress)return f.onProgress(m)},onSuccess:async m=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,a=setTimeout(()=>this.recentlySuccessful=!1,2e3);let b=f.onSuccess?await f.onSuccess(m):null;return r=As(this.data()),this.isDirty=!1,b},onError:m=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(m),f.onError)return f.onError(m)},onCancel:()=>{if(this.processing=!1,this.progress=null,f.onCancel)return f.onCancel()},onFinish:m=>{if(this.processing=!1,this.progress=null,o=null,f.onFinish)return f.onFinish(m)}};u==="delete"?$s.delete(d,{...p,data:h}):$s[u](d,h,p)},get(u,d){this.submit("get",u,d)},post(u,d){this.submit("post",u,d)},put(u,d){this.submit("put",u,d)},patch(u,d){this.submit("patch",u,d)},delete(u,d){this.submit("delete",u,d)},cancel(){o&&o.cancel()},__rememberable:t===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(u){Object.assign(this,u.data),this.setError(u.errors)}});return $e(c,u=>{c.isDirty=!ooe(c.data(),r),t&&$s.remember(As(u.__remember()),t)},{immediate:!0,deep:!0}),c}var Pi=se(null),yc=se(null),Bp=Gr(null),Md=se(null),Cv=null,coe=Re({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:n=>n},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:n,initialComponent:e,resolveComponent:t,titleCallback:i,onHeadUpdate:s}){Pi.value=e?Uc(e):null,yc.value=n,Md.value=null;let r=typeof window>"u";return Cv=Jre(r,i,s),r||($s.init({initialPage:n,resolveComponent:t,swapComponent:async o=>{Pi.value=Uc(o.component),yc.value=o.page,Md.value=o.preserveState?Md.value:Date.now()}}),$s.on("navigate",()=>Cv.forceUpdate())),()=>{if(Pi.value){Pi.value.inheritAttrs=!!Pi.value.inheritAttrs;let o=Je(Pi.value,{...yc.value.props,key:Md.value});return Bp.value&&(Pi.value.layout=Bp.value,Bp.value=null),Pi.value.layout?typeof Pi.value.layout=="function"?Pi.value.layout(Je,o):(Array.isArray(Pi.value.layout)?Pi.value.layout:[Pi.value.layout]).concat(o).reverse().reduce((a,l)=>(l.inheritAttrs=!!l.inheritAttrs,Je(l,{...yc.value.props},()=>a))):o}}}}),uoe=coe,doe={install(n){$s.form=pO,Object.defineProperty(n.config.globalProperties,"$inertia",{get:()=>$s}),Object.defineProperty(n.config.globalProperties,"$page",{get:()=>yc.value}),Object.defineProperty(n.config.globalProperties,"$headManager",{get:()=>Cv}),n.mixin(loe)}};async function foe({id:n="app",resolve:e,setup:t,title:i,progress:s={},page:r,render:o}){let a=typeof window>"u",l=a?null:document.getElementById(n),c=r||JSON.parse(l.dataset.page),u=h=>Promise.resolve(e(h)).then(p=>p.default||p),d=[],f=await u(c.component).then(h=>t({el:l,App:uoe,props:{initialPage:c,initialComponent:h,resolveComponent:u,titleCallback:i,onHeadUpdate:a?p=>d=p:null},plugin:doe}));if(!a&&s&&ioe(s),a){let h=await o(HE({render:()=>Je("div",{id:n,"data-page":JSON.stringify(c),innerHTML:f?o(f):""})}));return{head:d,body:h}}}class Fu{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const xl=typeof window>"u"||"Deno"in window;function Gi(){}function hoe(n,e){return typeof n=="function"?n(e):n}function kv(n){return typeof n=="number"&&n>=0&&n!==1/0}function gO(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Dd(n,e,t){return Hh(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function zr(n,e,t){return Hh(n)?[{...e,queryKey:n},t]:[n||{},e]}function Vk(n,e){const{type:t="all",exact:i,fetchStatus:s,predicate:r,queryKey:o,stale:a}=n;if(Hh(o)){if(i){if(e.queryHash!==By(o,e.options))return!1}else if(!Vf(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof s<"u"&&s!==e.state.fetchStatus||r&&!r(e))}function Uk(n,e){const{exact:t,fetching:i,predicate:s,mutationKey:r}=n;if(Hh(r)){if(!e.options.mutationKey)return!1;if(t){if(Do(e.options.mutationKey)!==Do(r))return!1}else if(!Vf(e.options.mutationKey,r))return!1}return!(typeof i=="boolean"&&e.state.status==="loading"!==i||s&&!s(e))}function By(n,e){return((e==null?void 0:e.queryKeyHashFn)||Do)(n)}function Do(n){return JSON.stringify(n,(e,t)=>Sv(t)?Object.keys(t).sort().reduce((i,s)=>(i[s]=t[s],i),{}):t)}function Vf(n,e){return vO(n,e)}function vO(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!vO(n[t],e[t])):!1}function bO(n,e){if(n===e)return n;const t=Hk(n)&&Hk(e);if(t||Sv(n)&&Sv(e)){const i=t?n.length:Object.keys(n).length,s=t?e:Object.keys(e),r=s.length,o=t?[]:{};let a=0;for(let l=0;l<r;l++){const c=t?l:s[l];o[c]=bO(n[c],e[c]),o[c]===n[c]&&a++}return i===r&&a===i?n:o}return e}function zk(n,e){if(n&&!e||e&&!n)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function Hk(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Sv(n){if(!Wk(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!Wk(t)||!t.hasOwnProperty("isPrototypeOf"))}function Wk(n){return Object.prototype.toString.call(n)==="[object Object]"}function Hh(n){return Array.isArray(n)}function yO(n){return new Promise(e=>{setTimeout(e,n)})}function jk(n){yO(0).then(n)}function moe(){if(typeof AbortController=="function")return new AbortController}function Ev(n,e,t){return t.isDataEqual!=null&&t.isDataEqual(n,e)?n:typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?bO(n,e):e}class poe extends Fu{constructor(){super(),this.setup=e=>{if(!xl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Uf=new poe;class goe extends Fu{constructor(){super(),this.setup=e=>{if(!xl&&window.addEventListener){const t=()=>e();return window.addEventListener("online",t,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setOnline(i):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const zf=new goe;function voe(n){return Math.min(1e3*2**n,3e4)}function Wh(n){return(n??"online")==="online"?zf.isOnline():!0}class wO{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function tf(n){return n instanceof wO}function _O(n){let e=!1,t=0,i=!1,s,r,o;const a=new Promise((b,v)=>{r=b,o=v}),l=b=>{i||(h(new wO(b)),n.abort==null||n.abort())},c=()=>{e=!0},u=()=>{e=!1},d=()=>!Uf.isFocused()||n.networkMode!=="always"&&!zf.isOnline(),f=b=>{i||(i=!0,n.onSuccess==null||n.onSuccess(b),s==null||s(),r(b))},h=b=>{i||(i=!0,n.onError==null||n.onError(b),s==null||s(),o(b))},p=()=>new Promise(b=>{s=v=>{const w=i||!d();return w&&b(v),w},n.onPause==null||n.onPause()}).then(()=>{s=void 0,i||n.onContinue==null||n.onContinue()}),m=()=>{if(i)return;let b;try{b=n.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(f).catch(v=>{var w,C;if(i)return;const _=(w=n.retry)!=null?w:3,T=(C=n.retryDelay)!=null?C:voe,k=typeof T=="function"?T(t,v):T,E=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,v);if(e||!E){h(v);return}t++,n.onFail==null||n.onFail(t,v),yO(k).then(()=>{if(d())return p()}).then(()=>{e?h(v):m()})})};return Wh(n.networkMode)?m():p().then(m),{promise:a,cancel:l,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}const $y=console;function boe(){let n=[],e=0,t=u=>{u()},i=u=>{u()};const s=u=>{let d;e++;try{d=u()}finally{e--,e||a()}return d},r=u=>{e?n.push(u):jk(()=>{t(u)})},o=u=>(...d)=>{r(()=>{u(...d)})},a=()=>{const u=n;n=[],u.length&&jk(()=>{i(()=>{u.forEach(d=>{t(d)})})})};return{batch:s,batchCalls:o,schedule:r,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{i=u}}}const Zn=boe();class CO{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kv(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(xl?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class yoe extends CO{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||$y,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||woe(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const i=Ev(this.state.data,e,this.options);return this.dispatch({data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const i=this.promise;return(t=this.retryer)==null||t.cancel(e),i?i.then(Gi).catch(Gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!gO(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var i,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var r;return(r=this.retryer)==null||r.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}Array.isArray(this.options.queryKey);const o=moe(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn"),u={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(u),(i=this.options.behavior)==null||i.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=u.fetchOptions)==null?void 0:s.meta)){var d;this.dispatch({type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta})}const f=h=>{if(tf(h)&&h.silent||this.dispatch({type:"error",error:h}),!tf(h)){var p,m,b,v;(p=(m=this.cache.config).onError)==null||p.call(m,h,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=_O({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:h=>{var p,m,b,v;if(typeof h>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(p=(m=this.cache.config).onSuccess)==null||p.call(m,h,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(h,p)=>{this.dispatch({type:"failed",failureCount:h,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=i=>{var s,r;switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:Wh(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(r=e.dataUpdatedAt)!=null?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return tf(o)&&o.revert&&this.revertState?{...this.revertState}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),Zn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function woe(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=typeof e<"u",i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}let kO=class extends Fu{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,i){var s;const r=t.queryKey,o=(s=t.queryHash)!=null?s:By(r,t);let a=this.get(o);return a||(a=new yoe({cache:this,logger:e.getLogger(),queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(i=>i!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Zn.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[i]=zr(e,t);return typeof i.exact>"u"&&(i.exact=!0),this.queries.find(s=>Vk(i,s))}findAll(e,t){const[i]=zr(e,t);return Object.keys(i).length>0?this.queries.filter(s=>Vk(i,s)):this.queries}notify(e){Zn.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){Zn.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Zn.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}};class _oe extends CO{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||$y,this.observers=[],this.state=e.state||Coe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return(e=(t=this.retryer)==null?void 0:t.continue())!=null?e:this.execute()}async execute(){const e=()=>{var E;return this.retryer=_O({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(S,P)=>{this.dispatch({type:"failed",failureCount:S,error:P})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(E=this.options.retry)!=null?E:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var i,s,r,o,a,l,c,u;if(!t){var d,f,h,p;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(f=this.mutationCache.config).onMutate)==null?void 0:d.call(f,this.state.variables,this));const S=await((h=(p=this.options).onMutate)==null?void 0:h.call(p,this.state.variables));S!==this.state.context&&this.dispatch({type:"loading",context:S,variables:this.state.variables})}const E=await e();return await((i=(s=this.mutationCache.config).onSuccess)==null?void 0:i.call(s,E,this.state.variables,this.state.context,this)),await((r=(o=this.options).onSuccess)==null?void 0:r.call(o,E,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,E,null,this.state.variables,this.state.context,this)),await((c=(u=this.options).onSettled)==null?void 0:c.call(u,E,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:E}),E}catch(E){try{var m,b,v,w,C,_,T,k;throw await((m=(b=this.mutationCache.config).onError)==null?void 0:m.call(b,E,this.state.variables,this.state.context,this)),await((v=(w=this.options).onError)==null?void 0:v.call(w,E,this.state.variables,this.state.context)),await((C=(_=this.mutationCache.config).onSettled)==null?void 0:C.call(_,void 0,E,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,E,this.state.variables,this.state.context)),E}finally{this.dispatch({type:"error",error:E})}}}dispatch(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"loading":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Wh(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...i,...e.state}}};this.state=t(this.state),Zn.batch(()=>{this.observers.forEach(i=>{i.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Coe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}let SO=class extends Fu{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,i){const s=new _oe({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:i,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){Zn.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>Uk(e,t))}findAll(e){return this.mutations.filter(t=>Uk(e,t))}notify(e){Zn.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const t=this.mutations.filter(i=>i.state.isPaused);return Zn.batch(()=>t.reduce((i,s)=>i.then(()=>s.continue().catch(Gi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}};function koe(){return{onFetch:n=>{n.fetchFn=()=>{var e,t,i,s,r,o;const a=(e=n.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,l=(i=n.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,c=l==null?void 0:l.pageParam,u=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",f=((r=n.state.data)==null?void 0:r.pages)||[],h=((o=n.state.data)==null?void 0:o.pageParams)||[];let p=h,m=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var E;if((E=n.signal)!=null&&E.aborted)m=!0;else{var S;(S=n.signal)==null||S.addEventListener("abort",()=>{m=!0})}return n.signal}})},v=n.options.queryFn||(()=>Promise.reject("Missing queryFn")),w=(k,E,S,P)=>(p=P?[E,...p]:[...p,E],P?[S,...k]:[...k,S]),C=(k,E,S,P)=>{if(m)return Promise.reject("Cancelled");if(typeof S>"u"&&!E&&k.length)return Promise.resolve(k);const I={queryKey:n.queryKey,pageParam:S,meta:n.options.meta};b(I);const W=v(I);return Promise.resolve(W).then(B=>w(k,S,B,P))};let _;if(!f.length)_=C([]);else if(u){const k=typeof c<"u",E=k?c:qk(n.options,f);_=C(f,k,E)}else if(d){const k=typeof c<"u",E=k?c:Soe(n.options,f);_=C(f,k,E,!0)}else{p=[];const k=typeof n.options.getNextPageParam>"u";_=(a&&f[0]?a(f[0],0,f):!0)?C([],k,h[0]):Promise.resolve(w([],h[0],f[0]));for(let S=1;S<f.length;S++)_=_.then(P=>{if(a&&f[S]?a(f[S],S,f):!0){const W=k?h[S]:qk(n.options,P);return C(P,k,W)}return Promise.resolve(w(P,h[S],f[S]))})}return _.then(k=>({pages:k,pageParams:p}))}}}}function qk(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function Soe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}let Eoe=class{constructor(e={}){this.queryCache=e.queryCache||new kO,this.mutationCache=e.mutationCache||new SO,this.logger=e.logger||$y,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Uf.subscribe(()=>{Uf.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=zf.subscribe(()=>{zf.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[i]=zr(e,t);return i.fetchStatus="fetching",this.queryCache.findAll(i).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var i;return(i=this.queryCache.find(e,t))==null?void 0:i.state.data}ensureQueryData(e,t,i){const s=Dd(e,t,i),r=this.getQueryData(s.queryKey);return r?Promise.resolve(r):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:i})=>{const s=i.data;return[t,s]})}setQueryData(e,t,i){const s=this.queryCache.find(e),r=s==null?void 0:s.state.data,o=hoe(t,r);if(typeof o>"u")return;const a=Dd(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...i,manual:!0})}setQueriesData(e,t,i){return Zn.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,i)]))}getQueryState(e,t){var i;return(i=this.queryCache.find(e,t))==null?void 0:i.state}removeQueries(e,t){const[i]=zr(e,t),s=this.queryCache;Zn.batch(()=>{s.findAll(i).forEach(r=>{s.remove(r)})})}resetQueries(e,t,i){const[s,r]=zr(e,t,i),o=this.queryCache,a={type:"active",...s};return Zn.batch(()=>(o.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries(a,r)))}cancelQueries(e,t,i){const[s,r={}]=zr(e,t,i);typeof r.revert>"u"&&(r.revert=!0);const o=Zn.batch(()=>this.queryCache.findAll(s).map(a=>a.cancel(r)));return Promise.all(o).then(Gi).catch(Gi)}invalidateQueries(e,t,i){const[s,r]=zr(e,t,i);return Zn.batch(()=>{var o,a;if(this.queryCache.findAll(s).forEach(c=>{c.invalidate()}),s.refetchType==="none")return Promise.resolve();const l={...s,type:(o=(a=s.refetchType)!=null?a:s.type)!=null?o:"active"};return this.refetchQueries(l,r)})}refetchQueries(e,t,i){const[s,r]=zr(e,t,i),o=Zn.batch(()=>this.queryCache.findAll(s).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...r,cancelRefetch:(c=r==null?void 0:r.cancelRefetch)!=null?c:!0,meta:{refetchPage:s.refetchPage}})}));let a=Promise.all(o).then(Gi);return r!=null&&r.throwOnError||(a=a.catch(Gi)),a}fetchQuery(e,t,i){const s=Dd(e,t,i),r=this.defaultQueryOptions(s);typeof r.retry>"u"&&(r.retry=!1);const o=this.queryCache.build(this,r);return o.isStaleByTime(r.staleTime)?o.fetch(r):Promise.resolve(o.state.data)}prefetchQuery(e,t,i){return this.fetchQuery(e,t,i).then(Gi).catch(Gi)}fetchInfiniteQuery(e,t,i){const s=Dd(e,t,i);return s.behavior=koe(),this.fetchQuery(s)}prefetchInfiniteQuery(e,t,i){return this.fetchInfiniteQuery(e,t,i).then(Gi).catch(Gi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const i=this.queryDefaults.find(s=>Do(e)===Do(s.queryKey));i?i.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(i=>Vf(e,i.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(e,t){const i=this.mutationDefaults.find(s=>Do(e)===Do(s.mutationKey));i?i.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(i=>Vf(e,i.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=By(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}};class Toe extends Fu{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Kk(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tv(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tv(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const i=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),zk(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const r=this.hasListeners();r&&Gk(this.currentQuery,s,this.options,i)&&this.executeFetch(),this.updateResult(t),r&&(this.currentQuery!==s||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();r&&(this.currentQuery!==s||this.options.enabled!==i.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(i=>{Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),e[i])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),i=this.client.getQueryCache().build(this.client,t);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Gi)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),xl||this.currentResult.isStale||!kv(this.options.staleTime))return;const t=gO(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(xl||this.options.enabled===!1||!kv(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Uf.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const i=this.currentQuery,s=this.options,r=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==i,c=l?e.state:this.currentQueryInitialState,u=l?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:f,error:h,errorUpdatedAt:p,fetchStatus:m,status:b}=d,v=!1,w=!1,C;if(t._optimisticResults){const S=this.hasListeners(),P=!S&&Kk(e,t),I=S&&Gk(e,i,t,s);(P||I)&&(m=Wh(e.options.networkMode)?"fetching":"paused",f||(b="loading")),t._optimisticResults==="isRestoring"&&(m="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&u!=null&&u.isSuccess&&b!=="error")C=u.data,f=u.dataUpdatedAt,b=u.status,v=!0;else if(t.select&&typeof d.data<"u")if(r&&d.data===(o==null?void 0:o.data)&&t.select===this.selectFn)C=this.selectResult;else try{this.selectFn=t.select,C=t.select(d.data),C=Ev(r==null?void 0:r.data,C,t),this.selectResult=C,this.selectError=null}catch(S){this.selectError=S}else C=d.data;if(typeof t.placeholderData<"u"&&typeof C>"u"&&b==="loading"){let S;if(r!=null&&r.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))S=r.data;else if(S=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof S<"u")try{S=t.select(S),this.selectError=null}catch(P){this.selectError=P}typeof S<"u"&&(b="success",C=Ev(r==null?void 0:r.data,S,t),w=!0)}this.selectError&&(h=this.selectError,C=this.selectResult,p=Date.now(),b="error");const _=m==="fetching",T=b==="loading",k=b==="error";return{status:b,fetchStatus:m,isLoading:T,isSuccess:b==="success",isError:k,isInitialLoading:T&&_,data:C,dataUpdatedAt:f,error:h,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!T,isLoadingError:k&&d.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:w,isPreviousData:v,isRefetchError:k&&d.dataUpdatedAt!==0,isStale:Vy(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,zk(i,t))return;this.currentResult=i;const s={cache:!0},r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(l=>{const c=l;return this.currentResult[c]!==t[c]&&a.has(c)})};(e==null?void 0:e.listeners)!==!1&&r()&&(s.listeners=!0),this.notify({...s,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!tf(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Zn.batch(()=>{if(e.onSuccess){var t,i,s,r;(t=(i=this.options).onSuccess)==null||t.call(i,this.currentResult.data),(s=(r=this.options).onSettled)==null||s.call(r,this.currentResult.data,null)}else if(e.onError){var o,a,l,c;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Aoe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Kk(n,e){return Aoe(n,e)||n.state.dataUpdatedAt>0&&Tv(n,e,e.refetchOnMount)}function Tv(n,e,t){if(e.enabled!==!1){const i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&Vy(n,e)}return!1}function Gk(n,e,t,i){return t.enabled!==!1&&(n!==e||i.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&Vy(n,t)}function Vy(n,e){return n.isStaleByTime(e.staleTime)}const xoe="VUE_QUERY_CLIENT";function EO(n){const e=n?":"+n:"";return""+xoe+e}function Ki(n){return Array.isArray(n)}function Qk(n,e){Object.keys(n).forEach(t=>{n[t]=e[t]})}function Av(n,e){if(e){const t=e(n);if(t!==void 0||$t(n))return t}if(Array.isArray(n))return n.map(t=>Av(t,e));if(typeof n=="object"&&Poe(n)){const t=Object.entries(n).map(([i,s])=>[i,Av(s,e)]);return Object.fromEntries(t)}return n}function Xe(n){return Av(n,e=>{if($t(e))return Xe(g(e))})}function Poe(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function Ioe(n=""){var e;if(!((e=Lt())==null?void 0:e.proxy))throw new Error("vue-query hooks can only be used inside setup() function.");const i=EO(n),s=ot(i);if(!s)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return s}class Ooe extends kO{find(e,t){const i=Xe(e),s=Xe(t);return super.find(i,s)}findAll(e,t){const i=Xe(e),s=Xe(t);return Ki(i)?super.findAll(i,s):super.findAll(i)}}class Roe extends SO{find(e){return super.find(Xe(e))}findAll(e){return super.findAll(Xe(e))}}class Yk extends Eoe{constructor(e={}){const t=Xe(e),i={logger:Xe(t.logger),defaultOptions:Xe(t.defaultOptions),queryCache:t.queryCache||new Ooe,mutationCache:t.mutationCache||new Roe};super(i),this.isRestoring=se(!1)}isFetching(e,t){const i=Xe(e),s=Xe(t);return Ki(i)?super.isFetching(i,s):super.isFetching(i)}isMutating(e){return super.isMutating(Xe(e))}getQueryData(e,t){return super.getQueryData(Xe(e),Xe(t))}getQueriesData(e){const t=Xe(e);return Ki(t)?super.getQueriesData(t):super.getQueriesData(t)}setQueryData(e,t,i){return super.setQueryData(Xe(e),t,Xe(i))}setQueriesData(e,t,i){const s=Xe(e),r=Xe(i);return Ki(s)?super.setQueriesData(s,t,r):super.setQueriesData(s,t,r)}getQueryState(e,t){return super.getQueryState(Xe(e),Xe(t))}removeQueries(e,t){const i=Xe(e);return Ki(i)?super.removeQueries(i,Xe(t)):super.removeQueries(i)}resetQueries(e,t,i){const s=Xe(e),r=Xe(t);return Ki(s)?super.resetQueries(s,r,Xe(i)):super.resetQueries(s,r)}cancelQueries(e,t,i){const s=Xe(e),r=Xe(t);return Ki(s)?super.cancelQueries(s,r,Xe(i)):super.cancelQueries(s,r)}invalidateQueries(e,t,i){const s=Xe(e),r=Xe(t);return Ki(s)?super.invalidateQueries(s,r,Xe(i)):super.invalidateQueries(s,r)}refetchQueries(e,t,i){const s=Xe(e),r=Xe(t);return Ki(s)?super.refetchQueries(s,r,Xe(i)):super.refetchQueries(s,r)}fetchQuery(e,t,i){const s=Xe(e),r=Xe(t);return Ki(s)?super.fetchQuery(s,r,Xe(i)):super.fetchQuery(s)}prefetchQuery(e,t,i){return super.prefetchQuery(Xe(e),Xe(t),Xe(i))}fetchInfiniteQuery(e,t,i){const s=Xe(e),r=Xe(t);return Ki(s)?super.fetchInfiniteQuery(s,r,Xe(i)):super.fetchInfiniteQuery(s)}prefetchInfiniteQuery(e,t,i){return super.prefetchInfiniteQuery(Xe(e),Xe(t),Xe(i))}setDefaultOptions(e){super.setDefaultOptions(Xe(e))}setQueryDefaults(e,t){super.setQueryDefaults(Xe(e),Xe(t))}getQueryDefaults(e){return super.getQueryDefaults(Xe(e))}setMutationDefaults(e,t){super.setMutationDefaults(Xe(e),Xe(t))}getMutationDefaults(e){return super.getMutationDefaults(Xe(e))}}const Moe={install:(n,e={})=>{const t=EO(e.queryClientKey);let i;if("queryClient"in e&&e.queryClient)i=e.queryClient;else if(e.contextSharing&&typeof window<"u")if(window.__VUE_QUERY_CONTEXT__)i=window.__VUE_QUERY_CONTEXT__;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;i=new Yk(o),window.__VUE_QUERY_CONTEXT__=i}else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;i=new Yk(o)}xl||i.mount();let s=()=>{};if(e.clientPersister){i.isRestoring.value=!0;const[o,a]=e.clientPersister(i);s=o,a.then(()=>{i.isRestoring.value=!1})}const r=()=>{i.unmount(),s()};if(n.onUnmount)n.onUnmount(r);else{const o=n.unmount;n.unmount=function(){r(),o()}}n.provide(t,i)}};function Doe(n,e,t={},i={}){var s;const r=z(()=>Foe(e,t,i)),o=(s=r.value.queryClient)!=null?s:Ioe(r.value.queryClientKey),a=z(()=>{const f=o.defaultQueryOptions(r.value);return f._optimisticResults=o.isRestoring.value?"isRestoring":"optimistic",f}),l=new n(o,a.value),c=Wi(l.getCurrentResult()),u=se(()=>{});$e(o.isRestoring,f=>{f||(u.value(),u.value=l.subscribe(h=>{Qk(c,h)}))},{immediate:!0}),$e(a,()=>{l.setOptions(a.value),Qk(c,l.getCurrentResult())},{deep:!0}),Nv(()=>{u.value()});const d=()=>new Promise(f=>{let h=()=>{};const p=()=>{if(a.value.enabled!==!1){const m=l.getOptimisticResult(a.value);m.isStale?(h(),f(l.fetchOptimistic(a.value))):(h(),f(m))}};p(),h=$e(a,p,{deep:!0})});return{...oa(wu(c)),suspense:d}}function Foe(n,e={},t={}){const i=g(n),s=g(e),r=g(t);let o=i;return Ki(i)?typeof s=="function"?o={...r,queryKey:i,queryFn:s}:o={...s,queryKey:i}:o=i,Xe(o)}function Fd(n,e,t){const i=Doe(Toe,n,e,t);return{...i,refetch:i.refetch.value,remove:i.remove.value}}const Jk=n=>{typeof n=="function"&&n()},Xk=(n,e,t=!0)=>{if(!t){Jk(n);return}const i=5,s=Noe(e)+i;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener("transitionend",o),Jk(n))};e.addEventListener("transitionend",o),setTimeout(()=>{r||Loe(e)},s)},Noe=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),s=Number.parseFloat(t);return!i&&!s?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*1e3)},Loe=n=>{n.dispatchEvent(new Event("transitionend"))},xv=Re({name:"CCloseButton",props:{disabled:Boolean,white:Boolean},emits:["click"],setup(n,{emit:e}){const t=()=>{n.disabled||e("click")};return()=>Je("button",{type:"button",class:["btn","btn-close",{["btn-close-white"]:n.white},n.disabled],"aria-label":"Close",disabled:n.disabled,onClick:t})}}),Pl={type:String,validator:n=>["primary","secondary","success","danger","warning","info","dark","light","link","transparent"].includes(n)},Boe={type:String,validator:n=>["primary","secondary","success","danger","warning","info","dark","light","white","muted","high-emphasis","medium-emphasis","disabled","high-emphasis-inverse","medium-emphasis-inverse","disabled-inverse"].includes(n)},$oe=Re({name:"CBackdrop",props:{visible:{type:Boolean,default:!1}},setup(n){return()=>Je(ms,{onEnter:e=>{e.classList.add("show")},onLeave:e=>{e.classList.remove("show")}},()=>n.visible&&Je("div",{class:"fade"}))}}),TO=Re({name:"CCard",props:{color:Pl,textColor:Boe},setup(n,{slots:e}){return()=>Je("div",{class:["card",{[`bg-${n.color}`]:n.color,[`text-${n.textColor}`]:n.textColor}]},e.default&&e.default())}}),AO=Re({name:"CCardBody",setup(n,{slots:e}){return()=>Je("div",{class:"card-body"},e.default&&e.default())}}),Voe=Re({name:"CLink",props:{active:Boolean,component:{type:String,default:"a"},disabled:Boolean,href:String},emits:["click"],setup(n,{slots:e,emit:t}){const i=()=>{t("click",n.href)};return()=>Je(n.component,{class:[{active:n.active,disabled:n.disabled}],...n.active&&{"aria-current":"page"},...n.component==="a"&&n.disabled&&{"aria-disabled":!0,tabIndex:-1},...(n.component==="a"||n.component==="button")&&{onClick:i},href:n.href},e.default&&e.default())}}),$p=Re({name:"CFormFeedback",props:{component:{type:String,default:"div"},invalid:Boolean,tooltip:Boolean,valid:Boolean},setup(n,{slots:e}){return()=>Je(n.component,{class:[{[`invalid-${n.tooltip?"tooltip":"feedback"}`]:n.invalid,[`valid-${n.tooltip?"tooltip":"feedback"}`]:n.valid}]},e.default&&e.default())}}),Zk=Re({name:"CFormControlValidation",inheritAttrs:!1,props:{describedby:String,feedback:String,feedbackInvalid:String,feedbackValid:String,invalid:Boolean,tooltipFeedback:Boolean,valid:Boolean},setup(n,{slots:e}){return()=>[n.feedback&&(n.valid||n.invalid)&&Je($p,{...n.invalid&&{id:n.describedby},invalid:n.invalid,tooltip:n.tooltipFeedback,valid:n.valid},{default:()=>e.feedback&&e.feedback()||n.feedback}),(n.feedbackInvalid||e.feedbackInvalid)&&Je($p,{id:n.describedby,invalid:!0,tooltip:n.tooltipFeedback},{default:()=>e.feedbackInvalid&&e.feedbackInvalid()||n.feedbackInvalid}),(n.feedbackValid||e.feedbackValid)&&Je($p,{tooltip:n.tooltipFeedback,valid:!0},{default:()=>e.feedbackValid&&e.feedbackValid()||n.feedbackValid})]}}),eS=Re({name:"CFormLabel",props:{customClassName:[Array,String]},setup(n,{slots:e}){return()=>Je("label",{class:n.customClassName?n.customClassName:"form-label"},e.default&&e.default())}}),Uoe=Re({name:"CFormFloating",setup(n,{slots:e}){return()=>Je("div",{class:"form-floating"},e.default&&e.default())}}),tS=Re({name:"CFormText",props:{component:{type:String,default:"div"}},setup(n,{slots:e}){return()=>Je(n.component,{class:"form-text"},e.default&&e.default())}});Re({name:"CFormControlWrapper",inheritAttrs:!1,props:{...Zk.props,floatingLabel:String,id:String,label:String,text:String},setup(n,{slots:e}){const t=()=>Je(Zk,{describedby:n.describedby,feedback:n.feedback,feedbackInvalid:n.feedbackInvalid,feedbackValid:n.feedbackValid,floatingLabel:n.floatingLabel,invalid:n.invalid,tooltipFeedback:n.tooltipFeedback,valid:n.valid},{...e.feedback&&{feedback:()=>e.feedback&&e.feedback()},...e.feedbackInvalid&&{feedbackInvalid:()=>e.feedbackInvalid&&e.feedbackInvalid()},...e.feedbackValid&&{feedbackValid:()=>e.feedbackInvalid&&e.feedbackInvalid()}});return()=>n.floatingLabel?Je(Uoe,()=>[e.default&&e.default(),Je(eS,{for:n.id},{default:()=>e.label&&e.label()||n.label||n.floatingLabel}),(n.text||e.text)&&Je(tS,{id:n.describedby},{default:()=>e.text&&e.text()||n.text}),t()]):[(n.label||e.label)&&Je(eS,{for:n.id},{default:()=>e.label&&e.label()||n.label}),e.default&&e.default(),(n.text||e.text)&&Je(tS,{id:n.describedby},{default:()=>e.text&&e.text()||n.text}),t()]}});const zoe=Re({name:"CModal",inheritAttrs:!1,props:{alignment:{default:"top",validator:n=>["top","center"].includes(n)},backdrop:{type:[Boolean,String],default:!0,validator:n=>typeof n=="string"?["static"].includes(n):typeof n=="boolean"},contentClassName:String,fullscreen:{type:[Boolean,String],validator:n=>typeof n=="string"?["sm","md","lg","xl","xxl"].includes(n):typeof n=="boolean"},keyboard:{type:Boolean,default:!0},scrollable:Boolean,size:{type:String,validator:n=>["sm","lg","xl"].includes(n)},transition:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},visible:Boolean},emits:["close","close-prevented","show"],setup(n,{slots:e,attrs:t,emit:i}){const s=se(),r=se(),o=se(n.visible);$e(()=>n.visible,()=>{o.value=n.visible});const a=(b,v)=>{Xk(()=>v(),b),document.body.classList.add("modal-open"),document.body.style.overflow="hidden",document.body.style.paddingRight="0px",b.style.display="block",setTimeout(()=>{b.classList.add("show")},1),i("show")},l=()=>{window.addEventListener("mousedown",h),window.addEventListener("keyup",f)},c=(b,v)=>{Xk(()=>v(),b),document.body.classList.remove("modal-open"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"),document.body.className===""&&document.body.removeAttribute("class"),b.classList.remove("show")},u=b=>{window.removeEventListener("mousedown",h),window.removeEventListener("keyup",f),b.style.display="none"},d=()=>{i("close"),o.value=!1},f=b=>{r.value&&!r.value.contains(b.target)&&(n.backdrop!=="static"&&b.key==="Escape"&&n.keyboard&&d(),n.backdrop==="static"&&(s.value.classList.add("modal-static"),i("close-prevented"),setTimeout(()=>{s.value.classList.remove("modal-static")},300)))},h=b=>{window.addEventListener("mouseup",()=>p(b),{once:!0})},p=b=>{r.value&&!r.value.contains(b.target)&&(n.backdrop!=="static"&&d(),n.backdrop==="static"&&(s.value.classList.add("modal-static"),setTimeout(()=>{s.value.classList.remove("modal-static")},300)))};kn("handleDismiss",d);const m=()=>Je("div",{class:["modal",{fade:n.transition},t.class],ref:s},Je("div",{class:["modal-dialog",{"modal-dialog-centered":n.alignment==="center",[`modal-fullscreen-${n.fullscreen}-down`]:n.fullscreen&&typeof n.fullscreen=="string","modal-fullscreen":n.fullscreen&&typeof n.fullscreen=="boolean",["modal-dialog-scrollable"]:n.scrollable,[`modal-${n.size}`]:n.size}],role:"dialog"},Je("div",{class:["modal-content",n.contentClassName],ref:r},e.default&&e.default())));return()=>[Je(ms,{css:!1,onEnter:(b,v)=>a(b,v),onAfterEnter:()=>l(),onLeave:(b,v)=>c(b,v),onAfterLeave:b=>u(b)},()=>n.unmountOnClose?o.value&&m():Wt(m(),[[ui,o.value]])),n.backdrop&&Je($oe,{class:"modal-backdrop",visible:o.value})]}}),Hoe=Re({name:"CModalBody",setup(n,{slots:e}){return()=>Je("div",{class:"modal-body"},e.default&&e.default())}}),Woe=Re({name:"CModalHeader",props:{closeButton:{type:Boolean,default:!0}},setup(n,{slots:e}){const t=ot("handleDismiss");return()=>Je("span",{class:"modal-header"},[e.default&&e.default(),n.closeButton&&Je(xv,{onClick:()=>t()},"")])}}),joe=Re({name:"CModalTitle",props:{component:{type:String,default:"h5"}},setup(n,{slots:e}){return()=>Je(n.component,{class:"modal-title"},e.default&&e.default())}}),nS=Re({name:"CNavLink",props:{active:Boolean,component:{type:String,default:"a"},disabled:Boolean,href:String},setup(n,{slots:e}){return()=>Je(Voe,{class:"nav-link",active:n.active,component:n.component,disabled:n.disabled,href:n.href},{default:()=>e.default&&e.default()})}});Re({name:"CNavItem",props:{...nS.props},setup(n,{slots:e}){return()=>Je("li",{class:"nav-item"},n.href?Je(nS,{active:n.active,component:n.component,disabled:n.disabled,href:n.href},{default:()=>e.default&&e.default()}):e.default&&e.default())}});const iS=Re({name:"CProgressBar",props:{animated:Boolean,color:Pl,value:{type:Number,default:0},variant:{type:String,validator:n=>n==="striped"}},setup(n,{slots:e}){return()=>Je("div",{class:["progress-bar",`bg-${n.color}`,{[`progress-bar-${n.variant}`]:n.variant,["progress-bar-animated"]:n.animated}],role:"progressbar",style:`width: ${n.value}%`,"aria-valuenow":n.value,"aria-valuemin":"0","aria-valuemax":"100"},e.default&&e.default())}}),xO=Re({name:"CProgress",props:{height:Number,thin:Boolean,white:Boolean,...iS.props},setup(n,{slots:e}){return()=>Je("div",{class:["progress",{"progress-thin":n.thin,"progress-white":n.white}],...(n.height,{style:`height: ${n.height}px`})},n.value?Je(iS,{value:n.value,animated:n.animated,color:n.color,variant:n.variant},e.default&&e.default()):e.default&&e.default())}});Re({name:"CToastClose",props:{component:String,...xv.props},emits:["close"],setup(n,{slots:e,emit:t}){const i=ot("updateVisible"),s=()=>{t("close"),i(!1)};return()=>n.component?Je(n.component,{onClick:()=>{s()}},()=>e.default&&e.default()):Je(xv,{...n,onClick:()=>{s()}})}});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function sS(n){return Object.prototype.toString.call(n)==="[object Object]"}function qoe(n){var e,t;return sS(n)===!1?!1:(e=n.constructor,e===void 0?!0:(t=e.prototype,!(sS(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}function Bc(){return Bc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bc.apply(this,arguments)}function PO(n,e){if(n==null)return{};var t,i,s={},r=Object.keys(n);for(i=0;i<r.length;i++)e.indexOf(t=r[i])>=0||(s[t]=n[t]);return s}const Koe={silent:!1,logLevel:"warn"},Goe=["validator"],IO=Object.prototype,OO=IO.toString,Qoe=IO.hasOwnProperty,RO=/^\s*function (\w+)/;function rS(n){var e;const t=(e=n==null?void 0:n.type)!==null&&e!==void 0?e:n;if(t){const i=t.toString().match(RO);return i?i[1]:""}return""}const sa=qoe,Yoe=n=>n;let bn=Yoe;const Il=(n,e)=>Qoe.call(n,e),Joe=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},Ol=Array.isArray||function(n){return OO.call(n)==="[object Array]"},Rl=n=>OO.call(n)==="[object Function]",Hf=(n,e)=>sa(n)&&Il(n,"_vueTypes_name")&&(!e||n._vueTypes_name===e),MO=n=>sa(n)&&(Il(n,"type")||["_vueTypes_name","validator","default","required"].some(e=>Il(n,e)));function Uy(n,e){return Object.defineProperty(n.bind(e),"__original",{value:n})}function wa(n,e,t=!1){let i,s=!0,r="";i=sa(n)?n:{type:n};const o=Hf(i)?i._vueTypes_name+" - ":"";if(MO(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&e===void 0)return s;Ol(i.type)?(s=i.type.some(a=>wa(a,e,!0)===!0),r=i.type.map(a=>rS(a)).join(" or ")):(r=rS(i),s=r==="Array"?Ol(e):r==="Object"?sa(e):r==="String"||r==="Number"||r==="Boolean"||r==="Function"?function(a){if(a==null)return"";const l=a.constructor.toString().match(RO);return l?l[1]:""}(e)===r:e instanceof i.type)}if(!s){const a=`${o}value "${e}" should be of type "${r}"`;return t===!1?(bn(a),!1):a}if(Il(i,"validator")&&Rl(i.validator)){const a=bn,l=[];if(bn=c=>{l.push(c)},s=i.validator(e),bn=a,!s){const c=(l.length>1?"* ":"")+l.join(`
* `);return l.length=0,t===!1?(bn(c),s):c}}return s}function $i(n,e){const t=Object.defineProperties(e,{_vueTypes_name:{value:n,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(s){return s===void 0?this.type===Boolean||Array.isArray(this.type)&&this.type.includes(Boolean)?void(this.default=void 0):(Il(this,"default")&&delete this.default,this):Rl(s)||wa(this,s,!0)===!0?(this.default=Ol(s)?()=>[...s]:sa(s)?()=>Object.assign({},s):s,this):(bn(`${this._vueTypes_name} - invalid default value: "${s}"`),this)}}}),{validator:i}=t;return Rl(i)&&(t.validator=Uy(i,t)),t}function Ws(n,e){const t=$i(n,e);return Object.defineProperty(t,"validate",{value(i){return Rl(this.validator)&&bn(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=Uy(i,this),this}})}function oS(n,e,t){const i=function(l){const c={};return Object.getOwnPropertyNames(l).forEach(u=>{c[u]=Object.getOwnPropertyDescriptor(l,u)}),Object.defineProperties({},c)}(e);if(i._vueTypes_name=n,!sa(t))return i;const{validator:s}=t,r=PO(t,Goe);if(Rl(s)){let{validator:l}=i;l&&(l=(a=(o=l).__original)!==null&&a!==void 0?a:o),i.validator=Uy(l?function(c){return l.call(this,c)&&s.call(this,c)}:s,i)}var o,a;return Object.assign(i,r)}function jh(n){return n.replace(/^(?!\s*$)/gm,"  ")}const Xoe=()=>Ws("any",{}),Zoe=()=>Ws("function",{type:Function}),aS=()=>Ws("boolean",{type:Boolean}),eae=()=>Ws("string",{type:String}),tae=()=>Ws("number",{type:Number}),nae=()=>Ws("array",{type:Array}),iae=()=>Ws("object",{type:Object}),sae=()=>$i("integer",{type:Number,validator(n){const e=Joe(n);return e===!1&&bn(`integer - "${n}" is not an integer`),e}}),rae=()=>$i("symbol",{validator(n){const e=typeof n=="symbol";return e===!1&&bn(`symbol - invalid value "${n}"`),e}}),oae=()=>Object.defineProperty({type:null,validator(n){const e=n===null;return e===!1&&bn("nullable - value should be null"),e}},"_vueTypes_name",{value:"nullable"});function aae(n,e="custom validation failed"){if(typeof n!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return $i(n.name||"<<anonymous function>>",{type:null,validator(t){const i=n(t);return i||bn(`${this._vueTypes_name} - ${e}`),i}})}function lae(n){if(!Ol(n))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const e=`oneOf - value should be one of "${n.map(i=>typeof i=="symbol"?i.toString():i).join('", "')}".`,t={validator(i){const s=n.indexOf(i)!==-1;return s||bn(e),s}};if(n.indexOf(null)===-1){const i=n.reduce((s,r)=>{if(r!=null){const o=r.constructor;s.indexOf(o)===-1&&s.push(o)}return s},[]);i.length>0&&(t.type=i)}return $i("oneOf",t)}function cae(n){if(!Ol(n))throw new TypeError("[VueTypes error]: You must provide an array as argument");let e=!1,t=!1,i=[];for(let r=0;r<n.length;r+=1){const o=n[r];if(MO(o)){if(Rl(o.validator)&&(e=!0),Hf(o,"oneOf")&&o.type){i=i.concat(o.type);continue}if(Hf(o,"nullable")){t=!0;continue}if(o.type===!0||!o.type){bn('oneOfType - invalid usage of "true" and "null" as types.');continue}i=i.concat(o.type)}else i.push(o)}i=i.filter((r,o)=>i.indexOf(r)===o);const s=t===!1&&i.length>0?i:null;return $i("oneOfType",e?{type:s,validator(r){const o=[],a=n.some(l=>{const c=wa(l,r,!0);return typeof c=="string"&&o.push(c),c===!0});return a||bn(`oneOfType - provided value does not match any of the ${o.length} passed-in validators:
${jh(o.join(`
`))}`),a}}:{type:s})}function uae(n){return $i("arrayOf",{type:Array,validator(e){let t="";const i=e.every(s=>(t=wa(n,s,!0),t===!0));return i||bn(`arrayOf - value validation error:
${jh(t)}`),i}})}function dae(n){return $i("instanceOf",{type:n})}function fae(n){return $i("objectOf",{type:Object,validator(e){let t="";const i=Object.keys(e).every(s=>(t=wa(n,e[s],!0),t===!0));return i||bn(`objectOf - value validation error:
${jh(t)}`),i}})}function zy(n){const e=Object.keys(n),t=e.filter(s=>{var r;return!((r=n[s])===null||r===void 0||!r.required)}),i=$i("shape",{type:Object,validator(s){if(!sa(s))return!1;const r=Object.keys(s);if(t.length>0&&t.some(o=>r.indexOf(o)===-1)){const o=t.filter(a=>r.indexOf(a)===-1);return bn(o.length===1?`shape - required property "${o[0]}" is not defined.`:`shape - required properties "${o.join('", "')}" are not defined.`),!1}return r.every(o=>{if(e.indexOf(o)===-1)return this._vueTypes_isLoose===!0||(bn(`shape - shape definition does not include a "${o}" property. Allowed keys: "${e.join('", "')}".`),!1);const a=wa(n[o],s[o],!0);return typeof a=="string"&&bn(`shape - "${o}" property validation error:
 ${jh(a)}`),a===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),i}const hae=["name","validate","getter"],mae=(()=>{var n;return(n=class{static get any(){return Xoe()}static get func(){return Zoe().def(this.defaults.func)}static get bool(){return this.defaults.bool===void 0?aS():aS().def(this.defaults.bool)}static get string(){return eae().def(this.defaults.string)}static get number(){return tae().def(this.defaults.number)}static get array(){return nae().def(this.defaults.array)}static get object(){return iae().def(this.defaults.object)}static get integer(){return sae().def(this.defaults.integer)}static get symbol(){return rae()}static get nullable(){return oae()}static extend(e){if(bn("VueTypes.extend is deprecated. Use the ES6+ method instead. See https://dwightjack.github.io/vue-types/advanced/extending-vue-types.html#extending-namespaced-validators-in-es6 for details."),Ol(e))return e.forEach(l=>this.extend(l)),this;const{name:t,validate:i=!1,getter:s=!1}=e,r=PO(e,hae);if(Il(this,t))throw new TypeError(`[VueTypes error]: Type "${t}" already defined`);const{type:o}=r;if(Hf(o))return delete r.type,Object.defineProperty(this,t,s?{get:()=>oS(t,o,r)}:{value(...l){const c=oS(t,o,r);return c.validator&&(c.validator=c.validator.bind(c,...l)),c}});let a;return a=s?{get(){const l=Object.assign({},r);return i?Ws(t,l):$i(t,l)},enumerable:!0}:{value(...l){const c=Object.assign({},r);let u;return u=i?Ws(t,c):$i(t,c),c.validator&&(u.validator=c.validator.bind(u,...l)),u},enumerable:!0},Object.defineProperty(this,t,a)}}).defaults={},n.sensibleDefaults=void 0,n.config=Koe,n.custom=aae,n.oneOf=lae,n.instanceOf=dae,n.oneOfType=cae,n.arrayOf=uae,n.objectOf=fae,n.shape=zy,n.utils={validate:(e,t)=>wa(t,e,!0)===!0,toType:(e,t,i=!1)=>i?Ws(e,t):$i(e,t)},n})();function pae(n={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var e;return(e=class extends mae{static get sensibleDefaults(){return Bc({},this.defaults)}static set sensibleDefaults(t){this.defaults=t!==!1?Bc({},t!==!0?t:n):{}}}).defaults=Bc({},n),e}class oce extends pae(){}Re({name:"CWidgetStatsB",props:{color:Pl,inverse:Boolean,progress:zy({color:Pl,value:{type:Number,default:0}}),text:String,title:String,value:{type:[Number,String],default:0}},setup(n,{slots:e}){return()=>Je(TO,{class:[{"text-high-emphasis-inverse":n.inverse}],color:n.color},()=>Je(AO,{class:"card-body"},()=>[(n.value||e.value)&&Je("div",{class:"fs-4 fw-semibold"},{default:()=>e.value&&e.value()||n.value}),(n.title||e.title)&&Je("div",{},{default:()=>e.title&&e.title()||n.title}),Je(xO,{class:"my-2",...n.progress&&n.progress.color&&{color:n.progress.color},height:4,...n.progress&&n.progress.value&&{value:n.progress.value},white:n.inverse}),(n.text||e.text)&&Je("small",{class:[n.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},{default:()=>e.text&&e.text()||n.text})]))}});Re({name:"CWidgetStatsC",props:{color:Pl,inverse:Boolean,progress:zy({color:Pl,value:{type:Number,default:0}}),title:String,value:{type:[Number,String],default:0}},setup(n,{slots:e}){return()=>Je(TO,{class:[{["text-white"]:n.inverse}],color:n.color},()=>Je(AO,{class:"card-body"},()=>[e.icon&&Je("div",{class:["text-end mb-4",n.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},e.icon&&e.icon()),(n.value||e.value)&&Je("div",{class:"fs-4 fw-semibold"},{default:()=>e.value&&e.value()||n.value}),(n.title||e.title)&&Je("div",{class:["text-uppercase fw-semibold small",n.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},{default:()=>e.title&&e.title()||n.title}),Je(xO,{class:"my-2",...n.progress&&n.progress.color&&{color:n.progress.color},height:4,...n.progress&&n.progress.value&&{value:n.progress.value},white:n.inverse})]))}});const gae={__name:"ModalAlert",props:{title:String,visible:Boolean},emits:["close"],setup(n,{emit:e}){const t=n;return(i,s)=>(U(),Ue(g(zoe),{alignment:"center",scrollable:"",visible:t.visible,onClose:s[0]||(s[0]=()=>{e("close",!0)})},{default:Ae(()=>[pe(g(Woe),null,{default:Ae(()=>[pe(g(joe),null,{default:Ae(()=>[cn(Oe(t.title),1)]),_:1})]),_:1}),pe(g(Hoe),null,{default:Ae(()=>[dt(i.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["visible"]))}},vae=Nh(gae,[["__scopeId","data-v-7282b45f"]]);/*! Element Plus v2.3.5 */var bae={name:"ru",el:{colorpicker:{confirm:"OK",clear:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"OK",selectDate:" ",selectTime:" ",startDate:" ",startTime:" ",endDate:" ",endTime:" ",prevYear:" ",nextYear:" ",prevMonth:" ",nextMonth:" ",year:"",month1:"",month2:"",month3:"",month4:"",month5:"",month6:"",month7:"",month8:"",month9:"",month10:"",month11:"",month12:"",week:"",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},select:{loading:"",noMatch:"  ",noData:" ",placeholder:""},cascader:{noMatch:"  ",loading:"",placeholder:"",noData:" "},pagination:{goto:"",pagesize:"  ",total:" {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages"},messagebox:{title:"",confirm:"OK",cancel:"",error:"  "},upload:{deleteTip:" []  ",delete:"",preview:"",continue:""},table:{emptyText:" ",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tree:{emptyText:" "},transfer:{noMatch:"  ",noData:" ",titles:[" 1"," 2"],filterPlaceholder:"  ",noCheckedFormat:"{total} ",hasCheckedFormat:"{checked}/{total} "},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"OK",cancelButtonText:""}}};function Pv(n){if(!n)return"";let e="",t={:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"c",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"E",:"Zh",:"Z",:"I",:"Y",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"H",:"C",:"Ch",:"Sh",:"Sch",:"",:"Y",:"",:"E",:"Yu",:"Ya"};for(let i=0;i<n.length;++i)t[n[i]]===void 0?e+=n[i]:e+=t[n[i]];return e.replace(/\s+/g,"-").toLowerCase()}const mo=n=>(FS("data-v-edd30520"),n=n(),NS(),n),yae={class:"meta-tags-block"},wae={class:"meta-tags-block__left-column"},_ae={class:"keywords_row"},Cae=mo(()=>X("label",{for:"meta_keywords"},"Keywords",-1)),kae={key:0,class:"form_error_text"},Sae={class:"title_row"},Eae=mo(()=>X("label",{for:"meta_title"},"Title",-1)),Tae={class:"field-remain-symbols"},Aae={key:0,class:"form_error_text"},xae={class:"description_row"},Pae=mo(()=>X("label",{for:"meta_description"},"Description",-1)),Iae={class:"field-remain-symbols"},Oae={key:0,class:"form_error_text"},Rae={class:"meta-tags-block__right-column"},Mae={class:"meta-result-buttons"},Dae={class:"buttons__device"},Fae=mo(()=>X("i",{class:"la la-mobile"},null,-1)),Nae=[Fae],Lae=mo(()=>X("i",{class:"la la-desktop"},null,-1)),Bae=[Lae],$ae={class:"meta-result-field"},Vae={key:0,class:"meta-result-field__icon"},Uae=mo(()=>X("i",{class:"la la-globe"},null,-1)),zae=[Uae],Hae={key:1,class:"search_item_yandex"},Wae={class:"search_item__title"},jae={class:"search_item__url"},qae={class:"search_item__description"},Kae={key:2,class:"search_item_yandex"},Gae={class:"search_item__title"},Qae={class:"search_item__url"},Yae={class:"search_item__description"},Jae={key:3,class:"search_item_google"},Xae={class:"search_item__url"},Zae=mo(()=>X("i",{class:"la la-globe"},null,-1)),ele={class:"search_item__url_link"},tle={class:"search_item__title"},nle={class:"search_item__description"},ile={key:4,class:"search_item_google"},sle={class:"search_item__url"},rle=mo(()=>X("div",null,[X("i",{class:"la la-globe"})],-1)),ole={class:"search_item__url_link"},ale={class:"search_item__url_host"},lle={class:"search_item__url_full_path"},cle={class:"search_item__title"},ule={class:"search_item__description"},dle={__name:"MetaTagsBlock",props:{title:String,description:String,keywords:String,endpointForm:Object,slug:String,settings:Object},emits:["update:title","update:description","update:keywords"],setup(n,{emit:e}){const t=n,i=se(70),s=se(160),{t:r}=xu({});function o(C,_){return!C||!_?"":C.length>_?C.slice(0,_-1)+"":C}const a=z(()=>o(t.description,s.value)),l=z(()=>o(t.title,i.value)),c=z(()=>Pv(t.slug)),u=z(()=>t.title?i.value-f.value.length:i),d=z(()=>t.description?s.value-h.value.length:s),f=se(t.title),h=se(t.description),p=se(t.keywords),m=se("desktop"),b=se("google");$e(f,()=>{e("update:title",f.value)}),$e(h,()=>{e("update:description",h.value)}),$e(p,()=>{e("update:keywords",p.value)});const v=C=>{m.value=C},w=C=>{b.value=C};return(C,_)=>{var E,S,P,I,W,j,B,F;const T=Fs,k=ml;return U(),le("section",yae,[X("div",wae,[X("div",_ae,[Cae,pe(T,{modelValue:p.value,"onUpdate:modelValue":_[0]||(_[0]=Z=>p.value=Z),id:"meta_keywords"},null,8,["modelValue"]),(E=n.endpointForm)!=null&&E.errors.keywords?(U(),le("div",kae,Oe(n.endpointForm.errors.keywords),1)):Me("",!0)]),X("div",Sae,[Eae,pe(T,{modelValue:f.value,"onUpdate:modelValue":_[1]||(_[1]=Z=>f.value=Z),id:"meta_title"},null,8,["modelValue"]),X("div",Tae,[cn(Oe(g(r)("makeArticle.fields.symbols_remains"))+": ",1),X("span",{class:Y(["field-remain-symbols__number",{"field-remain-symbols__number_error":u.value<0}])},Oe(u.value),3)]),(S=n.endpointForm)!=null&&S.errors.title?(U(),le("div",Aae,Oe(n.endpointForm.errors.title),1)):Me("",!0)]),X("div",xae,[Pae,pe(T,{modelValue:h.value,"onUpdate:modelValue":_[2]||(_[2]=Z=>h.value=Z),type:"textarea",rows:4,id:"meta_description"},null,8,["modelValue"]),X("div",Iae,[cn(Oe(g(r)("makeArticle.fields.symbols_remains"))+": ",1),X("span",{class:Y(["field-remain-symbols__number",{"field-remain-symbols__number_error":d.value<0}])},Oe(d.value),3)]),(P=n.endpointForm)!=null&&P.errors.description?(U(),le("div",Oae,Oe(n.endpointForm.errors.description),1)):Me("",!0)])]),X("div",Rae,[X("div",Mae,[X("div",Dae,[X("div",{class:Y(["buttons__device__phone",{"device-active-button":m.value==="phone"}]),onClick:_[3]||(_[3]=Z=>v("phone"))},Nae,2),X("div",{class:Y(["buttons__device__desktop",{"device-active-button":m.value==="desktop"}]),onClick:_[4]||(_[4]=Z=>v("desktop"))},Bae,2)]),X("div",null,[pe(k,{plain:"",type:b.value==="google"?"primary":"",onClick:_[5]||(_[5]=Z=>w("google"))},{default:Ae(()=>[cn("Google ")]),_:1},8,["type"]),pe(k,{plain:"",type:b.value==="yandex"?"primary":"",onClick:_[6]||(_[6]=Z=>w("yandex"))},{default:Ae(()=>[cn("Yandex ")]),_:1},8,["type"])])]),X("div",$ae,[m.value==="phone"&&b.value==="yandex"?(U(),le("div",Vae,zae)):Me("",!0),m.value==="phone"&&b.value==="yandex"?(U(),le("div",Hae,[X("div",Wae,Oe(l.value),1),X("div",jae,Oe((I=n.settings)==null?void 0:I.site_url)+" > "+Oe(c.value),1),X("div",qae,Oe(a.value),1)])):Me("",!0),m.value==="desktop"&&b.value==="yandex"?(U(),le("div",Kae,[X("div",Gae,Oe(l.value),1),X("div",Qae,Oe((W=n.settings)==null?void 0:W.site_url)+" > "+Oe(c.value),1),X("div",Yae,Oe(a.value),1)])):Me("",!0),m.value==="phone"&&b.value==="google"?(U(),le("div",Jae,[X("div",Xae,[Zae,X("span",ele,Oe((j=n.settings)==null?void 0:j.site_url)+" > "+Oe(c.value),1)]),X("div",tle,Oe(l.value),1),X("div",nle,Oe(a.value),1)])):Me("",!0),m.value==="desktop"&&b.value==="google"?(U(),le("div",ile,[X("div",sle,[rle,X("div",ole,[X("div",ale,Oe((B=n.settings)==null?void 0:B.site_url),1),X("span",lle,Oe((F=n.settings)==null?void 0:F.site_url)+" > "+Oe(c.value),1)])]),X("div",cle,Oe(l.value),1),X("div",ule,Oe(a.value),1)])):Me("",!0)])])])}}},fle=Nh(dle,[["__scopeId","data-v-edd30520"]]),hle={class:"article-breadcrumb"},mle={href:"/"},ple=["href"],gle=["href"],vle={class:"article_name"},ble={for:"article_name"},yle={key:0,class:"form_error_text"},wle={class:"form_small_fields_block"},_le={class:"article_category"},Cle={for:"article_category"},kle={key:0,class:"form_error_text"},Sle={class:"article_tags"},Ele={for:"article_tags"},Tle={key:0,class:"form_error_text"},Ale={class:"article_author"},xle={for:"article_author"},Ple={key:0,class:"form_error_text"},Ile={class:"article_publish_date"},Ole={for:"article_publish_date"},Rle={key:0,class:"form_error_text"},Mle={class:"article_published"},Dle={class:"article_content"},Fle={key:0,class:"form_error_text"},Nle={__name:"MakeArticle",props:{article:Object},setup(n){var b,v,w,C,_,T,k,E,S,P,I;const e=n,{t,locale:i}=xu();function s(W){let j=[];function B(F){F&&(j.push(F),F.parents&&B(F.parents))}return B(W),j.reverse()}const r=z(()=>{var W;return s((W=e.article)==null?void 0:W.category_parents_tree)}),o=se(bae),{data:a}=Fd({queryKey:["settings"],queryFn:async()=>(await fetch("/admin/settings-info",{method:"GET"})).json()}),{data:l}=Fd({queryKey:["categories"],queryFn:async()=>(await fetch("/api/categories",{method:"POST"})).json()}),{data:c}=Fd({queryKey:["tags"],queryFn:async()=>(await fetch("/api/tags",{method:"POST"})).json()}),{data:u}=Fd({queryKey:["authors"],queryFn:async()=>(await fetch("/api/authors",{method:"POST"})).json()}),d=se(!1),f=pO({name:(b=e.article)==null?void 0:b.name,category_id:(v=e.article)==null?void 0:v.category_id,tags:(w=e.article)==null?void 0:w.tags_ids,content_markdown:(C=e.article)==null?void 0:C.content_markdown,author_id:(_=e.article)==null?void 0:_.author_id,publish_date:(T=e.article)==null?void 0:T.publish_date,published:((k=e.article)==null?void 0:k.published)??!0,title:(E=e.article)==null?void 0:E.title,description:(S=e.article)==null?void 0:S.description,keywords:(P=e.article)==null?void 0:P.keywords,slug:Pv((I=e.article)==null?void 0:I.name)});$e(()=>f.name,()=>{f.slug=Pv(f.name)});function h(){var j;let W="/admin/article/store";e.article&&(W=`/admin/article/${(j=e.article)==null?void 0:j.id}/update`),f.post(W,{onSuccess:()=>{d.value=!0}})}function p(W){f.content_markdown=W}function m(){window.location.href="/admin/article"}return $e(a,()=>{i.value=a.value.lang}),(W,j)=>{const B=w7,F=y7,Z=Fs,te=v9,O=g9,J=Xz,V=DU,Q=ml,be=M8;return U(),Ue(be,{locale:o.value},{default:Ae(()=>[X("nav",hle,[pe(F,{separator:"/"},{default:Ae(()=>{var R;return[pe(B,null,{default:Ae(()=>[X("a",mle,Oe(W.$t("makeArticle.fields.main_page")),1)]),_:1}),(U(!0),le(tt,null,ln(r.value,N=>(U(),Ue(B,null,{default:Ae(()=>[X("a",{href:`/admin/category/${N.id}/show`},Oe(N.name),9,ple)]),_:2},1024))),256)),(R=n.article)!=null&&R.category.id?(U(),Ue(B,{key:0},{default:Ae(()=>{var N,me;return[X("a",{href:`/admin/category/${(N=n.article)==null?void 0:N.category.id}/show`},Oe((me=n.article)==null?void 0:me.category.name),9,gle)]}),_:1})):Me("",!0),pe(B,null,{default:Ae(()=>[cn(Oe(g(f).name),1)]),_:1})]}),_:1})]),pe(fle,{title:g(f).title,"onUpdate:title":j[0]||(j[0]=R=>g(f).title=R),description:g(f).description,"onUpdate:description":j[1]||(j[1]=R=>g(f).description=R),keywords:g(f).keywords,"onUpdate:keywords":j[2]||(j[2]=R=>g(f).keywords=R),endpointForm:g(f),slug:g(f).name,settings:g(a)},null,8,["title","description","keywords","endpointForm","slug","settings"]),pe(vae,{visible:d.value,title:"",onClose:m},{default:Ae(()=>[cn("    ")]),_:1},8,["visible"]),X("form",null,[X("div",vle,[X("label",ble,Oe(W.$t("makeArticle.fields.title")),1),pe(Z,{modelValue:g(f).name,"onUpdate:modelValue":j[3]||(j[3]=R=>g(f).name=R),size:"large",placeholder:" ",id:"article_name"},null,8,["modelValue"]),g(f).errors.name?(U(),le("div",yle,Oe(g(f).errors.name),1)):Me("",!0)]),X("div",wle,[X("div",_le,[X("label",Cle,Oe(W.$t("makeArticle.fields.category")),1),X("div",null,[pe(O,{modelValue:g(f).category_id,"onUpdate:modelValue":j[4]||(j[4]=R=>g(f).category_id=R),filterable:"",placeholder:"Select",size:"large",id:"article_category"},{default:Ae(()=>[(U(!0),le(tt,null,ln(g(l),R=>(U(),Ue(te,{key:R.id,label:R.name,value:R.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(f).errors.category_id?(U(),le("div",kle,Oe(g(f).errors.category_id),1)):Me("",!0)]),X("div",Sle,[X("label",Ele,Oe(W.$t("makeArticle.fields.tags")),1),X("div",null,[pe(O,{modelValue:g(f).tags,"onUpdate:modelValue":j[5]||(j[5]=R=>g(f).tags=R),filterable:"",multiple:"",placeholder:"Select",size:"large",id:"article_tags"},{default:Ae(()=>[(U(!0),le(tt,null,ln(g(c),R=>(U(),Ue(te,{key:R.id,label:R.name,value:R.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(f).errors.tags?(U(),le("div",Tle,Oe(g(f).errors.tags),1)):Me("",!0)]),X("div",Ale,[X("label",xle,Oe(W.$t("makeArticle.fields.author")),1),X("div",null,[pe(O,{modelValue:g(f).author_id,"onUpdate:modelValue":j[6]||(j[6]=R=>g(f).author_id=R),filterable:"",placeholder:"Select",size:"large",id:"article_author"},{default:Ae(()=>[(U(!0),le(tt,null,ln(g(u),R=>(U(),Ue(te,{key:R.id,label:R.name,value:R.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(f).errors.author_id?(U(),le("div",Ple,Oe(g(f).errors.author_id),1)):Me("",!0)]),X("div",Ile,[X("label",Ole,Oe(W.$t("makeArticle.fields.publish_date")),1),X("div",null,[pe(J,{size:"large",modelValue:g(f).publish_date,"onUpdate:modelValue":j[7]||(j[7]=R=>g(f).publish_date=R),type:"datetime",placeholder:" ",format:"DD/MM/YYYY HH:mm:ss","value-format":"YYYY/MM/DD HH:mm:ss",id:"article_publish_date"},null,8,["modelValue"])]),g(f).errors.publish_date?(U(),le("div",Rle,Oe(g(f).errors.publish_date),1)):Me("",!0)])]),X("div",Mle,[pe(V,{modelValue:g(f).published,"onUpdate:modelValue":j[8]||(j[8]=R=>g(f).published=R),size:"large"},{default:Ae(()=>[cn(Oe(W.$t("makeArticle.fields.published")),1)]),_:1},8,["modelValue"])]),X("div",Dle,[pe(hne,{onContent:p,content:g(f).content_markdown},null,8,["content"]),g(f).errors.content_markdown?(U(),le("div",Fle,Oe(g(f).errors.content_markdown),1)):Me("",!0)]),pe(Q,{onClick:h,color:"#626aef"},{default:Ae(()=>[cn(Oe(W.$t("makeArticle.fields.save")),1)]),_:1})])]),_:1},8,["locale"])}}},Lle=Nh(Nle,[["__scopeId","data-v-75d723fe"]]),Ble=Object.freeze(Object.defineProperty({__proto__:null,default:Lle},Symbol.toStringTag,{value:"Module"})),$le={makeArticle:{validation:{},fields:{symbols_remains:" ",title:"",category:"",author:"",publish_date:" ",tags:"",published:"",save:"",main_page:""}}},Vle={makeArticle:{validation:{},fields:{symbols_remains:"Symbols remains",title:"Title",category:"Category",author:"Author",publish_date:"Publish date",tags:"Tags",published:"Published",save:"Save",main_page:"Main"}}},Ule={ru:{...$le},en:{...Vle}},zle=bH({legacy:!1,locale:"en",fallbackLocale:"ru ",globalInjection:!0,messages:Ule});foe({resolve:n=>Object.assign({"./Pages/MakeArticle.vue":Ble})[`./Pages/${n}.vue`],setup({el:n,App:e,props:t,plugin:i}){zE({render:()=>Je(e,t)}).use(i).use(Moe).use(zle).mount(n)}})});export default Hle();
