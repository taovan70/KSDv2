var KO=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var ace=KO(($i,Bi)=>{const pr=(n,e,{checkForDefaultPrevented:t=!0}={})=>s=>{const r=n==null?void 0:n(s);if(t===!1||!r)return e==null?void 0:e(s)};function th(n,e){const t=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)t[i[s]]=!0;return e?s=>!!t[s.toLowerCase()]:s=>!!t[s]}const Ft={},rl=[],ei=()=>{},GO=()=>!1,QO=/^on[^a-z]/,Au=n=>QO.test(n),Lv=n=>n.startsWith("onUpdate:"),jt=Object.assign,$v=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},YO=Object.prototype.hasOwnProperty,wt=(n,e)=>YO.call(n,e),xe=Array.isArray,ol=n=>Ul(n)==="[object Map]",pa=n=>Ul(n)==="[object Set]",pf=n=>Ul(n)==="[object Date]",JO=n=>Ul(n)==="[object RegExp]",We=n=>typeof n=="function",Tt=n=>typeof n=="string",Gc=n=>typeof n=="symbol",gt=n=>n!==null&&typeof n=="object",Bv=n=>gt(n)&&We(n.then)&&We(n.catch),bS=Object.prototype.toString,Ul=n=>bS.call(n),Gd=n=>Ul(n).slice(8,-1),yS=n=>Ul(n)==="[object Object]",Vv=n=>Tt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Pc=th(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nh=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},XO=/-(\w)/g,di=nh(n=>n.replace(XO,(e,t)=>t?t.toUpperCase():"")),ZO=/\B([A-Z])/g,Xi=nh(n=>n.replace(ZO,"-$1").toLowerCase()),xu=nh(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ic=nh(n=>n?`on${xu(n)}`:""),fl=(n,e)=>!Object.is(n,e),al=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},gf=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},vf=n=>{const e=parseFloat(n);return isNaN(e)?n:e},bf=n=>{const e=Tt(n)?Number(n):NaN;return isNaN(e)?n:e};let Jy;const Kp=()=>Jy||(Jy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),eR="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",tR=th(eR);function cn(n){if(xe(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=Tt(i)?rR(i):cn(i);if(s)for(const r in s)e[r]=s[r]}return e}else{if(Tt(n))return n;if(gt(n))return n}}const nR=/;(?![^(]*\))/g,iR=/:([^]+)/,sR=/\/\*[^]*?\*\//g;function rR(n){const e={};return n.replace(sR,"").split(nR).forEach(t=>{if(t){const i=t.split(iR);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function G(n){let e="";if(Tt(n))e=n;else if(xe(n))for(let t=0;t<n.length;t++){const i=G(n[t]);i&&(e+=i+" ")}else if(gt(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function oR(n){if(!n)return null;let{class:e,style:t}=n;return e&&!Tt(e)&&(n.class=G(e)),t&&(n.style=cn(t)),n}const aR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lR=th(aR);function wS(n){return!!n||n===""}function cR(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=oo(n[i],e[i]);return t}function oo(n,e){if(n===e)return!0;let t=pf(n),i=pf(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=Gc(n),i=Gc(e),t||i)return n===e;if(t=xe(n),i=xe(e),t||i)return t&&i?cR(n,e):!1;if(t=gt(n),i=gt(e),t||i){if(!t||!i)return!1;const s=Object.keys(n).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!oo(n[o],e[o]))return!1}}return String(n)===String(e)}function ih(n,e){return n.findIndex(t=>oo(t,e))}const Oe=n=>Tt(n)?n:n==null?"":xe(n)||gt(n)&&(n.toString===bS||!We(n.toString))?JSON.stringify(n,_S,2):String(n),_S=(n,e)=>e&&e.__v_isRef?_S(n,e.value):ol(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,s])=>(t[`${i} =>`]=s,t),{})}:pa(e)?{[`Set(${e.size})`]:[...e.values()]}:gt(e)&&!xe(e)&&!yS(e)?String(e):e;let Ii;class Uv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ii,!e&&Ii&&(this.index=(Ii.scopes||(Ii.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Ii;try{return Ii=this,e()}finally{Ii=t}}}on(){Ii=this}off(){Ii=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function CS(n){return new Uv(n)}function kS(n,e=Ii){e&&e.active&&e.effects.push(n)}function zv(){return Ii}function Hv(n){Ii&&Ii.cleanups.push(n)}const Wv=n=>{const e=new Set(n);return e.w=0,e.n=0,e},SS=n=>(n.w&ao)>0,ES=n=>(n.n&ao)>0,uR=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=ao},dR=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const s=e[i];SS(s)&&!ES(s)?s.delete(n):e[t++]=s,s.w&=~ao,s.n&=~ao}e.length=t}},yf=new WeakMap;let kc=0,ao=1;const Gp=30;let hs;const Wo=Symbol(""),Qp=Symbol("");class Pu{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,kS(this,i)}run(){if(!this.active)return this.fn();let e=hs,t=no;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=hs,hs=this,no=!0,ao=1<<++kc,kc<=Gp?uR(this):Xy(this),this.fn()}finally{kc<=Gp&&dR(this),ao=1<<--kc,hs=this.parent,no=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){hs===this?this.deferStop=!0:this.active&&(Xy(this),this.onStop&&this.onStop(),this.active=!1)}}function Xy(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}function fR(n,e){n.effect&&(n=n.effect.fn);const t=new Pu(n);e&&(jt(t,e),e.scope&&kS(t,e.scope)),(!e||!e.lazy)&&t.run();const i=t.run.bind(t);return i.effect=t,i}function hR(n){n.effect.stop()}let no=!0;const TS=[];function zl(){TS.push(no),no=!1}function Hl(){const n=TS.pop();no=n===void 0?!0:n}function Si(n,e,t){if(no&&hs){let i=yf.get(n);i||yf.set(n,i=new Map);let s=i.get(t);s||i.set(t,s=Wv()),AS(s)}}function AS(n,e){let t=!1;kc<=Gp?ES(n)||(n.n|=ao,t=!SS(n)):t=!n.has(hs),t&&(n.add(hs),hs.deps.push(n))}function Sr(n,e,t,i,s,r){const o=yf.get(n);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&xe(n)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(t!==void 0&&a.push(o.get(t)),e){case"add":xe(n)?Vv(t)&&a.push(o.get("length")):(a.push(o.get(Wo)),ol(n)&&a.push(o.get(Qp)));break;case"delete":xe(n)||(a.push(o.get(Wo)),ol(n)&&a.push(o.get(Qp)));break;case"set":ol(n)&&a.push(o.get(Wo));break}if(a.length===1)a[0]&&Yp(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Yp(Wv(l))}}function Yp(n,e){const t=xe(n)?n:[...n];for(const i of t)i.computed&&Zy(i);for(const i of t)i.computed||Zy(i)}function Zy(n,e){(n!==hs||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function mR(n,e){var t;return(t=yf.get(n))==null?void 0:t.get(e)}const pR=th("__proto__,__v_isRef,__isVue"),xS=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Gc)),gR=sh(),vR=sh(!1,!0),bR=sh(!0),yR=sh(!0,!0),ew=wR();function wR(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=ut(this);for(let r=0,o=this.length;r<o;r++)Si(i,"get",r+"");const s=i[e](...t);return s===-1||s===!1?i[e](...t.map(ut)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){zl();const i=ut(this)[e].apply(this,t);return Hl(),i}}),n}function _R(n){const e=ut(this);return Si(e,"has",n),e.hasOwnProperty(n)}function sh(n=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(n?e?FS:DS:e?MS:RS).get(i))return i;const o=xe(i);if(!n){if(o&&wt(ew,s))return Reflect.get(ew,s,r);if(s==="hasOwnProperty")return _R}const a=Reflect.get(i,s,r);return(Gc(s)?xS.has(s):pR(s))||(n||Si(i,"get",s),e)?a:Bt(a)?o&&Vv(s)?a:a.value:gt(a)?n?Iu(a):qi(a):a}}const CR=PS(),kR=PS(!0);function PS(n=!1){return function(t,i,s,r){let o=t[i];if(sa(o)&&Bt(o)&&!Bt(s))return!1;if(!n&&(!Qc(s)&&!sa(s)&&(o=ut(o),s=ut(s)),!xe(t)&&Bt(o)&&!Bt(s)))return o.value=s,!0;const a=xe(t)&&Vv(i)?Number(i)<t.length:wt(t,i),l=Reflect.set(t,i,s,r);return t===ut(r)&&(a?fl(s,o)&&Sr(t,"set",i,s):Sr(t,"add",i,s)),l}}function SR(n,e){const t=wt(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&Sr(n,"delete",e,void 0),i}function ER(n,e){const t=Reflect.has(n,e);return(!Gc(e)||!xS.has(e))&&Si(n,"has",e),t}function TR(n){return Si(n,"iterate",xe(n)?"length":Wo),Reflect.ownKeys(n)}const IS={get:gR,set:CR,deleteProperty:SR,has:ER,ownKeys:TR},OS={get:bR,set(n,e){return!0},deleteProperty(n,e){return!0}},AR=jt({},IS,{get:vR,set:kR}),xR=jt({},OS,{get:yR}),jv=n=>n,rh=n=>Reflect.getPrototypeOf(n);function od(n,e,t=!1,i=!1){n=n.__v_raw;const s=ut(n),r=ut(e);t||(e!==r&&Si(s,"get",e),Si(s,"get",r));const{has:o}=rh(s),a=i?jv:t?Kv:Jc;if(o.call(s,e))return a(n.get(e));if(o.call(s,r))return a(n.get(r));n!==s&&n.get(e)}function ad(n,e=!1){const t=this.__v_raw,i=ut(t),s=ut(n);return e||(n!==s&&Si(i,"has",n),Si(i,"has",s)),n===s?t.has(n):t.has(n)||t.has(s)}function ld(n,e=!1){return n=n.__v_raw,!e&&Si(ut(n),"iterate",Wo),Reflect.get(n,"size",n)}function tw(n){n=ut(n);const e=ut(this);return rh(e).has.call(e,n)||(e.add(n),Sr(e,"add",n,n)),this}function nw(n,e){e=ut(e);const t=ut(this),{has:i,get:s}=rh(t);let r=i.call(t,n);r||(n=ut(n),r=i.call(t,n));const o=s.call(t,n);return t.set(n,e),r?fl(e,o)&&Sr(t,"set",n,e):Sr(t,"add",n,e),this}function iw(n){const e=ut(this),{has:t,get:i}=rh(e);let s=t.call(e,n);s||(n=ut(n),s=t.call(e,n)),i&&i.call(e,n);const r=e.delete(n);return s&&Sr(e,"delete",n,void 0),r}function sw(){const n=ut(this),e=n.size!==0,t=n.clear();return e&&Sr(n,"clear",void 0,void 0),t}function cd(n,e){return function(i,s){const r=this,o=r.__v_raw,a=ut(o),l=e?jv:n?Kv:Jc;return!n&&Si(a,"iterate",Wo),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function ud(n,e,t){return function(...i){const s=this.__v_raw,r=ut(s),o=ol(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=s[n](...i),u=t?jv:e?Kv:Jc;return!e&&Si(r,"iterate",l?Qp:Wo),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Lr(n){return function(...e){return n==="delete"?!1:this}}function PR(){const n={get(r){return od(this,r)},get size(){return ld(this)},has:ad,add:tw,set:nw,delete:iw,clear:sw,forEach:cd(!1,!1)},e={get(r){return od(this,r,!1,!0)},get size(){return ld(this)},has:ad,add:tw,set:nw,delete:iw,clear:sw,forEach:cd(!1,!0)},t={get(r){return od(this,r,!0)},get size(){return ld(this,!0)},has(r){return ad.call(this,r,!0)},add:Lr("add"),set:Lr("set"),delete:Lr("delete"),clear:Lr("clear"),forEach:cd(!0,!1)},i={get(r){return od(this,r,!0,!0)},get size(){return ld(this,!0)},has(r){return ad.call(this,r,!0)},add:Lr("add"),set:Lr("set"),delete:Lr("delete"),clear:Lr("clear"),forEach:cd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=ud(r,!1,!1),t[r]=ud(r,!0,!1),e[r]=ud(r,!1,!0),i[r]=ud(r,!0,!0)}),[n,t,e,i]}const[IR,OR,RR,MR]=PR();function oh(n,e){const t=e?n?MR:RR:n?OR:IR;return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(wt(t,s)&&s in i?t:i,s,r)}const DR={get:oh(!1,!1)},FR={get:oh(!1,!0)},NR={get:oh(!0,!1)},LR={get:oh(!0,!0)},RS=new WeakMap,MS=new WeakMap,DS=new WeakMap,FS=new WeakMap;function $R(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BR(n){return n.__v_skip||!Object.isExtensible(n)?0:$R(Gd(n))}function qi(n){return sa(n)?n:ah(n,!1,IS,DR,RS)}function NS(n){return ah(n,!1,AR,FR,MS)}function Iu(n){return ah(n,!0,OS,NR,DS)}function VR(n){return ah(n,!0,xR,LR,FS)}function ah(n,e,t,i,s){if(!gt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=BR(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return s.set(n,a),a}function jo(n){return sa(n)?jo(n.__v_raw):!!(n&&n.__v_isReactive)}function sa(n){return!!(n&&n.__v_isReadonly)}function Qc(n){return!!(n&&n.__v_isShallow)}function qv(n){return jo(n)||sa(n)}function ut(n){const e=n&&n.__v_raw;return e?ut(e):n}function Yc(n){return gf(n,"__v_skip",!0),n}const Jc=n=>gt(n)?qi(n):n,Kv=n=>gt(n)?Iu(n):n;function Gv(n){no&&hs&&(n=ut(n),AS(n.dep||(n.dep=Wv())))}function lh(n,e){n=ut(n);const t=n.dep;t&&Yp(t)}function Bt(n){return!!(n&&n.__v_isRef===!0)}function se(n){return LS(n,!1)}function wr(n){return LS(n,!0)}function LS(n,e){return Bt(n)?n:new UR(n,e)}class UR{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ut(e),this._value=t?e:Jc(e)}get value(){return Gv(this),this._value}set value(e){const t=this.__v_isShallow||Qc(e)||sa(e);e=t?e:ut(e),fl(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Jc(e),lh(this))}}function ja(n){lh(n)}function g(n){return Bt(n)?n.value:n}function zR(n){return We(n)?n():g(n)}const HR={get:(n,e,t)=>g(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const s=n[e];return Bt(s)&&!Bt(t)?(s.value=t,!0):Reflect.set(n,e,t,i)}};function Qv(n){return jo(n)?n:new Proxy(n,HR)}class WR{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:i}=e(()=>Gv(this),()=>lh(this));this._get=t,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function jR(n){return new WR(n)}function Wl(n){const e=xe(n)?new Array(n.length):{};for(const t in n)e[t]=$S(n,t);return e}class qR{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mR(ut(this._object),this._key)}}class KR{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Mn(n,e,t){return Bt(n)?n:We(n)?new KR(n):gt(n)&&arguments.length>1?$S(n,e,t):se(n)}function $S(n,e,t){const i=n[e];return Bt(i)?i:new qR(n,e,t)}class GR{constructor(e,t,i,s){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Pu(e,()=>{this._dirty||(this._dirty=!0,lh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=ut(this);return Gv(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function QR(n,e,t=!1){let i,s;const r=We(n);return r?(i=n,s=ei):(i=n.get,s=n.set),new GR(i,s,r||!s,t)}function BS(n,...e){}function YR(n,e){}function _r(n,e,t,i){let s;try{s=i?n(...i):n()}catch(r){ga(r,e,t)}return s}function Vi(n,e,t,i){if(We(n)){const r=_r(n,e,t,i);return r&&Bv(r)&&r.catch(o=>{ga(o,e,t)}),r}const s=[];for(let r=0;r<n.length;r++)s.push(Vi(n[r],e,t,i));return s}function ga(n,e,t,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=t;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){_r(l,null,10,[n,o,a]);return}}JR(n,t,s,i)}function JR(n,e,t,i=!0){console.error(n)}let Xc=!1,Jp=!1;const Xn=[];let Bs=0;const ll=[];let gr=null,No=0;const VS=Promise.resolve();let Yv=null;function ct(n){const e=Yv||VS;return n?e.then(this?n.bind(this):n):e}function XR(n){let e=Bs+1,t=Xn.length;for(;e<t;){const i=e+t>>>1;Zc(Xn[i])<n?e=i+1:t=i}return e}function ch(n){(!Xn.length||!Xn.includes(n,Xc&&n.allowRecurse?Bs+1:Bs))&&(n.id==null?Xn.push(n):Xn.splice(XR(n.id),0,n),US())}function US(){!Xc&&!Jp&&(Jp=!0,Yv=VS.then(zS))}function ZR(n){const e=Xn.indexOf(n);e>Bs&&Xn.splice(e,1)}function Jv(n){xe(n)?ll.push(...n):(!gr||!gr.includes(n,n.allowRecurse?No+1:No))&&ll.push(n),US()}function rw(n,e=Xc?Bs+1:0){for(;e<Xn.length;e++){const t=Xn[e];t&&t.pre&&(Xn.splice(e,1),e--,t())}}function wf(n){if(ll.length){const e=[...new Set(ll)];if(ll.length=0,gr){gr.push(...e);return}for(gr=e,gr.sort((t,i)=>Zc(t)-Zc(i)),No=0;No<gr.length;No++)gr[No]();gr=null,No=0}}const Zc=n=>n.id==null?1/0:n.id,e4=(n,e)=>{const t=Zc(n)-Zc(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function zS(n){Jp=!1,Xc=!0,Xn.sort(e4);const e=ei;try{for(Bs=0;Bs<Xn.length;Bs++){const t=Xn[Bs];t&&t.active!==!1&&_r(t,null,14)}}finally{Bs=0,Xn.length=0,wf(),Xc=!1,Yv=null,(Xn.length||ll.length)&&zS()}}let qa,dd=[];function HS(n,e){var t,i;qa=n,qa?(qa.enabled=!0,dd.forEach(({event:s,args:r})=>qa.emit(s,...r)),dd=[]):typeof window<"u"&&window.HTMLElement&&!((i=(t=window.navigator)==null?void 0:t.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{HS(r,e)}),setTimeout(()=>{qa||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,dd=[])},3e3)):dd=[]}function t4(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||Ft;let s=t;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=i[u]||Ft;f&&(s=t.map(h=>Tt(h)?h.trim():h)),d&&(s=t.map(vf))}let a,l=i[a=Ic(e)]||i[a=Ic(di(e))];!l&&r&&(l=i[a=Ic(Xi(e))]),l&&Vi(l,n,6,s);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Vi(c,n,6,s)}}function WS(n,e,t=!1){const i=e.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},a=!1;if(!We(n)){const l=c=>{const u=WS(c,e,!0);u&&(a=!0,jt(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(gt(n)&&i.set(n,null),null):(xe(r)?r.forEach(l=>o[l]=null):jt(o,r),gt(n)&&i.set(n,o),o)}function uh(n,e){return!n||!Au(e)?!1:(e=e.slice(2).replace(/Once$/,""),wt(n,e[0].toLowerCase()+e.slice(1))||wt(n,Xi(e))||wt(n,e))}let Dn=null,dh=null;function eu(n){const e=Dn;return Dn=n,dh=n&&n.type.__scopeId||null,e}function jS(n){dh=n}function qS(){dh=null}const n4=n=>Te;function Te(n,e=Dn,t){if(!e||n._n)return n;const i=(...s)=>{i._d&&sg(-1);const r=eu(e);let o;try{o=n(...s)}finally{eu(r),i._d&&sg(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Qd(n){const{type:e,vnode:t,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=n;let b,v;const w=eu(n);try{if(t.shapeFlag&4){const _=s||i;b=Oi(u.call(_,_,d,r,h,f,p)),v=l}else{const _=e;b=Oi(_.length>1?_(r,{attrs:l,slots:a,emit:c}):_(r,null)),v=e.props?l:s4(l)}}catch(_){Mc.length=0,ga(_,n,1),b=me(zn)}let C=b;if(v&&m!==!1){const _=Object.keys(v),{shapeFlag:T}=C;_.length&&T&7&&(o&&_.some(Lv)&&(v=r4(v,o)),C=bs(C,v))}return t.dirs&&(C=bs(C),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&(C.transition=t.transition),b=C,eu(w),b}function i4(n){let e;for(let t=0;t<n.length;t++){const i=n[t];if(lo(i)){if(i.type!==zn||i.children==="v-if"){if(e)return;e=i}}else return}return e}const s4=n=>{let e;for(const t in n)(t==="class"||t==="style"||Au(t))&&((e||(e={}))[t]=n[t]);return e},r4=(n,e)=>{const t={};for(const i in n)(!Lv(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function o4(n,e,t){const{props:i,children:s,component:r}=n,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?ow(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!uh(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?ow(i,o,c):!0:!!o;return!1}function ow(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==n[r]&&!uh(t,r))return!0}return!1}function Xv({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const KS=n=>n.__isSuspense,a4={name:"Suspense",__isSuspense:!0,process(n,e,t,i,s,r,o,a,l,c){n==null?c4(e,t,i,s,r,o,a,l,c):u4(n,e,t,i,s,o,a,l,c)},hydrate:d4,create:Zv,normalize:f4},l4=a4;function tu(n,e){const t=n.props&&n.props[e];We(t)&&t()}function c4(n,e,t,i,s,r,o,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=n.suspense=Zv(n,s,i,e,d,t,r,o,a,l);c(null,f.pendingBranch=n.ssContent,d,null,i,f,r,o),f.deps>0?(tu(n,"onPending"),tu(n,"onFallback"),c(null,n.ssFallback,e,t,i,null,r,o),cl(f,n.ssFallback)):f.resolve(!1,!0)}function u4(n,e,t,i,s,r,o,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=n.suspense;d.vnode=e,e.el=n.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:b,isHydrating:v}=d;if(m)d.pendingBranch=f,ms(f,m)?(l(m,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0?d.resolve():b&&(l(p,h,t,i,s,null,r,o,a),cl(d,h))):(d.pendingId++,v?(d.isHydrating=!1,d.activeBranch=m):c(m,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),b?(l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0?d.resolve():(l(p,h,t,i,s,null,r,o,a),cl(d,h))):p&&ms(f,p)?(l(p,f,t,i,s,d,r,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0&&d.resolve()));else if(p&&ms(f,p))l(p,f,t,i,s,d,r,o,a),cl(d,f);else if(tu(e,"onPending"),d.pendingBranch=f,d.pendingId++,l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0)d.resolve();else{const{timeout:w,pendingId:C}=d;w>0?setTimeout(()=>{d.pendingId===C&&d.fallback(h)},w):w===0&&d.fallback(h)}}function Zv(n,e,t,i,s,r,o,a,l,c,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:m,remove:b}}=c;let v;const w=h4(n);w&&e!=null&&e.pendingBranch&&(v=e.pendingId,e.deps++);const C=n.props?bf(n.props.timeout):void 0,_={vnode:n,parent:e,parentComponent:t,isSVG:o,container:i,hiddenContainer:s,anchor:r,deps:0,pendingId:0,timeout:typeof C=="number"?C:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(T=!1,k=!1){const{vnode:E,activeBranch:S,pendingBranch:I,pendingId:R,effects:q,parentComponent:W,container:z}=_;if(_.isHydrating)_.isHydrating=!1;else if(!T){const ne=S&&I.transition&&I.transition.mode==="out-in";ne&&(S.transition.afterLeave=()=>{R===_.pendingId&&f(I,z,M,0)});let{anchor:M}=_;S&&(M=p(S),h(S,W,_,!0)),ne||f(I,z,M,0)}cl(_,I),_.pendingBranch=null,_.isInFallback=!1;let L=_.parent,J=!1;for(;L;){if(L.pendingBranch){L.effects.push(...q),J=!0;break}L=L.parent}J||Jv(q),_.effects=[],w&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!k&&e.resolve()),tu(E,"onResolve")},fallback(T){if(!_.pendingBranch)return;const{vnode:k,activeBranch:E,parentComponent:S,container:I,isSVG:R}=_;tu(k,"onFallback");const q=p(E),W=()=>{_.isInFallback&&(d(null,T,I,q,S,null,R,a,l),cl(_,T))},z=T.transition&&T.transition.mode==="out-in";z&&(E.transition.afterLeave=W),_.isInFallback=!0,h(E,S,null,!0),z||W()},move(T,k,E){_.activeBranch&&f(_.activeBranch,T,k,E),_.container=T},next(){return _.activeBranch&&p(_.activeBranch)},registerDep(T,k){const E=!!_.pendingBranch;E&&_.deps++;const S=T.vnode.el;T.asyncDep.catch(I=>{ga(I,T,0)}).then(I=>{if(T.isUnmounted||_.isUnmounted||_.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:R}=T;rg(T,I,!1),S&&(R.el=S);const q=!S&&T.subTree.el;k(T,R,m(S||T.subTree.el),S?null:p(T.subTree),_,o,l),q&&b(q),Xv(T,R.el),E&&--_.deps===0&&_.resolve()})},unmount(T,k){_.isUnmounted=!0,_.activeBranch&&h(_.activeBranch,t,T,k),_.pendingBranch&&h(_.pendingBranch,t,T,k)}};return _}function d4(n,e,t,i,s,r,o,a,l){const c=e.suspense=Zv(e,i,t,n.parentNode,document.createElement("div"),null,s,r,o,a,!0),u=l(n,c.pendingBranch=e.ssContent,t,c,r,o);return c.deps===0&&c.resolve(!1,!0),u}function f4(n){const{shapeFlag:e,children:t}=n,i=e&32;n.ssContent=aw(i?t.default:t),n.ssFallback=i?aw(t.fallback):me(zn)}function aw(n){let e;if(We(n)){const t=oa&&n._c;t&&(n._d=!1,H()),n=n(),t&&(n._d=!0,e=yi,kE())}return xe(n)&&(n=i4(n)),n=Oi(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function GS(n,e){e&&e.pendingBranch?xe(n)?e.effects.push(...n):e.effects.push(n):Jv(n)}function cl(n,e){n.activeBranch=e;const{vnode:t,parentComponent:i}=n,s=t.el=e.el;i&&i.subTree===t&&(i.vnode.el=s,Xv(i,s))}function h4(n){var e;return((e=n.props)==null?void 0:e.suspensible)!=null&&n.props.suspensible!==!1}function m4(n,e){return Ou(n,null,e)}function QS(n,e){return Ou(n,null,{flush:"post"})}function p4(n,e){return Ou(n,null,{flush:"sync"})}const fd={};function $e(n,e,t){return Ou(n,e,t)}function Ou(n,e,{immediate:t,deep:i,flush:s,onTrack:r,onTrigger:o}=Ft){var a;const l=zv()===((a=yn)==null?void 0:a.scope)?yn:null;let c,u=!1,d=!1;if(Bt(n)?(c=()=>n.value,u=Qc(n)):jo(n)?(c=()=>n,i=!0):xe(n)?(d=!0,u=n.some(_=>jo(_)||Qc(_)),c=()=>n.map(_=>{if(Bt(_))return _.value;if(jo(_))return Vo(_);if(We(_))return _r(_,l,2)})):We(n)?e?c=()=>_r(n,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),Vi(n,l,3,[h])}:c=ei,e&&i){const _=c;c=()=>Vo(_())}let f,h=_=>{f=w.onStop=()=>{_r(_,l,4)}},p;if(ml)if(h=ei,e?t&&Vi(e,l,3,[c(),d?[]:void 0,h]):c(),s==="sync"){const _=ME();p=_.__watcherHandles||(_.__watcherHandles=[])}else return ei;let m=d?new Array(n.length).fill(fd):fd;const b=()=>{if(w.active)if(e){const _=w.run();(i||u||(d?_.some((T,k)=>fl(T,m[k])):fl(_,m)))&&(f&&f(),Vi(e,l,3,[_,m===fd?void 0:d&&m[0]===fd?[]:m,h]),m=_)}else w.run()};b.allowRecurse=!!e;let v;s==="sync"?v=b:s==="post"?v=()=>Vn(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),v=()=>ch(b));const w=new Pu(c,v);e?t?b():m=w.run():s==="post"?Vn(w.run.bind(w),l&&l.suspense):w.run();const C=()=>{w.stop(),l&&l.scope&&$v(l.scope.effects,w)};return p&&p.push(C),C}function g4(n,e,t){const i=this.proxy,s=Tt(n)?n.includes(".")?YS(i,n):()=>i[n]:n.bind(i,i);let r;We(e)?r=e:(r=e.handler,t=e);const o=yn;co(this);const a=Ou(s,r.bind(i),t);return o?co(o):io(),a}function YS(n,e){const t=e.split(".");return()=>{let i=n;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i}}function Vo(n,e){if(!gt(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Bt(n))Vo(n.value,e);else if(xe(n))for(let t=0;t<n.length;t++)Vo(n[t],e);else if(pa(n)||ol(n))n.forEach(t=>{Vo(t,e)});else if(yS(n))for(const t in n)Vo(n[t],e);return n}function Wt(n,e){const t=Dn;if(t===null)return n;const i=ph(t)||t.proxy,s=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=Ft]=e[r];o&&(We(o)&&(o={mounted:o,updated:o}),o.deep&&Vo(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return n}function Ds(n,e,t,i){const s=n.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(zl(),Vi(l,t,8,[n.el,a,n,e]),Hl())}}function eb(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mn(()=>{n.isMounted=!0}),Ei(()=>{n.isUnmounting=!0}),n}const Qi=[Function,Array],tb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qi,onEnter:Qi,onAfterEnter:Qi,onEnterCancelled:Qi,onBeforeLeave:Qi,onLeave:Qi,onAfterLeave:Qi,onLeaveCancelled:Qi,onBeforeAppear:Qi,onAppear:Qi,onAfterAppear:Qi,onAppearCancelled:Qi},v4={name:"BaseTransition",props:tb,setup(n,{slots:e}){const t=Rt(),i=eb();let s;return()=>{const r=e.default&&fh(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const m of r)if(m.type!==zn){o=m;break}}const a=ut(n),{mode:l}=a;if(i.isLeaving)return Fm(o);const c=lw(o);if(!c)return Fm(o);const u=hl(c,a,i,t);ra(c,u);const d=t.subTree,f=d&&lw(d);let h=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();s===void 0?s=m:m!==s&&(s=m,h=!0)}if(f&&f.type!==zn&&(!ms(c,f)||h)){const m=hl(f,a,i,t);if(ra(f,m),l==="out-in")return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,t.update.active!==!1&&t.update()},Fm(o);l==="in-out"&&c.type!==zn&&(m.delayLeave=(b,v,w)=>{const C=XS(i,f);C[String(f.key)]=f,b._leaveCb=()=>{v(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=w})}return o}}},JS=v4;function XS(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function hl(n,e,t,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:b,onAfterAppear:v,onAppearCancelled:w}=e,C=String(n.key),_=XS(t,n),T=(S,I)=>{S&&Vi(S,i,9,I)},k=(S,I)=>{const R=I[1];T(S,I),xe(S)?S.every(q=>q.length<=1)&&R():S.length<=1&&R()},E={mode:r,persisted:o,beforeEnter(S){let I=a;if(!t.isMounted)if(s)I=m||a;else return;S._leaveCb&&S._leaveCb(!0);const R=_[C];R&&ms(n,R)&&R.el._leaveCb&&R.el._leaveCb(),T(I,[S])},enter(S){let I=l,R=c,q=u;if(!t.isMounted)if(s)I=b||l,R=v||c,q=w||u;else return;let W=!1;const z=S._enterCb=L=>{W||(W=!0,L?T(q,[S]):T(R,[S]),E.delayedLeave&&E.delayedLeave(),S._enterCb=void 0)};I?k(I,[S,z]):z()},leave(S,I){const R=String(n.key);if(S._enterCb&&S._enterCb(!0),t.isUnmounting)return I();T(d,[S]);let q=!1;const W=S._leaveCb=z=>{q||(q=!0,I(),z?T(p,[S]):T(h,[S]),S._leaveCb=void 0,_[R]===n&&delete _[R])};_[R]=n,f?k(f,[S,W]):W()},clone(S){return hl(S,e,t,i)}};return E}function Fm(n){if(Ru(n))return n=bs(n),n.children=null,n}function lw(n){return Ru(n)?n.children?n.children[0]:void 0:n}function ra(n,e){n.shapeFlag&6&&n.component?ra(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function fh(n,e=!1,t){let i=[],s=0;for(let r=0;r<n.length;r++){let o=n[r];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:r);o.type===Ze?(o.patchFlag&128&&s++,i=i.concat(fh(o.children,e,a))):(e||o.type!==zn)&&i.push(a!=null?bs(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function Re(n,e){return We(n)?(()=>jt({name:n.name},e,{setup:n}))():n}const qo=n=>!!n.type.__asyncLoader;function b4(n){We(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:i,delay:s=200,timeout:r,suspensible:o=!0,onError:a}=n;let l=null,c,u=0;const d=()=>(u++,l=null,f()),f=()=>{let h;return l||(h=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,b)=>{a(p,()=>m(d()),()=>b(p),u+1)});throw p}).then(p=>h!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Re({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const h=yn;if(c)return()=>Nm(c,h);const p=w=>{l=null,ga(w,h,13,!i)};if(o&&h.suspense||ml)return f().then(w=>()=>Nm(w,h)).catch(w=>(p(w),()=>i?me(i,{error:w}):null));const m=se(!1),b=se(),v=se(!!s);return s&&setTimeout(()=>{v.value=!1},s),r!=null&&setTimeout(()=>{if(!m.value&&!b.value){const w=new Error(`Async component timed out after ${r}ms.`);p(w),b.value=w}},r),f().then(()=>{m.value=!0,h.parent&&Ru(h.parent.vnode)&&ch(h.parent.update)}).catch(w=>{p(w),b.value=w}),()=>{if(m.value&&c)return Nm(c,h);if(b.value&&i)return me(i,{error:b.value});if(t&&!v.value)return me(t)}}})}function Nm(n,e){const{ref:t,props:i,children:s,ce:r}=e.vnode,o=me(n,i,s);return o.ref=t,o.ce=r,delete e.vnode.ce,o}const Ru=n=>n.type.__isKeepAlive,y4={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=Rt(),i=t.ctx;if(!i.renderer)return()=>{const w=e.default&&e.default();return w&&w.length===1?w[0]:w};const s=new Map,r=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=i,f=d("div");i.activate=(w,C,_,T,k)=>{const E=w.component;c(w,C,_,0,a),l(E.vnode,w,C,_,E,a,T,w.slotScopeIds,k),Vn(()=>{E.isDeactivated=!1,E.a&&al(E.a);const S=w.props&&w.props.onVnodeMounted;S&&bi(S,E.parent,w)},a)},i.deactivate=w=>{const C=w.component;c(w,f,null,1,a),Vn(()=>{C.da&&al(C.da);const _=w.props&&w.props.onVnodeUnmounted;_&&bi(_,C.parent,w),C.isDeactivated=!0},a)};function h(w){Lm(w),u(w,t,a,!0)}function p(w){s.forEach((C,_)=>{const T=ag(C.type);T&&(!w||!w(T))&&m(_)})}function m(w){const C=s.get(w);!o||!ms(C,o)?h(C):o&&Lm(o),s.delete(w),r.delete(w)}$e(()=>[n.include,n.exclude],([w,C])=>{w&&p(_=>Sc(w,_)),C&&p(_=>!Sc(C,_))},{flush:"post",deep:!0});let b=null;const v=()=>{b!=null&&s.set(b,$m(t.subTree))};return mn(v),Mu(v),Ei(()=>{s.forEach(w=>{const{subTree:C,suspense:_}=t,T=$m(C);if(w.type===T.type&&w.key===T.key){Lm(T);const k=T.component.da;k&&Vn(k,_);return}h(w)})}),()=>{if(b=null,!e.default)return null;const w=e.default(),C=w[0];if(w.length>1)return o=null,w;if(!lo(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return o=null,C;let _=$m(C);const T=_.type,k=ag(qo(_)?_.type.__asyncResolved||{}:T),{include:E,exclude:S,max:I}=n;if(E&&(!k||!Sc(E,k))||S&&k&&Sc(S,k))return o=_,C;const R=_.key==null?T:_.key,q=s.get(R);return _.el&&(_=bs(_),C.shapeFlag&128&&(C.ssContent=_)),b=R,q?(_.el=q.el,_.component=q.component,_.transition&&ra(_,_.transition),_.shapeFlag|=512,r.delete(R),r.add(R)):(r.add(R),I&&r.size>parseInt(I,10)&&m(r.values().next().value)),_.shapeFlag|=256,o=_,KS(C.type)?C:_}}},w4=y4;function Sc(n,e){return xe(n)?n.some(t=>Sc(t,e)):Tt(n)?n.split(",").includes(e):JO(n)?n.test(e):!1}function ZS(n,e){eE(n,"a",e)}function nb(n,e){eE(n,"da",e)}function eE(n,e,t=yn){const i=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(hh(e,i,t),t){let s=t.parent;for(;s&&s.parent;)Ru(s.parent.vnode)&&_4(i,e,t,s),s=s.parent}}function _4(n,e,t,i){const s=hh(e,n,i,!0);jl(()=>{$v(i[e],s)},t)}function Lm(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function $m(n){return n.shapeFlag&128?n.ssContent:n}function hh(n,e,t=yn,i=!1){if(t){const s=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;zl(),co(t);const a=Vi(e,t,n,o);return io(),Hl(),a});return i?s.unshift(r):s.push(r),r}}const Or=n=>(e,t=yn)=>(!ml||n==="sp")&&hh(n,(...i)=>e(...i),t),ib=Or("bm"),mn=Or("m"),tE=Or("bu"),Mu=Or("u"),Ei=Or("bum"),jl=Or("um"),nE=Or("sp"),iE=Or("rtg"),sE=Or("rtc");function rE(n,e=yn){hh("ec",n,e)}const sb="components",C4="directives";function Ms(n,e){return rb(sb,n,!0,e)||n}const oE=Symbol.for("v-ndc");function Fn(n){return Tt(n)?rb(sb,n,!1)||n:n||oE}function aE(n){return rb(C4,n)}function rb(n,e,t=!0,i=!1){const s=Dn||yn;if(s){const r=s.type;if(n===sb){const a=ag(r,!1);if(a&&(a===e||a===di(e)||a===xu(di(e))))return r}const o=cw(s[n]||r[n],e)||cw(s.appContext[n],e);return!o&&i?r:o}}function cw(n,e){return n&&(n[e]||n[di(e)]||n[xu(di(e))])}function dn(n,e,t,i){let s;const r=t&&t[i];if(xe(n)||Tt(n)){s=new Array(n.length);for(let o=0,a=n.length;o<a;o++)s[o]=e(n[o],o,void 0,r&&r[o])}else if(typeof n=="number"){s=new Array(n);for(let o=0;o<n;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(gt(n))if(n[Symbol.iterator])s=Array.from(n,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(n);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(n[c],c,a,r&&r[a])}}else s=[];return t&&(t[i]=s),s}function lE(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(xe(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return n}function dt(n,e,t={},i,s){if(Dn.isCE||Dn.parent&&qo(Dn.parent)&&Dn.parent.isCE)return e!=="default"&&(t.name=e),me("slot",t,i&&i());let r=n[e];r&&r._c&&(r._d=!1),H();const o=r&&cE(r(t)),a=ze(Ze,{key:t.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&n._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function cE(n){return n.some(e=>lo(e)?!(e.type===zn||e.type===Ze&&!cE(e.children)):!0)?n:null}function k4(n,e){const t={};for(const i in n)t[e&&/[A-Z]/.test(i)?`on:${i}`:Ic(i)]=n[i];return t}const Xp=n=>n?xE(n)?ph(n)||n.proxy:Xp(n.parent):null,Oc=jt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Xp(n.parent),$root:n=>Xp(n.root),$emit:n=>n.emit,$options:n=>ob(n),$forceUpdate:n=>n.f||(n.f=()=>ch(n.update)),$nextTick:n=>n.n||(n.n=ct.bind(n.proxy)),$watch:n=>g4.bind(n)}),Bm=(n,e)=>n!==Ft&&!n.__isScriptSetup&&wt(n,e),Zp={get({_:n},e){const{ctx:t,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(Bm(i,e))return o[e]=1,i[e];if(s!==Ft&&wt(s,e))return o[e]=2,s[e];if((c=n.propsOptions[0])&&wt(c,e))return o[e]=3,r[e];if(t!==Ft&&wt(t,e))return o[e]=4,t[e];eg&&(o[e]=0)}}const u=Oc[e];let d,f;if(u)return e==="$attrs"&&Si(n,"get",e),u(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==Ft&&wt(t,e))return o[e]=4,t[e];if(f=l.config.globalProperties,wt(f,e))return f[e]},set({_:n},e,t){const{data:i,setupState:s,ctx:r}=n;return Bm(s,e)?(s[e]=t,!0):i!==Ft&&wt(i,e)?(i[e]=t,!0):wt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!t[o]||n!==Ft&&wt(n,o)||Bm(e,o)||(a=r[0])&&wt(a,o)||wt(i,o)||wt(Oc,o)||wt(s.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:wt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},S4=jt({},Zp,{get(n,e){if(e!==Symbol.unscopables)return Zp.get(n,e,n)},has(n,e){return e[0]!=="_"&&!tR(e)}});function E4(){return null}function T4(){return null}function A4(n){}function x4(n){}function P4(){return null}function I4(){}function O4(n,e){return null}function va(){return uE().slots}function Du(){return uE().attrs}function R4(n,e,t){const i=Rt();if(t&&t.local){const s=se(n[e]);return $e(()=>n[e],r=>s.value=r),$e(s,r=>{r!==n[e]&&i.emit(`update:${e}`,r)}),s}else return{__v_isRef:!0,get value(){return n[e]},set value(s){i.emit(`update:${e}`,s)}}}function uE(){const n=Rt();return n.setupContext||(n.setupContext=OE(n))}function nu(n){return xe(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function M4(n,e){const t=nu(n);for(const i in e){if(i.startsWith("__skip"))continue;let s=t[i];s?xe(s)||We(s)?s=t[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=t[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return t}function D4(n,e){return!n||!e?n||e:xe(n)&&xe(e)?n.concat(e):jt({},nu(n),nu(e))}function F4(n,e){const t={};for(const i in n)e.includes(i)||Object.defineProperty(t,i,{enumerable:!0,get:()=>n[i]});return t}function N4(n){const e=Rt();let t=n();return io(),Bv(t)&&(t=t.catch(i=>{throw co(e),i})),[t,()=>co(e)]}let eg=!0;function L4(n){const e=ob(n),t=n.proxy,i=n.ctx;eg=!1,e.beforeCreate&&uw(e.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:b,beforeDestroy:v,beforeUnmount:w,destroyed:C,unmounted:_,render:T,renderTracked:k,renderTriggered:E,errorCaptured:S,serverPrefetch:I,expose:R,inheritAttrs:q,components:W,directives:z,filters:L}=e;if(c&&$4(c,i,null),o)for(const M in o){const Q=o[M];We(Q)&&(i[M]=Q.bind(t))}if(s){const M=s.call(t,t);gt(M)&&(n.data=qi(M))}if(eg=!0,r)for(const M in r){const Q=r[M],U=We(Q)?Q.bind(t,t):We(Q.get)?Q.get.bind(t,t):ei,Y=!We(Q)&&We(Q.set)?Q.set.bind(t):ei,pe=N({get:U,set:Y});Object.defineProperty(i,M,{enumerable:!0,configurable:!0,get:()=>pe.value,set:O=>pe.value=O})}if(a)for(const M in a)dE(a[M],i,t,M);if(l){const M=We(l)?l.call(t):l;Reflect.ownKeys(M).forEach(Q=>{Sn(Q,M[Q])})}u&&uw(u,n,"c");function ne(M,Q){xe(Q)?Q.forEach(U=>M(U.bind(t))):Q&&M(Q.bind(t))}if(ne(ib,d),ne(mn,f),ne(tE,h),ne(Mu,p),ne(ZS,m),ne(nb,b),ne(rE,S),ne(sE,k),ne(iE,E),ne(Ei,w),ne(jl,_),ne(nE,I),xe(R))if(R.length){const M=n.exposed||(n.exposed={});R.forEach(Q=>{Object.defineProperty(M,Q,{get:()=>t[Q],set:U=>t[Q]=U})})}else n.exposed||(n.exposed={});T&&n.render===ei&&(n.render=T),q!=null&&(n.inheritAttrs=q),W&&(n.components=W),z&&(n.directives=z)}function $4(n,e,t=ei){xe(n)&&(n=tg(n));for(const i in n){const s=n[i];let r;gt(s)?"default"in s?r=st(s.from||i,s.default,!0):r=st(s.from||i):r=st(s),Bt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function uw(n,e,t){Vi(xe(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function dE(n,e,t,i){const s=i.includes(".")?YS(t,i):()=>t[i];if(Tt(n)){const r=e[n];We(r)&&$e(s,r)}else if(We(n))$e(s,n.bind(t));else if(gt(n))if(xe(n))n.forEach(r=>dE(r,e,t,i));else{const r=We(n.handler)?n.handler.bind(t):e[n.handler];We(r)&&$e(s,r,n)}}function ob(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!t&&!i?l=e:(l={},s.length&&s.forEach(c=>_f(l,c,o,!0)),_f(l,e,o)),gt(e)&&r.set(e,l),l}function _f(n,e,t,i=!1){const{mixins:s,extends:r}=e;r&&_f(n,r,t,!0),s&&s.forEach(o=>_f(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=B4[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const B4={data:dw,props:fw,emits:fw,methods:Ec,computed:Ec,beforeCreate:oi,created:oi,beforeMount:oi,mounted:oi,beforeUpdate:oi,updated:oi,beforeDestroy:oi,beforeUnmount:oi,destroyed:oi,unmounted:oi,activated:oi,deactivated:oi,errorCaptured:oi,serverPrefetch:oi,components:Ec,directives:Ec,watch:U4,provide:dw,inject:V4};function dw(n,e){return e?n?function(){return jt(We(n)?n.call(this,this):n,We(e)?e.call(this,this):e)}:e:n}function V4(n,e){return Ec(tg(n),tg(e))}function tg(n){if(xe(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function oi(n,e){return n?[...new Set([].concat(n,e))]:e}function Ec(n,e){return n?jt(Object.create(null),n,e):e}function fw(n,e){return n?xe(n)&&xe(e)?[...new Set([...n,...e])]:jt(Object.create(null),nu(n),nu(e??{})):e}function U4(n,e){if(!n)return e;if(!e)return n;const t=jt(Object.create(null),n);for(const i in e)t[i]=oi(n[i],e[i]);return t}function fE(){return{app:null,config:{isNativeTag:GO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let z4=0;function H4(n,e){return function(i,s=null){We(i)||(i=jt({},i)),s!=null&&!gt(s)&&(s=null);const r=fE(),o=new Set;let a=!1;const l=r.app={_uid:z4++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:FE,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&We(c.install)?(o.add(c),c.install(l,...u)):We(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const f=me(i,s);return f.appContext=r,u&&e?e(f,c):n(f,c,d),a=!0,l._container=c,c.__vue_app__=l,ph(f.component)||f.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){iu=l;try{return c()}finally{iu=null}}};return l}}let iu=null;function Sn(n,e){if(yn){let t=yn.provides;const i=yn.parent&&yn.parent.provides;i===t&&(t=yn.provides=Object.create(i)),t[n]=e}}function st(n,e,t=!1){const i=yn||Dn;if(i||iu){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:iu._context.provides;if(s&&n in s)return s[n];if(arguments.length>1)return t&&We(e)?e.call(i&&i.proxy):e}}function W4(){return!!(yn||Dn||iu)}function j4(n,e,t,i=!1){const s={},r={};gf(r,mh,1),n.propsDefaults=Object.create(null),hE(n,e,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);t?n.props=i?s:NS(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function q4(n,e,t,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,a=ut(s),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(uh(n.emitsOptions,f))continue;const h=e[f];if(l)if(wt(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=di(f);s[p]=ng(l,a,p,h,n,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{hE(n,e,s,r)&&(c=!0);let u;for(const d in a)(!e||!wt(e,d)&&((u=Xi(d))===d||!wt(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(s[d]=ng(l,a,d,void 0,n,!0)):delete s[d]);if(r!==a)for(const d in r)(!e||!wt(e,d))&&(delete r[d],c=!0)}c&&Sr(n,"set","$attrs")}function hE(n,e,t,i){const[s,r]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(Pc(l))continue;const c=e[l];let u;s&&wt(s,u=di(l))?!r||!r.includes(u)?t[u]=c:(a||(a={}))[u]=c:uh(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=ut(t),c=a||Ft;for(let u=0;u<r.length;u++){const d=r[u];t[d]=ng(s,l,d,c[d],n,!wt(c,d))}}return o}function ng(n,e,t,i,s,r){const o=n[t];if(o!=null){const a=wt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&We(l)){const{propsDefaults:c}=s;t in c?i=c[t]:(co(s),i=c[t]=l.call(null,e),io())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Xi(t))&&(i=!0))}return i}function mE(n,e,t=!1){const i=e.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},a=[];let l=!1;if(!We(n)){const u=d=>{l=!0;const[f,h]=mE(d,e,!0);jt(o,f),h&&a.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return gt(n)&&i.set(n,rl),rl;if(xe(r))for(let u=0;u<r.length;u++){const d=di(r[u]);hw(d)&&(o[d]=Ft)}else if(r)for(const u in r){const d=di(u);if(hw(d)){const f=r[u],h=o[d]=xe(f)||We(f)?{type:f}:jt({},f);if(h){const p=gw(Boolean,h.type),m=gw(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||wt(h,"default"))&&a.push(d)}}}const c=[o,a];return gt(n)&&i.set(n,c),c}function hw(n){return n[0]!=="$"}function mw(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function pw(n,e){return mw(n)===mw(e)}function gw(n,e){return xe(e)?e.findIndex(t=>pw(t,n)):We(e)&&pw(e,n)?0:-1}const pE=n=>n[0]==="_"||n==="$stable",ab=n=>xe(n)?n.map(Oi):[Oi(n)],K4=(n,e,t)=>{if(e._n)return e;const i=Te((...s)=>ab(e(...s)),t);return i._c=!1,i},gE=(n,e,t)=>{const i=n._ctx;for(const s in n){if(pE(s))continue;const r=n[s];if(We(r))e[s]=K4(s,r,i);else if(r!=null){const o=ab(r);e[s]=()=>o}}},vE=(n,e)=>{const t=ab(e);n.slots.default=()=>t},G4=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ut(e),gf(e,"_",t)):gE(e,n.slots={})}else n.slots={},e&&vE(n,e);gf(n.slots,mh,1)},Q4=(n,e,t)=>{const{vnode:i,slots:s}=n;let r=!0,o=Ft;if(i.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:(jt(s,e),!t&&a===1&&delete s._):(r=!e.$stable,gE(e,s)),o=e}else e&&(vE(n,e),o={default:1});if(r)for(const a in s)!pE(a)&&!(a in o)&&delete s[a]};function Cf(n,e,t,i,s=!1){if(xe(n)){n.forEach((f,h)=>Cf(f,e&&(xe(e)?e[h]:e),t,i,s));return}if(qo(i)&&!s)return;const r=i.shapeFlag&4?ph(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=n,c=e&&e.r,u=a.refs===Ft?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(Tt(c)?(u[c]=null,wt(d,c)&&(d[c]=null)):Bt(c)&&(c.value=null)),We(l))_r(l,a,12,[o,u]);else{const f=Tt(l),h=Bt(l);if(f||h){const p=()=>{if(n.f){const m=f?wt(d,l)?d[l]:u[l]:l.value;s?xe(m)&&$v(m,r):xe(m)?m.includes(r)||m.push(r):f?(u[l]=[r],wt(d,l)&&(d[l]=u[l])):(l.value=[r],n.k&&(u[n.k]=l.value))}else f?(u[l]=o,wt(d,l)&&(d[l]=o)):h&&(l.value=o,n.k&&(u[n.k]=o))};o?(p.id=-1,Vn(p,t)):p()}}}let $r=!1;const hd=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",md=n=>n.nodeType===8;function Y4(n){const{mt:e,p:t,o:{patchProp:i,createText:s,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=n,u=(v,w)=>{if(!w.hasChildNodes()){t(null,v,w),wf(),w._vnode=v;return}$r=!1,d(w.firstChild,v,null,null,null),wf(),w._vnode=v,$r&&console.error("Hydration completed but contains mismatches.")},d=(v,w,C,_,T,k=!1)=>{const E=md(v)&&v.data==="[",S=()=>m(v,w,C,_,T,E),{type:I,ref:R,shapeFlag:q,patchFlag:W}=w;let z=v.nodeType;w.el=v,W===-2&&(k=!1,w.dynamicChildren=null);let L=null;switch(I){case er:z!==3?w.children===""?(l(w.el=s(""),o(v),v),L=v):L=S():(v.data!==w.children&&($r=!0,v.data=w.children),L=r(v));break;case zn:z!==8||E?L=S():L=r(v);break;case Ko:if(E&&(v=r(v),z=v.nodeType),z===1||z===3){L=v;const J=!w.children.length;for(let ne=0;ne<w.staticCount;ne++)J&&(w.children+=L.nodeType===1?L.outerHTML:L.data),ne===w.staticCount-1&&(w.anchor=L),L=r(L);return E?r(L):L}else S();break;case Ze:E?L=p(v,w,C,_,T,k):L=S();break;default:if(q&1)z!==1||w.type.toLowerCase()!==v.tagName.toLowerCase()?L=S():L=f(v,w,C,_,T,k);else if(q&6){w.slotScopeIds=T;const J=o(v);if(e(w,J,null,C,_,hd(J),k),L=E?b(v):r(v),L&&md(L)&&L.data==="teleport end"&&(L=r(L)),qo(w)){let ne;E?(ne=me(Ze),ne.anchor=L?L.previousSibling:J.lastChild):ne=v.nodeType===3?fn(""):me("div"),ne.el=v,w.component.subTree=ne}}else q&64?z!==8?L=S():L=w.type.hydrate(v,w,C,_,T,k,n,h):q&128&&(L=w.type.hydrate(v,w,C,_,hd(o(v)),T,k,n,d))}return R!=null&&Cf(R,null,_,w),L},f=(v,w,C,_,T,k)=>{k=k||!!w.dynamicChildren;const{type:E,props:S,patchFlag:I,shapeFlag:R,dirs:q}=w,W=E==="input"&&q||E==="option";if(W||I!==-1){if(q&&Ds(w,null,C,"created"),S)if(W||!k||I&48)for(const L in S)(W&&L.endsWith("value")||Au(L)&&!Pc(L))&&i(v,L,null,S[L],!1,void 0,C);else S.onClick&&i(v,"onClick",null,S.onClick,!1,void 0,C);let z;if((z=S&&S.onVnodeBeforeMount)&&bi(z,C,w),q&&Ds(w,null,C,"beforeMount"),((z=S&&S.onVnodeMounted)||q)&&GS(()=>{z&&bi(z,C,w),q&&Ds(w,null,C,"mounted")},_),R&16&&!(S&&(S.innerHTML||S.textContent))){let L=h(v.firstChild,w,v,C,_,T,k);for(;L;){$r=!0;const J=L;L=L.nextSibling,a(J)}}else R&8&&v.textContent!==w.children&&($r=!0,v.textContent=w.children)}return v.nextSibling},h=(v,w,C,_,T,k,E)=>{E=E||!!w.dynamicChildren;const S=w.children,I=S.length;for(let R=0;R<I;R++){const q=E?S[R]:S[R]=Oi(S[R]);if(v)v=d(v,q,_,T,k,E);else{if(q.type===er&&!q.children)continue;$r=!0,t(null,q,C,null,_,T,hd(C),k)}}return v},p=(v,w,C,_,T,k)=>{const{slotScopeIds:E}=w;E&&(T=T?T.concat(E):E);const S=o(v),I=h(r(v),w,S,C,_,T,k);return I&&md(I)&&I.data==="]"?r(w.anchor=I):($r=!0,l(w.anchor=c("]"),S,I),I)},m=(v,w,C,_,T,k)=>{if($r=!0,w.el=null,k){const I=b(v);for(;;){const R=r(v);if(R&&R!==I)a(R);else break}}const E=r(v),S=o(v);return a(v),t(null,w,S,E,C,_,hd(S),T),E},b=v=>{let w=0;for(;v;)if(v=r(v),v&&md(v)&&(v.data==="["&&w++,v.data==="]")){if(w===0)return r(v);w--}return v};return[u,d]}const Vn=GS;function bE(n){return wE(n)}function yE(n){return wE(n,Y4)}function wE(n,e){const t=Kp();t.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=ei,insertStaticContent:p}=n,m=(x,B,te,ue=null,ae=null,ye=null,Ee=!1,ge=null,oe=!!B.dynamicChildren)=>{if(x===B)return;x&&!ms(x,B)&&(ue=je(x),O(x,ae,ye,!0),x=null),B.patchFlag===-2&&(oe=!1,B.dynamicChildren=null);const{type:re,ref:j,shapeFlag:K}=B;switch(re){case er:b(x,B,te,ue);break;case zn:v(x,B,te,ue);break;case Ko:x==null&&w(B,te,ue,Ee);break;case Ze:W(x,B,te,ue,ae,ye,Ee,ge,oe);break;default:K&1?T(x,B,te,ue,ae,ye,Ee,ge,oe):K&6?z(x,B,te,ue,ae,ye,Ee,ge,oe):(K&64||K&128)&&re.process(x,B,te,ue,ae,ye,Ee,ge,oe,Ue)}j!=null&&ae&&Cf(j,x&&x.ref,ye,B||x,!B)},b=(x,B,te,ue)=>{if(x==null)i(B.el=a(B.children),te,ue);else{const ae=B.el=x.el;B.children!==x.children&&c(ae,B.children)}},v=(x,B,te,ue)=>{x==null?i(B.el=l(B.children||""),te,ue):B.el=x.el},w=(x,B,te,ue)=>{[x.el,x.anchor]=p(x.children,B,te,ue,x.el,x.anchor)},C=({el:x,anchor:B},te,ue)=>{let ae;for(;x&&x!==B;)ae=f(x),i(x,te,ue),x=ae;i(B,te,ue)},_=({el:x,anchor:B})=>{let te;for(;x&&x!==B;)te=f(x),s(x),x=te;s(B)},T=(x,B,te,ue,ae,ye,Ee,ge,oe)=>{Ee=Ee||B.type==="svg",x==null?k(B,te,ue,ae,ye,Ee,ge,oe):I(x,B,ae,ye,Ee,ge,oe)},k=(x,B,te,ue,ae,ye,Ee,ge)=>{let oe,re;const{type:j,props:K,shapeFlag:Ce,transition:Z,dirs:ke}=x;if(oe=x.el=o(x.type,ye,K&&K.is,K),Ce&8?u(oe,x.children):Ce&16&&S(x.children,oe,null,ue,ae,ye&&j!=="foreignObject",Ee,ge),ke&&Ds(x,null,ue,"created"),E(oe,x,x.scopeId,Ee,ue),K){for(const Ke in K)Ke!=="value"&&!Pc(Ke)&&r(oe,Ke,null,K[Ke],ye,x.children,ue,ae,Ae);"value"in K&&r(oe,"value",null,K.value),(re=K.onVnodeBeforeMount)&&bi(re,ue,x)}ke&&Ds(x,null,ue,"beforeMount");const Ve=(!ae||ae&&!ae.pendingBranch)&&Z&&!Z.persisted;Ve&&Z.beforeEnter(oe),i(oe,B,te),((re=K&&K.onVnodeMounted)||Ve||ke)&&Vn(()=>{re&&bi(re,ue,x),Ve&&Z.enter(oe),ke&&Ds(x,null,ue,"mounted")},ae)},E=(x,B,te,ue,ae)=>{if(te&&h(x,te),ue)for(let ye=0;ye<ue.length;ye++)h(x,ue[ye]);if(ae){let ye=ae.subTree;if(B===ye){const Ee=ae.vnode;E(x,Ee,Ee.scopeId,Ee.slotScopeIds,ae.parent)}}},S=(x,B,te,ue,ae,ye,Ee,ge,oe=0)=>{for(let re=oe;re<x.length;re++){const j=x[re]=ge?Gr(x[re]):Oi(x[re]);m(null,j,B,te,ue,ae,ye,Ee,ge)}},I=(x,B,te,ue,ae,ye,Ee)=>{const ge=B.el=x.el;let{patchFlag:oe,dynamicChildren:re,dirs:j}=B;oe|=x.patchFlag&16;const K=x.props||Ft,Ce=B.props||Ft;let Z;te&&Ao(te,!1),(Z=Ce.onVnodeBeforeUpdate)&&bi(Z,te,B,x),j&&Ds(B,x,te,"beforeUpdate"),te&&Ao(te,!0);const ke=ae&&B.type!=="foreignObject";if(re?R(x.dynamicChildren,re,ge,te,ue,ke,ye):Ee||Q(x,B,ge,null,te,ue,ke,ye,!1),oe>0){if(oe&16)q(ge,B,K,Ce,te,ue,ae);else if(oe&2&&K.class!==Ce.class&&r(ge,"class",null,Ce.class,ae),oe&4&&r(ge,"style",K.style,Ce.style,ae),oe&8){const Ve=B.dynamicProps;for(let Ke=0;Ke<Ve.length;Ke++){const rt=Ve[Ke],ft=K[rt],ie=Ce[rt];(ie!==ft||rt==="value")&&r(ge,rt,ft,ie,ae,x.children,te,ue,Ae)}}oe&1&&x.children!==B.children&&u(ge,B.children)}else!Ee&&re==null&&q(ge,B,K,Ce,te,ue,ae);((Z=Ce.onVnodeUpdated)||j)&&Vn(()=>{Z&&bi(Z,te,B,x),j&&Ds(B,x,te,"updated")},ue)},R=(x,B,te,ue,ae,ye,Ee)=>{for(let ge=0;ge<B.length;ge++){const oe=x[ge],re=B[ge],j=oe.el&&(oe.type===Ze||!ms(oe,re)||oe.shapeFlag&70)?d(oe.el):te;m(oe,re,j,null,ue,ae,ye,Ee,!0)}},q=(x,B,te,ue,ae,ye,Ee)=>{if(te!==ue){if(te!==Ft)for(const ge in te)!Pc(ge)&&!(ge in ue)&&r(x,ge,te[ge],null,Ee,B.children,ae,ye,Ae);for(const ge in ue){if(Pc(ge))continue;const oe=ue[ge],re=te[ge];oe!==re&&ge!=="value"&&r(x,ge,re,oe,Ee,B.children,ae,ye,Ae)}"value"in ue&&r(x,"value",te.value,ue.value)}},W=(x,B,te,ue,ae,ye,Ee,ge,oe)=>{const re=B.el=x?x.el:a(""),j=B.anchor=x?x.anchor:a("");let{patchFlag:K,dynamicChildren:Ce,slotScopeIds:Z}=B;Z&&(ge=ge?ge.concat(Z):Z),x==null?(i(re,te,ue),i(j,te,ue),S(B.children,te,j,ae,ye,Ee,ge,oe)):K>0&&K&64&&Ce&&x.dynamicChildren?(R(x.dynamicChildren,Ce,te,ae,ye,Ee,ge),(B.key!=null||ae&&B===ae.subTree)&&lb(x,B,!0)):Q(x,B,te,j,ae,ye,Ee,ge,oe)},z=(x,B,te,ue,ae,ye,Ee,ge,oe)=>{B.slotScopeIds=ge,x==null?B.shapeFlag&512?ae.ctx.activate(B,te,ue,Ee,oe):L(B,te,ue,ae,ye,Ee,oe):J(x,B,oe)},L=(x,B,te,ue,ae,ye,Ee)=>{const ge=x.component=AE(x,ue,ae);if(Ru(x)&&(ge.ctx.renderer=Ue),PE(ge),ge.asyncDep){if(ae&&ae.registerDep(ge,ne),!x.el){const oe=ge.subTree=me(zn);v(null,oe,B,te)}return}ne(ge,x,B,te,ae,ye,Ee)},J=(x,B,te)=>{const ue=B.component=x.component;if(o4(x,B,te))if(ue.asyncDep&&!ue.asyncResolved){M(ue,B,te);return}else ue.next=B,ZR(ue.update),ue.update();else B.el=x.el,ue.vnode=B},ne=(x,B,te,ue,ae,ye,Ee)=>{const ge=()=>{if(x.isMounted){let{next:j,bu:K,u:Ce,parent:Z,vnode:ke}=x,Ve=j,Ke;Ao(x,!1),j?(j.el=ke.el,M(x,j,Ee)):j=ke,K&&al(K),(Ke=j.props&&j.props.onVnodeBeforeUpdate)&&bi(Ke,Z,j,ke),Ao(x,!0);const rt=Qd(x),ft=x.subTree;x.subTree=rt,m(ft,rt,d(ft.el),je(ft),x,ae,ye),j.el=rt.el,Ve===null&&Xv(x,rt.el),Ce&&Vn(Ce,ae),(Ke=j.props&&j.props.onVnodeUpdated)&&Vn(()=>bi(Ke,Z,j,ke),ae)}else{let j;const{el:K,props:Ce}=B,{bm:Z,m:ke,parent:Ve}=x,Ke=qo(B);if(Ao(x,!1),Z&&al(Z),!Ke&&(j=Ce&&Ce.onVnodeBeforeMount)&&bi(j,Ve,B),Ao(x,!0),K&&Ge){const rt=()=>{x.subTree=Qd(x),Ge(K,x.subTree,x,ae,null)};Ke?B.type.__asyncLoader().then(()=>!x.isUnmounted&&rt()):rt()}else{const rt=x.subTree=Qd(x);m(null,rt,te,ue,x,ae,ye),B.el=rt.el}if(ke&&Vn(ke,ae),!Ke&&(j=Ce&&Ce.onVnodeMounted)){const rt=B;Vn(()=>bi(j,Ve,rt),ae)}(B.shapeFlag&256||Ve&&qo(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&x.a&&Vn(x.a,ae),x.isMounted=!0,B=te=ue=null}},oe=x.effect=new Pu(ge,()=>ch(re),x.scope),re=x.update=()=>oe.run();re.id=x.uid,Ao(x,!0),re()},M=(x,B,te)=>{B.component=x;const ue=x.vnode.props;x.vnode=B,x.next=null,q4(x,B.props,ue,te),Q4(x,B.children,te),zl(),rw(),Hl()},Q=(x,B,te,ue,ae,ye,Ee,ge,oe=!1)=>{const re=x&&x.children,j=x?x.shapeFlag:0,K=B.children,{patchFlag:Ce,shapeFlag:Z}=B;if(Ce>0){if(Ce&128){Y(re,K,te,ue,ae,ye,Ee,ge,oe);return}else if(Ce&256){U(re,K,te,ue,ae,ye,Ee,ge,oe);return}}Z&8?(j&16&&Ae(re,ae,ye),K!==re&&u(te,K)):j&16?Z&16?Y(re,K,te,ue,ae,ye,Ee,ge,oe):Ae(re,ae,ye,!0):(j&8&&u(te,""),Z&16&&S(K,te,ue,ae,ye,Ee,ge,oe))},U=(x,B,te,ue,ae,ye,Ee,ge,oe)=>{x=x||rl,B=B||rl;const re=x.length,j=B.length,K=Math.min(re,j);let Ce;for(Ce=0;Ce<K;Ce++){const Z=B[Ce]=oe?Gr(B[Ce]):Oi(B[Ce]);m(x[Ce],Z,te,null,ae,ye,Ee,ge,oe)}re>j?Ae(x,ae,ye,!0,!1,K):S(B,te,ue,ae,ye,Ee,ge,oe,K)},Y=(x,B,te,ue,ae,ye,Ee,ge,oe)=>{let re=0;const j=B.length;let K=x.length-1,Ce=j-1;for(;re<=K&&re<=Ce;){const Z=x[re],ke=B[re]=oe?Gr(B[re]):Oi(B[re]);if(ms(Z,ke))m(Z,ke,te,null,ae,ye,Ee,ge,oe);else break;re++}for(;re<=K&&re<=Ce;){const Z=x[K],ke=B[Ce]=oe?Gr(B[Ce]):Oi(B[Ce]);if(ms(Z,ke))m(Z,ke,te,null,ae,ye,Ee,ge,oe);else break;K--,Ce--}if(re>K){if(re<=Ce){const Z=Ce+1,ke=Z<j?B[Z].el:ue;for(;re<=Ce;)m(null,B[re]=oe?Gr(B[re]):Oi(B[re]),te,ke,ae,ye,Ee,ge,oe),re++}}else if(re>Ce)for(;re<=K;)O(x[re],ae,ye,!0),re++;else{const Z=re,ke=re,Ve=new Map;for(re=ke;re<=Ce;re++){const P=B[re]=oe?Gr(B[re]):Oi(B[re]);P.key!=null&&Ve.set(P.key,re)}let Ke,rt=0;const ft=Ce-ke+1;let ie=!1,Pe=0;const we=new Array(ft);for(re=0;re<ft;re++)we[re]=0;for(re=Z;re<=K;re++){const P=x[re];if(rt>=ft){O(P,ae,ye,!0);continue}let Se;if(P.key!=null)Se=Ve.get(P.key);else for(Ke=ke;Ke<=Ce;Ke++)if(we[Ke-ke]===0&&ms(P,B[Ke])){Se=Ke;break}Se===void 0?O(P,ae,ye,!0):(we[Se-ke]=re+1,Se>=Pe?Pe=Se:ie=!0,m(P,B[Se],te,null,ae,ye,Ee,ge,oe),rt++)}const Ie=ie?J4(we):rl;for(Ke=Ie.length-1,re=ft-1;re>=0;re--){const P=ke+re,Se=B[P],Qe=P+1<j?B[P+1].el:ue;we[re]===0?m(null,Se,te,Qe,ae,ye,Ee,ge,oe):ie&&(Ke<0||re!==Ie[Ke]?pe(Se,te,Qe,2):Ke--)}}},pe=(x,B,te,ue,ae=null)=>{const{el:ye,type:Ee,transition:ge,children:oe,shapeFlag:re}=x;if(re&6){pe(x.component.subTree,B,te,ue);return}if(re&128){x.suspense.move(B,te,ue);return}if(re&64){Ee.move(x,B,te,Ue);return}if(Ee===Ze){i(ye,B,te);for(let K=0;K<oe.length;K++)pe(oe[K],B,te,ue);i(x.anchor,B,te);return}if(Ee===Ko){C(x,B,te);return}if(ue!==2&&re&1&&ge)if(ue===0)ge.beforeEnter(ye),i(ye,B,te),Vn(()=>ge.enter(ye),ae);else{const{leave:K,delayLeave:Ce,afterLeave:Z}=ge,ke=()=>i(ye,B,te),Ve=()=>{K(ye,()=>{ke(),Z&&Z()})};Ce?Ce(ye,ke,Ve):Ve()}else i(ye,B,te)},O=(x,B,te,ue=!1,ae=!1)=>{const{type:ye,props:Ee,ref:ge,children:oe,dynamicChildren:re,shapeFlag:j,patchFlag:K,dirs:Ce}=x;if(ge!=null&&Cf(ge,null,te,x,!0),j&256){B.ctx.deactivate(x);return}const Z=j&1&&Ce,ke=!qo(x);let Ve;if(ke&&(Ve=Ee&&Ee.onVnodeBeforeUnmount)&&bi(Ve,B,x),j&6)be(x.component,te,ue);else{if(j&128){x.suspense.unmount(te,ue);return}Z&&Ds(x,null,B,"beforeUnmount"),j&64?x.type.remove(x,B,te,ae,Ue,ue):re&&(ye!==Ze||K>0&&K&64)?Ae(re,B,te,!1,!0):(ye===Ze&&K&384||!ae&&j&16)&&Ae(oe,B,te),ue&&F(x)}(ke&&(Ve=Ee&&Ee.onVnodeUnmounted)||Z)&&Vn(()=>{Ve&&bi(Ve,B,x),Z&&Ds(x,null,B,"unmounted")},te)},F=x=>{const{type:B,el:te,anchor:ue,transition:ae}=x;if(B===Ze){ce(te,ue);return}if(B===Ko){_(x);return}const ye=()=>{s(te),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(x.shapeFlag&1&&ae&&!ae.persisted){const{leave:Ee,delayLeave:ge}=ae,oe=()=>Ee(te,ye);ge?ge(x.el,ye,oe):oe()}else ye()},ce=(x,B)=>{let te;for(;x!==B;)te=f(x),s(x),x=te;s(B)},be=(x,B,te)=>{const{bum:ue,scope:ae,update:ye,subTree:Ee,um:ge}=x;ue&&al(ue),ae.stop(),ye&&(ye.active=!1,O(Ee,x,B,te)),ge&&Vn(ge,B),Vn(()=>{x.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},Ae=(x,B,te,ue=!1,ae=!1,ye=0)=>{for(let Ee=ye;Ee<x.length;Ee++)O(x[Ee],B,te,ue,ae)},je=x=>x.shapeFlag&6?je(x.component.subTree):x.shapeFlag&128?x.suspense.next():f(x.anchor||x.el),Me=(x,B,te)=>{x==null?B._vnode&&O(B._vnode,null,null,!0):m(B._vnode||null,x,B,null,null,null,te),rw(),wf(),B._vnode=x},Ue={p:m,um:O,m:pe,r:F,mt:L,mc:S,pc:Q,pbc:R,n:je,o:n};let Be,Ge;return e&&([Be,Ge]=e(Ue)),{render:Me,hydrate:Be,createApp:H4(Me,Be)}}function Ao({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function lb(n,e,t=!1){const i=n.children,s=e.children;if(xe(i)&&xe(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Gr(s[r]),a.el=o.el),t||lb(o,a)),a.type===er&&(a.el=o.el)}}function J4(n){const e=n.slice(),t=[0];let i,s,r,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(s=t[t.length-1],n[s]<c){e[i]=s,t.push(i);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,n[t[a]]<c?r=a+1:o=a;c<n[t[r]]&&(r>0&&(e[i]=t[r-1]),t[r]=i)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}const X4=n=>n.__isTeleport,Rc=n=>n&&(n.disabled||n.disabled===""),vw=n=>typeof SVGElement<"u"&&n instanceof SVGElement,ig=(n,e)=>{const t=n&&n.to;return Tt(t)?e?e(t):null:t},Z4={__isTeleport:!0,process(n,e,t,i,s,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:b}}=c,v=Rc(e.props);let{shapeFlag:w,children:C,dynamicChildren:_}=e;if(n==null){const T=e.el=m(""),k=e.anchor=m("");h(T,t,i),h(k,t,i);const E=e.target=ig(e.props,p),S=e.targetAnchor=m("");E&&(h(S,E),o=o||vw(E));const I=(R,q)=>{w&16&&u(C,R,q,s,r,o,a,l)};v?I(t,k):E&&I(E,S)}else{e.el=n.el;const T=e.anchor=n.anchor,k=e.target=n.target,E=e.targetAnchor=n.targetAnchor,S=Rc(n.props),I=S?t:k,R=S?T:E;if(o=o||vw(k),_?(f(n.dynamicChildren,_,I,s,r,o,a),lb(n,e,!0)):l||d(n,e,I,R,s,r,o,a,!1),v)S||pd(e,t,T,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const q=e.target=ig(e.props,p);q&&pd(e,q,null,c,0)}else S&&pd(e,k,E,c,1)}CE(e)},remove(n,e,t,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:f}=n;if(d&&r(u),(o||!Rc(f))&&(r(c),a&16))for(let h=0;h<l.length;h++){const p=l[h];s(p,e,t,!0,!!p.dynamicChildren)}},move:pd,hydrate:eM};function pd(n,e,t,{o:{insert:i},m:s},r=2){r===0&&i(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=n,d=r===2;if(d&&i(o,e,t),(!d||Rc(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,t,2);d&&i(a,e,t)}function eM(n,e,t,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=ig(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Rc(e.props))e.anchor=c(o(n),e,a(n),t,i,s,r),e.targetAnchor=d;else{e.anchor=o(n);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(d,e,u,t,i,s,r)}CE(e)}return e.anchor&&o(e.anchor)}const _E=Z4;function CE(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const Ze=Symbol.for("v-fgt"),er=Symbol.for("v-txt"),zn=Symbol.for("v-cmt"),Ko=Symbol.for("v-stc"),Mc=[];let yi=null;function H(n=!1){Mc.push(yi=n?null:[])}function kE(){Mc.pop(),yi=Mc[Mc.length-1]||null}let oa=1;function sg(n){oa+=n}function SE(n){return n.dynamicChildren=oa>0?yi||rl:null,kE(),oa>0&&yi&&yi.push(n),n}function le(n,e,t,i,s,r){return SE(X(n,e,t,i,s,r,!0))}function ze(n,e,t,i,s){return SE(me(n,e,t,i,s,!0))}function lo(n){return n?n.__v_isVNode===!0:!1}function ms(n,e){return n.type===e.type&&n.key===e.key}function tM(n){}const mh="__vInternal",EE=({key:n})=>n??null,Yd=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Tt(n)||Bt(n)||We(n)?{i:Dn,r:n,k:e,f:!!t}:n:null);function X(n,e=null,t=null,i=0,s=null,r=n===Ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&EE(e),ref:e&&Yd(e),scopeId:dh,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Dn};return a?(cb(l,t),r&128&&n.normalize(l)):t&&(l.shapeFlag|=Tt(t)?8:16),oa>0&&!o&&yi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&yi.push(l),l}const me=nM;function nM(n,e=null,t=null,i=0,s=null,r=!1){if((!n||n===oE)&&(n=zn),lo(n)){const a=bs(n,e,!0);return t&&cb(a,t),oa>0&&!r&&yi&&(a.shapeFlag&6?yi[yi.indexOf(n)]=a:yi.push(a)),a.patchFlag|=-2,a}if(uM(n)&&(n=n.__vccOpts),e){e=TE(e);let{class:a,style:l}=e;a&&!Tt(a)&&(e.class=G(a)),gt(l)&&(qv(l)&&!xe(l)&&(l=jt({},l)),e.style=cn(l))}const o=Tt(n)?1:KS(n)?128:X4(n)?64:gt(n)?4:We(n)?2:0;return X(n,e,t,i,s,o,r,!0)}function TE(n){return n?qv(n)||mh in n?jt({},n):n:null}function bs(n,e,t=!1){const{props:i,ref:s,patchFlag:r,children:o}=n,a=e?Zi(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&EE(a),ref:e&&e.ref?t&&s?xe(s)?s.concat(Yd(e)):[s,Yd(e)]:Yd(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ze?r===-1?16:r|16:r,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&bs(n.ssContent),ssFallback:n.ssFallback&&bs(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function fn(n=" ",e=0){return me(er,null,n,e)}function iM(n,e){const t=me(Ko,null,n);return t.staticCount=e,t}function De(n="",e=!1){return e?(H(),ze(zn,null,n)):me(zn,null,n)}function Oi(n){return n==null||typeof n=="boolean"?me(zn):xe(n)?me(Ze,null,n.slice()):typeof n=="object"?Gr(n):me(er,null,String(n))}function Gr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:bs(n)}function cb(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(xe(e))t=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),cb(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!(mh in e)?e._ctx=Dn:s===3&&Dn&&(Dn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else We(e)?(e={default:e,_ctx:Dn},t=32):(e=String(e),i&64?(t=16,e=[fn(e)]):t=8);n.children=e,n.shapeFlag|=t}function Zi(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=G([e.class,i.class]));else if(s==="style")e.style=cn([e.style,i.style]);else if(Au(s)){const r=e[s],o=i[s];o&&r!==o&&!(xe(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function bi(n,e,t,i=null){Vi(n,e,7,[t,i])}const sM=fE();let rM=0;function AE(n,e,t){const i=n.type,s=(e?e.appContext:n.appContext)||sM,r={uid:rM++,vnode:n,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Uv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mE(i,s),emitsOptions:WS(i,s),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:i.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=t4.bind(null,r),n.ce&&n.ce(r),r}let yn=null;const Rt=()=>yn||Dn;let ub,Fa,bw="__VUE_INSTANCE_SETTERS__";(Fa=Kp()[bw])||(Fa=Kp()[bw]=[]),Fa.push(n=>yn=n),ub=n=>{Fa.length>1?Fa.forEach(e=>e(n)):Fa[0](n)};const co=n=>{ub(n),n.scope.on()},io=()=>{yn&&yn.scope.off(),ub(null)};function xE(n){return n.vnode.shapeFlag&4}let ml=!1;function PE(n,e=!1){ml=e;const{props:t,children:i}=n.vnode,s=xE(n);j4(n,t,s,e),G4(n,i);const r=s?oM(n,e):void 0;return ml=!1,r}function oM(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Yc(new Proxy(n.ctx,Zp));const{setup:i}=t;if(i){const s=n.setupContext=i.length>1?OE(n):null;co(n),zl();const r=_r(i,n,0,[n.props,s]);if(Hl(),io(),Bv(r)){if(r.then(io,io),e)return r.then(o=>{rg(n,o,e)}).catch(o=>{ga(o,n,0)});n.asyncDep=r}else rg(n,r,e)}else IE(n,e)}function rg(n,e,t){We(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:gt(e)&&(n.setupState=Qv(e)),IE(n,t)}let kf,og;function aM(n){kf=n,og=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,S4))}}const lM=()=>!kf;function IE(n,e,t){const i=n.type;if(!n.render){if(!e&&kf&&!i.render){const s=i.template||ob(n).template;if(s){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=jt(jt({isCustomElement:r,delimiters:a},o),l);i.render=kf(s,c)}}n.render=i.render||ei,og&&og(n)}co(n),zl(),L4(n),Hl(),io()}function cM(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return Si(n,"get","$attrs"),e[t]}}))}function OE(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return cM(n)},slots:n.slots,emit:n.emit,expose:e}}function ph(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Qv(Yc(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Oc)return Oc[t](n)},has(e,t){return t in e||t in Oc}}))}function ag(n,e=!0){return We(n)?n.displayName||n.name:n.name||e&&n.__name}function uM(n){return We(n)&&"__vccOpts"in n}const N=(n,e)=>QR(n,e,ml);function Je(n,e,t){const i=arguments.length;return i===2?gt(e)&&!xe(e)?lo(e)?me(n,null,[e]):me(n,e):me(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&lo(t)&&(t=[t]),me(n,e,t))}const RE=Symbol.for("v-scx"),ME=()=>st(RE);function dM(){}function fM(n,e,t,i){const s=t[i];if(s&&DE(s,n))return s;const r=e();return r.memo=n.slice(),t[i]=r}function DE(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(fl(t[i],e[i]))return!1;return oa>0&&yi&&yi.push(n),!0}const FE="3.3.4",hM={createComponentInstance:AE,setupComponent:PE,renderComponentRoot:Qd,setCurrentRenderingInstance:eu,isVNode:lo,normalizeVNode:Oi},mM=hM,pM=null,gM=null,vM="http://www.w3.org/2000/svg",Lo=typeof document<"u"?document:null,yw=Lo&&Lo.createElement("template"),bM={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const s=e?Lo.createElementNS(vM,n):Lo.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>Lo.createTextNode(n),createComment:n=>Lo.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Lo.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{yw.innerHTML=i?`<svg>${n}</svg>`:n;const a=yw.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function yM(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function wM(n,e,t){const i=n.style,s=Tt(t);if(t&&!s){if(e&&!Tt(e))for(const r in e)t[r]==null&&lg(i,r,"");for(const r in t)lg(i,r,t[r])}else{const r=i.display;s?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=r)}}const ww=/\s*!important$/;function lg(n,e,t){if(xe(t))t.forEach(i=>lg(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=_M(n,e);ww.test(t)?n.setProperty(Xi(i),t.replace(ww,""),"important"):n[i]=t}}const _w=["Webkit","Moz","ms"],Vm={};function _M(n,e){const t=Vm[e];if(t)return t;let i=di(e);if(i!=="filter"&&i in n)return Vm[e]=i;i=xu(i);for(let s=0;s<_w.length;s++){const r=_w[s]+i;if(r in n)return Vm[e]=r}return e}const Cw="http://www.w3.org/1999/xlink";function CM(n,e,t,i,s){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(Cw,e.slice(6,e.length)):n.setAttributeNS(Cw,e,t);else{const r=lR(e);t==null||r&&!wS(t)?n.removeAttribute(e):n.setAttribute(e,r?"":t)}}function kM(n,e,t,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),n[e]=t??"";return}const a=n.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){n._value=t;const c=a==="OPTION"?n.getAttribute("value"):n.value,u=t??"";c!==u&&(n.value=u),t==null&&n.removeAttribute(e);return}let l=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=wS(t):t==null&&c==="string"?(t="",l=!0):c==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function yr(n,e,t,i){n.addEventListener(e,t,i)}function SM(n,e,t,i){n.removeEventListener(e,t,i)}function EM(n,e,t,i,s=null){const r=n._vei||(n._vei={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=TM(e);if(i){const c=r[e]=PM(i,s);yr(n,a,c,l)}else o&&(SM(n,a,o,l),r[e]=void 0)}}const kw=/(?:Once|Passive|Capture)$/;function TM(n){let e;if(kw.test(n)){e={};let i;for(;i=n.match(kw);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Xi(n.slice(2)),e]}let Um=0;const AM=Promise.resolve(),xM=()=>Um||(AM.then(()=>Um=0),Um=Date.now());function PM(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Vi(IM(i,t.value),e,5,[i])};return t.value=n,t.attached=xM(),t}function IM(n,e){if(xe(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Sw=/^on[a-z]/,OM=(n,e,t,i,s=!1,r,o,a,l)=>{e==="class"?yM(n,i,s):e==="style"?wM(n,t,i):Au(e)?Lv(e)||EM(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):RM(n,e,i,s))?kM(n,e,i,r,o,a,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),CM(n,e,i,s))};function RM(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&Sw.test(e)&&We(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||Sw.test(e)&&Tt(t)?!1:e in n}function NE(n,e){const t=Re(n);class i extends gh{constructor(r){super(t,r,e)}}return i.def=t,i}const MM=n=>NE(n,JE),DM=typeof HTMLElement<"u"?HTMLElement:class{};class gh extends DM{constructor(e,t={},i){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,ct(()=>{this._connected||(dg(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const e=(i,s=!1)=>{const{props:r,styles:o}=i;let a;if(r&&!xe(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=bf(this._props[l])),(a||(a=Object.create(null)))[di(l)]=!0)}this._numberProps=a,s&&this._resolveProps(i),this._applyStyles(o),this._update()},t=this._def.__asyncLoader;t?t().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:t}=e,i=xe(t)?t:Object.keys(t||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(di))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(r){this._setProp(s,r)}})}_setAttr(e){let t=this.getAttribute(e);const i=di(e);this._numberProps&&this._numberProps[i]&&(t=bf(t)),this._setProp(i,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,i=!0,s=!0){t!==this._props[e]&&(this._props[e]=t,s&&this._instance&&this._update(),i&&(t===!0?this.setAttribute(Xi(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Xi(e),t+""):t||this.removeAttribute(Xi(e))))}_update(){dg(this._createVNode(),this.shadowRoot)}_createVNode(){const e=me(this._def,jt({},this._props));return this._instance||(e.ce=t=>{this._instance=t,t.isCE=!0;const i=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};t.emit=(r,...o)=>{i(r,o),Xi(r)!==r&&i(Xi(r),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof gh){t.parent=s._instance,t.provides=s._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(t=>{const i=document.createElement("style");i.textContent=t,this.shadowRoot.appendChild(i)})}}function FM(n="$style"){{const e=Rt();if(!e)return Ft;const t=e.type.__cssModules;if(!t)return Ft;const i=t[n];return i||Ft}}function NM(n){const e=Rt();if(!e)return;const t=e.ut=(s=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>ug(r,s))},i=()=>{const s=n(e.proxy);cg(e.subTree,s),t(s)};QS(i),mn(()=>{const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),jl(()=>s.disconnect())})}function cg(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{cg(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)ug(n.el,e);else if(n.type===Ze)n.children.forEach(t=>cg(t,e));else if(n.type===Ko){let{el:t,anchor:i}=n;for(;t&&(ug(t,e),t!==i);)t=t.nextSibling}}function ug(n,e){if(n.nodeType===1){const t=n.style;for(const i in e)t.setProperty(`--${i}`,e[i])}}const Br="transition",uc="animation",ys=(n,{slots:e})=>Je(JS,$E(n),e);ys.displayName="Transition";const LE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},LM=ys.props=jt({},tb,LE),xo=(n,e=[])=>{xe(n)?n.forEach(t=>t(...e)):n&&n(...e)},Ew=n=>n?xe(n)?n.some(e=>e.length>1):n.length>1:!1;function $E(n){const e={};for(const W in n)W in LE||(e[W]=n[W]);if(n.css===!1)return e;const{name:t="v",type:i,duration:s,enterFromClass:r=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,p=$M(s),m=p&&p[0],b=p&&p[1],{onBeforeEnter:v,onEnter:w,onEnterCancelled:C,onLeave:_,onLeaveCancelled:T,onBeforeAppear:k=v,onAppear:E=w,onAppearCancelled:S=C}=e,I=(W,z,L)=>{Hr(W,z?u:a),Hr(W,z?c:o),L&&L()},R=(W,z)=>{W._isLeaving=!1,Hr(W,d),Hr(W,h),Hr(W,f),z&&z()},q=W=>(z,L)=>{const J=W?E:w,ne=()=>I(z,W,L);xo(J,[z,ne]),Tw(()=>{Hr(z,W?l:r),fr(z,W?u:a),Ew(J)||Aw(z,i,m,ne)})};return jt(e,{onBeforeEnter(W){xo(v,[W]),fr(W,r),fr(W,o)},onBeforeAppear(W){xo(k,[W]),fr(W,l),fr(W,c)},onEnter:q(!1),onAppear:q(!0),onLeave(W,z){W._isLeaving=!0;const L=()=>R(W,z);fr(W,d),VE(),fr(W,f),Tw(()=>{W._isLeaving&&(Hr(W,d),fr(W,h),Ew(_)||Aw(W,i,b,L))}),xo(_,[W,L])},onEnterCancelled(W){I(W,!1),xo(C,[W])},onAppearCancelled(W){I(W,!0),xo(S,[W])},onLeaveCancelled(W){R(W),xo(T,[W])}})}function $M(n){if(n==null)return null;if(gt(n))return[zm(n.enter),zm(n.leave)];{const e=zm(n);return[e,e]}}function zm(n){return bf(n)}function fr(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function Hr(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function Tw(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let BM=0;function Aw(n,e,t,i){const s=n._endId=++BM,r=()=>{s===n._endId&&i()};if(t)return setTimeout(r,t);const{type:o,timeout:a,propCount:l}=BE(n,e);if(!o)return i();const c=o+"end";let u=0;const d=()=>{n.removeEventListener(c,f),r()},f=h=>{h.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),n.addEventListener(c,f)}function BE(n,e){const t=window.getComputedStyle(n),i=p=>(t[p]||"").split(", "),s=i(`${Br}Delay`),r=i(`${Br}Duration`),o=xw(s,r),a=i(`${uc}Delay`),l=i(`${uc}Duration`),c=xw(a,l);let u=null,d=0,f=0;e===Br?o>0&&(u=Br,d=o,f=r.length):e===uc?c>0&&(u=uc,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Br:uc:null,f=u?u===Br?r.length:l.length:0);const h=u===Br&&/\b(transform|all)(,|$)/.test(i(`${Br}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function xw(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>Pw(t)+Pw(n[i])))}function Pw(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function VE(){return document.body.offsetHeight}const UE=new WeakMap,zE=new WeakMap,HE={name:"TransitionGroup",props:jt({},LM,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=Rt(),i=eb();let s,r;return Mu(()=>{if(!s.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!jM(s[0].el,t.vnode.el,o))return;s.forEach(zM),s.forEach(HM);const a=s.filter(WM);VE(),a.forEach(l=>{const c=l.el,u=c.style;fr(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,Hr(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=ut(n),a=$E(o);let l=o.tag||Ze;s=r,r=e.default?fh(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&ra(u,hl(u,a,i,t))}if(s)for(let c=0;c<s.length;c++){const u=s[c];ra(u,hl(u,a,i,t)),UE.set(u,u.el.getBoundingClientRect())}return me(l,null,r)}}},VM=n=>delete n.mode;HE.props;const UM=HE;function zM(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function HM(n){zE.set(n,n.el.getBoundingClientRect())}function WM(n){const e=UE.get(n),t=zE.get(n),i=e.left-t.left,s=e.top-t.top;if(i||s){const r=n.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",n}}function jM(n,e,t){const i=n.cloneNode();n._vtc&&n._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),t.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:r}=BE(i);return s.removeChild(i),r}const uo=n=>{const e=n.props["onUpdate:modelValue"]||!1;return xe(e)?t=>al(e,t):e};function qM(n){n.target.composing=!0}function Iw(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const su={created(n,{modifiers:{lazy:e,trim:t,number:i}},s){n._assign=uo(s);const r=i||s.props&&s.props.type==="number";yr(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),r&&(a=vf(a)),n._assign(a)}),t&&yr(n,"change",()=>{n.value=n.value.trim()}),e||(yr(n,"compositionstart",qM),yr(n,"compositionend",Iw),yr(n,"change",Iw))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:s}},r){if(n._assign=uo(r),n.composing||document.activeElement===n&&n.type!=="range"&&(t||i&&n.value.trim()===e||(s||n.type==="number")&&vf(n.value)===e))return;const o=e??"";n.value!==o&&(n.value=o)}},aa={deep:!0,created(n,e,t){n._assign=uo(t),yr(n,"change",()=>{const i=n._modelValue,s=pl(n),r=n.checked,o=n._assign;if(xe(i)){const a=ih(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(pa(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(jE(n,r))})},mounted:Ow,beforeUpdate(n,e,t){n._assign=uo(t),Ow(n,e,t)}};function Ow(n,{value:e,oldValue:t},i){n._modelValue=e,xe(e)?n.checked=ih(e,i.props.value)>-1:pa(e)?n.checked=e.has(i.props.value):e!==t&&(n.checked=oo(e,jE(n,!0)))}const db={created(n,{value:e},t){n.checked=oo(e,t.props.value),n._assign=uo(t),yr(n,"change",()=>{n._assign(pl(n))})},beforeUpdate(n,{value:e,oldValue:t},i){n._assign=uo(i),e!==t&&(n.checked=oo(e,i.props.value))}},WE={deep:!0,created(n,{value:e,modifiers:{number:t}},i){const s=pa(e);yr(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?vf(pl(o)):pl(o));n._assign(n.multiple?s?new Set(r):r:r[0])}),n._assign=uo(i)},mounted(n,{value:e}){Rw(n,e)},beforeUpdate(n,e,t){n._assign=uo(t)},updated(n,{value:e}){Rw(n,e)}};function Rw(n,e){const t=n.multiple;if(!(t&&!xe(e)&&!pa(e))){for(let i=0,s=n.options.length;i<s;i++){const r=n.options[i],o=pl(r);if(t)xe(e)?r.selected=ih(e,o)>-1:r.selected=e.has(o);else if(oo(pl(r),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function pl(n){return"_value"in n?n._value:n.value}function jE(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const qE={created(n,e,t){gd(n,e,t,null,"created")},mounted(n,e,t){gd(n,e,t,null,"mounted")},beforeUpdate(n,e,t,i){gd(n,e,t,i,"beforeUpdate")},updated(n,e,t,i){gd(n,e,t,i,"updated")}};function KE(n,e){switch(n){case"SELECT":return WE;case"TEXTAREA":return su;default:switch(e){case"checkbox":return aa;case"radio":return db;default:return su}}}function gd(n,e,t,i,s){const o=KE(n.tagName,t.props&&t.props.type)[s];o&&o(n,e,t,i)}function KM(){su.getSSRProps=({value:n})=>({value:n}),db.getSSRProps=({value:n},e)=>{if(e.props&&oo(e.props.value,n))return{checked:!0}},aa.getSSRProps=({value:n},e)=>{if(xe(n)){if(e.props&&ih(n,e.props.value)>-1)return{checked:!0}}else if(pa(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},qE.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const t=KE(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}const GM=["ctrl","shift","alt","meta"],QM={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>GM.some(t=>n[`${t}Key`]&&!e.includes(t))},ln=(n,e)=>(t,...i)=>{for(let s=0;s<e.length;s++){const r=QM[e[s]];if(r&&r(t,e))return}return n(t,...i)},YM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},In=(n,e)=>t=>{if(!("key"in t))return;const i=Xi(t.key);if(e.some(s=>s===i||YM[s]===i))return n(t)},li={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):dc(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),dc(n,!0),i.enter(n)):i.leave(n,()=>{dc(n,!1)}):dc(n,e))},beforeUnmount(n,{value:e}){dc(n,e)}};function dc(n,e){n.style.display=e?n._vod:"none"}function JM(){li.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const GE=jt({patchProp:OM},bM);let Dc,Mw=!1;function QE(){return Dc||(Dc=bE(GE))}function YE(){return Dc=Mw?Dc:yE(GE),Mw=!0,Dc}const dg=(...n)=>{QE().render(...n)},JE=(...n)=>{YE().hydrate(...n)},XE=(...n)=>{const e=QE().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=eT(i);if(!s)return;const r=e._component;!We(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=t(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},ZE=(...n)=>{const e=YE().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=eT(i);if(s)return t(s,!0,s instanceof SVGElement)},e};function eT(n){return Tt(n)?document.querySelector(n):n}let Dw=!1;const XM=()=>{Dw||(Dw=!0,KM(),JM())},ZM=()=>{},eD=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:JS,BaseTransitionPropsValidators:tb,Comment:zn,EffectScope:Uv,Fragment:Ze,KeepAlive:w4,ReactiveEffect:Pu,Static:Ko,Suspense:l4,Teleport:_E,Text:er,Transition:ys,TransitionGroup:UM,VueElement:gh,assertNumber:YR,callWithAsyncErrorHandling:Vi,callWithErrorHandling:_r,camelize:di,capitalize:xu,cloneVNode:bs,compatUtils:gM,compile:ZM,computed:N,createApp:XE,createBlock:ze,createCommentVNode:De,createElementBlock:le,createElementVNode:X,createHydrationRenderer:yE,createPropsRestProxy:F4,createRenderer:bE,createSSRApp:ZE,createSlots:lE,createStaticVNode:iM,createTextVNode:fn,createVNode:me,customRef:jR,defineAsyncComponent:b4,defineComponent:Re,defineCustomElement:NE,defineEmits:T4,defineExpose:A4,defineModel:I4,defineOptions:x4,defineProps:E4,defineSSRCustomElement:MM,defineSlots:P4,get devtools(){return qa},effect:fR,effectScope:CS,getCurrentInstance:Rt,getCurrentScope:zv,getTransitionRawChildren:fh,guardReactiveProps:TE,h:Je,handleError:ga,hasInjectionContext:W4,hydrate:JE,initCustomFormatter:dM,initDirectivesForSSR:XM,inject:st,isMemoSame:DE,isProxy:qv,isReactive:jo,isReadonly:sa,isRef:Bt,isRuntimeOnly:lM,isShallow:Qc,isVNode:lo,markRaw:Yc,mergeDefaults:M4,mergeModels:D4,mergeProps:Zi,nextTick:ct,normalizeClass:G,normalizeProps:oR,normalizeStyle:cn,onActivated:ZS,onBeforeMount:ib,onBeforeUnmount:Ei,onBeforeUpdate:tE,onDeactivated:nb,onErrorCaptured:rE,onMounted:mn,onRenderTracked:sE,onRenderTriggered:iE,onScopeDispose:Hv,onServerPrefetch:nE,onUnmounted:jl,onUpdated:Mu,openBlock:H,popScopeId:qS,provide:Sn,proxyRefs:Qv,pushScopeId:jS,queuePostFlushCb:Jv,reactive:qi,readonly:Iu,ref:se,registerRuntimeCompiler:aM,render:dg,renderList:dn,renderSlot:dt,resolveComponent:Ms,resolveDirective:aE,resolveDynamicComponent:Fn,resolveFilter:pM,resolveTransitionHooks:hl,setBlockTracking:sg,setDevtoolsHook:HS,setTransitionHooks:ra,shallowReactive:NS,shallowReadonly:VR,shallowRef:wr,ssrContextKey:RE,ssrUtils:mM,stop:hR,toDisplayString:Oe,toHandlerKey:Ic,toHandlers:k4,toRaw:ut,toRef:Mn,toRefs:Wl,toValue:zR,transformVNodeArgs:tM,triggerRef:ja,unref:g,useAttrs:Du,useCssModule:FM,useCssVars:NM,useModel:R4,useSSRContext:ME,useSlots:va,useTransitionState:eb,vModelCheckbox:aa,vModelDynamic:qE,vModelRadio:db,vModelSelect:WE,vModelText:su,vShow:li,version:FE,warn:BS,watch:$e,watchEffect:m4,watchPostEffect:QS,watchSyncEffect:p4,withAsyncContext:N4,withCtx:Te,withDefaults:O4,withDirectives:Wt,withKeys:In,withMemo:fM,withModifiers:ln,withScopeId:n4},Symbol.toStringTag,{value:"Module"}));var Fw;const ti=typeof window<"u",tD=n=>typeof n=="string",tT=()=>{},nT=ti&&((Fw=window==null?void 0:window.navigator)==null?void 0:Fw.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function iT(n){return typeof n=="function"?n():g(n)}function nD(n){return n}function fb(n){return zv()?(Hv(n),!0):!1}function iD(n,e=!0){Rt()?mn(n):e?n():ct(n)}function Zr(n){var e;const t=iT(n);return(e=t==null?void 0:t.$el)!=null?e:t}const hb=ti?window:void 0;function Go(...n){let e,t,i,s;if(tD(n[0])||Array.isArray(n[0])?([t,i,s]=n,e=hb):[e,t,i,s]=n,!e)return tT;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=$e(()=>[Zr(e),iT(s)],([u,d])=>{o(),u&&r.push(...t.flatMap(f=>i.map(h=>a(u,f,h,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return fb(c),c}let Nw=!1;function sT(n,e,t={}){const{window:i=hb,ignore:s=[],capture:r=!0,detectIframe:o=!1}=t;if(!i)return;nT&&!Nw&&(Nw=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",tT)));let a=!0;const l=f=>s.some(h=>{if(typeof h=="string")return Array.from(i.document.querySelectorAll(h)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Zr(h);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[Go(i,"click",f=>{const h=Zr(n);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:r}),Go(i,"pointerdown",f=>{const h=Zr(n);h&&(a=!f.composedPath().includes(h)&&!l(f))},{passive:!0}),o&&Go(i,"blur",f=>{var h;const p=Zr(n);((h=i.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function sD(n,e=!1){const t=se(),i=()=>t.value=!!n();return i(),iD(i,e),t}const Lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$w="__vueuse_ssr_handlers__";Lw[$w]=Lw[$w]||{};var Bw=Object.getOwnPropertySymbols,rD=Object.prototype.hasOwnProperty,oD=Object.prototype.propertyIsEnumerable,aD=(n,e)=>{var t={};for(var i in n)rD.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Bw)for(var i of Bw(n))e.indexOf(i)<0&&oD.call(n,i)&&(t[i]=n[i]);return t};function vh(n,e,t={}){const i=t,{window:s=hb}=i,r=aD(i,["window"]);let o;const a=sD(()=>s&&"ResizeObserver"in s),l=()=>{o&&(o.disconnect(),o=void 0)},c=$e(()=>Zr(n),d=>{l(),a.value&&s&&d&&(o=new ResizeObserver(e),o.observe(d,r))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return fb(u),{isSupported:a,stop:u}}var Vw;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Vw||(Vw={}));var lD=Object.defineProperty,Uw=Object.getOwnPropertySymbols,cD=Object.prototype.hasOwnProperty,uD=Object.prototype.propertyIsEnumerable,zw=(n,e,t)=>e in n?lD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dD=(n,e)=>{for(var t in e||(e={}))cD.call(e,t)&&zw(n,t,e[t]);if(Uw)for(var t of Uw(e))uD.call(e,t)&&zw(n,t,e[t]);return n};const fD={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};dD({linear:nD},fD);const hD=()=>ti&&/firefox/i.test(window.navigator.userAgent);var mD=typeof global=="object"&&global&&global.Object===Object&&global;const rT=mD;var pD=typeof self=="object"&&self&&self.Object===Object&&self,gD=rT||pD||Function("return this")();const Cs=gD;var vD=Cs.Symbol;const is=vD;var oT=Object.prototype,bD=oT.hasOwnProperty,yD=oT.toString,fc=is?is.toStringTag:void 0;function wD(n){var e=bD.call(n,fc),t=n[fc];try{n[fc]=void 0;var i=!0}catch{}var s=yD.call(n);return i&&(e?n[fc]=t:delete n[fc]),s}var _D=Object.prototype,CD=_D.toString;function kD(n){return CD.call(n)}var SD="[object Null]",ED="[object Undefined]",Hw=is?is.toStringTag:void 0;function po(n){return n==null?n===void 0?ED:SD:Hw&&Hw in Object(n)?wD(n):kD(n)}function ss(n){return n!=null&&typeof n=="object"}var TD="[object Symbol]";function bh(n){return typeof n=="symbol"||ss(n)&&po(n)==TD}function AD(n,e){for(var t=-1,i=n==null?0:n.length,s=Array(i);++t<i;)s[t]=e(n[t],t,n);return s}var xD=Array.isArray;const Un=xD;var PD=1/0,Ww=is?is.prototype:void 0,jw=Ww?Ww.toString:void 0;function aT(n){if(typeof n=="string")return n;if(Un(n))return AD(n,aT)+"";if(bh(n))return jw?jw.call(n):"";var e=n+"";return e=="0"&&1/n==-PD?"-0":e}var ID=/\s/;function OD(n){for(var e=n.length;e--&&ID.test(n.charAt(e)););return e}var RD=/^\s+/;function MD(n){return n&&n.slice(0,OD(n)+1).replace(RD,"")}function Xt(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var qw=0/0,DD=/^[-+]0x[0-9a-f]+$/i,FD=/^0b[01]+$/i,ND=/^0o[0-7]+$/i,LD=parseInt;function Kw(n){if(typeof n=="number")return n;if(bh(n))return qw;if(Xt(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Xt(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=MD(n);var t=FD.test(n);return t||ND.test(n)?LD(n.slice(2),t?2:8):DD.test(n)?qw:+n}function $o(n){return n}var $D="[object AsyncFunction]",BD="[object Function]",VD="[object GeneratorFunction]",UD="[object Proxy]";function la(n){if(!Xt(n))return!1;var e=po(n);return e==BD||e==VD||e==$D||e==UD}var zD=Cs["__core-js_shared__"];const Hm=zD;var Gw=function(){var n=/[^.]+$/.exec(Hm&&Hm.keys&&Hm.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function HD(n){return!!Gw&&Gw in n}var WD=Function.prototype,jD=WD.toString;function ba(n){if(n!=null){try{return jD.call(n)}catch{}try{return n+""}catch{}}return""}var qD=/[\\^$.*+?()[\]{}|]/g,KD=/^\[object .+?Constructor\]$/,GD=Function.prototype,QD=Object.prototype,YD=GD.toString,JD=QD.hasOwnProperty,XD=RegExp("^"+YD.call(JD).replace(qD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZD(n){if(!Xt(n)||HD(n))return!1;var e=la(n)?XD:KD;return e.test(ba(n))}function e3(n,e){return n==null?void 0:n[e]}function ya(n,e){var t=e3(n,e);return ZD(t)?t:void 0}var t3=ya(Cs,"WeakMap");const fg=t3;var Qw=Object.create,n3=function(){function n(){}return function(e){if(!Xt(e))return{};if(Qw)return Qw(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const i3=n3;function s3(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function lT(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var r3=800,o3=16,a3=Date.now;function l3(n){var e=0,t=0;return function(){var i=a3(),s=o3-(i-t);if(t=i,s>0){if(++e>=r3)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function c3(n){return function(){return n}}var u3=function(){try{var n=ya(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Sf=u3;var d3=Sf?function(n,e){return Sf(n,"toString",{configurable:!0,enumerable:!1,value:c3(e),writable:!0})}:$o;const f3=d3;var h3=l3(f3);const cT=h3;function m3(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var p3=9007199254740991,g3=/^(?:0|[1-9]\d*)$/;function yh(n,e){var t=typeof n;return e=e??p3,!!e&&(t=="number"||t!="symbol"&&g3.test(n))&&n>-1&&n%1==0&&n<e}function mb(n,e,t){e=="__proto__"&&Sf?Sf(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Fu(n,e){return n===e||n!==n&&e!==e}var v3=Object.prototype,b3=v3.hasOwnProperty;function pb(n,e,t){var i=n[e];(!(b3.call(n,e)&&Fu(i,t))||t===void 0&&!(e in n))&&mb(n,e,t)}function ql(n,e,t,i){var s=!t;t||(t={});for(var r=-1,o=e.length;++r<o;){var a=e[r],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),s?mb(t,a,l):pb(t,a,l)}return t}var Yw=Math.max;function uT(n,e,t){return e=Yw(e===void 0?n.length-1:e,0),function(){for(var i=arguments,s=-1,r=Yw(i.length-e,0),o=Array(r);++s<r;)o[s]=i[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=i[s];return a[e]=t(o),s3(n,this,a)}}function y3(n,e){return cT(uT(n,e,$o),n+"")}var w3=9007199254740991;function gb(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=w3}function wh(n){return n!=null&&gb(n.length)&&!la(n)}function _3(n,e,t){if(!Xt(t))return!1;var i=typeof e;return(i=="number"?wh(t)&&yh(e,t.length):i=="string"&&e in t)?Fu(t[e],n):!1}function dT(n){return y3(function(e,t){var i=-1,s=t.length,r=s>1?t[s-1]:void 0,o=s>2?t[2]:void 0;for(r=n.length>3&&typeof r=="function"?(s--,r):void 0,o&&_3(t[0],t[1],o)&&(r=s<3?void 0:r,s=1),e=Object(e);++i<s;){var a=t[i];a&&n(e,a,i,r)}return e})}var C3=Object.prototype;function vb(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||C3;return n===t}function k3(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var S3="[object Arguments]";function Jw(n){return ss(n)&&po(n)==S3}var fT=Object.prototype,E3=fT.hasOwnProperty,T3=fT.propertyIsEnumerable,A3=Jw(function(){return arguments}())?Jw:function(n){return ss(n)&&E3.call(n,"callee")&&!T3.call(n,"callee")};const ru=A3;function x3(){return!1}var hT=typeof $i=="object"&&$i&&!$i.nodeType&&$i,Xw=hT&&typeof Bi=="object"&&Bi&&!Bi.nodeType&&Bi,P3=Xw&&Xw.exports===hT,Zw=P3?Cs.Buffer:void 0,I3=Zw?Zw.isBuffer:void 0,O3=I3||x3;const ou=O3;var R3="[object Arguments]",M3="[object Array]",D3="[object Boolean]",F3="[object Date]",N3="[object Error]",L3="[object Function]",$3="[object Map]",B3="[object Number]",V3="[object Object]",U3="[object RegExp]",z3="[object Set]",H3="[object String]",W3="[object WeakMap]",j3="[object ArrayBuffer]",q3="[object DataView]",K3="[object Float32Array]",G3="[object Float64Array]",Q3="[object Int8Array]",Y3="[object Int16Array]",J3="[object Int32Array]",X3="[object Uint8Array]",Z3="[object Uint8ClampedArray]",e5="[object Uint16Array]",t5="[object Uint32Array]",qt={};qt[K3]=qt[G3]=qt[Q3]=qt[Y3]=qt[J3]=qt[X3]=qt[Z3]=qt[e5]=qt[t5]=!0;qt[R3]=qt[M3]=qt[j3]=qt[D3]=qt[q3]=qt[F3]=qt[N3]=qt[L3]=qt[$3]=qt[B3]=qt[V3]=qt[U3]=qt[z3]=qt[H3]=qt[W3]=!1;function n5(n){return ss(n)&&gb(n.length)&&!!qt[po(n)]}function bb(n){return function(e){return n(e)}}var mT=typeof $i=="object"&&$i&&!$i.nodeType&&$i,Fc=mT&&typeof Bi=="object"&&Bi&&!Bi.nodeType&&Bi,i5=Fc&&Fc.exports===mT,Wm=i5&&rT.process,s5=function(){try{var n=Fc&&Fc.require&&Fc.require("util").types;return n||Wm&&Wm.binding&&Wm.binding("util")}catch{}}();const gl=s5;var e0=gl&&gl.isTypedArray,r5=e0?bb(e0):n5;const yb=r5;var o5=Object.prototype,a5=o5.hasOwnProperty;function pT(n,e){var t=Un(n),i=!t&&ru(n),s=!t&&!i&&ou(n),r=!t&&!i&&!s&&yb(n),o=t||i||s||r,a=o?k3(n.length,String):[],l=a.length;for(var c in n)(e||a5.call(n,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||yh(c,l)))&&a.push(c);return a}function gT(n,e){return function(t){return n(e(t))}}var l5=gT(Object.keys,Object);const c5=l5;var u5=Object.prototype,d5=u5.hasOwnProperty;function f5(n){if(!vb(n))return c5(n);var e=[];for(var t in Object(n))d5.call(n,t)&&t!="constructor"&&e.push(t);return e}function wb(n){return wh(n)?pT(n):f5(n)}function h5(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var m5=Object.prototype,p5=m5.hasOwnProperty;function g5(n){if(!Xt(n))return h5(n);var e=vb(n),t=[];for(var i in n)i=="constructor"&&(e||!p5.call(n,i))||t.push(i);return t}function Kl(n){return wh(n)?pT(n,!0):g5(n)}var v5=dT(function(n,e){ql(e,Kl(e),n)});const vT=v5;var b5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y5=/^\w*$/;function w5(n,e){if(Un(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||bh(n)?!0:y5.test(n)||!b5.test(n)||e!=null&&n in Object(e)}var _5=ya(Object,"create");const au=_5;function C5(){this.__data__=au?au(null):{},this.size=0}function k5(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var S5="__lodash_hash_undefined__",E5=Object.prototype,T5=E5.hasOwnProperty;function A5(n){var e=this.__data__;if(au){var t=e[n];return t===S5?void 0:t}return T5.call(e,n)?e[n]:void 0}var x5=Object.prototype,P5=x5.hasOwnProperty;function I5(n){var e=this.__data__;return au?e[n]!==void 0:P5.call(e,n)}var O5="__lodash_hash_undefined__";function R5(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=au&&e===void 0?O5:e,this}function ca(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}ca.prototype.clear=C5;ca.prototype.delete=k5;ca.prototype.get=A5;ca.prototype.has=I5;ca.prototype.set=R5;function M5(){this.__data__=[],this.size=0}function _h(n,e){for(var t=n.length;t--;)if(Fu(n[t][0],e))return t;return-1}var D5=Array.prototype,F5=D5.splice;function N5(n){var e=this.__data__,t=_h(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():F5.call(e,t,1),--this.size,!0}function L5(n){var e=this.__data__,t=_h(e,n);return t<0?void 0:e[t][1]}function $5(n){return _h(this.__data__,n)>-1}function B5(n,e){var t=this.__data__,i=_h(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Rr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Rr.prototype.clear=M5;Rr.prototype.delete=N5;Rr.prototype.get=L5;Rr.prototype.has=$5;Rr.prototype.set=B5;var V5=ya(Cs,"Map");const lu=V5;function U5(){this.size=0,this.__data__={hash:new ca,map:new(lu||Rr),string:new ca}}function z5(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Ch(n,e){var t=n.__data__;return z5(e)?t[typeof e=="string"?"string":"hash"]:t.map}function H5(n){var e=Ch(this,n).delete(n);return this.size-=e?1:0,e}function W5(n){return Ch(this,n).get(n)}function j5(n){return Ch(this,n).has(n)}function q5(n,e){var t=Ch(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Mr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Mr.prototype.clear=U5;Mr.prototype.delete=H5;Mr.prototype.get=W5;Mr.prototype.has=j5;Mr.prototype.set=q5;var K5="Expected a function";function _b(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(K5);var t=function(){var i=arguments,s=e?e.apply(this,i):i[0],r=t.cache;if(r.has(s))return r.get(s);var o=n.apply(this,i);return t.cache=r.set(s,o)||r,o};return t.cache=new(_b.Cache||Mr),t}_b.Cache=Mr;var G5=500;function Q5(n){var e=_b(n,function(i){return t.size===G5&&t.clear(),i}),t=e.cache;return e}var Y5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J5=/\\(\\)?/g,X5=Q5(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Y5,function(t,i,s,r){e.push(s?r.replace(J5,"$1"):i||t)}),e});const Z5=X5;function bT(n){return n==null?"":aT(n)}function Nu(n,e){return Un(n)?n:w5(n,e)?[n]:Z5(bT(n))}var eF=1/0;function kh(n){if(typeof n=="string"||bh(n))return n;var e=n+"";return e=="0"&&1/n==-eF?"-0":e}function Cb(n,e){e=Nu(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[kh(e[t++])];return t&&t==i?n:void 0}function Yn(n,e,t){var i=n==null?void 0:Cb(n,e);return i===void 0?t:i}function kb(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n}var t0=is?is.isConcatSpreadable:void 0;function tF(n){return Un(n)||ru(n)||!!(t0&&n&&n[t0])}function yT(n,e,t,i,s){var r=-1,o=n.length;for(t||(t=tF),s||(s=[]);++r<o;){var a=n[r];e>0&&t(a)?e>1?yT(a,e-1,t,i,s):kb(s,a):i||(s[s.length]=a)}return s}function wT(n){var e=n==null?0:n.length;return e?yT(n,1):[]}function nF(n){return cT(uT(n,void 0,wT),n+"")}var iF=gT(Object.getPrototypeOf,Object);const Sb=iF;var sF="[object Object]",rF=Function.prototype,oF=Object.prototype,_T=rF.toString,aF=oF.hasOwnProperty,lF=_T.call(Object);function Di(n){if(!ss(n)||po(n)!=sF)return!1;var e=Sb(n);if(e===null)return!0;var t=aF.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&_T.call(t)==lF}function CT(n,e,t){var i=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var r=Array(s);++i<s;)r[i]=n[i+e];return r}function cF(n,e,t){var i=n.length;return t=t===void 0?i:t,!e&&t>=i?n:CT(n,e,t)}var uF="\\ud800-\\udfff",dF="\\u0300-\\u036f",fF="\\ufe20-\\ufe2f",hF="\\u20d0-\\u20ff",mF=dF+fF+hF,pF="\\ufe0e\\ufe0f",gF="\\u200d",vF=RegExp("["+gF+uF+mF+pF+"]");function kT(n){return vF.test(n)}function bF(n){return n.split("")}var ST="\\ud800-\\udfff",yF="\\u0300-\\u036f",wF="\\ufe20-\\ufe2f",_F="\\u20d0-\\u20ff",CF=yF+wF+_F,kF="\\ufe0e\\ufe0f",SF="["+ST+"]",hg="["+CF+"]",mg="\\ud83c[\\udffb-\\udfff]",EF="(?:"+hg+"|"+mg+")",ET="[^"+ST+"]",TT="(?:\\ud83c[\\udde6-\\uddff]){2}",AT="[\\ud800-\\udbff][\\udc00-\\udfff]",TF="\\u200d",xT=EF+"?",PT="["+kF+"]?",AF="(?:"+TF+"(?:"+[ET,TT,AT].join("|")+")"+PT+xT+")*",xF=PT+xT+AF,PF="(?:"+[ET+hg+"?",hg,TT,AT,SF].join("|")+")",IF=RegExp(mg+"(?="+mg+")|"+PF+xF,"g");function OF(n){return n.match(IF)||[]}function RF(n){return kT(n)?OF(n):bF(n)}function MF(n){return function(e){e=bT(e);var t=kT(e)?RF(e):void 0,i=t?t[0]:e.charAt(0),s=t?cF(t,1).join(""):e.slice(1);return i[n]()+s}}var DF=MF("toUpperCase");const FF=DF;function NF(){this.__data__=new Rr,this.size=0}function LF(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function $F(n){return this.__data__.get(n)}function BF(n){return this.__data__.has(n)}var VF=200;function UF(n,e){var t=this.__data__;if(t instanceof Rr){var i=t.__data__;if(!lu||i.length<VF-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Mr(i)}return t.set(n,e),this.size=t.size,this}function Ks(n){var e=this.__data__=new Rr(n);this.size=e.size}Ks.prototype.clear=NF;Ks.prototype.delete=LF;Ks.prototype.get=$F;Ks.prototype.has=BF;Ks.prototype.set=UF;function zF(n,e){return n&&ql(e,wb(e),n)}function HF(n,e){return n&&ql(e,Kl(e),n)}var IT=typeof $i=="object"&&$i&&!$i.nodeType&&$i,n0=IT&&typeof Bi=="object"&&Bi&&!Bi.nodeType&&Bi,WF=n0&&n0.exports===IT,i0=WF?Cs.Buffer:void 0,s0=i0?i0.allocUnsafe:void 0;function OT(n,e){if(e)return n.slice();var t=n.length,i=s0?s0(t):new n.constructor(t);return n.copy(i),i}function jF(n,e){for(var t=-1,i=n==null?0:n.length,s=0,r=[];++t<i;){var o=n[t];e(o,t,n)&&(r[s++]=o)}return r}function RT(){return[]}var qF=Object.prototype,KF=qF.propertyIsEnumerable,r0=Object.getOwnPropertySymbols,GF=r0?function(n){return n==null?[]:(n=Object(n),jF(r0(n),function(e){return KF.call(n,e)}))}:RT;const Eb=GF;function QF(n,e){return ql(n,Eb(n),e)}var YF=Object.getOwnPropertySymbols,JF=YF?function(n){for(var e=[];n;)kb(e,Eb(n)),n=Sb(n);return e}:RT;const MT=JF;function XF(n,e){return ql(n,MT(n),e)}function DT(n,e,t){var i=e(n);return Un(n)?i:kb(i,t(n))}function pg(n){return DT(n,wb,Eb)}function ZF(n){return DT(n,Kl,MT)}var eN=ya(Cs,"DataView");const gg=eN;var tN=ya(Cs,"Promise");const vg=tN;var nN=ya(Cs,"Set");const bg=nN;var o0="[object Map]",iN="[object Object]",a0="[object Promise]",l0="[object Set]",c0="[object WeakMap]",u0="[object DataView]",sN=ba(gg),rN=ba(lu),oN=ba(vg),aN=ba(bg),lN=ba(fg),Fo=po;(gg&&Fo(new gg(new ArrayBuffer(1)))!=u0||lu&&Fo(new lu)!=o0||vg&&Fo(vg.resolve())!=a0||bg&&Fo(new bg)!=l0||fg&&Fo(new fg)!=c0)&&(Fo=function(n){var e=po(n),t=e==iN?n.constructor:void 0,i=t?ba(t):"";if(i)switch(i){case sN:return u0;case rN:return o0;case oN:return a0;case aN:return l0;case lN:return c0}return e});const cu=Fo;var cN=Object.prototype,uN=cN.hasOwnProperty;function dN(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&uN.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var fN=Cs.Uint8Array;const Ef=fN;function Tb(n){var e=new n.constructor(n.byteLength);return new Ef(e).set(new Ef(n)),e}function hN(n,e){var t=e?Tb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var mN=/\w*$/;function pN(n){var e=new n.constructor(n.source,mN.exec(n));return e.lastIndex=n.lastIndex,e}var d0=is?is.prototype:void 0,f0=d0?d0.valueOf:void 0;function gN(n){return f0?Object(f0.call(n)):{}}function FT(n,e){var t=e?Tb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var vN="[object Boolean]",bN="[object Date]",yN="[object Map]",wN="[object Number]",_N="[object RegExp]",CN="[object Set]",kN="[object String]",SN="[object Symbol]",EN="[object ArrayBuffer]",TN="[object DataView]",AN="[object Float32Array]",xN="[object Float64Array]",PN="[object Int8Array]",IN="[object Int16Array]",ON="[object Int32Array]",RN="[object Uint8Array]",MN="[object Uint8ClampedArray]",DN="[object Uint16Array]",FN="[object Uint32Array]";function NN(n,e,t){var i=n.constructor;switch(e){case EN:return Tb(n);case vN:case bN:return new i(+n);case TN:return hN(n,t);case AN:case xN:case PN:case IN:case ON:case RN:case MN:case DN:case FN:return FT(n,t);case yN:return new i;case wN:case kN:return new i(n);case _N:return pN(n);case CN:return new i;case SN:return gN(n)}}function NT(n){return typeof n.constructor=="function"&&!vb(n)?i3(Sb(n)):{}}var LN="[object Map]";function $N(n){return ss(n)&&cu(n)==LN}var h0=gl&&gl.isMap,BN=h0?bb(h0):$N;const VN=BN;var UN="[object Set]";function zN(n){return ss(n)&&cu(n)==UN}var m0=gl&&gl.isSet,HN=m0?bb(m0):zN;const WN=HN;var jN=1,qN=2,KN=4,LT="[object Arguments]",GN="[object Array]",QN="[object Boolean]",YN="[object Date]",JN="[object Error]",$T="[object Function]",XN="[object GeneratorFunction]",ZN="[object Map]",eL="[object Number]",BT="[object Object]",tL="[object RegExp]",nL="[object Set]",iL="[object String]",sL="[object Symbol]",rL="[object WeakMap]",oL="[object ArrayBuffer]",aL="[object DataView]",lL="[object Float32Array]",cL="[object Float64Array]",uL="[object Int8Array]",dL="[object Int16Array]",fL="[object Int32Array]",hL="[object Uint8Array]",mL="[object Uint8ClampedArray]",pL="[object Uint16Array]",gL="[object Uint32Array]",zt={};zt[LT]=zt[GN]=zt[oL]=zt[aL]=zt[QN]=zt[YN]=zt[lL]=zt[cL]=zt[uL]=zt[dL]=zt[fL]=zt[ZN]=zt[eL]=zt[BT]=zt[tL]=zt[nL]=zt[iL]=zt[sL]=zt[hL]=zt[mL]=zt[pL]=zt[gL]=!0;zt[JN]=zt[$T]=zt[rL]=!1;function ul(n,e,t,i,s,r){var o,a=e&jN,l=e&qN,c=e&KN;if(t&&(o=s?t(n,i,s,r):t(n)),o!==void 0)return o;if(!Xt(n))return n;var u=Un(n);if(u){if(o=dN(n),!a)return lT(n,o)}else{var d=cu(n),f=d==$T||d==XN;if(ou(n))return OT(n,a);if(d==BT||d==LT||f&&!s){if(o=l||f?{}:NT(n),!a)return l?XF(n,HF(o,n)):QF(n,zF(o,n))}else{if(!zt[d])return s?n:{};o=NN(n,d,a)}}r||(r=new Ks);var h=r.get(n);if(h)return h;r.set(n,o),WN(n)?n.forEach(function(b){o.add(ul(b,e,t,b,n,r))}):VN(n)&&n.forEach(function(b,v){o.set(v,ul(b,e,t,v,n,r))});var p=c?l?ZF:pg:l?Kl:wb,m=u?void 0:p(n);return m3(m||n,function(b,v){m&&(v=b,b=n[v]),pb(o,v,ul(b,e,t,v,n,r))}),o}var vL=4;function VT(n){return ul(n,vL)}var bL=1,yL=4;function wa(n){return ul(n,bL|yL)}var wL=1,_L=4;function Ab(n,e){return e=typeof e=="function"?e:void 0,ul(n,wL|_L,e)}var CL="__lodash_hash_undefined__";function kL(n){return this.__data__.set(n,CL),this}function SL(n){return this.__data__.has(n)}function Tf(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Mr;++e<t;)this.add(n[e])}Tf.prototype.add=Tf.prototype.push=kL;Tf.prototype.has=SL;function EL(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function TL(n,e){return n.has(e)}var AL=1,xL=2;function UT(n,e,t,i,s,r){var o=t&AL,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(n),u=r.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&xL?new Tf:void 0;for(r.set(n,e),r.set(e,n);++d<a;){var p=n[d],m=e[d];if(i)var b=o?i(m,p,d,e,n,r):i(p,m,d,n,e,r);if(b!==void 0){if(b)continue;f=!1;break}if(h){if(!EL(e,function(v,w){if(!TL(h,w)&&(p===v||s(p,v,t,i,r)))return h.push(w)})){f=!1;break}}else if(!(p===m||s(p,m,t,i,r))){f=!1;break}}return r.delete(n),r.delete(e),f}function PL(n){var e=-1,t=Array(n.size);return n.forEach(function(i,s){t[++e]=[s,i]}),t}function IL(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var OL=1,RL=2,ML="[object Boolean]",DL="[object Date]",FL="[object Error]",NL="[object Map]",LL="[object Number]",$L="[object RegExp]",BL="[object Set]",VL="[object String]",UL="[object Symbol]",zL="[object ArrayBuffer]",HL="[object DataView]",p0=is?is.prototype:void 0,jm=p0?p0.valueOf:void 0;function WL(n,e,t,i,s,r,o){switch(t){case HL:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case zL:return!(n.byteLength!=e.byteLength||!r(new Ef(n),new Ef(e)));case ML:case DL:case LL:return Fu(+n,+e);case FL:return n.name==e.name&&n.message==e.message;case $L:case VL:return n==e+"";case NL:var a=PL;case BL:var l=i&OL;if(a||(a=IL),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;i|=RL,o.set(n,e);var u=UT(a(n),a(e),i,s,r,o);return o.delete(n),u;case UL:if(jm)return jm.call(n)==jm.call(e)}return!1}var jL=1,qL=Object.prototype,KL=qL.hasOwnProperty;function GL(n,e,t,i,s,r){var o=t&jL,a=pg(n),l=a.length,c=pg(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:KL.call(e,f)))return!1}var h=r.get(n),p=r.get(e);if(h&&p)return h==e&&p==n;var m=!0;r.set(n,e),r.set(e,n);for(var b=o;++d<l;){f=a[d];var v=n[f],w=e[f];if(i)var C=o?i(w,v,f,e,n,r):i(v,w,f,n,e,r);if(!(C===void 0?v===w||s(v,w,t,i,r):C)){m=!1;break}b||(b=f=="constructor")}if(m&&!b){var _=n.constructor,T=e.constructor;_!=T&&"constructor"in n&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof T=="function"&&T instanceof T)&&(m=!1)}return r.delete(n),r.delete(e),m}var QL=1,g0="[object Arguments]",v0="[object Array]",vd="[object Object]",YL=Object.prototype,b0=YL.hasOwnProperty;function JL(n,e,t,i,s,r){var o=Un(n),a=Un(e),l=o?v0:cu(n),c=a?v0:cu(e);l=l==g0?vd:l,c=c==g0?vd:c;var u=l==vd,d=c==vd,f=l==c;if(f&&ou(n)){if(!ou(e))return!1;o=!0,u=!1}if(f&&!u)return r||(r=new Ks),o||yb(n)?UT(n,e,t,i,s,r):WL(n,e,l,t,i,s,r);if(!(t&QL)){var h=u&&b0.call(n,"__wrapped__"),p=d&&b0.call(e,"__wrapped__");if(h||p){var m=h?n.value():n,b=p?e.value():e;return r||(r=new Ks),s(m,b,t,i,r)}}return f?(r||(r=new Ks),GL(n,e,t,i,s,r)):!1}function xb(n,e,t,i,s){return n===e?!0:n==null||e==null||!ss(n)&&!ss(e)?n!==n&&e!==e:JL(n,e,t,i,xb,s)}function XL(n,e){return n!=null&&e in Object(n)}function ZL(n,e,t){e=Nu(e,n);for(var i=-1,s=e.length,r=!1;++i<s;){var o=kh(e[i]);if(!(r=n!=null&&t(n,o)))break;n=n[o]}return r||++i!=s?r:(s=n==null?0:n.length,!!s&&gb(s)&&yh(o,s)&&(Un(n)||ru(n)))}function e$(n,e){return n!=null&&ZL(n,e,XL)}function t$(n){return function(e,t,i){for(var s=-1,r=Object(e),o=i(e),a=o.length;a--;){var l=o[n?a:++s];if(t(r[l],l,r)===!1)break}return e}}var n$=t$();const i$=n$;var s$=function(){return Cs.Date.now()};const qm=s$;var r$="Expected a function",o$=Math.max,a$=Math.min;function fo(n,e,t){var i,s,r,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(r$);e=Kw(e)||0,Xt(t)&&(u=!!t.leading,d="maxWait"in t,r=d?o$(Kw(t.maxWait)||0,e):r,f="trailing"in t?!!t.trailing:f);function h(k){var E=i,S=s;return i=s=void 0,c=k,o=n.apply(S,E),o}function p(k){return c=k,a=setTimeout(v,e),u?h(k):o}function m(k){var E=k-l,S=k-c,I=e-E;return d?a$(I,r-S):I}function b(k){var E=k-l,S=k-c;return l===void 0||E>=e||E<0||d&&S>=r}function v(){var k=qm();if(b(k))return w(k);a=setTimeout(v,m(k))}function w(k){return a=void 0,f&&i?h(k):(i=s=void 0,o)}function C(){a!==void 0&&clearTimeout(a),c=0,i=l=s=a=void 0}function _(){return a===void 0?o:w(qm())}function T(){var k=qm(),E=b(k);if(i=arguments,s=this,l=k,E){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),o}return T.cancel=C,T.flush=_,T}function yg(n,e,t){(t!==void 0&&!Fu(n[e],t)||t===void 0&&!(e in n))&&mb(n,e,t)}function l$(n){return ss(n)&&wh(n)}function wg(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function c$(n){return ql(n,Kl(n))}function u$(n,e,t,i,s,r,o){var a=wg(n,t),l=wg(e,t),c=o.get(l);if(c){yg(n,t,c);return}var u=r?r(a,l,t+"",n,e,o):void 0,d=u===void 0;if(d){var f=Un(l),h=!f&&ou(l),p=!f&&!h&&yb(l);u=l,f||h||p?Un(a)?u=a:l$(a)?u=lT(a):h?(d=!1,u=OT(l,!0)):p?(d=!1,u=FT(l,!0)):u=[]:Di(l)||ru(l)?(u=a,ru(a)?u=c$(a):(!Xt(a)||la(a))&&(u=NT(l))):d=!1}d&&(o.set(l,u),s(u,l,i,r,o),o.delete(l)),yg(n,t,u)}function zT(n,e,t,i,s){n!==e&&i$(e,function(r,o){if(s||(s=new Ks),Xt(r))u$(n,e,o,t,zT,i,s);else{var a=i?i(wg(n,o),r,o+"",n,e,s):void 0;a===void 0&&(a=r),yg(n,o,a)}},Kl)}function d$(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function Af(n){for(var e=-1,t=n==null?0:n.length,i={};++e<t;){var s=n[e];i[s[0]]=s[1]}return i}var f$="[object String]";function y0(n){return typeof n=="string"||!Un(n)&&ss(n)&&po(n)==f$}function h$(n,e){return e.length<2?n:Cb(n,CT(e,0,-1))}function Gl(n){return ss(n)&&n.nodeType===1&&!Di(n)}function vl(n,e){return xb(n,e)}function m$(n,e,t){t=typeof t=="function"?t:void 0;var i=t?t(n,e):void 0;return i===void 0?xb(n,e,void 0,t):!!i}function Sh(n){return n==null}function p$(n){return n===void 0}var g$=dT(function(n,e,t){zT(n,e,t)});const HT=g$;function v$(n,e){return e=Nu(e,n),n=h$(n,e),n==null||delete n[kh(d$(e))]}function WT(n,e,t,i){if(!Xt(n))return n;e=Nu(e,n);for(var s=-1,r=e.length,o=r-1,a=n;a!=null&&++s<r;){var l=kh(e[s]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=o){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=Xt(u)?u:yh(e[s+1])?[]:{})}pb(a,l,c),a=a[l]}return n}function b$(n,e,t){for(var i=-1,s=e.length,r={};++i<s;){var o=e[i],a=Cb(n,o);t(a,o)&&WT(r,Nu(o,n),a)}return r}function y$(n,e){return b$(n,e,function(t,i){return e$(n,i)})}var w$=nF(function(n,e){return n==null?{}:y$(n,e)});const _$=w$;function C$(n,e,t){return n==null?n:WT(n,e,t)}var k$="Expected a function";function jT(n,e,t){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(k$);return Xt(t)&&(i="leading"in t?!!t.leading:i,s="trailing"in t?!!t.trailing:s),fo(n,e,{leading:i,maxWait:e,trailing:s})}function S$(n,e){return n==null?!0:v$(n,e)}const uu=n=>n===void 0,du=n=>typeof n=="boolean",Li=n=>typeof n=="number",qT=n=>!n&&n!==0||xe(n)&&n.length===0||gt(n)&&!Object.keys(n).length,fu=n=>typeof Element>"u"?!1:n instanceof Element,E$=n=>Tt(n)?!Number.isNaN(Number(n)):!1,T$=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),w0=n=>Object.keys(n);class A$ extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function x$(n,e){throw new A$(`[${n}] ${e}`)}const KT=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},P$=(n,e)=>{var t;if(!ti||!n||!e)return"";let i=di(e);i==="float"&&(i="cssFloat");try{const s=n.style[i];if(s)return s;const r=(t=document.defaultView)==null?void 0:t.getComputedStyle(n,"");return r?r[i]:""}catch{return n.style[i]}};function _g(n,e="px"){if(!n)return"";if(Li(n)||E$(n))return`${n}${e}`;if(Tt(n))return n}function I$(n,e){if(!ti)return;if(!e){n.scrollTop=0;return}const t=[];let i=e.offsetParent;for(;i!==null&&n!==i&&n.contains(i);)t.push(i),i=i.offsetParent;const s=e.offsetTop+t.reduce((l,c)=>l+c.offsetTop,0),r=s+e.offsetHeight,o=n.scrollTop,a=o+n.clientHeight;s<o?n.scrollTop=s:r>a&&(n.scrollTop=r-n.clientHeight)}/*! Element Plus Icons Vue v2.1.0 */var Ti=(n,e)=>{let t=n.__vccOpts||n;for(let[i,s]of e)t[i]=s;return t},O$={name:"ArrowDown"},R$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},M$=X("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),D$=[M$];function F$(n,e,t,i,s,r){return H(),le("svg",R$,D$)}var GT=Ti(O$,[["render",F$],["__file","arrow-down.vue"]]),N$={name:"ArrowLeft"},L$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$$=X("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),B$=[$$];function V$(n,e,t,i,s,r){return H(),le("svg",L$,B$)}var Cg=Ti(N$,[["render",V$],["__file","arrow-left.vue"]]),U$={name:"ArrowRight"},z$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},H$=X("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),W$=[H$];function j$(n,e,t,i,s,r){return H(),le("svg",z$,W$)}var Jd=Ti(U$,[["render",j$],["__file","arrow-right.vue"]]),q$={name:"ArrowUp"},K$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},G$=X("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),Q$=[G$];function Y$(n,e,t,i,s,r){return H(),le("svg",K$,Q$)}var J$=Ti(q$,[["render",Y$],["__file","arrow-up.vue"]]),X$={name:"Calendar"},Z$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eB=X("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),tB=[eB];function nB(n,e,t,i,s,r){return H(),le("svg",Z$,tB)}var iB=Ti(X$,[["render",nB],["__file","calendar.vue"]]),sB={name:"CircleCheck"},rB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oB=X("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),aB=X("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),lB=[oB,aB];function cB(n,e,t,i,s,r){return H(),le("svg",rB,lB)}var uB=Ti(sB,[["render",cB],["__file","circle-check.vue"]]),dB={name:"CircleClose"},fB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hB=X("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),mB=X("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),pB=[hB,mB];function gB(n,e,t,i,s,r){return H(),le("svg",fB,pB)}var Eh=Ti(dB,[["render",gB],["__file","circle-close.vue"]]),vB={name:"Clock"},bB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yB=X("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),wB=X("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),_B=X("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),CB=[yB,wB,_B];function kB(n,e,t,i,s,r){return H(),le("svg",bB,CB)}var SB=Ti(vB,[["render",kB],["__file","clock.vue"]]),EB={name:"Close"},TB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},AB=X("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),xB=[AB];function PB(n,e,t,i,s,r){return H(),le("svg",TB,xB)}var _0=Ti(EB,[["render",PB],["__file","close.vue"]]),IB={name:"DArrowLeft"},OB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RB=X("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),MB=[RB];function DB(n,e,t,i,s,r){return H(),le("svg",OB,MB)}var hu=Ti(IB,[["render",DB],["__file","d-arrow-left.vue"]]),FB={name:"DArrowRight"},NB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LB=X("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),$B=[LB];function BB(n,e,t,i,s,r){return H(),le("svg",NB,$B)}var mu=Ti(FB,[["render",BB],["__file","d-arrow-right.vue"]]),VB={name:"Hide"},UB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zB=X("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),HB=X("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),WB=[zB,HB];function jB(n,e,t,i,s,r){return H(),le("svg",UB,WB)}var qB=Ti(VB,[["render",jB],["__file","hide.vue"]]),KB={name:"Loading"},GB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},QB=X("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),YB=[QB];function JB(n,e,t,i,s,r){return H(),le("svg",GB,YB)}var QT=Ti(KB,[["render",JB],["__file","loading.vue"]]),XB={name:"View"},ZB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eV=X("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),tV=[eV];function nV(n,e,t,i,s,r){return H(),le("svg",ZB,tV)}var iV=Ti(XB,[["render",nV],["__file","view.vue"]]);const YT="__epPropKey",qe=n=>n,sV=n=>gt(n)&&!!n[YT],Th=(n,e)=>{if(!gt(n)||sV(n))return n;const{values:t,required:i,default:s,type:r,validator:o}=n,l={type:r,required:!!i,validator:t||o?c=>{let u=!1,d=[];if(t&&(d=Array.from(t),wt(n,"default")&&d.push(s),u||(u=d.includes(c))),o&&(u||(u=o(c))),!u&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");BS(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[YT]:!0};return wt(n,"default")&&(l.default=s),l},bt=n=>Af(Object.entries(n).map(([e,t])=>[e,Th(t,e)])),ua=qe([String,Object,Function]),JT={validating:QT,success:uB,error:Eh},ks=(n,e)=>{if(n.install=t=>{for(const i of[n,...Object.values(e??{})])t.component(i.name,i)},e)for(const[t,i]of Object.entries(e))n[t]=i;return n},Ql=n=>(n.install=ei,n),Ht={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},rV=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],ci="update:modelValue",XT="change",Pb=["","default","small","large"],oV={large:40,default:32,small:24},aV=n=>oV[n||"default"],lV=n=>["",...Pb].includes(n),Qo=n=>!n&&n!==0?[]:Array.isArray(n)?n:[n],ZT=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n),cV=n=>n,uV=["class","style"],dV=/^on[A-Z]/,fV=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t}=n,i=N(()=>((t==null?void 0:t.value)||[]).concat(uV)),s=Rt();return N(s?()=>{var r;return Af(Object.entries((r=s.proxy)==null?void 0:r.$attrs).filter(([o])=>!i.value.includes(o)&&!(e&&dV.test(o))))}:()=>({}))},eA=({from:n,replacement:e,scope:t,version:i,ref:s,type:r="API"},o)=>{$e(()=>g(o),a=>{},{immediate:!0})};var hV={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const mV=n=>(e,t)=>pV(e,t,g(n)),pV=(n,e,t)=>Yn(t,n,n).replace(/\{(\w+)\}/g,(i,s)=>{var r;return`${(r=e==null?void 0:e[s])!=null?r:`{${s}}`}`}),gV=n=>{const e=N(()=>g(n).name),t=Bt(n)?n:se(n);return{lang:e,locale:t,t:mV(n)}},tA=Symbol("localeContextKey"),Ki=n=>{const e=n||st(tA,se());return gV(N(()=>e.value||hV))},Km="el",vV="is-",Po=(n,e,t,i,s)=>{let r=`${n}-${e}`;return t&&(r+=`-${t}`),i&&(r+=`__${i}`),s&&(r+=`--${s}`),r},nA=Symbol("namespaceContextKey"),Ib=n=>{const e=n||(Rt()?st(nA,se(Km)):se(Km));return N(()=>g(e)||Km)},pt=(n,e)=>{const t=Ib(e);return{namespace:t,b:(m="")=>Po(t.value,n,m,"",""),e:m=>m?Po(t.value,n,"",m,""):"",m:m=>m?Po(t.value,n,"","",m):"",be:(m,b)=>m&&b?Po(t.value,n,m,b,""):"",em:(m,b)=>m&&b?Po(t.value,n,"",m,b):"",bm:(m,b)=>m&&b?Po(t.value,n,m,"",b):"",bem:(m,b,v)=>m&&b&&v?Po(t.value,n,m,b,v):"",is:(m,...b)=>{const v=b.length>=1?b[0]:!0;return m&&v?`${vV}${m}`:""},cssVar:m=>{const b={};for(const v in m)m[v]&&(b[`--${t.value}-${v}`]=m[v]);return b},cssVarName:m=>`--${t.value}-${m}`,cssVarBlock:m=>{const b={};for(const v in m)m[v]&&(b[`--${t.value}-${n}-${v}`]=m[v]);return b},cssVarBlockName:m=>`--${t.value}-${n}-${m}`}},bV=Th({type:qe(Boolean),default:null}),yV=Th({type:qe(Function)}),iA=n=>{const e=`update:${n}`,t=`onUpdate:${n}`,i=[e],s={[n]:bV,[t]:yV};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=Rt(),{emit:h}=f,p=f.props,m=N(()=>We(p[t])),b=N(()=>p[n]===null),v=E=>{o.value!==!0&&(o.value=!0,a&&(a.value=E),We(u)&&u(E))},w=E=>{o.value!==!1&&(o.value=!1,a&&(a.value=E),We(d)&&d(E))},C=E=>{if(p.disabled===!0||We(c)&&!c())return;const S=m.value&&ti;S&&h(e,!0),(b.value||!S)&&v(E)},_=E=>{if(p.disabled===!0||!ti)return;const S=m.value&&ti;S&&h(e,!1),(b.value||!S)&&w(E)},T=E=>{du(E)&&(p.disabled&&E?m.value&&h(e,!1):o.value!==E&&(E?v():w()))},k=()=>{o.value?_():C()};return $e(()=>p[n],T),l&&f.appContext.config.globalProperties.$route!==void 0&&$e(()=>({...f.proxy.$route}),()=>{l.value&&o.value&&_()}),mn(()=>{T(p[n])}),{hide:_,show:C,toggle:k,hasUpdateHandler:m}},useModelToggleProps:s,useModelToggleEmits:i}};iA("modelValue");const sA=n=>{const e=Rt();return N(()=>{var t,i;return(i=(t=e==null?void 0:e.proxy)==null?void 0:t.$props)==null?void 0:i[n]})};var wi="top",rs="bottom",os="right",_i="left",Ob="auto",Lu=[wi,rs,os,_i],bl="start",pu="end",wV="clippingParents",rA="viewport",hc="popper",_V="reference",C0=Lu.reduce(function(n,e){return n.concat([e+"-"+bl,e+"-"+pu])},[]),Ah=[].concat(Lu,[Ob]).reduce(function(n,e){return n.concat([e,e+"-"+bl,e+"-"+pu])},[]),CV="beforeRead",kV="read",SV="afterRead",EV="beforeMain",TV="main",AV="afterMain",xV="beforeWrite",PV="write",IV="afterWrite",OV=[CV,kV,SV,EV,TV,AV,xV,PV,IV];function tr(n){return n?(n.nodeName||"").toLowerCase():null}function zi(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function da(n){var e=zi(n).Element;return n instanceof e||n instanceof Element}function es(n){var e=zi(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Rb(n){if(typeof ShadowRoot>"u")return!1;var e=zi(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function RV(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},r=e.elements[t];!es(r)||!tr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function MV(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!es(s)||!tr(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}const DV={name:"applyStyles",enabled:!0,phase:"write",fn:RV,effect:MV,requires:["computeStyles"]};function Gs(n){return n.split("-")[0]}var Yo=Math.max,xf=Math.min,yl=Math.round;function kg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function oA(){return!/^((?!chrome|android).)*safari/i.test(kg())}function wl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),s=1,r=1;e&&es(n)&&(s=n.offsetWidth>0&&yl(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&yl(i.height)/n.offsetHeight||1);var o=da(n)?zi(n):window,a=o.visualViewport,l=!oA()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/s,u=(i.top+(l&&a?a.offsetTop:0))/r,d=i.width/s,f=i.height/r;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function Mb(n){var e=wl(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function aA(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Rb(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Er(n){return zi(n).getComputedStyle(n)}function FV(n){return["table","td","th"].indexOf(tr(n))>=0}function go(n){return((da(n)?n.ownerDocument:n.document)||window.document).documentElement}function xh(n){return tr(n)==="html"?n:n.assignedSlot||n.parentNode||(Rb(n)?n.host:null)||go(n)}function k0(n){return!es(n)||Er(n).position==="fixed"?null:n.offsetParent}function NV(n){var e=/firefox/i.test(kg()),t=/Trident/i.test(kg());if(t&&es(n)){var i=Er(n);if(i.position==="fixed")return null}var s=xh(n);for(Rb(s)&&(s=s.host);es(s)&&["html","body"].indexOf(tr(s))<0;){var r=Er(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function $u(n){for(var e=zi(n),t=k0(n);t&&FV(t)&&Er(t).position==="static";)t=k0(t);return t&&(tr(t)==="html"||tr(t)==="body"&&Er(t).position==="static")?e:t||NV(n)||e}function Db(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Nc(n,e,t){return Yo(n,xf(e,t))}function LV(n,e,t){var i=Nc(n,e,t);return i>t?t:i}function lA(){return{top:0,right:0,bottom:0,left:0}}function cA(n){return Object.assign({},lA(),n)}function uA(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var $V=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,cA(typeof e!="number"?e:uA(e,Lu))};function BV(n){var e,t=n.state,i=n.name,s=n.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Gs(t.placement),l=Db(a),c=[_i,os].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var d=$V(s.padding,t),f=Mb(r),h=l==="y"?wi:_i,p=l==="y"?rs:os,m=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],b=o[l]-t.rects.reference[l],v=$u(r),w=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,C=m/2-b/2,_=d[h],T=w-f[u]-d[p],k=w/2-f[u]/2+C,E=Nc(_,k,T),S=l;t.modifiersData[i]=(e={},e[S]=E,e.centerOffset=E-k,e)}}function VV(n){var e=n.state,t=n.options,i=t.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||aA(e.elements.popper,s)&&(e.elements.arrow=s))}const UV={name:"arrow",enabled:!0,phase:"main",fn:BV,effect:VV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _l(n){return n.split("-")[1]}var zV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function HV(n,e){var t=n.x,i=n.y,s=e.devicePixelRatio||1;return{x:yl(t*s)/s||0,y:yl(i*s)/s||0}}function S0(n){var e,t=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,f=o.x,h=f===void 0?0:f,p=o.y,m=p===void 0?0:p,b=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=b.x,m=b.y;var v=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),C=_i,_=wi,T=window;if(c){var k=$u(t),E="clientHeight",S="clientWidth";if(k===zi(t)&&(k=go(t),Er(k).position!=="static"&&a==="absolute"&&(E="scrollHeight",S="scrollWidth")),k=k,s===wi||(s===_i||s===os)&&r===pu){_=rs;var I=d&&k===T&&T.visualViewport?T.visualViewport.height:k[E];m-=I-i.height,m*=l?1:-1}if(s===_i||(s===wi||s===rs)&&r===pu){C=os;var R=d&&k===T&&T.visualViewport?T.visualViewport.width:k[S];h-=R-i.width,h*=l?1:-1}}var q=Object.assign({position:a},c&&zV),W=u===!0?HV({x:h,y:m},zi(t)):{x:h,y:m};if(h=W.x,m=W.y,l){var z;return Object.assign({},q,(z={},z[_]=w?"0":"",z[C]=v?"0":"",z.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",z))}return Object.assign({},q,(e={},e[_]=w?m+"px":"",e[C]=v?h+"px":"",e.transform="",e))}function WV(n){var e=n.state,t=n.options,i=t.gpuAcceleration,s=i===void 0?!0:i,r=t.adaptive,o=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:Gs(e.placement),variation:_l(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,S0(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,S0(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const jV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:WV,data:{}};var bd={passive:!0};function qV(n){var e=n.state,t=n.instance,i=n.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=zi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",t.update,bd)}),a&&l.addEventListener("resize",t.update,bd),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",t.update,bd)}),a&&l.removeEventListener("resize",t.update,bd)}}const KV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qV,data:{}};var GV={left:"right",right:"left",bottom:"top",top:"bottom"};function Xd(n){return n.replace(/left|right|bottom|top/g,function(e){return GV[e]})}var QV={start:"end",end:"start"};function E0(n){return n.replace(/start|end/g,function(e){return QV[e]})}function Fb(n){var e=zi(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Nb(n){return wl(go(n)).left+Fb(n).scrollLeft}function YV(n,e){var t=zi(n),i=go(n),s=t.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var c=oA();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+Nb(n),y:l}}function JV(n){var e,t=go(n),i=Fb(n),s=(e=n.ownerDocument)==null?void 0:e.body,r=Yo(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Yo(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Nb(n),l=-i.scrollTop;return Er(s||t).direction==="rtl"&&(a+=Yo(t.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function Lb(n){var e=Er(n),t=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+i)}function dA(n){return["html","body","#document"].indexOf(tr(n))>=0?n.ownerDocument.body:es(n)&&Lb(n)?n:dA(xh(n))}function Lc(n,e){var t;e===void 0&&(e=[]);var i=dA(n),s=i===((t=n.ownerDocument)==null?void 0:t.body),r=zi(i),o=s?[r].concat(r.visualViewport||[],Lb(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(Lc(xh(o)))}function Sg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function XV(n,e){var t=wl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function T0(n,e,t){return e===rA?Sg(YV(n,t)):da(e)?XV(e,t):Sg(JV(go(n)))}function ZV(n){var e=Lc(xh(n)),t=["absolute","fixed"].indexOf(Er(n).position)>=0,i=t&&es(n)?$u(n):n;return da(i)?e.filter(function(s){return da(s)&&aA(s,i)&&tr(s)!=="body"}):[]}function e8(n,e,t,i){var s=e==="clippingParents"?ZV(n):[].concat(e),r=[].concat(s,[t]),o=r[0],a=r.reduce(function(l,c){var u=T0(n,c,i);return l.top=Yo(u.top,l.top),l.right=xf(u.right,l.right),l.bottom=xf(u.bottom,l.bottom),l.left=Yo(u.left,l.left),l},T0(n,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function fA(n){var e=n.reference,t=n.element,i=n.placement,s=i?Gs(i):null,r=i?_l(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(s){case wi:l={x:o,y:e.y-t.height};break;case rs:l={x:o,y:e.y+e.height};break;case os:l={x:e.x+e.width,y:a};break;case _i:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?Db(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case bl:l[c]=l[c]-(e[u]/2-t[u]/2);break;case pu:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function gu(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=i===void 0?n.placement:i,r=t.strategy,o=r===void 0?n.strategy:r,a=t.boundary,l=a===void 0?wV:a,c=t.rootBoundary,u=c===void 0?rA:c,d=t.elementContext,f=d===void 0?hc:d,h=t.altBoundary,p=h===void 0?!1:h,m=t.padding,b=m===void 0?0:m,v=cA(typeof b!="number"?b:uA(b,Lu)),w=f===hc?_V:hc,C=n.rects.popper,_=n.elements[p?w:f],T=e8(da(_)?_:_.contextElement||go(n.elements.popper),l,u,o),k=wl(n.elements.reference),E=fA({reference:k,element:C,strategy:"absolute",placement:s}),S=Sg(Object.assign({},C,E)),I=f===hc?S:k,R={top:T.top-I.top+v.top,bottom:I.bottom-T.bottom+v.bottom,left:T.left-I.left+v.left,right:I.right-T.right+v.right},q=n.modifiersData.offset;if(f===hc&&q){var W=q[s];Object.keys(R).forEach(function(z){var L=[os,rs].indexOf(z)>=0?1:-1,J=[wi,rs].indexOf(z)>=0?"y":"x";R[z]+=W[J]*L})}return R}function t8(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Ah:l,u=_l(i),d=u?a?C0:C0.filter(function(p){return _l(p)===u}):Lu,f=d.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=gu(n,{placement:m,boundary:s,rootBoundary:r,padding:o})[Gs(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function n8(n){if(Gs(n)===Ob)return[];var e=Xd(n);return[E0(n),e,E0(e)]}function i8(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,f=t.altBoundary,h=t.flipVariations,p=h===void 0?!0:h,m=t.allowedAutoPlacements,b=e.options.placement,v=Gs(b),w=v===b,C=l||(w||!p?[Xd(b)]:n8(b)),_=[b].concat(C).reduce(function(ce,be){return ce.concat(Gs(be)===Ob?t8(e,{placement:be,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):be)},[]),T=e.rects.reference,k=e.rects.popper,E=new Map,S=!0,I=_[0],R=0;R<_.length;R++){var q=_[R],W=Gs(q),z=_l(q)===bl,L=[wi,rs].indexOf(W)>=0,J=L?"width":"height",ne=gu(e,{placement:q,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),M=L?z?os:_i:z?rs:wi;T[J]>k[J]&&(M=Xd(M));var Q=Xd(M),U=[];if(r&&U.push(ne[W]<=0),a&&U.push(ne[M]<=0,ne[Q]<=0),U.every(function(ce){return ce})){I=q,S=!1;break}E.set(q,U)}if(S)for(var Y=p?3:1,pe=function(be){var Ae=_.find(function(je){var Me=E.get(je);if(Me)return Me.slice(0,be).every(function(Ue){return Ue})});if(Ae)return I=Ae,"break"},O=Y;O>0;O--){var F=pe(O);if(F==="break")break}e.placement!==I&&(e.modifiersData[i]._skip=!0,e.placement=I,e.reset=!0)}}const s8={name:"flip",enabled:!0,phase:"main",fn:i8,requiresIfExists:["offset"],data:{_skip:!1}};function A0(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function x0(n){return[wi,os,rs,_i].some(function(e){return n[e]>=0})}function r8(n){var e=n.state,t=n.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=gu(e,{elementContext:"reference"}),a=gu(e,{altBoundary:!0}),l=A0(o,i),c=A0(a,s,r),u=x0(l),d=x0(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const o8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:r8};function a8(n,e,t){var i=Gs(n),s=[_i,wi].indexOf(i)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[_i,os].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function l8(n){var e=n.state,t=n.options,i=n.name,s=t.offset,r=s===void 0?[0,0]:s,o=Ah.reduce(function(u,d){return u[d]=a8(d,e.rects,r),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const c8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:l8};function u8(n){var e=n.state,t=n.name;e.modifiersData[t]=fA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const d8={name:"popperOffsets",enabled:!0,phase:"read",fn:u8,data:{}};function f8(n){return n==="x"?"y":"x"}function h8(n){var e=n.state,t=n.options,i=n.name,s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,f=t.tether,h=f===void 0?!0:f,p=t.tetherOffset,m=p===void 0?0:p,b=gu(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Gs(e.placement),w=_l(e.placement),C=!w,_=Db(v),T=f8(_),k=e.modifiersData.popperOffsets,E=e.rects.reference,S=e.rects.popper,I=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,R=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(k){if(r){var z,L=_==="y"?wi:_i,J=_==="y"?rs:os,ne=_==="y"?"height":"width",M=k[_],Q=M+b[L],U=M-b[J],Y=h?-S[ne]/2:0,pe=w===bl?E[ne]:S[ne],O=w===bl?-S[ne]:-E[ne],F=e.elements.arrow,ce=h&&F?Mb(F):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:lA(),Ae=be[L],je=be[J],Me=Nc(0,E[ne],ce[ne]),Ue=C?E[ne]/2-Y-Me-Ae-R.mainAxis:pe-Me-Ae-R.mainAxis,Be=C?-E[ne]/2+Y+Me+je+R.mainAxis:O+Me+je+R.mainAxis,Ge=e.elements.arrow&&$u(e.elements.arrow),x=Ge?_==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,B=(z=q==null?void 0:q[_])!=null?z:0,te=M+Ue-B-x,ue=M+Be-B,ae=Nc(h?xf(Q,te):Q,M,h?Yo(U,ue):U);k[_]=ae,W[_]=ae-M}if(a){var ye,Ee=_==="x"?wi:_i,ge=_==="x"?rs:os,oe=k[T],re=T==="y"?"height":"width",j=oe+b[Ee],K=oe-b[ge],Ce=[wi,_i].indexOf(v)!==-1,Z=(ye=q==null?void 0:q[T])!=null?ye:0,ke=Ce?j:oe-E[re]-S[re]-Z+R.altAxis,Ve=Ce?oe+E[re]+S[re]-Z-R.altAxis:K,Ke=h&&Ce?LV(ke,oe,Ve):Nc(h?ke:j,oe,h?Ve:K);k[T]=Ke,W[T]=Ke-oe}e.modifiersData[i]=W}}const m8={name:"preventOverflow",enabled:!0,phase:"main",fn:h8,requiresIfExists:["offset"]};function p8(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function g8(n){return n===zi(n)||!es(n)?Fb(n):p8(n)}function v8(n){var e=n.getBoundingClientRect(),t=yl(e.width)/n.offsetWidth||1,i=yl(e.height)/n.offsetHeight||1;return t!==1||i!==1}function b8(n,e,t){t===void 0&&(t=!1);var i=es(e),s=es(e)&&v8(e),r=go(e),o=wl(n,s,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((tr(e)!=="body"||Lb(r))&&(a=g8(e)),es(e)?(l=wl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Nb(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function y8(n){var e=new Map,t=new Set,i=[];n.forEach(function(r){e.set(r.name,r)});function s(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.has(r.name)||s(r)}),i}function w8(n){var e=y8(n);return OV.reduce(function(t,i){return t.concat(e.filter(function(s){return s.phase===i}))},[])}function _8(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function C8(n){var e=n.reduce(function(t,i){var s=t[i.name];return t[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var P0={placement:"bottom",modifiers:[],strategy:"absolute"};function I0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function k8(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,s=e.defaultOptions,r=s===void 0?P0:s;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},P0,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(v){var w=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},r,u.options,w),u.scrollParents={reference:da(a)?Lc(a):a.contextElement?Lc(a.contextElement):[],popper:Lc(l)};var C=w8(C8([].concat(i,u.options.modifiers)));return u.orderedModifiers=C.filter(function(_){return _.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var v=u.elements,w=v.reference,C=v.popper;if(I0(w,C)){u.rects={reference:b8(w,$u(C),u.options.strategy==="fixed"),popper:Mb(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var T=u.orderedModifiers[_],k=T.fn,E=T.options,S=E===void 0?{}:E,I=T.name;typeof k=="function"&&(u=k({state:u,options:S,name:I,instance:h})||u)}}}},update:_8(function(){return new Promise(function(b){h.forceUpdate(),b(u)})}),destroy:function(){m(),f=!0}};if(!I0(a,l))return h;h.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function p(){u.orderedModifiers.forEach(function(b){var v=b.name,w=b.options,C=w===void 0?{}:w,_=b.effect;if(typeof _=="function"){var T=_({state:u,name:v,instance:h,options:C}),k=function(){};d.push(T||k)}})}function m(){d.forEach(function(b){return b()}),d=[]}return h}}var S8=[KV,d8,jV,DV,c8,s8,m8,UV,o8],E8=k8({defaultModifiers:S8});const T8=(n,e,t={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=A8(l);Object.assign(o.value,c)},requires:["computeStyles"]},s=N(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=g(t);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],i,{name:"applyStyles",enabled:!1}]}}),r=wr(),o=se({styles:{popper:{position:g(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{r.value&&(r.value.destroy(),r.value=void 0)};return $e(s,l=>{const c=g(r);c&&c.setOptions(l)},{deep:!0}),$e([n,e],([l,c])=>{a(),!(!l||!c)&&(r.value=E8(l,c,g(s)))}),Ei(()=>{a()}),{state:N(()=>{var l;return{...((l=g(r))==null?void 0:l.state)||{}}}),styles:N(()=>g(o).styles),attributes:N(()=>g(o).attributes),update:()=>{var l;return(l=g(r))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=g(r))==null?void 0:l.forceUpdate()},instanceRef:N(()=>g(r))}};function A8(n){const e=Object.keys(n.elements),t=Af(e.map(s=>[s,n.styles[s]||{}])),i=Af(e.map(s=>[s,n.attributes[s]]));return{styles:t,attributes:i}}function O0(){let n;const e=(i,s)=>{t(),n=window.setTimeout(i,s)},t=()=>window.clearTimeout(n);return fb(()=>t()),{registerTimeout:e,cancelTimeout:t}}const R0={prefix:Math.floor(Math.random()*1e4),current:0},x8=Symbol("elIdInjection"),hA=()=>Rt()?st(x8,R0):R0,mA=n=>{const e=hA(),t=Ib();return N(()=>g(n)||`${t.value}-id-${e.prefix}-${e.current++}`)};let Ka=[];const M0=n=>{const e=n;e.key===Ht.esc&&Ka.forEach(t=>t(e))},P8=n=>{mn(()=>{Ka.length===0&&document.addEventListener("keydown",M0),ti&&Ka.push(n)}),Ei(()=>{Ka=Ka.filter(e=>e!==n),Ka.length===0&&ti&&document.removeEventListener("keydown",M0)})};let D0;const pA=()=>{const n=Ib(),e=hA(),t=N(()=>`${n.value}-popper-container-${e.prefix}`),i=N(()=>`#${t.value}`);return{id:t,selector:i}},I8=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},O8=()=>{const{id:n,selector:e}=pA();return ib(()=>{ti&&!D0&&!document.body.querySelector(e.value)&&(D0=I8(n.value))}),{id:n,selector:e}},R8=bt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),M8=({showAfter:n,hideAfter:e,autoClose:t,open:i,close:s})=>{const{registerTimeout:r}=O0(),{registerTimeout:o,cancelTimeout:a}=O0();return{onOpen:u=>{r(()=>{i(u);const d=g(t);Li(d)&&d>0&&o(()=>{s(u)},d)},g(n))},onClose:u=>{a(),r(()=>{s(u)},g(e))}}},gA=Symbol("elForwardRef"),D8=n=>{Sn(gA,{setForwardRef:t=>{n.value=t}})},F8=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),F0=se(0),N8=2e3,vA=Symbol("zIndexContextKey"),L8=n=>{const e=n||(Rt()?st(vA,void 0):void 0),t=N(()=>{const r=g(e);return Li(r)?r:N8}),i=N(()=>t.value+F0.value);return{initialZIndex:t,currentZIndex:i,nextZIndex:()=>(F0.value++,i.value)}};function $8(n){const e=se();function t(){if(n.value==null)return;const{selectionStart:s,selectionEnd:r,value:o}=n.value;if(s==null||r==null)return;const a=o.slice(0,Math.max(0,s)),l=o.slice(Math.max(0,r));e.value={selectionStart:s,selectionEnd:r,value:o,beforeTxt:a,afterTxt:l}}function i(){if(n.value==null||e.value==null)return;const{value:s}=n.value,{beforeTxt:r,afterTxt:o,selectionStart:a}=e.value;if(r==null||o==null||a==null)return;let l=s.length;if(s.endsWith(o))l=s.length-o.length;else if(s.startsWith(r))l=r.length;else{const c=r[a-1],u=s.indexOf(c,a-1);u!==-1&&(l=u+1)}n.value.setSelectionRange(l,l)}return[t,i]}const Yl=Th({type:String,values:Pb,required:!1}),bA=Symbol("size"),B8=()=>{const n=st(bA,{});return N(()=>g(n.size)||"")};function V8(n,{afterFocus:e,afterBlur:t}={}){const i=Rt(),{emit:s}=i,r=wr(),o=se(!1),a=u=>{o.value||(o.value=!0,s("focus",u),e==null||e())},l=u=>{var d;u.relatedTarget&&((d=r.value)!=null&&d.contains(u.relatedTarget))||(o.value=!1,s("blur",u),t==null||t())},c=()=>{var u;(u=n.value)==null||u.focus()};return $e(r,u=>{u&&u.setAttribute("tabindex","-1")}),Go(r,"click",c),{wrapperRef:r,isFocused:o,handleFocus:a,handleBlur:l}}const yA=Symbol(),Pf=se();function wA(n,e=void 0){const t=Rt()?st(yA,Pf):Pf;return n?N(()=>{var i,s;return(s=(i=t.value)==null?void 0:i[n])!=null?s:e}):t}const U8=(n,e,t=!1)=>{var i;const s=!!Rt(),r=s?wA():void 0,o=(i=e==null?void 0:e.provide)!=null?i:s?Sn:void 0;if(!o)return;const a=N(()=>{const l=g(n);return r!=null&&r.value?z8(r.value,l):l});return o(yA,a),o(tA,N(()=>a.value.locale)),o(nA,N(()=>a.value.namespace)),o(vA,N(()=>a.value.zIndex)),o(bA,{size:N(()=>a.value.size||"")}),(t||!Pf.value)&&(Pf.value=a.value),a},z8=(n,e)=>{var t;const i=[...new Set([...w0(n),...w0(e)])],s={};for(const r of i)s[r]=(t=e[r])!=null?t:n[r];return s},H8=bt({a11y:{type:Boolean,default:!0},locale:{type:qe(Object)},size:Yl,button:{type:qe(Object)},experimentalFeatures:{type:qe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:qe(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),W8={},j8=Re({name:"ElConfigProvider",props:H8,setup(n,{slots:e}){$e(()=>n.message,i=>{Object.assign(W8,i??{})},{immediate:!0,deep:!0});const t=U8(n);return()=>dt(e,"default",{config:t==null?void 0:t.value})}}),q8=ks(j8);var At=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t};const K8=bt({size:{type:qe([Number,String])},color:{type:String}}),G8=Re({name:"ElIcon",inheritAttrs:!1}),Q8=Re({...G8,props:K8,setup(n){const e=n,t=pt("icon"),i=N(()=>{const{size:s,color:r}=e;return!s&&!r?{}:{fontSize:uu(s)?void 0:_g(s),"--color":r}});return(s,r)=>(H(),le("i",Zi({class:g(t).b(),style:g(i)},s.$attrs),[dt(s.$slots,"default")],16))}});var Y8=At(Q8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const St=ks(Y8),$b=Symbol("formContextKey"),If=Symbol("formItemContextKey"),fa=(n,e={})=>{const t=se(void 0),i=e.prop?t:sA("size"),s=e.global?t:B8(),r=e.form?{size:void 0}:st($b,void 0),o=e.formItem?{size:void 0}:st(If,void 0);return N(()=>i.value||g(n)||(o==null?void 0:o.size)||(r==null?void 0:r.size)||s.value||"")},Ph=n=>{const e=sA("disabled"),t=st($b,void 0);return N(()=>e.value||g(n)||(t==null?void 0:t.disabled)||!1)},_a=()=>{const n=st($b,void 0),e=st(If,void 0);return{form:n,formItem:e}},Bb=(n,{formItemContext:e,disableIdGeneration:t,disableIdManagement:i})=>{t||(t=se(!1)),i||(i=se(!1));const s=se();let r;const o=N(()=>{var a;return!!(!n.label&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return mn(()=>{r=$e([Mn(n,"id"),t],([a,l])=>{const c=a??(l?void 0:mA().value);c!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(i!=null&&i.value)&&!l&&c&&e.addInputId(c)),s.value=c)},{immediate:!0})}),jl(()=>{r&&r(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:o,inputId:s}};let ds;const J8=`
  height:0 !important;
  visibility:hidden !important;
  ${hD()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,X8=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Z8(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:X8.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:i,borderSize:s,boxSizing:t}}function N0(n,e=1,t){var i;ds||(ds=document.createElement("textarea"),document.body.appendChild(ds));const{paddingSize:s,borderSize:r,boxSizing:o,contextStyle:a}=Z8(n);ds.setAttribute("style",`${a};${J8}`),ds.value=n.value||n.placeholder||"";let l=ds.scrollHeight;const c={};o==="border-box"?l=l+r:o==="content-box"&&(l=l-s),ds.value="";const u=ds.scrollHeight-s;if(Li(e)){let d=u*e;o==="border-box"&&(d=d+s+r),l=Math.max(d,l),c.minHeight=`${d}px`}if(Li(t)){let d=u*t;o==="border-box"&&(d=d+s+r),l=Math.min(d,l)}return c.height=`${l}px`,(i=ds.parentNode)==null||i.removeChild(ds),ds=void 0,c}const e6=bt({id:{type:String,default:void 0},size:Yl,disabled:Boolean,modelValue:{type:qe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:qe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ua},prefixIcon:{type:ua},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:qe([Object,Array,String]),default:()=>cV({})}}),t6={[ci]:n=>Tt(n),input:n=>Tt(n),change:n=>Tt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},n6=["role"],i6=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],s6=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],r6=Re({name:"ElInput",inheritAttrs:!1}),o6=Re({...r6,props:e6,emits:t6,setup(n,{expose:e,emit:t}){const i=n,s=Du(),r=va(),o=N(()=>{const Z={};return i.containerRole==="combobox"&&(Z["aria-haspopup"]=s["aria-haspopup"],Z["aria-owns"]=s["aria-owns"],Z["aria-expanded"]=s["aria-expanded"]),Z}),a=N(()=>[i.type==="textarea"?b.b():m.b(),m.m(h.value),m.is("disabled",p.value),m.is("exceed",ce.value),{[m.b("group")]:r.prepend||r.append,[m.bm("group","append")]:r.append,[m.bm("group","prepend")]:r.prepend,[m.m("prefix")]:r.prefix||i.prefixIcon,[m.m("suffix")]:r.suffix||i.suffixIcon||i.clearable||i.showPassword,[m.bm("suffix","password-clear")]:Y.value&&pe.value},s.class]),l=N(()=>[m.e("wrapper"),m.is("focus",R.value)]),c=fV({excludeKeys:N(()=>Object.keys(o.value))}),{form:u,formItem:d}=_a(),{inputId:f}=Bb(i,{formItemContext:d}),h=fa(),p=Ph(),m=pt("input"),b=pt("textarea"),v=wr(),w=wr(),C=se(!1),_=se(!1),T=se(!1),k=se(),E=wr(i.inputStyle),S=N(()=>v.value||w.value),{wrapperRef:I,isFocused:R,handleFocus:q,handleBlur:W}=V8(S,{afterBlur(){var Z;i.validateEvent&&((Z=d==null?void 0:d.validate)==null||Z.call(d,"blur").catch(ke=>void 0))}}),z=N(()=>{var Z;return(Z=u==null?void 0:u.statusIcon)!=null?Z:!1}),L=N(()=>(d==null?void 0:d.validateState)||""),J=N(()=>L.value&&JT[L.value]),ne=N(()=>T.value?iV:qB),M=N(()=>[s.style,i.inputStyle]),Q=N(()=>[i.inputStyle,E.value,{resize:i.resize}]),U=N(()=>Sh(i.modelValue)?"":String(i.modelValue)),Y=N(()=>i.clearable&&!p.value&&!i.readonly&&!!U.value&&(R.value||C.value)),pe=N(()=>i.showPassword&&!p.value&&!i.readonly&&!!U.value&&(!!U.value||R.value)),O=N(()=>i.showWordLimit&&!!c.value.maxlength&&(i.type==="text"||i.type==="textarea")&&!p.value&&!i.readonly&&!i.showPassword),F=N(()=>U.value.length),ce=N(()=>!!O.value&&F.value>Number(c.value.maxlength)),be=N(()=>!!r.suffix||!!i.suffixIcon||Y.value||i.showPassword||O.value||!!L.value&&z.value),[Ae,je]=$8(v);vh(w,Z=>{if(Be(),!O.value||i.resize!=="both")return;const ke=Z[0],{width:Ve}=ke.contentRect;k.value={right:`calc(100% - ${Ve+15+6}px)`}});const Me=()=>{const{type:Z,autosize:ke}=i;if(!(!ti||Z!=="textarea"||!w.value))if(ke){const Ve=gt(ke)?ke.minRows:void 0,Ke=gt(ke)?ke.maxRows:void 0,rt=N0(w.value,Ve,Ke);E.value={overflowY:"hidden",...rt},ct(()=>{w.value.offsetHeight,E.value=rt})}else E.value={minHeight:N0(w.value).minHeight}},Be=(Z=>{let ke=!1;return()=>{var Ve;if(ke||!i.autosize)return;((Ve=w.value)==null?void 0:Ve.offsetParent)===null||(Z(),ke=!0)}})(Me),Ge=()=>{const Z=S.value,ke=i.formatter?i.formatter(U.value):U.value;!Z||Z.value===ke||(Z.value=ke)},x=async Z=>{Ae();let{value:ke}=Z.target;if(i.formatter&&(ke=i.parser?i.parser(ke):ke),!_.value){if(ke===U.value){Ge();return}t(ci,ke),t("input",ke),await ct(),Ge(),je()}},B=Z=>{t("change",Z.target.value)},te=Z=>{t("compositionstart",Z),_.value=!0},ue=Z=>{var ke;t("compositionupdate",Z);const Ve=(ke=Z.target)==null?void 0:ke.value,Ke=Ve[Ve.length-1]||"";_.value=!ZT(Ke)},ae=Z=>{t("compositionend",Z),_.value&&(_.value=!1,x(Z))},ye=()=>{T.value=!T.value,Ee()},Ee=async()=>{var Z;await ct(),(Z=S.value)==null||Z.focus()},ge=()=>{var Z;return(Z=S.value)==null?void 0:Z.blur()},oe=Z=>{C.value=!1,t("mouseleave",Z)},re=Z=>{C.value=!0,t("mouseenter",Z)},j=Z=>{t("keydown",Z)},K=()=>{var Z;(Z=S.value)==null||Z.select()},Ce=()=>{t(ci,""),t("change",""),t("clear"),t("input","")};return $e(()=>i.modelValue,()=>{var Z;ct(()=>Me()),i.validateEvent&&((Z=d==null?void 0:d.validate)==null||Z.call(d,"change").catch(ke=>void 0))}),$e(U,()=>Ge()),$e(()=>i.type,async()=>{await ct(),Ge(),Me()}),mn(()=>{!i.formatter&&i.parser,Ge(),ct(Me)}),e({input:v,textarea:w,ref:S,textareaStyle:Q,autosize:Mn(i,"autosize"),focus:Ee,blur:ge,select:K,clear:Ce,resizeTextarea:Me}),(Z,ke)=>Wt((H(),le("div",Zi(g(o),{class:g(a),style:g(M),role:Z.containerRole,onMouseenter:re,onMouseleave:oe}),[De(" input "),Z.type!=="textarea"?(H(),le(Ze,{key:0},[De(" prepend slot "),Z.$slots.prepend?(H(),le("div",{key:0,class:G(g(m).be("group","prepend"))},[dt(Z.$slots,"prepend")],2)):De("v-if",!0),X("div",{ref_key:"wrapperRef",ref:I,class:G(g(l))},[De(" prefix slot "),Z.$slots.prefix||Z.prefixIcon?(H(),le("span",{key:0,class:G(g(m).e("prefix"))},[X("span",{class:G(g(m).e("prefix-inner"))},[dt(Z.$slots,"prefix"),Z.prefixIcon?(H(),ze(g(St),{key:0,class:G(g(m).e("icon"))},{default:Te(()=>[(H(),ze(Fn(Z.prefixIcon)))]),_:1},8,["class"])):De("v-if",!0)],2)],2)):De("v-if",!0),X("input",Zi({id:g(f),ref_key:"input",ref:v,class:g(m).e("inner")},g(c),{type:Z.showPassword?T.value?"text":"password":Z.type,disabled:g(p),formatter:Z.formatter,parser:Z.parser,readonly:Z.readonly,autocomplete:Z.autocomplete,tabindex:Z.tabindex,"aria-label":Z.label,placeholder:Z.placeholder,style:Z.inputStyle,form:i.form,onCompositionstart:te,onCompositionupdate:ue,onCompositionend:ae,onInput:x,onFocus:ke[0]||(ke[0]=(...Ve)=>g(q)&&g(q)(...Ve)),onBlur:ke[1]||(ke[1]=(...Ve)=>g(W)&&g(W)(...Ve)),onChange:B,onKeydown:j}),null,16,i6),De(" suffix slot "),g(be)?(H(),le("span",{key:1,class:G(g(m).e("suffix"))},[X("span",{class:G(g(m).e("suffix-inner"))},[!g(Y)||!g(pe)||!g(O)?(H(),le(Ze,{key:0},[dt(Z.$slots,"suffix"),Z.suffixIcon?(H(),ze(g(St),{key:0,class:G(g(m).e("icon"))},{default:Te(()=>[(H(),ze(Fn(Z.suffixIcon)))]),_:1},8,["class"])):De("v-if",!0)],64)):De("v-if",!0),g(Y)?(H(),ze(g(St),{key:1,class:G([g(m).e("icon"),g(m).e("clear")]),onMousedown:ln(g(ei),["prevent"]),onClick:Ce},{default:Te(()=>[me(g(Eh))]),_:1},8,["class","onMousedown"])):De("v-if",!0),g(pe)?(H(),ze(g(St),{key:2,class:G([g(m).e("icon"),g(m).e("password")]),onClick:ye},{default:Te(()=>[(H(),ze(Fn(g(ne))))]),_:1},8,["class"])):De("v-if",!0),g(O)?(H(),le("span",{key:3,class:G(g(m).e("count"))},[X("span",{class:G(g(m).e("count-inner"))},Oe(g(F))+" / "+Oe(g(c).maxlength),3)],2)):De("v-if",!0),g(L)&&g(J)&&g(z)?(H(),ze(g(St),{key:4,class:G([g(m).e("icon"),g(m).e("validateIcon"),g(m).is("loading",g(L)==="validating")])},{default:Te(()=>[(H(),ze(Fn(g(J))))]),_:1},8,["class"])):De("v-if",!0)],2)],2)):De("v-if",!0)],2),De(" append slot "),Z.$slots.append?(H(),le("div",{key:1,class:G(g(m).be("group","append"))},[dt(Z.$slots,"append")],2)):De("v-if",!0)],64)):(H(),le(Ze,{key:1},[De(" textarea "),X("textarea",Zi({id:g(f),ref_key:"textarea",ref:w,class:g(b).e("inner")},g(c),{tabindex:Z.tabindex,disabled:g(p),readonly:Z.readonly,autocomplete:Z.autocomplete,style:g(Q),"aria-label":Z.label,placeholder:Z.placeholder,form:i.form,onCompositionstart:te,onCompositionupdate:ue,onCompositionend:ae,onInput:x,onFocus:ke[2]||(ke[2]=(...Ve)=>g(q)&&g(q)(...Ve)),onBlur:ke[3]||(ke[3]=(...Ve)=>g(W)&&g(W)(...Ve)),onChange:B,onKeydown:j}),null,16,s6),g(O)?(H(),le("span",{key:0,style:cn(k.value),class:G(g(m).e("count"))},Oe(g(F))+" / "+Oe(g(c).maxlength),7)):De("v-if",!0)],64))],16,n6)),[[li,Z.type!=="hidden"]])}});var a6=At(o6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Us=ks(a6),el=4,l6={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},c6=({move:n,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${n}%)`}),_A=Symbol("scrollbarContextKey"),u6=bt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),d6="Thumb",f6=Re({__name:"thumb",props:u6,setup(n){const e=n,t=st(_A),i=pt("scrollbar");t||x$(d6,"can not inject scrollbar context");const s=se(),r=se(),o=se({}),a=se(!1);let l=!1,c=!1,u=ti?document.onselectstart:null;const d=N(()=>l6[e.vertical?"vertical":"horizontal"]),f=N(()=>c6({size:e.size,move:e.move,bar:d.value})),h=N(()=>s.value[d.value.offset]**2/t.wrapElement[d.value.scrollSize]/e.ratio/r.value[d.value.offset]),p=k=>{var E;if(k.stopPropagation(),k.ctrlKey||[1,2].includes(k.button))return;(E=window.getSelection())==null||E.removeAllRanges(),b(k);const S=k.currentTarget;S&&(o.value[d.value.axis]=S[d.value.offset]-(k[d.value.client]-S.getBoundingClientRect()[d.value.direction]))},m=k=>{if(!r.value||!s.value||!t.wrapElement)return;const E=Math.abs(k.target.getBoundingClientRect()[d.value.direction]-k[d.value.client]),S=r.value[d.value.offset]/2,I=(E-S)*100*h.value/s.value[d.value.offset];t.wrapElement[d.value.scroll]=I*t.wrapElement[d.value.scrollSize]/100},b=k=>{k.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",w),u=document.onselectstart,document.onselectstart=()=>!1},v=k=>{if(!s.value||!r.value||l===!1)return;const E=o.value[d.value.axis];if(!E)return;const S=(s.value.getBoundingClientRect()[d.value.direction]-k[d.value.client])*-1,I=r.value[d.value.offset]-E,R=(S-I)*100*h.value/s.value[d.value.offset];t.wrapElement[d.value.scroll]=R*t.wrapElement[d.value.scrollSize]/100},w=()=>{l=!1,o.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",w),T(),c&&(a.value=!1)},C=()=>{c=!1,a.value=!!e.size},_=()=>{c=!0,a.value=l};Ei(()=>{T(),document.removeEventListener("mouseup",w)});const T=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return Go(Mn(t,"scrollbarElement"),"mousemove",C),Go(Mn(t,"scrollbarElement"),"mouseleave",_),(k,E)=>(H(),ze(ys,{name:g(i).b("fade"),persisted:""},{default:Te(()=>[Wt(X("div",{ref_key:"instance",ref:s,class:G([g(i).e("bar"),g(i).is(g(d).key)]),onMousedown:m},[X("div",{ref_key:"thumb",ref:r,class:G(g(i).e("thumb")),style:cn(g(f)),onMousedown:p},null,38)],34),[[li,k.always||a.value]])]),_:1},8,["name"]))}});var L0=At(f6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const h6=bt({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),m6=Re({__name:"bar",props:h6,setup(n,{expose:e}){const t=n,i=se(0),s=se(0);return e({handleScroll:o=>{if(o){const a=o.offsetHeight-el,l=o.offsetWidth-el;s.value=o.scrollTop*100/a*t.ratioY,i.value=o.scrollLeft*100/l*t.ratioX}}}),(o,a)=>(H(),le(Ze,null,[me(L0,{move:i.value,ratio:o.ratioX,size:o.width,always:o.always},null,8,["move","ratio","size","always"]),me(L0,{move:s.value,ratio:o.ratioY,size:o.height,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var p6=At(m6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const g6=bt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:qe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),v6={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(Li)},b6="ElScrollbar",y6=Re({name:b6}),w6=Re({...y6,props:g6,emits:v6,setup(n,{expose:e,emit:t}){const i=n,s=pt("scrollbar");let r,o;const a=se(),l=se(),c=se(),u=se("0"),d=se("0"),f=se(),h=se(1),p=se(1),m=N(()=>{const E={};return i.height&&(E.height=_g(i.height)),i.maxHeight&&(E.maxHeight=_g(i.maxHeight)),[i.wrapStyle,E]}),b=N(()=>[i.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!i.native}]),v=N(()=>[s.e("view"),i.viewClass]),w=()=>{var E;l.value&&((E=f.value)==null||E.handleScroll(l.value),t("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function C(E,S){gt(E)?l.value.scrollTo(E):Li(E)&&Li(S)&&l.value.scrollTo(E,S)}const _=E=>{Li(E)&&(l.value.scrollTop=E)},T=E=>{Li(E)&&(l.value.scrollLeft=E)},k=()=>{if(!l.value)return;const E=l.value.offsetHeight-el,S=l.value.offsetWidth-el,I=E**2/l.value.scrollHeight,R=S**2/l.value.scrollWidth,q=Math.max(I,i.minSize),W=Math.max(R,i.minSize);h.value=I/(E-I)/(q/(E-q)),p.value=R/(S-R)/(W/(S-W)),d.value=q+el<E?`${q}px`:"",u.value=W+el<S?`${W}px`:""};return $e(()=>i.noresize,E=>{E?(r==null||r(),o==null||o()):({stop:r}=vh(c,k),o=Go("resize",k))},{immediate:!0}),$e(()=>[i.maxHeight,i.height],()=>{i.native||ct(()=>{var E;k(),l.value&&((E=f.value)==null||E.handleScroll(l.value))})}),Sn(_A,qi({scrollbarElement:a,wrapElement:l})),mn(()=>{i.native||ct(()=>{k()})}),Mu(()=>k()),e({wrapRef:l,update:k,scrollTo:C,setScrollTop:_,setScrollLeft:T,handleScroll:w}),(E,S)=>(H(),le("div",{ref_key:"scrollbarRef",ref:a,class:G(g(s).b())},[X("div",{ref_key:"wrapRef",ref:l,class:G(g(b)),style:cn(g(m)),onScroll:w},[(H(),ze(Fn(E.tag),{ref_key:"resizeRef",ref:c,class:G(g(v)),style:cn(E.viewStyle)},{default:Te(()=>[dt(E.$slots,"default")]),_:3},8,["class","style"]))],38),E.native?De("v-if",!0):(H(),ze(p6,{key:0,ref_key:"barRef",ref:f,height:d.value,width:u.value,always:E.always,"ratio-x":p.value,"ratio-y":h.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var _6=At(w6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const CA=ks(_6),Vb=Symbol("popper"),kA=Symbol("popperContent"),C6=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],SA=bt({role:{type:String,values:C6,default:"tooltip"}}),k6=Re({name:"ElPopper",inheritAttrs:!1}),S6=Re({...k6,props:SA,setup(n,{expose:e}){const t=n,i=se(),s=se(),r=se(),o=se(),a=N(()=>t.role),l={triggerRef:i,popperInstanceRef:s,contentRef:r,referenceRef:o,role:a};return e(l),Sn(Vb,l),(c,u)=>dt(c.$slots,"default")}});var E6=At(S6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const EA=bt({arrowOffset:{type:Number,default:5}}),T6=Re({name:"ElPopperArrow",inheritAttrs:!1}),A6=Re({...T6,props:EA,setup(n,{expose:e}){const t=n,i=pt("popper"),{arrowOffset:s,arrowRef:r,arrowStyle:o}=st(kA,void 0);return $e(()=>t.arrowOffset,a=>{s.value=a}),Ei(()=>{r.value=void 0}),e({arrowRef:r}),(a,l)=>(H(),le("span",{ref_key:"arrowRef",ref:r,class:G(g(i).e("arrow")),style:cn(g(o)),"data-popper-arrow":""},null,6))}});var x6=At(A6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const P6="ElOnlyChild",I6=Re({name:P6,setup(n,{slots:e,attrs:t}){var i;const s=st(gA),r=F8((i=s==null?void 0:s.setForwardRef)!=null?i:ei);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,t);if(!a||a.length>1)return null;const l=TA(a);return l?Wt(bs(l,t),[[r]]):null}}});function TA(n){if(!n)return null;const e=n;for(const t of e){if(gt(t))switch(t.type){case zn:continue;case er:case"svg":return $0(t);case Ze:return TA(t.children);default:return t}return $0(t)}return null}function $0(n){const e=pt("only-child");return me("span",{class:e.e("content")},[n])}const AA=bt({virtualRef:{type:qe(Object)},virtualTriggering:Boolean,onMouseenter:{type:qe(Function)},onMouseleave:{type:qe(Function)},onClick:{type:qe(Function)},onKeydown:{type:qe(Function)},onFocus:{type:qe(Function)},onBlur:{type:qe(Function)},onContextmenu:{type:qe(Function)},id:String,open:Boolean}),O6=Re({name:"ElPopperTrigger",inheritAttrs:!1}),R6=Re({...O6,props:AA,setup(n,{expose:e}){const t=n,{role:i,triggerRef:s}=st(Vb,void 0);D8(s);const r=N(()=>a.value?t.id:void 0),o=N(()=>{if(i&&i.value==="tooltip")return t.open&&t.id?t.id:void 0}),a=N(()=>{if(i&&i.value!=="tooltip")return i.value}),l=N(()=>a.value?`${t.open}`:void 0);let c;return mn(()=>{$e(()=>t.virtualRef,u=>{u&&(s.value=Zr(u))},{immediate:!0}),$e(s,(u,d)=>{c==null||c(),c=void 0,fu(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var h;const p=t[f];p&&(u.addEventListener(f.slice(2).toLowerCase(),p),(h=d==null?void 0:d.removeEventListener)==null||h.call(d,f.slice(2).toLowerCase(),p))}),c=$e([r,o,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,p)=>{Sh(f[p])?u.removeAttribute(h):u.setAttribute(h,f[p])})},{immediate:!0})),fu(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>d.removeAttribute(f))},{immediate:!0})}),Ei(()=>{c==null||c(),c=void 0}),e({triggerRef:s}),(u,d)=>u.virtualTriggering?De("v-if",!0):(H(),ze(g(I6),Zi({key:0},u.$attrs,{"aria-controls":g(r),"aria-describedby":g(o),"aria-expanded":g(l),"aria-haspopup":g(a)}),{default:Te(()=>[dt(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var M6=At(R6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Gm="focus-trap.focus-after-trapped",Qm="focus-trap.focus-after-released",D6="focus-trap.focusout-prevented",B0={cancelable:!0,bubbles:!1},F6={cancelable:!0,bubbles:!1},V0="focusAfterTrapped",U0="focusAfterReleased",N6=Symbol("elFocusTrap"),Ub=se(),Ih=se(0),zb=se(0);let yd=0;const xA=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},z0=(n,e)=>{for(const t of n)if(!L6(t,e))return t},L6=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},$6=n=>{const e=xA(n),t=z0(e,n),i=z0(e.reverse(),n);return[t,i]},B6=n=>n instanceof HTMLInputElement&&"select"in n,Wr=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),zb.value=window.performance.now(),n!==t&&B6(n)&&e&&n.select()}};function H0(n,e){const t=[...n],i=n.indexOf(e);return i!==-1&&t.splice(i,1),t}const V6=()=>{let n=[];return{push:i=>{const s=n[0];s&&i!==s&&s.pause(),n=H0(n,i),n.unshift(i)},remove:i=>{var s,r;n=H0(n,i),(r=(s=n[0])==null?void 0:s.resume)==null||r.call(s)}}},U6=(n,e=!1)=>{const t=document.activeElement;for(const i of n)if(Wr(i,e),document.activeElement!==t)return},W0=V6(),z6=()=>Ih.value>zb.value,wd=()=>{Ub.value="pointer",Ih.value=window.performance.now()},j0=()=>{Ub.value="keyboard",Ih.value=window.performance.now()},H6=()=>(mn(()=>{yd===0&&(document.addEventListener("mousedown",wd),document.addEventListener("touchstart",wd),document.addEventListener("keydown",j0)),yd++}),Ei(()=>{yd--,yd<=0&&(document.removeEventListener("mousedown",wd),document.removeEventListener("touchstart",wd),document.removeEventListener("keydown",j0))}),{focusReason:Ub,lastUserFocusTimestamp:Ih,lastAutomatedFocusTimestamp:zb}),_d=n=>new CustomEvent(D6,{...F6,detail:n}),W6=Re({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[V0,U0,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const t=se();let i,s;const{focusReason:r}=H6();P8(p=>{n.trapped&&!o.paused&&e("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=p=>{if(!n.loop&&!n.trapped||o.paused)return;const{key:m,altKey:b,ctrlKey:v,metaKey:w,currentTarget:C,shiftKey:_}=p,{loop:T}=n,k=m===Ht.tab&&!b&&!v&&!w,E=document.activeElement;if(k&&E){const S=C,[I,R]=$6(S);if(I&&R){if(!_&&E===R){const W=_d({focusReason:r.value});e("focusout-prevented",W),W.defaultPrevented||(p.preventDefault(),T&&Wr(I,!0))}else if(_&&[I,S].includes(E)){const W=_d({focusReason:r.value});e("focusout-prevented",W),W.defaultPrevented||(p.preventDefault(),T&&Wr(R,!0))}}else if(E===S){const W=_d({focusReason:r.value});e("focusout-prevented",W),W.defaultPrevented||p.preventDefault()}}};Sn(N6,{focusTrapRef:t,onKeydown:a}),$e(()=>n.focusTrapEl,p=>{p&&(t.value=p)},{immediate:!0}),$e([t],([p],[m])=>{p&&(p.addEventListener("keydown",a),p.addEventListener("focusin",u),p.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",a),m.removeEventListener("focusin",u),m.removeEventListener("focusout",d))});const l=p=>{e(V0,p)},c=p=>e(U0,p),u=p=>{const m=g(t);if(!m)return;const b=p.target,v=p.relatedTarget,w=b&&m.contains(b);n.trapped||v&&m.contains(v)||(i=v),w&&e("focusin",p),!o.paused&&n.trapped&&(w?s=b:Wr(s,!0))},d=p=>{const m=g(t);if(!(o.paused||!m))if(n.trapped){const b=p.relatedTarget;!Sh(b)&&!m.contains(b)&&setTimeout(()=>{if(!o.paused&&n.trapped){const v=_d({focusReason:r.value});e("focusout-prevented",v),v.defaultPrevented||Wr(s,!0)}},0)}else{const b=p.target;b&&m.contains(b)||e("focusout",p)}};async function f(){await ct();const p=g(t);if(p){W0.push(o);const m=p.contains(document.activeElement)?i:document.activeElement;if(i=m,!p.contains(m)){const v=new Event(Gm,B0);p.addEventListener(Gm,l),p.dispatchEvent(v),v.defaultPrevented||ct(()=>{let w=n.focusStartEl;Tt(w)||(Wr(w),document.activeElement!==w&&(w="first")),w==="first"&&U6(xA(p),!0),(document.activeElement===m||w==="container")&&Wr(p)})}}}function h(){const p=g(t);if(p){p.removeEventListener(Gm,l);const m=new CustomEvent(Qm,{...B0,detail:{focusReason:r.value}});p.addEventListener(Qm,c),p.dispatchEvent(m),!m.defaultPrevented&&(r.value=="keyboard"||!z6()||p.contains(document.activeElement))&&Wr(i??document.body),p.removeEventListener(Qm,c),W0.remove(o)}}return mn(()=>{n.trapped&&f(),$e(()=>n.trapped,p=>{p?f():h()})}),Ei(()=>{n.trapped&&h()}),{onKeydown:a}}});function j6(n,e,t,i,s,r){return dt(n.$slots,"default",{handleKeydown:n.onKeydown})}var q6=At(W6,[["render",j6],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const K6=["fixed","absolute"],G6=bt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:qe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ah,default:"bottom"},popperOptions:{type:qe(Object),default:()=>({})},strategy:{type:String,values:K6,default:"absolute"}}),PA=bt({...G6,id:String,style:{type:qe([String,Array,Object])},className:{type:qe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:qe([String,Array,Object])},popperStyle:{type:qe([String,Array,Object])},referenceEl:{type:qe(Object)},triggerTargetEl:{type:qe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),Q6={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Y6=(n,e=[])=>{const{placement:t,strategy:i,popperOptions:s}=n,r={placement:t,strategy:i,...s,modifiers:[...X6(n),...e]};return Z6(r,s==null?void 0:s.modifiers),r},J6=n=>{if(ti)return Zr(n)};function X6(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:i}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:t}}]}function Z6(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const e7=0,t7=n=>{const{popperInstanceRef:e,contentRef:t,triggerRef:i,role:s}=st(Vb,void 0),r=se(),o=se(),a=N(()=>({name:"eventListeners",enabled:!!n.visible})),l=N(()=>{var v;const w=g(r),C=(v=g(o))!=null?v:e7;return{name:"arrow",enabled:!p$(w),options:{element:w,padding:C}}}),c=N(()=>({onFirstUpdate:()=>{p()},...Y6(n,[g(l),g(a)])})),u=N(()=>J6(n.referenceEl)||g(i)),{attributes:d,state:f,styles:h,update:p,forceUpdate:m,instanceRef:b}=T8(u,t,c);return $e(b,v=>e.value=v),mn(()=>{$e(()=>{var v;return(v=g(u))==null?void 0:v.getBoundingClientRect()},()=>{p()})}),{attributes:d,arrowRef:r,contentRef:t,instanceRef:b,state:f,styles:h,role:s,forceUpdate:m,update:p}},n7=(n,{attributes:e,styles:t,role:i})=>{const{nextZIndex:s}=L8(),r=pt("popper"),o=N(()=>g(e).popper),a=se(n.zIndex||s()),l=N(()=>[r.b(),r.is("pure",n.pure),r.is(n.effect),n.popperClass]),c=N(()=>[{zIndex:g(a)},g(t).popper,n.popperStyle||{}]),u=N(()=>i.value==="dialog"?"false":void 0),d=N(()=>g(t).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:o,contentClass:l,contentStyle:c,contentZIndex:a,updateZIndex:()=>{a.value=n.zIndex||s()}}},i7=(n,e)=>{const t=se(!1),i=se();return{focusStartRef:i,trapped:t,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{n.visible&&!t.value&&(c.target&&(i.value=c.target),t.value=!0)},onFocusoutPrevented:c=>{n.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),t.value=!1)},onReleaseRequested:()=>{t.value=!1,e("close")}}},s7=Re({name:"ElPopperContent"}),r7=Re({...s7,props:PA,emits:Q6,setup(n,{expose:e,emit:t}){const i=n,{focusStartRef:s,trapped:r,onFocusAfterReleased:o,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=i7(i,t),{attributes:d,arrowRef:f,contentRef:h,styles:p,instanceRef:m,role:b,update:v}=t7(i),{ariaModal:w,arrowStyle:C,contentAttrs:_,contentClass:T,contentStyle:k,updateZIndex:E}=n7(i,{styles:p,attributes:d,role:b}),S=st(If,void 0),I=se();Sn(kA,{arrowStyle:C,arrowRef:f,arrowOffset:I}),S&&(S.addInputId||S.removeInputId)&&Sn(If,{...S,addInputId:ei,removeInputId:ei});let R;const q=(z=!0)=>{v(),z&&E()},W=()=>{q(!1),i.visible&&i.focusOnShow?r.value=!0:i.visible===!1&&(r.value=!1)};return mn(()=>{$e(()=>i.triggerTargetEl,(z,L)=>{R==null||R(),R=void 0;const J=g(z||h.value),ne=g(L||h.value);fu(J)&&(R=$e([b,()=>i.ariaLabel,w,()=>i.id],M=>{["role","aria-label","aria-modal","id"].forEach((Q,U)=>{Sh(M[U])?J.removeAttribute(Q):J.setAttribute(Q,M[U])})},{immediate:!0})),ne!==J&&fu(ne)&&["role","aria-label","aria-modal","id"].forEach(M=>{ne.removeAttribute(M)})},{immediate:!0}),$e(()=>i.visible,W,{immediate:!0})}),Ei(()=>{R==null||R(),R=void 0}),e({popperContentRef:h,popperInstanceRef:m,updatePopper:q,contentStyle:k}),(z,L)=>(H(),le("div",Zi({ref_key:"contentRef",ref:h},g(_),{style:g(k),class:g(T),tabindex:"-1",onMouseenter:L[0]||(L[0]=J=>z.$emit("mouseenter",J)),onMouseleave:L[1]||(L[1]=J=>z.$emit("mouseleave",J))}),[me(g(q6),{trapped:g(r),"trap-on-focus-in":!0,"focus-trap-el":g(h),"focus-start-el":g(s),onFocusAfterTrapped:g(a),onFocusAfterReleased:g(o),onFocusin:g(l),onFocusoutPrevented:g(c),onReleaseRequested:g(u)},{default:Te(()=>[dt(z.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var o7=At(r7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const a7=ks(E6),Oh=Symbol("elTooltip"),Hb=bt({...R8,...PA,appendTo:{type:qe([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:qe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),IA=bt({...AA,disabled:Boolean,trigger:{type:qe([String,Array]),default:"hover"},triggerKeys:{type:qe(Array),default:()=>[Ht.enter,Ht.space]}}),{useModelToggleProps:l7,useModelToggleEmits:c7,useModelToggle:u7}=iA("visible"),d7=bt({...SA,...l7,...Hb,...IA,...EA,showArrow:{type:Boolean,default:!0}}),f7=[...c7,"before-show","before-hide","show","hide","open","close"],h7=(n,e)=>xe(n)?n.includes(e):n===e,Na=(n,e,t)=>i=>{h7(g(n),e)&&t(i)},m7=Re({name:"ElTooltipTrigger"}),p7=Re({...m7,props:IA,setup(n,{expose:e}){const t=n,i=pt("tooltip"),{controlled:s,id:r,open:o,onOpen:a,onClose:l,onToggle:c}=st(Oh,void 0),u=se(null),d=()=>{if(g(s)||t.disabled)return!0},f=Mn(t,"trigger"),h=pr(d,Na(f,"hover",a)),p=pr(d,Na(f,"hover",l)),m=pr(d,Na(f,"click",_=>{_.button===0&&c(_)})),b=pr(d,Na(f,"focus",a)),v=pr(d,Na(f,"focus",l)),w=pr(d,Na(f,"contextmenu",_=>{_.preventDefault(),c(_)})),C=pr(d,_=>{const{code:T}=_;t.triggerKeys.includes(T)&&(_.preventDefault(),c(_))});return e({triggerRef:u}),(_,T)=>(H(),ze(g(M6),{id:g(r),"virtual-ref":_.virtualRef,open:g(o),"virtual-triggering":_.virtualTriggering,class:G(g(i).e("trigger")),onBlur:g(v),onClick:g(m),onContextmenu:g(w),onFocus:g(b),onMouseenter:g(h),onMouseleave:g(p),onKeydown:g(C)},{default:Te(()=>[dt(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var g7=At(p7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const v7=Re({name:"ElTooltipContent",inheritAttrs:!1}),b7=Re({...v7,props:Hb,setup(n,{expose:e}){const t=n,{selector:i}=pA(),s=pt("tooltip"),r=se(null),o=se(!1),{controlled:a,id:l,open:c,trigger:u,onClose:d,onOpen:f,onShow:h,onHide:p,onBeforeShow:m,onBeforeHide:b}=st(Oh,void 0),v=N(()=>t.transition||`${s.namespace.value}-fade-in-linear`),w=N(()=>t.persistent);Ei(()=>{o.value=!0});const C=N(()=>g(w)?!0:g(c)),_=N(()=>t.disabled?!1:g(c)),T=N(()=>t.appendTo||i.value),k=N(()=>{var M;return(M=t.style)!=null?M:{}}),E=N(()=>!g(c)),S=()=>{p()},I=()=>{if(g(a))return!0},R=pr(I,()=>{t.enterable&&g(u)==="hover"&&f()}),q=pr(I,()=>{g(u)==="hover"&&d()}),W=()=>{var M,Q;(Q=(M=r.value)==null?void 0:M.updatePopper)==null||Q.call(M),m==null||m()},z=()=>{b==null||b()},L=()=>{h(),ne=sT(N(()=>{var M;return(M=r.value)==null?void 0:M.popperContentRef}),()=>{if(g(a))return;g(u)!=="hover"&&d()})},J=()=>{t.virtualTriggering||d()};let ne;return $e(()=>g(c),M=>{M||ne==null||ne()},{flush:"post"}),$e(()=>t.content,()=>{var M,Q;(Q=(M=r.value)==null?void 0:M.updatePopper)==null||Q.call(M)}),e({contentRef:r}),(M,Q)=>(H(),ze(_E,{disabled:!M.teleported,to:g(T)},[me(ys,{name:g(v),onAfterLeave:S,onBeforeEnter:W,onAfterEnter:L,onBeforeLeave:z},{default:Te(()=>[g(C)?Wt((H(),ze(g(o7),Zi({key:0,id:g(l),ref_key:"contentRef",ref:r},M.$attrs,{"aria-label":M.ariaLabel,"aria-hidden":g(E),"boundaries-padding":M.boundariesPadding,"fallback-placements":M.fallbackPlacements,"gpu-acceleration":M.gpuAcceleration,offset:M.offset,placement:M.placement,"popper-options":M.popperOptions,strategy:M.strategy,effect:M.effect,enterable:M.enterable,pure:M.pure,"popper-class":M.popperClass,"popper-style":[M.popperStyle,g(k)],"reference-el":M.referenceEl,"trigger-target-el":M.triggerTargetEl,visible:g(_),"z-index":M.zIndex,onMouseenter:g(R),onMouseleave:g(q),onBlur:J,onClose:g(d)}),{default:Te(()=>[o.value?De("v-if",!0):dt(M.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[li,g(_)]]):De("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var y7=At(b7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const w7=["innerHTML"],_7={key:1},C7=Re({name:"ElTooltip"}),k7=Re({...C7,props:d7,emits:f7,setup(n,{expose:e,emit:t}){const i=n;O8();const s=mA(),r=se(),o=se(),a=()=>{var v;const w=g(r);w&&((v=w.popperInstanceRef)==null||v.update())},l=se(!1),c=se(),{show:u,hide:d,hasUpdateHandler:f}=u7({indicator:l,toggleReason:c}),{onOpen:h,onClose:p}=M8({showAfter:Mn(i,"showAfter"),hideAfter:Mn(i,"hideAfter"),autoClose:Mn(i,"autoClose"),open:u,close:d}),m=N(()=>du(i.visible)&&!f.value);Sn(Oh,{controlled:m,id:s,open:Iu(l),trigger:Mn(i,"trigger"),onOpen:v=>{h(v)},onClose:v=>{p(v)},onToggle:v=>{g(l)?p(v):h(v)},onShow:()=>{t("show",c.value)},onHide:()=>{t("hide",c.value)},onBeforeShow:()=>{t("before-show",c.value)},onBeforeHide:()=>{t("before-hide",c.value)},updatePopper:a}),$e(()=>i.disabled,v=>{v&&l.value&&(l.value=!1)});const b=v=>{var w,C;const _=(C=(w=o.value)==null?void 0:w.contentRef)==null?void 0:C.popperContentRef,T=(v==null?void 0:v.relatedTarget)||document.activeElement;return _&&_.contains(T)};return nb(()=>l.value&&d()),e({popperRef:r,contentRef:o,isFocusInsideContent:b,updatePopper:a,onOpen:h,onClose:p,hide:d}),(v,w)=>(H(),ze(g(a7),{ref_key:"popperRef",ref:r,role:v.role},{default:Te(()=>[me(g7,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:Te(()=>[v.$slots.default?dt(v.$slots,"default",{key:0}):De("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),me(y7,{ref_key:"contentRef",ref:o,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:Te(()=>[dt(v.$slots,"content",{},()=>[v.rawContent?(H(),le("span",{key:0,innerHTML:v.content},null,8,w7)):(H(),le("span",_7,Oe(v.content),1))]),v.showArrow?(H(),ze(g(x6),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):De("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var S7=At(k7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const OA=ks(S7),RA=Symbol("breadcrumbKey"),E7=bt({separator:{type:String,default:"/"},separatorIcon:{type:ua}}),T7=Re({name:"ElBreadcrumb"}),A7=Re({...T7,props:E7,setup(n){const e=n,t=pt("breadcrumb"),i=se();return Sn(RA,e),mn(()=>{const s=i.value.querySelectorAll(`.${t.e("item")}`);s.length&&s[s.length-1].setAttribute("aria-current","page")}),(s,r)=>(H(),le("div",{ref_key:"breadcrumb",ref:i,class:G(g(t).b()),"aria-label":"Breadcrumb",role:"navigation"},[dt(s.$slots,"default")],2))}});var x7=At(A7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const P7=bt({to:{type:qe([String,Object]),default:""},replace:{type:Boolean,default:!1}}),I7=Re({name:"ElBreadcrumbItem"}),O7=Re({...I7,props:P7,setup(n){const e=n,t=Rt(),i=st(RA,void 0),s=pt("breadcrumb"),r=t.appContext.config.globalProperties.$router,o=se(),a=()=>{!e.to||!r||(e.replace?r.replace(e.to):r.push(e.to))};return(l,c)=>{var u,d;return H(),le("span",{class:G(g(s).e("item"))},[X("span",{ref_key:"link",ref:o,class:G([g(s).e("inner"),g(s).is("link",!!l.to)]),role:"link",onClick:a},[dt(l.$slots,"default")],2),(u=g(i))!=null&&u.separatorIcon?(H(),ze(g(St),{key:0,class:G(g(s).e("separator"))},{default:Te(()=>[(H(),ze(Fn(g(i).separatorIcon)))]),_:1},8,["class"])):(H(),le("span",{key:1,class:G(g(s).e("separator")),role:"presentation"},Oe((d=g(i))==null?void 0:d.separator),3))],2)}}});var MA=At(O7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const R7=ks(x7,{BreadcrumbItem:MA}),M7=Ql(MA),DA=Symbol("buttonGroupContextKey"),D7=(n,e)=>{eA({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},N(()=>n.type==="text"));const t=st(DA,void 0),i=wA("button"),{form:s}=_a(),r=fa(N(()=>t==null?void 0:t.size)),o=Ph(),a=se(),l=va(),c=N(()=>n.type||(t==null?void 0:t.type)||""),u=N(()=>{var p,m,b;return(b=(m=n.autoInsertSpace)!=null?m:(p=i.value)==null?void 0:p.autoInsertSpace)!=null?b:!1}),d=N(()=>n.tag==="button"?{ariaDisabled:o.value||n.loading,disabled:o.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),f=N(()=>{var p;const m=(p=l.default)==null?void 0:p.call(l);if(u.value&&(m==null?void 0:m.length)===1){const b=m[0];if((b==null?void 0:b.type)===er){const v=b.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:o,_size:r,_type:c,_ref:a,_props:d,shouldAddSpace:f,handleClick:p=>{n.nativeType==="reset"&&(s==null||s.resetFields()),e("click",p)}}},F7=["default","primary","success","warning","info","danger","text",""],N7=["button","submit","reset"],Eg=bt({size:Yl,disabled:Boolean,type:{type:String,values:F7,default:""},icon:{type:ua},nativeType:{type:String,values:N7,default:"button"},loading:Boolean,loadingIcon:{type:ua,default:()=>QT},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:qe([String,Object]),default:"button"}}),L7={click:n=>n instanceof MouseEvent};function Hn(n,e){$7(n)&&(n="100%");var t=B7(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Cd(n){return Math.min(1,Math.max(0,n))}function $7(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function B7(n){return typeof n=="string"&&n.indexOf("%")!==-1}function FA(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function kd(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Uo(n){return n.length===1?"0"+n:String(n)}function V7(n,e,t){return{r:Hn(n,255)*255,g:Hn(e,255)*255,b:Hn(t,255)*255}}function q0(n,e,t){n=Hn(n,255),e=Hn(e,255),t=Hn(t,255);var i=Math.max(n,e,t),s=Math.min(n,e,t),r=0,o=0,a=(i+s)/2;if(i===s)o=0,r=0;else{var l=i-s;switch(o=a>.5?l/(2-i-s):l/(i+s),i){case n:r=(e-t)/l+(e<t?6:0);break;case e:r=(t-n)/l+2;break;case t:r=(n-e)/l+4;break}r/=6}return{h:r,s:o,l:a}}function Ym(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function U7(n,e,t){var i,s,r;if(n=Hn(n,360),e=Hn(e,100),t=Hn(t,100),e===0)s=t,r=t,i=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;i=Ym(a,o,n+1/3),s=Ym(a,o,n),r=Ym(a,o,n-1/3)}return{r:i*255,g:s*255,b:r*255}}function K0(n,e,t){n=Hn(n,255),e=Hn(e,255),t=Hn(t,255);var i=Math.max(n,e,t),s=Math.min(n,e,t),r=0,o=i,a=i-s,l=i===0?0:a/i;if(i===s)r=0;else{switch(i){case n:r=(e-t)/a+(e<t?6:0);break;case e:r=(t-n)/a+2;break;case t:r=(n-e)/a+4;break}r/=6}return{h:r,s:l,v:o}}function z7(n,e,t){n=Hn(n,360)*6,e=Hn(e,100),t=Hn(t,100);var i=Math.floor(n),s=n-i,r=t*(1-e),o=t*(1-s*e),a=t*(1-(1-s)*e),l=i%6,c=[t,o,r,r,a,t][l],u=[a,t,t,o,r,r][l],d=[r,r,a,t,t,o][l];return{r:c*255,g:u*255,b:d*255}}function G0(n,e,t,i){var s=[Uo(Math.round(n).toString(16)),Uo(Math.round(e).toString(16)),Uo(Math.round(t).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function H7(n,e,t,i,s){var r=[Uo(Math.round(n).toString(16)),Uo(Math.round(e).toString(16)),Uo(Math.round(t).toString(16)),Uo(W7(i))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function W7(n){return Math.round(parseFloat(n)*255).toString(16)}function Q0(n){return Pi(n)/255}function Pi(n){return parseInt(n,16)}function j7(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var Tg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function q7(n){var e={r:0,g:0,b:0},t=1,i=null,s=null,r=null,o=!1,a=!1;return typeof n=="string"&&(n=Q7(n)),typeof n=="object"&&(ur(n.r)&&ur(n.g)&&ur(n.b)?(e=V7(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):ur(n.h)&&ur(n.s)&&ur(n.v)?(i=kd(n.s),s=kd(n.v),e=z7(n.h,i,s),o=!0,a="hsv"):ur(n.h)&&ur(n.s)&&ur(n.l)&&(i=kd(n.s),r=kd(n.l),e=U7(n.h,i,r),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=FA(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var K7="[-\\+]?\\d+%?",G7="[-\\+]?\\d*\\.\\d+%?",eo="(?:".concat(G7,")|(?:").concat(K7,")"),Jm="[\\s|\\(]+(".concat(eo,")[,|\\s]+(").concat(eo,")[,|\\s]+(").concat(eo,")\\s*\\)?"),Xm="[\\s|\\(]+(".concat(eo,")[,|\\s]+(").concat(eo,")[,|\\s]+(").concat(eo,")[,|\\s]+(").concat(eo,")\\s*\\)?"),fs={CSS_UNIT:new RegExp(eo),rgb:new RegExp("rgb"+Jm),rgba:new RegExp("rgba"+Xm),hsl:new RegExp("hsl"+Jm),hsla:new RegExp("hsla"+Xm),hsv:new RegExp("hsv"+Jm),hsva:new RegExp("hsva"+Xm),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Q7(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(Tg[n])n=Tg[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=fs.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=fs.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=fs.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=fs.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=fs.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=fs.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=fs.hex8.exec(n),t?{r:Pi(t[1]),g:Pi(t[2]),b:Pi(t[3]),a:Q0(t[4]),format:e?"name":"hex8"}:(t=fs.hex6.exec(n),t?{r:Pi(t[1]),g:Pi(t[2]),b:Pi(t[3]),format:e?"name":"hex"}:(t=fs.hex4.exec(n),t?{r:Pi(t[1]+t[1]),g:Pi(t[2]+t[2]),b:Pi(t[3]+t[3]),a:Q0(t[4]+t[4]),format:e?"name":"hex8"}:(t=fs.hex3.exec(n),t?{r:Pi(t[1]+t[1]),g:Pi(t[2]+t[2]),b:Pi(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function ur(n){return!!fs.CSS_UNIT.exec(String(n))}var Y7=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=j7(e)),this.originalInput=e;var s=q7(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:s.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,s,r=e.r/255,o=e.g/255,a=e.b/255;return r<=.03928?t=r/12.92:t=Math.pow((r+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*i+.0722*s},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=FA(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=K0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=K0(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=q0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=q0(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),G0(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),H7(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(Hn(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(Hn(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+G0(this.r,this.g,this.b,!1),t=0,i=Object.entries(Tg);t<i.length;t++){var s=i[t],r=s[0],o=s[1];if(e===o)return r}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var i=!1,s=this.a<1&&this.a>=0,r=!t&&s&&(e.startsWith("hex")||e==="name");return r?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Cd(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Cd(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Cd(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Cd(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),s=new n(e).toRgb(),r=t/100,o={r:(s.r-i.r)*r+i.r,g:(s.g-i.g)*r+i.g,b:(s.b-i.b)*r+i.b,a:(s.a-i.a)*r+i.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),s=360/t,r=[this];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,r.push(new n(i));return r},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,s=t.s,r=t.v,o=[],a=1/e;e--;)o.push(new n({h:i,s,v:r})),r=(r+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb(),s=t.a+i.a*(1-t.a);return new n({r:(t.r*t.a+i.r*i.a*(1-t.a))/s,g:(t.g*t.a+i.g*i.a*(1-t.a))/s,b:(t.b*t.a+i.b*i.a*(1-t.a))/s,a:s})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,s=[this],r=360/e,o=1;o<e;o++)s.push(new n({h:(i+o*r)%360,s:t.s,l:t.l}));return s},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function Vr(n,e=20){return n.mix("#141414",e).toString()}function J7(n){const e=Ph(),t=pt("button");return N(()=>{let i={};const s=n.color;if(s){const r=new Y7(s),o=n.dark?r.tint(20).toString():Vr(r,20);if(n.plain)i=t.cssVarBlock({"bg-color":n.dark?Vr(r,90):r.tint(90).toString(),"text-color":s,"border-color":n.dark?Vr(r,50):r.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":o,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(i[t.cssVarBlockName("disabled-bg-color")]=n.dark?Vr(r,90):r.tint(90).toString(),i[t.cssVarBlockName("disabled-text-color")]=n.dark?Vr(r,50):r.tint(50).toString(),i[t.cssVarBlockName("disabled-border-color")]=n.dark?Vr(r,80):r.tint(80).toString());else{const a=n.dark?Vr(r,30):r.tint(30).toString(),l=r.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(i=t.cssVarBlock({"bg-color":s,"text-color":l,"border-color":s,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),e.value){const c=n.dark?Vr(r,50):r.tint(50).toString();i[t.cssVarBlockName("disabled-bg-color")]=c,i[t.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,i[t.cssVarBlockName("disabled-border-color")]=c}}}return i})}const X7=Re({name:"ElButton"}),Z7=Re({...X7,props:Eg,emits:L7,setup(n,{expose:e,emit:t}){const i=n,s=J7(i),r=pt("button"),{_ref:o,_size:a,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:f}=D7(i,t);return e({ref:o,size:a,type:l,disabled:c,shouldAddSpace:d}),(h,p)=>(H(),ze(Fn(h.tag),Zi({ref_key:"_ref",ref:o},g(u),{class:[g(r).b(),g(r).m(g(l)),g(r).m(g(a)),g(r).is("disabled",g(c)),g(r).is("loading",h.loading),g(r).is("plain",h.plain),g(r).is("round",h.round),g(r).is("circle",h.circle),g(r).is("text",h.text),g(r).is("link",h.link),g(r).is("has-bg",h.bg)],style:g(s),onClick:g(f)}),{default:Te(()=>[h.loading?(H(),le(Ze,{key:0},[h.$slots.loading?dt(h.$slots,"loading",{key:0}):(H(),ze(g(St),{key:1,class:G(g(r).is("loading"))},{default:Te(()=>[(H(),ze(Fn(h.loadingIcon)))]),_:1},8,["class"]))],64)):h.icon||h.$slots.icon?(H(),ze(g(St),{key:1},{default:Te(()=>[h.icon?(H(),ze(Fn(h.icon),{key:0})):dt(h.$slots,"icon",{key:1})]),_:3})):De("v-if",!0),h.$slots.default?(H(),le("span",{key:2,class:G({[g(r).em("text","expand")]:g(d)})},[dt(h.$slots,"default")],2)):De("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var eU=At(Z7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const tU={size:Eg.size,type:Eg.type},nU=Re({name:"ElButtonGroup"}),iU=Re({...nU,props:tU,setup(n){const e=n;Sn(DA,qi({size:Mn(e,"size"),type:Mn(e,"type")}));const t=pt("button");return(i,s)=>(H(),le("div",{class:G(`${g(t).b("group")}`)},[dt(i.$slots,"default")],2))}});var NA=At(iU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Cl=ks(eU,{ButtonGroup:NA});Ql(NA);var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ai(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function LA(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var $A={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){var t=1e3,i=6e4,s=36e5,r="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var L=["th","st","nd","rd"],J=z%100;return"["+z+(L[(J-20)%10]||L[J]||L[0])+"]"}},C=function(z,L,J){var ne=String(z);return!ne||ne.length>=L?z:""+Array(L+1-ne.length).join(J)+z},_={s:C,z:function(z){var L=-z.utcOffset(),J=Math.abs(L),ne=Math.floor(J/60),M=J%60;return(L<=0?"+":"-")+C(ne,2,"0")+":"+C(M,2,"0")},m:function z(L,J){if(L.date()<J.date())return-z(J,L);var ne=12*(J.year()-L.year())+(J.month()-L.month()),M=L.clone().add(ne,d),Q=J-M<0,U=L.clone().add(ne+(Q?-1:1),d);return+(-(ne+(J-M)/(Q?M-U:U-M))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:d,y:h,w:u,d:c,D:p,h:l,m:a,s:o,ms:r,Q:f}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},T="en",k={};k[T]=w;var E=function(z){return z instanceof q},S=function z(L,J,ne){var M;if(!L)return T;if(typeof L=="string"){var Q=L.toLowerCase();k[Q]&&(M=Q),J&&(k[Q]=J,M=Q);var U=L.split("-");if(!M&&U.length>1)return z(U[0])}else{var Y=L.name;k[Y]=L,M=Y}return!ne&&M&&(T=M),M||!ne&&T},I=function(z,L){if(E(z))return z.clone();var J=typeof L=="object"?L:{};return J.date=z,J.args=arguments,new q(J)},R=_;R.l=S,R.i=E,R.w=function(z,L){return I(z,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var q=function(){function z(J){this.$L=S(J.locale,null,!0),this.parse(J)}var L=z.prototype;return L.parse=function(J){this.$d=function(ne){var M=ne.date,Q=ne.utc;if(M===null)return new Date(NaN);if(R.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var U=M.match(b);if(U){var Y=U[2]-1||0,pe=(U[7]||"0").substring(0,3);return Q?new Date(Date.UTC(U[1],Y,U[3]||1,U[4]||0,U[5]||0,U[6]||0,pe)):new Date(U[1],Y,U[3]||1,U[4]||0,U[5]||0,U[6]||0,pe)}}return new Date(M)}(J),this.$x=J.x||{},this.init()},L.init=function(){var J=this.$d;this.$y=J.getFullYear(),this.$M=J.getMonth(),this.$D=J.getDate(),this.$W=J.getDay(),this.$H=J.getHours(),this.$m=J.getMinutes(),this.$s=J.getSeconds(),this.$ms=J.getMilliseconds()},L.$utils=function(){return R},L.isValid=function(){return this.$d.toString()!==m},L.isSame=function(J,ne){var M=I(J);return this.startOf(ne)<=M&&M<=this.endOf(ne)},L.isAfter=function(J,ne){return I(J)<this.startOf(ne)},L.isBefore=function(J,ne){return this.endOf(ne)<I(J)},L.$g=function(J,ne,M){return R.u(J)?this[ne]:this.set(M,J)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(J,ne){var M=this,Q=!!R.u(ne)||ne,U=R.p(J),Y=function(Me,Ue){var Be=R.w(M.$u?Date.UTC(M.$y,Ue,Me):new Date(M.$y,Ue,Me),M);return Q?Be:Be.endOf(c)},pe=function(Me,Ue){return R.w(M.toDate()[Me].apply(M.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(Ue)),M)},O=this.$W,F=this.$M,ce=this.$D,be="set"+(this.$u?"UTC":"");switch(U){case h:return Q?Y(1,0):Y(31,11);case d:return Q?Y(1,F):Y(0,F+1);case u:var Ae=this.$locale().weekStart||0,je=(O<Ae?O+7:O)-Ae;return Y(Q?ce-je:ce+(6-je),F);case c:case p:return pe(be+"Hours",0);case l:return pe(be+"Minutes",1);case a:return pe(be+"Seconds",2);case o:return pe(be+"Milliseconds",3);default:return this.clone()}},L.endOf=function(J){return this.startOf(J,!1)},L.$set=function(J,ne){var M,Q=R.p(J),U="set"+(this.$u?"UTC":""),Y=(M={},M[c]=U+"Date",M[p]=U+"Date",M[d]=U+"Month",M[h]=U+"FullYear",M[l]=U+"Hours",M[a]=U+"Minutes",M[o]=U+"Seconds",M[r]=U+"Milliseconds",M)[Q],pe=Q===c?this.$D+(ne-this.$W):ne;if(Q===d||Q===h){var O=this.clone().set(p,1);O.$d[Y](pe),O.init(),this.$d=O.set(p,Math.min(this.$D,O.daysInMonth())).$d}else Y&&this.$d[Y](pe);return this.init(),this},L.set=function(J,ne){return this.clone().$set(J,ne)},L.get=function(J){return this[R.p(J)]()},L.add=function(J,ne){var M,Q=this;J=Number(J);var U=R.p(ne),Y=function(F){var ce=I(Q);return R.w(ce.date(ce.date()+Math.round(F*J)),Q)};if(U===d)return this.set(d,this.$M+J);if(U===h)return this.set(h,this.$y+J);if(U===c)return Y(1);if(U===u)return Y(7);var pe=(M={},M[a]=i,M[l]=s,M[o]=t,M)[U]||1,O=this.$d.getTime()+J*pe;return R.w(O,this)},L.subtract=function(J,ne){return this.add(-1*J,ne)},L.format=function(J){var ne=this,M=this.$locale();if(!this.isValid())return M.invalidDate||m;var Q=J||"YYYY-MM-DDTHH:mm:ssZ",U=R.z(this),Y=this.$H,pe=this.$m,O=this.$M,F=M.weekdays,ce=M.months,be=M.meridiem,Ae=function(Ue,Be,Ge,x){return Ue&&(Ue[Be]||Ue(ne,Q))||Ge[Be].slice(0,x)},je=function(Ue){return R.s(Y%12||12,Ue,"0")},Me=be||function(Ue,Be,Ge){var x=Ue<12?"AM":"PM";return Ge?x.toLowerCase():x};return Q.replace(v,function(Ue,Be){return Be||function(Ge){switch(Ge){case"YY":return String(ne.$y).slice(-2);case"YYYY":return R.s(ne.$y,4,"0");case"M":return O+1;case"MM":return R.s(O+1,2,"0");case"MMM":return Ae(M.monthsShort,O,ce,3);case"MMMM":return Ae(ce,O);case"D":return ne.$D;case"DD":return R.s(ne.$D,2,"0");case"d":return String(ne.$W);case"dd":return Ae(M.weekdaysMin,ne.$W,F,2);case"ddd":return Ae(M.weekdaysShort,ne.$W,F,3);case"dddd":return F[ne.$W];case"H":return String(Y);case"HH":return R.s(Y,2,"0");case"h":return je(1);case"hh":return je(2);case"a":return Me(Y,pe,!0);case"A":return Me(Y,pe,!1);case"m":return String(pe);case"mm":return R.s(pe,2,"0");case"s":return String(ne.$s);case"ss":return R.s(ne.$s,2,"0");case"SSS":return R.s(ne.$ms,3,"0");case"Z":return U}return null}(Ue)||U.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(J,ne,M){var Q,U=this,Y=R.p(ne),pe=I(J),O=(pe.utcOffset()-this.utcOffset())*i,F=this-pe,ce=function(){return R.m(U,pe)};switch(Y){case h:Q=ce()/12;break;case d:Q=ce();break;case f:Q=ce()/3;break;case u:Q=(F-O)/6048e5;break;case c:Q=(F-O)/864e5;break;case l:Q=F/s;break;case a:Q=F/i;break;case o:Q=F/t;break;default:Q=F}return M?Q:R.a(Q)},L.daysInMonth=function(){return this.endOf(d).$D},L.$locale=function(){return k[this.$L]},L.locale=function(J,ne){if(!J)return this.$L;var M=this.clone(),Q=S(J,ne,!0);return Q&&(M.$L=Q),M},L.clone=function(){return R.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},z}(),W=q.prototype;return I.prototype=W,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",p]].forEach(function(z){W[z[1]]=function(L){return this.$g(L,z[0],z[1])}}),I.extend=function(z,L){return z.$i||(z(L,q,I),z.$i=!0),I},I.locale=S,I.isDayjs=E,I.unix=function(z){return I(1e3*z)},I.en=k[T],I.Ls=k,I.p={},I})})($A);var sU=$A.exports;const tt=Ai(sU);var BA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(b){this[m]=+b}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var v=b.match(/([+-]|\d\d)/g),w=60*v[1]+(+v[2]||0);return w===0?0:v[0]==="+"?-w:w}(m)}],d=function(m){var b=a[m];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(m,b){var v,w=a.meridiem;if(w){for(var C=1;C<=24;C+=1)if(m.indexOf(w(C,0,b))>-1){v=C>12;break}}else v=m===(b?"pm":"PM");return v},h={A:[o,function(m){this.afternoon=f(m,!1)}],a:[o,function(m){this.afternoon=f(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[s,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[r,c("seconds")],ss:[r,c("seconds")],m:[r,c("minutes")],mm:[r,c("minutes")],H:[r,c("hours")],h:[r,c("hours")],HH:[r,c("hours")],hh:[r,c("hours")],D:[r,c("day")],DD:[s,c("day")],Do:[o,function(m){var b=a.ordinal,v=m.match(/\d+/);if(this.day=v[0],b)for(var w=1;w<=31;w+=1)b(w).replace(/\[|\]/g,"")===m&&(this.day=w)}],M:[r,c("month")],MM:[s,c("month")],MMM:[o,function(m){var b=d("months"),v=(d("monthsShort")||b.map(function(w){return w.slice(0,3)})).indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[o,function(m){var b=d("months").indexOf(m)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,c("year")],YY:[s,function(m){this.year=l(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function p(m){var b,v;b=m,v=a&&a.formats;for(var w=(m=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,R,q){var W=q&&q.toUpperCase();return R||v[q]||t[q]||v[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(z,L,J){return L||J.slice(1)})})).match(i),C=w.length,_=0;_<C;_+=1){var T=w[_],k=h[T],E=k&&k[0],S=k&&k[1];w[_]=S?{regex:E,parser:S}:T.replace(/^\[|\]$/g,"")}return function(I){for(var R={},q=0,W=0;q<C;q+=1){var z=w[q];if(typeof z=="string")W+=z.length;else{var L=z.regex,J=z.parser,ne=I.slice(W),M=L.exec(ne)[0];J.call(R,M),I=I.replace(M,"")}}return function(Q){var U=Q.afternoon;if(U!==void 0){var Y=Q.hours;U?Y<12&&(Q.hours+=12):Y===12&&(Q.hours=0),delete Q.afternoon}}(R),R}}return function(m,b,v){v.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var w=b.prototype,C=w.parse;w.parse=function(_){var T=_.date,k=_.utc,E=_.args;this.$u=k;var S=E[1];if(typeof S=="string"){var I=E[2]===!0,R=E[3]===!0,q=I||R,W=E[2];R&&(W=E[2]),a=this.$locale(),!I&&W&&(a=v.Ls[W]),this.$d=function(ne,M,Q){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*ne);var U=p(M)(ne),Y=U.year,pe=U.month,O=U.day,F=U.hours,ce=U.minutes,be=U.seconds,Ae=U.milliseconds,je=U.zone,Me=new Date,Ue=O||(Y||pe?1:Me.getDate()),Be=Y||Me.getFullYear(),Ge=0;Y&&!pe||(Ge=pe>0?pe-1:Me.getMonth());var x=F||0,B=ce||0,te=be||0,ue=Ae||0;return je?new Date(Date.UTC(Be,Ge,Ue,x,B,te,ue+60*je.offset*1e3)):Q?new Date(Date.UTC(Be,Ge,Ue,x,B,te,ue)):new Date(Be,Ge,Ue,x,B,te,ue)}catch{return new Date("")}}(T,S,k),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),q&&T!=this.format(S)&&(this.$d=new Date("")),a={}}else if(S instanceof Array)for(var z=S.length,L=1;L<=z;L+=1){E[1]=S[L-1];var J=v.apply(this,E);if(J.isValid()){this.$d=J.$d,this.$L=J.$L,this.init();break}L===z&&(this.$d=new Date(""))}else C.call(this,_)}}})})(BA);var rU=BA.exports;const oU=Ai(rU),Y0=["hours","minutes","seconds"],J0="HH:mm:ss",Ga="YYYY-MM-DD",aU={date:Ga,dates:Ga,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Ga} ${J0}`,monthrange:"YYYY-MM",daterange:Ga,datetimerange:`${Ga} ${J0}`},Zm=(n,e)=>[n>0?n-1:void 0,n,n<e?n+1:void 0],VA=n=>Array.from(Array.from({length:n}).keys()),UA=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),zA=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),X0=function(n,e){const t=pf(n),i=pf(e);return t&&i?n.getTime()===e.getTime():!t&&!i?n===e:!1},Z0=function(n,e){const t=xe(n),i=xe(e);return t&&i?n.length!==e.length?!1:n.every((s,r)=>X0(s,e[r])):!t&&!i?X0(n,e):!1},e_=function(n,e,t){const i=qT(e)||e==="x"?tt(n).locale(t):tt(n,e).locale(t);return i.isValid()?i:void 0},t_=function(n,e,t){return qT(e)?n:e==="x"?+n:tt(n).locale(t).format(e)},ep=(n,e)=>{var t;const i=[],s=e==null?void 0:e();for(let r=0;r<n;r++)i.push((t=s==null?void 0:s.includes(r))!=null?t:!1);return i},HA=bt({disabledHours:{type:qe(Function)},disabledMinutes:{type:qe(Function)},disabledSeconds:{type:qe(Function)}}),lU=bt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),WA=bt({id:{type:qe([Array,String])},name:{type:qe([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:qe([String,Object]),default:Eh},editable:{type:Boolean,default:!0},prefixIcon:{type:qe([String,Object]),default:""},size:Yl,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:qe(Object),default:()=>({})},modelValue:{type:qe([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:qe([Date,Array])},defaultTime:{type:qe([Date,Array])},isRange:{type:Boolean,default:!1},...HA,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:qe([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),cU=["id","name","placeholder","value","disabled","readonly"],uU=["id","name","placeholder","value","disabled","readonly"],dU=Re({name:"Picker"}),fU=Re({...dU,props:WA,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(n,{expose:e,emit:t}){const i=n,s=Du(),{lang:r}=Ki(),o=pt("date"),a=pt("input"),l=pt("range"),{form:c,formItem:u}=_a(),d=st("ElPopperOptions",{}),f=se(),h=se(),p=se(!1),m=se(!1),b=se(null);let v=!1,w=!1;const C=N(()=>[o.b("editor"),o.bm("editor",i.type),a.e("wrapper"),o.is("disabled",O.value),o.is("active",p.value),l.b("editor"),ye?l.bm("editor",ye.value):"",s.class]),_=N(()=>[a.e("icon"),l.e("close-icon"),Ue.value?"":l.e("close-icon--hidden")]);$e(p,P=>{P?ct(()=>{P&&(b.value=i.modelValue)}):(oe.value=null,ct(()=>{T(i.modelValue)}))});const T=(P,Se)=>{(Se||!Z0(P,b.value))&&(t("change",P),i.validateEvent&&(u==null||u.validate("change").catch(Qe=>void 0)))},k=P=>{if(!Z0(i.modelValue,P)){let Se;xe(P)?Se=P.map(Qe=>t_(Qe,i.valueFormat,r.value)):P&&(Se=t_(P,i.valueFormat,r.value)),t("update:modelValue",P&&Se,r.value)}},E=P=>{t("keydown",P)},S=N(()=>{if(h.value){const P=ae.value?h.value:h.value.$el;return Array.from(P.querySelectorAll("input"))}return[]}),I=(P,Se,Qe)=>{const ht=S.value;ht.length&&(!Qe||Qe==="min"?(ht[0].setSelectionRange(P,Se),ht[0].focus()):Qe==="max"&&(ht[1].setSelectionRange(P,Se),ht[1].focus()))},R=()=>{Q(!0,!0),ct(()=>{w=!1})},q=(P="",Se=!1)=>{Se||(w=!0),p.value=Se;let Qe;xe(P)?Qe=P.map(ht=>ht.toDate()):Qe=P&&P.toDate(),oe.value=null,k(Qe)},W=()=>{m.value=!0},z=()=>{t("visible-change",!0)},L=P=>{(P==null?void 0:P.key)===Ht.esc&&Q(!0,!0)},J=()=>{m.value=!1,p.value=!1,w=!1,t("visible-change",!1)},ne=()=>{p.value=!0},M=()=>{p.value=!1},Q=(P=!0,Se=!1)=>{w=Se;const[Qe,ht]=g(S);let Lt=Qe;!P&&ae.value&&(Lt=ht),Lt&&Lt.focus()},U=P=>{i.readonly||O.value||p.value||w||(p.value=!0,t("focus",P))};let Y;const pe=P=>{const Se=async()=>{setTimeout(()=>{var Qe;Y===Se&&(!((Qe=f.value)!=null&&Qe.isFocusInsideContent()&&!v)&&S.value.filter(ht=>ht.contains(document.activeElement)).length===0&&(re(),p.value=!1,t("blur",P),i.validateEvent&&(u==null||u.validate("blur").catch(ht=>void 0))),v=!1)},0)};Y=Se,Se()},O=N(()=>i.disabled||(c==null?void 0:c.disabled)),F=N(()=>{let P;if(Ge.value?ie.value.getDefaultValue&&(P=ie.value.getDefaultValue()):xe(i.modelValue)?P=i.modelValue.map(Se=>e_(Se,i.valueFormat,r.value)):P=e_(i.modelValue,i.valueFormat,r.value),ie.value.getRangeAvailableTime){const Se=ie.value.getRangeAvailableTime(P);vl(Se,P)||(P=Se,k(xe(P)?P.map(Qe=>Qe.toDate()):P.toDate()))}return xe(P)&&P.some(Se=>!Se)&&(P=[]),P}),ce=N(()=>{if(!ie.value.panelReady)return"";const P=K(F.value);return xe(oe.value)?[oe.value[0]||P&&P[0]||"",oe.value[1]||P&&P[1]||""]:oe.value!==null?oe.value:!Ae.value&&Ge.value||!p.value&&Ge.value?"":P?je.value?P.join(", "):P:""}),be=N(()=>i.type.includes("time")),Ae=N(()=>i.type.startsWith("time")),je=N(()=>i.type==="dates"),Me=N(()=>i.prefixIcon||(be.value?SB:iB)),Ue=se(!1),Be=P=>{i.readonly||O.value||Ue.value&&(P.stopPropagation(),R(),k(null),T(null,!0),Ue.value=!1,p.value=!1,ie.value.handleClear&&ie.value.handleClear())},Ge=N(()=>{const{modelValue:P}=i;return!P||xe(P)&&!P.filter(Boolean).length}),x=async P=>{var Se;i.readonly||O.value||(((Se=P.target)==null?void 0:Se.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(p.value=!0)},B=()=>{i.readonly||O.value||!Ge.value&&i.clearable&&(Ue.value=!0)},te=()=>{Ue.value=!1},ue=P=>{var Se;i.readonly||O.value||(((Se=P.touches[0].target)==null?void 0:Se.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(p.value=!0)},ae=N(()=>i.type.includes("range")),ye=fa(),Ee=N(()=>{var P,Se;return(Se=(P=g(f))==null?void 0:P.popperRef)==null?void 0:Se.contentRef}),ge=N(()=>{var P;return g(ae)?g(h):(P=g(h))==null?void 0:P.$el});sT(ge,P=>{const Se=g(Ee),Qe=g(ge);Se&&(P.target===Se||P.composedPath().includes(Se))||P.target===Qe||P.composedPath().includes(Qe)||(p.value=!1)});const oe=se(null),re=()=>{if(oe.value){const P=j(ce.value);P&&Ce(P)&&(k(xe(P)?P.map(Se=>Se.toDate()):P.toDate()),oe.value=null)}oe.value===""&&(k(null),T(null),oe.value=null)},j=P=>P?ie.value.parseUserInput(P):null,K=P=>P?ie.value.formatToString(P):null,Ce=P=>ie.value.isValidValue(P),Z=async P=>{if(i.readonly||O.value)return;const{code:Se}=P;if(E(P),Se===Ht.esc){p.value===!0&&(p.value=!1,P.preventDefault(),P.stopPropagation());return}if(Se===Ht.down&&(ie.value.handleFocusPicker&&(P.preventDefault(),P.stopPropagation()),p.value===!1&&(p.value=!0,await ct()),ie.value.handleFocusPicker)){ie.value.handleFocusPicker();return}if(Se===Ht.tab){v=!0;return}if(Se===Ht.enter||Se===Ht.numpadEnter){(oe.value===null||oe.value===""||Ce(j(ce.value)))&&(re(),p.value=!1),P.stopPropagation();return}if(oe.value){P.stopPropagation();return}ie.value.handleKeydownInput&&ie.value.handleKeydownInput(P)},ke=P=>{oe.value=P,p.value||(p.value=!0)},Ve=P=>{const Se=P.target;oe.value?oe.value=[Se.value,oe.value[1]]:oe.value=[Se.value,null]},Ke=P=>{const Se=P.target;oe.value?oe.value=[oe.value[0],Se.value]:oe.value=[null,Se.value]},rt=()=>{var P;const Se=oe.value,Qe=j(Se&&Se[0]),ht=g(F);if(Qe&&Qe.isValid()){oe.value=[K(Qe),((P=ce.value)==null?void 0:P[1])||null];const Lt=[Qe,ht&&(ht[1]||null)];Ce(Lt)&&(k(Lt),oe.value=null)}},ft=()=>{var P;const Se=g(oe),Qe=j(Se&&Se[1]),ht=g(F);if(Qe&&Qe.isValid()){oe.value=[((P=g(ce))==null?void 0:P[0])||null,K(Qe)];const Lt=[ht&&ht[0],Qe];Ce(Lt)&&(k(Lt),oe.value=null)}},ie=se({}),Pe=P=>{ie.value[P[0]]=P[1],ie.value.panelReady=!0},we=P=>{t("calendar-change",P)},Ie=(P,Se,Qe)=>{t("panel-change",P,Se,Qe)};return Sn("EP_PICKER_BASE",{props:i}),e({focus:Q,handleFocusInput:U,handleBlurInput:pe,handleOpen:ne,handleClose:M,onPick:q}),(P,Se)=>(H(),ze(g(OA),Zi({ref_key:"refPopper",ref:f,visible:p.value,effect:"light",pure:"",trigger:"click"},P.$attrs,{role:"dialog",teleported:"",transition:`${g(o).namespace.value}-zoom-in-top`,"popper-class":[`${g(o).namespace.value}-picker__popper`,P.popperClass],"popper-options":g(d),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:W,onShow:z,onHide:J}),{default:Te(()=>[g(ae)?(H(),le("div",{key:1,ref_key:"inputRef",ref:h,class:G(g(C)),style:cn(P.$attrs.style),onClick:U,onMouseenter:B,onMouseleave:te,onTouchstart:ue,onKeydown:Z},[g(Me)?(H(),ze(g(St),{key:0,class:G([g(a).e("icon"),g(l).e("icon")]),onMousedown:ln(x,["prevent"]),onTouchstart:ue},{default:Te(()=>[(H(),ze(Fn(g(Me))))]),_:1},8,["class","onMousedown"])):De("v-if",!0),X("input",{id:P.id&&P.id[0],autocomplete:"off",name:P.name&&P.name[0],placeholder:P.startPlaceholder,value:g(ce)&&g(ce)[0],disabled:g(O),readonly:!P.editable||P.readonly,class:G(g(l).b("input")),onMousedown:x,onInput:Ve,onChange:rt,onFocus:U,onBlur:pe},null,42,cU),dt(P.$slots,"range-separator",{},()=>[X("span",{class:G(g(l).b("separator"))},Oe(P.rangeSeparator),3)]),X("input",{id:P.id&&P.id[1],autocomplete:"off",name:P.name&&P.name[1],placeholder:P.endPlaceholder,value:g(ce)&&g(ce)[1],disabled:g(O),readonly:!P.editable||P.readonly,class:G(g(l).b("input")),onMousedown:x,onFocus:U,onBlur:pe,onInput:Ke,onChange:ft},null,42,uU),P.clearIcon?(H(),ze(g(St),{key:1,class:G(g(_)),onClick:Be},{default:Te(()=>[(H(),ze(Fn(P.clearIcon)))]),_:1},8,["class"])):De("v-if",!0)],38)):(H(),ze(g(Us),{key:0,id:P.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":g(ce),name:P.name,size:g(ye),disabled:g(O),placeholder:P.placeholder,class:G([g(o).b("editor"),g(o).bm("editor",P.type),P.$attrs.class]),style:cn(P.$attrs.style),readonly:!P.editable||P.readonly||g(je)||P.type==="week",label:P.label,tabindex:P.tabindex,"validate-event":!1,onInput:ke,onFocus:U,onBlur:pe,onKeydown:Z,onChange:re,onMousedown:x,onMouseenter:B,onMouseleave:te,onTouchstart:ue,onClick:Se[0]||(Se[0]=ln(()=>{},["stop"]))},{prefix:Te(()=>[g(Me)?(H(),ze(g(St),{key:0,class:G(g(a).e("icon")),onMousedown:ln(x,["prevent"]),onTouchstart:ue},{default:Te(()=>[(H(),ze(Fn(g(Me))))]),_:1},8,["class","onMousedown"])):De("v-if",!0)]),suffix:Te(()=>[Ue.value&&P.clearIcon?(H(),ze(g(St),{key:0,class:G(`${g(a).e("icon")} clear-icon`),onClick:ln(Be,["stop"])},{default:Te(()=>[(H(),ze(Fn(P.clearIcon)))]),_:1},8,["class","onClick"])):De("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Te(()=>[dt(P.$slots,"default",{visible:p.value,actualVisible:m.value,parsedValue:g(F),format:P.format,unlinkPanels:P.unlinkPanels,type:P.type,defaultValue:P.defaultValue,onPick:q,onSelectRange:I,onSetPickerOption:Pe,onCalendarChange:we,onPanelChange:Ie,onKeydown:L,onMousedown:Se[1]||(Se[1]=ln(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var hU=At(fU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const mU=bt({...lU,datetimeRole:String,parsedValue:{type:qe(Object)}}),pU=({getAvailableHours:n,getAvailableMinutes:e,getAvailableSeconds:t})=>{const i=(o,a,l,c)=>{const u={hour:n,minute:e,second:t};let d=o;return["hour","minute","second"].forEach(f=>{if(u[f]){let h;const p=u[f];switch(f){case"minute":{h=p(d.hour(),a,c);break}case"second":{h=p(d.hour(),d.minute(),a,c);break}default:{h=p(a,c);break}}if(h!=null&&h.length&&!h.includes(d[f]())){const m=l?0:h.length-1;d=d[f](h[m])}}}),d},s={};return{timePickerOptions:s,getAvailableTime:i,onSetOption:([o,a])=>{s[o]=a}}},tp=n=>{const e=(i,s)=>i||s,t=i=>i!==!0;return n.map(e).filter(t)},jA=(n,e,t)=>({getHoursList:(o,a)=>ep(24,n&&(()=>n==null?void 0:n(o,a))),getMinutesList:(o,a,l)=>ep(60,e&&(()=>e==null?void 0:e(o,a,l))),getSecondsList:(o,a,l,c)=>ep(60,t&&(()=>t==null?void 0:t(o,a,l,c)))}),gU=(n,e,t)=>{const{getHoursList:i,getMinutesList:s,getSecondsList:r}=jA(n,e,t);return{getAvailableHours:(c,u)=>tp(i(c,u)),getAvailableMinutes:(c,u,d)=>tp(s(c,u,d)),getAvailableSeconds:(c,u,d,f)=>tp(r(c,u,d,f))}},vU=n=>{const e=se(n.parsedValue);return $e(()=>n.visible,t=>{t||(e.value=n.parsedValue)}),e},jr=new Map;let n_;ti&&(document.addEventListener("mousedown",n=>n_=n),document.addEventListener("mouseup",n=>{for(const e of jr.values())for(const{documentHandler:t}of e)t(n,n_)}));function i_(n,e){let t=[];return Array.isArray(e.arg)?t=e.arg:fu(e.arg)&&t.push(e.arg),function(i,s){const r=e.instance.popperRef,o=i.target,a=s==null?void 0:s.target,l=!e||!e.instance,c=!o||!a,u=n.contains(o)||n.contains(a),d=n===o,f=t.length&&t.some(p=>p==null?void 0:p.contains(o))||t.length&&t.includes(a),h=r&&(r.contains(o)||r.contains(a));l||c||u||d||f||h||e.value(i,s)}}const Of={beforeMount(n,e){jr.has(n)||jr.set(n,[]),jr.get(n).push({documentHandler:i_(n,e),bindingFn:e.value})},updated(n,e){jr.has(n)||jr.set(n,[]);const t=jr.get(n),i=t.findIndex(r=>r.bindingFn===e.oldValue),s={documentHandler:i_(n,e),bindingFn:e.value};i>=0?t.splice(i,1,s):t.push(s)},unmounted(n){jr.delete(n)}},bU=100,yU=600,s_={beforeMount(n,e){const t=e.value,{interval:i=bU,delay:s=yU}=We(t)?{}:t;let r,o;const a=()=>We(t)?t():t.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),r&&(clearInterval(r),r=void 0)};n.addEventListener("mousedown",c=>{c.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{r=setInterval(()=>{a()},i)},s))})}},wU=bt({role:{type:String,required:!0},spinnerDate:{type:qe(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:qe(String),default:""},...HA}),_U=["onClick"],CU=["onMouseenter"],kU=Re({__name:"basic-time-spinner",props:wU,emits:["change","select-range","set-option"],setup(n,{emit:e}){const t=n,i=pt("time"),{getHoursList:s,getMinutesList:r,getSecondsList:o}=jA(t.disabledHours,t.disabledMinutes,t.disabledSeconds);let a=!1;const l=se(),c=se(),u=se(),d=se(),f={hours:c,minutes:u,seconds:d},h=N(()=>t.showSeconds?Y0:Y0.slice(0,2)),p=N(()=>{const{spinnerDate:U}=t,Y=U.hour(),pe=U.minute(),O=U.second();return{hours:Y,minutes:pe,seconds:O}}),m=N(()=>{const{hours:U,minutes:Y}=g(p);return{hours:s(t.role),minutes:r(U,t.role),seconds:o(U,Y,t.role)}}),b=N(()=>{const{hours:U,minutes:Y,seconds:pe}=g(p);return{hours:Zm(U,23),minutes:Zm(Y,59),seconds:Zm(pe,59)}}),v=fo(U=>{a=!1,_(U)},200),w=U=>{if(!!!t.amPmMode)return"";const pe=t.amPmMode==="A";let O=U<12?" am":" pm";return pe&&(O=O.toUpperCase()),O},C=U=>{let Y;switch(U){case"hours":Y=[0,2];break;case"minutes":Y=[3,5];break;case"seconds":Y=[6,8];break}const[pe,O]=Y;e("select-range",pe,O),l.value=U},_=U=>{E(U,g(p)[U])},T=()=>{_("hours"),_("minutes"),_("seconds")},k=U=>U.querySelector(`.${i.namespace.value}-scrollbar__wrap`),E=(U,Y)=>{if(t.arrowControl)return;const pe=g(f[U]);pe&&pe.$el&&(k(pe.$el).scrollTop=Math.max(0,Y*S(U)))},S=U=>{const Y=g(f[U]),pe=Y==null?void 0:Y.$el.querySelector("li");return pe&&Number.parseFloat(P$(pe,"height"))||0},I=()=>{q(1)},R=()=>{q(-1)},q=U=>{l.value||C("hours");const Y=l.value,pe=g(p)[Y],O=l.value==="hours"?24:60,F=W(Y,pe,U,O);z(Y,F),E(Y,F),ct(()=>C(Y))},W=(U,Y,pe,O)=>{let F=(Y+pe+O)%O;const ce=g(m)[U];for(;ce[F]&&F!==Y;)F=(F+pe+O)%O;return F},z=(U,Y)=>{if(g(m)[U][Y])return;const{hours:F,minutes:ce,seconds:be}=g(p);let Ae;switch(U){case"hours":Ae=t.spinnerDate.hour(Y).minute(ce).second(be);break;case"minutes":Ae=t.spinnerDate.hour(F).minute(Y).second(be);break;case"seconds":Ae=t.spinnerDate.hour(F).minute(ce).second(Y);break}e("change",Ae)},L=(U,{value:Y,disabled:pe})=>{pe||(z(U,Y),C(U),E(U,Y))},J=U=>{a=!0,v(U);const Y=Math.min(Math.round((k(g(f[U]).$el).scrollTop-(ne(U)*.5-10)/S(U)+3)/S(U)),U==="hours"?23:59);z(U,Y)},ne=U=>g(f[U]).$el.offsetHeight,M=()=>{const U=Y=>{const pe=g(f[Y]);pe&&pe.$el&&(k(pe.$el).onscroll=()=>{J(Y)})};U("hours"),U("minutes"),U("seconds")};mn(()=>{ct(()=>{!t.arrowControl&&M(),T(),t.role==="start"&&C("hours")})});const Q=(U,Y)=>{f[Y].value=U};return e("set-option",[`${t.role}_scrollDown`,q]),e("set-option",[`${t.role}_emitSelectRange`,C]),$e(()=>t.spinnerDate,()=>{a||T()}),(U,Y)=>(H(),le("div",{class:G([g(i).b("spinner"),{"has-seconds":U.showSeconds}])},[U.arrowControl?De("v-if",!0):(H(!0),le(Ze,{key:0},dn(g(h),pe=>(H(),ze(g(CA),{key:pe,ref_for:!0,ref:O=>Q(O,pe),class:G(g(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":g(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:O=>C(pe),onMousemove:O=>_(pe)},{default:Te(()=>[(H(!0),le(Ze,null,dn(g(m)[pe],(O,F)=>(H(),le("li",{key:F,class:G([g(i).be("spinner","item"),g(i).is("active",F===g(p)[pe]),g(i).is("disabled",O)]),onClick:ce=>L(pe,{value:F,disabled:O})},[pe==="hours"?(H(),le(Ze,{key:0},[fn(Oe(("0"+(U.amPmMode?F%12||12:F)).slice(-2))+Oe(w(F)),1)],64)):(H(),le(Ze,{key:1},[fn(Oe(("0"+F).slice(-2)),1)],64))],10,_U))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),U.arrowControl?(H(!0),le(Ze,{key:1},dn(g(h),pe=>(H(),le("div",{key:pe,class:G([g(i).be("spinner","wrapper"),g(i).is("arrow")]),onMouseenter:O=>C(pe)},[Wt((H(),ze(g(St),{class:G(["arrow-up",g(i).be("spinner","arrow")])},{default:Te(()=>[me(g(J$))]),_:1},8,["class"])),[[g(s_),R]]),Wt((H(),ze(g(St),{class:G(["arrow-down",g(i).be("spinner","arrow")])},{default:Te(()=>[me(g(GT))]),_:1},8,["class"])),[[g(s_),I]]),X("ul",{class:G(g(i).be("spinner","list"))},[(H(!0),le(Ze,null,dn(g(b)[pe],(O,F)=>(H(),le("li",{key:F,class:G([g(i).be("spinner","item"),g(i).is("active",O===g(p)[pe]),g(i).is("disabled",g(m)[pe][O])])},[typeof O=="number"?(H(),le(Ze,{key:0},[pe==="hours"?(H(),le(Ze,{key:0},[fn(Oe(("0"+(U.amPmMode?O%12||12:O)).slice(-2))+Oe(w(O)),1)],64)):(H(),le(Ze,{key:1},[fn(Oe(("0"+O).slice(-2)),1)],64))],64)):De("v-if",!0)],2))),128))],2)],42,CU))),128)):De("v-if",!0)],2))}});var SU=At(kU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const EU=Re({__name:"panel-time-pick",props:mU,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,i=st("EP_PICKER_BASE"),{arrowControl:s,disabledHours:r,disabledMinutes:o,disabledSeconds:a,defaultValue:l}=i.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=gU(r,o,a),f=pt("time"),{t:h,lang:p}=Ki(),m=se([0,2]),b=vU(t),v=N(()=>uu(t.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),w=N(()=>t.format.includes("ss")),C=N(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),_=Q=>{const U=tt(Q).locale(p.value),Y=L(U);return U.isSame(Y)},T=()=>{e("pick",b.value,!1)},k=(Q=!1,U=!1)=>{U||e("pick",t.parsedValue,Q)},E=Q=>{if(!t.visible)return;const U=L(Q).millisecond(0);e("pick",U,!0)},S=(Q,U)=>{e("select-range",Q,U),m.value=[Q,U]},I=Q=>{const U=[0,3].concat(w.value?[6]:[]),Y=["hours","minutes"].concat(w.value?["seconds"]:[]),O=(U.indexOf(m.value[0])+Q+U.length)%U.length;q.start_emitSelectRange(Y[O])},R=Q=>{const U=Q.code,{left:Y,right:pe,up:O,down:F}=Ht;if([Y,pe].includes(U)){I(U===Y?-1:1),Q.preventDefault();return}if([O,F].includes(U)){const ce=U===O?-1:1;q.start_scrollDown(ce),Q.preventDefault();return}},{timePickerOptions:q,onSetOption:W,getAvailableTime:z}=pU({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),L=Q=>z(Q,t.datetimeRole||"",!0),J=Q=>Q?tt(Q,t.format).locale(p.value):null,ne=Q=>Q?Q.format(t.format):null,M=()=>tt(l).locale(p.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",ne]),e("set-picker-option",["parseUserInput",J]),e("set-picker-option",["handleKeydownInput",R]),e("set-picker-option",["getRangeAvailableTime",L]),e("set-picker-option",["getDefaultValue",M]),(Q,U)=>(H(),ze(ys,{name:g(v)},{default:Te(()=>[Q.actualVisible||Q.visible?(H(),le("div",{key:0,class:G(g(f).b("panel"))},[X("div",{class:G([g(f).be("panel","content"),{"has-seconds":g(w)}])},[me(SU,{ref:"spinner",role:Q.datetimeRole||"start","arrow-control":g(s),"show-seconds":g(w),"am-pm-mode":g(C),"spinner-date":Q.parsedValue,"disabled-hours":g(r),"disabled-minutes":g(o),"disabled-seconds":g(a),onChange:E,onSetOption:g(W),onSelectRange:S},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),X("div",{class:G(g(f).be("panel","footer"))},[X("button",{type:"button",class:G([g(f).be("panel","btn"),"cancel"]),onClick:T},Oe(g(h)("el.datepicker.cancel")),3),X("button",{type:"button",class:G([g(f).be("panel","btn"),"confirm"]),onClick:U[0]||(U[0]=Y=>k())},Oe(g(h)("el.datepicker.confirm")),3)],2)],2)):De("v-if",!0)]),_:1},8,["name"]))}});var Ag=At(EU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),qA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){return function(t,i,s){var r=i.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,h,p,m){var b=d.name?d:d.$locale(),v=o(b[f]),w=o(b[h]),C=v||w.map(function(T){return T.slice(0,p)});if(!m)return C;var _=b.weekStart;return C.map(function(T,k){return C[(k+(_||0))%7]})},l=function(){return s.Ls[s.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,m,b){return m||b.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return u.bind(this)()},s.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},s.months=function(){return a(l(),"months")},s.monthsShort=function(){return a(l(),"monthsShort","months",3)},s.weekdays=function(d){return a(l(),"weekdays",null,null,d)},s.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},s.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(qA);var TU=qA.exports;const AU=Ai(TU),KA={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Yl,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},GA={[ci]:n=>Tt(n)||Li(n)||du(n),change:n=>Tt(n)||Li(n)||du(n)},Jl=Symbol("checkboxGroupContextKey"),xU=({model:n,isChecked:e})=>{const t=st(Jl,void 0),i=N(()=>{var r,o;const a=(r=t==null?void 0:t.max)==null?void 0:r.value,l=(o=t==null?void 0:t.min)==null?void 0:o.value;return!uu(a)&&n.value.length>=a&&!e.value||!uu(l)&&n.value.length<=l&&e.value});return{isDisabled:Ph(N(()=>(t==null?void 0:t.disabled.value)||i.value)),isLimitDisabled:i}},PU=(n,{model:e,isLimitExceeded:t,hasOwnLabel:i,isDisabled:s,isLabeledByFormItem:r})=>{const o=st(Jl,void 0),{formItem:a}=_a(),{emit:l}=Rt();function c(p){var m,b;return p===n.trueLabel||p===!0?(m=n.trueLabel)!=null?m:!0:(b=n.falseLabel)!=null?b:!1}function u(p,m){l("change",c(p),m)}function d(p){if(t.value)return;const m=p.target;l("change",c(m.checked),p)}async function f(p){t.value||!i.value&&!s.value&&r.value&&(p.composedPath().some(v=>v.tagName==="LABEL")||(e.value=c([!1,n.falseLabel].includes(e.value)),await ct(),u(e.value,p)))}const h=N(()=>(o==null?void 0:o.validateEvent)||n.validateEvent);return $e(()=>n.modelValue,()=>{h.value&&(a==null||a.validate("change").catch(p=>void 0))}),{handleChange:d,onClickRoot:f}},IU=n=>{const e=se(!1),{emit:t}=Rt(),i=st(Jl,void 0),s=N(()=>uu(i)===!1),r=se(!1);return{model:N({get(){var a,l;return s.value?(a=i==null?void 0:i.modelValue)==null?void 0:a.value:(l=n.modelValue)!=null?l:e.value},set(a){var l,c;s.value&&xe(a)?(r.value=((l=i==null?void 0:i.max)==null?void 0:l.value)!==void 0&&a.length>(i==null?void 0:i.max.value),r.value===!1&&((c=i==null?void 0:i.changeEvent)==null||c.call(i,a))):(t(ci,a),e.value=a)}}),isGroup:s,isLimitExceeded:r}},OU=(n,e,{model:t})=>{const i=st(Jl,void 0),s=se(!1),r=N(()=>{const c=t.value;return du(c)?c:xe(c)?gt(n.label)?c.map(ut).some(u=>vl(u,n.label)):c.map(ut).includes(n.label):c!=null?c===n.trueLabel:!!c}),o=fa(N(()=>{var c;return(c=i==null?void 0:i.size)==null?void 0:c.value}),{prop:!0}),a=fa(N(()=>{var c;return(c=i==null?void 0:i.size)==null?void 0:c.value})),l=N(()=>!!(e.default||n.label));return{checkboxButtonSize:o,isChecked:r,isFocused:s,checkboxSize:a,hasOwnLabel:l}},RU=(n,{model:e})=>{function t(){xe(e.value)&&!e.value.includes(n.label)?e.value.push(n.label):e.value=n.trueLabel||!0}n.checked&&t()},QA=(n,e)=>{const{formItem:t}=_a(),{model:i,isGroup:s,isLimitExceeded:r}=IU(n),{isFocused:o,isChecked:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u}=OU(n,e,{model:i}),{isDisabled:d}=xU({model:i,isChecked:a}),{inputId:f,isLabeledByFormItem:h}=Bb(n,{formItemContext:t,disableIdGeneration:u,disableIdManagement:s}),{handleChange:p,onClickRoot:m}=PU(n,{model:i,isLimitExceeded:r,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:h});return RU(n,{model:i}),{inputId:f,isLabeledByFormItem:h,isChecked:a,isDisabled:d,isFocused:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:i,handleChange:p,onClickRoot:m}},MU=["tabindex","role","aria-checked"],DU=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],FU=["id","aria-hidden","disabled","value","name","tabindex"],NU=Re({name:"ElCheckbox"}),LU=Re({...NU,props:KA,emits:GA,setup(n){const e=n,t=va(),{inputId:i,isLabeledByFormItem:s,isChecked:r,isDisabled:o,isFocused:a,checkboxSize:l,hasOwnLabel:c,model:u,handleChange:d,onClickRoot:f}=QA(e,t),h=pt("checkbox"),p=N(()=>[h.b(),h.m(l.value),h.is("disabled",o.value),h.is("bordered",e.border),h.is("checked",r.value)]),m=N(()=>[h.e("input"),h.is("disabled",o.value),h.is("checked",r.value),h.is("indeterminate",e.indeterminate),h.is("focus",a.value)]);return(b,v)=>(H(),ze(Fn(!g(c)&&g(s)?"span":"label"),{class:G(g(p)),"aria-controls":b.indeterminate?b.controls:null,onClick:g(f)},{default:Te(()=>[X("span",{class:G(g(m)),tabindex:b.indeterminate?0:void 0,role:b.indeterminate?"checkbox":void 0,"aria-checked":b.indeterminate?"mixed":void 0},[b.trueLabel||b.falseLabel?Wt((H(),le("input",{key:0,id:g(i),"onUpdate:modelValue":v[0]||(v[0]=w=>Bt(u)?u.value=w:null),class:G(g(h).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",name:b.name,tabindex:b.tabindex,disabled:g(o),"true-value":b.trueLabel,"false-value":b.falseLabel,onChange:v[1]||(v[1]=(...w)=>g(d)&&g(d)(...w)),onFocus:v[2]||(v[2]=w=>a.value=!0),onBlur:v[3]||(v[3]=w=>a.value=!1)},null,42,DU)),[[aa,g(u)]]):Wt((H(),le("input",{key:1,id:g(i),"onUpdate:modelValue":v[4]||(v[4]=w=>Bt(u)?u.value=w:null),class:G(g(h).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",disabled:g(o),value:b.label,name:b.name,tabindex:b.tabindex,onChange:v[5]||(v[5]=(...w)=>g(d)&&g(d)(...w)),onFocus:v[6]||(v[6]=w=>a.value=!0),onBlur:v[7]||(v[7]=w=>a.value=!1)},null,42,FU)),[[aa,g(u)]]),X("span",{class:G(g(h).e("inner"))},null,2)],10,MU),g(c)?(H(),le("span",{key:0,class:G(g(h).e("label"))},[dt(b.$slots,"default"),b.$slots.default?De("v-if",!0):(H(),le(Ze,{key:0},[fn(Oe(b.label),1)],64))],2)):De("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var $U=At(LU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const BU=["name","tabindex","disabled","true-value","false-value"],VU=["name","tabindex","disabled","value"],UU=Re({name:"ElCheckboxButton"}),zU=Re({...UU,props:KA,emits:GA,setup(n){const e=n,t=va(),{isFocused:i,isChecked:s,isDisabled:r,checkboxButtonSize:o,model:a,handleChange:l}=QA(e,t),c=st(Jl,void 0),u=pt("checkbox"),d=N(()=>{var h,p,m,b;const v=(p=(h=c==null?void 0:c.fill)==null?void 0:h.value)!=null?p:"";return{backgroundColor:v,borderColor:v,color:(b=(m=c==null?void 0:c.textColor)==null?void 0:m.value)!=null?b:"",boxShadow:v?`-1px 0 0 0 ${v}`:void 0}}),f=N(()=>[u.b("button"),u.bm("button",o.value),u.is("disabled",r.value),u.is("checked",s.value),u.is("focus",i.value)]);return(h,p)=>(H(),le("label",{class:G(g(f))},[h.trueLabel||h.falseLabel?Wt((H(),le("input",{key:0,"onUpdate:modelValue":p[0]||(p[0]=m=>Bt(a)?a.value=m:null),class:G(g(u).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:g(r),"true-value":h.trueLabel,"false-value":h.falseLabel,onChange:p[1]||(p[1]=(...m)=>g(l)&&g(l)(...m)),onFocus:p[2]||(p[2]=m=>i.value=!0),onBlur:p[3]||(p[3]=m=>i.value=!1)},null,42,BU)),[[aa,g(a)]]):Wt((H(),le("input",{key:1,"onUpdate:modelValue":p[4]||(p[4]=m=>Bt(a)?a.value=m:null),class:G(g(u).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:g(r),value:h.label,onChange:p[5]||(p[5]=(...m)=>g(l)&&g(l)(...m)),onFocus:p[6]||(p[6]=m=>i.value=!0),onBlur:p[7]||(p[7]=m=>i.value=!1)},null,42,VU)),[[aa,g(a)]]),h.$slots.default||h.label?(H(),le("span",{key:2,class:G(g(u).be("button","inner")),style:cn(g(s)?g(d):void 0)},[dt(h.$slots,"default",{},()=>[fn(Oe(h.label),1)])],6)):De("v-if",!0)],2))}});var YA=At(zU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const HU=bt({modelValue:{type:qe(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Yl,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),WU={[ci]:n=>xe(n),change:n=>xe(n)},jU=Re({name:"ElCheckboxGroup"}),qU=Re({...jU,props:HU,emits:WU,setup(n,{emit:e}){const t=n,i=pt("checkbox"),{formItem:s}=_a(),{inputId:r,isLabeledByFormItem:o}=Bb(t,{formItemContext:s}),a=async c=>{e(ci,c),await ct(),e("change",c)},l=N({get(){return t.modelValue},set(c){a(c)}});return Sn(Jl,{..._$(Wl(t),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),$e(()=>t.modelValue,()=>{t.validateEvent&&(s==null||s.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return H(),ze(Fn(c.tag),{id:g(r),class:G(g(i).b("group")),role:"group","aria-label":g(o)?void 0:c.label||"checkbox-group","aria-labelledby":g(o)?(d=g(s))==null?void 0:d.labelId:void 0},{default:Te(()=>[dt(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var JA=At(qU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const KU=ks($U,{CheckboxButton:YA,CheckboxGroup:JA});Ql(YA);Ql(JA);const XA=bt({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:Pb,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),GU={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},QU=Re({name:"ElTag"}),YU=Re({...QU,props:XA,emits:GU,setup(n,{emit:e}){const t=n,i=fa(),s=pt("tag"),r=N(()=>{const{type:l,hit:c,effect:u,closable:d,round:f}=t;return[s.b(),s.is("closable",d),s.m(l),s.m(i.value),s.m(u),s.is("hit",c),s.is("round",f)]}),o=l=>{e("close",l)},a=l=>{e("click",l)};return(l,c)=>l.disableTransitions?(H(),le("span",{key:0,class:G(g(r)),style:cn({backgroundColor:l.color}),onClick:a},[X("span",{class:G(g(s).e("content"))},[dt(l.$slots,"default")],2),l.closable?(H(),ze(g(St),{key:0,class:G(g(s).e("close")),onClick:ln(o,["stop"])},{default:Te(()=>[me(g(_0))]),_:1},8,["class","onClick"])):De("v-if",!0)],6)):(H(),ze(ys,{key:1,name:`${g(s).namespace.value}-zoom-in-center`,appear:""},{default:Te(()=>[X("span",{class:G(g(r)),style:cn({backgroundColor:l.color}),onClick:a},[X("span",{class:G(g(s).e("content"))},[dt(l.$slots,"default")],2),l.closable?(H(),ze(g(St),{key:0,class:G(g(s).e("close")),onClick:ln(o,["stop"])},{default:Te(()=>[me(g(_0))]),_:1},8,["class","onClick"])):De("v-if",!0)],6)]),_:3},8,["name"]))}});var JU=At(YU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const XU=ks(JU);var ZA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){return function(t,i){var s=i.prototype,r=s.format;s.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return r.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return r.bind(this)(u)}}})})(ZA);var ZU=ZA.exports;const e9=Ai(ZU);var ex={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){var t="week",i="year";return function(s,r,o){var a=r.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(i).add(1,i).date(c),d=o(this).endOf(t);if(u.isBefore(d))return 1}var f=o(this).startOf(i).date(c).startOf(t).subtract(1,"millisecond"),h=this.diff(f,t,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(ex);var t9=ex.exports;const n9=Ai(t9);var tx={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){return function(t,i){i.prototype.weekYear=function(){var s=this.month(),r=this.week(),o=this.year();return r===1&&s===11?o+1:s===0&&r>=52?o-1:o}}})})(tx);var i9=tx.exports;const s9=Ai(i9);var nx={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){return function(t,i,s){i.prototype.dayOfYear=function(r){var o=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return r==null?o:this.add(r-o,"day")}}})})(nx);var r9=nx.exports;const o9=Ai(r9);var ix={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){return function(t,i){i.prototype.isSameOrAfter=function(s,r){return this.isSame(s,r)||this.isAfter(s,r)}}})})(ix);var a9=ix.exports;const l9=Ai(a9);var sx={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(hn,function(){return function(t,i){i.prototype.isSameOrBefore=function(s,r){return this.isSame(s,r)||this.isBefore(s,r)}}})})(sx);var c9=sx.exports;const u9=Ai(c9),Wb=Symbol(),d9=bt({...WA,type:{type:qe(String),default:"date"}}),f9=["date","dates","year","month","week","range"],jb=bt({disabledDate:{type:qe(Function)},date:{type:qe(Object),required:!0},minDate:{type:qe(Object)},maxDate:{type:qe(Object)},parsedValue:{type:qe([Object,Array])},rangeState:{type:qe(Object),default:()=>({endDate:null,selecting:!1})}}),rx=bt({type:{type:qe(String),required:!0,values:rV}}),ox=bt({unlinkPanels:Boolean,parsedValue:{type:qe(Array)}}),ax=n=>({type:String,values:f9,default:n}),h9=bt({...rx,parsedValue:{type:qe([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),m9=bt({...jb,cellClassName:{type:qe(Function)},showWeekNumber:Boolean,selectionMode:ax("date")}),xg=n=>{if(!xe(n))return!1;const[e,t]=n;return tt.isDayjs(e)&&tt.isDayjs(t)&&e.isSameOrBefore(t)},lx=(n,{lang:e,unit:t,unlinkPanels:i})=>{let s;if(xe(n)){let[r,o]=n.map(a=>tt(a).locale(e));return i||(o=r.add(1,t)),[r,o]}else n?s=tt(n):s=tt();return s=s.locale(e),[s,s.add(1,t)]},p9=(n,e,{columnIndexOffset:t,startDate:i,nextEndDate:s,now:r,unit:o,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<n.row;u++){const d=e[u];for(let f=0;f<n.column;f++){let h=d[f+t];h||(h={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const p=u*n.column+f,m=a(p);h.dayjs=m,h.date=m.toDate(),h.timestamp=m.valueOf(),h.type="normal",h.inRange=!!(i&&m.isSameOrAfter(i,o)&&s&&m.isSameOrBefore(s,o))||!!(i&&m.isSameOrBefore(i,o)&&s&&m.isSameOrAfter(s,o)),i!=null&&i.isSameOrAfter(s)?(h.start=!!s&&m.isSame(s,o),h.end=i&&m.isSame(i,o)):(h.start=!!i&&m.isSame(i,o),h.end=!!s&&m.isSame(s,o)),m.isSame(r,o)&&(h.type="today"),l==null||l(h,{rowIndex:u,columnIndex:f}),d[f+t]=h}c==null||c(d)}},g9=bt({cell:{type:qe(Object)}});var v9=Re({name:"ElDatePickerCell",props:g9,setup(n){const e=pt("date-table-cell"),{slots:t}=st(Wb);return()=>{const{cell:i}=n;if(t.default){const s=t.default(i).filter(r=>r.patchFlag!==-2&&r.type.toString()!=="Symbol(Comment)");if(s.length)return s}return me("div",{class:e.b()},[me("span",{class:e.e("text")},[i==null?void 0:i.text])])}}});const b9=["aria-label","onMousedown"],y9={key:0,scope:"col"},w9=["aria-label"],_9=["aria-current","aria-selected","tabindex"],C9=Re({__name:"basic-date-table",props:m9,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const i=n,s=pt("date-table"),{t:r,lang:o}=Ki(),a=se(),l=se(),c=se(),u=se(),d=se([[],[],[],[],[],[]]);let f=!1;const h=i.date.$locale().weekStart||7,p=i.date.locale("en").localeData().weekdaysShort().map(O=>O.toLowerCase()),m=N(()=>h>3?7-h:-h),b=N(()=>{const O=i.date.startOf("month");return O.subtract(O.day()||7,"day")}),v=N(()=>p.concat(p).slice(h,h+7)),w=N(()=>wT(S.value).some(O=>O.isCurrent)),C=N(()=>{const O=i.date.startOf("month"),F=O.day()||7,ce=O.daysInMonth(),be=O.subtract(1,"month").daysInMonth();return{startOfMonthDay:F,dateCountOfMonth:ce,dateCountOfLastMonth:be}}),_=N(()=>i.selectionMode==="dates"?Qo(i.parsedValue):[]),T=(O,{count:F,rowIndex:ce,columnIndex:be})=>{const{startOfMonthDay:Ae,dateCountOfMonth:je,dateCountOfLastMonth:Me}=g(C),Ue=g(m);if(ce>=0&&ce<=1){const Be=Ae+Ue<0?7+Ae+Ue:Ae+Ue;if(be+ce*7>=Be)return O.text=F,!0;O.text=Me-(Be-be%7)+1+ce*7,O.type="prev-month"}else return F<=je?O.text=F:(O.text=F-je,O.type="next-month"),!0;return!1},k=(O,{columnIndex:F,rowIndex:ce},be)=>{const{disabledDate:Ae,cellClassName:je}=i,Me=g(_),Ue=T(O,{count:be,rowIndex:ce,columnIndex:F}),Be=O.dayjs.toDate();return O.selected=Me.find(Ge=>Ge.valueOf()===O.dayjs.valueOf()),O.isSelected=!!O.selected,O.isCurrent=q(O),O.disabled=Ae==null?void 0:Ae(Be),O.customClass=je==null?void 0:je(Be),Ue},E=O=>{if(i.selectionMode==="week"){const[F,ce]=i.showWeekNumber?[1,7]:[0,6],be=pe(O[F+1]);O[F].inRange=be,O[F].start=be,O[ce].inRange=be,O[ce].end=be}},S=N(()=>{const{minDate:O,maxDate:F,rangeState:ce,showWeekNumber:be}=i,Ae=m.value,je=d.value,Me="day";let Ue=1;if(be)for(let Be=0;Be<6;Be++)je[Be][0]||(je[Be][0]={type:"week",text:b.value.add(Be*7+1,Me).week()});return p9({row:6,column:7},je,{startDate:O,columnIndexOffset:be?1:0,nextEndDate:ce.endDate||F||ce.selecting&&O||null,now:tt().locale(g(o)).startOf(Me),unit:Me,relativeDateGetter:Be=>b.value.add(Be-Ae,Me),setCellMetadata:(...Be)=>{k(...Be,Ue)&&(Ue+=1)},setRowMetadata:E}),je});$e(()=>i.date,async()=>{var O,F;(O=a.value)!=null&&O.contains(document.activeElement)&&(await ct(),(F=l.value)==null||F.focus())});const I=async()=>{var O;(O=l.value)==null||O.focus()},R=(O="")=>["normal","today"].includes(O),q=O=>i.selectionMode==="date"&&R(O.type)&&W(O,i.parsedValue),W=(O,F)=>F?tt(F).locale(o.value).isSame(i.date.date(Number(O.text)),"day"):!1,z=O=>{const F=[];return R(O.type)&&!O.disabled?(F.push("available"),O.type==="today"&&F.push("today")):F.push(O.type),q(O)&&F.push("current"),O.inRange&&(R(O.type)||i.selectionMode==="week")&&(F.push("in-range"),O.start&&F.push("start-date"),O.end&&F.push("end-date")),O.disabled&&F.push("disabled"),O.selected&&F.push("selected"),O.customClass&&F.push(O.customClass),F.join(" ")},L=(O,F)=>{const ce=O*7+(F-(i.showWeekNumber?1:0))-m.value;return b.value.add(ce,"day")},J=O=>{var F;if(!i.rangeState.selecting)return;let ce=O.target;if(ce.tagName==="SPAN"&&(ce=(F=ce.parentNode)==null?void 0:F.parentNode),ce.tagName==="DIV"&&(ce=ce.parentNode),ce.tagName!=="TD")return;const be=ce.parentNode.rowIndex-1,Ae=ce.cellIndex;S.value[be][Ae].disabled||(be!==c.value||Ae!==u.value)&&(c.value=be,u.value=Ae,t("changerange",{selecting:!0,endDate:L(be,Ae)}))},ne=O=>!w.value&&(O==null?void 0:O.text)===1&&O.type==="normal"||O.isCurrent,M=O=>{f||w.value||i.selectionMode!=="date"||Y(O,!0)},Q=O=>{O.target.closest("td")&&(f=!0)},U=O=>{O.target.closest("td")&&(f=!1)},Y=(O,F=!1)=>{const ce=O.target.closest("td");if(!ce)return;const be=ce.parentNode.rowIndex-1,Ae=ce.cellIndex,je=S.value[be][Ae];if(je.disabled||je.type==="week")return;const Me=L(be,Ae);if(i.selectionMode==="range")!i.rangeState.selecting||!i.minDate?(t("pick",{minDate:Me,maxDate:null}),t("select",!0)):(Me>=i.minDate?t("pick",{minDate:i.minDate,maxDate:Me}):t("pick",{minDate:Me,maxDate:i.minDate}),t("select",!1));else if(i.selectionMode==="date")t("pick",Me,F);else if(i.selectionMode==="week"){const Ue=Me.week(),Be=`${Me.year()}w${Ue}`;t("pick",{year:Me.year(),week:Ue,value:Be,date:Me.startOf("week")})}else if(i.selectionMode==="dates"){const Ue=je.selected?Qo(i.parsedValue).filter(Be=>(Be==null?void 0:Be.valueOf())!==Me.valueOf()):Qo(i.parsedValue).concat([Me]);t("pick",Ue)}},pe=O=>{if(i.selectionMode!=="week")return!1;let F=i.date.startOf("day");if(O.type==="prev-month"&&(F=F.subtract(1,"month")),O.type==="next-month"&&(F=F.add(1,"month")),F=F.date(Number.parseInt(O.text,10)),i.parsedValue&&!Array.isArray(i.parsedValue)){const ce=(i.parsedValue.day()-h+7)%7-1;return i.parsedValue.subtract(ce,"day").isSame(F,"day")}return!1};return e({focus:I}),(O,F)=>(H(),le("table",{role:"grid","aria-label":g(r)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:G([g(s).b(),{"is-week-mode":O.selectionMode==="week"}]),onClick:Y,onMousemove:J,onMousedown:ln(Q,["prevent"]),onMouseup:U},[X("tbody",{ref_key:"tbodyRef",ref:a},[X("tr",null,[O.showWeekNumber?(H(),le("th",y9,Oe(g(r)("el.datepicker.week")),1)):De("v-if",!0),(H(!0),le(Ze,null,dn(g(v),(ce,be)=>(H(),le("th",{key:be,scope:"col","aria-label":g(r)("el.datepicker.weeksFull."+ce)},Oe(g(r)("el.datepicker.weeks."+ce)),9,w9))),128))]),(H(!0),le(Ze,null,dn(g(S),(ce,be)=>(H(),le("tr",{key:be,class:G([g(s).e("row"),{current:pe(ce[1])}])},[(H(!0),le(Ze,null,dn(ce,(Ae,je)=>(H(),le("td",{key:`${be}.${je}`,ref_for:!0,ref:Me=>ne(Ae)&&(l.value=Me),class:G(z(Ae)),"aria-current":Ae.isCurrent?"date":void 0,"aria-selected":Ae.isCurrent,tabindex:ne(Ae)?0:-1,onFocus:M},[me(g(v9),{cell:Ae},null,8,["cell"])],42,_9))),128))],2))),128))],512)],42,b9))}});var Pg=At(C9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const k9=bt({...jb,selectionMode:ax("month")}),S9=["aria-label"],E9=["aria-selected","aria-label","tabindex","onKeydown"],T9={class:"cell"},A9=Re({__name:"basic-month-table",props:k9,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const i=n,s=(_,T,k)=>{const E=tt().locale(k).startOf("month").month(T).year(_),S=E.daysInMonth();return VA(S).map(I=>E.add(I,"day").toDate())},r=pt("month-table"),{t:o,lang:a}=Ki(),l=se(),c=se(),u=se(i.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),d=se([[],[],[]]),f=se(),h=se(),p=N(()=>{var _,T;const k=d.value,E=tt().locale(a.value).startOf("month");for(let S=0;S<3;S++){const I=k[S];for(let R=0;R<4;R++){const q=I[R]||(I[R]={row:S,column:R,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});q.type="normal";const W=S*4+R,z=i.date.startOf("year").month(W),L=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;q.inRange=!!(i.minDate&&z.isSameOrAfter(i.minDate,"month")&&L&&z.isSameOrBefore(L,"month"))||!!(i.minDate&&z.isSameOrBefore(i.minDate,"month")&&L&&z.isSameOrAfter(L,"month")),(_=i.minDate)!=null&&_.isSameOrAfter(L)?(q.start=!!(L&&z.isSame(L,"month")),q.end=i.minDate&&z.isSame(i.minDate,"month")):(q.start=!!(i.minDate&&z.isSame(i.minDate,"month")),q.end=!!(L&&z.isSame(L,"month"))),E.isSame(z)&&(q.type="today"),q.text=W,q.disabled=((T=i.disabledDate)==null?void 0:T.call(i,z.toDate()))||!1}}return k}),m=()=>{var _;(_=c.value)==null||_.focus()},b=_=>{const T={},k=i.date.year(),E=new Date,S=_.text;return T.disabled=i.disabledDate?s(k,S,a.value).every(i.disabledDate):!1,T.current=Qo(i.parsedValue).findIndex(I=>tt.isDayjs(I)&&I.year()===k&&I.month()===S)>=0,T.today=E.getFullYear()===k&&E.getMonth()===S,_.inRange&&(T["in-range"]=!0,_.start&&(T["start-date"]=!0),_.end&&(T["end-date"]=!0)),T},v=_=>{const T=i.date.year(),k=_.text;return Qo(i.date).findIndex(E=>E.year()===T&&E.month()===k)>=0},w=_=>{var T;if(!i.rangeState.selecting)return;let k=_.target;if(k.tagName==="A"&&(k=(T=k.parentNode)==null?void 0:T.parentNode),k.tagName==="DIV"&&(k=k.parentNode),k.tagName!=="TD")return;const E=k.parentNode.rowIndex,S=k.cellIndex;p.value[E][S].disabled||(E!==f.value||S!==h.value)&&(f.value=E,h.value=S,t("changerange",{selecting:!0,endDate:i.date.startOf("year").month(E*4+S)}))},C=_=>{var T;const k=(T=_.target)==null?void 0:T.closest("td");if((k==null?void 0:k.tagName)!=="TD"||KT(k,"disabled"))return;const E=k.cellIndex,I=k.parentNode.rowIndex*4+E,R=i.date.startOf("year").month(I);i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&R>=i.minDate?t("pick",{minDate:i.minDate,maxDate:R}):t("pick",{minDate:R,maxDate:i.minDate}),t("select",!1)):(t("pick",{minDate:R,maxDate:null}),t("select",!0)):t("pick",I)};return $e(()=>i.date,async()=>{var _,T;(_=l.value)!=null&&_.contains(document.activeElement)&&(await ct(),(T=c.value)==null||T.focus())}),e({focus:m}),(_,T)=>(H(),le("table",{role:"grid","aria-label":g(o)("el.datepicker.monthTablePrompt"),class:G(g(r).b()),onClick:C,onMousemove:w},[X("tbody",{ref_key:"tbodyRef",ref:l},[(H(!0),le(Ze,null,dn(g(p),(k,E)=>(H(),le("tr",{key:E},[(H(!0),le(Ze,null,dn(k,(S,I)=>(H(),le("td",{key:I,ref_for:!0,ref:R=>v(S)&&(c.value=R),class:G(b(S)),"aria-selected":`${v(S)}`,"aria-label":g(o)(`el.datepicker.month${+S.text+1}`),tabindex:v(S)?0:-1,onKeydown:[In(ln(C,["prevent","stop"]),["space"]),In(ln(C,["prevent","stop"]),["enter"])]},[X("div",null,[X("span",T9,Oe(g(o)("el.datepicker.months."+u.value[S.text])),1)])],42,E9))),128))]))),128))],512)],42,S9))}});var Ig=At(A9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:x9,disabledDate:P9,parsedValue:I9}=jb,O9=bt({date:x9,disabledDate:P9,parsedValue:I9}),R9=["aria-label"],M9=["aria-selected","tabindex","onKeydown"],D9={class:"cell"},F9={key:1},N9=Re({__name:"basic-year-table",props:O9,emits:["pick"],setup(n,{expose:e,emit:t}){const i=n,s=(m,b)=>{const v=tt(String(m)).locale(b).startOf("year"),C=v.endOf("year").dayOfYear();return VA(C).map(_=>v.add(_,"day").toDate())},r=pt("year-table"),{t:o,lang:a}=Ki(),l=se(),c=se(),u=N(()=>Math.floor(i.date.year()/10)*10),d=()=>{var m;(m=c.value)==null||m.focus()},f=m=>{const b={},v=tt().locale(a.value);return b.disabled=i.disabledDate?s(m,a.value).every(i.disabledDate):!1,b.current=Qo(i.parsedValue).findIndex(w=>w.year()===m)>=0,b.today=v.year()===m,b},h=m=>m===u.value&&i.date.year()<u.value&&i.date.year()>u.value+9||Qo(i.date).findIndex(b=>b.year()===m)>=0,p=m=>{const v=m.target.closest("td");if(v&&v.textContent){if(KT(v,"disabled"))return;const w=v.textContent||v.innerText;t("pick",Number(w))}};return $e(()=>i.date,async()=>{var m,b;(m=l.value)!=null&&m.contains(document.activeElement)&&(await ct(),(b=c.value)==null||b.focus())}),e({focus:d}),(m,b)=>(H(),le("table",{role:"grid","aria-label":g(o)("el.datepicker.yearTablePrompt"),class:G(g(r).b()),onClick:p},[X("tbody",{ref_key:"tbodyRef",ref:l},[(H(),le(Ze,null,dn(3,(v,w)=>X("tr",{key:w},[(H(),le(Ze,null,dn(4,(C,_)=>(H(),le(Ze,{key:w+"_"+_},[w*4+_<10?(H(),le("td",{key:0,ref_for:!0,ref:T=>h(g(u)+w*4+_)&&(c.value=T),class:G(["available",f(g(u)+w*4+_)]),"aria-selected":`${h(g(u)+w*4+_)}`,tabindex:h(g(u)+w*4+_)?0:-1,onKeydown:[In(ln(p,["prevent","stop"]),["space"]),In(ln(p,["prevent","stop"]),["enter"])]},[X("span",D9,Oe(g(u)+w*4+_),1)],42,M9)):(H(),le("td",F9))],64))),64))])),64))],512)],10,R9))}});var L9=At(N9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const $9=["onClick"],B9=["aria-label"],V9=["aria-label"],U9=["aria-label"],z9=["aria-label"],H9=Re({__name:"panel-date-pick",props:h9,emits:["pick","set-picker-option","panel-change"],setup(n,{emit:e}){const t=n,i=(ie,Pe,we)=>!0,s=pt("picker-panel"),r=pt("date-picker"),o=Du(),a=va(),{t:l,lang:c}=Ki(),u=st("EP_PICKER_BASE"),d=st(Oh),{shortcuts:f,disabledDate:h,cellClassName:p,defaultTime:m,arrowControl:b}=u.props,v=Mn(u.props,"defaultValue"),w=se(),C=se(tt().locale(c.value)),_=se(!1),T=N(()=>tt(m).locale(c.value)),k=N(()=>C.value.month()),E=N(()=>C.value.year()),S=se([]),I=se(null),R=se(null),q=ie=>S.value.length>0?i(ie,S.value,t.format||"HH:mm:ss"):!0,W=ie=>m&&!te.value&&!_.value?T.value.year(ie.year()).month(ie.month()).date(ie.date()):Ae.value?ie.millisecond(0):ie.startOf("day"),z=(ie,...Pe)=>{if(!ie)e("pick",ie,...Pe);else if(xe(ie)){const we=ie.map(W);e("pick",we,...Pe)}else e("pick",W(ie),...Pe);I.value=null,R.value=null,_.value=!1},L=(ie,Pe)=>{if(Y.value==="date"){ie=ie;let we=t.parsedValue?t.parsedValue.year(ie.year()).month(ie.month()).date(ie.date()):ie;q(we)||(we=S.value[0][0].year(ie.year()).month(ie.month()).date(ie.date())),C.value=we,z(we,Ae.value||Pe)}else Y.value==="week"?z(ie.date):Y.value==="dates"&&z(ie,!0)},J=ie=>{const Pe=ie?"add":"subtract";C.value=C.value[Pe](1,"month"),ft("month")},ne=ie=>{const Pe=C.value,we=ie?"add":"subtract";C.value=M.value==="year"?Pe[we](10,"year"):Pe[we](1,"year"),ft("year")},M=se("date"),Q=N(()=>{const ie=l("el.datepicker.year");if(M.value==="year"){const Pe=Math.floor(E.value/10)*10;return ie?`${Pe} ${ie} - ${Pe+9} ${ie}`:`${Pe} - ${Pe+9}`}return`${E.value} ${ie}`}),U=ie=>{const Pe=We(ie.value)?ie.value():ie.value;if(Pe){z(tt(Pe).locale(c.value));return}ie.onClick&&ie.onClick({attrs:o,slots:a,emit:e})},Y=N(()=>{const{type:ie}=t;return["week","month","year","dates"].includes(ie)?ie:"date"}),pe=N(()=>Y.value==="date"?M.value:Y.value),O=N(()=>!!f.length),F=async ie=>{C.value=C.value.startOf("month").month(ie),Y.value==="month"?z(C.value,!1):(M.value="date",["month","year","date","week"].includes(Y.value)&&(z(C.value,!0),await ct(),Ve())),ft("month")},ce=async ie=>{Y.value==="year"?(C.value=C.value.startOf("year").year(ie),z(C.value,!1)):(C.value=C.value.year(ie),M.value="month",["month","year","date","week"].includes(Y.value)&&(z(C.value,!0),await ct(),Ve())),ft("year")},be=async ie=>{M.value=ie,await ct(),Ve()},Ae=N(()=>t.type==="datetime"||t.type==="datetimerange"),je=N(()=>Ae.value||Y.value==="dates"),Me=N(()=>h?t.parsedValue?xe(t.parsedValue)?h(t.parsedValue[0].toDate()):h(t.parsedValue.toDate()):!0:!1),Ue=()=>{if(Y.value==="dates")z(t.parsedValue);else{let ie=t.parsedValue;if(!ie){const Pe=tt(m).locale(c.value),we=ke();ie=Pe.year(we.year()).month(we.month()).date(we.date())}C.value=ie,z(ie)}},Be=N(()=>h?h(tt().locale(c.value).toDate()):!1),Ge=()=>{const Pe=tt().locale(c.value).toDate();_.value=!0,(!h||!h(Pe))&&q(Pe)&&(C.value=tt().locale(c.value),z(C.value))},x=N(()=>zA(t.format)),B=N(()=>UA(t.format)),te=N(()=>{if(R.value)return R.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||C.value).format(x.value)}),ue=N(()=>{if(I.value)return I.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||C.value).format(B.value)}),ae=se(!1),ye=()=>{ae.value=!0},Ee=()=>{ae.value=!1},ge=ie=>({hour:ie.hour(),minute:ie.minute(),second:ie.second(),year:ie.year(),month:ie.month(),date:ie.date()}),oe=(ie,Pe,we)=>{const{hour:Ie,minute:P,second:Se}=ge(ie),Qe=t.parsedValue?t.parsedValue.hour(Ie).minute(P).second(Se):ie;C.value=Qe,z(C.value,!0),we||(ae.value=Pe)},re=ie=>{const Pe=tt(ie,x.value).locale(c.value);if(Pe.isValid()&&q(Pe)){const{year:we,month:Ie,date:P}=ge(C.value);C.value=Pe.year(we).month(Ie).date(P),R.value=null,ae.value=!1,z(C.value,!0)}},j=ie=>{const Pe=tt(ie,B.value).locale(c.value);if(Pe.isValid()){if(h&&h(Pe.toDate()))return;const{hour:we,minute:Ie,second:P}=ge(C.value);C.value=Pe.hour(we).minute(Ie).second(P),I.value=null,z(C.value,!0)}},K=ie=>tt.isDayjs(ie)&&ie.isValid()&&(h?!h(ie.toDate()):!0),Ce=ie=>Y.value==="dates"?ie.map(Pe=>Pe.format(t.format)):ie.format(t.format),Z=ie=>tt(ie,t.format).locale(c.value),ke=()=>{const ie=tt(v.value).locale(c.value);if(!v.value){const Pe=T.value;return tt().hour(Pe.hour()).minute(Pe.minute()).second(Pe.second()).locale(c.value)}return ie},Ve=async()=>{var ie;["week","month","year","date"].includes(Y.value)&&((ie=w.value)==null||ie.focus(),Y.value==="week"&&rt(Ht.down))},Ke=ie=>{const{code:Pe}=ie;[Ht.up,Ht.down,Ht.left,Ht.right,Ht.home,Ht.end,Ht.pageUp,Ht.pageDown].includes(Pe)&&(rt(Pe),ie.stopPropagation(),ie.preventDefault()),[Ht.enter,Ht.space,Ht.numpadEnter].includes(Pe)&&I.value===null&&R.value===null&&(ie.preventDefault(),z(C.value,!1))},rt=ie=>{var Pe;const{up:we,down:Ie,left:P,right:Se,home:Qe,end:ht,pageUp:Lt,pageDown:Gi}=Ht,fi={year:{[we]:-4,[Ie]:4,[P]:-1,[Se]:1,offset:(fe,Fe)=>fe.setFullYear(fe.getFullYear()+Fe)},month:{[we]:-4,[Ie]:4,[P]:-1,[Se]:1,offset:(fe,Fe)=>fe.setMonth(fe.getMonth()+Fe)},week:{[we]:-1,[Ie]:1,[P]:-1,[Se]:1,offset:(fe,Fe)=>fe.setDate(fe.getDate()+Fe*7)},date:{[we]:-7,[Ie]:7,[P]:-1,[Se]:1,[Qe]:fe=>-fe.getDay(),[ht]:fe=>-fe.getDay()+6,[Lt]:fe=>-new Date(fe.getFullYear(),fe.getMonth(),0).getDate(),[Gi]:fe=>new Date(fe.getFullYear(),fe.getMonth()+1,0).getDate(),offset:(fe,Fe)=>fe.setDate(fe.getDate()+Fe)}},ee=C.value.toDate();for(;Math.abs(C.value.diff(ee,"year",!0))<1;){const fe=fi[pe.value];if(!fe)return;if(fe.offset(ee,We(fe[ie])?fe[ie](ee):(Pe=fe[ie])!=null?Pe:0),h&&h(ee))break;const Fe=tt(ee).locale(c.value);C.value=Fe,e("pick",Fe,!0);break}},ft=ie=>{e("panel-change",C.value.toDate(),ie,M.value)};return $e(()=>Y.value,ie=>{if(["month","year"].includes(ie)){M.value=ie;return}M.value="date"},{immediate:!0}),$e(()=>M.value,()=>{d==null||d.updatePopper()}),$e(()=>v.value,ie=>{ie&&(C.value=ke())},{immediate:!0}),$e(()=>t.parsedValue,ie=>{if(ie){if(Y.value==="dates"||Array.isArray(ie))return;C.value=ie}else C.value=ke()},{immediate:!0}),e("set-picker-option",["isValidValue",K]),e("set-picker-option",["formatToString",Ce]),e("set-picker-option",["parseUserInput",Z]),e("set-picker-option",["handleFocusPicker",Ve]),(ie,Pe)=>(H(),le("div",{class:G([g(s).b(),g(r).b(),{"has-sidebar":ie.$slots.sidebar||g(O),"has-time":g(Ae)}])},[X("div",{class:G(g(s).e("body-wrapper"))},[dt(ie.$slots,"sidebar",{class:G(g(s).e("sidebar"))}),g(O)?(H(),le("div",{key:0,class:G(g(s).e("sidebar"))},[(H(!0),le(Ze,null,dn(g(f),(we,Ie)=>(H(),le("button",{key:Ie,type:"button",class:G(g(s).e("shortcut")),onClick:P=>U(we)},Oe(we.text),11,$9))),128))],2)):De("v-if",!0),X("div",{class:G(g(s).e("body"))},[g(Ae)?(H(),le("div",{key:0,class:G(g(r).e("time-header"))},[X("span",{class:G(g(r).e("editor-wrap"))},[me(g(Us),{placeholder:g(l)("el.datepicker.selectDate"),"model-value":g(ue),size:"small","validate-event":!1,onInput:Pe[0]||(Pe[0]=we=>I.value=we),onChange:j},null,8,["placeholder","model-value"])],2),Wt((H(),le("span",{class:G(g(r).e("editor-wrap"))},[me(g(Us),{placeholder:g(l)("el.datepicker.selectTime"),"model-value":g(te),size:"small","validate-event":!1,onFocus:ye,onInput:Pe[1]||(Pe[1]=we=>R.value=we),onChange:re},null,8,["placeholder","model-value"]),me(g(Ag),{visible:ae.value,format:g(x),"time-arrow-control":g(b),"parsed-value":C.value,onPick:oe},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(Of),Ee]])],2)):De("v-if",!0),Wt(X("div",{class:G([g(r).e("header"),(M.value==="year"||M.value==="month")&&g(r).e("header--bordered")])},[X("span",{class:G(g(r).e("prev-btn"))},[X("button",{type:"button","aria-label":g(l)("el.datepicker.prevYear"),class:G(["d-arrow-left",g(s).e("icon-btn")]),onClick:Pe[2]||(Pe[2]=we=>ne(!1))},[me(g(St),null,{default:Te(()=>[me(g(hu))]),_:1})],10,B9),Wt(X("button",{type:"button","aria-label":g(l)("el.datepicker.prevMonth"),class:G([g(s).e("icon-btn"),"arrow-left"]),onClick:Pe[3]||(Pe[3]=we=>J(!1))},[me(g(St),null,{default:Te(()=>[me(g(Cg))]),_:1})],10,V9),[[li,M.value==="date"]])],2),X("span",{role:"button",class:G(g(r).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Pe[4]||(Pe[4]=In(we=>be("year"),["enter"])),onClick:Pe[5]||(Pe[5]=we=>be("year"))},Oe(g(Q)),35),Wt(X("span",{role:"button","aria-live":"polite",tabindex:"0",class:G([g(r).e("header-label"),{active:M.value==="month"}]),onKeydown:Pe[6]||(Pe[6]=In(we=>be("month"),["enter"])),onClick:Pe[7]||(Pe[7]=we=>be("month"))},Oe(g(l)(`el.datepicker.month${g(k)+1}`)),35),[[li,M.value==="date"]]),X("span",{class:G(g(r).e("next-btn"))},[Wt(X("button",{type:"button","aria-label":g(l)("el.datepicker.nextMonth"),class:G([g(s).e("icon-btn"),"arrow-right"]),onClick:Pe[8]||(Pe[8]=we=>J(!0))},[me(g(St),null,{default:Te(()=>[me(g(Jd))]),_:1})],10,U9),[[li,M.value==="date"]]),X("button",{type:"button","aria-label":g(l)("el.datepicker.nextYear"),class:G([g(s).e("icon-btn"),"d-arrow-right"]),onClick:Pe[9]||(Pe[9]=we=>ne(!0))},[me(g(St),null,{default:Te(()=>[me(g(mu))]),_:1})],10,z9)],2)],2),[[li,M.value!=="time"]]),X("div",{class:G(g(s).e("content")),onKeydown:Ke},[M.value==="date"?(H(),ze(Pg,{key:0,ref_key:"currentViewRef",ref:w,"selection-mode":g(Y),date:C.value,"parsed-value":ie.parsedValue,"disabled-date":g(h),"cell-class-name":g(p),onPick:L},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):De("v-if",!0),M.value==="year"?(H(),ze(L9,{key:1,ref_key:"currentViewRef",ref:w,date:C.value,"disabled-date":g(h),"parsed-value":ie.parsedValue,onPick:ce},null,8,["date","disabled-date","parsed-value"])):De("v-if",!0),M.value==="month"?(H(),ze(Ig,{key:2,ref_key:"currentViewRef",ref:w,date:C.value,"parsed-value":ie.parsedValue,"disabled-date":g(h),onPick:F},null,8,["date","parsed-value","disabled-date"])):De("v-if",!0)],34)],2)],2),Wt(X("div",{class:G(g(s).e("footer"))},[Wt(me(g(Cl),{text:"",size:"small",class:G(g(s).e("link-btn")),disabled:g(Be),onClick:Ge},{default:Te(()=>[fn(Oe(g(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[li,g(Y)!=="dates"]]),me(g(Cl),{plain:"",size:"small",class:G(g(s).e("link-btn")),disabled:g(Me),onClick:Ue},{default:Te(()=>[fn(Oe(g(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[li,g(je)&&M.value==="date"]])],2))}});var W9=At(H9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const j9=bt({...rx,...ox}),q9=n=>{const{emit:e}=Rt(),t=Du(),i=va();return r=>{const o=We(r.value)?r.value():r.value;if(o){e("pick",[tt(o[0]).locale(n.value),tt(o[1]).locale(n.value)]);return}r.onClick&&r.onClick({attrs:t,slots:i,emit:e})}},cx=(n,{defaultValue:e,leftDate:t,rightDate:i,unit:s,onParsedValueChanged:r})=>{const{emit:o}=Rt(),{pickerNs:a}=st(Wb),l=pt("date-range-picker"),{t:c,lang:u}=Ki(),d=q9(u),f=se(),h=se(),p=se({endDate:null,selecting:!1}),m=C=>{p.value=C},b=(C=!1)=>{const _=g(f),T=g(h);xg([_,T])&&o("pick",[_,T],C)},v=C=>{p.value.selecting=C,C||(p.value.endDate=null)},w=()=>{const[C,_]=lx(g(e),{lang:g(u),unit:s,unlinkPanels:n.unlinkPanels});f.value=void 0,h.value=void 0,t.value=C,i.value=_};return $e(e,C=>{C&&w()},{immediate:!0}),$e(()=>n.parsedValue,C=>{if(xe(C)&&C.length===2){const[_,T]=C;f.value=_,t.value=_,h.value=T,r(g(f),g(h))}else w()},{immediate:!0}),{minDate:f,maxDate:h,rangeState:p,lang:u,ppNs:a,drpNs:l,handleChangeRange:m,handleRangeConfirm:b,handleShortcutClick:d,onSelect:v,t:c}},K9=["onClick"],G9=["disabled"],Q9=["disabled"],Y9=["disabled"],J9=["disabled"],Sd="month",X9=Re({__name:"panel-date-range",props:j9,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,{emit:e}){const t=n,i=st("EP_PICKER_BASE"),{disabledDate:s,cellClassName:r,format:o,defaultTime:a,arrowControl:l,clearable:c}=i.props,u=Mn(i.props,"shortcuts"),d=Mn(i.props,"defaultValue"),{lang:f}=Ki(),h=se(tt().locale(f.value)),p=se(tt().locale(f.value).add(1,Sd)),{minDate:m,maxDate:b,rangeState:v,ppNs:w,drpNs:C,handleChangeRange:_,handleRangeConfirm:T,handleShortcutClick:k,onSelect:E,t:S}=cx(t,{defaultValue:d,leftDate:h,rightDate:p,unit:Sd,onParsedValueChanged:Pe}),I=se({min:null,max:null}),R=se({min:null,max:null}),q=N(()=>`${h.value.year()} ${S("el.datepicker.year")} ${S(`el.datepicker.month${h.value.month()+1}`)}`),W=N(()=>`${p.value.year()} ${S("el.datepicker.year")} ${S(`el.datepicker.month${p.value.month()+1}`)}`),z=N(()=>h.value.year()),L=N(()=>h.value.month()),J=N(()=>p.value.year()),ne=N(()=>p.value.month()),M=N(()=>!!u.value.length),Q=N(()=>I.value.min!==null?I.value.min:m.value?m.value.format(F.value):""),U=N(()=>I.value.max!==null?I.value.max:b.value||m.value?(b.value||m.value).format(F.value):""),Y=N(()=>R.value.min!==null?R.value.min:m.value?m.value.format(O.value):""),pe=N(()=>R.value.max!==null?R.value.max:b.value||m.value?(b.value||m.value).format(O.value):""),O=N(()=>zA(o)),F=N(()=>UA(o)),ce=()=>{h.value=h.value.subtract(1,"year"),t.unlinkPanels||(p.value=h.value.add(1,"month")),x("year")},be=()=>{h.value=h.value.subtract(1,"month"),t.unlinkPanels||(p.value=h.value.add(1,"month")),x("month")},Ae=()=>{t.unlinkPanels?p.value=p.value.add(1,"year"):(h.value=h.value.add(1,"year"),p.value=h.value.add(1,"month")),x("year")},je=()=>{t.unlinkPanels?p.value=p.value.add(1,"month"):(h.value=h.value.add(1,"month"),p.value=h.value.add(1,"month")),x("month")},Me=()=>{h.value=h.value.add(1,"year"),x("year")},Ue=()=>{h.value=h.value.add(1,"month"),x("month")},Be=()=>{p.value=p.value.subtract(1,"year"),x("year")},Ge=()=>{p.value=p.value.subtract(1,"month"),x("month")},x=we=>{e("panel-change",[h.value.toDate(),p.value.toDate()],we)},B=N(()=>{const we=(L.value+1)%12,Ie=L.value+1>=12?1:0;return t.unlinkPanels&&new Date(z.value+Ie,we)<new Date(J.value,ne.value)}),te=N(()=>t.unlinkPanels&&J.value*12+ne.value-(z.value*12+L.value+1)>=12),ue=N(()=>!(m.value&&b.value&&!v.value.selecting&&xg([m.value,b.value]))),ae=N(()=>t.type==="datetime"||t.type==="datetimerange"),ye=(we,Ie)=>{if(we)return a?tt(a[Ie]||a).locale(f.value).year(we.year()).month(we.month()).date(we.date()):we},Ee=(we,Ie=!0)=>{const P=we.minDate,Se=we.maxDate,Qe=ye(P,0),ht=ye(Se,1);b.value===ht&&m.value===Qe||(e("calendar-change",[P.toDate(),Se&&Se.toDate()]),b.value=ht,m.value=Qe,!(!Ie||ae.value)&&T())},ge=se(!1),oe=se(!1),re=()=>{ge.value=!1},j=()=>{oe.value=!1},K=(we,Ie)=>{I.value[Ie]=we;const P=tt(we,F.value).locale(f.value);if(P.isValid()){if(s&&s(P.toDate()))return;Ie==="min"?(h.value=P,m.value=(m.value||h.value).year(P.year()).month(P.month()).date(P.date()),!t.unlinkPanels&&(!b.value||b.value.isBefore(m.value))&&(p.value=P.add(1,"month"),b.value=m.value.add(1,"month"))):(p.value=P,b.value=(b.value||p.value).year(P.year()).month(P.month()).date(P.date()),!t.unlinkPanels&&(!m.value||m.value.isAfter(b.value))&&(h.value=P.subtract(1,"month"),m.value=b.value.subtract(1,"month")))}},Ce=(we,Ie)=>{I.value[Ie]=null},Z=(we,Ie)=>{R.value[Ie]=we;const P=tt(we,O.value).locale(f.value);P.isValid()&&(Ie==="min"?(ge.value=!0,m.value=(m.value||h.value).hour(P.hour()).minute(P.minute()).second(P.second()),(!b.value||b.value.isBefore(m.value))&&(b.value=m.value)):(oe.value=!0,b.value=(b.value||p.value).hour(P.hour()).minute(P.minute()).second(P.second()),p.value=b.value,b.value&&b.value.isBefore(m.value)&&(m.value=b.value)))},ke=(we,Ie)=>{R.value[Ie]=null,Ie==="min"?(h.value=m.value,ge.value=!1):(p.value=b.value,oe.value=!1)},Ve=(we,Ie,P)=>{R.value.min||(we&&(h.value=we,m.value=(m.value||h.value).hour(we.hour()).minute(we.minute()).second(we.second())),P||(ge.value=Ie),(!b.value||b.value.isBefore(m.value))&&(b.value=m.value,p.value=we))},Ke=(we,Ie,P)=>{R.value.max||(we&&(p.value=we,b.value=(b.value||p.value).hour(we.hour()).minute(we.minute()).second(we.second())),P||(oe.value=Ie),b.value&&b.value.isBefore(m.value)&&(m.value=b.value))},rt=()=>{h.value=lx(g(d),{lang:g(f),unit:"month",unlinkPanels:t.unlinkPanels})[0],p.value=h.value.add(1,"month"),e("pick",null)},ft=we=>xe(we)?we.map(Ie=>Ie.format(o)):we.format(o),ie=we=>xe(we)?we.map(Ie=>tt(Ie,o).locale(f.value)):tt(we,o).locale(f.value);function Pe(we,Ie){if(t.unlinkPanels&&Ie){const P=(we==null?void 0:we.year())||0,Se=(we==null?void 0:we.month())||0,Qe=Ie.year(),ht=Ie.month();p.value=P===Qe&&Se===ht?Ie.add(1,Sd):Ie}else p.value=h.value.add(1,Sd),Ie&&(p.value=p.value.hour(Ie.hour()).minute(Ie.minute()).second(Ie.second()))}return e("set-picker-option",["isValidValue",xg]),e("set-picker-option",["parseUserInput",ie]),e("set-picker-option",["formatToString",ft]),e("set-picker-option",["handleClear",rt]),(we,Ie)=>(H(),le("div",{class:G([g(w).b(),g(C).b(),{"has-sidebar":we.$slots.sidebar||g(M),"has-time":g(ae)}])},[X("div",{class:G(g(w).e("body-wrapper"))},[dt(we.$slots,"sidebar",{class:G(g(w).e("sidebar"))}),g(M)?(H(),le("div",{key:0,class:G(g(w).e("sidebar"))},[(H(!0),le(Ze,null,dn(g(u),(P,Se)=>(H(),le("button",{key:Se,type:"button",class:G(g(w).e("shortcut")),onClick:Qe=>g(k)(P)},Oe(P.text),11,K9))),128))],2)):De("v-if",!0),X("div",{class:G(g(w).e("body"))},[g(ae)?(H(),le("div",{key:0,class:G(g(C).e("time-header"))},[X("span",{class:G(g(C).e("editors-wrap"))},[X("span",{class:G(g(C).e("time-picker-wrap"))},[me(g(Us),{size:"small",disabled:g(v).selecting,placeholder:g(S)("el.datepicker.startDate"),class:G(g(C).e("editor")),"model-value":g(Q),"validate-event":!1,onInput:Ie[0]||(Ie[0]=P=>K(P,"min")),onChange:Ie[1]||(Ie[1]=P=>Ce(P,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Wt((H(),le("span",{class:G(g(C).e("time-picker-wrap"))},[me(g(Us),{size:"small",class:G(g(C).e("editor")),disabled:g(v).selecting,placeholder:g(S)("el.datepicker.startTime"),"model-value":g(Y),"validate-event":!1,onFocus:Ie[2]||(Ie[2]=P=>ge.value=!0),onInput:Ie[3]||(Ie[3]=P=>Z(P,"min")),onChange:Ie[4]||(Ie[4]=P=>ke(P,"min"))},null,8,["class","disabled","placeholder","model-value"]),me(g(Ag),{visible:ge.value,format:g(O),"datetime-role":"start","time-arrow-control":g(l),"parsed-value":h.value,onPick:Ve},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(Of),re]])],2),X("span",null,[me(g(St),null,{default:Te(()=>[me(g(Jd))]),_:1})]),X("span",{class:G([g(C).e("editors-wrap"),"is-right"])},[X("span",{class:G(g(C).e("time-picker-wrap"))},[me(g(Us),{size:"small",class:G(g(C).e("editor")),disabled:g(v).selecting,placeholder:g(S)("el.datepicker.endDate"),"model-value":g(U),readonly:!g(m),"validate-event":!1,onInput:Ie[5]||(Ie[5]=P=>K(P,"max")),onChange:Ie[6]||(Ie[6]=P=>Ce(P,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Wt((H(),le("span",{class:G(g(C).e("time-picker-wrap"))},[me(g(Us),{size:"small",class:G(g(C).e("editor")),disabled:g(v).selecting,placeholder:g(S)("el.datepicker.endTime"),"model-value":g(pe),readonly:!g(m),"validate-event":!1,onFocus:Ie[7]||(Ie[7]=P=>g(m)&&(oe.value=!0)),onInput:Ie[8]||(Ie[8]=P=>Z(P,"max")),onChange:Ie[9]||(Ie[9]=P=>ke(P,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),me(g(Ag),{"datetime-role":"end",visible:oe.value,format:g(O),"time-arrow-control":g(l),"parsed-value":p.value,onPick:Ke},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(Of),j]])],2)],2)):De("v-if",!0),X("div",{class:G([[g(w).e("content"),g(C).e("content")],"is-left"])},[X("div",{class:G(g(C).e("header"))},[X("button",{type:"button",class:G([g(w).e("icon-btn"),"d-arrow-left"]),onClick:ce},[me(g(St),null,{default:Te(()=>[me(g(hu))]),_:1})],2),X("button",{type:"button",class:G([g(w).e("icon-btn"),"arrow-left"]),onClick:be},[me(g(St),null,{default:Te(()=>[me(g(Cg))]),_:1})],2),we.unlinkPanels?(H(),le("button",{key:0,type:"button",disabled:!g(te),class:G([[g(w).e("icon-btn"),{"is-disabled":!g(te)}],"d-arrow-right"]),onClick:Me},[me(g(St),null,{default:Te(()=>[me(g(mu))]),_:1})],10,G9)):De("v-if",!0),we.unlinkPanels?(H(),le("button",{key:1,type:"button",disabled:!g(B),class:G([[g(w).e("icon-btn"),{"is-disabled":!g(B)}],"arrow-right"]),onClick:Ue},[me(g(St),null,{default:Te(()=>[me(g(Jd))]),_:1})],10,Q9)):De("v-if",!0),X("div",null,Oe(g(q)),1)],2),me(Pg,{"selection-mode":"range",date:h.value,"min-date":g(m),"max-date":g(b),"range-state":g(v),"disabled-date":g(s),"cell-class-name":g(r),onChangerange:g(_),onPick:Ee,onSelect:g(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),X("div",{class:G([[g(w).e("content"),g(C).e("content")],"is-right"])},[X("div",{class:G(g(C).e("header"))},[we.unlinkPanels?(H(),le("button",{key:0,type:"button",disabled:!g(te),class:G([[g(w).e("icon-btn"),{"is-disabled":!g(te)}],"d-arrow-left"]),onClick:Be},[me(g(St),null,{default:Te(()=>[me(g(hu))]),_:1})],10,Y9)):De("v-if",!0),we.unlinkPanels?(H(),le("button",{key:1,type:"button",disabled:!g(B),class:G([[g(w).e("icon-btn"),{"is-disabled":!g(B)}],"arrow-left"]),onClick:Ge},[me(g(St),null,{default:Te(()=>[me(g(Cg))]),_:1})],10,J9)):De("v-if",!0),X("button",{type:"button",class:G([g(w).e("icon-btn"),"d-arrow-right"]),onClick:Ae},[me(g(St),null,{default:Te(()=>[me(g(mu))]),_:1})],2),X("button",{type:"button",class:G([g(w).e("icon-btn"),"arrow-right"]),onClick:je},[me(g(St),null,{default:Te(()=>[me(g(Jd))]),_:1})],2),X("div",null,Oe(g(W)),1)],2),me(Pg,{"selection-mode":"range",date:p.value,"min-date":g(m),"max-date":g(b),"range-state":g(v),"disabled-date":g(s),"cell-class-name":g(r),onChangerange:g(_),onPick:Ee,onSelect:g(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),g(ae)?(H(),le("div",{key:0,class:G(g(w).e("footer"))},[g(c)?(H(),ze(g(Cl),{key:0,text:"",size:"small",class:G(g(w).e("link-btn")),onClick:rt},{default:Te(()=>[fn(Oe(g(S)("el.datepicker.clear")),1)]),_:1},8,["class"])):De("v-if",!0),me(g(Cl),{plain:"",size:"small",class:G(g(w).e("link-btn")),disabled:g(ue),onClick:Ie[10]||(Ie[10]=P=>g(T)(!1))},{default:Te(()=>[fn(Oe(g(S)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):De("v-if",!0)],2))}});var Z9=At(X9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const ez=bt({...ox}),tz=["pick","set-picker-option"],nz=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const{t:i}=Ki(),s=()=>{e.value=e.value.subtract(1,"year"),n.value||(t.value=t.value.subtract(1,"year"))},r=()=>{n.value||(e.value=e.value.add(1,"year")),t.value=t.value.add(1,"year")},o=()=>{e.value=e.value.add(1,"year")},a=()=>{t.value=t.value.subtract(1,"year")},l=N(()=>`${e.value.year()} ${i("el.datepicker.year")}`),c=N(()=>`${t.value.year()} ${i("el.datepicker.year")}`),u=N(()=>e.value.year()),d=N(()=>t.value.year()===e.value.year()?e.value.year()+1:t.value.year());return{leftPrevYear:s,rightNextYear:r,leftNextYear:o,rightPrevYear:a,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},iz=["onClick"],sz=["disabled"],rz=["disabled"],Ed="year",oz=Re({name:"DatePickerMonthRange"}),az=Re({...oz,props:ez,emits:tz,setup(n,{emit:e}){const t=n,{lang:i}=Ki(),s=st("EP_PICKER_BASE"),{shortcuts:r,disabledDate:o,format:a}=s.props,l=Mn(s.props,"defaultValue"),c=se(tt().locale(i.value)),u=se(tt().locale(i.value).add(1,Ed)),{minDate:d,maxDate:f,rangeState:h,ppNs:p,drpNs:m,handleChangeRange:b,handleRangeConfirm:v,handleShortcutClick:w,onSelect:C}=cx(t,{defaultValue:l,leftDate:c,rightDate:u,unit:Ed,onParsedValueChanged:ne}),_=N(()=>!!r.length),{leftPrevYear:T,rightNextYear:k,leftNextYear:E,rightPrevYear:S,leftLabel:I,rightLabel:R,leftYear:q,rightYear:W}=nz({unlinkPanels:Mn(t,"unlinkPanels"),leftDate:c,rightDate:u}),z=N(()=>t.unlinkPanels&&W.value>q.value+1),L=(M,Q=!0)=>{const U=M.minDate,Y=M.maxDate;f.value===Y&&d.value===U||(f.value=Y,d.value=U,Q&&v())},J=M=>M.map(Q=>Q.format(a));function ne(M,Q){if(t.unlinkPanels&&Q){const U=(M==null?void 0:M.year())||0,Y=Q.year();u.value=U===Y?Q.add(1,Ed):Q}else u.value=c.value.add(1,Ed)}return e("set-picker-option",["formatToString",J]),(M,Q)=>(H(),le("div",{class:G([g(p).b(),g(m).b(),{"has-sidebar":!!M.$slots.sidebar||g(_)}])},[X("div",{class:G(g(p).e("body-wrapper"))},[dt(M.$slots,"sidebar",{class:G(g(p).e("sidebar"))}),g(_)?(H(),le("div",{key:0,class:G(g(p).e("sidebar"))},[(H(!0),le(Ze,null,dn(g(r),(U,Y)=>(H(),le("button",{key:Y,type:"button",class:G(g(p).e("shortcut")),onClick:pe=>g(w)(U)},Oe(U.text),11,iz))),128))],2)):De("v-if",!0),X("div",{class:G(g(p).e("body"))},[X("div",{class:G([[g(p).e("content"),g(m).e("content")],"is-left"])},[X("div",{class:G(g(m).e("header"))},[X("button",{type:"button",class:G([g(p).e("icon-btn"),"d-arrow-left"]),onClick:Q[0]||(Q[0]=(...U)=>g(T)&&g(T)(...U))},[me(g(St),null,{default:Te(()=>[me(g(hu))]),_:1})],2),M.unlinkPanels?(H(),le("button",{key:0,type:"button",disabled:!g(z),class:G([[g(p).e("icon-btn"),{[g(p).is("disabled")]:!g(z)}],"d-arrow-right"]),onClick:Q[1]||(Q[1]=(...U)=>g(E)&&g(E)(...U))},[me(g(St),null,{default:Te(()=>[me(g(mu))]),_:1})],10,sz)):De("v-if",!0),X("div",null,Oe(g(I)),1)],2),me(Ig,{"selection-mode":"range",date:c.value,"min-date":g(d),"max-date":g(f),"range-state":g(h),"disabled-date":g(o),onChangerange:g(b),onPick:L,onSelect:g(C)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),X("div",{class:G([[g(p).e("content"),g(m).e("content")],"is-right"])},[X("div",{class:G(g(m).e("header"))},[M.unlinkPanels?(H(),le("button",{key:0,type:"button",disabled:!g(z),class:G([[g(p).e("icon-btn"),{"is-disabled":!g(z)}],"d-arrow-left"]),onClick:Q[2]||(Q[2]=(...U)=>g(S)&&g(S)(...U))},[me(g(St),null,{default:Te(()=>[me(g(hu))]),_:1})],10,rz)):De("v-if",!0),X("button",{type:"button",class:G([g(p).e("icon-btn"),"d-arrow-right"]),onClick:Q[3]||(Q[3]=(...U)=>g(k)&&g(k)(...U))},[me(g(St),null,{default:Te(()=>[me(g(mu))]),_:1})],2),X("div",null,Oe(g(R)),1)],2),me(Ig,{"selection-mode":"range",date:u.value,"min-date":g(d),"max-date":g(f),"range-state":g(h),"disabled-date":g(o),onChangerange:g(b),onPick:L,onSelect:g(C)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var lz=At(az,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const cz=function(n){switch(n){case"daterange":case"datetimerange":return Z9;case"monthrange":return lz;default:return W9}};tt.extend(AU);tt.extend(e9);tt.extend(oU);tt.extend(n9);tt.extend(s9);tt.extend(o9);tt.extend(l9);tt.extend(u9);var uz=Re({name:"ElDatePicker",install:null,props:d9,emits:["update:modelValue"],setup(n,{expose:e,emit:t,slots:i}){const s=pt("picker-panel");Sn("ElPopperOptions",qi(Mn(n,"popperOptions"))),Sn(Wb,{slots:i,pickerNs:s});const r=se();e({focus:(l=!0)=>{var c;(c=r.value)==null||c.focus(l)},handleOpen:()=>{var l;(l=r.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=r.value)==null||l.handleClose()}});const a=l=>{t("update:modelValue",l)};return()=>{var l;const c=(l=n.format)!=null?l:aU[n.type]||Ga,u=cz(n.type);return me(hU,Zi(n,{format:c,type:n.type,ref:r,"onUpdate:modelValue":a}),{default:d=>me(u,d,null),"range-separator":i["range-separator"]})}}});const Zd=uz;Zd.install=n=>{n.component(Zd.name,Zd)};const dz=Zd,ux=Symbol("ElSelectGroup"),Rh=Symbol("ElSelect");function fz(n,e){const t=st(Rh),i=st(ux,{disabled:!1}),s=N(()=>Object.prototype.toString.call(n.value).toLowerCase()==="[object object]"),r=N(()=>t.props.multiple?d(t.props.modelValue,n.value):f(n.value,t.props.modelValue)),o=N(()=>{if(t.props.multiple){const m=t.props.modelValue||[];return!r.value&&m.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),a=N(()=>n.label||(s.value?"":n.value)),l=N(()=>n.value||n.label||""),c=N(()=>n.disabled||e.groupDisabled||o.value),u=Rt(),d=(m=[],b)=>{if(s.value){const v=t.props.valueKey;return m&&m.some(w=>ut(Yn(w,v))===Yn(b,v))}else return m&&m.includes(b)},f=(m,b)=>{if(s.value){const{valueKey:v}=t.props;return Yn(m,v)===Yn(b,v)}else return m===b},h=()=>{!n.disabled&&!i.disabled&&(t.hoverIndex=t.optionsArray.indexOf(u.proxy))};$e(()=>a.value,()=>{!n.created&&!t.props.remote&&t.setSelected()}),$e(()=>n.value,(m,b)=>{const{remote:v,valueKey:w}=t.props;if(Object.is(m,b)||(t.onOptionDestroy(b,u.proxy),t.onOptionCreate(u.proxy)),!n.created&&!v){if(w&&typeof m=="object"&&typeof b=="object"&&m[w]===b[w])return;t.setSelected()}}),$e(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0});const{queryChange:p}=ut(t);return $e(p,m=>{const{query:b}=g(m),v=new RegExp(T$(b),"i");e.visible=v.test(a.value)||n.created,e.visible||t.filteredOptionsCount--},{immediate:!0}),{select:t,currentLabel:a,currentValue:l,itemSelected:r,isDisabled:c,hoverItem:h}}const hz=Re({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(n){const e=pt("select"),t=N(()=>[e.be("dropdown","item"),e.is("disabled",g(o)),{selected:g(r),hover:g(u)}]),i=qi({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:s,itemSelected:r,isDisabled:o,select:a,hoverItem:l}=fz(n,i),{visible:c,hover:u}=Wl(i),d=Rt().proxy;a.onOptionCreate(d),Ei(()=>{const h=d.value,{selected:p}=a,b=(a.props.multiple?p:[p]).some(v=>v.value===d.value);ct(()=>{a.cachedOptions.get(h)===d&&!b&&a.cachedOptions.delete(h)}),a.onOptionDestroy(h,d)});function f(){n.disabled!==!0&&i.groupDisabled!==!0&&a.handleOptionSelect(d)}return{ns:e,containerKls:t,currentLabel:s,itemSelected:r,isDisabled:o,select:a,hoverItem:l,visible:c,hover:u,selectOptionClick:f,states:i}}});function mz(n,e,t,i,s,r){return Wt((H(),le("li",{class:G(n.containerKls),onMouseenter:e[0]||(e[0]=(...o)=>n.hoverItem&&n.hoverItem(...o)),onClick:e[1]||(e[1]=ln((...o)=>n.selectOptionClick&&n.selectOptionClick(...o),["stop"]))},[dt(n.$slots,"default",{},()=>[X("span",null,Oe(n.currentLabel),1)])],34)),[[li,n.visible]])}var qb=At(hz,[["render",mz],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const pz=Re({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=st(Rh),e=pt("select"),t=N(()=>n.props.popperClass),i=N(()=>n.props.multiple),s=N(()=>n.props.fitInputWidth),r=se("");function o(){var a;r.value=`${(a=n.selectWrapper)==null?void 0:a.offsetWidth}px`}return mn(()=>{o(),vh(n.selectWrapper,o)}),{ns:e,minWidth:r,popperClass:t,isMultiple:i,isFitInputWidth:s}}});function gz(n,e,t,i,s,r){return H(),le("div",{class:G([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:cn({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[dt(n.$slots,"default")],6)}var vz=At(pz,[["render",gz],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function bz(n){const{t:e}=Ki();return qi({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:n.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const yz=(n,e,t)=>{const{t:i}=Ki(),s=pt("select");eA({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},N(()=>n.suffixTransition===!1));const r=se(null),o=se(null),a=se(null),l=se(null),c=se(null),u=se(null),d=se(null),f=se(null),h=se(-1),p=wr({query:""}),m=wr(""),b=se([]);let v=0;const{form:w,formItem:C}=_a(),_=N(()=>!n.filterable||n.multiple||!e.visible),T=N(()=>n.disabled||(w==null?void 0:w.disabled)),k=N(()=>{const ee=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!=="";return n.clearable&&!T.value&&e.inputHovering&&ee}),E=N(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),S=N(()=>s.is("reverse",E.value&&e.visible&&n.suffixTransition)),I=N(()=>(w==null?void 0:w.statusIcon)&&(C==null?void 0:C.validateState)&&JT[C==null?void 0:C.validateState]),R=N(()=>n.remote?300:0),q=N(()=>n.loading?n.loadingText||i("el.select.loading"):n.remote&&e.query===""&&e.options.size===0?!1:n.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?n.noMatchText||i("el.select.noMatch"):e.options.size===0?n.noDataText||i("el.select.noData"):null),W=N(()=>{const ee=Array.from(e.options.values()),fe=[];return b.value.forEach(Fe=>{const nt=ee.findIndex(nn=>nn.currentLabel===Fe);nt>-1&&fe.push(ee[nt])}),fe.length?fe:ee}),z=N(()=>Array.from(e.cachedOptions.values())),L=N(()=>{const ee=W.value.filter(fe=>!fe.created).some(fe=>fe.currentLabel===e.query);return n.filterable&&n.allowCreate&&e.query!==""&&!ee}),J=fa(),ne=N(()=>["small"].includes(J.value)?"small":"default"),M=N({get(){return e.visible&&q.value!==!1},set(ee){e.visible=ee}});$e([()=>T.value,()=>J.value,()=>w==null?void 0:w.size],()=>{ct(()=>{Q()})}),$e(()=>n.placeholder,ee=>{e.cachedPlaceHolder=e.currentPlaceholder=ee,n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(e.currentPlaceholder="")}),$e(()=>n.modelValue,(ee,fe)=>{n.multiple&&(Q(),ee&&ee.length>0||o.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,n.filterable&&!n.reserveKeyword&&(e.query="",U(e.query))),O(),n.filterable&&!n.multiple&&(e.inputLength=20),!vl(ee,fe)&&n.validateEvent&&(C==null||C.validate("change").catch(Fe=>void 0))},{flush:"post",deep:!0}),$e(()=>e.visible,ee=>{var fe,Fe,nt,nn,pn;ee?((Fe=(fe=l.value)==null?void 0:fe.updatePopper)==null||Fe.call(fe),n.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=n.remote?"":e.selectedLabel,(nn=(nt=a.value)==null?void 0:nt.focus)==null||nn.call(nt),n.multiple?(pn=o.value)==null||pn.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),U(e.query),!n.multiple&&!n.remote&&(p.value.query="",ja(p),ja(m)))):(n.filterable&&(We(n.filterMethod)&&n.filterMethod(""),We(n.remoteMethod)&&n.remoteMethod("")),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,ce(),ct(()=>{o.value&&o.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),n.multiple||(e.selected&&(n.filterable&&n.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,n.filterable&&(e.query=e.selectedLabel)),n.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),t.emit("visible-change",ee)}),$e(()=>e.options.entries(),()=>{var ee,fe,Fe;if(!ti)return;(fe=(ee=l.value)==null?void 0:ee.updatePopper)==null||fe.call(ee),n.multiple&&Q();const nt=((Fe=d.value)==null?void 0:Fe.querySelectorAll("input"))||[];Array.from(nt).includes(document.activeElement)||O(),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&pe()},{flush:"post"}),$e(()=>e.hoverIndex,ee=>{Li(ee)&&ee>-1?h.value=W.value[ee]||{}:h.value={},W.value.forEach(fe=>{fe.hover=h.value===fe})});const Q=()=>{ct(()=>{var ee,fe;if(!r.value)return;const Fe=r.value.$el.querySelector("input");v=v||(Fe.clientHeight>0?Fe.clientHeight+2:0);const nt=u.value,nn=aV(J.value||(w==null?void 0:w.size)),pn=J.value||nn===v||v<=0?nn:v;!(Fe.offsetParent===null)&&(Fe.style.height=`${(e.selected.length===0?pn:Math.max(nt?nt.clientHeight+(nt.clientHeight>pn?6:0):0,pn))-2}px`),e.visible&&q.value!==!1&&((fe=(ee=l.value)==null?void 0:ee.updatePopper)==null||fe.call(ee))})},U=async ee=>{if(!(e.previousQuery===ee||e.isOnComposition)){if(e.previousQuery===null&&(We(n.filterMethod)||We(n.remoteMethod))){e.previousQuery=ee;return}e.previousQuery=ee,ct(()=>{var fe,Fe;e.visible&&((Fe=(fe=l.value)==null?void 0:fe.updatePopper)==null||Fe.call(fe))}),e.hoverIndex=-1,n.multiple&&n.filterable&&ct(()=>{const fe=o.value.value.length*15+20;e.inputLength=n.collapseTags?Math.min(50,fe):fe,Y(),Q()}),n.remote&&We(n.remoteMethod)?(e.hoverIndex=-1,n.remoteMethod(ee)):We(n.filterMethod)?(n.filterMethod(ee),ja(m)):(e.filteredOptionsCount=e.optionsCount,p.value.query=ee,ja(p),ja(m)),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&(await ct(),pe())}},Y=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=o.value.value?"":e.cachedPlaceHolder)},pe=()=>{const ee=W.value.filter(nt=>nt.visible&&!nt.disabled&&!nt.states.groupDisabled),fe=ee.find(nt=>nt.created),Fe=ee[0];e.hoverIndex=ue(W.value,fe||Fe)},O=()=>{var ee;if(n.multiple)e.selectedLabel="";else{const Fe=F(n.modelValue);(ee=Fe.props)!=null&&ee.created?(e.createdLabel=Fe.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=Fe.currentLabel,e.selected=Fe,n.filterable&&(e.query=e.selectedLabel);return}const fe=[];Array.isArray(n.modelValue)&&n.modelValue.forEach(Fe=>{fe.push(F(Fe))}),e.selected=fe,ct(()=>{Q()})},F=ee=>{let fe;const Fe=Gd(ee).toLowerCase()==="object",nt=Gd(ee).toLowerCase()==="null",nn=Gd(ee).toLowerCase()==="undefined";for(let hi=e.cachedOptions.size-1;hi>=0;hi--){const sn=z.value[hi];if(Fe?Yn(sn.value,n.valueKey)===Yn(ee,n.valueKey):sn.value===ee){fe={value:ee,currentLabel:sn.currentLabel,isDisabled:sn.isDisabled};break}}if(fe)return fe;const pn=Fe?ee.label:!nt&&!nn?ee:"",An={value:ee,currentLabel:pn};return n.multiple&&(An.hitState=!1),An},ce=()=>{setTimeout(()=>{const ee=n.valueKey;n.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(fe=>W.value.findIndex(Fe=>Yn(Fe,ee)===Yn(fe,ee)))):e.hoverIndex=-1:e.hoverIndex=W.value.findIndex(fe=>we(fe)===we(e.selected))},300)},be=()=>{var ee,fe;Ae(),(fe=(ee=l.value)==null?void 0:ee.updatePopper)==null||fe.call(ee),n.multiple&&Q()},Ae=()=>{var ee;e.inputWidth=(ee=r.value)==null?void 0:ee.$el.offsetWidth},je=()=>{n.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,U(e.query))},Me=fo(()=>{je()},R.value),Ue=fo(ee=>{U(ee.target.value)},R.value),Be=ee=>{vl(n.modelValue,ee)||t.emit(XT,ee)},Ge=ee=>{if(ee.code!==Ht.delete){if(ee.target.value.length<=0&&!re()){const fe=n.modelValue.slice();fe.pop(),t.emit(ci,fe),Be(fe)}ee.target.value.length===1&&n.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}},x=(ee,fe)=>{const Fe=e.selected.indexOf(fe);if(Fe>-1&&!T.value){const nt=n.modelValue.slice();nt.splice(Fe,1),t.emit(ci,nt),Be(nt),t.emit("remove-tag",fe.value)}ee.stopPropagation(),Z()},B=ee=>{ee.stopPropagation();const fe=n.multiple?[]:"";if(!Tt(fe))for(const Fe of e.selected)Fe.isDisabled&&fe.push(Fe.value);t.emit(ci,fe),Be(fe),e.hoverIndex=-1,e.visible=!1,t.emit("clear"),Z()},te=ee=>{var fe;if(n.multiple){const Fe=(n.modelValue||[]).slice(),nt=ue(Fe,ee.value);nt>-1?Fe.splice(nt,1):(n.multipleLimit<=0||Fe.length<n.multipleLimit)&&Fe.push(ee.value),t.emit(ci,Fe),Be(Fe),ee.created&&(e.query="",U(""),e.inputLength=20),n.filterable&&((fe=o.value)==null||fe.focus())}else t.emit(ci,ee.value),Be(ee.value),e.visible=!1;ae(),!e.visible&&ct(()=>{ye(ee)})},ue=(ee=[],fe)=>{if(!gt(fe))return ee.indexOf(fe);const Fe=n.valueKey;let nt=-1;return ee.some((nn,pn)=>ut(Yn(nn,Fe))===Yn(fe,Fe)?(nt=pn,!0):!1),nt},ae=()=>{const ee=o.value||r.value;ee&&(ee==null||ee.focus())},ye=ee=>{var fe,Fe,nt,nn,pn;const An=Array.isArray(ee)?ee[0]:ee;let hi=null;if(An!=null&&An.value){const sn=W.value.filter(ko=>ko.value===An.value);sn.length>0&&(hi=sn[0].$el)}if(l.value&&hi){const sn=(nn=(nt=(Fe=(fe=l.value)==null?void 0:fe.popperRef)==null?void 0:Fe.contentRef)==null?void 0:nt.querySelector)==null?void 0:nn.call(nt,`.${s.be("dropdown","wrap")}`);sn&&I$(sn,hi)}(pn=f.value)==null||pn.handleScroll()},Ee=ee=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(ee.value,ee),e.cachedOptions.set(ee.value,ee)},ge=(ee,fe)=>{e.options.get(ee)===fe&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(ee))},oe=ee=>{ee.code!==Ht.backspace&&re(!1),e.inputLength=o.value.value.length*15+20,Q()},re=ee=>{if(!Array.isArray(e.selected))return;const fe=e.selected[e.selected.length-1];if(fe)return ee===!0||ee===!1?(fe.hitState=ee,ee):(fe.hitState=!fe.hitState,fe.hitState)},j=ee=>{const fe=ee.target.value;if(ee.type==="compositionend")e.isOnComposition=!1,ct(()=>U(fe));else{const Fe=fe[fe.length-1]||"";e.isOnComposition=!ZT(Fe)}},K=()=>{ct(()=>ye(e.selected))},Ce=ee=>{e.focused||((n.automaticDropdown||n.filterable)&&(n.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),e.focused=!0,t.emit("focus",ee))},Z=()=>{var ee,fe;e.visible?(ee=o.value||r.value)==null||ee.focus():(fe=r.value)==null||fe.focus()},ke=()=>{var ee,fe,Fe;e.visible=!1,(ee=r.value)==null||ee.blur(),(Fe=(fe=a.value)==null?void 0:fe.blur)==null||Fe.call(fe)},Ve=ee=>{var fe,Fe,nt;(fe=l.value)!=null&&fe.isFocusInsideContent(ee)||(Fe=c.value)!=null&&Fe.isFocusInsideContent(ee)||(nt=d.value)!=null&&nt.contains(ee.relatedTarget)||(e.visible&&rt(),e.focused=!1,t.emit("blur",ee))},Ke=ee=>{B(ee)},rt=()=>{e.visible=!1},ft=ee=>{e.visible&&(ee.preventDefault(),ee.stopPropagation(),e.visible=!1)},ie=ee=>{ee&&!e.mouseEnter||T.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:(!l.value||!l.value.isFocusInsideContent())&&(e.visible=!e.visible),Z())},Pe=()=>{e.visible?W.value[e.hoverIndex]&&te(W.value[e.hoverIndex]):ie()},we=ee=>gt(ee.value)?Yn(ee.value,n.valueKey):ee.value,Ie=N(()=>W.value.filter(ee=>ee.visible).every(ee=>ee.disabled)),P=N(()=>e.selected.slice(0,n.maxCollapseTags)),Se=N(()=>e.selected.slice(n.maxCollapseTags)),Qe=ee=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!Ie.value){ee==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):ee==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const fe=W.value[e.hoverIndex];(fe.disabled===!0||fe.states.groupDisabled===!0||!fe.visible)&&Qe(ee),ct(()=>ye(h.value))}},ht=()=>{e.mouseEnter=!0},Lt=()=>{e.mouseEnter=!1},Gi=(ee,fe)=>{var Fe,nt;x(ee,fe),(nt=(Fe=c.value)==null?void 0:Fe.updatePopper)==null||nt.call(Fe)},fi=N(()=>({maxWidth:`${g(e.inputWidth)-32-(I.value?22:0)}px`,width:"100%"}));return{optionList:b,optionsArray:W,selectSize:J,handleResize:be,debouncedOnInputChange:Me,debouncedQueryChange:Ue,deletePrevTag:Ge,deleteTag:x,deleteSelected:B,handleOptionSelect:te,scrollToOption:ye,readonly:_,resetInputHeight:Q,showClose:k,iconComponent:E,iconReverse:S,showNewOption:L,collapseTagSize:ne,setSelected:O,managePlaceholder:Y,selectDisabled:T,emptyText:q,toggleLastOptionHitState:re,resetInputState:oe,handleComposition:j,onOptionCreate:Ee,onOptionDestroy:ge,handleMenuEnter:K,handleFocus:Ce,focus:Z,blur:ke,handleBlur:Ve,handleClearClick:Ke,handleClose:rt,handleKeydownEscape:ft,toggleMenu:ie,selectOption:Pe,getValueKey:we,navigateOptions:Qe,handleDeleteTooltipTag:Gi,dropMenuVisible:M,queryChange:p,groupQueryChange:m,showTagList:P,collapseTagList:Se,selectTagsStyle:fi,reference:r,input:o,iOSInput:a,tooltipRef:l,tagTooltipRef:c,tags:u,selectWrapper:d,scrollbar:f,handleMouseEnter:ht,handleMouseLeave:Lt}};var wz=Re({name:"ElOptions",emits:["update-options"],setup(n,{slots:e,emit:t}){let i=[];function s(r,o){if(r.length!==o.length)return!1;for(const[a]of r.entries())if(r[a]!=o[a])return!1;return!0}return()=>{var r,o;const a=(r=e.default)==null?void 0:r.call(e),l=[];function c(u){Array.isArray(u)&&u.forEach(d=>{var f,h,p,m;const b=(f=(d==null?void 0:d.type)||{})==null?void 0:f.name;b==="ElOptionGroup"?c(!Tt(d.children)&&!Array.isArray(d.children)&&We((h=d.children)==null?void 0:h.default)?(p=d.children)==null?void 0:p.default():d.children):b==="ElOption"?l.push((m=d.props)==null?void 0:m.label):Array.isArray(d.children)&&c(d.children)})}return a.length&&c((o=a[0])==null?void 0:o.children),s(l,i)||(i=l,t("update-options",l)),a}}});const r_="ElSelect",_z=Re({name:r_,componentName:r_,components:{ElInput:Us,ElSelectMenu:vz,ElOption:qb,ElOptions:wz,ElTag:XU,ElScrollbar:CA,ElTooltip:OA,ElIcon:St},directives:{ClickOutside:Of},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:lV},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Hb.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ua,default:Eh},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:ua,default:GT},tagType:{...XA.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ah,default:"bottom-start"}},emits:[ci,XT,"remove-tag","clear","visible-change","focus","blur"],setup(n,e){const t=pt("select"),i=pt("input"),{t:s}=Ki(),r=bz(n),{optionList:o,optionsArray:a,selectSize:l,readonly:c,handleResize:u,collapseTagSize:d,debouncedOnInputChange:f,debouncedQueryChange:h,deletePrevTag:p,deleteTag:m,deleteSelected:b,handleOptionSelect:v,scrollToOption:w,setSelected:C,resetInputHeight:_,managePlaceholder:T,showClose:k,selectDisabled:E,iconComponent:S,iconReverse:I,showNewOption:R,emptyText:q,toggleLastOptionHitState:W,resetInputState:z,handleComposition:L,onOptionCreate:J,onOptionDestroy:ne,handleMenuEnter:M,handleFocus:Q,focus:U,blur:Y,handleBlur:pe,handleClearClick:O,handleClose:F,handleKeydownEscape:ce,toggleMenu:be,selectOption:Ae,getValueKey:je,navigateOptions:Me,handleDeleteTooltipTag:Ue,dropMenuVisible:Be,reference:Ge,input:x,iOSInput:B,tooltipRef:te,tagTooltipRef:ue,tags:ae,selectWrapper:ye,scrollbar:Ee,queryChange:ge,groupQueryChange:oe,handleMouseEnter:re,handleMouseLeave:j,showTagList:K,collapseTagList:Ce,selectTagsStyle:Z}=yz(n,r,e),{inputWidth:ke,selected:Ve,inputLength:Ke,filteredOptionsCount:rt,visible:ft,selectedLabel:ie,hoverIndex:Pe,query:we,inputHovering:Ie,currentPlaceholder:P,menuVisibleOnFocus:Se,isOnComposition:Qe,options:ht,cachedOptions:Lt,optionsCount:Gi,prefixWidth:fi}=Wl(r),ee=N(()=>{const Ln=[t.b()],cs=g(l);return cs&&Ln.push(t.m(cs)),n.disabled&&Ln.push(t.m("disabled")),Ln}),fe=N(()=>[t.e("tags"),t.is("disabled",g(E))]),Fe=N(()=>[t.b("tags-wrapper"),{"has-prefix":g(fi)&&g(Ve).length}]),nt=N(()=>[t.e("input"),t.is(g(l)),t.is("disabled",g(E))]),nn=N(()=>[t.e("input"),t.is(g(l)),t.em("input","iOS")]),pn=N(()=>[t.is("empty",!n.allowCreate&&!!g(we)&&g(rt)===0)]),An=N(()=>({maxWidth:`${g(ke)>123?g(ke)-123:g(ke)-75}px`})),hi=N(()=>({marginLeft:`${g(fi)}px`,flexGrow:1,width:`${g(Ke)/(g(ke)-32)}%`,maxWidth:`${g(ke)-42}px`}));Sn(Rh,qi({props:n,options:ht,optionsArray:a,cachedOptions:Lt,optionsCount:Gi,filteredOptionsCount:rt,hoverIndex:Pe,handleOptionSelect:v,onOptionCreate:J,onOptionDestroy:ne,selectWrapper:ye,selected:Ve,setSelected:C,queryChange:ge,groupQueryChange:oe})),mn(()=>{r.cachedPlaceHolder=P.value=n.placeholder||(()=>s("el.select.placeholder")),n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(P.value=""),vh(ye,u),n.remote&&n.multiple&&_(),ct(()=>{const Ln=Ge.value&&Ge.value.$el;if(Ln&&(ke.value=Ln.getBoundingClientRect().width,e.slots.prefix)){const cs=Ln.querySelector(`.${i.e("prefix")}`);fi.value=Math.max(cs.getBoundingClientRect().width+11,30)}}),C()}),n.multiple&&!Array.isArray(n.modelValue)&&e.emit(ci,[]),!n.multiple&&Array.isArray(n.modelValue)&&e.emit(ci,"");const sn=N(()=>{var Ln,cs;return(cs=(Ln=te.value)==null?void 0:Ln.popperRef)==null?void 0:cs.contentRef});return{isIOS:nT,onOptionsRendered:Ln=>{o.value=Ln},prefixWidth:fi,selectSize:l,readonly:c,handleResize:u,collapseTagSize:d,debouncedOnInputChange:f,debouncedQueryChange:h,deletePrevTag:p,deleteTag:m,handleDeleteTooltipTag:Ue,deleteSelected:b,handleOptionSelect:v,scrollToOption:w,inputWidth:ke,selected:Ve,inputLength:Ke,filteredOptionsCount:rt,visible:ft,selectedLabel:ie,hoverIndex:Pe,query:we,inputHovering:Ie,currentPlaceholder:P,menuVisibleOnFocus:Se,isOnComposition:Qe,options:ht,resetInputHeight:_,managePlaceholder:T,showClose:k,selectDisabled:E,iconComponent:S,iconReverse:I,showNewOption:R,emptyText:q,toggleLastOptionHitState:W,resetInputState:z,handleComposition:L,handleMenuEnter:M,handleFocus:Q,focus:U,blur:Y,handleBlur:pe,handleClearClick:O,handleClose:F,handleKeydownEscape:ce,toggleMenu:be,selectOption:Ae,getValueKey:je,navigateOptions:Me,dropMenuVisible:Be,reference:Ge,input:x,iOSInput:B,tooltipRef:te,popperPaneRef:sn,tags:ae,selectWrapper:ye,scrollbar:Ee,wrapperKls:ee,tagsKls:fe,tagWrapperKls:Fe,inputKls:nt,iOSInputKls:nn,scrollbarKls:pn,selectTagsStyle:Z,nsSelect:t,tagTextStyle:An,inputStyle:hi,handleMouseEnter:re,handleMouseLeave:j,showTagList:K,collapseTagList:Ce,tagTooltipRef:ue}}}),Cz=["disabled","autocomplete"],kz=["disabled"],Sz={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Ez(n,e,t,i,s,r){const o=Ms("el-tag"),a=Ms("el-tooltip"),l=Ms("el-icon"),c=Ms("el-input"),u=Ms("el-option"),d=Ms("el-options"),f=Ms("el-scrollbar"),h=Ms("el-select-menu"),p=aE("click-outside");return Wt((H(),le("div",{ref:"selectWrapper",class:G(n.wrapperKls),onMouseenter:e[22]||(e[22]=(...m)=>n.handleMouseEnter&&n.handleMouseEnter(...m)),onMouseleave:e[23]||(e[23]=(...m)=>n.handleMouseLeave&&n.handleMouseLeave(...m)),onClick:e[24]||(e[24]=ln((...m)=>n.toggleMenu&&n.toggleMenu(...m),["stop"]))},[me(a,{ref:"tooltipRef",visible:n.dropMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,onShow:n.handleMenuEnter},{default:Te(()=>[X("div",{class:"select-trigger",onMouseenter:e[20]||(e[20]=m=>n.inputHovering=!0),onMouseleave:e[21]||(e[21]=m=>n.inputHovering=!1)},[n.multiple?(H(),le("div",{key:0,ref:"tags",tabindex:"-1",class:G(n.tagsKls),style:cn(n.selectTagsStyle),onClick:e[15]||(e[15]=(...m)=>n.focus&&n.focus(...m))},[n.collapseTags&&n.selected.length?(H(),ze(ys,{key:0,onAfterLeave:n.resetInputHeight},{default:Te(()=>[X("span",{class:G(n.tagWrapperKls)},[(H(!0),le(Ze,null,dn(n.showTagList,m=>(H(),ze(o,{key:n.getValueKey(m),closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,hit:m.hitState,type:n.tagType,"disable-transitions":"",onClose:b=>n.deleteTag(b,m)},{default:Te(()=>[X("span",{class:G(n.nsSelect.e("tags-text")),style:cn(n.tagTextStyle)},Oe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),n.selected.length>n.maxCollapseTags?(H(),ze(o,{key:0,closable:!1,size:n.collapseTagSize,type:n.tagType,"disable-transitions":""},{default:Te(()=>[n.collapseTagsTooltip?(H(),ze(a,{key:0,ref:"tagTooltipRef",disabled:n.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:Te(()=>[X("span",{class:G(n.nsSelect.e("tags-text"))},"+ "+Oe(n.selected.length-n.maxCollapseTags),3)]),content:Te(()=>[X("div",{class:G(n.nsSelect.e("collapse-tags"))},[(H(!0),le(Ze,null,dn(n.collapseTagList,m=>(H(),le("div",{key:n.getValueKey(m),class:G(n.nsSelect.e("collapse-tag"))},[me(o,{class:"in-tooltip",closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,hit:m.hitState,type:n.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:b=>n.handleDeleteTooltipTag(b,m)},{default:Te(()=>[X("span",{class:G(n.nsSelect.e("tags-text")),style:cn({maxWidth:n.inputWidth-75+"px"})},Oe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(H(),le("span",{key:1,class:G(n.nsSelect.e("tags-text"))},"+ "+Oe(n.selected.length-n.maxCollapseTags),3))]),_:1},8,["size","type"])):De("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):De("v-if",!0),n.collapseTags?De("v-if",!0):(H(),ze(ys,{key:1,onAfterLeave:n.resetInputHeight},{default:Te(()=>[X("span",{class:G(n.tagWrapperKls),style:cn(n.prefixWidth&&n.selected.length?{marginLeft:`${n.prefixWidth}px`}:"")},[(H(!0),le(Ze,null,dn(n.selected,m=>(H(),ze(o,{key:n.getValueKey(m),closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,hit:m.hitState,type:n.tagType,"disable-transitions":"",onClose:b=>n.deleteTag(b,m)},{default:Te(()=>[X("span",{class:G(n.nsSelect.e("tags-text")),style:cn({maxWidth:n.inputWidth-75+"px"})},Oe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),n.filterable&&!n.selectDisabled?Wt((H(),le("input",{key:2,ref:"input","onUpdate:modelValue":e[0]||(e[0]=m=>n.query=m),type:"text",class:G(n.inputKls),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:cn(n.inputStyle),onFocus:e[1]||(e[1]=(...m)=>n.handleFocus&&n.handleFocus(...m)),onBlur:e[2]||(e[2]=(...m)=>n.handleBlur&&n.handleBlur(...m)),onKeyup:e[3]||(e[3]=(...m)=>n.managePlaceholder&&n.managePlaceholder(...m)),onKeydown:[e[4]||(e[4]=(...m)=>n.resetInputState&&n.resetInputState(...m)),e[5]||(e[5]=In(ln(m=>n.navigateOptions("next"),["prevent"]),["down"])),e[6]||(e[6]=In(ln(m=>n.navigateOptions("prev"),["prevent"]),["up"])),e[7]||(e[7]=In((...m)=>n.handleKeydownEscape&&n.handleKeydownEscape(...m),["esc"])),e[8]||(e[8]=In(ln((...m)=>n.selectOption&&n.selectOption(...m),["stop","prevent"]),["enter"])),e[9]||(e[9]=In((...m)=>n.deletePrevTag&&n.deletePrevTag(...m),["delete"])),e[10]||(e[10]=In(m=>n.visible=!1,["tab"]))],onCompositionstart:e[11]||(e[11]=(...m)=>n.handleComposition&&n.handleComposition(...m)),onCompositionupdate:e[12]||(e[12]=(...m)=>n.handleComposition&&n.handleComposition(...m)),onCompositionend:e[13]||(e[13]=(...m)=>n.handleComposition&&n.handleComposition(...m)),onInput:e[14]||(e[14]=(...m)=>n.debouncedQueryChange&&n.debouncedQueryChange(...m))},null,46,Cz)),[[su,n.query]]):De("v-if",!0)],6)):De("v-if",!0),De(" fix: https://github.com/element-plus/element-plus/issues/11415 "),n.isIOS&&!n.multiple&&n.filterable&&n.readonly?(H(),le("input",{key:1,ref:"iOSInput",class:G(n.iOSInputKls),disabled:n.selectDisabled,type:"text"},null,10,kz)):De("v-if",!0),me(c,{id:n.id,ref:"reference",modelValue:n.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=m=>n.selectedLabel=m),type:"text",placeholder:typeof n.currentPlaceholder=="function"?n.currentPlaceholder():n.currentPlaceholder,name:n.name,autocomplete:n.autocomplete,size:n.selectSize,disabled:n.selectDisabled,readonly:n.readonly,"validate-event":!1,class:G([n.nsSelect.is("focus",n.visible)]),tabindex:n.multiple&&n.filterable?-1:void 0,onFocus:n.handleFocus,onBlur:n.handleBlur,onInput:n.debouncedOnInputChange,onPaste:n.debouncedOnInputChange,onCompositionstart:n.handleComposition,onCompositionupdate:n.handleComposition,onCompositionend:n.handleComposition,onKeydown:[e[17]||(e[17]=In(ln(m=>n.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=In(ln(m=>n.navigateOptions("prev"),["stop","prevent"]),["up"])),In(ln(n.selectOption,["stop","prevent"]),["enter"]),In(n.handleKeydownEscape,["esc"]),e[19]||(e[19]=In(m=>n.visible=!1,["tab"]))]},lE({suffix:Te(()=>[n.iconComponent&&!n.showClose?(H(),ze(l,{key:0,class:G([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:Te(()=>[(H(),ze(Fn(n.iconComponent)))]),_:1},8,["class"])):De("v-if",!0),n.showClose&&n.clearIcon?(H(),ze(l,{key:1,class:G([n.nsSelect.e("caret"),n.nsSelect.e("icon")]),onClick:n.handleClearClick},{default:Te(()=>[(H(),ze(Fn(n.clearIcon)))]),_:1},8,["class","onClick"])):De("v-if",!0)]),_:2},[n.$slots.prefix?{name:"prefix",fn:Te(()=>[X("div",Sz,[dt(n.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Te(()=>[me(h,null,{default:Te(()=>[Wt(me(f,{ref:"scrollbar",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:G(n.scrollbarKls)},{default:Te(()=>[n.showNewOption?(H(),ze(u,{key:0,value:n.query,created:!0},null,8,["value"])):De("v-if",!0),me(d,{onUpdateOptions:n.onOptionsRendered},{default:Te(()=>[dt(n.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[li,n.options.size>0&&!n.loading]]),n.emptyText&&(!n.allowCreate||n.loading||n.allowCreate&&n.options.size===0)?(H(),le(Ze,{key:0},[n.$slots.empty?dt(n.$slots,"empty",{key:0}):(H(),le("p",{key:1,class:G(n.nsSelect.be("dropdown","empty"))},Oe(n.emptyText),3))],64)):De("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[p,n.handleClose,n.popperPaneRef]])}var Tz=At(_z,[["render",Ez],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Az=Re({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(n){const e=pt("select"),t=se(!0),i=Rt(),s=se([]);Sn(ux,qi({...Wl(n)}));const r=st(Rh);mn(()=>{s.value=o(i.subTree)});const o=l=>{const c=[];return Array.isArray(l.children)&&l.children.forEach(u=>{var d;u.type&&u.type.name==="ElOption"&&u.component&&u.component.proxy?c.push(u.component.proxy):(d=u.children)!=null&&d.length&&c.push(...o(u))}),c},{groupQueryChange:a}=ut(r);return $e(a,()=>{t.value=s.value.some(l=>l.visible===!0)},{flush:"post"}),{visible:t,ns:e}}});function xz(n,e,t,i,s,r){return Wt((H(),le("ul",{class:G(n.ns.be("group","wrap"))},[X("li",{class:G(n.ns.be("group","title"))},Oe(n.label),3),X("li",null,[X("ul",{class:G(n.ns.b("group"))},[dt(n.$slots,"default")],2)])],2)),[[li,n.visible]])}var dx=At(Az,[["render",xz],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Pz=ks(Tz,{Option:qb,OptionGroup:dx}),Iz=Ql(qb);Ql(dx);/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Og=typeof window<"u",Oz=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",vo=n=>Oz?Symbol(n):n,vu=n=>typeof n=="number"&&isFinite(n),o_=n=>hx(n)==="[object RegExp]",Rz=n=>Ns(n)&&Object.keys(n).length===0,Qs=Object.assign;let a_;const fx=()=>a_||(a_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Mz=Object.prototype.hasOwnProperty;function Kb(n,e){return Mz.call(n,e)}const zs=Array.isArray,Td=n=>typeof n=="function",Cn=n=>typeof n=="string",Qr=n=>typeof n=="boolean",gs=n=>n!==null&&typeof n=="object",Dz=Object.prototype.toString,hx=n=>Dz.call(n),Ns=n=>hx(n)==="[object Object]";/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Fz=(n,e,t)=>Nz({l:n,k:e,s:t}),Nz=n=>JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Fi=n=>typeof n=="number"&&isFinite(n),Lz=n=>Qb(n)==="[object Date]",l_=n=>Qb(n)==="[object RegExp]",Gb=n=>Yt(n)&&Object.keys(n).length===0;function $z(n,e){typeof console<"u"&&(console.warn("[intlify] "+n),e&&console.warn(e.stack))}const Bu=Object.assign;let c_;const Bz=()=>c_||(c_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function u_(n){return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Ys=Array.isArray,Ri=n=>typeof n=="function",at=n=>typeof n=="string",Ni=n=>typeof n=="boolean",ui=n=>n!==null&&typeof n=="object",mx=Object.prototype.toString,Qb=n=>mx.call(n),Yt=n=>Qb(n)==="[object Object]",Vz=n=>n==null?"":Ys(n)||Yt(n)&&n.toString===mx?JSON.stringify(n,null,2):String(n);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const px={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function gx(n,e,t={}){const{domain:i,messages:s,args:r}=t,o=n,a=new SyntaxError(String(o));return a.code=n,e&&(a.location=e),a.domain=i,a}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const vx={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const bo=[];bo[0]={w:[0],i:[3,0],"[":[4],o:[7]};bo[1]={w:[1],".":[2],"[":[4],o:[7]};bo[2]={w:[2],i:[3,0],0:[3,0]};bo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};bo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};bo[5]={"'":[4,0],o:8,l:[5,0]};bo[6]={'"':[4,0],o:8,l:[6,0]};const Uz=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function zz(n){return Uz.test(n)}function Hz(n){const e=n.charCodeAt(0),t=n.charCodeAt(n.length-1);return e===t&&(e===34||e===39)?n.slice(1,-1):n}function Wz(n){if(n==null)return"o";switch(n.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return n;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function jz(n){const e=n.trim();return n.charAt(0)==="0"&&isNaN(parseInt(n))?!1:zz(e)?Hz(e):"*"+e}function qz(n){const e=[];let t=-1,i=0,s=0,r,o,a,l,c,u,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,i=4,f[0]();else{if(s=0,o===void 0||(o=jz(o),o===!1))return!1;f[1]()}};function h(){const p=n[t+1];if(i===5&&p==="'"||i===6&&p==='"')return t++,a="\\"+p,f[0](),!0}for(;i!==null;)if(t++,r=n[t],!(r==="\\"&&h())){if(l=Wz(r),d=bo[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=r,u()===!1))))return;if(i===7)return e}}const d_=new Map;function Kz(n,e){return ui(n)?n[e]:null}function Gz(n,e){if(!ui(n))return null;let t=d_.get(e);if(t||(t=qz(e),t&&d_.set(e,t)),!t)return null;const i=t.length;let s=n,r=0;for(;r<i;){const o=s[t[r]];if(o===void 0)return null;s=o,r++}return s}const Qz=n=>n,Yz=n=>"",Jz="text",Xz=n=>n.length===0?"":n.join(""),Zz=Vz;function f_(n,e){return n=Math.abs(n),e===2?n?n>1?1:0:1:n?Math.min(n,2):0}function eH(n){const e=Fi(n.pluralIndex)?n.pluralIndex:-1;return n.named&&(Fi(n.named.count)||Fi(n.named.n))?Fi(n.named.count)?n.named.count:Fi(n.named.n)?n.named.n:e:e}function tH(n,e){e.count||(e.count=n),e.n||(e.n=n)}function nH(n={}){const e=n.locale,t=eH(n),i=ui(n.pluralRules)&&at(e)&&Ri(n.pluralRules[e])?n.pluralRules[e]:f_,s=ui(n.pluralRules)&&at(e)&&Ri(n.pluralRules[e])?f_:void 0,r=v=>v[i(t,v.length,s)],o=n.list||[],a=v=>o[v],l=n.named||{};Fi(n.pluralIndex)&&tH(t,l);const c=v=>l[v];function u(v){const w=Ri(n.messages)?n.messages(v):ui(n.messages)?n.messages[v]:!1;return w||(n.parent?n.parent.message(v):Yz)}const d=v=>n.modifiers?n.modifiers[v]:Qz,f=Yt(n.processor)&&Ri(n.processor.normalize)?n.processor.normalize:Xz,h=Yt(n.processor)&&Ri(n.processor.interpolate)?n.processor.interpolate:Zz,p=Yt(n.processor)&&at(n.processor.type)?n.processor.type:Jz,b={list:a,named:c,plural:r,linked:(v,...w)=>{const[C,_]=w;let T="text",k="";w.length===1?ui(C)?(k=C.modifier||k,T=C.type||T):at(C)&&(k=C||k):w.length===2&&(at(C)&&(k=C||k),at(_)&&(T=_||T));let E=u(v)(b);return T==="vnode"&&Ys(E)&&k&&(E=E[0]),k?d(k)(E,T):E},message:u,type:p,interpolate:h,normalize:f};return b}let bu=null;function iH(n){bu=n}function sH(n,e,t){bu&&bu.emit(vx.I18nInit,{timestamp:Date.now(),i18n:n,version:e,meta:t})}const rH=oH(vx.FunctionTranslate);function oH(n){return e=>bu&&bu.emit(n,e)}function aH(n,e,t){return[...new Set([t,...Ys(e)?e:ui(e)?Object.keys(e):at(e)?[e]:[t]])]}function bx(n,e,t){const i=at(t)?t:Yb,s=n;s.__localeChainCache||(s.__localeChainCache=new Map);let r=s.__localeChainCache.get(i);if(!r){r=[];let o=[t];for(;Ys(o);)o=h_(r,o,e);const a=Ys(e)||!Yt(e)?e:e.default?e.default:null;o=at(a)?[a]:a,Ys(o)&&h_(r,o,!1),s.__localeChainCache.set(i,r)}return r}function h_(n,e,t){let i=!0;for(let s=0;s<e.length&&Ni(i);s++){const r=e[s];at(r)&&(i=lH(n,e[s],t))}return i}function lH(n,e,t){let i;const s=e.split("-");do{const r=s.join("-");i=cH(n,r,t),s.splice(-1,1)}while(s.length&&i===!0);return i}function cH(n,e,t){let i=!1;if(!n.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const s=e.replace(/!/g,"");n.push(s),(Ys(t)||Yt(t))&&t[s]&&(i=t[s])}return i}const uH="9.2.2",Mh=-1,Yb="en-US",m_="",p_=n=>`${n.charAt(0).toLocaleUpperCase()}${n.substr(1)}`;function dH(){return{upper:(n,e)=>e==="text"&&at(n)?n.toUpperCase():e==="vnode"&&ui(n)&&"__v_isVNode"in n?n.children.toUpperCase():n,lower:(n,e)=>e==="text"&&at(n)?n.toLowerCase():e==="vnode"&&ui(n)&&"__v_isVNode"in n?n.children.toLowerCase():n,capitalize:(n,e)=>e==="text"&&at(n)?p_(n):e==="vnode"&&ui(n)&&"__v_isVNode"in n?p_(n.children):n}}let fH,yx;function hH(n){yx=n}let wx;function mH(n){wx=n}let _x=null;const g_=n=>{_x=n},pH=()=>_x;let Cx=null;const v_=n=>{Cx=n},gH=()=>Cx;let b_=0;function vH(n={}){const e=at(n.version)?n.version:uH,t=at(n.locale)?n.locale:Yb,i=Ys(n.fallbackLocale)||Yt(n.fallbackLocale)||at(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:t,s=Yt(n.messages)?n.messages:{[t]:{}},r=Yt(n.datetimeFormats)?n.datetimeFormats:{[t]:{}},o=Yt(n.numberFormats)?n.numberFormats:{[t]:{}},a=Bu({},n.modifiers||{},dH()),l=n.pluralRules||{},c=Ri(n.missing)?n.missing:null,u=Ni(n.missingWarn)||l_(n.missingWarn)?n.missingWarn:!0,d=Ni(n.fallbackWarn)||l_(n.fallbackWarn)?n.fallbackWarn:!0,f=!!n.fallbackFormat,h=!!n.unresolving,p=Ri(n.postTranslation)?n.postTranslation:null,m=Yt(n.processor)?n.processor:null,b=Ni(n.warnHtmlMessage)?n.warnHtmlMessage:!0,v=!!n.escapeParameter,w=Ri(n.messageCompiler)?n.messageCompiler:fH,C=Ri(n.messageResolver)?n.messageResolver:yx||Kz,_=Ri(n.localeFallbacker)?n.localeFallbacker:wx||aH,T=ui(n.fallbackContext)?n.fallbackContext:void 0,k=Ri(n.onWarn)?n.onWarn:$z,E=n,S=ui(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,I=ui(E.__numberFormatters)?E.__numberFormatters:new Map,R=ui(E.__meta)?E.__meta:{};b_++;const q={version:e,cid:b_,locale:t,fallbackLocale:i,messages:s,modifiers:a,pluralRules:l,missing:c,missingWarn:u,fallbackWarn:d,fallbackFormat:f,unresolving:h,postTranslation:p,processor:m,warnHtmlMessage:b,escapeParameter:v,messageCompiler:w,messageResolver:C,localeFallbacker:_,fallbackContext:T,onWarn:k,__meta:R};return q.datetimeFormats=r,q.numberFormats=o,q.__datetimeFormatters=S,q.__numberFormatters=I,__INTLIFY_PROD_DEVTOOLS__&&sH(q,e,R),q}function Jb(n,e,t,i,s){const{missing:r,onWarn:o}=n;if(r!==null){const a=r(n,t,e,s);return at(a)?a:e}else return e}function mc(n,e,t){const i=n;i.__localeChainCache=new Map,n.localeFallbacker(n,t,e)}let kx=px.__EXTEND_POINT__;const np=()=>++kx,tl={INVALID_ARGUMENT:kx,INVALID_DATE_ARGUMENT:np(),INVALID_ISO_DATE_ARGUMENT:np(),__EXTEND_POINT__:np()};function nl(n){return gx(n,null,void 0)}const y_=()=>"",Ls=n=>Ri(n);function w_(n,...e){const{fallbackFormat:t,postTranslation:i,unresolving:s,messageCompiler:r,fallbackLocale:o,messages:a}=n,[l,c]=Rg(...e),u=Ni(c.missingWarn)?c.missingWarn:n.missingWarn,d=Ni(c.fallbackWarn)?c.fallbackWarn:n.fallbackWarn,f=Ni(c.escapeParameter)?c.escapeParameter:n.escapeParameter,h=!!c.resolvedMessage,p=at(c.default)||Ni(c.default)?Ni(c.default)?r?l:()=>l:c.default:t?r?l:()=>l:"",m=t||p!=="",b=at(c.locale)?c.locale:n.locale;f&&bH(c);let[v,w,C]=h?[l,b,a[b]||{}]:Sx(n,l,b,o,d,u),_=v,T=l;if(!h&&!(at(_)||Ls(_))&&m&&(_=p,T=_),!h&&(!(at(_)||Ls(_))||!at(w)))return s?Mh:l;let k=!1;const E=()=>{k=!0},S=Ls(_)?_:Ex(n,l,w,_,T,E);if(k)return _;const I=_H(n,w,C,c),R=nH(I),q=yH(n,S,R),W=i?i(q,l):q;if(__INTLIFY_PROD_DEVTOOLS__){const z={timestamp:Date.now(),key:at(l)?l:Ls(_)?_.key:"",locale:w||(Ls(_)?_.locale:""),format:at(_)?_:Ls(_)?_.source:"",message:W};z.meta=Bu({},n.__meta,pH()||{}),rH(z)}return W}function bH(n){Ys(n.list)?n.list=n.list.map(e=>at(e)?u_(e):e):ui(n.named)&&Object.keys(n.named).forEach(e=>{at(n.named[e])&&(n.named[e]=u_(n.named[e]))})}function Sx(n,e,t,i,s,r){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=n,u=c(n,i,t);let d={},f,h=null;const p="translate";for(let m=0;m<u.length&&(f=u[m],d=o[f]||{},(h=l(d,e))===null&&(h=d[e]),!(at(h)||Ri(h)));m++){const b=Jb(n,e,f,r,p);b!==e&&(h=b)}return[h,f,d]}function Ex(n,e,t,i,s,r){const{messageCompiler:o,warnHtmlMessage:a}=n;if(Ls(i)){const c=i;return c.locale=c.locale||t,c.key=c.key||e,c}if(o==null){const c=()=>i;return c.locale=t,c.key=e,c}const l=o(i,wH(n,t,s,i,a,r));return l.locale=t,l.key=e,l.source=i,l}function yH(n,e,t){return e(t)}function Rg(...n){const[e,t,i]=n,s={};if(!at(e)&&!Fi(e)&&!Ls(e))throw nl(tl.INVALID_ARGUMENT);const r=Fi(e)?String(e):(Ls(e),e);return Fi(t)?s.plural=t:at(t)?s.default=t:Yt(t)&&!Gb(t)?s.named=t:Ys(t)&&(s.list=t),Fi(i)?s.plural=i:at(i)?s.default=i:Yt(i)&&Bu(s,i),[r,s]}function wH(n,e,t,i,s,r){return{warnHtmlMessage:s,onError:o=>{throw r&&r(o),o},onCacheKey:o=>Fz(e,t,o)}}function _H(n,e,t,i){const{modifiers:s,pluralRules:r,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=n,f={locale:e,modifiers:s,pluralRules:r,messages:h=>{let p=o(t,h);if(p==null&&u){const[,,m]=Sx(u,h,e,a,l,c);p=o(m,h)}if(at(p)){let m=!1;const v=Ex(n,h,e,p,h,()=>{m=!0});return m?y_:v}else return Ls(p)?p:y_}};return n.processor&&(f.processor=n.processor),i.list&&(f.list=i.list),i.named&&(f.named=i.named),Fi(i.plural)&&(f.pluralIndex=i.plural),f}function __(n,...e){const{datetimeFormats:t,unresolving:i,fallbackLocale:s,onWarn:r,localeFallbacker:o}=n,{__datetimeFormatters:a}=n,[l,c,u,d]=Mg(...e),f=Ni(u.missingWarn)?u.missingWarn:n.missingWarn;Ni(u.fallbackWarn)?u.fallbackWarn:n.fallbackWarn;const h=!!u.part,p=at(u.locale)?u.locale:n.locale,m=o(n,s,p);if(!at(l)||l==="")return new Intl.DateTimeFormat(p,d).format(c);let b={},v,w=null;const C="datetime format";for(let k=0;k<m.length&&(v=m[k],b=t[v]||{},w=b[l],!Yt(w));k++)Jb(n,l,v,f,C);if(!Yt(w)||!at(v))return i?Mh:l;let _=`${v}__${l}`;Gb(d)||(_=`${_}__${JSON.stringify(d)}`);let T=a.get(_);return T||(T=new Intl.DateTimeFormat(v,Bu({},w,d)),a.set(_,T)),h?T.formatToParts(c):T.format(c)}const Tx=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Mg(...n){const[e,t,i,s]=n,r={};let o={},a;if(at(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw nl(tl.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw nl(tl.INVALID_ISO_DATE_ARGUMENT)}}else if(Lz(e)){if(isNaN(e.getTime()))throw nl(tl.INVALID_DATE_ARGUMENT);a=e}else if(Fi(e))a=e;else throw nl(tl.INVALID_ARGUMENT);return at(t)?r.key=t:Yt(t)&&Object.keys(t).forEach(l=>{Tx.includes(l)?o[l]=t[l]:r[l]=t[l]}),at(i)?r.locale=i:Yt(i)&&(o=i),Yt(s)&&(o=s),[r.key||"",a,r,o]}function C_(n,e,t){const i=n;for(const s in t){const r=`${e}__${s}`;i.__datetimeFormatters.has(r)&&i.__datetimeFormatters.delete(r)}}function k_(n,...e){const{numberFormats:t,unresolving:i,fallbackLocale:s,onWarn:r,localeFallbacker:o}=n,{__numberFormatters:a}=n,[l,c,u,d]=Dg(...e),f=Ni(u.missingWarn)?u.missingWarn:n.missingWarn;Ni(u.fallbackWarn)?u.fallbackWarn:n.fallbackWarn;const h=!!u.part,p=at(u.locale)?u.locale:n.locale,m=o(n,s,p);if(!at(l)||l==="")return new Intl.NumberFormat(p,d).format(c);let b={},v,w=null;const C="number format";for(let k=0;k<m.length&&(v=m[k],b=t[v]||{},w=b[l],!Yt(w));k++)Jb(n,l,v,f,C);if(!Yt(w)||!at(v))return i?Mh:l;let _=`${v}__${l}`;Gb(d)||(_=`${_}__${JSON.stringify(d)}`);let T=a.get(_);return T||(T=new Intl.NumberFormat(v,Bu({},w,d)),a.set(_,T)),h?T.formatToParts(c):T.format(c)}const Ax=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Dg(...n){const[e,t,i,s]=n,r={};let o={};if(!Fi(e))throw nl(tl.INVALID_ARGUMENT);const a=e;return at(t)?r.key=t:Yt(t)&&Object.keys(t).forEach(l=>{Ax.includes(l)?o[l]=t[l]:r[l]=t[l]}),at(i)?r.locale=i:Yt(i)&&(o=i),Yt(s)&&(o=s),[r.key||"",a,r,o]}function S_(n,e,t){const i=n;for(const s in t){const r=`${e}__${s}`;i.__numberFormatters.has(r)&&i.__numberFormatters.delete(r)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Bz().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const CH="9.2.2";function kH(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(fx().__INTLIFY_PROD_DEVTOOLS__=!1)}let xx=px.__EXTEND_POINT__;const gi=()=>++xx,Hi={UNEXPECTED_RETURN_TYPE:xx,INVALID_ARGUMENT:gi(),MUST_BE_CALL_SETUP_TOP:gi(),NOT_INSLALLED:gi(),NOT_AVAILABLE_IN_LEGACY_MODE:gi(),REQUIRED_VALUE:gi(),INVALID_VALUE:gi(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:gi(),NOT_INSLALLED_WITH_PROVIDE:gi(),UNEXPECTED_ERROR:gi(),NOT_COMPATIBLE_LEGACY_VUE_I18N:gi(),BRIDGE_SUPPORT_VUE_2_ONLY:gi(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:gi(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:gi(),__EXTEND_POINT__:gi()};function as(n,...e){return gx(n,null,void 0)}const Fg=vo("__transrateVNode"),Ng=vo("__datetimeParts"),Lg=vo("__numberParts"),SH=vo("__setPluralRules");vo("__intlifyMeta");const EH=vo("__injectWithOption");function $g(n){if(!gs(n))return n;for(const e in n)if(Kb(n,e))if(!e.includes("."))gs(n[e])&&$g(n[e]);else{const t=e.split("."),i=t.length-1;let s=n;for(let r=0;r<i;r++)t[r]in s||(s[t[r]]={}),s=s[t[r]];s[t[i]]=n[e],delete n[e],gs(s[t[i]])&&$g(s[t[i]])}return n}function Px(n,e){const{messages:t,__i18n:i,messageResolver:s,flatJson:r}=e,o=Ns(t)?t:zs(i)?{}:{[n]:{}};if(zs(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||{},$c(c,o[l])):$c(c,o)}else Cn(a)&&$c(JSON.parse(a),o)}),s==null&&r)for(const a in o)Kb(o,a)&&$g(o[a]);return o}const Ad=n=>!gs(n)||zs(n);function $c(n,e){if(Ad(n)||Ad(e))throw as(Hi.INVALID_VALUE);for(const t in n)Kb(n,t)&&(Ad(n[t])||Ad(e[t])?e[t]=n[t]:$c(n[t],e[t]))}function Ix(n){return n.type}function TH(n,e,t){let i=gs(e.messages)?e.messages:{};"__i18nGlobal"in t&&(i=Px(n.locale.value,{messages:i,__i18n:t.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(r=>{n.mergeLocaleMessage(r,i[r])});{if(gs(e.datetimeFormats)){const r=Object.keys(e.datetimeFormats);r.length&&r.forEach(o=>{n.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(gs(e.numberFormats)){const r=Object.keys(e.numberFormats);r.length&&r.forEach(o=>{n.mergeNumberFormat(o,e.numberFormats[o])})}}}function E_(n){return me(er,null,n,0)}const T_="__INTLIFY_META__";let A_=0;function x_(n){return(e,t,i,s)=>n(t,i,Rt()||void 0,s)}const AH=()=>{const n=Rt();let e=null;return n&&(e=Ix(n)[T_])?{[T_]:e}:null};function Ox(n={},e){const{__root:t}=n,i=t===void 0;let s=Qr(n.inheritLocale)?n.inheritLocale:!0;const r=se(t&&s?t.locale.value:Cn(n.locale)?n.locale:Yb),o=se(t&&s?t.fallbackLocale.value:Cn(n.fallbackLocale)||zs(n.fallbackLocale)||Ns(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:r.value),a=se(Px(r.value,n)),l=se(Ns(n.datetimeFormats)?n.datetimeFormats:{[r.value]:{}}),c=se(Ns(n.numberFormats)?n.numberFormats:{[r.value]:{}});let u=t?t.missingWarn:Qr(n.missingWarn)||o_(n.missingWarn)?n.missingWarn:!0,d=t?t.fallbackWarn:Qr(n.fallbackWarn)||o_(n.fallbackWarn)?n.fallbackWarn:!0,f=t?t.fallbackRoot:Qr(n.fallbackRoot)?n.fallbackRoot:!0,h=!!n.fallbackFormat,p=Td(n.missing)?n.missing:null,m=Td(n.missing)?x_(n.missing):null,b=Td(n.postTranslation)?n.postTranslation:null,v=t?t.warnHtmlMessage:Qr(n.warnHtmlMessage)?n.warnHtmlMessage:!0,w=!!n.escapeParameter;const C=t?t.modifiers:Ns(n.modifiers)?n.modifiers:{};let _=n.pluralRules||t&&t.pluralRules,T;T=(()=>{i&&v_(null);const j={version:CH,locale:r.value,fallbackLocale:o.value,messages:a.value,modifiers:C,pluralRules:_,missing:m===null?void 0:m,missingWarn:u,fallbackWarn:d,fallbackFormat:h,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:v,escapeParameter:w,messageResolver:n.messageResolver,__meta:{framework:"vue"}};j.datetimeFormats=l.value,j.numberFormats=c.value,j.__datetimeFormatters=Ns(T)?T.__datetimeFormatters:void 0,j.__numberFormatters=Ns(T)?T.__numberFormatters:void 0;const K=vH(j);return i&&v_(K),K})(),mc(T,r.value,o.value);function E(){return[r.value,o.value,a.value,l.value,c.value]}const S=N({get:()=>r.value,set:j=>{r.value=j,T.locale=r.value}}),I=N({get:()=>o.value,set:j=>{o.value=j,T.fallbackLocale=o.value,mc(T,r.value,j)}}),R=N(()=>a.value),q=N(()=>l.value),W=N(()=>c.value);function z(){return Td(b)?b:null}function L(j){b=j,T.postTranslation=j}function J(){return p}function ne(j){j!==null&&(m=x_(j)),p=j,T.missing=m}const M=(j,K,Ce,Z,ke,Ve)=>{E();let Ke;if(__INTLIFY_PROD_DEVTOOLS__)try{g_(AH()),i||(T.fallbackContext=t?gH():void 0),Ke=j(T)}finally{g_(null),i||(T.fallbackContext=void 0)}else Ke=j(T);if(vu(Ke)&&Ke===Mh){const[rt,ft]=K();return t&&f?Z(t):ke(rt)}else{if(Ve(Ke))return Ke;throw as(Hi.UNEXPECTED_RETURN_TYPE)}};function Q(...j){return M(K=>Reflect.apply(w_,null,[K,...j]),()=>Rg(...j),"translate",K=>Reflect.apply(K.t,K,[...j]),K=>K,K=>Cn(K))}function U(...j){const[K,Ce,Z]=j;if(Z&&!gs(Z))throw as(Hi.INVALID_ARGUMENT);return Q(K,Ce,Qs({resolvedMessage:!0},Z||{}))}function Y(...j){return M(K=>Reflect.apply(__,null,[K,...j]),()=>Mg(...j),"datetime format",K=>Reflect.apply(K.d,K,[...j]),()=>m_,K=>Cn(K))}function pe(...j){return M(K=>Reflect.apply(k_,null,[K,...j]),()=>Dg(...j),"number format",K=>Reflect.apply(K.n,K,[...j]),()=>m_,K=>Cn(K))}function O(j){return j.map(K=>Cn(K)||vu(K)||Qr(K)?E_(String(K)):K)}const ce={normalize:O,interpolate:j=>j,type:"vnode"};function be(...j){return M(K=>{let Ce;const Z=K;try{Z.processor=ce,Ce=Reflect.apply(w_,null,[Z,...j])}finally{Z.processor=null}return Ce},()=>Rg(...j),"translate",K=>K[Fg](...j),K=>[E_(K)],K=>zs(K))}function Ae(...j){return M(K=>Reflect.apply(k_,null,[K,...j]),()=>Dg(...j),"number format",K=>K[Lg](...j),()=>[],K=>Cn(K)||zs(K))}function je(...j){return M(K=>Reflect.apply(__,null,[K,...j]),()=>Mg(...j),"datetime format",K=>K[Ng](...j),()=>[],K=>Cn(K)||zs(K))}function Me(j){_=j,T.pluralRules=_}function Ue(j,K){const Ce=Cn(K)?K:r.value,Z=x(Ce);return T.messageResolver(Z,j)!==null}function Be(j){let K=null;const Ce=bx(T,o.value,r.value);for(let Z=0;Z<Ce.length;Z++){const ke=a.value[Ce[Z]]||{},Ve=T.messageResolver(ke,j);if(Ve!=null){K=Ve;break}}return K}function Ge(j){const K=Be(j);return K??(t?t.tm(j)||{}:{})}function x(j){return a.value[j]||{}}function B(j,K){a.value[j]=K,T.messages=a.value}function te(j,K){a.value[j]=a.value[j]||{},$c(K,a.value[j]),T.messages=a.value}function ue(j){return l.value[j]||{}}function ae(j,K){l.value[j]=K,T.datetimeFormats=l.value,C_(T,j,K)}function ye(j,K){l.value[j]=Qs(l.value[j]||{},K),T.datetimeFormats=l.value,C_(T,j,K)}function Ee(j){return c.value[j]||{}}function ge(j,K){c.value[j]=K,T.numberFormats=c.value,S_(T,j,K)}function oe(j,K){c.value[j]=Qs(c.value[j]||{},K),T.numberFormats=c.value,S_(T,j,K)}A_++,t&&Og&&($e(t.locale,j=>{s&&(r.value=j,T.locale=j,mc(T,r.value,o.value))}),$e(t.fallbackLocale,j=>{s&&(o.value=j,T.fallbackLocale=j,mc(T,r.value,o.value))}));const re={id:A_,locale:S,fallbackLocale:I,get inheritLocale(){return s},set inheritLocale(j){s=j,j&&t&&(r.value=t.locale.value,o.value=t.fallbackLocale.value,mc(T,r.value,o.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:R,get modifiers(){return C},get pluralRules(){return _||{}},get isGlobal(){return i},get missingWarn(){return u},set missingWarn(j){u=j,T.missingWarn=u},get fallbackWarn(){return d},set fallbackWarn(j){d=j,T.fallbackWarn=d},get fallbackRoot(){return f},set fallbackRoot(j){f=j},get fallbackFormat(){return h},set fallbackFormat(j){h=j,T.fallbackFormat=h},get warnHtmlMessage(){return v},set warnHtmlMessage(j){v=j,T.warnHtmlMessage=j},get escapeParameter(){return w},set escapeParameter(j){w=j,T.escapeParameter=j},t:Q,getLocaleMessage:x,setLocaleMessage:B,mergeLocaleMessage:te,getPostTranslationHandler:z,setPostTranslationHandler:L,getMissingHandler:J,setMissingHandler:ne,[SH]:Me};return re.datetimeFormats=q,re.numberFormats=W,re.rt=U,re.te=Ue,re.tm=Ge,re.d=Y,re.n=pe,re.getDateTimeFormat=ue,re.setDateTimeFormat=ae,re.mergeDateTimeFormat=ye,re.getNumberFormat=Ee,re.setNumberFormat=ge,re.mergeNumberFormat=oe,re[EH]=n.__injectWithOption,re[Fg]=be,re[Ng]=je,re[Lg]=Ae,re}const Xb={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:n=>n==="parent"||n==="global",default:"parent"},i18n:{type:Object}};function xH({slots:n},e){return e.length===1&&e[0]==="default"?(n.default?n.default():[]).reduce((i,s)=>i=[...i,...zs(s.children)?s.children:[s]],[]):e.reduce((t,i)=>{const s=n[i];return s&&(t[i]=s()),t},{})}function Rx(n){return Ze}const P_={name:"i18n-t",props:Qs({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:n=>vu(n)||!isNaN(n)}},Xb),setup(n,e){const{slots:t,attrs:i}=e,s=n.i18n||Vu({useScope:n.scope,__useComponent:!0});return()=>{const r=Object.keys(t).filter(d=>d!=="_"),o={};n.locale&&(o.locale=n.locale),n.plural!==void 0&&(o.plural=Cn(n.plural)?+n.plural:n.plural);const a=xH(e,r),l=s[Fg](n.keypath,a,o),c=Qs({},i),u=Cn(n.tag)||gs(n.tag)?n.tag:Rx();return Je(u,c,l)}}};function PH(n){return zs(n)&&!Cn(n[0])}function Mx(n,e,t,i){const{slots:s,attrs:r}=e;return()=>{const o={part:!0};let a={};n.locale&&(o.locale=n.locale),Cn(n.format)?o.key=n.format:gs(n.format)&&(Cn(n.format.key)&&(o.key=n.format.key),a=Object.keys(n.format).reduce((f,h)=>t.includes(h)?Qs({},f,{[h]:n.format[h]}):f,{}));const l=i(n.value,o,a);let c=[o.key];zs(l)?c=l.map((f,h)=>{const p=s[f.type],m=p?p({[f.type]:f.value,index:h,parts:l}):[f.value];return PH(m)&&(m[0].key=`${f.type}-${h}`),m}):Cn(l)&&(c=[l]);const u=Qs({},r),d=Cn(n.tag)||gs(n.tag)?n.tag:Rx();return Je(d,u,c)}}const I_={name:"i18n-n",props:Qs({value:{type:Number,required:!0},format:{type:[String,Object]}},Xb),setup(n,e){const t=n.i18n||Vu({useScope:"parent",__useComponent:!0});return Mx(n,e,Ax,(...i)=>t[Lg](...i))}},O_={name:"i18n-d",props:Qs({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Xb),setup(n,e){const t=n.i18n||Vu({useScope:"parent",__useComponent:!0});return Mx(n,e,Tx,(...i)=>t[Ng](...i))}};function IH(n,e){const t=n;if(n.mode==="composition")return t.__getInstance(e)||n.global;{const i=t.__getInstance(e);return i!=null?i.__composer:n.global.__composer}}function OH(n){const e=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw as(Hi.UNEXPECTED_ERROR);const u=IH(n,a.$),d=R_(c);return[Reflect.apply(u.t,u,[...M_(d)]),u]};return{created:(o,a)=>{const[l,c]=e(a);Og&&n.global===c&&(o.__i18nWatcher=$e(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Og&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=R_(a);o.textContent=Reflect.apply(l.t,l,[...M_(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function R_(n){if(Cn(n))return{path:n};if(Ns(n)){if(!("path"in n))throw as(Hi.REQUIRED_VALUE,"path");return n}else throw as(Hi.INVALID_VALUE)}function M_(n){const{path:e,locale:t,args:i,choice:s,plural:r}=n,o={},a=i||{};return Cn(t)&&(o.locale=t),vu(s)&&(o.plural=s),vu(r)&&(o.plural=r),[e,a,o]}function RH(n,e,...t){const i=Ns(t[0])?t[0]:{},s=!!i.useI18nComponentName;(Qr(i.globalInstall)?i.globalInstall:!0)&&(n.component(s?"i18n":P_.name,P_),n.component(I_.name,I_),n.component(O_.name,O_)),n.directive("t",OH(e))}const MH=vo("global-vue-i18n");function DH(n={},e){const t=Qr(n.globalInjection)?n.globalInjection:!0,i=!0,s=new Map,[r,o]=FH(n),a=vo("");function l(d){return s.get(d)||null}function c(d,f){s.set(d,f)}function u(d){s.delete(d)}{const d={get mode(){return"composition"},get allowComposition(){return i},async install(f,...h){f.__VUE_I18N_SYMBOL__=a,f.provide(f.__VUE_I18N_SYMBOL__,d),t&&HH(f,d.global),RH(f,d,...h);const p=f.unmount;f.unmount=()=>{d.dispose(),p()}},get global(){return o},dispose(){r.stop()},__instances:s,__getInstance:l,__setInstance:c,__deleteInstance:u};return d}}function Vu(n={}){const e=Rt();if(e==null)throw as(Hi.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw as(Hi.NOT_INSLALLED);const t=NH(e),i=$H(t),s=Ix(e),r=LH(n,s);if(r==="global")return TH(i,n,s),i;if(r==="parent"){let l=BH(t,e,n.__useComponent);return l==null&&(l=i),l}const o=t;let a=o.__getInstance(e);if(a==null){const l=Qs({},n);"__i18n"in s&&(l.__i18n=s.__i18n),i&&(l.__root=i),a=Ox(l),VH(o,e),o.__setInstance(e,a)}return a}function FH(n,e,t){const i=CS();{const s=i.run(()=>Ox(n));if(s==null)throw as(Hi.UNEXPECTED_ERROR);return[i,s]}}function NH(n){{const e=st(n.isCE?MH:n.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw as(n.isCE?Hi.NOT_INSLALLED_WITH_PROVIDE:Hi.UNEXPECTED_ERROR);return e}}function LH(n,e){return Rz(n)?"__i18n"in e?"local":"global":n.useScope?n.useScope:"local"}function $H(n){return n.mode==="composition"?n.global:n.global.__composer}function BH(n,e,t=!1){let i=null;const s=e.root;let r=e.parent;for(;r!=null;){const o=n;if(n.mode==="composition"&&(i=o.__getInstance(r)),i!=null||s===r)break;r=r.parent}return i}function VH(n,e,t){mn(()=>{},e),jl(()=>{n.__deleteInstance(e)},e)}const UH=["locale","fallbackLocale","availableLocales"],zH=["t","rt","d","n","tm"];function HH(n,e){const t=Object.create(null);UH.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw as(Hi.UNEXPECTED_ERROR);const r=Bt(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(t,i,r)}),n.config.globalProperties.$i18n=t,zH.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw as(Hi.UNEXPECTED_ERROR);Object.defineProperty(n.config.globalProperties,`$${i}`,s)})}hH(Gz);mH(bx);kH();if(__INTLIFY_PROD_DEVTOOLS__){const n=fx();n.__INTLIFY__=!0,iH(n.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var Dx={exports:{}};const WH=LA(eD);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(n,e){(function(t,i){n.exports=i(WH)})(self,t=>(()=>{var i={976:a=>{a.exports=t}},s={};function r(a){var l=s[a];if(l!==void 0)return l.exports;var c=s[a]={exports:{}};return i[a](c,c.exports,r),c.exports}r.d=(a,l)=>{for(var c in l)r.o(l,c)&&!r.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},r.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l);var o={};return(()=>{r.d(o,{default:()=>O});var a=r(976);const l=function(F){var ce=typeof F;return F!=null&&(ce=="object"||ce=="function")},c=typeof hn=="object"&&hn&&hn.Object===Object&&hn;var u=typeof self=="object"&&self&&self.Object===Object&&self;const d=c||u||Function("return this")(),f=function(){return d.Date.now()};var h=/\s/;const p=function(F){for(var ce=F.length;ce--&&h.test(F.charAt(ce)););return ce};var m=/^\s+/;const b=function(F){return F&&F.slice(0,p(F)+1).replace(m,"")},v=d.Symbol;var w=Object.prototype,C=w.hasOwnProperty,_=w.toString,T=v?v.toStringTag:void 0;const k=function(F){var ce=C.call(F,T),be=F[T];try{F[T]=void 0;var Ae=!0}catch{}var je=_.call(F);return Ae&&(ce?F[T]=be:delete F[T]),je};var E=Object.prototype.toString;const S=function(F){return E.call(F)};var I=v?v.toStringTag:void 0;const R=function(F){return F==null?F===void 0?"[object Undefined]":"[object Null]":I&&I in Object(F)?k(F):S(F)},q=function(F){return F!=null&&typeof F=="object"},W=function(F){return typeof F=="symbol"||q(F)&&R(F)=="[object Symbol]"};var z=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,J=/^0o[0-7]+$/i,ne=parseInt;const M=function(F){if(typeof F=="number")return F;if(W(F))return NaN;if(l(F)){var ce=typeof F.valueOf=="function"?F.valueOf():F;F=l(ce)?ce+"":ce}if(typeof F!="string")return F===0?F:+F;F=b(F);var be=L.test(F);return be||J.test(F)?ne(F.slice(2),be?2:8):z.test(F)?NaN:+F};var Q=Math.max,U=Math.min;const Y=function(F,ce,be){var Ae,je,Me,Ue,Be,Ge,x=0,B=!1,te=!1,ue=!0;if(typeof F!="function")throw new TypeError("Expected a function");function ae(j){var K=Ae,Ce=je;return Ae=je=void 0,x=j,Ue=F.apply(Ce,K)}function ye(j){return x=j,Be=setTimeout(ge,ce),B?ae(j):Ue}function Ee(j){var K=j-Ge;return Ge===void 0||K>=ce||K<0||te&&j-x>=Me}function ge(){var j=f();if(Ee(j))return oe(j);Be=setTimeout(ge,function(K){var Ce=ce-(K-Ge);return te?U(Ce,Me-(K-x)):Ce}(j))}function oe(j){return Be=void 0,ue&&Ae?ae(j):(Ae=je=void 0,Ue)}function re(){var j=f(),K=Ee(j);if(Ae=arguments,je=this,Ge=j,K){if(Be===void 0)return ye(Ge);if(te)return clearTimeout(Be),Be=setTimeout(ge,ce),ae(Ge)}return Be===void 0&&(Be=setTimeout(ge,ce)),Ue}return ce=M(ce)||0,l(be)&&(B=!!be.leading,Me=(te="maxWait"in be)?Q(M(be.maxWait)||0,ce):Me,ue="trailing"in be?!!be.trailing:ue),re.cancel=function(){Be!==void 0&&clearTimeout(Be),x=0,Ae=Ge=je=Be=void 0},re.flush=function(){return Be===void 0?Ue:oe(f())},re},pe=(0,a.defineComponent)({name:"Ckeditor",model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,required:!0},config:{type:Object,default:()=>({})},modelValue:{type:String,default:""},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1},disableTwoWayDataBinding:{type:Boolean,default:!1}},emits:["ready","destroy","blur","focus","input","update:modelValue"],data:()=>({instance:null,lastEditorData:null}),watch:{modelValue(F){this.instance&&F!==this.lastEditorData&&this.instance.data.set(F)},disabled(F){F?this.instance.enableReadOnlyMode("Integration Sample"):this.instance.disableReadOnlyMode("Integration Sample")}},created(){const{CKEDITOR_VERSION:F}=window;if(F){const[ce]=F.split(".").map(Number);ce<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')},mounted(){const F=Object.assign({},this.config);this.modelValue&&(F.initialData=this.modelValue),this.editor.create(this.$el,F).then(ce=>{this.instance=(0,a.markRaw)(ce),this.setUpEditorEvents(),this.modelValue!==F.initialData&&ce.data.set(this.modelValue),this.disabled&&ce.enableReadOnlyMode("Integration Sample"),this.$emit("ready",ce)}).catch(ce=>{console.error(ce)})},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},methods:{setUpEditorEvents(){const F=this.instance,ce=Y(be=>{if(this.disableTwoWayDataBinding)return;const Ae=this.lastEditorData=F.data.get();this.$emit("update:modelValue",Ae,be,F),this.$emit("input",Ae,be,F)},300,{leading:!0});F.model.document.on("change:data",ce),F.editing.view.document.on("focus",be=>{this.$emit("focus",be,F)}),F.editing.view.document.on("blur",be=>{this.$emit("blur",be,F)})}},render(){return(0,a.h)(this.tagName)}});if(!a.version||!a.version.startsWith("3."))throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const O={install(F){F.component("Ckeditor",pe)},component:pe}})(),o=o.default})())})(Dx);var jH=Dx.exports;const qH=Ai(jH);/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Zb({emitter:n,activator:e,callback:t,contextElements:i}){n.listenTo(document,"mousedown",(s,r)=>{if(!e())return;const o=typeof r.composedPath=="function"?r.composedPath():[],a=typeof i=="function"?i():i;for(const l of a)if(l.contains(r.target)||o.includes(l))return;t()})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Fx(n){class e extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Nx({view:n}){n.listenTo(n.element,"submit",(e,t)=>{t.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function KH({keystrokeHandler:n,focusTracker:e,gridItems:t,numberOfColumns:i,uiLanguageDirection:s}){const r=typeof i=="number"?()=>i:i;n.set("arrowright",o((c,u)=>s==="rtl"?l(c,u.length):a(c,u.length))),n.set("arrowleft",o((c,u)=>s==="rtl"?a(c,u.length):l(c,u.length))),n.set("arrowup",o((c,u)=>{let d=c-r();return d<0&&(d=c+r()*Math.floor(u.length/r()),d>u.length-1&&(d-=r())),d})),n.set("arrowdown",o((c,u)=>{let d=c+r();return d>u.length-1&&(d=c%r()),d}));function o(c){return u=>{const d=t.find(p=>p.element===e.focusedElement),f=t.getIndex(d),h=c(f,t);t.get(h).focus(),u.stopPropagation(),u.preventDefault()}}function a(c,u){return c===u-1?0:c+1}function l(c,u){return c===0?u-1:c-1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function GH(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Io=GH(),mt={isMac:Lx(Io),isWindows:QH(Io),isGecko:YH(Io),isSafari:JH(Io),isiOS:XH(Io),isAndroid:ZH(Io),isBlink:eW(Io),features:{isRegExpUnicodePropertySupported:tW()}};function Lx(n){return n.indexOf("macintosh")>-1}function QH(n){return n.indexOf("windows")>-1}function YH(n){return!!n.match(/gecko\/\d+/)}function JH(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function XH(n){return!!n.match(/iphone|ipad/i)||Lx(n)&&navigator.maxTouchPoints>0}function ZH(n){return n.indexOf("android")>-1}function eW(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function tW(){let n=!1;try{n="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $x(n,e,t,i){t=t||function(l,c){return l===c};const s=Array.isArray(n)?n:Array.prototype.slice.call(n),r=Array.isArray(e)?e:Array.prototype.slice.call(e),o=nW(s,r,t);return i?sW(o,r.length):iW(r,o)}function nW(n,e,t){const i=D_(n,e,t);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=F_(n,i),r=F_(e,i),o=D_(s,r,t),a=n.length-o,l=e.length-o;return{firstIndex:i,lastIndexOld:a,lastIndexNew:l}}function D_(n,e,t){for(let i=0;i<Math.max(n.length,e.length);i++)if(n[i]===void 0||e[i]===void 0||!t(n[i],e[i]))return i;return-1}function F_(n,e){return n.slice(e).reverse()}function iW(n,e){const t=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:r}=e;return r-i>0&&t.push({index:i,type:"insert",values:n.slice(i,r)}),s-i>0&&t.push({index:i+(r-i),type:"delete",howMany:s-i}),t}function sW(n,e){const{firstIndex:t,lastIndexOld:i,lastIndexNew:s}=n;if(t===-1)return Array(e).fill("equal");let r=[];return t>0&&(r=r.concat(Array(t).fill("equal"))),s-t>0&&(r=r.concat(Array(s-t).fill("insert"))),i-t>0&&(r=r.concat(Array(i-t).fill("delete"))),s<e&&(r=r.concat(Array(e-s).fill("equal"))),r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Bc(n,e,t){t=t||function(m,b){return m===b};const i=n.length,s=e.length;if(i>200||s>200||i+s>300)return Bc.fastDiff(n,e,t,!0);let r,o;if(s<i){const m=n;n=e,e=m,r="delete",o="insert"}else r="insert",o="delete";const a=n.length,l=e.length,c=l-a,u={},d={};function f(m){const b=(d[m-1]!==void 0?d[m-1]:-1)+1,v=d[m+1]!==void 0?d[m+1]:-1,w=b>v?-1:1;u[m+w]&&(u[m]=u[m+w].slice(0)),u[m]||(u[m]=[]),u[m].push(b>v?r:o);let C=Math.max(b,v),_=C-m;for(;_<a&&C<l&&t(n[_],e[C]);)_++,C++,u[m].push("equal");return C}let h=0,p;do{for(p=-h;p<c;p++)d[p]=f(p);for(p=c+h;p>c;p--)d[p]=f(p);d[c]=f(c),h++}while(d[c]!==l);return u[c].slice(1)}Bc.fastDiff=$x;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function N_(){return function n(){n.called=!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tr{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=N_(),this.off=N_()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Gn=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function nr(){const n=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0;return"e"+Gn[n>>0&255]+Gn[n>>8&255]+Gn[n>>16&255]+Gn[n>>24&255]+Gn[e>>0&255]+Gn[e>>8&255]+Gn[e>>16&255]+Gn[e>>24&255]+Gn[t>>0&255]+Gn[t>>8&255]+Gn[t>>16&255]+Gn[t>>24&255]+Gn[i>>0&255]+Gn[i>>8&255]+Gn[i>>16&255]+Gn[i>>24&255]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const so={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rW(n,e){const t=so.get(e.priority);for(let i=0;i<n.length;i++)if(so.get(n[i].priority)<t){n.splice(i,0,e);return}n.push(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const oW="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class V extends Error{constructor(e,t,i){super(aW(e,i)),this.name="CKEditorError",this.context=t,this.data=i}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const i=new V(e.message,t);throw i.stack=e.stack,i}}function Jt(n,e){console.warn(...lW(n,e))}function Bx(n){return`
Read more: ${oW}#error-${n}`}function aW(n,e){const t=new WeakSet,s=e?` ${JSON.stringify(e,(o,a)=>{if(typeof a=="object"&&a!==null){if(t.has(a))return`[object ${a.constructor.name}]`;t.add(a)}return a})}`:"",r=Bx(n);return n+s+r}function lW(n,e){const t=Bx(n);return e?[n,e,t]:[n,t]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const cW="37.1.0";/* istanbul ignore next -- @preserve */const L_=typeof window=="object"?window:global;/* istanbul ignore next -- @preserve */if(L_.CKEDITOR_VERSION)throw new V("ckeditor-duplicated-modules",null);L_.CKEDITOR_VERSION=cW;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Qa=Symbol("listeningTo"),Bg=Symbol("emitterId"),dr=Symbol("delegations"),Vx=Vt(Object);function Vt(n){if(!n)return Vx;class e extends n{on(i,s,r){this.listenTo(this,i,s,r)}once(i,s,r){let o=!1;const a=(l,...c)=>{o||(o=!0,l.off(),s.call(this,l,...c))};this.listenTo(this,i,a,r)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,r,o={}){let a,l;this[Qa]||(this[Qa]={});const c=this[Qa];ip(i)||Ux(i);const u=ip(i);(a=c[u])||(a=c[u]={emitter:i,callbacks:{}}),(l=a.callbacks[s])||(l=a.callbacks[s]=[]),l.push(r),hW(this,i,s,r,o)}stopListening(i,s,r){const o=this[Qa];let a=i&&ip(i);const l=o&&a?o[a]:void 0,c=l&&s?l.callbacks[s]:void 0;if(!(!o||i&&!l||s&&!c))if(r)sp(this,i,s,r),c.indexOf(r)!==-1&&(c.length===1?delete l.callbacks[s]:sp(this,i,s,r));else if(c){for(;r=c.pop();)sp(this,i,s,r);delete l.callbacks[s]}else if(l){for(s in l.callbacks)this.stopListening(i,s);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[Qa]}}fire(i,...s){try{const r=i instanceof Tr?i:new Tr(this,i),o=r.name;let a=Hx(this,o);if(r.path.push(this),a){const c=[r,...s];a=Array.from(a);for(let u=0;u<a.length&&(a[u].callback.apply(this,c),r.off.called&&(delete r.off.called,this._removeEventListener(o,a[u].callback)),!r.stop.called);u++);}const l=this[dr];if(l){const c=l.get(o),u=l.get("*");c&&$_(c,r,s),u&&$_(u,r,s)}return r.return}catch(r){/* istanbul ignore next -- @preserve */V.rethrowUnexpectedError(r,this)}}delegate(...i){return{to:(s,r)=>{this[dr]||(this[dr]=new Map),i.forEach(o=>{const a=this[dr].get(o);a?a.set(s,r):this[dr].set(o,new Map([[s,r]]))})}}}stopDelegating(i,s){if(this[dr])if(!i)this[dr].clear();else if(!s)this[dr].delete(i);else{const r=this[dr].get(i);r&&r.delete(s)}}_addEventListener(i,s,r){fW(this,i);const o=Vg(this,i),a=so.get(r.priority),l={callback:s,priority:a};for(const c of o)rW(c,l)}_removeEventListener(i,s){const r=Vg(this,i);for(const o of r)for(let a=0;a<o.length;a++)o[a].callback==s&&(o.splice(a,1),a--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Vt[n]=Vx.prototype[n]});function uW(n,e){const t=n[Qa];return t&&t[e]?t[e].emitter:null}function Ux(n,e){n[Bg]||(n[Bg]=e||nr())}function ip(n){return n[Bg]}function zx(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function dW(){return{callbacks:[],childEvents:[]}}function fW(n,e){const t=zx(n);if(t[e])return;let i=e,s=null;const r=[];for(;i!==""&&!t[i];)t[i]=dW(),r.push(t[i]),s&&t[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of r)o.callbacks=t[i].callbacks.slice();t[i].childEvents.push(s)}}function Vg(n,e){const t=zx(n)[e];if(!t)return[];let i=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const r=Vg(n,t.childEvents[s]);i=i.concat(r)}return i}function Hx(n,e){let t;return!n._events||!(t=n._events[e])||!t.callbacks.length?e.indexOf(":")>-1?Hx(n,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function $_(n,e,t){for(let[i,s]of n){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const r=new Tr(e.source,s);r.path=[...e.path],i.fire(r,...t)}}function hW(n,e,t,i,s){e._addEventListener?e._addEventListener(t,i,s):n._addEventListener.call(e,t,i,s)}function sp(n,e,t,i){e._removeEventListener?e._removeEventListener(t,i):n._removeEventListener.call(e,t,i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Rf=Symbol("observableProperties"),Dh=Symbol("boundObservables"),Mf=Symbol("boundProperties"),La=Symbol("decoratedMethods"),B_=Symbol("decoratedOriginal"),Wx=$t(Vt());function $t(n){if(!n)return Wx;class e extends n{set(i,s){if(Xt(i)){Object.keys(i).forEach(o=>{this.set(o,i[o])},this);return}rp(this);const r=this[Rf];if(i in this&&!r.has(i))throw new V("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return r.get(i)},set(o){const a=r.get(i);let l=this.fire(`set:${i}`,i,o,a);l===void 0&&(l=o),(a!==l||!r.has(i))&&(r.set(i,l),this.fire(`change:${i}`,i,l,a))}}),this[i]=s}bind(...i){if(!i.length||!V_(i))throw new V("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new V("observable-bind-duplicate-properties",this);rp(this);const s=this[Mf];i.forEach(o=>{if(s.has(o))throw new V("observable-bind-rebind",this)});const r=new Map;return i.forEach(o=>{const a={property:o,to:[]};s.set(o,a),r.set(o,a)}),{to:mW,toMany:pW,_observable:this,_bindProperties:i,_to:[],_bindings:r}}unbind(...i){if(!this[Rf])return;const s=this[Mf],r=this[Dh];if(i.length){if(!V_(i))throw new V("observable-unbind-wrong-properties",this);i.forEach(o=>{const a=s.get(o);a&&(a.to.forEach(([l,c])=>{const u=r.get(l),d=u[c];d.delete(a),d.size||delete u[c],Object.keys(u).length||(r.delete(l),this.stopListening(l,"change"))}),s.delete(o))})}else r.forEach((o,a)=>{this.stopListening(a,"change")}),r.clear(),s.clear()}decorate(i){rp(this);const s=this[i];if(!s)throw new V("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(r,o)=>{r.return=s.apply(this,o)}),this[i]=function(...r){return this.fire(i,r)},this[i][B_]=s,this[La]||(this[La]=[]),this[La].push(i)}stopListening(i,s,r){if(!i&&this[La]){for(const o of this[La])this[o]=this[o][B_];delete this[La]}super.stopListening(i,s,r)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{$t[n]=Wx.prototype[n]});function rp(n){n[Rf]||(Object.defineProperty(n,Rf,{value:new Map}),Object.defineProperty(n,Dh,{value:new Map}),Object.defineProperty(n,Mf,{value:new Map}))}function mW(...n){const e=vW(...n),t=Array.from(this._bindings.keys()),i=t.length;if(!e.callback&&e.to.length>1)throw new V("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new V("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==i)throw new V("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),wW(this._observable,this._to),yW(this),this._bindProperties.forEach(s=>{jx(this._observable,s)})}function pW(n,e,t){if(this._bindings.size>1)throw new V("observable-bind-to-many-not-one-binding",this);this.to(...gW(n,e),t)}function gW(n,e){const t=n.map(i=>[i,e]);return Array.prototype.concat.apply([],t)}function V_(n){return n.every(e=>typeof e=="string")}function vW(...n){if(!n.length)throw new V("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof n[n.length-1]=="function"&&(e.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")t.properties.push(i);else if(typeof i=="object")t={observable:i,properties:[]},e.to.push(t);else throw new V("observable-bind-to-parse-error",null)}),e}function bW(n,e,t,i){const s=n[Dh],r=s.get(t),o=r||{};o[i]||(o[i]=new Set),o[i].add(e),r||s.set(t,o)}function yW(n){let e;n._bindings.forEach((t,i)=>{n._to.forEach(s=>{e=s.properties[t.callback?0:n._bindProperties.indexOf(i)],t.to.push([s.observable,e]),bW(n._observable,t,s.observable,e)})})}function jx(n,e){const i=n[Mf].get(e);let s;i.callback?s=i.callback.apply(n,i.to.map(r=>r[0][r[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(n,e)?n[e]=s:n.set(e,s)}function wW(n,e){e.forEach(t=>{const i=n[Dh];let s;i.get(t.observable)||n.listenTo(t.observable,"change",(r,o)=>{s=i.get(t.observable)[o],s&&s.forEach(a=>{jx(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qx{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ug(n){let e=0;for(const t of n)e++;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ai(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)if(n[i]!=e[i])return i;return n.length==e.length?"same":n.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Wi(n){return!!(n&&n[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zg(n,e,t={},i=[]){const s=t&&t.xmlns,r=s?n.createElementNS(s,e):n.createElement(e);for(const o in t)r.setAttribute(o,t[o]);(y0(i)||!Wi(i))&&(i=[i]);for(let o of i)y0(o)&&(o=n.createTextNode(o)),r.appendChild(o);return r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kx{constructor(e,t){this._config={},t&&this.define(U_(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,i,s=!1){if(Di(t)){this._setObjectToTarget(e,t,s);return}const r=t.split(".");t=r.pop();for(const o of r)Di(e[o])||(e[o]={}),e=e[o];if(Di(i)){Di(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,i,s);return}s&&typeof e[t]<"u"||(e[t]=i)}_getFromSource(e,t){const i=t.split(".");t=i.pop();for(const s of i){if(!Di(e[s])){e=null;break}e=e[s]}return e?U_(e[t]):void 0}_setObjectToTarget(e,t,i){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],i)})}}function U_(n){return Ab(n,_W)}function _W(n){return Gl(n)?n:void 0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ho(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Df(n){const e=Object.prototype.toString.apply(n);return e=="[object Window]"||e=="[object global]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Gx=Ca(Vt());function Ca(n){if(!n)return Gx;class e extends n{listenTo(i,s,r,o={}){if(ho(i)||Df(i)){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(i,a)||new CW(i,a);this.listenTo(l,s,r,o)}else super.listenTo(i,s,r,o)}stopListening(i,s,r){if(ho(i)||Df(i)){const o=this._getAllProxyEmitters(i);for(const a of o)this.stopListening(a,s,r)}else super.stopListening(i,s,r)}_getProxyEmitter(i,s){return uW(this,Qx(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(i,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Ca[n]=Gx.prototype[n]});class CW extends Vt(){constructor(e,t){super(),Ux(this,Qx(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,i){this.attach(e),Vt().prototype._addEventListener.call(this,e,t,i)}_removeEventListener(e,t){Vt().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=i=>{this.fire(e,i)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function kW(n){return n["data-ck-expando"]||(n["data-ck-expando"]=nr())}function Qx(n,e){let t=kW(n);for(const i of Object.keys(e).sort())e[i]&&(t+="-"+i);return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Hg;try{Hg={window,document}}catch{/* istanbul ignore next -- @preserve */Hg={window:{},document:{}}}const _t=Hg;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yx(n){const e=[];let t=n;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function SW(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rn(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Fh(n){return Object.prototype.toString.apply(n)=="[object Range]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Jx(n){const e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Xx=["top","right","bottom","left","width","height"];class an{constructor(e){const t=Fh(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Zx(e)||t)if(t){const i=an.getDomRangeRects(e);xd(this,an.getBoundingRect(i))}else xd(this,e.getBoundingClientRect());else if(Df(e)){const{innerWidth:i,innerHeight:s}=e;xd(this,{top:0,right:i,bottom:s,left:0,width:i,height:s})}else xd(this,e)}clone(){return new an(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new an(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!z_(e)){let i=e.parentNode||e.commonAncestorContainer;for(;i&&!z_(i);){const s=new an(i),r=t.getIntersection(s);if(r)r.getArea()<t.getArea()&&(t=r);else return null;i=i.parentNode}}return t}isEqual(e){for(const t of Xx)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,i,s;if(Df(e))t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const r=Jx(e);t=e.offsetWidth-e.clientWidth-r.left-r.right,i=e.offsetHeight-e.clientHeight-r.top-r.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const t=[],i=Array.from(e.getClientRects());if(i.length)for(const s of i)t.push(new an(s));else{let s=e.startContainer;rn(s)&&(s=s.parentNode);const r=new an(s.getBoundingClientRect());r.right=r.left,r.width=0,t.push(r)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const s of e)i++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return i==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new an(t))}}function xd(n,e){for(const t of Xx)n[t]=e[t]}function z_(n){return Zx(n)?n===n.ownerDocument.body:!1}function Zx(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Nh=class gn{constructor(e,t){gn._observerInstance||gn._createObserver(),this._element=e,this._callback=t,gn._addElementCallback(e,t),gn._observerInstance.observe(e)}destroy(){gn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){gn._elementCallbacks||(gn._elementCallbacks=new Map);let i=gn._elementCallbacks.get(e);i||(i=new Set,gn._elementCallbacks.set(e,i)),i.add(t)}static _deleteElementCallback(e,t){const i=gn._getElementCallbacks(e);i&&(i.delete(t),i.size||(gn._elementCallbacks.delete(e),gn._observerInstance.unobserve(e))),gn._elementCallbacks&&!gn._elementCallbacks.size&&(gn._observerInstance=null,gn._elementCallbacks=null)}static _getElementCallbacks(e){return gn._elementCallbacks?gn._elementCallbacks.get(e):null}static _createObserver(){gn._observerInstance=new _t.window.ResizeObserver(e=>{for(const t of e){const i=gn._getElementCallbacks(t.target);if(i)for(const s of i)s(t)}})}};Nh._observerInstance=null;Nh._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function H_(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ey(n){return e=>e+n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pd(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function eP(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function il(n){return n&&n.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ha(n){return!!(n&&n.getClientRects&&n.getClientRects().length)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function EW(n){return!n||!n.parentNode||n.offsetParent===_t.document.body?null:n.offsetParent}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tP({element:n,target:e,positions:t,limiter:i,fitInViewport:s,viewportOffsetConfig:r}){la(e)&&(e=e()),la(i)&&(i=i());const o=EW(n),a=new an(n),l=new an(e);let c;const u=s&&TW(r)||null,d={targetRect:l,elementRect:a,positionedElementAncestor:o,viewportRect:u};if(!i&&!s)c=new Wg(t[0],d);else{const f=i&&new an(i).getVisible();Object.assign(d,{limiterRect:f,viewportRect:u}),c=AW(t,d)||new Wg(t[0],d)}return c}function TW(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const e=new an(_t.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e}function AW(n,e){const{elementRect:t}=e,i=t.getArea(),s=n.map(a=>new Wg(a,e)).filter(a=>!!a.name);let r=0,o=null;for(const a of s){const{limiterIntersectionArea:l,viewportIntersectionArea:c}=a;if(l===i)return a;const u=c**2+l**2;u>r&&(r=u,o=a)}return o}function xW(n,e){const t=nP(new an(e)),i=Jx(e);let s=0,r=0;s-=t.left,r-=t.top,s+=e.scrollLeft,r+=e.scrollTop,s-=i.left,r-=i.top,n.moveBy(s,r)}function nP(n){const{scrollX:e,scrollY:t}=_t.window;return n.clone().moveBy(e,t)}class Wg{constructor(e,t){const i=e(t.targetRect,t.elementRect,t.viewportRect);if(!i)return;const{left:s,top:r,name:o,config:a}=i;this.name=o,this.config=a,this._positioningFunctionCorrdinates={left:s,top:r},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const t=this._options.viewportRect;if(t){const i=e.getIntersection(t);if(i)return i.getIntersectionArea(this._rect)}else return e.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=nP(this._rect),this._options.positionedElementAncestor&&xW(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function W_(n){const e=n.parentNode;e&&e.removeChild(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function PW({target:n,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:i,forceScroll:s}){const r=ty(n);let o=r,a=null;for(;o;){let l;o==r?l=j_(n):l=j_(a),OW({parent:l,getRect:()=>q_(n,o),alignToTop:i,ancestorOffset:t,forceScroll:s});const c=q_(n,o);if(IW({window:o,rect:c,viewportOffset:e,alignToTop:i,forceScroll:s}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function IW({window:n,rect:e,alignToTop:t,forceScroll:i,viewportOffset:s}){const r=e.clone().moveBy(0,s),o=e.clone().moveBy(0,-s),a=new an(n).excludeScrollbarsAndBorders(),l=[o,r],c=t&&i,u=l.every(m=>a.contains(m));let{scrollX:d,scrollY:f}=n;const h=d,p=f;c?f-=a.top-e.top+s:u||(sP(o,a)?f-=a.top-e.top+s:iP(r,a)&&(t?f+=e.top-a.top-s:f+=e.bottom-a.bottom+s)),u||(rP(e,a)?d-=a.left-e.left+s:oP(e,a)&&(d+=e.right-a.right+s)),(d!=h||f!==p)&&n.scrollTo(d,f)}function OW({parent:n,getRect:e,alignToTop:t,forceScroll:i,ancestorOffset:s=0}){const r=ty(n),o=t&&i;let a,l,c;for(;n!=r.document.body;)l=e(),a=new an(n).excludeScrollbarsAndBorders(),c=a.contains(l),o?n.scrollTop-=a.top-l.top+s:c||(sP(l,a)?n.scrollTop-=a.top-l.top+s:iP(l,a)&&(t?n.scrollTop+=l.top-a.top-s:n.scrollTop+=l.bottom-a.bottom+s)),c||(rP(l,a)?n.scrollLeft-=a.left-l.left+s:oP(l,a)&&(n.scrollLeft+=l.right-a.right+s)),n=n.parentNode}function iP(n,e){return n.bottom>e.bottom}function sP(n,e){return n.top<e.top}function rP(n,e){return n.left<e.left}function oP(n,e){return n.right>e.right}function ty(n){return Fh(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function j_(n){if(Fh(n)){let e=n.commonAncestorContainer;return rn(e)&&(e=e.parentNode),e}else return n.parentNode}function q_(n,e){const t=ty(n),i=new an(n);if(t===e)return i;{let s=t;for(;s!=e;){const r=s.frameElement,o=new an(r).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),s=s.parent}}return i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const RW={ctrl:"",cmd:"",alt:"",shift:""},MW={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Et=$W(),DW=Object.fromEntries(Object.entries(Et).map(([n,e])=>[e,n.charAt(0).toUpperCase()+n.slice(1)]));function kl(n){let e;if(typeof n=="string"){if(e=Et[n.toLowerCase()],!e)throw new V("keyboard-unknown-key",null,{key:n})}else e=n.keyCode+(n.altKey?Et.alt:0)+(n.ctrlKey?Et.ctrl:0)+(n.shiftKey?Et.shift:0)+(n.metaKey?Et.cmd:0);return e}function ny(n){return typeof n=="string"&&(n=BW(n)),n.map(e=>typeof e=="string"?NW(e):e).reduce((e,t)=>t+e,0)}function K_(n){let e=ny(n);return Object.entries(mt.isMac?RW:MW).reduce((s,[r,o])=>(e&Et[r]&&(e&=~Et[r],s+=o),s),"")+(e?DW[e]:"")}function FW(n){return n==Et.arrowright||n==Et.arrowleft||n==Et.arrowup||n==Et.arrowdown}function iy(n,e){const t=e==="ltr";switch(n){case Et.arrowleft:return t?"left":"right";case Et.arrowright:return t?"right":"left";case Et.arrowup:return"up";case Et.arrowdown:return"down"}}function NW(n){if(n.endsWith("!"))return kl(n.slice(0,-1));const e=kl(n);return mt.isMac&&e==Et.ctrl?Et.cmd:e}function LW(n,e){const t=iy(n,e);return t==="down"||t==="right"}function $W(){const n={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;e<=57;e++)n[e-48]=e;for(let e=112;e<=123;e++)n["f"+(e-111)]=e;for(const e of"`-=[];',./\\")n[e]=e.charCodeAt(0);return n}function BW(n){return n.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const VW=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function G_(n){return VW.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Wn(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */_t.window.CKEDITOR_TRANSLATIONS||(_t.window.CKEDITOR_TRANSLATIONS={});function UW(n,e,t=1){if(typeof t!="number")throw new V("translation-service-quantity-not-a-number",null,{quantity:t});const i=HW();i===1&&(n=Object.keys(_t.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(i===0||!zW(n,s))return t!==1?e.plural:e.string;const r=_t.window.CKEDITOR_TRANSLATIONS[n].dictionary,o=_t.window.CKEDITOR_TRANSLATIONS[n].getPluralForm||(c=>c===1?0:1),a=r[s];if(typeof a=="string")return a;const l=Number(o(t));return a[l]}function zW(n,e){return!!_t.window.CKEDITOR_TRANSLATIONS[n]&&!!_t.window.CKEDITOR_TRANSLATIONS[n].dictionary[e]}function HW(){return Object.keys(_t.window.CKEDITOR_TRANSLATIONS).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WW{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=G_(this.uiLanguage),this.contentLanguageDirection=G_(this.contentLanguage),this.t=(i,s)=>this._t(i,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Wn(t),typeof e=="string"&&(e={string:e});const s=!!e.plural?t[0]:1,r=UW(this.uiLanguage,e,s);return jW(r,t)}}function jW(n,e){return n.replace(/%(\d+)/g,(t,i)=>i<e.length?e[i]:t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ss extends Vt(){constructor(e={},t={}){super();const i=Wi(e);if(i||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new V("collection-add-item-invalid-index",this);let i=0;for(const s of e){const r=this._getItemIdBeforeAdding(s),o=t+i;this._items.splice(o,0,s),this._itemMap.set(r,s),this.fire("add",s,o),i++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new V("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,i=e[t];return i&&this._itemMap.has(i)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,i]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:i}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new V("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(i=>new t(i))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(i=>i[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,i=(s,r,o)=>{const a=t._bindToCollection==this,l=t._bindToInternalToExternalMap.get(r);if(a&&l)this._bindToExternalToInternalMap.set(r,l),this._bindToInternalToExternalMap.set(l,r);else{const c=e(r);if(!c){this._skippedIndexesFromExternal.push(o);return}let u=o;for(const d of this._skippedIndexesFromExternal)o>d&&u--;for(const d of t._skippedIndexesFromExternal)u>=d&&u++;this._bindToExternalToInternalMap.set(r,c),this._bindToInternalToExternalMap.set(c,r),this.add(c,u);for(let d=0;d<t._skippedIndexesFromExternal.length;d++)u<=t._skippedIndexesFromExternal[d]&&t._skippedIndexesFromExternal[d]++}};for(const s of t)i(null,s,t.getIndex(s));this.listenTo(t,"add",i),this.listenTo(t,"remove",(s,r,o)=>{const a=this._bindToExternalToInternalMap.get(r);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,c)=>(o<c&&l.push(c-1),o>c&&l.push(c),l),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let i;if(t in e){if(i=e[t],typeof i!="string")throw new V("collection-add-invalid-id",this);if(this.get(i))throw new V("collection-add-item-already-exists",this)}else e[t]=i=nr();return i}_remove(e){let t,i,s,r=!1;const o=this._idProperty;if(typeof e=="string"?(i=e,s=this._itemMap.get(i),r=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],r=!s,s&&(i=s[o])):(s=e,i=s[o],t=this._items.indexOf(s),r=t==-1||!this._itemMap.get(i)),r)throw new V("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(i);const a=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(a),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function En(n){const e=n.next();return e.done?null:e.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Es extends Ca($t()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new V("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dr{constructor(){this._listener=new(Ca())}listenTo(e){this._listener.listenTo(e,"keydown",(t,i)=>{this._listener.fire("_keydown:"+kl(i),i)})}set(e,t,i={}){const s=ny(e),r=i.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(o,a)=>{t(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0},{priority:r})}press(e){return!!this._listener.fire("_keydown:"+kl(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qW(n){const e=new Map;for(const t in n)e.set(t,n[t]);return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ar(n){return Wi(n)?new Map(n):qW(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const KW=1e4;function GW(n,e,t,i){if(Math.max(e.length,n.length)>KW)return n.slice(0,t).concat(e).concat(n.slice(t+i,n.length));{const s=Array.from(n);return s.splice(t,i,...e),s}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function QW(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function YW(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function JW(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function sy(n,e){return YW(n.charAt(e-1))&&JW(n.charAt(e))}function ry(n,e){return QW(n.charAt(e))}const XW=ZW();function aP(n,e){const t=String(n).matchAll(XW);return Array.from(t).some(i=>i.index<e&&e<i.index+i[0].length)}function ZW(){const n=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+n.map(s=>s.source).join("|")+")",i=`${e}|${t}(?:${t})*`;return new RegExp(i,"ug")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ka extends Ss{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,i,s)=>{this._renderViewIntoCollectionParent(i,s)}),this.on("remove",(t,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!ej(e))throw new V("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const i of this)for(const s of e)i.delegate(s).to(t);this.on("add",(i,s)=>{for(const r of e)s.delegate(r).to(t)}),this.on("remove",(i,s)=>{for(const r of e)s.stopDelegating(r,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function ej(n){return n.every(e=>typeof e=="string")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ct=class extends Ca($t()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Ss,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Js.bind(this,this)}createCollection(e){const t=new ka(e);return this._viewCollections.add(t),t}registerChild(e){Wi(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Wi(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Js(e)}extendTemplate(e){Js.extend(this.template,e)}render(){if(this.isRendered)throw new V("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const tj="http://www.w3.org/1999/xhtml";class Js extends Vt(){constructor(e){super(),Object.assign(this,Y_(Q_(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=Z_(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new V("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const i of t.children)Ff(i)?yield i:oy(i)&&(yield*e(i))}yield*e(this)}static bind(e,t){return{to(i,s){return new nj({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:s})},if(i,s,r){return new lP({observable:e,emitter:t,attribute:i,valueIfTrue:s,callback:r})}}}static extend(e,t){if(e._isRendered)throw new V("template-extend-render",[this,e]);fP(e,Y_(Q_(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new V("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||tj,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),ef(this.text)?this._bindToObservable({schema:this.text,updater:sj(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,i=e.revertData;for(const s in this.attributes){const r=t.getAttribute(s),o=this.attributes[s];i&&(i.attributes[s]=r);const a=X_(o)?o[0].ns:null;if(ef(o)){const l=X_(o)?o[0].value:o;i&&e1(s)&&l.unshift(r),this._bindToObservable({schema:l,updater:rj(t,s,a),data:e})}else if(s=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{i&&r&&e1(s)&&o.unshift(r);const l=o.map(c=>c&&(c.value||c)).reduce((c,u)=>c.concat(u),[]).reduce(dP,"");Sl(l)||t.setAttributeNS(a,s,l)}}}_renderStyleAttribute(e,t){const i=t.node;for(const s in e){const r=e[s];ef(r)?this._bindToObservable({schema:[r],updater:oj(i,s),data:t}):i.style[s]=r}}_renderElementChildren(e){const t=e.node,i=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let r=0;for(const o of this.children)if(ay(o)){if(!s){o.setParent(t);for(const a of o)i.appendChild(a.element)}}else if(Ff(o))s||(o.isRendered||o.render(),i.appendChild(o.element));else if(ho(o))i.appendChild(o);else if(s){const a=e.revertData,l=Z_();a.children.push(l),o._renderNode({intoFragment:!1,node:i.childNodes[r++],isApplying:!0,revertData:l})}else i.appendChild(o.render());e.intoFragment&&t.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const i=this.eventListeners[t].map(s=>{const[r,o]=t.split("@");return s.activateDomEventListener(r,o,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:t,data:i}){const s=i.revertData;cP(e,t,i);const r=e.filter(o=>!Sl(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,i));s&&s.bindings.push(r)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const r of s)r();if(t.text){e.textContent=t.text;return}const i=e;for(const s in t.attributes){const r=t.attributes[s];r===null?i.removeAttribute(s):i.setAttribute(s,r)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(i.childNodes[s],t.children[s])}}class Uu{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){const s=()=>cP(e,t,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class nj extends Uu{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,i){const s=(r,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(i.node,e,s),()=>{this.emitter.stopListening(i.node,e,s)}}}class lP extends Uu{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Sl(t)?!1:this.valueIfTrue||!0}}function ef(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(ef):n instanceof Uu):!1}function ij(n,e){return n.map(t=>t instanceof Uu?t.getValue(e):t)}function cP(n,e,{node:t}){const i=ij(n,t);let s;n.length==1&&n[0]instanceof lP?s=i[0]:s=i.reduce(dP,""),Sl(s)?e.remove():e.set(s)}function sj(n){return{set(e){n.textContent=e},remove(){n.textContent=""}}}function rj(n,e,t){return{set(i){n.setAttributeNS(t,e,i)},remove(){n.removeAttributeNS(t,e)}}}function oj(n,e){return{set(t){n.style[e]=t},remove(){n.style[e]=null}}}function Q_(n){return Ab(n,t=>{if(t&&(t instanceof Uu||oy(t)||Ff(t)||ay(t)))return t})}function Y_(n){if(typeof n=="string"?n=cj(n):n.text&&uj(n),n.on&&(n.eventListeners=lj(n.on),delete n.on),!n.text){n.attributes&&aj(n.attributes);const e=[];if(n.children)if(ay(n.children))e.push(n.children);else for(const t of n.children)oy(t)||Ff(t)||ho(t)?e.push(t):e.push(new Js(t));n.children=e}return n}function aj(n){for(const e in n)n[e].value&&(n[e].value=Wn(n[e].value)),uP(n,e)}function lj(n){for(const e in n)uP(n,e);return n}function cj(n){return{text:[n]}}function uj(n){n.text=Wn(n.text)}function uP(n,e){n[e]=Wn(n[e])}function dP(n,e){return Sl(e)?n:Sl(n)?e:`${n} ${e}`}function J_(n,e){for(const t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function fP(n,e){if(e.attributes&&(n.attributes||(n.attributes={}),J_(n.attributes,e.attributes)),e.eventListeners&&(n.eventListeners||(n.eventListeners={}),J_(n.eventListeners,e.eventListeners)),e.text&&n.text.push(...e.text),e.children&&e.children.length){if(n.children.length!=e.children.length)throw new V("ui-template-extend-children-mismatch",n);let t=0;for(const i of e.children)fP(n.children[t++],i)}}function Sl(n){return!n&&n!==0}function Ff(n){return n instanceof Ct}function oy(n){return n instanceof Js}function ay(n){return n instanceof ka}function X_(n){return Xt(n[0])&&n[0].ns}function Z_(){return{children:[],bindings:[],attributes:{}}}function e1(n){return n=="class"||n=="style"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dj extends ka{constructor(e,t=[]){super(t),this.locale=e}attachToDom(){this._bodyCollectionContainer=new Js({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=zg(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xl extends Ct{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=t.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:s,value:r}of Array.from(t.attributes))Xl.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}Xl.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zt extends Ct{constructor(e){super(e);const t=this.bindTemplate,i=nr();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(i),this.iconView=new Xl,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",r=>!r),t.if("isVisible","ck-hidden",r=>!r),t.to("isOn",r=>r?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",r=>r||"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${i}`,"aria-disabled":t.if("isEnabled",!0,r=>!r),"aria-pressed":t.to("isOn",r=>this.isToggleable?String(!!r):!1),"data-cke-tooltip-text":t.to("_tooltipString"),"data-cke-tooltip-position":t.to("tooltipPosition")},children:this.children,on:{click:t.to(r=>{this.isEnabled?this.fire("execute"):r.preventDefault()})}};mt.isSafari&&(s.on.mousedown=t.to(r=>{this.focus(),r.preventDefault()})),this.setTemplate(s)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(e){const t=new Ct,i=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:i.to("label")}]}),t}_createKeystrokeView(){const e=new Ct;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>K_(t))}]}),e}_getTooltipString(e,t,i){return e?typeof e=="string"?e:(i&&(i=K_(i)),e instanceof Function?e(t,i):`${t}${i?` (${i})`:""}`):""}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lh extends Zt{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Ct;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fj{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(op(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new V("componentfactory-item-missing",this,{name:e});return this._components.get(op(e)).callback(this.editor.locale)}has(e){return this._components.has(op(e))}}function op(n){return String(n).toLowerCase()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class El extends Ct{constructor(e,t,i){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Dr,this.focusTracker=new Es,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",r=>!r)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,i,s)=>{s&&(this.panelPosition==="auto"?this.panelView.position=El._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(t,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(t,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(t,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:i,southWest:s,northEast:r,northWest:o,southMiddleEast:a,southMiddleWest:l,northMiddleEast:c,northMiddleWest:u}=El.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,s,a,l,e,r,o,c,u,t]:[s,i,l,a,e,o,r,u,c,t]}}El.defaultPanelPositions={south:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)/2,name:"s"}),southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),southMiddleEast:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)/4,name:"sme"}),southMiddleWest:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)*3/4,name:"smw"}),north:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)/2,name:"n"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),northMiddleEast:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)/4,name:"nme"}),northMiddleWest:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)*3/4,name:"nmw"})};El._getOptimalPosition=tP;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hj extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",i=>`ck-dropdown__panel_${i}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(i=>i.preventDefault())}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Jt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const hP='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mj extends Zt{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Xl;return e.content=hP,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ly extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Dr,this.focusTracker=new Es,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",i=>!i),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new Zt;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new Zt,t=e.bindTemplate;return e.icon=hP,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zu{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let i=e.actions[t];typeof i=="string"&&(i=[i]);for(const s of i)e.keystrokeHandler.set(s,(r,o)=>{this[t](),o()})}}get first(){return this.focusables.find(ap)||null}get last(){return this.focusables.filter(ap).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,i)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=i),s}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,i=this.focusables.length;if(!i)return null;if(t===null)return this[e===1?"first":"last"];let s=(t+i+e)%i;do{const r=this.focusables.get(s);if(ap(r))return r;s=(s+i+e)%i}while(s!==t);return null}}function ap(n){return!!(n.focus&&ha(n.element))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mP extends Ct{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pj extends Ct{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function gj(n){return n.bindTemplate.to(e=>{e.target===n.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pP(n){return Array.isArray(n)?{items:n,removeItems:[]}:n?Object.assign({items:[],removeItems:[]},n):{items:[],removeItems:[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ne extends $t(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",t1,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",t1),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function t1(n){n.return=!1,n.stop()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kt extends $t(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(t,i,s)=>{s&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",n1,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",n1),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function n1(n){n.return=!1,n.stop()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gP extends Vt(){constructor(e,t=[],i=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,r]of i)this._contextPlugins.set(s,r),this._contextPlugins.set(r,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new V("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return t}has(e){return this._plugins.has(e)}init(e,t=[],i=[]){const s=this,r=this._context;h(e),m(e);const o=e.filter(k=>!d(k,t)),a=[...p(o)];T(a,i);const l=C(a);return _(l,"init").then(()=>_(l,"afterInit")).then(()=>l);function c(k){return typeof k=="function"}function u(k){return c(k)&&!!k.isContextPlugin}function d(k,E){return E.some(S=>S===k||f(k)===S||f(S)===k)}function f(k){return c(k)?k.pluginName||k.name:k}function h(k,E=new Set){k.forEach(S=>{c(S)&&(E.has(S)||(E.add(S),S.pluginName&&!s._availablePlugins.has(S.pluginName)&&s._availablePlugins.set(S.pluginName,S),S.requires&&h(S.requires,E)))})}function p(k,E=new Set){return k.map(S=>c(S)?S:s._availablePlugins.get(S)).reduce((S,I)=>E.has(I)?S:(E.add(I),I.requires&&(m(I.requires,I),p(I.requires,E).forEach(R=>S.add(R))),S.add(I)),new Set)}function m(k,E=null){k.map(S=>c(S)?S:s._availablePlugins.get(S)||S).forEach(S=>{b(S,E),v(S,E),w(S,E)})}function b(k,E){if(!c(k))throw E?new V("plugincollection-soft-required",r,{missingPlugin:k,requiredBy:f(E)}):new V("plugincollection-plugin-not-found",r,{plugin:k})}function v(k,E){if(u(E)&&!u(k))throw new V("plugincollection-context-required",r,{plugin:f(k),requiredBy:f(E)})}function w(k,E){if(E&&d(k,t))throw new V("plugincollection-required",r,{plugin:f(k),requiredBy:f(E)})}function C(k){return k.map(E=>{let S=s._contextPlugins.get(E);return S=S||new E(r),s._add(E,S),S})}function _(k,E){return k.reduce((S,I)=>!I[E]||s._contextPlugins.has(I)?S:S.then(I[E].bind(I)),Promise.resolve())}function T(k,E){for(const S of E){if(typeof S!="function")throw new V("plugincollection-replace-plugin-invalid-type",null,{pluginItem:S});const I=S.pluginName;if(!I)throw new V("plugincollection-replace-plugin-missing-name",null,{pluginItem:S});if(S.requires&&S.requires.length)throw new V("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:I});const R=s._availablePlugins.get(I);if(!R)throw new V("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:I});const q=k.indexOf(R);if(q===-1){if(s._contextPlugins.has(R))return;throw new V("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:I})}if(R.requires&&R.requires.length)throw new V("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:I});k.splice(q,1,S),s._availablePlugins.set(I,S)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new V("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,t)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vP{constructor(e){this._contextOwner=null,this.config=new Kx(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new gP(this,t);const i=this.config.get("language")||{};this.locale=new WW({uiLanguage:typeof i=="string"?i:i.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Ss}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const i of e.concat(t)){if(typeof i!="function")throw new V("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new V("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new V("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const i=new this(e);t(i.initPlugins().then(()=>i))})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bP extends $t(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const tf=new WeakMap;function yP({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:s=!1}){const r=n.document;tf.has(r)||(tf.set(r,new Map),r.registerPostFixer(o=>lp(r,o)),r.on("change:isComposing",()=>{n.change(o=>lp(r,o))},{priority:"high"})),tf.get(r).set(e,{text:t,isDirectHost:i,keepOnFocus:s,hostElement:i?e:null}),n.change(o=>lp(r,o))}function vj(n,e){return e.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",e),!0)}function bj(n,e){return e.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",e),!0):!1}function yj(n,e){if(!n.isAttached()||Array.from(n.getChildren()).some(o=>!o.is("uiElement")))return!1;const i=n.document,r=i.selection.anchor;return i.isComposing&&r&&r.parent===n?!1:e||!i.isFocused?!0:!!r&&r.parent!==n}function lp(n,e){const t=tf.get(n),i=[];let s=!1;for(const[r,o]of t)o.isDirectHost&&(i.push(r),i1(e,r,o)&&(s=!0));for(const[r,o]of t){if(o.isDirectHost)continue;const a=wj(r);a&&(i.includes(a)||(o.hostElement=a,i1(e,r,o)&&(s=!0)))}return s}function i1(n,e,t){const{text:i,isDirectHost:s,hostElement:r}=t;let o=!1;return r.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,r),o=!0),(s||e.childCount==1)&&yj(r,t.keepOnFocus)?vj(n,r)&&(o=!0):bj(n,r)&&(o=!0),o}function wj(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Sa=class{is(){throw new Error("is() method is abstract")}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ea=class extends Vt(Sa){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new V("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),s=ai(t,i);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<i[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=VT(this);return delete e.parent,e}};Ea.prototype.is=function(n){return n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Qt=class jg extends Ea{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof jg?this===e||this.data===e.data:!1}_clone(){return new jg(this.document,this.data)}};Qt.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Fs=class extends Sa{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new V("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new V("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}};Fs.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $h{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const s=s1(t,i);if(s)return{element:t,pattern:i,match:s}}return null}matchAll(...e){const t=[];for(const i of e)for(const s of this._patterns){const r=s1(i,s);r&&t.push({element:i,pattern:s,match:r})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function s1(n,e){if(typeof e=="function")return e(n);const t={};return e.name&&(t.name=_j(e.name,n.name),!t.name)||e.attributes&&(t.attributes=Ej(e.attributes,n),!t.attributes)||e.classes&&(t.classes=Tj(e.classes,n),!t.classes)||e.styles&&(t.styles=Aj(e.styles,n),!t.styles)?null:t}function _j(n,e){return n instanceof RegExp?!!e.match(n):n===e}function cy(n,e,t){const i=Cj(n),s=Array.from(e),r=[];if(i.forEach(([o,a])=>{s.forEach(l=>{kj(o,l)&&Sj(a,l,t)&&r.push(l)})}),!(!i.length||r.length<i.length))return r}function Cj(n){return Array.isArray(n)?n.map(e=>Di(e)?((e.key===void 0||e.value===void 0)&&Jt("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):Di(n)?Object.entries(n):[[n,!0]]}function kj(n,e){return n===!0||n===e||n instanceof RegExp&&e.match(n)}function Sj(n,e,t){if(n===!0)return!0;const i=t(e);return n===i||n instanceof RegExp&&!!String(i).match(n)}function Ej(n,e){const t=new Set(e.getAttributeKeys());return Di(n)?(n.style!==void 0&&Jt("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&Jt("matcher-pattern-deprecated-attributes-class-key",n)):(t.delete("style"),t.delete("class")),cy(n,t,i=>e.getAttribute(i))}function Tj(n,e){return cy(n,e.getClassNames(),()=>{})}function Aj(n,e){return cy(n,e.getStyleNames(!0),t=>e.getStyle(t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xj{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(Ij(e).entries());for(const[i,s]of t)this._styleProcessor.toNormalizedForm(i,s,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)}set(e,t){if(Xt(e))for(const[i,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=qg(e);S$(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Xt(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(i))return i[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([i])=>i)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const s=t.splice(0,t.length-1).join("."),r=Yn(this._styles,s);if(!r)return;!Array.from(Object.keys(r)).length&&this.remove(s)}}class Pj{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if(Xt(t)){cp(i,qg(e),t);return}if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:r,value:o}=s(t);cp(i,r,o)}else cp(i,e,t)}getNormalized(e,t){if(!e)return HT({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return Yn(t,i);const s=i(e,t);if(s)return s}return Yn(t,qg(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const r=this.getNormalized(s,e);return r&&typeof r=="object"?Object.keys(r).length:r}),i=new Set([...t,...Object.keys(e)]);return Array.from(i.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Ij(n){let e=null,t=0,i=0,s=null;const r=new Map;if(n==="")return r;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(e===null)switch(a){case":":s||(s=n.substr(t,o-t),i=o+1);break;case'"':case"'":e=a;break;case";":{const l=n.substr(i,o-i);s&&r.set(s.trim(),l.trim()),s=null,t=o+1;break}}else a===e&&(e=null)}return r}function qg(n){return n.replace("-",".")}function cp(n,e,t){let i=t;Xt(t)&&(i=HT({},Yn(n,e),t)),C$(n,e,i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ws=class wP extends Ea{constructor(e,t,i,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=Oj(i),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const r=this._attrs.get("class");r1(this._classes,r),this._attrs.delete("class")}this._styles=new xj(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof wP))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new $h(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const s=Rj(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,r.document=this.document,this._children.splice(e,0,r),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?r1(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Wn(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Wn(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Wn(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};ws.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Oj(n){const e=Ar(n);for(const[t,i]of e)i===null?e.delete(t):typeof i!="string"&&e.set(t,String(i));return e}function r1(n,e){const t=e.split(/\s+/);n.clear(),t.forEach(i=>n.add(i))}function Rj(n,e){return typeof e=="string"?[new Qt(n,e)]:(Wi(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Qt(n,t):t instanceof Fs?new Qt(n,t.data):t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yu extends ws{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=_P}}yu.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function _P(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bh extends $t(yu){constructor(e,t,i,s){super(e,t,i,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",r=>r&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Bh.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const o1=Symbol("rootName");class CP extends Bh{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(o1)}set rootName(e){this._setCustomProperty(o1,e)}set _name(e){this.name=e}}CP.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let zo=class{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new V("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new V("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Le._createAt(e.startPosition):this._position=Le._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(i instanceof Qt){if(e.isAtEnd)return this._position=Le._createAfter(i),this._next();s=i.data[e.offset]}else s=i.getChild(e.offset);if(s instanceof ws)return this.shallow?e.offset++:e=new Le(s,0),this._position=e,this._formatReturnValue("elementStart",s,t,e,1);if(s instanceof Qt){if(this.singleCharacters)return e=new Le(s,0),this._position=e,this._next();{let r=s.data.length,o;return s==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new Fs(s,0,r),e=Le._createAfter(o)):(o=new Fs(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,r)}}else if(typeof s=="string"){let r;this.singleCharacters?r=1:r=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const o=new Fs(i,e.offset,r);return e.offset+=r,this._position=e,this._formatReturnValue("text",o,t,e,r)}else return e=Le._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(i instanceof Qt){if(e.isAtStart)return this._position=Le._createBefore(i),this._previous();s=i.data[e.offset-1]}else s=i.getChild(e.offset-1);if(s instanceof ws)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new Le(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof Qt){if(this.singleCharacters)return e=new Le(s,s.data.length),this._position=e,this._previous();{let r=s.data.length,o;if(s==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new Fs(s,a,s.data.length-a),r=o.data.length,e=Le._createBefore(o)}else o=new Fs(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,r)}}else if(typeof s=="string"){let r;if(this.singleCharacters)r=1;else{const a=i===this._boundaryStartParent?this.boundaries.start.offset:0;r=e.offset-a}e.offset-=r;const o=new Fs(i,e.offset,r);return this._position=e,this._formatReturnValue("text",o,t,e,r)}else return e=Le._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,s,r){return t instanceof Fs&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=Le._createAfter(t.textNode),this._position=s):i=Le._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=Le._createBefore(t.textNode),this._position=s):i=Le._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:s,length:r}}}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Le=class hr extends Sa{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Bh);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=hr._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new zo(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]==i[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const s=ai(t,i);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<i[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new zo(e)}clone(){return new hr(this.parent,this.offset)}static _createAt(e,t){if(e instanceof hr)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new V("view-createpositionat-offset-required",i)}return new hr(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new hr(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new V("view-position-after-root",e,{root:e});return new hr(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new hr(e.textNode,e.offsetInText);if(!e.parent)throw new V("view-position-before-root",e,{root:e});return new hr(e.parent,e.index)}};Le.prototype.is=function(n){return n==="position"||n==="view:position"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let lt=class qr extends Sa{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new zo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Id,{direction:"backward"}),t=this.end.getLastMatchingPosition(Id);return e.parent.is("$text")&&e.isAtStart&&(e=Le._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Le._createAfter(t.parent)),new qr(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Id);if(e.isAfter(this.end)||e.isEqual(this.end))return new qr(e,e);let t=this.end.getLastMatchingPosition(Id,{direction:"backward"});const i=e.nodeAfter,s=t.nodeBefore;return i&&i.is("$text")&&(e=new Le(i,0)),s&&s.is("$text")&&(t=new Le(s,s.data.length)),new qr(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new qr(this.start,e.start)),this.containsPosition(e.end)&&t.push(new qr(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new qr(t,i)}return null}getWalker(e={}){return e.boundaries=this,new zo(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new qr(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new zo(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new zo(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,s){return new this(new Le(e,t),new Le(i,s))}static _createFromPositionAndShift(e,t){const i=e,s=e.getShiftedBy(t);return t>0?new this(i,s):new this(s,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Le._createBefore(e),t)}};lt.prototype.is=function(n){return n==="range"||n==="view:range"};function Id(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let mo=class kP extends Vt(Sa){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const s of e._ranges)if(t.isEqual(s)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Ug(this.getRanges()),i=Ug(e.getRanges());if(t!=i)return!1;if(t==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let r=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),s.start.isEqual(o.start)&&s.end.isEqual(o.end)){r=!0;break}if(!r)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,s]=e;if(typeof i=="object"&&(s=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof kP||t instanceof uy)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof lt)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof Le)this._setRanges([new lt(t)]),this._setFakeOptions(s);else if(t instanceof Ea){const r=!!s&&!!s.backward;let o;if(i===void 0)throw new V("view-selection-setto-required-second-parameter",this);i=="in"?o=lt._createIn(t):i=="on"?o=lt._createOn(t):o=new lt(Le._createAt(t,i)),this._setRanges([o],r),this._setFakeOptions(s)}else if(Wi(t))this._setRanges(t,s&&s.backward),this._setFakeOptions(s);else throw new V("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new V("view-selection-setfocus-no-ranges",this);const i=Le._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),i.compareWith(s)=="before"?this._addRange(new lt(i,s),!0):this._addRange(new lt(s,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof lt))throw new V("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new V("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new lt(e.start,e.end))}};mo.prototype.is=function(n){return n==="selection"||n==="view:selection"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let uy=class extends Vt(Sa){constructor(...e){super(),this._selection=new mo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};uy.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zl extends Tr{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const up=Symbol("bubbling contexts");function Kg(n){class e extends n{fire(i,...s){try{const r=i instanceof Tr?i:new Tr(this,i),o=dp(this);if(!o.size)return;if(pc(r,"capturing",this),$a(o,"$capture",r,...s))return r.return;const a=r.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,c=l?!!SP(o,l):!1;let u=l||Mj(a);if(pc(r,"atTarget",u),!c){if($a(o,"$text",r,...s))return r.return;pc(r,"bubbling",u)}for(;u;){if(u.is("rootElement")){if($a(o,"$root",r,...s))return r.return}else if(u.is("element")&&$a(o,u.name,r,...s))return r.return;if($a(o,u,r,...s))return r.return;u=u.parent,pc(r,"bubbling",u)}return pc(r,"bubbling",this),$a(o,"$document",r,...s),r.return}catch(r){/* istanbul ignore next -- @preserve */V.rethrowUnexpectedError(r,this)}}_addEventListener(i,s,r){const o=Wn(r.context||"$document"),a=dp(this);for(const l of o){let c=a.get(l);c||(c=new(Vt()),a.set(l,c)),this.listenTo(c,i,s,r)}}_removeEventListener(i,s){const r=dp(this);for(const o of r.values())this.stopListening(o,i,s)}}return e}{const n=Kg(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Kg[e]=n.prototype[e]})}function pc(n,e,t){n instanceof Zl&&(n._eventPhase=e,n._currentTarget=t)}function $a(n,e,t,...i){const s=typeof e=="string"?n.get(e):SP(n,e);return s?(s.fire(t,...i),t.stop.called):!1}function SP(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function dp(n){return n[up]||(n[up]=new Map),n[up]}function Mj(n){if(!n)return null;const e=n.start.parent,t=n.end.parent,i=e.getPath(),s=t.getPath();return i.length>s.length?e:t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let EP=class extends Kg($t()){constructor(e){super(),this._postFixers=new Set,this.selection=new uy,this.roots=new Ss({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const TP=10;class Jo extends ws{constructor(e,t,i,s){super(e,t,i,s),this._priority=TP,this._id=null,this._clonesGroup=null,this.getFillerOffset=Dj}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new V("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}Jo.DEFAULT_PRIORITY=TP;Jo.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Dj(){if(fp(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(fp(n)>1)return null;n=n.parent}return!n||fp(n)>1?null:this.childCount}function fp(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dy extends ws{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=Fj}_insertChild(e,t){if(t&&(t instanceof Ea||Array.from(t).length>0))throw new V("view-emptyelement-cannot-add",[this,t]);return 0}}dy.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Fj(){return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vh extends ws{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=Lj}_insertChild(e,t){if(t&&(t instanceof Ea||Array.from(t).length>0))throw new V("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}Vh.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Nj(n){n.document.on("arrowKey",(e,t)=>$j(e,t,n.domConverter),{priority:"low"})}function Lj(){return null}function $j(n,e,t){if(e.keyCode==Et.arrowright){const i=e.domTarget.ownerDocument.defaultView.getSelection(),s=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(s||e.shiftKey){const r=i.focusNode,o=i.focusOffset,a=t.domPositionToView(r,o);if(a===null)return;let l=!1;const c=a.getLastMatchingPosition(u=>(u.item.is("uiElement")&&(l=!0),!!(u.item.is("uiElement")||u.item.is("attributeElement"))));if(l){const u=t.viewPositionToDom(c);s?i.collapse(u.parent,u.offset):i.extend(u.parent,u.offset)}}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fy extends ws{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=Bj}_insertChild(e,t){if(t&&(t instanceof Ea||Array.from(t).length>0))throw new V("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}fy.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Bj(){return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Xo=class extends Vt(Sa){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const s=Vj(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,this._children.splice(e,0,r),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Xo.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function Vj(n,e){return typeof e=="string"?[new Qt(n,e)]:(Wi(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Qt(n,t):t instanceof Fs?new Qt(n,t.data):t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AP{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Xo(this.document,e)}createText(e){return new Qt(this.document,e)}createAttributeElement(e,t,i={}){const s=new Jo(this.document,e,t);return typeof i.priority=="number"&&(s._priority=i.priority),i.id&&(s._id=i.id),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createContainerElement(e,t,i={},s={}){let r=null;Di(i)?s=i:r=i;const o=new yu(this.document,e,t,r);return s.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),o}createEditableElement(e,t,i={}){const s=new Bh(this.document,e,t);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createEmptyElement(e,t,i={}){const s=new dy(this.document,e,t);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createUIElement(e,t,i){const s=new Vh(this.document,e,t);return i&&(s.render=i),s}createRawElement(e,t,i,s={}){const r=new fy(this.document,e,t);return i&&(r.render=i),s.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),r}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){Di(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Le?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new V("view-writer-break-non-container-element",this.document);if(!t.parent)throw new V("view-writer-break-root",this.document);if(e.isAtStart)return Le._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(Le._createAfter(t),i);const s=new lt(e,Le._createAt(t,"end")),r=new Le(i,0);this.move(s,r)}return Le._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const o=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Le(o,a))}const s=i.getChild(t-1),r=i.getChild(t);if(!s||!r)return e;if(s.is("$text")&&r.is("$text"))return l1(s,r);if(s.is("attributeElement")&&r.is("attributeElement")&&s.isSimilar(r)){const o=s.childCount;return s._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Le(s,o))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!t||!i||!t.is("containerElement")||!i.is("containerElement"))throw new V("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),r=s instanceof Qt?Le._createAt(s,"end"):Le._createAt(t,"end");return this.move(lt._createIn(i),Le._createAt(t,"end")),this.remove(lt._createOn(i)),r}insert(e,t){t=Wi(t)?[...t]:[t],xP(t,this.document);const i=t.reduce((o,a)=>{const l=o[o.length-1],c=!a.is("uiElement");return!l||l.breakAttributes!=c?o.push({breakAttributes:c,nodes:[a]}):l.nodes.push(a),o},[]);let s=null,r=e;for(const{nodes:o,breakAttributes:a}of i){const l=this._insertNodes(r,o,a);s||(s=l.start),r=l.end}return s?new lt(s,r):new lt(e)}remove(e){const t=e instanceof lt?e:lt._createOn(e);if(gc(t,this.document),t.isCollapsed)return new Xo(this.document);const{start:i,end:s}=this._breakAttributesRange(t,!0),r=i.parent,o=s.offset-i.offset,a=r._removeChildren(i.offset,o);for(const c of a)this._removeFromClonedElementsGroup(c);const l=this.mergeAttributes(i);return t.start=l,t.end=l.clone(),new Xo(this.document,a)}clear(e,t){gc(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of i){const r=s.item;let o;if(r.is("element")&&t.isSimilar(r))o=lt._createOn(r);else if(!s.nextPosition.isAfter(e.start)&&r.is("$textProxy")){const a=r.getAncestors().find(l=>l.is("element")&&t.isSimilar(l));a&&(o=lt._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let i;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const s=t.parent,r=s.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=s.childCount-r}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof Jo))throw new V("view-writer-wrap-invalid-attribute",this.document);if(gc(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&!Uj(i.parent)&&(i=i.getLastMatchingPosition(r=>r.item.is("uiElement"))),i=this._wrapPosition(i,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new lt(i)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Jo))throw new V("view-writer-unwrap-invalid-attribute",this.document);if(gc(e,this.document),e.isCollapsed)return e;const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=this._unwrapChildren(r,i.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new lt(a,l)}rename(e,t){const i=new yu(this.document,e,t.getAttributes());return this.insert(Le._createAfter(t),i),this.move(lt._createIn(t),Le._createAt(i,0)),this.remove(lt._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Le._createAt(e,t)}createPositionAfter(e){return Le._createAfter(e)}createPositionBefore(e){return Le._createBefore(e)}createRange(e,t){return new lt(e,t)}createRangeOn(e){return lt._createOn(e)}createRangeIn(e){return lt._createIn(e)}createSelection(...e){return new mo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new V("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let s;if(i?s=Gg(e):s=e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new V("view-writer-invalid-position-container",this.document);let r;i?r=this._breakAttributes(e,!0):r=e.parent.is("$text")?hp(e):e;const o=s._insertChild(r.offset,t);for(const u of t)this._addToClonedElementsGroup(u);const a=r.getShiftedBy(o),l=this.mergeAttributes(r);l.isEqual(r)||a.offset--;const c=this.mergeAttributes(a);return new lt(l,c)}_wrapChildren(e,t,i,s){let r=t;const o=[];for(;r<i;){const l=e.getChild(r),c=l.is("$text"),u=l.is("attributeElement");if(u&&this._wrapAttributeElement(s,l))o.push(new Le(e,r));else if(c||!u||zj(s,l)){const d=s._clone();l._remove(),d._appendChild(l),e._insertChild(r,d),this._addToClonedElementsGroup(d),o.push(new Le(e,r))}else this._wrapChildren(l,0,l.childCount,s);r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return lt._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,s){let r=t;const o=[];for(;r<i;){const l=e.getChild(r);if(!l.is("attributeElement")){r++;continue}if(l.isSimilar(s)){const c=l.getChildren(),u=l.childCount;l._remove(),e._insertChild(r,c),this._removeFromClonedElementsGroup(l),o.push(new Le(e,r),new Le(e,r+u)),r+=u,i+=u-1;continue}if(this._unwrapAttributeElement(s,l)){o.push(new Le(e,r),new Le(e,r+1)),r++;continue}this._unwrapChildren(l,0,l.childCount,s),r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t||l.offset==i)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return lt._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=this._wrapChildren(r,i.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new lt(a,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return a1(e.clone());e.parent.is("$text")&&(e=hp(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const s=new lt(e,e.getShiftedBy(1));this.wrap(s,t);const r=new Le(i.parent,i.index);i._remove();const o=r.nodeBefore,a=r.nodeAfter;return o instanceof Qt&&a instanceof Qt?l1(o,a):a1(r)}_wrapAttributeElement(e,t){if(!c1(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i==="class"||i==="style"||t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t);for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!c1(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i==="class"||i==="style"||this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,s=e.end;if(gc(e,this.document),e.isCollapsed){const l=this._breakAttributes(e.start,t);return new lt(l,l)}const r=this._breakAttributes(s,t),o=r.parent.childCount,a=this._breakAttributes(i,t);return r.offset+=r.parent.childCount-o,new lt(a,r)}_breakAttributes(e,t=!1){const i=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new V("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new V("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new V("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&Qg(s.parent)||Qg(s))return e.clone();if(s.is("$text"))return this._breakAttributes(hp(e),t);const r=s.childCount;if(i==r){const o=new Le(s.parent,s.index+1);return this._breakAttributes(o,t)}else if(i===0){const o=new Le(s.parent,s.index);return this._breakAttributes(o,t)}else{const o=s.index+1,a=s._clone();s.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=s.childCount-i,c=s._removeChildren(i,l);a._appendChild(c);const u=new Le(s.parent,o);return this._breakAttributes(u,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function Uj(n){return Array.from(n.getChildren()).some(e=>!e.is("uiElement"))}function Gg(n){let e=n.parent;for(;!Qg(e);){if(!e)return;e=e.parent}return e}function zj(n,e){return n.priority<e.priority?!0:n.priority>e.priority?!1:n.getIdentity()<e.getIdentity()}function a1(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new Le(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new Le(t,0):n}function hp(n){if(n.offset==n.parent.data.length)return new Le(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Le(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new Qt(n.root.document,e)),new Le(n.parent.parent,n.parent.index+1)}function l1(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new Le(n,t)}const Hj=[Qt,Jo,yu,dy,fy,Vh];function xP(n,e){for(const t of n){if(!Hj.some(i=>t instanceof i))throw new V("view-writer-insert-invalid-node-type",e);t.is("$text")||xP(t.getChildren(),e)}}function Qg(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function gc(n,e){const t=Gg(n.start),i=Gg(n.end);if(!t||!i||t!==i)throw new V("view-writer-invalid-range-container",e)}function c1(n,e){return n.id===null&&e.id===null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const PP=n=>n.createTextNode(""),IP=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},OP=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},Hs=7,Nf="".repeat(Hs);function Mi(n){return rn(n)&&n.data.substr(0,Hs)===Nf}function Tc(n){return n.data.length==Hs&&Mi(n)}function u1(n){return Mi(n)?n.data.slice(Hs):n.data}function Wj(n){n.document.on("arrowKey",jj,{priority:"low"})}function jj(n,e){if(e.keyCode==Et.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;Mi(i)&&s<=Hs&&t.collapse(i,0)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let qj=class extends $t(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),mt.isBlink&&!mt.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new V("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!mt.isAndroid)return;let e=null;const t=mt.isBlink&&!mt.isAndroid?!this.isSelecting:!0;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Le._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),s=i.parent.ownerDocument;Mi(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=d1(s,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const i=Array.from(this.domConverter.mapViewToDom(e).childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),r=this._diffNodeLists(i,s),o=this._findUpdateActions(r,i,s,Gj);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const l of o)if(l==="update"){const c=a.equal+a.insert,u=a.equal+a.delete,d=e.getChild(c);d&&!(d.is("uiElement")||d.is("rawElement"))&&this._updateElementMappings(d,i[u]),W_(s[c]),a.equal++}else a[l]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Le._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&rn(t.parent)&&Mi(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Mi(e))throw new V("view-renderer-filler-was-lost",this);Tc(e)?e.remove():e.data=e.data.substr(Hs),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!Kj(t)||i===t.getFillerOffset())return!1;const s=e.nodeBefore,r=e.nodeAfter;return!(s instanceof Qt||r instanceof Qt||mt.isAndroid&&(s||r))}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(r=Nf+r),f1(i,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(r=>r.name),s=e.getAttributeKeys();for(const r of s)this.domConverter.setDomElementAttribute(t,r,e.getAttribute(r),e);for(const r of i)e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(t,r)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(mt.isAndroid){let d=null;for(const f of Array.from(i.childNodes)){if(d&&rn(d)&&rn(f)){i.normalize();break}d=f}}const s=t.inlineFillerPosition,r=i.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&d1(i.ownerDocument,o,s.offset);const a=this._diffNodeLists(r,o),l=this._findUpdateActions(a,r,o,Qj);let c=0;const u=new Set;for(const d of l)d==="delete"?(u.add(r[c]),W_(r[c])):(d==="equal"||d==="update")&&c++;c=0;for(const d of l)d==="insert"?(eP(i,c,o[c]),c++):d==="update"?(f1(r[c],o[c].data),c++):d==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[c])),c++);for(const d of u)d.parentNode||this.domConverter.unbindDomElement(d)}_diffNodeLists(e,t){return e=Xj(e,this._fakeSelectionContainer),Bc(e,t,Yj.bind(null,this.domConverter))}_findUpdateActions(e,t,i,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let r=[],o=[],a=[];const l={equal:0,insert:0,delete:0};for(const c of e)c==="insert"?a.push(i[l.equal+l.insert]):c==="delete"?o.push(t[l.equal+l.delete]):(r=r.concat(Bc(o,a,s).map(u=>u==="equal"?"update":u)),r.push("equal"),o=[],a=[]),l[c]++;return r.concat(Bc(o,a,s).map(c=>c==="equal"?"update":c))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(mt.isBlink&&!mt.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&mt.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Zj(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!i.parentElement||i.parentElement!=e)&&e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"";const s=t.getSelection(),r=t.createRange();s.removeAllRanges(),r.selectNodeContents(i),s.addRange(r)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(i.parent,i.offset),t.extend(s.parent,s.offset),mt.isGecko&&Jj(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,s=this.domConverter.mapDomToView(i);i&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function Kj(n){if(n.getAttribute("contenteditable")=="false")return!1;const e=n.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function d1(n,e,t){const i=e instanceof Array?e:e.childNodes,s=i[t];if(rn(s))return s.data=Nf+s.data,s;{const r=n.createTextNode(Nf);return Array.isArray(e)?i.splice(t,0,r):eP(e,t,r),r}}function Gj(n,e){return ho(n)&&ho(e)&&!rn(n)&&!rn(e)&&!il(n)&&!il(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function Qj(n,e){return ho(n)&&ho(e)&&rn(n)&&rn(e)}function Yj(n,e,t){return e===t?!0:rn(e)&&rn(t)?e.data===t.data:!!(n.isBlockFiller(e)&&n.isBlockFiller(t))}function Jj(n,e){const t=n.parent;if(t.nodeType!=Node.ELEMENT_NODE||n.offset!=t.childNodes.length-1)return;const i=t.childNodes[n.offset];i&&i.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function Xj(n,e){const t=Array.from(n);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function Zj(n){const e=n.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}function f1(n,e){const t=n.data;if(t==e)return;const i=$x(t,e);for(const s of i)s.type==="insert"?n.insertData(s.index,s.values.join("")):n.deleteData(s.index,s.howMany)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const eq=OP(_t.document),tq=PP(_t.document),nq=IP(_t.document),Od="data-ck-unsafe-attribute-",h1="data-ck-unsafe-element";class RP{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new $h,this._encounteredRawContentDomNodes=new WeakSet,this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?_t.document:_t.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new mo(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const i=new DOMParser().parseFromString(t,"text/html"),s=i.createDocumentFragment(),r=i.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);const o=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const c of a){for(const d of c.getAttributeNames())this.setDomElementAttribute(c,d,c.getAttribute(d));const u=c.tagName.toLowerCase();this._shouldRenameElement(u)&&(p1(u),c.replaceWith(this._createReplacementDomElement(u,c)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let i;if(e.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,e);else{if(e.is("uiElement"))return e.name==="$comment"?i=this._domDocument.createComment(e.getCustomProperty("$rawContent")):i=e.render(this._domDocument,this),t.bind&&this.bindElements(i,e),i;this._shouldRenameElement(e.name)?(p1(e.name),i=this._createReplacementDomElement(e.name)):e.hasAttribute("xmlns")?i=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):i=this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(i,this),t.bind&&this.bindElements(i,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(i,s,e.getAttribute(s),e)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(e,t))i.appendChild(s);return i}}setDomElementAttribute(e,t,i,s){const r=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);r||Jt("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),e.hasAttribute(t)&&!r?e.removeAttribute(t):e.hasAttribute(Od+t)&&r&&e.removeAttribute(Od+t),e.setAttribute(r?t:Od+t,i)}removeDomElementAttribute(e,t){t!=h1&&(e.removeAttribute(t),e.removeAttribute(Od+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const r of e.getChildren()){i===s&&(yield this._getBlockFiller());const o=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!En(r.getAttributes());o&&this.renderingMode=="data"?yield*this.viewChildrenToDom(r,t):(o&&Jt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,t)),s++}i===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(i.parent,i.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let s=e.offset;return Mi(i)&&(s+=Hs),{parent:i,offset:s}}else{let i,s,r;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;r=i.childNodes[0]}else{const a=e.nodeBefore;if(s=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!s)return null;i=s.parentNode,r=s.nextSibling}if(rn(r)&&Mi(r))return{parent:r,offset:Hs};const o=s?Pd(s)+1:0;return{parent:i,offset:o}}}domToView(e,t={}){if(this.isBlockFiller(e))return null;const i=this.getHostViewElement(e);if(i)return i;if(il(e)&&t.skipComments)return null;if(rn(e)){if(Tc(e))return null;{const s=this._processDataFromDomText(e);return s===""?null:new Qt(this.document,s)}}else{if(this.mapDomToView(e))return this.mapDomToView(e);let s;if(this.isDocumentFragment(e))s=new Xo(this.document),t.bind&&this.bindDocumentFragments(e,s);else{s=this._createViewElement(e,t),t.bind&&this.bindElements(e,s);const r=e.attributes;if(r)for(let o=r.length,a=0;a<o;a++)s._setAttribute(r[a].name,r[a].value);if(this._isViewElementWithRawContent(s,t)||il(e)){const o=il(e)?e.data:e.innerHTML;return s._setCustomProperty("$rawContent",o),this._encounteredRawContentDomNodes.add(e),s}}if(t.withChildren!==!1)for(const r of this.domChildrenToView(e,t))s._appendChild(r);return s}}*domChildrenToView(e,t){for(let i=0;i<e.childNodes.length;i++){const s=e.childNodes[i],r=this.domToView(s,t);r!==null&&(yield r)}}domSelectionToView(e){if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;rn(s)&&(s=s.parentNode);const r=this.fakeSelectionToView(s);if(r)return r}const t=this.isDomSelectionBackward(e),i=[];for(let s=0;s<e.rangeCount;s++){const r=e.getRangeAt(s),o=this.domRangeToView(r);o&&i.push(o)}return new mo(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new lt(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Pd(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return Le._createBefore(i);if(rn(e)){if(Tc(e))return this.domPositionToView(e.parentNode,Pd(e));const s=this.findCorrespondingViewText(e);let r=t;return s?(Mi(e)&&(r-=Hs,r=r<0?0:r),new Le(s,r)):null}else{if(t===0){const s=this.mapDomToView(e);if(s)return new Le(s,0)}else{const s=e.childNodes[t-1];if(rn(s)&&Tc(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Pd(s));const r=rn(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(r&&r.parent)return new Le(r.parent,r.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Tc(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const s=this.mapDomToView(i);if(s){const r=s.nextSibling;return r instanceof Qt?r:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const r=s.getChild(0);return r instanceof Qt?r:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:s}=_t.window,r=[];m1(t,o=>{const{scrollLeft:a,scrollTop:l}=o;r.push([a,l])}),t.focus(),m1(t,o=>{const[a,l]=r.shift();o.scrollLeft=a,o.scrollTop=l}),_t.window.scrollTo(i,s)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(eq):e.tagName==="BR"&&MP(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(nq)||sq(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=Yx(e);for(t.pop();t.length;){const i=t.pop(),s=this._domToViewMapping.get(i);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return PP(this._domDocument);case"markedNbsp":return IP(this._domDocument);case"br":return OP(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(rn(e)&&Mi(e)&&t<Hs||this.isElement(e)&&Mi(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!(i&&(i.is("uiElement")||i.is("rawElement")))}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),s=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!i||s)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_processDataFromDomText(e){let t=e.data;if(iq(e,this.preElements))return u1(e);t=t.replace(/[ \n\t\r]{1,}/g," ");const i=this._getTouchingInlineDomNode(e,!1),s=this._getTouchingInlineDomNode(e,!0),r=this._checkShouldLeftTrimDomText(e,i),o=this._checkShouldRightTrimDomText(e,s);r&&(t=t.replace(/^ /,"")),o&&(t=t.replace(/ $/,"")),t=u1(new Text(t)),t=t.replace(/ \u00A0/g,"  ");const a=s&&this.isElement(s)&&s.tagName!="BR",l=s&&rn(s)&&s.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(t)||!s||a||l)&&(t=t.replace(/\u00A0$/," ")),(r||i&&this.isElement(i)&&i.tagName!="BR")&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e,t){return t?this.isElement(t)?t.tagName==="BR":this._encounteredRawContentDomNodes.has(e.previousSibling)?!1:/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)):!0}_checkShouldRightTrimDomText(e,t){return t?!1:!Mi(e)}_getTouchingInlineViewNode(e,t){const i=new zo({startPosition:t?Le._createAfter(e):Le._createBefore(e),direction:t?"forward":"backward"});for(const s of i){if(s.item.is("element")&&this.inlineObjectElements.includes(s.item.name))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("element","br"))return null;if(s.item.is("$textProxy"))return s.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const i=t?"firstChild":"lastChild",s=t?"nextSibling":"previousSibling";let r=!0,o=e;do if(!r&&o[i]?o=o[i]:o[s]?(o=o[s],r=!1):(o=o.parentNode,r=!0),!o||this._isBlockElement(o))return null;while(!(rn(o)||o.tagName=="BR"||this._isInlineObjectElement(o)));return o}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,t){if(il(e))return new Vh(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ws(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(h1,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const s of t.getAttributeNames())i.setAttribute(s,t.getAttribute(s))}return i}}function iq(n,e){return Yx(n).some(i=>i.tagName&&e.includes(i.tagName.toLowerCase()))}function m1(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function sq(n,e){return n.isEqualNode(tq)&&MP(n,e)&&n.parentNode.childNodes.length===1}function MP(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function p1(n){n==="script"&&Jt("domconverter-unsafe-script-element-detected"),n==="style"&&Jt("domconverter-unsafe-style-element-detected")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rr extends Ca(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tl{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,vT(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yo extends rr{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(s,r)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(r.target)&&this.onDomEvent(r)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new Tl(this.view,t,i))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rq extends yo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return kl(this)}};this.fire(e.type,e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oq extends rr{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=fo(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new mo(t.getRanges(),{backward:t.isBackward,fake:!1});(e==Et.arrowleft||e==Et.arrowup)&&i.setTo(i.getFirstPosition()),(e==Et.arrowright||e==Et.arrowdown)&&i.setTo(i.getLastPosition());const s={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let DP=class extends rr{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,s=new Set;for(const o of e){const a=t.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&s.add(a))}for(const o of e){const a=t.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const l=t.findCorrespondingViewText(o.target);l&&!s.has(l.parent)?i.add(l):!l&&Mi(o.target)&&s.add(t.mapDomToView(o.target.parentNode))}}let r=!1;for(const o of i)r=!0,this.renderer.markToSync("text",o);for(const o of s){const a=t.mapViewToDom(o),l=Array.from(o.getChildren()),c=Array.from(t.domChildrenToView(a,{withChildren:!1}));m$(l,c,aq)||(r=!0,this.renderer.markToSync("children",o))}r&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function aq(n,e){if(!Array.isArray(n))return n===e?!0:n.is("$text")&&e.is("$text")?n.data===e.data:!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yg extends yo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,s)=>{const r=t.selection.editableElement;(r===null||r===s.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lq extends rr{constructor(e){super(e),this.mutationObserver=e.getObserver(DP),this.focusObserver=e.getObserver(Yg),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=fo(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=fo(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",i,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(r,o)=>{this.document.isComposing&&!mt.isAndroid||(this._handleSelectionChange(o,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(i);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(i))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.focusObserver.flush(),this.selection.isSimilar(s))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:s,domSelection:i};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cq extends yo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FP{constructor(e,t={}){this._files=t.cacheFiles?g1(e):null,this._native=e}get files(){return this._files||(this._files=g1(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function g1(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uq extends yo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,s=i.document;let r=null,o=null,a=[];if(e.dataTransfer&&(r=new FP(e.dataTransfer)),e.data!==null?o=e.data:r&&(o=r.getData("text/plain")),s.selection.isFake)a=Array.from(s.selection.getRanges());else if(t.length)a=t.map(l=>i.domConverter.domRangeToView(l));else if(mt.isAndroid){const l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(i.domConverter.domSelectionToView(l).getRanges())}if(mt.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(a[0].end)]});return}if(e.inputType=="insertText"&&o&&o.includes(`
`)){const l=o.split(/\n{1,2}/g);let c=a;for(let u=0;u<l.length;u++){const d=l[u];d!=""&&(this.fire(e.type,e,{data:d,dataTransfer:r,targetRanges:c,inputType:e.inputType,isComposing:e.isComposing}),c=[s.selection.getFirstRange()]),u+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:c}),c=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:r,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dq extends rr{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&FW(i.keyCode)){const s=new Zl(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,i),s.stop.called&&t.stop()}})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fq extends rr{constructor(e){super(e);const t=this.document;t.on("keydown",(i,s)=>{if(!this.isEnabled||s.keyCode!=Et.tab||s.ctrlKey)return;const r=new Zl(t,"tab",t.selection.getFirstRange());t.fire(r,s),r.stop.called&&i.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hq extends $t(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new EP(e),this.domConverter=new RP(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new qj(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new AP(this.document),this.addObserver(DP),this.addObserver(Yg),this.addObserver(lq),this.addObserver(rq),this.addObserver(oq),this.addObserver(cq),this.addObserver(dq),this.addObserver(uq),this.addObserver(fq),Wj(this),Nj(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const s={};for(const{name:o,value:a}of Array.from(e.attributes))s[o]=a,o==="class"?this._writer.addClass(a.split(" "),i):this._writer.setAttribute(o,a,i);this._initialDomRootAttributes.set(e,s);const r=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};r(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),i.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),i.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),i.on("change:isReadOnly",()=>this.change(r)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const i=this._initialDomRootAttributes.get(t);for(const s in i)t.setAttribute(s,i[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,s]of this.domRoots)t.observe(s,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:s=20}={}){const r=this.document.selection.getFirstRange();r&&PW({target:this.domConverter.viewRangeToDom(r),viewportOffset:i,ancestorOffset:s,alignToTop:e,forceScroll:t})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new V("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */V.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Yg).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Le._createAt(e,t)}createPositionAfter(e){return Le._createAfter(e)}createPositionBefore(e){return Le._createBefore(e)}createRange(e,t){return new lt(e,t)}createRangeOn(e){return lt._createOn(e)}createRangeIn(e){return lt._createIn(e)}createSelection(...e){return new mo(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wo{is(){throw new Error("is() method is abstract")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ta=class extends wo{constructor(e){super(),this.parent=null,this._attrs=Ar(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new V("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new V("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),s=ai(t,i);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<i[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Ar(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};Ta.prototype.is=function(n){return n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vc{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,s)=>i+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new V("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new V("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof Ta))throw new V("model-nodelist-insertnodes-not-node",this);this._nodes=GW(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Gt=class Jg extends Ta{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Jg(this.data,this.getAttributes())}static fromJSON(e){return new Jg(e.data,e.attributes)}};Gt.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ps extends wo{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new V("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new V("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ps.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Kt=class nf extends Ta{constructor(e,t,i){super(t),this._children=new Vc,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new nf(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=mq(t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const s of i)s.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(nf.fromJSON(i)):t.push(Gt.fromJSON(i))}return new nf(e.name,e.attributes,t)}};Kt.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function mq(n){return typeof n=="string"?[new Gt(n)]:(Wi(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Gt(e):e instanceof ps?new Gt(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ws{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new V("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new V("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=_e._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,s,r;do s=this.position,r=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=s,this._visitedParent=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=Uc(t,i),r=s||NP(t,i,s);if(r instanceof Kt)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=r),this._position=t,Oo("elementStart",r,e,t,1);if(r instanceof Gt){let o;if(this.singleCharacters)o=1;else{let c=r.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),o=c-t.offset}const a=t.offset-r.startOffset,l=new ps(r,a,o);return t.offset+=o,this._position=t,Oo("text",l,e,t,o)}else return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Oo("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,r=Uc(t,s),o=r||LP(t,s,r);if(o instanceof Kt)return t.offset--,this.shallow?(this._position=t,Oo("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Oo("elementEnd",o,e,t));if(o instanceof Gt){let a;if(this.singleCharacters)a=1;else{let u=o.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),a=t.offset-u}const l=t.offset-o.startOffset,c=new ps(o,l-a,a);return t.offset-=a,this._position=t,Oo("text",c,e,t,a)}else return t.path.pop(),this._position=t,this._visitedParent=i.parent,Oo("elementStart",i,e,t,1)}}function Oo(n,e,t,i,s){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:s}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _e extends wo{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new V("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new V("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new V("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new V("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Uc(this,this.parent)}get nodeAfter(){const e=this.parent;return NP(this,e,Uc(this,e))}get nodeBefore(){const e=this.parent;return LP(this,e,Uc(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=ai(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Ws(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=ai(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]==i[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const s=this.path[i]-e.path[i];if(s<-1||s>1)return!1;if(s===1)return v1(e,this,i);if(s===-1)return v1(this,e,i)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Xg(this.path,t):Xg(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return ai(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=_e._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,i=t.containsPosition(this)||t.start.isEqual(this);let s;return i?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=_e._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,t){const i=_e._createAt(this);if(this.root!=e.root)return i;if(ai(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if(ai(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;i.path[s]-=t}}return i}_getTransformedByInsertion(e,t){const i=_e._createAt(this);if(this.root!=e.root)return i;if(ai(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if(ai(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(i.path[s]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return _e._createAt(this);const s=this._getTransformedByDeletion(e,i);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,s=_e._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[i]-e.offset,s.path=[...s.path,...this.path.slice(i+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof _e)return new _e(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,i);if(t=="after")return this._createAfter(s,i);if(t!==0&&!t)throw new V("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new V("model-position-parent-incorrect",[this,e]);const r=s.getPath();return r.push(t),new this(s.root,r,i)}}static _createAfter(e,t){if(!e.parent)throw new V("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new V("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new _e(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new V("model-position-fromjson-no-root",t,{rootName:e.root});return new _e(t.getRoot(e.root),e.path,e.stickiness)}}_e.prototype.is=function(n){return n==="position"||n==="model:position"};function Uc(n,e){const t=e.getChild(e.offsetToIndex(n.offset));return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function NP(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset))}function LP(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function v1(n,e,t){return!(t+1===n.path.length||!Xg(e.path,t+1)||!pq(n,t+1))}function Xg(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}function pq(n,e){let t=n.parent,i=n.path.length-1,s=0;for(;i>=e;){if(n.path[i]+s!==t.maxOffset)return!1;s=1,i--,t=t.parent}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class de extends wo{constructor(e,t){super(),this.start=_e._createAt(e),this.end=t?_e._createAt(t):_e._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ws({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return ai(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&s}containsItem(e){const t=_e._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new de(this.start,e.start)),this.containsPosition(e.end)&&t.push(new de(e.end,this.end))):t.push(new de(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new de(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(this.start.isBefore(e.start)?i=t?this.end.isTouching(e.start):this.end.isEqual(e.start):i=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let s=this.start,r=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(r)&&(r=e.end),new de(s,r)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=_e._createAt(this.start);let s=i.parent;for(;i.path.length>t+1;){const r=s.maxOffset-i.offset;r!==0&&e.push(new de(i,i.getShiftedBy(r))),i.path=i.path.slice(0,-1),i.offset++,s=s.parent}for(;i.path.length<=this.end.path.length;){const r=this.end.path[i.path.length-1],o=r-i.offset;o!==0&&e.push(new de(i,i.getShiftedBy(o))),i.offset=r,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Ws(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Ws(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Ws(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new de(this.start,this.end)]}getTransformedByOperations(e){const t=[new de(this.start,this.end)];for(const i of e)for(let s=0;s<t.length;s++){const r=t[s].getTransformedByOperation(i);t.splice(s,1,...r),s+=r.length-1}for(let i=0;i<t.length;i++){const s=t[i];for(let r=i+1;r<t.length;r++){const o=t[r];(s.containsRange(o)||o.containsRange(s)||s.isEqual(o))&&t.splice(r,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,s=e.howMany,r=e.targetPosition;return this._getTransformedByMove(i,r,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new de(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new de(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=_e._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new de(t,i)):new de(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new de(this.start,e),new de(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new de(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,i,s=!1){if(this.isCollapsed){const d=this.start._getTransformedByMove(e,t,i);return[new de(d)]}const r=de._createFromPositionAndShift(e,i),o=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!s&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const d=this.start._getTransformedByMove(e,t,i),f=this.end._getTransformedByMove(e,t,i);return[new de(d,f)]}let a;const l=this.getDifference(r);let c=null;const u=this.getIntersection(r);if(l.length==1?c=new de(l[0].start._getTransformedByDeletion(e,i),l[0].end._getTransformedByDeletion(e,i)):l.length==2&&(c=new de(this.start,this.end._getTransformedByDeletion(e,i))),c?a=c._getTransformedByInsertion(o,i,u!==null||s):a=[],u){const d=new de(u.start._getCombined(r.start,o),u.end._getCombined(r.start,o));a.length==2?a.splice(1,0,d):a.push(d)}return a}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return i==null&&s==null?null:(i==null&&(i=e),s==null&&(s=e),new de(i,s))}static _createFromPositionAndShift(e,t){const i=e,s=e.getShiftedBy(t);return t>0?new this(i,s):new this(s,i)}static _createIn(e){return new this(_e._createAt(e,0),_e._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(_e._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new V("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((r,o)=>r.start.isAfter(o.start)?1:-1);const i=e.indexOf(t),s=new this(t.start,t.end);if(i>0)for(let r=i-1;e[r].end.isEqual(s.start);r++)s.start=_e._createAt(e[r].start);for(let r=i+1;r<e.length&&e[r].start.isEqual(s.end);r++)s.end=_e._createAt(e[r].end);return s}static fromJSON(e,t){return new this(_e.fromJSON(e.start,t),_e.fromJSON(e.end,t))}}de.prototype.is=function(n){return n==="range"||n==="model:range"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $P extends Vt(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new V("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(i),r=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=_e._createAt(s,r)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new de(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new lt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const s of t)if(s.is("attributeElement"))for(const r of s.getElementsWithSameId())i.add(r);else i.add(s);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e){const r=this._toModelOffset(e.parent,e.index,i),o=this._toModelOffset(e,t,e);return r+o}if(e.is("$text"))return t;let s=0;for(let r=0;r<t;r++)s+=this.getModelLength(e.getChild(r));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,s=0,r=0,o=0;if(e.is("$text"))return new Le(e,t);for(;r<t;)i=e.getChild(o),s=this.getModelLength(i),r+=s,o++;return r==t?this._moveViewPositionToTextNode(new Le(e,o)):this.findPositionIn(i,t-(r-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof Qt?new Le(t,t.data.length):i instanceof Qt?new Le(i,0):e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gq{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Rd(t),e instanceof ps&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Rd(t),e instanceof ps&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=Rd(t),e instanceof ps&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const s=i.get(t);return s===void 0?null:s}revert(e,t){t=Rd(t),e instanceof ps&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[i,s]of this._consumable)for(const[r,o]of s){const a=r.split(":")[0];o&&e==a&&t.push({event:r,item:i.name||i.description})}if(t.length)throw new V("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const s=i.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,s=e.parent,r=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),a=o.get(i),a||(a=new Map,o.set(i,a)),a.set(s,r),r}}function Rd(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BP extends Vt(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const s=this._createConversionApi(i,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,s);const r=this._reduceChanges(e.getChanges());for(const o of r)o.type==="insert"?this._convertInsert(de._createFromPositionAndShift(o.position,o.length),s):o.type==="reinsert"?this._convertReinsert(de._createFromPositionAndShift(o.position,o.length),s):o.type==="remove"?this._convertRemove(o.position,o.length,o.name,s):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,s);for(const o of s.mapper.flushUnboundMarkerNames()){const a=t.get(o).getRange();this._convertMarkerRemove(o,a,s),this._convertMarkerAdd(o,a,s)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,t,i,s={}){const r=this._createConversionApi(i,void 0,s);this._convertInsert(e,r);for(const[o,a]of t)this._convertMarkerAdd(o,a,r);r.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const s=Array.from(t.getMarkersAtPosition(e.getFirstPosition())),r=this._createConversionApi(i);if(this._addConsumablesForSelection(r.consumable,e,s),this.fire("selection",{selection:e},r),!!e.isCollapsed){for(const o of s){const a=o.getRange();if(!vq(e.getFirstPosition(),o,r.mapper))continue;const l={item:e,markerName:o.name,markerRange:a};r.consumable.test(e,"addMarker:"+o.name)&&this.fire(`addMarker:${o.name}`,l,r)}for(const o of e.getAttributeKeys()){const a={item:e,range:e.getFirstRange(),attributeKey:o,attributeOldValue:null,attributeNewValue:e.getAttribute(o)};r.consumable.test(e,"attribute:"+a.attributeKey)&&this.fire(`attribute:${a.attributeKey}:$text`,a,r)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(b1))this._testAndFire("insert",s,t)}_convertRemove(e,t,i,s){this.fire(`remove:${i}`,{position:e,length:t},s)}_convertAttribute(e,t,i,s,r){this._addConsumablesForRange(r.consumable,e,`attribute:${t}`);for(const o of e){const a={item:o.item,range:de._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:i,attributeNewValue:s};this._testAndFire(`attribute:${t}`,a,r)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const s of i.map(b1))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(i.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},i),!!i.consumable.consume(t,s)){this._addConsumablesForRange(i.consumable,t,s);for(const r of t.getItems()){if(!i.consumable.test(r,s))continue;const o={item:r,range:de._createOn(r),markerName:e,markerRange:t};this.fire(s,o,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const s=i.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const r of s.getAttributeKeys())e.add(s,"attribute:"+r)}}return e}_addConsumablesForRange(e,t,i){for(const s of t.getItems())e.add(s,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const s of i)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,i){const s=bq(e,t),r=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(i),a=o.get(r);if(!a)o.set(r,new Set([s]));else if(!a.has(s))a.add(s);else return;this.fire(s,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:de._createOn(e)};for(const s of i.item.getAttributeKeys())i.attributeKey=s,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(s),this._testAndFire(`attribute:${s}`,i,t)}_createConversionApi(e,t=new Set,i={}){const s={...this._conversionApi,consumable:new gq,writer:e,options:i,convertItem:r=>this._convertInsert(de._createOn(r),s),convertChildren:r=>this._convertInsert(de._createIn(r),s,{doNotAddConsumables:!0}),convertAttributes:r=>this._testAndFireAddAttributes(r,s),canReuseView:r=>!t.has(s.mapper.toModelElement(r))};return this._firedEventsMap.set(s,new Map),s}}function vq(n,e,t){const i=e.getRange(),s=Array.from(n.getAncestors());return s.shift(),s.reverse(),!s.some(o=>{if(i.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function bq(n,e){const t=e.item.is("element")?e.item.name:"$text";return`${n}:${t}`}function b1(n){const e=n.item,t=de._createFromPositionAndShift(n.previousPosition,n.length);return{item:e,range:t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vs extends Vt(wo){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const s of e._ranges)if(t.isEqual(s)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new de(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new de(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new de(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,s]=e;if(typeof i=="object"&&(s=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof vs)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof de)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof _e)this._setRanges([new de(t)]);else if(t instanceof Ta){const r=!!s&&!!s.backward;let o;if(i=="in")o=de._createIn(t);else if(i=="on")o=de._createOn(t);else if(i!==void 0)o=new de(_e._createAt(t,i));else throw new V("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],r)}else if(Wi(t))this._setRanges(t,s&&!!s.backward);else throw new V("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const i=Array.from(e),s=i.some(r=>{if(!(r instanceof de))throw new V("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(r))});i.length===this._ranges.length&&!s||(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new V("model-selection-setfocus-no-ranges",[this,e]);const i=_e._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(s)=="before"?(this._pushRange(new de(i,s)),this._lastRangeBackward=!0):(this._pushRange(new de(s,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=y1(t.start,e);wq(i,t)&&(yield i);for(const r of t.getWalker()){const o=r.item;r.type=="elementEnd"&&yq(o,e,t)&&(yield o)}const s=y1(t.end,e);_q(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=_e._createAt(e,0),i=_e._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new de(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new V("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}vs.prototype.is=function(n){return n==="selection"||n==="model:selection"};function VP(n,e){return e.has(n)?!1:(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function yq(n,e,t){return VP(n,e)&&hy(n,t)}function y1(n,e){const i=n.parent.root.document.model.schema,s=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=s.find(a=>r?!1:(r=i.isLimit(a),!r&&VP(a,e)));return s.forEach(a=>e.add(a)),o}function hy(n,e){const t=Cq(n);return t?!e.containsRange(de._createOn(t),!0):!0}function wq(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.start.isTouching(_e._createAt(n,n.maxOffset))?!1:hy(n,e):!1}function _q(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.end.isTouching(_e._createAt(n,0))?!1:hy(n,e):!1}function Cq(n){const e=n.root.document.model.schema;let t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ir extends Vt(de){constructor(e,t){super(e,t),kq.call(this)}detach(){this.stopListening()}toRange(){return new de(this.start,this.end)}static fromRange(e){return new ir(e.start,e.end)}}ir.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function kq(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&Sq.call(this,t)},{priority:"low"})}function Sq(n){const e=this.getTransformedByOperation(n),t=de._createFromRanges(e),i=!t.isEqual(this),s=Eq(this,n);let r=null;if(i){t.root.rootName=="$graveyard"&&(n.type=="remove"?r=n.sourcePosition:r=n.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:r})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function Eq(n,e){switch(e.type){case"insert":return n.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(e.sourcePosition)||n.start.isEqual(e.sourcePosition)||n.containsPosition(e.targetPosition);case"split":return n.containsPosition(e.splitPosition)||n.containsPosition(e.insertionPosition)}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const wu="selection:";class _s extends Vt(wo){constructor(e){super(),this._selection=new Tq(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return wu+e}static _isStoreAttributeKey(e){return e.startsWith(wu)}}_s.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class Tq extends vs{constructor(e){super(),this.markers=new Ss({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const s=i[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,s,r)=>{this._updateMarker(i,r)}),this.listenTo(this._document,"change",(t,i)=>{Aq(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=nr();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new V("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new V("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=ir.fromRange(e);return t.on("change:range",(i,s,r)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const r=s.name.split(":",1)[0];if(!this._observedMarkers.has(r))continue;const o=s.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(s)}const i=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let s=!1;const r=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),s=!0);else{let a=!1;for(const l of this.getRanges())if(t.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),s=!0):!a&&o&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(e){const t=Ar(this._getSurroundingAttributes()),i=Ar(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[r,o]of this._attributePriority)o=="low"&&(this._attrs.delete(r),this._attributePriority.delete(r));this._setAttributesTo(t);const s=[];for(const[r,o]of this.getAttributes())(!i.has(r)||i.get(r)!==o)&&s.push(r);for(const[r]of i)this.hasAttribute(r)||s.push(r);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,i=!0){const s=i?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,i),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[i,s]of this.getAttributes())e.get(i)!==s&&this._removeAttribute(i,!1);for(const[i,s]of e)this._setAttribute(i,s,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(wu)&&(yield[t.substr(wu.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let i=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=Md(s)),i||(i=Md(r)),!this.isGravityOverridden&&!i){let o=s;for(;o&&!t.isInline(o)&&!i;)o=o.previousSibling,i=Md(o)}if(!i){let o=r;for(;o&&!t.isInline(o)&&!i;)o=o.nextSibling,i=Md(o)}i||(i=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const r of s){if(r.item.is("element")&&t.isObject(r.item))break;if(r.type=="text"){i=r.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Md(n){return n instanceof ps||n instanceof Gt?n.getAttributes():null}function Aq(n,e){const t=n.document.differ;for(const i of t.getChanges()){if(i.type!="insert")continue;const s=i.position.parent;i.length===s.maxOffset&&n.enqueueChange(e,o=>{const a=Array.from(s.getAttributeKeys()).filter(l=>l.startsWith(wu));for(const l of a)o.removeAttribute(l,s)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UP{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xq extends UP{elementToElement(e){return this.add(qq(e))}elementToStructure(e){return this.add(Kq(e))}attributeToElement(e){return this.add(Gq(e))}attributeToAttribute(e){return this.add(Qq(e))}markerToElement(e){return this.add(Yq(e))}markerToHighlight(e){return this.add(Xq(e))}markerToData(e){return this.add(Jq(e))}}function zP(){return(n,e,t)=>{if(!t.consumable.consume(e.item,n.name))return;const i=t.writer,s=t.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(s,r)}}function HP(){return(n,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function Pq(){return(n,e,t)=>{const i=t.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),r=t.mapper.toViewPosition(s,{isPhantom:!0}),o=t.writer.createRange(i,r),a=t.writer.remove(o.getTrimmed());for(const l of t.writer.createRangeIn(a).getItems())t.mapper.unbindViewElement(l,{defer:!0})}}function WP(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Iq(){return(n,e,t)=>{const i=e.selection;if(i.isCollapsed||!t.consumable.consume(i,"selection"))return;const s=[];for(const r of i.getRanges())s.push(t.mapper.toViewRange(r));t.writer.setSelection(s,{backward:i.isBackward})}}function Oq(){return(n,e,t)=>{const i=e.selection;if(!i.isCollapsed||!t.consumable.consume(i,"selection"))return;const s=t.writer,r=i.getFirstPosition(),o=t.mapper.toViewPosition(r),a=s.breakAttributes(o);s.setSelection(a)}}function Rq(){return(n,e,t)=>{const i=t.writer,s=i.document.selection;for(const r of s.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&t.writer.mergeAttributes(r.start);i.setSelection(null)}}function Mq(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const s=n(t.attributeOldValue,i,t),r=n(t.attributeNewValue,i,t);if(!s&&!r)return;i.consumable.consume(t.item,e.name);const o=i.writer,a=o.document.selection;if(t.item instanceof vs||t.item instanceof _s)o.wrap(a.getFirstRange(),r);else{let l=i.mapper.toViewRange(t.range);t.attributeOldValue!==null&&s&&(l=o.unwrap(l,s)),t.attributeNewValue!==null&&r&&o.wrap(l,r)}}}function Dq(n,e=rK){return(t,i,s)=>{if(!e(i.item,s.consumable,{preflight:!0}))return;const r=n(i.item,s,i);if(!r)return;e(i.item,s.consumable);const o=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,r),s.writer.insert(o,r),s.convertAttributes(i.item),QP(r,i.item.getChildren(),s,{reconversion:i.reconversion})}}function Fq(n,e){return(t,i,s)=>{if(!e(i.item,s.consumable,{preflight:!0}))return;const r=new Map;s.writer._registerSlotFactory(tK(i.item,r,s));const o=n(i.item,s,i);if(s.writer._clearSlotFactory(),!o)return;nK(i.item,r,s),e(i.item,s.consumable);const a=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,o),s.writer.insert(a,o),s.convertAttributes(i.item),iK(o,r,s,{reconversion:i.reconversion})}}function Nq(n){return(e,t,i)=>{t.isOpening=!0;const s=n(t,i);t.isOpening=!1;const r=n(t,i);if(!s||!r)return;const o=t.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,e.name))return;for(const c of o)if(!i.consumable.consume(c.item,e.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(o.start),s),i.mapper.bindElementToMarker(s,t.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),r),i.mapper.bindElementToMarker(r,t.markerName)),e.stop()}}function Lq(){return(n,e,t)=>{const i=t.mapper.markerNameToElements(e.markerName);if(i){for(const s of i)t.mapper.unbindElementFromMarkerName(s,e.markerName),t.writer.clear(t.writer.createRangeOn(s),s);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function $q(n){return(e,t,i)=>{const s=n(t.markerName,i);if(!s)return;const r=t.markerRange;i.consumable.consume(r,e.name)&&(w1(r,!1,i,t,s),w1(r,!0,i,t,s),e.stop())}}function w1(n,e,t,i,s){const r=e?n.start:n.end,o=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(o||a){let c,u;e&&o||!e&&!a?(c=o,u=!0):(c=a,u=!1);const d=t.mapper.toViewElement(c);if(d){Bq(d,e,u,t,i,s);return}}const l=t.mapper.toViewPosition(r);Vq(l,e,t,i,s)}function Bq(n,e,t,i,s,r){const o=`data-${r.group}-${e?"start":"end"}-${t?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(r.name),i.writer.setAttribute(o,a.join(","),n),i.mapper.bindElementToMarker(n,s.markerName)}function Vq(n,e,t,i,s){const r=`${s.group}-${e?"start":"end"}`,o=s.name?{name:s.name}:null,a=t.writer.createUIElement(r,o);t.writer.insert(n,a),t.mapper.bindElementToMarker(a,i.markerName)}function Uq(n){return(e,t,i)=>{const s=n(t.markerName,i);if(!s)return;const r=i.mapper.markerNameToElements(t.markerName);if(!r)return;for(const a of r)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${s.group}-start-before`,a),o(`data-${s.group}-start-after`,a),o(`data-${s.group}-end-before`,a),o(`data-${s.group}-end-after`,a)):i.writer.clear(i.writer.createRangeOn(a),a);i.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(a,l){if(l.hasAttribute(a)){const c=new Set(l.getAttribute(a).split(","));c.delete(s.name),c.size==0?i.writer.removeAttribute(a,l):i.writer.setAttribute(a,Array.from(c).join(","),l)}}}}function zq(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const s=n(t.attributeOldValue,i,t),r=n(t.attributeNewValue,i,t);if(!s&&!r)return;i.consumable.consume(t.item,e.name);const o=i.mapper.toViewElement(t.item),a=i.writer;if(!o)throw new V("conversion-attribute-to-attribute-on-text",i.dispatcher,t);if(t.attributeOldValue!==null&&s)if(s.key=="class"){const l=Wn(s.value);for(const c of l)a.removeClass(c,o)}else if(s.key=="style"){const l=Object.keys(s.value);for(const c of l)a.removeStyle(c,o)}else a.removeAttribute(s.key,o);if(t.attributeNewValue!==null&&r)if(r.key=="class"){const l=Wn(r.value);for(const c of l)a.addClass(c,o)}else if(r.key=="style"){const l=Object.keys(r.value);for(const c of l)a.setStyle(c,r.value[c],o)}else a.setAttribute(r.key,r.value,o)}}function Hq(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof vs||t.item instanceof _s)&&!t.item.is("$textProxy"))return;const s=my(n,t,i);if(!s||!i.consumable.consume(t.item,e.name))return;const r=i.writer,o=WP(r,s),a=r.document.selection;if(t.item instanceof vs||t.item instanceof _s)r.wrap(a.getFirstRange(),o);else{const l=i.mapper.toViewRange(t.range),c=r.wrap(l,o);for(const u of c.getItems())if(u.is("attributeElement")&&u.isSimilar(o)){i.mapper.bindElementToMarker(u,t.markerName);break}}}}function Wq(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof Kt))return;const s=my(n,t,i);if(!s||!i.consumable.test(t.item,e.name))return;const r=i.mapper.toViewElement(t.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(t.item,e.name);for(const a of de._createIn(t.item))i.consumable.consume(a.item,e.name);r.getCustomProperty("addHighlight")(r,s,i.writer),i.mapper.bindElementToMarker(r,t.markerName)}}}function jq(n){return(e,t,i)=>{if(t.markerRange.isCollapsed)return;const s=my(n,t,i);if(!s)return;const r=WP(i.writer,s),o=i.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(a),r):a.getCustomProperty("removeHighlight")(a,s.id,i.writer);i.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function qq(n){const e=jP(n.model),t=_u(n.view,"container");return e.attributes.length&&(e.children=!0),i=>{i.on(`insert:${e.name}`,Dq(t,GP(e)),{priority:n.converterPriority||"normal"}),(e.children||e.attributes.length)&&i.on("reduceChanges",KP(e),{priority:"low"})}}function Kq(n){const e=jP(n.model),t=_u(n.view,"container");return e.children=!0,i=>{if(i._conversionApi.schema.checkChild(e.name,"$text"))throw new V("conversion-element-to-structure-disallowed-text",i,{elementName:e.name});i.on(`insert:${e.name}`,Fq(t,GP(e)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",KP(e),{priority:"low"})}}function Gq(n){n=wa(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)n.view[s]=_u(n.view[s],"attribute");else n.view=_u(n.view,"attribute");const i=qP(n);return s=>{s.on(t,Mq(i),{priority:n.converterPriority||"normal"})}}function Qq(n){n=wa(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)n.view[s]=_1(n.view[s]);else n.view=_1(n.view);const i=qP(n);return s=>{s.on(t,zq(i),{priority:n.converterPriority||"normal"})}}function Yq(n){const e=_u(n.view,"ui");return t=>{t.on(`addMarker:${n.model}`,Nq(e),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,Lq(),{priority:n.converterPriority||"normal"})}}function Jq(n){n=wa(n);const e=n.model;let t=n.view;return t||(t=i=>({group:e,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${e}`,$q(t),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${e}`,Uq(t),{priority:n.converterPriority||"normal"})}}function Xq(n){return e=>{e.on(`addMarker:${n.model}`,Hq(n.view),{priority:n.converterPriority||"normal"}),e.on(`addMarker:${n.model}`,Wq(n.view),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,jq(n.view),{priority:n.converterPriority||"normal"})}}function jP(n){return typeof n=="string"&&(n={name:n}),n.attributes?Array.isArray(n.attributes)||(n.attributes=[n.attributes]):n.attributes=[],n.children=!!n.children,n}function _u(n,e){return typeof n=="function"?n:(t,i)=>Zq(n,i,e)}function Zq(n,e,t){typeof n=="string"&&(n={name:n});let i;const s=e.writer,r=Object.assign({},n.attributes);if(t=="container")i=s.createContainerElement(n.name,r);else if(t=="attribute"){const o={priority:n.priority||Jo.DEFAULT_PRIORITY};i=s.createAttributeElement(n.name,r,o)}else i=s.createUIElement(n.name,r);if(n.styles){const o=Object.keys(n.styles);for(const a of o)s.setStyle(a,n.styles[a],i)}if(n.classes){const o=n.classes;if(typeof o=="string")s.addClass(o,i);else for(const a of o)s.addClass(a,i)}return i}function qP(n){return n.model.values?(e,t,i)=>{const s=n.view[e];return s?s(e,t,i):null}:n.view}function _1(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function my(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function eK(n){return(e,t)=>{if(!e.is("element",n.name))return!1;if(t.type=="attribute"){if(n.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function KP(n){const e=eK(n);return(t,i)=>{const s=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const r of i.changes){const o=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!o||!e(o,r)){s.push(r);continue}if(!i.reconvertedElements.has(o)){i.reconvertedElements.add(o);const a=_e._createBefore(o);let l=s.length;for(let c=s.length-1;c>=0;c--){const u=s[c],f=(u.type=="attribute"?u.range.start:u.position).compareWith(a);if(f=="before"||u.type=="remove"&&f=="same")break;l=c}s.splice(l,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}i.changes=s}}function GP(n){return(e,t,i={})=>{const s=["insert"];for(const r of n.attributes)e.hasAttribute(r)&&s.push(`attribute:${r}`);return s.every(r=>t.test(e,r))?(i.preflight||s.forEach(r=>t.consume(e,r)),!0):!1}}function tK(n,e,t){return(i,s)=>{const r=i.createContainerElement("$slot");let o=null;if(s==="children")o=Array.from(n.getChildren());else if(typeof s=="function")o=Array.from(n.getChildren()).filter(a=>s(a));else throw new V("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:s});return e.set(r,o),r}}function nK(n,e,t){const i=Array.from(e.values()).flat(),s=new Set(i);if(s.size!=i.length)throw new V("conversion-slot-filter-overlap",t.dispatcher,{element:n});if(s.size!=n.childCount)throw new V("conversion-slot-filter-incomplete",t.dispatcher,{element:n})}function iK(n,e,t,i){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let s=null,r=null;for([s,r]of e)QP(n,r,t,i),t.writer.move(t.writer.createRangeIn(s),t.writer.createPositionBefore(s)),t.writer.remove(s);t.mapper.off("modelToViewPosition",o);function o(a,l){const c=l.modelPosition.nodeAfter,u=r.indexOf(c);u<0||(l.viewPosition=l.mapper.findPositionIn(s,u))}}function QP(n,e,t,i){for(const s of e)sK(n.root,s,t,i)||t.convertItem(s)}function sK(n,e,t,i){const{writer:s,mapper:r}=t;if(!i.reconversion)return!1;const o=r.toViewElement(e);return!o||o.root==n||!t.canReuseView(o)?!1:(s.move(s.createRangeOn(o),r.toViewPosition(_e._createBefore(e))),!0)}function rK(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function YP(n){const{schema:e,document:t}=n.model;for(const i of t.getRootNames()){const s=t.getRoot(i);if(s.isEmpty&&!e.checkChild(s,"$text")&&e.checkChild(s,"paragraph"))return n.insertElement("paragraph",s),!0}return!1}function JP(n,e,t){const i=t.createContext(n);return!(!t.checkChild(i,"paragraph")||!t.checkChild(i.push("paragraph"),e))}function XP(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oK extends UP{elementToElement(e){return this.add(ZP(e))}elementToAttribute(e){return this.add(cK(e))}attributeToAttribute(e){return this.add(uK(e))}elementToMarker(e){return this.add(dK(e))}dataToMarker(e){return this.add(fK(e))}}function C1(){return(n,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:i,modelCursor:s}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=i,e.modelCursor=s}}}function aK(){return(n,e,{schema:t,consumable:i,writer:s})=>{let r=e.modelCursor;if(!i.test(e.viewItem))return;if(!t.checkChild(r,"$text")){if(!JP(r,"$text",t)||e.viewItem.data.trim().length==0)return;const a=r.nodeBefore;r=XP(r,s),a&&a.is("element","$marker")&&(s.move(s.createRangeOn(a),r),r=s.createPositionAfter(a))}i.consume(e.viewItem);const o=s.createText(e.viewItem.data);s.insert(o,r),e.modelRange=s.createRange(r,r.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function lK(n,e){return(t,i)=>{const s=i.newSelection,r=[];for(const a of s.getRanges())r.push(e.toModelRange(a));const o=n.createSelection(r,{backward:s.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function ZP(n){n=wa(n);const e=Zg(n),t=py(n.view),i=t?`element:${t}`:"element";return s=>{s.on(i,e,{priority:n.converterPriority||"normal"})}}function cK(n){n=wa(n),eI(n);const e=tI(n,!1),t=py(n.view),i=t?`element:${t}`:"element";return s=>{s.on(i,e,{priority:n.converterPriority||"low"})}}function uK(n){n=wa(n);let e=null;(typeof n.view=="string"||n.view.key)&&(e=pK(n)),eI(n,e);const t=tI(n,!0);return i=>{i.on("element",t,{priority:n.converterPriority||"low"})}}function dK(n){const e=bK(n.model);return ZP({...n,model:e})}function fK(n){n=wa(n),n.model||(n.model=s=>s?n.view+":"+s:n.view);const e={view:n.view,model:n.model},t=Zg(k1(e,"start")),i=Zg(k1(e,"end"));return s=>{s.on(`element:${n.view}-start`,t,{priority:n.converterPriority||"normal"}),s.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});const r=so.get("low"),o=so.get("highest"),a=so.get(n.converterPriority)/o;s.on("element",hK(e),{priority:r+a})}}function hK(n){return(e,t,i)=>{const s=`data-${n.view}`;if(!i.consumable.test(t.viewItem,{attributes:s+"-end-after"})&&!i.consumable.test(t.viewItem,{attributes:s+"-start-after"})&&!i.consumable.test(t.viewItem,{attributes:s+"-end-before"})&&!i.consumable.test(t.viewItem,{attributes:s+"-start-before"}))return;t.modelRange||Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor)),i.consumable.consume(t.viewItem,{attributes:s+"-end-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-end-after").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-start-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-start-after").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-end-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-end-before").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-start-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-start-before").split(","));function r(o,a){for(const l of a){const c=n.model(l,i),u=i.writer.createElement("$marker",{"data-name":c});i.writer.insert(u,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function py(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Zg(n){const e=new $h(n.view);return(t,i,s)=>{const r=e.match(i.viewItem);if(!r)return;const o=r.match;if(o.name=!0,!s.consumable.test(i.viewItem,o))return;const a=mK(n.model,i.viewItem,s);a&&s.safeInsert(a,i.modelCursor)&&(s.consumable.consume(i.viewItem,o),s.convertChildren(i.viewItem,a),s.updateConversionResult(a,i))}}function mK(n,e,t){return n instanceof Function?n(e,t):t.writer.createElement(n)}function pK(n){typeof n.view=="string"&&(n.view={key:n.view});const e=n.view.key;let t;if(e=="class"||e=="style")t={[e=="class"?"classes":"styles"]:n.view.value};else{const i=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;t={attributes:{[e]:i}}}return n.view.name&&(t.name=n.view.name),n.view=t,e}function eI(n,e=null){const t=e===null?!0:r=>r.getAttribute(e),i=typeof n.model!="object"?n.model:n.model.key,s=typeof n.model!="object"||typeof n.model.value>"u"?t:n.model.value;n.model={key:i,value:s}}function tI(n,e){const t=new $h(n.view);return(i,s,r)=>{if(!s.modelRange&&e)return;const o=t.match(s.viewItem);if(!o||(gK(n.view,s.viewItem)?o.match.name=!0:delete o.match.name,!r.consumable.test(s.viewItem,o.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(s.viewItem,r):n.model.value;if(l===null)return;s.modelRange||Object.assign(s,r.convertChildren(s.viewItem,s.modelCursor)),vK(s.modelRange,{key:a,value:l},e,r)&&(r.consumable.test(s.viewItem,{name:!0})&&(o.match.name=!0),r.consumable.consume(s.viewItem,o.match))}}function gK(n,e){const t=typeof n=="function"?n(e):n;return typeof t=="object"&&!py(t)?!1:!t.classes&&!t.attributes&&!t.styles}function vK(n,e,t,i){let s=!1;for(const r of Array.from(n.getItems({shallow:t})))i.schema.checkAttribute(r,e.key)&&(s=!0,!r.hasAttribute(e.key)&&i.writer.setAttribute(e.key,e.value,r));return s}function bK(n){return(e,t)=>{const i=typeof n=="string"?n:n(e,t);return t.writer.createElement("$marker",{"data-name":i})}}function k1(n,e){const t=(i,s)=>{const r=i.getAttribute("name"),o=n.model(r,s);return s.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${e}`,model:t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yK(n){n.document.registerPostFixer(e=>wK(e,n))}function wK(n,e){const t=e.document.selection,i=e.schema,s=[];let r=!1;for(const o of t.getRanges()){const a=nI(o,i);a&&!a.isEqual(o)?(s.push(a),r=!0):s.push(o)}return r&&n.setSelection(SK(s),{backward:t.isBackward}),!1}function nI(n,e){return n.isCollapsed?_K(n,e):CK(n,e)}function _K(n,e){const t=n.start,i=e.getNearestSelectionRange(t);if(!i){const r=t.getAncestors().reverse().find(o=>e.isObject(o));return r?de._createOn(r):null}if(!i.isCollapsed)return i;const s=i.start;return t.isEqual(s)?null:new de(s)}function CK(n,e){const{start:t,end:i}=n,s=e.checkChild(t,"$text"),r=e.checkChild(i,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(i);if(o===a){if(s&&r)return null;if(kK(t,i,e)){const d=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),h=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),p=d?d.start:t,m=h?h.end:i;return new de(p,m)}}const l=o&&!o.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const u=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,d=l&&(!u||!E1(t.nodeAfter,e)),f=c&&(!u||!E1(i.nodeBefore,e));let h=t,p=i;return d&&(h=_e._createBefore(S1(o,e))),f&&(p=_e._createAfter(S1(a,e))),new de(h,p)}return null}function S1(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function kK(n,e,t){const i=n.nodeAfter&&!t.isLimit(n.nodeAfter)||t.checkChild(n,"$text"),s=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return i||s}function SK(n){const e=[...n],t=new Set;let i=1;for(;i<e.length;){const r=e[i],o=e.slice(0,i);for(const[a,l]of o.entries())if(!t.has(a)){if(r.isEqual(l))t.add(a);else if(r.isIntersecting(l)){t.add(a),t.add(i);const c=r.getJoined(l);e.push(c)}}i++}return e.filter((r,o)=>!t.has(o))}function E1(n,e){return n&&e.isSelectable(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EK extends $t(){constructor(e,t){super(),this.model=e,this.view=new hq(t),this.mapper=new $P,this.downcastDispatcher=new BP({mapper:this.mapper,schema:e.schema});const i=this.model.document,s=i.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(i.differ,r,o),this.downcastDispatcher.convertSelection(s,r,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",lK(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",TK(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",zP(),{priority:"lowest"}),this.downcastDispatcher.on("insert",HP(),{priority:"lowest"}),this.downcastDispatcher.on("remove",Pq(),{priority:"low"}),this.downcastDispatcher.on("selection",Rq(),{priority:"high"}),this.downcastDispatcher.on("selection",Iq(),{priority:"low"}),this.downcastDispatcher.on("selection",Oq(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new CP(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new V("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function TK(n,e,t){return(i,s)=>{if(!(t.document.isComposing&&!mt.isAndroid))for(let r=0;r<s.targetRanges.length;r++){const o=s.targetRanges[r],a=n.toModelRange(o),l=nI(a,e);!l||l.isEqual(a)||(s.targetRanges[r]=n.toViewRange(l))}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zc{constructor(){this._consumables=new Map}add(e,t){let i;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?i=this._consumables.get(e):(i=new AK(e),this._consumables.set(e,i)),i.add(t)}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const o of i)o=="style"||o=="class"||t.attributes.push(o);const s=e.getClassNames();for(const o of s)t.classes.push(o);const r=e.getStyleNames();for(const o of r)t.styles.push(o);return t}static createFrom(e,t){if(t||(t=new zc),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,zc.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=zc.createFrom(i,t);return t}}const Dd=["attributes","classes","styles"];class AK{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Dd)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Dd)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Dd)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Dd)t in e&&this._revert(t,e[t])}_add(e,t){const i=Un(t)?t:[t],s=this._consumables[e];for(const r of i){if(e==="attributes"&&(r==="class"||r==="style"))throw new V("viewconsumable-invalid-attribute",this);if(s.set(r,!0),e==="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(r))s.set(o,!0)}}_test(e,t){const i=Un(t)?t:[t],s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles",a=this._test(o,[...this._consumables[o].keys()]);if(a!==!0)return a}else{const o=s.get(r);if(o===void 0)return null;if(!o)return!1}return!0}_consume(e,t){const i=Un(t)?t:[t],s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles";this._consume(o,[...this._consumables[o].keys()])}else if(s.set(r,!1),e=="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(r))s.set(o,!1)}_revert(e,t){const i=Un(t)?t:[t],s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles";this._revert(o,[...this._consumables[o].keys()])}else s.get(r)===!1&&s.set(r,!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xK extends $t(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Zo(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Zo(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new V("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new V("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const i=this.getDefinition(e.last);return i?i.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof _e){const i=e.nodeBefore,s=e.nodeAfter;if(!(i instanceof Kt))throw new V("schema-check-merge-no-element-before",this);if(!(s instanceof Kt))throw new V("schema-check-merge-no-element-after",this);return this.checkMerge(i,s)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,s])=>{if(!s)return;const r=e(i,s);typeof r=="boolean"&&(t.stop(),t.return=r)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,s])=>{const r=e(i,s);typeof r=="boolean"&&(t.stop(),t.return=r)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof _e?t=e.parent:t=(e instanceof de?[e]:Array.from(e.getRanges())).reduce((s,r)=>{const o=r.getCommonAncestor();return s?s.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Gt("",e.getAttributes())];return this.checkAttribute(s,t)}else{const i=e.getRanges();for(const s of i)for(const r of s)if(this.checkAttribute(r.item,t))return!0}return!1}*getValidRanges(e,t){e=WK(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new de(e);let i,s;const r=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(i=new Ws({boundaries:de._createIn(r),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(s=new Ws({boundaries:de._createIn(r),startPosition:e}));for(const o of HK(i,s)){const a=o.walker==i?"elementEnd":"elementStart",l=o.value;if(l.type==a&&this.isObject(l.item))return de._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new de(l.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const s=i.model;for(const[r,o]of Object.entries(t))s.schema.checkAttribute(e,r)&&i.setAttribute(r,o,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))T1(this,i,t);else{const r=de._createIn(i).getPositions();for(const o of r){const a=o.nodeBefore||o.parent;T1(this,a,t)}}}getAttributesWithProperty(e,t,i){const s={};for(const[r,o]of e.getAttributes()){const a=this.getAttributeProperties(r);a[t]!==void 0&&(i===void 0||i===a[t])&&(s[r]=o)}return s}createContext(e){return new Zo(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const s of i)e[s]=PK(t[s],s);for(const s of i)IK(e,s);for(const s of i)OK(e,s);for(const s of i)RK(e,s);for(const s of i)MK(e,s),DK(e,s);for(const s of i)FK(e,s),NK(e,s),LK(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const s=t.getItem(i);if(e.allowIn.includes(s.name)){if(i==0)return!0;{const r=this.getDefinition(s);return this._checkContextMatch(r,t,i-1)}}else return!1}*_getValidRangesForRange(e,t){let i=e.start,s=e.start;for(const r of e.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(de._createIn(r),t)),this.checkAttribute(r,t)||(i.isEqual(s)||(yield new de(i,s)),i=_e._createAfter(r)),s=_e._createAfter(r);i.isEqual(s)||(yield new de(i,s))}}class Zo{constructor(e){if(e instanceof Zo)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(zK)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Zo([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function PK(n,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return $K(n,t),Ro(n,t,"allowIn"),Ro(n,t,"allowContentOf"),Ro(n,t,"allowWhere"),Ro(n,t,"allowAttributes"),Ro(n,t,"allowAttributesOf"),Ro(n,t,"allowChildren"),Ro(n,t,"inheritTypesFrom"),BK(n,t),t}function IK(n,e){const t=n[e];for(const i of t.allowChildren){const s=n[i];s&&s.allowIn.push(e)}t.allowChildren.length=0}function OK(n,e){for(const t of n[e].allowContentOf)n[t]&&VK(n,t).forEach(s=>{s.allowIn.push(e)});delete n[e].allowContentOf}function RK(n,e){for(const t of n[e].allowWhere){const i=n[t];if(i){const s=i.allowIn;n[e].allowIn.push(...s)}}delete n[e].allowWhere}function MK(n,e){for(const t of n[e].allowAttributesOf){const i=n[t];if(i){const s=i.allowAttributes;n[e].allowAttributes.push(...s)}}delete n[e].allowAttributesOf}function DK(n,e){const t=n[e];for(const i of t.inheritTypesFrom){const s=n[i];if(s){const r=Object.keys(s).filter(o=>o.startsWith("is"));for(const o of r)o in t||(t[o]=s[o])}}delete t.inheritTypesFrom}function FK(n,e){const t=n[e],i=t.allowIn.filter(s=>n[s]);t.allowIn=Array.from(new Set(i))}function NK(n,e){const t=n[e];for(const i of t.allowIn)n[i].allowChildren.push(e)}function LK(n,e){const t=n[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function $K(n,e){for(const t of n){const i=Object.keys(t).filter(s=>s.startsWith("is"));for(const s of i)e[s]=!!t[s]}}function Ro(n,e,t){for(const i of n){const s=i[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function BK(n,e){for(const t of n){const i=t.inheritAllFrom;i&&(e.allowContentOf.push(i),e.allowWhere.push(i),e.allowAttributesOf.push(i),e.inheritTypesFrom.push(i))}}function VK(n,e){const t=n[e];return UK(n).filter(i=>i.allowIn.includes(t.name))}function UK(n){return Object.keys(n).map(e=>n[e])}function zK(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(e){return n.getAttribute(e)}}}function*HK(n,e){let t=!1;for(;!t;){if(t=!0,n){const i=n.next();i.done||(t=!1,yield{walker:n,value:i.value})}if(e){const i=e.next();i.done||(t=!1,yield{walker:e,value:i.value})}}}function*WK(n){for(const e of n)yield*e.getMinimalFlatRanges()}function T1(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jK extends Vt(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,i)=>this._convertItem(t,i),convertChildren:(t,i)=>this._convertChildren(t,i),safeInsert:(t,i)=>this._safeInsert(t,i),updateConversionResult:(t,i)=>this._updateConversionResult(t,i),splitToAllowedParent:(t,i)=>this._splitToAllowedParent(t,i),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=KK(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=zc.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),r=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const o of Array.from(this._modelCursor.parent.getChildren()))t.append(o,r);r.markers=qK(r,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof de))throw new V("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:_e._createAt(t,0);const s=new de(i);for(const r of Array.from(e.getChildren())){const o=this._convertItem(r,i);o.modelRange instanceof de&&(s.end=o.modelRange.end,i=o.modelCursor)}return{modelRange:s,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return i?(this.conversionApi.writer.insert(e,i.position),!0):!1}_updateConversionResult(e,t){const i=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(i[i.length-1])));const r=this._cursorParents.get(e);r?t.modelCursor=s.createPositionAt(r,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:s}=this.conversionApi;let r=i.findAllowedParent(t,e);if(r){if(r===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return JP(t,e,i)?{position:XP(t,s)}:null;const o=this.conversionApi.writer.split(t,r),a=[];for(const c of o.range.getWalker())if(c.type=="elementEnd")a.push(c.item);else{const u=a.pop(),d=c.item;this._registerSplitPair(u,d)}const l=o.range.end.parent;return this._cursorParents.set(e,l),{position:o.position,cursorParent:l}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function qK(n,e){const t=new Set,i=new Map,s=de._createIn(n).getItems();for(const r of s)r.is("element","$marker")&&t.add(r);for(const r of t){const o=r.getAttribute("data-name"),a=e.createPositionBefore(r);i.has(o)?i.get(o).end=a.clone():i.set(o,new de(a.clone())),e.remove(r)}return i}function KK(n,e){let t;for(const i of new Zo(n)){const s={};for(const o of i.getAttributeKeys())s[o]=i.getAttribute(o);const r=e.createElement(i.name,s);t&&e.insert(r,t),t=_e._createAt(r,0)}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class GK{getHtml(e){const i=document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iI{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new RP(e,{renderingMode:"data"}),this.htmlWriter=new GK}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);return i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QK extends Vt(){constructor(e,t){super(),this.model=e,this.mapper=new $P,this.downcastDispatcher=new BP({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",zP(),{priority:"lowest"}),this.downcastDispatcher.on("insert",HP(),{priority:"lowest"}),this.upcastDispatcher=new jK({schema:e.schema}),this.viewDocument=new EP(t),this.stylesProcessor=t,this.htmlProcessor=new iI(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new AP(this.viewDocument),this.upcastDispatcher.on("text",aK(),{priority:"lowest"}),this.upcastDispatcher.on("element",C1(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",C1(),{priority:"lowest"}),$t().prototype.decorate.call(this,"init"),$t().prototype.decorate.call(this,"set"),$t().prototype.decorate.call(this,"get"),$t().prototype.decorate.call(this,"toView"),$t().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},YP)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new V("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||Jt("datacontroller-get-detached-root",this),i==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const r=de._createIn(e),o=new Xo(i);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:YK(e);return this.downcastDispatcher.convert(r,a,s,t),o}init(e){if(this.model.document.version)throw new V("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new V("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const s of Object.keys(t)){const r=this.model.document.getRoot(s);i.insert(this.parse(t[s],r),r,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new V("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const r of Object.keys(i)){const o=this.model.document.getRoot(r);s.remove(s.createRangeIn(o)),s.insert(this.parse(i[r],o),o,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function YK(n){const e=[],t=n.root.document;if(!t)return new Map;const i=de._createIn(n);for(const s of t.model.markers){const r=s.getRange(),o=r.isCollapsed,a=r.start.isEqual(i.start)||r.end.isEqual(i.end);if(o&&a)e.push([s.name,r]);else{const l=i.getIntersection(r);l&&e.push([s.name,l])}}return e.sort(([s,r],[o,a])=>{if(r.end.compareWith(a.start)!=="after")return 1;if(r.start.compareWith(a.end)!=="before")return-1;switch(r.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(s)}}}),new Map(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class JK{constructor(e,t){this._helpers=new Map,this._downcast=Wn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Wn(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new V("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new V("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of mp(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of mp(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of mp(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new V("conversion-group-exists",this);const s=i?new xq(t):new oK(t);this._helpers.set(e,s)}}function*mp(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],s=n.upcastAlso?n.upcastAlso[e]:void 0;yield*A1(t,i,s)}else yield*A1(n.model,n.view,n.upcastAlso)}function*A1(n,e,t){if(yield{model:n,view:e},t)for(const i of Wn(t))yield{model:n,view:i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ji{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function gy(n,e){const t=rI(e),i=t.reduce((o,a)=>o+a.offsetSize,0),s=n.parent;Su(n);const r=n.index;return s._insertChild(r,t),ku(s,r+t.length),ku(s,r),new de(n,n.getShiftedBy(i))}function sI(n){if(!n.isFlat)throw new V("operation-utils-remove-range-not-flat",this);const e=n.start.parent;Su(n.start),Su(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return ku(e,n.start.index),t}function Cu(n,e){if(!n.isFlat)throw new V("operation-utils-move-range-not-flat",this);const t=sI(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),gy(e,t)}function XK(n,e,t){Su(n.start),Su(n.end);for(const i of n.getItems({shallow:!0})){const s=i.is("$textProxy")?i.textNode:i;t!==null?s._setAttribute(e,t):s._removeAttribute(e),ku(s.parent,s.index)}ku(n.end.parent,n.end.index)}function rI(n){const e=[];function t(i){if(typeof i=="string")e.push(new Gt(i));else if(i instanceof ps)e.push(new Gt(i.data,i.getAttributes()));else if(i instanceof Ta)e.push(i);else if(Wi(i))for(const s of i)t(s)}t(n);for(let i=1;i<e.length;i++){const s=e[i],r=e[i-1];s instanceof Gt&&r instanceof Gt&&oI(s,r)&&(e.splice(i-1,2,new Gt(r.data+s.data,r.getAttributes())),i--)}return e}function ku(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&oI(t,i)){const s=new Gt(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,s)}}function Su(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const r=new Gt(e.data.substr(0,i),e.getAttributes()),o=new Gt(e.data.substr(i),e.getAttributes());t._insertChild(s,[r,o])}}function oI(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;i.next()}return i.next().done}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ot extends ji{constructor(e,t,i,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new Ot(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ot(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,s=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new V("move-operation-nodes-do-not-exist",this);if(e===t&&i<s&&s<i+this.howMany)throw new V("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ai(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=i&&this.targetPosition.path[r]<i+this.howMany)throw new V("move-operation-node-into-itself",this)}}_execute(){Cu(de._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=_e.fromJSON(e.sourcePosition,t),s=_e.fromJSON(e.targetPosition,t);return new this(i,e.howMany,s,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nn extends ji{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Vc(rI(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new Vc([...this.nodes].map(i=>i._clone(!0))),t=new Nn(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new _e(e,[0]);return new Ot(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new V("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Vc([...e].map(t=>t._clone(!0))),gy(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const r of e.nodes)r.name?i.push(Kt.fromJSON(r)):i.push(Gt.fromJSON(r));const s=new Nn(_e.fromJSON(e.position,t),i,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nt extends ji{constructor(e,t,i,s,r){super(r),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new _e(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new de(this.splitPosition,e)}clone(){return new Nt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new _e(e,[0]);return new un(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new V("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new V("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new V("split-operation-graveyard-position-invalid",this)}else throw new V("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Cu(de._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();gy(this.insertionPosition,i)}const t=new de(_e._createAt(e,this.splitPosition.offset),_e._createAt(e,e.maxOffset));Cu(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new _e(e.root,t,"toPrevious")}static fromJSON(e,t){const i=_e.fromJSON(e.splitPosition,t),s=_e.fromJSON(e.insertionPosition,t),r=e.graveyardPosition?_e.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,s,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class un extends ji{constructor(e,t,i,s,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new _e(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new de(this.sourcePosition,e)}clone(){return new un(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new _e(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Nt(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new V("merge-operation-how-many-invalid",this)}else throw new V("merge-operation-target-position-invalid",this);else throw new V("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=de._createIn(e);Cu(t,this.targetPosition),Cu(de._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=_e.fromJSON(e.sourcePosition,t),s=_e.fromJSON(e.targetPosition,t),r=_e.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,s,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ci extends ji{constructor(e,t,i,s,r,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=r,this._markers=s}get type(){return"marker"}clone(){return new Ci(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ci(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Ci(e.name,e.oldRange?de.fromJSON(e.oldRange,t):null,e.newRange?de.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vn extends ji{constructor(e,t,i,s,r){super(r),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new vn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new vn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new V("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!vl(e.getAttribute(this.key),this.oldValue))throw new V("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new V("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){vl(this.oldValue,this.newValue)||XK(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new vn(de.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kn extends ji{get type(){return"noop"}clone(){return new kn(this.baseVersion)}getReversed(){return new kn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ki extends ji{constructor(e,t,i,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}clone(){return new ki(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ki(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof Kt){if(e.name!==this.oldName)throw new V("rename-operation-wrong-name",this)}else throw new V("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new ki(_e.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cr extends ji{constructor(e,t,i,s,r){super(r),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new Cr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Cr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new V("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new V("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new V("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new V("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Cr(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xs extends ji{constructor(e,t,i,s,r){if(super(r),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=s,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}clone(){return new Xs(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Xs(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const e=this._document.getRoot(this.rootName);if(e.isAttached()&&this.isAdd)throw new V("root-operation-root-attached",this);if(!e.isAttached()&&!this.isAdd)throw new V("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Xs(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ls={};ls[vn.className]=vn;ls[Nn.className]=Nn;ls[Ci.className]=Ci;ls[Ot.className]=Ot;ls[kn.className]=kn;ls[ji.className]=ji;ls[ki.className]=ki;ls[Cr.className]=Cr;ls[Xs.className]=Xs;ls[Nt.className]=Nt;ls[un.className]=un;class ZK{static fromJSON(e,t){return ls[e.__className].fromJSON(e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ev=new Map;function xt(n,e,t){let i=ev.get(n);i||(i=new Map,ev.set(n,i)),i.set(e,t)}function eG(n,e){const t=ev.get(n);return t&&t.has(e)?t.get(e):tG}function tG(n){return[n]}function x1(n,e,t={}){const i=eG(n.constructor,e.constructor);try{return n=n.clone(),i(n,e,t)}catch(s){throw s}}function nG(n,e,t){n=n.slice(),e=e.slice();const i=new iG(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const s=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:s};const r=new WeakMap;for(const l of n)r.set(l,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let a=0;for(;a<n.length;){const l=n[a],c=r.get(l);if(c==e.length){a++;continue}const u=e[c],d=x1(l,u,i.getContext(l,u,!0)),f=x1(u,l,i.getContext(u,l,!1));i.updateRelation(l,u),i.setOriginalOperations(d,l),i.setOriginalOperations(f,u);for(const h of d)r.set(h,c+f.length);n.splice(a,1,...d),e.splice(c,1,...f)}if(t.padWithNoOps){const l=n.length-o.originalOperationsACount,c=e.length-o.originalOperationsBCount;I1(n,c-l),I1(e,l-c)}return P1(n,o.nextBaseVersionB),P1(e,o.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:s}}class iG{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,i||s)}updateRelation(e,t){if(e instanceof Ot)t instanceof un?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Ot&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Nt){if(t instanceof un)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Ot)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=de._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const s=i.end.offset-e.splitPosition.offset,r=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:s,offset:r})}}}else if(e instanceof un)t instanceof un?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Nt&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof Ci){const i=e.newRange;if(!i)return;if(t instanceof Ot){const s=de._createFromPositionAndShift(t.sourcePosition,t.howMany),r=s.containsPosition(i.start)||s.start.isEqual(i.start),o=s.containsPosition(i.end)||s.end.isEqual(i.end);(r||o)&&!s.containsRange(i)&&this._setRelation(e,t,{side:r?"left":"right",path:r?i.start.path.slice():i.end.path.slice()})}else if(t instanceof un){const s=i.start.isEqual(t.targetPosition),r=i.start.isEqual(t.deletionPosition),o=i.end.isEqual(t.deletionPosition),a=i.end.isEqual(t.sourcePosition);(s||r||o||a)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),s=this._history.getUndoneOperation(i);if(!s)return null;const r=this.originalOperations.get(e),o=this._relations.get(r);return o&&o.get(s)||null}_setRelation(e,t,i){const s=this.originalOperations.get(e),r=this.originalOperations.get(t);let o=this._relations.get(s);o||(o=new Map,this._relations.set(s,o)),o.set(r,i)}}function P1(n,e){for(const t of n)t.baseVersion=e++}function I1(n,e){for(let t=0;t<e;t++)n.push(new kn(0))}xt(vn,vn,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(r=>new vn(r,n.key,n.oldValue,n.newValue,0)),s=n.range.getIntersection(e.range);return s&&t.aIsStrong&&i.push(new vn(s,e.key,e.newValue,n.newValue,0)),i.length==0?[new kn(0)]:i}else return[n]});xt(vn,Nn,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const i=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new vn(s,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const s=aI(e,n.key,n.oldValue);s&&i.unshift(s)}return i}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]});function aI(n,e,t){const s=n.nodes.getNode(0).getAttribute(e);if(s==t)return null;const r=new de(n.position,n.position.getShiftedBy(n.howMany));return new vn(r,e,s,t,0)}xt(vn,un,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(de._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(s=>new vn(s,n.key,n.oldValue,n.newValue,n.baseVersion))});xt(vn,Ot,(n,e)=>sG(n.range,e).map(i=>new vn(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function sG(n,e){const t=de._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,s=[];t.containsRange(n,!0)?i=n:n.start.hasSameParentAs(t.start)?(s=n.getDifference(t),i=n.getIntersection(t)):s=[n];const r=[];for(let o of s){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),l=o.start.hasSameParentAs(a),c=o._getTransformedByInsertion(a,e.howMany,l);r.push(...c)}return i&&r.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),r}xt(vn,Nt,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new de(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]});xt(Nn,vn,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=aI(n,e.key,e.newValue);i&&t.push(i)}return t});xt(Nn,Nn,(n,e,t)=>n.position.isEqual(e.position)&&t.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(e),[n]));xt(Nn,Ot,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));xt(Nn,Nt,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n]));xt(Nn,un,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n]));xt(Ci,Nn,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n]));xt(Ci,Ci,(n,e,t)=>{if(n.name==e.name)if(t.aIsStrong)n.oldRange=e.newRange?e.newRange.clone():null;else return[new kn(0)];return[n]});xt(Ci,un,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n]));xt(Ci,Ot,(n,e,t)=>{if(n.oldRange&&(n.oldRange=de._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){if(t.abRelation){const i=de._createFromRanges(n.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(n.newRange.start))return n.newRange.end=i.end,n.newRange.start.path=t.abRelation.path,[n];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(n.newRange.end))return n.newRange.start=i.start,n.newRange.end.path=t.abRelation.path,[n]}n.newRange=de._createFromRanges(n.newRange._getTransformedByMoveOperation(e))}return[n]});xt(Ci,Nt,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?n.newRange.start=_e._createAt(e.insertionPosition):n.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(n.newRange.start=_e._createAt(e.moveTargetPosition)),n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?n.newRange.end=_e._createAt(e.moveTargetPosition):n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=_e._createAt(e.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]});xt(un,Nn,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n]));xt(un,un,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new _e(e.graveyardPosition.root,i),n.howMany=0,[n]}else return[new kn(0)];if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),c=n.targetPosition._getTransformedByMergeOperation(e);return[new Ot(l,n.howMany,c,0)]}else return[new kn(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),(!n.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});xt(un,Ot,(n,e,t)=>{const i=de._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new kn(0)]:(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])});xt(un,Nt,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,s=e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition);if(i||s||t.abRelation=="mergeTargetNotMoved")return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n]}if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]});xt(Ot,Nn,(n,e)=>{const i=de._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]});xt(Ot,Ot,(n,e,t)=>{const i=de._createFromPositionAndShift(n.sourcePosition,n.howMany),s=de._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(e.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),O1(n,e)&&O1(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(s,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),sl([i],a);if(s.containsPosition(n.targetPosition)&&s.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),sl([i],a);const u=ai(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(u=="prefix"||u=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),sl([i],a);n.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?r=!0:n.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(r=!1);const d=[],f=i.getDifference(s);for(const p of f){p.start=p.start._getTransformedByDeletion(e.sourcePosition,e.howMany),p.end=p.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const m=ai(p.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",b=p._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,m);d.push(...b)}const h=i.getIntersection(s);return h!==null&&r&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.length===0?d.push(h):d.length==1?s.start.isBefore(i.start)||s.start.isEqual(i.start)?d.unshift(h):d.push(h):d.splice(1,0,h)),d.length===0?[new kn(n.baseVersion)]:sl(d,a)});xt(Ot,Nt,(n,e,t)=>{let i=n.targetPosition.clone();(!n.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(e));const s=de._createFromPositionAndShift(n.sourcePosition,n.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let a=new de(e.splitPosition,s.end);a=a._getTransformedBySplitOperation(e);const l=[new de(s.start,e.splitPosition),a];return sl(l,i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const o=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);n.howMany>1&&a&&!t.aWasUndone&&o.push(de._createFromPositionAndShift(e.insertionPosition,1))}return sl(o,i)});xt(Ot,un,(n,e,t)=>{const i=de._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);n.howMany>1&&(o.push(new Ot(n.sourcePosition,n.howMany-1,n.targetPosition,0)),a=a._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));const c=e.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),u=new Ot(a,1,c,0),d=u.getMovedRangeStart().path.slice();d.push(0);const f=new _e(u.targetPosition.root,d);l=l._getTransformedByMove(a,c,1);const h=new Ot(l,e.howMany,f,0);return o.push(u),o.push(h),o}}else if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new kn(0)]}const r=de._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]});xt(ki,Nn,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n]));xt(ki,un,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n]));xt(ki,Ot,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));xt(ki,ki,(n,e,t)=>{if(n.position.isEqual(e.position))if(t.aIsStrong)n.oldName=e.newName;else return[new kn(0)];return[n]});xt(ki,Nt,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if(ai(t,i)=="same"&&!e.graveyardPosition){const s=new ki(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,s]}return n.position=n.position._getTransformedBySplitOperation(e),[n]});xt(Cr,Cr,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new kn(0)];n.oldValue=e.newValue}return[n]});xt(Xs,Xs,(n,e,t)=>n.rootName===e.rootName&&n.isAdd===e.isAdd&&!t.bWasUndone?[new kn(0)]:[n]);xt(Nt,Nn,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n]));xt(Nt,un,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const s=new _e(e.graveyardPosition.root,i),r=Nt.getInsertionPosition(new _e(e.graveyardPosition.root,i)),o=new Nt(s,0,r,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});xt(Nt,Ot,(n,e,t)=>{const i=de._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const r=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&r){const o=n.splitPosition._getTransformedByMoveOperation(e),a=n.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);const c=new _e(a.root,l);return[new Ot(o,n.howMany,c,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const s=n.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),[n];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:r,offset:o}=t.abRelation;return n.howMany+=r,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const r=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=r,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),[n]});xt(Nt,Nt,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new kn(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new kn(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new Ot(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&l.push(new Ot(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new kn(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const s=new _e(e.insertionPosition.root,i),r=new Ot(n.insertionPosition,1,s,0);return[n,r]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=Nt.getInsertionPosition(n.splitPosition),[n]});function O1(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function sl(n,e){const t=[];for(let i=0;i<n.length;i++){const s=n[i],r=new Ot(s.start,s.end.offset-s.start.offset,e,0);t.push(r);for(let o=i+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vi extends Vt(_e){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new V("model-liveposition-root-not-rootelement",e);rG.call(this)}detach(){this.stopListening()}toPosition(){return new _e(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}vi.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function rG(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&oG.call(this,t)},{priority:"low"})}function oG(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ba{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Jt("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:s=!1,isTyping:r=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=s,this.isTyping=r}get type(){return Jt("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aG{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=de._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const r=s.getData();this.bufferMarkerChange(s.name,r,r)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const r=t.targetPosition.parent;this._isInInsertedElement(r)||this._markInsert(r,t.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){const s=this._changedMarkers.get(e);s?(s.newMarkerData=i,s.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:i,oldMarkerData:t})}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,s=!e.range&&t.range,r=e.range&&t.range&&!e.range.isEqual(t.range);if(i||s||r)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const s=this._changesInElement.get(i).sort((u,d)=>u.offset===d.offset?u.type!=d.type?u.type=="remove"?-1:1:0:u.offset<d.offset?-1:1),r=this._elementSnapshots.get(i),o=R1(i.getChildren()),a=lG(r.length,s);let l=0,c=0;for(const u of a)if(u==="i")t.push(this._getInsertDiff(i,l,o[l])),l++;else if(u==="r")t.push(this._getRemoveDiff(i,l,r[c])),c++;else if(u==="a"){const d=o[l].attributes,f=r[c].attributes;let h;if(o[l].name=="$text")h=new de(_e._createAt(i,l),_e._createAt(i,l+1));else{const p=i.offsetToIndex(l);h=new de(_e._createAt(i,l),_e._createAt(i.getChild(p),0))}t.push(...this._getAttributesDiff(h,f,d)),l++,c++}else l++,c++}t.sort((i,s)=>i.position.root!=s.position.root?i.position.root.rootName<s.position.root.rootName?-1:1:i.position.isEqual(s.position)?i.changeCount-s.changeCount:i.position.isBefore(s.position)?-1:1);for(let i=1,s=0;i<t.length;i++){const r=t[s],o=t[i],a=r.type=="remove"&&o.type=="remove"&&r.name=="$text"&&o.name=="$text"&&r.position.isEqual(o.position),l=r.type=="insert"&&o.type=="insert"&&r.name=="$text"&&o.name=="$text"&&r.position.parent==o.position.parent&&r.position.offset+r.length==o.position.offset,c=r.type=="attribute"&&o.type=="attribute"&&r.position.parent==o.position.parent&&r.range.isFlat&&o.range.isFlat&&r.position.offset+r.length==o.position.offset&&r.attributeKey==o.attributeKey&&r.attributeOldValue==o.attributeOldValue&&r.attributeNewValue==o.attributeNewValue;a||l||c?(r.length++,c&&(r.range.end=r.range.end.getShiftedBy(1)),t[i]=null):s=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(cG),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,s){const r=this._changedRoots.get(e)||{name:e},o=r.attributes||{};if(o[t]){const a=o[t];s===a.oldValue?delete o[t]:a.newValue=s}else o[t]={oldValue:i,newValue:s};Object.entries(o).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(e)):(r.attributes=o,this._changedRoots.set(e,r))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=de._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._cachedChanges=null}_markInsert(e,t,i){const s={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,i){const s={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let s=0;s<i.length;s++)i[s].howMany<1&&(i.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,R1(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const s=e.offset+e.howMany,r=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<r&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<r){const o=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:s,howMany:o-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(s<=i.offset)i.offset-=e.howMany;else if(s<=r)if(e.offset<i.offset){const o=s-i.offset;i.offset=e.offset,i.howMany-=o,e.nodesToHandle-=o}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<r){const o=r-e.offset;i.howMany-=o,e.nodesToHandle-=o}}if(i.type=="remove"&&(s<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(s<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const o=s-i.offset;i.offset=e.offset,i.howMany-=o}else if(e.offset<r)if(s<=r){const o=i.howMany;i.howMany=e.offset-i.offset;const a=o-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else i.howMany-=r-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&s>i.offset){if(s>r){const o={type:"attribute",offset:r,howMany:s-r,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<r&&(s>r?(e.nodesToHandle=s-r,e.offset=r):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&s>i.offset){const o={type:"attribute",offset:i.offset,howMany:s-i.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&s<=r?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&s>=r&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:_e._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,i){return{type:"remove",position:_e._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const s=[];i=new Map(i);for(const[r,o]of t){const a=i.has(r)?i.get(r):null;a!==o&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(r)}for(const[r,o]of i)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),s=e.startOffset;if(i){for(const r of i)if(r.type=="insert"&&s>=r.offset&&s<r.offset+r.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const s=new de(_e._createAt(e,t),_e._createAt(e,t+i));for(const r of s.getItems({shallow:!0}))r.is("element")&&(this._elementSnapshots.delete(r),this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}}function R1(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function lG(n,e){const t=[];let i=0,s=0;for(const r of e){if(r.offset>i){for(let o=0;o<r.offset-i;o++)t.push("e");s+=r.offset-i}if(r.type=="insert"){for(let o=0;o<r.howMany;o++)t.push("i");i=r.offset+r.howMany}else if(r.type=="remove"){for(let o=0;o<r.howMany;o++)t.push("r");i=r.offset,s+=r.howMany}else t.push(..."a".repeat(r.howMany).split("")),i=r.offset+r.howMany,s+=r.howMany}if(s<n)for(let r=0;r<n-s-i;r++)t.push("e");return t}function cG(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uG{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new V("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let s=t-1;for(const[a,l]of this._gaps)e>a&&e<l&&(e=l),s>a&&s<l&&(s=a-1);if(s<i.baseVersion||e>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(e);r===void 0&&(r=0);let o=this._baseVersionToOperationIndex.get(s);return o===void 0&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lf extends Kt{constructor(e,t,i="main"){super(t),this._isAttached=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Lf.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pp="$graveyard";class dG extends Vt(){constructor(e){super(),this.model=e,this.history=new uG,this.selection=new _s(this),this.roots=new Ss({idProperty:"rootName"}),this.differ=new aG(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",pp),this.listenTo(e,"applyOperation",(t,i)=>{const s=i[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const s=i[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,s,r,o)=>{const a={...i.getData(),range:r};this.differ.bufferMarkerChange(i.name,o,a),s===null&&i.on("change",(l,c)=>{const u=i.getData();this.differ.bufferMarkerChange(i.name,{...u,range:c},u)})}),this.registerPostFixer(t=>{let i=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(t.remove(t.createRangeIn(s)),i=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(pp)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new V("model-document-createroot-name-exists",this,{name:t});const i=new Lf(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return Array.from(this.roots).filter(t=>t.rootName!=pp&&(e||t.isAttached())).map(t=>t.rootName)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=VT(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,s=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return M1(e.start)&&M1(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function M1(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!sy(t,i)&&!ry(t,i)}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fG extends Vt(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Ya?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,s=!1){const r=e instanceof Ya?e.name:e;if(r.includes(","))throw new V("markercollection-incorrect-marker-name",this);const o=this._markers.get(r);if(o){const c=o.getData(),u=o.getRange();let d=!1;return u.isEqual(t)||(o._attachLiveRange(ir.fromRange(t)),d=!0),i!=o.managedUsingOperations&&(o._managedUsingOperations=i,d=!0),typeof s=="boolean"&&s!=o.affectsData&&(o._affectsData=s,d=!0),d&&this.fire(`update:${r}`,o,u,t,c),o}const a=ir.fromRange(t),l=new Ya(r,a,i,s);return this._markers.set(r,l),this.fire(`update:${r}`,l,null,t,{...l.getData(),range:null}),l}_remove(e){const t=e instanceof Ya?e.name:e,i=this._markers.get(t);return i?(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0):!1}_refresh(e){const t=e instanceof Ya?e.name:e,i=this._markers.get(t);if(!i)throw new V("markercollection-refresh-marker-not-exists",this);const s=i.getRange();this.fire(`update:${t}`,i,s,s,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ya extends Vt(wo){constructor(e,t,i,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ya.prototype.is=function(n){return n==="marker"||n==="model:marker"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hG extends ji{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new V("detach-operation-on-document-node",this)}_execute(){sI(de._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vr extends wo{constructor(e){super(),this.markers=new Map,this._children=new Vc,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(Kt.fromJSON(i)):t.push(Gt.fromJSON(i));return new vr(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=mG(t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const s of i)s.parent=null;return i}}vr.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function mG(n){return typeof n=="string"?[new Gt(n)]:(Wi(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Gt(e):e instanceof ps?new Gt(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pG{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Gt(e,t)}createElement(e,t){return new Kt(e,t)}createDocumentFragment(){return new vr}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof Gt&&e.data=="")return;const s=_e._createAt(t,i);if(e.parent)if(N1(e.root,s.root)){this.move(de._createOn(e),s);return}else{if(e.root.document)throw new V("model-writer-insert-forbidden-move",this);this.remove(e)}const r=s.root.document?s.root.document.version:null,o=new Nn(s,e,r);if(e instanceof Gt&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof vr)for(const[a,l]of e.markers){const c=_e._createAt(l.root,0),d={range:new de(l.start._getCombined(c,s),l.end._getCombined(c,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,d):this.addMarker(a,d)}}insertText(e,t,i,s){t instanceof vr||t instanceof Kt||t instanceof _e?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,s)}insertElement(e,t,i,s){t instanceof vr||t instanceof Kt||t instanceof _e?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof vr||t instanceof Kt?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof vr||t instanceof Kt?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof de){const s=i.getMinimalFlatRanges();for(const r of s)D1(this,e,t,r)}else F1(this,e,t,i)}setAttributes(e,t){for(const[i,s]of Ar(e))this.setAttribute(i,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof de){const i=t.getMinimalFlatRanges();for(const s of i)D1(this,e,null,s)}else F1(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const s of i.getAttributeKeys())this.removeAttribute(s,i)};if(!(e instanceof de))t(e);else for(const i of e.getItems())t(i)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof de))throw new V("writer-move-invalid-range",this);if(!e.isFlat)throw new V("writer-move-range-not-flat",this);const s=_e._createAt(t,i);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!N1(e.root,s.root))throw new V("writer-move-different-document",this);const r=e.root.document?e.root.document.version:null,o=new Ot(e.start,e.end.offset-e.start.offset,s,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof de?e:de._createOn(e)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),gG(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Kt))throw new V("writer-merge-no-element-before",this);if(!(i instanceof Kt))throw new V("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(de._createIn(i),_e._createAt(t,"end")),this.remove(i)}_merge(e){const t=_e._createAt(e.nodeBefore,"end"),i=_e._createAt(e.nodeAfter,0),s=e.root.document.graveyard,r=new _e(s,[0]),o=e.root.document.version,a=new un(i,e.nodeAfter.maxOffset,t,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Kt))throw new V("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,s=new ki(_e._createBefore(e),e.name,t,i);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let i=e.parent;if(!i.parent)throw new V("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new V("writer-split-invalid-limit-element",this);let s,r;do{const o=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,l=Nt.getInsertionPosition(e),c=new Nt(e,a,l,null,o);this.batch.addOperation(c),this.model.applyOperation(c),!s&&!r&&(s=i,r=e.parent.nextSibling),e=this.createPositionAfter(e.parent),i=e.parent}while(i!==t);return{position:e,range:new de(_e._createAt(s,"end"),_e._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new V("writer-wrap-range-not-flat",this);const i=t instanceof Kt?t:new Kt(t);if(i.childCount>0)throw new V("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new V("writer-wrap-element-attached",this);this.insert(i,e.start);const s=new de(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,_e._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new V("writer-unwrap-element-no-parent",this);this.move(de._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new V("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,s=t.range,r=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new V("writer-addmarker-marker-exists",this);if(!s)throw new V("writer-addmarker-no-range",this);return i?(vc(this,e,null,s,r),this.model.markers.get(e)):this.model.markers._set(e,s,i,r)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new V("writer-updatemarker-marker-not-exists",this);if(!t){Jt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(s);return}const r=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",a=o?t.affectsData:s.affectsData;if(!r&&!t.range&&!o)throw new V("writer-updatemarker-wrong-options",this);const l=s.getRange(),c=t.range?t.range:l;if(r&&t.usingOperation!==s.managedUsingOperations){t.usingOperation?vc(this,i,null,c,a):(vc(this,i,l,null,a),this.model.markers._set(i,c,void 0,a));return}s.managedUsingOperations?vc(this,i,l,c,a):this.model.markers._set(i,c,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new V("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations){this.model.markers._remove(t);return}const s=i.getRange();vc(this,t,s,null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new V("writer-addroot-root-exists",this);const s=this.model.document,r=new Xs(e,t,!0,s,s.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new V("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===t&&this.removeMarker(r);for(const r of t.getAttributeKeys())this.removeAttribute(r,t);this.remove(this.createRangeIn(t));const i=this.model.document,s=new Xs(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,s]of Ar(e))this._setSelectionAttribute(i,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=_s._getStoreAttributeKey(e);this.setAttribute(s,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=_s._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new V("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const s=i.getRange();let r=!1;if(e==="move"){const o=t;r=o.containsPosition(s.start)||o.start.isEqual(s.start)||o.containsPosition(s.end)||o.end.isEqual(s.end)}else{const o=t,a=o.nodeBefore,l=o.nodeAfter,c=s.start.parent==a&&s.start.isAtEnd,u=s.end.parent==l&&s.end.offset==0,d=s.end.nodeAfter==l,f=s.start.nodeAfter==l;r=c||u||d||f}r&&this.updateMarker(i.name,{range:s})}}}function D1(n,e,t,i){const s=n.model,r=s.document;let o=i.start,a,l,c;for(const d of i.getWalker({shallow:!0}))c=d.item.getAttribute(e),a&&l!=c&&(l!=t&&u(),o=a),a=d.nextPosition,l=c;a instanceof _e&&a!=o&&l!=t&&u();function u(){const d=new de(o,a),f=d.root.document?r.version:null,h=new vn(d,e,l,t,f);n.batch.addOperation(h),s.applyOperation(h)}}function F1(n,e,t,i){const s=n.model,r=s.document,o=i.getAttribute(e);let a,l;if(o!=t){if(i.root===i){const u=i.document?r.version:null;l=new Cr(i,e,o,t,u)}else{a=new de(_e._createBefore(i),n.createPositionAfter(i));const u=a.root.document?r.version:null;l=new vn(a,e,o,t,u)}n.batch.addOperation(l),s.applyOperation(l)}}function vc(n,e,t,i,s){const r=n.model,o=r.document,a=new Ci(e,t,i,r.markers,!!s,o.version);n.batch.addOperation(a),r.applyOperation(a)}function gG(n,e,t,i){let s;if(n.root.document){const r=i.document,o=new _e(r.graveyard,[0]);s=new Ot(n,e,o,r.version)}else s=new hG(n,e);t.addOperation(s),i.applyOperation(s)}function N1(n,e){return n===e||n instanceof Lf&&e instanceof Lf}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vG(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const s=n.schema;n.change(r=>{if(!t.doNotResetEntireContent&&TG(s,e)){EG(r,e);return}const o={};if(!t.doNotAutoparagraph){const c=e.getSelectedElement();c&&Object.assign(o,s.getAttributesWithProperty(c,"copyOnReplace",!0))}const[a,l]=bG(i);a.isTouching(l)||r.remove(r.createRange(a,l)),t.leaveUnmerged||(wG(r,a,l),s.removeDisallowedAttributes(a.parent.getChildren(),r)),dI(r,e,a),!t.doNotAutoparagraph&&kG(s,a)&&uI(r,a,e,o),a.detach(),l.detach()})}function bG(n){const e=n.root.document.model,t=n.start;let i=n.end;if(e.hasContent(n,{ignoreMarkers:!0})){const s=yG(i);if(s&&i.isTouching(e.createPositionAt(s,0))){const r=e.createSelection(n);e.modifySelection(r,{direction:"backward"});const o=r.getLastPosition(),a=e.createRange(o,i);e.hasContent(a,{ignoreMarkers:!0})||(i=o)}}return[vi.fromPosition(t,"toPrevious"),vi.fromPosition(i,"toNext")]}function yG(n){const e=n.parent,t=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of i){if(t.isLimit(s))return null;if(t.isBlock(s))return s}}function wG(n,e,t){const i=n.model;if(!vy(n.model.schema,e,t))return;const[s,r]=CG(e,t);!s||!r||(!i.hasContent(s,{ignoreMarkers:!0})&&i.hasContent(r,{ignoreMarkers:!0})?cI(n,e,t,s.parent):lI(n,e,t,s.parent))}function lI(n,e,t,i){const s=e.parent,r=t.parent;if(!(s==i||r==i)){for(e=n.createPositionAfter(s),t=n.createPositionBefore(r),t.isEqual(e)||n.insert(r,e),n.merge(e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}vy(n.model.schema,e,t)&&lI(n,e,t,i)}}function cI(n,e,t,i){const s=e.parent,r=t.parent;if(!(s==i||r==i)){for(e=n.createPositionAfter(s),t=n.createPositionBefore(r),t.isEqual(e)||n.insert(s,t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}t=n.createPositionBefore(r),_G(n,t),vy(n.model.schema,e,t)&&cI(n,e,t,i)}}function _G(n,e){const t=e.nodeBefore,i=e.nodeAfter;t.name!=i.name&&n.rename(t,i.name),n.clearAttributes(t),n.setAttributes(Object.fromEntries(i.getAttributes()),t),n.merge(e)}function vy(n,e,t){const i=e.parent,s=t.parent;return i==s||n.isLimit(i)||n.isLimit(s)?!1:SG(e,t,n)}function CG(n,e){const t=n.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]&&t[s]==i[s];)s++;return[t[s],i[s]]}function kG(n,e){const t=n.checkChild(e,"$text"),i=n.checkChild(e,"paragraph");return!t&&i}function SG(n,e,t){const i=new de(n,e);for(const s of i.getWalker())if(t.isLimit(s.item))return!1;return!0}function uI(n,e,t,i={}){const s=n.createElement("paragraph");n.model.schema.setAllowedAttributes(s,i,n),n.insert(s,e),dI(n,t,n.createPositionAt(s,0))}function EG(n,e){const t=n.model.schema.getLimitElement(e);n.remove(n.createRangeIn(t)),uI(n,n.createPositionAt(t,0),e)}function TG(n,e){const t=n.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const i=e.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(t,"paragraph")}function dI(n,e,t){e instanceof _s?n.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function AG(n,e){return n.change(t=>{const i=t.createDocumentFragment(),s=e.getFirstRange();if(!s||s.isCollapsed)return i;const r=s.start.root,o=s.start.getCommonPath(s.end),a=r.getNodeByPath(o);let l;s.start.parent==s.end.parent?l=s:l=t.createRange(t.createPositionAt(a,s.start.path[o.length]),t.createPositionAt(a,s.end.path[o.length]+1));const c=l.end.offset-l.start.offset;for(const u of l.getItems({shallow:!0}))u.is("$textProxy")?t.appendText(u.data,u.getAttributes(),i):t.append(t.cloneElement(u,!0),i);if(l!=s){const u=s._getTransformedByMove(l.start,t.createPositionAt(i,0),c)[0],d=t.createRange(t.createPositionAt(i,0),u.start),f=t.createRange(u.end,t.createPositionAt(i,"end"));L1(f,t),L1(d,t)}return i})}function L1(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let s=i;for(;s.parent&&s.isEmpty;){const r=e.createRangeOn(s);s=s.parent,e.remove(r)}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function xG(n,e,t){return n.change(i=>{const s=t||n.document.selection;s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});const r=new PG(n,i,s.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const u=[];for(const[d,f]of e.markers){const{start:h,end:p}=f,m=h.isEqual(p);u.push({position:h,name:d,isCollapsed:m},{position:p,name:d,isCollapsed:m})}u.sort(({position:d},{position:f})=>d.isBefore(f)?1:-1);for(const{position:d,name:f,isCollapsed:h}of u){let p=null,m=null;const b=d.parent===e&&d.isAtStart,v=d.parent===e&&d.isAtEnd;!b&&!v?(p=i.createElement("$marker"),i.insert(p,d)):h&&(m=b?"start":"end"),o.push({name:f,element:p,collapsed:m})}}a=e.getChildren()}else a=[e];r.handleNodes(a);let l=r.getSelectionRange();if(e.is("documentFragment")&&o.length){const u=l?ir.fromRange(l):null,d={};for(let f=o.length-1;f>=0;f--){const{name:h,element:p,collapsed:m}=o[f],b=!d[h];if(b&&(d[h]=[]),p){const v=i.createPositionAt(p,"before");d[h].push(v),i.remove(p)}else{const v=r.getAffectedRange();if(!v){m&&d[h].push(r.position);continue}m?d[h].push(v[m]):d[h].push(b?v.start:v.end)}}for(const[f,[h,p]]of Object.entries(d))h&&p&&h.root===p.root&&i.addMarker(f,{usingOperation:!0,affectsData:!0,range:new de(h,p)});u&&(l=u.toRange(),u.detach())}/* istanbul ignore else -- @preserve */l&&(s instanceof _s?i.setSelection(l):s.setTo(l));const c=r.getAffectedRange()||n.createRange(s.anchor);return r.destroy(),c})}class PG{constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new V("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?de._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new de(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=vi.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new V("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=vi.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=vi.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Kt)||!this._canMergeLeft(e))return;const t=vi._createBefore(e);t.stickiness="toNext";const i=vi.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=vi._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=vi._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Kt)||!this._canMergeRight(e))return;const t=vi._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new V("insertcontent-invalid-insertion-position",this);this.position=_e._createAt(t.nodeBefore,"end");const i=vi.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=vi._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=vi._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Kt&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Kt&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fI(n,e,t="auto"){const i=n.getSelectedElement();if(i&&e.schema.isObject(i)&&!e.schema.isInline(i))return t=="before"||t=="after"?e.createRange(e.createPositionAt(i,t)):e.createRangeOn(i);const s=En(n.getSelectedBlocks());if(!s)return e.createRange(n.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const r=e.createPositionAfter(s);return n.focus.isTouching(r)?e.createRange(r):e.createRange(e.createPositionBefore(s))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function IG(n,e,t,i={}){if(!n.schema.isObject(e))throw new V("insertobject-element-not-an-object",n,{object:e});const s=t||n.document.selection;let r=s;i.findOptimalPosition&&n.schema.isBlock(e)&&(r=n.createSelection(fI(s,n,i.findOptimalPosition)));const o=En(s.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(l=>{r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});let c=e;const u=r.anchor.parent;!n.schema.checkChild(u,e)&&n.schema.checkChild(u,"paragraph")&&n.schema.checkChild("paragraph",e)&&(c=l.createElement("paragraph"),l.insert(e,c)),n.schema.setAllowedAttributes(c,a,l);const d=n.insertContent(c,r);return d.isCollapsed||i.setSelection&&OG(l,e,i.setSelection,a),d})}function OG(n,e,t,i){const s=n.model;if(t=="on"){n.setSelection(e,"on");return}if(t!="after")throw new V("insertobject-invalid-place-parameter-value",s);let r=e.nextSibling;if(s.schema.isInline(e)){n.setSelection(e,"after");return}!(r&&s.schema.checkChild(r,"$text"))&&s.schema.checkChild(e.parent,"paragraph")&&(r=n.createElement("paragraph"),s.schema.setAllowedAttributes(r,i,n),s.insertContent(r,n.createPositionAfter(e))),r&&n.setSelection(r,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const RG=' ,.?!:;"-()';function MG(n,e,t={}){const i=n.schema,s=t.direction!="backward",r=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,a=e.focus,l=new Ws({boundaries:LG(a,s),singleCharacters:!0,direction:s?"forward":"backward"}),c={walker:l,schema:i,isForward:s,unit:r,treatEmojiAsSingleUnit:o};let u;for(;u=l.next();){if(u.done)return;const d=DG(c,u.value);if(d){e instanceof _s?n.change(f=>{f.setSelectionFocus(d)}):e.setFocus(d);return}}}function DG(n,e){const{isForward:t,walker:i,unit:s,schema:r,treatEmojiAsSingleUnit:o}=n,{type:a,item:l,nextPosition:c}=e;if(a=="text")return n.unit==="word"?NG(i,t):FG(i,s,o);if(a==(t?"elementStart":"elementEnd")){if(r.isSelectable(l))return _e._createAt(l,t?"after":"before");if(r.checkChild(c,"$text"))return c}else{if(r.isLimit(l)){i.skip(()=>!0);return}if(r.checkChild(c,"$text"))return c}}function FG(n,e,t){const i=n.position.textNode;if(i){const s=i.data;let r=n.position.offset-i.startOffset;for(;sy(s,r)||e=="character"&&ry(s,r)||t&&aP(s,r);)n.next(),r=n.position.offset-i.startOffset}return n.position}function NG(n,e){let t=n.position.textNode;for(t||(t=e?n.position.nodeAfter:n.position.nodeBefore);t&&t.is("$text");){const i=n.position.offset-t.startOffset;if(BG(t,i,e))t=e?n.position.nodeAfter:n.position.nodeBefore;else{if($G(t.data,i,e))break;n.next()}}return n.position}function LG(n,e){const t=n.root,i=_e._createAt(t,e?"end":0);return e?new de(n,i):new de(i,n)}function $G(n,e,t){const i=e+(t?0:-1);return RG.includes(n.charAt(i))}function BG(n,e,t){return e===(t?n.offsetSize:0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let VG=class extends $t(){constructor(){super(),this.markers=new fG,this.document=new dG(this),this.schema=new xK,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),yK(this),this.document.registerPostFixer(YP),this.on("insertContent",(e,[t,i])=>{e.return=xG(this,t,i)}),this.on("insertObject",(e,[t,i,s])=>{e.return=IG(this,t,i,s)})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ba,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */V.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ba):e instanceof Ba||(e=new Ba(e)):e=new Ba,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){/* istanbul ignore next -- @preserve */V.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...s){const r=$1(t,i);return this.fire("insertContent",[e,r,i,...s])}insertObject(e,t,i,s,...r){const o=$1(t,i);return this.fire("insertObject",[e,o,s,s,...r])}deleteContent(e,t){vG(this,e,t)}modifySelection(e,t){MG(this,e,t)}getSelectedContent(e){return AG(this,e)}hasContent(e,t={}){const i=e instanceof de?e:de._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:r=!1}=t;if(!r){for(const o of this.markers.getMarkersIntersectingRange(i))if(o.affectsData)return!0}for(const o of i.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(s){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}createPositionFromPath(e,t,i){return new _e(e,t,i)}createPositionAt(e,t){return _e._createAt(e,t)}createPositionAfter(e){return _e._createAfter(e)}createPositionBefore(e){return _e._createBefore(e)}createRange(e,t){return new de(e,t)}createRangeIn(e){return de._createIn(e)}createRangeOn(e){return de._createOn(e)}createSelection(...e){return new vs(...e)}createBatch(e){return new Ba(e)}createOperationFromJSON(e){return ZK.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new pG(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function $1(n,e){if(n)return n instanceof vs||n instanceof _s?n:n instanceof Ta?new vs(n,e):new vs(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UG extends yo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class by extends yo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yy{constructor(e){this.document=e}createDocumentFragment(e){return new Xo(this.document,e)}createElement(e,t,i){return new ws(this.document,e,t,i)}createText(e){return new Qt(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const s=i.getChildIndex(e);return this.removeChildren(s,1,i),this.insertChild(s,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new ws(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){Di(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Le._createAt(e,t)}createPositionAfter(e){return Le._createAfter(e)}createPositionBefore(e){return Le._createBefore(e)}createRange(e,t){return new lt(e,t)}createRangeOn(e){return lt._createOn(e)}createRangeIn(e){return lt._createIn(e)}createSelection(...e){return new mo(...e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zG{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const i=this.get(e);if(!i)throw new V("commandcollection-command-not-found",this,{commandName:e});return i.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HG extends Dr{constructor(e){super(),this.editor=e}set(e,t,i={}){if(typeof t=="string"){const s=t;t=(r,o)=>{this.editor.execute(s),o()}}super.set(e,t,i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WG extends $t(){constructor(e={}){super();const t=this.constructor,i=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new vP({language:i}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new Kx(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new gP(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new zG,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new VG;const r=new Pj;this.data=new QK(this.model,r),this.editing=new EK(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new JK([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new HG(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new V("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new V("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new V("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),i=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],r=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),i,r)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(i){/* istanbul ignore next -- @preserve */V.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jG(n){if(!la(n.updateSourceElement))throw new V("attachtoform-missing-elementapi-interface",n);const e=n.sourceElement;if(qG(e)&&e.form){let t;const i=e.form,s=()=>n.updateSourceElement();la(i.submit)&&(t=i.submit,i.submit=()=>{s(),t.apply(i)}),i.addEventListener("submit",s),n.on("destroy",()=>{i.removeEventListener("submit",s),t&&(i.submit=t)})}}function qG(n){return!!n&&n.tagName.toLowerCase()==="textarea"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sf(n){class e extends n{setData(i){this.data.set(i)}getData(i){return this.data.get(i)}}return e}{const n=sf(Object);sf.setData=n.prototype.setData,sf.getData=n.prototype.getData}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tv(n){class e extends n{updateSourceElement(i=this.data.get()){if(!this.sourceElement)throw new V("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!r){H_(this.sourceElement,"");return}H_(this.sourceElement,i)}}return e}tv.updateSourceElement=tv(Object).prototype.updateSourceElement;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $f extends bP{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ss({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new V("pendingactions-add-invalid-message",this);const t=new($t());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const KG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',GG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',QG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',YG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',JG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',XG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',ZG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',eQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',tQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',nQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',iQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',sQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',rQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',oQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',aQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',lQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',cQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',uQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',dQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',fQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',hQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',mQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',pQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',gQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',vQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',bQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',yQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',wQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',_Q='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',CQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',kQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',SQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',EQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',TQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const en={bold:CQ,cancel:KG,caption:GG,check:QG,cog:YG,eraser:JG,image:ZG,lowVision:XG,importExport:TQ,paragraph:kQ,plus:SQ,text:EQ,alignBottom:eQ,alignMiddle:tQ,alignTop:nQ,alignLeft:iQ,alignCenter:sQ,alignRight:rQ,alignJustify:oQ,objectLeft:fQ,objectCenter:lQ,objectRight:hQ,objectFullWidth:uQ,objectInline:dQ,objectBlockLeft:aQ,objectBlockRight:cQ,objectSizeFull:mQ,objectSizeLarge:pQ,objectSizeSmall:gQ,objectSizeMedium:vQ,pencil:bQ,pilcrow:yQ,quote:wQ,threeVerticalDots:_Q};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{threeVerticalDots:hI}=en,AQ={alignLeft:en.alignLeft,bold:en.bold,importExport:en.importExport,paragraph:en.paragraph,plus:en.plus,text:en.text,threeVerticalDots:en.threeVerticalDots};class wy extends Ct{constructor(e,t){super(e);const i=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Es,this.keystrokes=new Dr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new xQ(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r=e.uiLanguageDirection==="rtl";this._focusCycler=new zu({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")}},children:this.children,on:{mousedown:gj(this)}}),this._behavior=this.options.shouldGroupWhenFull?new IQ(this):new PQ(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,i){this.items.addMany(this._buildItemsFromConfig(e,t,i))}_buildItemsFromConfig(e,t,i){const s=pP(e),r=i||s.removeItems;return this._cleanItemsConfiguration(s.items,t,r).map(a=>Xt(a)?this._createNestedToolbarDropdown(a,t,r):a==="|"?new mP:a==="-"?new pj:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,i){const s=e.filter((r,o,a)=>r==="|"?!0:i.indexOf(r)!==-1?!1:r==="-"?this.options.shouldGroupWhenFull?(Jt("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!Xt(r)&&!t.has(r)?(Jt("toolbarview-item-unavailable",{item:r}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",i=e.length,s=e.findIndex(t);if(s===-1)return[];const r=i-e.slice().reverse().findIndex(t);return e.slice(s,r).filter((o,a,l)=>t(o)?!0:!(a>0&&l[a-1]===o))}_createNestedToolbarDropdown(e,t,i){let{label:s,icon:r,items:o,tooltip:a=!0,withText:l=!1}=e;if(o=this._cleanItemsConfiguration(o,t,i),!o.length)return null;const c=this.locale,u=ro(c);return s||Jt("toolbarview-nested-toolbar-dropdown-missing-label",e),u.class="ck-toolbar__nested-toolbar-dropdown",u.buttonView.set({label:s,tooltip:a,withText:!!l}),r!==!1?u.buttonView.icon=AQ[r]||r||hI:u.buttonView.withText=!0,Uh(u,()=>u.toolbarView._buildItemsFromConfig(o,t,i)),u}}class xQ extends Ct{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class PQ{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(i=>i),e.focusables.bindTo(e.items).using(i=>i),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class IQ{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,i)=>{const s=i.index,r=Array.from(i.added);for(const o of i.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=s;o<s+r.length;o++){const a=r[o-s];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ha(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,i=new an(e.lastChild),s=new an(e);if(!this.cachedPadding){const r=_t.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return t==="ltr"?i.right>s.right-this.cachedPadding:i.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Nh(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new mP),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,i=ro(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Uh(i,this.groupedItems),i.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:hI}),i}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class OQ extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Es,this.keystrokes=new Dr,this._focusCycler=new zu({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":t.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mI extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",i=>!i)]},children:this.children})}focus(){this.children.first.focus()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RQ extends Ct{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ro(n,e=mj){const t=new e(n),i=new hj(n),s=new El(n,t,i);return t.bind("isEnabled").to(s),t instanceof ly?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),MQ(s),s}function Uh(n,e,t={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?B1(n,e,t):n.once("change:isOpen",()=>B1(n,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&gI(n,()=>n.toolbarView.items.find(i=>i.isOn))}function B1(n,e,t){const i=n.locale,s=i.t,r=n.toolbarView=new wy(i),o=typeof e=="function"?e():e;r.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(r.maxWidth=t.maxWidth),t.class&&(r.class=t.class),t.isCompact&&(r.isCompact=t.isCompact),t.isVertical&&(r.isVertical=!0),o instanceof ka?r.items.bindTo(o).using(a=>a):r.items.addMany(o),n.panelView.children.add(r),r.items.delegate("execute").to(n)}function pI(n,e,t={}){n.isOpen?V1(n,e,t):n.once("change:isOpen",()=>V1(n,e,t),{priority:"highest"}),gI(n,()=>n.listView.items.find(i=>i instanceof mI?i.children.first.isOn:!1))}function V1(n,e,t){const i=n.locale,s=n.listView=new OQ(i),r=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.items.bindTo(r).using(o=>{if(o.type==="separator")return new RQ(i);if(o.type==="button"||o.type==="switchbutton"){const a=new mI(i);let l;return o.type==="button"?l=new Zt(i):l=new Lh(i),l.bind(...Object.keys(o.model)).to(o.model),l.delegate("execute").to(a),a.children.add(l),a}return null}),n.panelView.children.add(s),s.items.delegate("execute").to(n)}function gI(n,e){n.on("change:isOpen",()=>{if(!n.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():Jt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:so.low-10})}function MQ(n){DQ(n),FQ(n),NQ(n),LQ(n),$Q(n),BQ(n)}function DQ(n){n.on("render",()=>{Zb({emitter:n,activator:()=>n.isOpen,callback:()=>{n.isOpen=!1},contextElements:[n.element]})})}function FQ(n){n.on("execute",e=>{e.source instanceof Lh||(n.isOpen=!1)})}function NQ(n){n.focusTracker.on("change:isFocused",(e,t,i)=>{n.isOpen&&!i&&(n.isOpen=!1)})}function LQ(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function $Q(n){n.on("change:isOpen",(e,t,i)=>{if(i)return;const s=n.panelView.element;s&&s.contains(_t.document.activeElement)&&n.buttonView.focus()})}function BQ(n){n.on("change:isOpen",(e,t,i)=>{i&&n.panelView.focus()},{priority:"low"})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const U1=ey("px"),z1=_t.document.body;class ni extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",i=>`ck-balloon-panel_${i}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",U1),left:t.to("left",U1)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=ni.defaultPositions,i=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:z1,fitInViewport:!0},e),s=ni._getOptimalPosition(i),r=parseInt(s.left),o=parseInt(s.top),a=s.name,l=s.config||{},{withArrow:c=!0}=l;this.top=o,this.left=r,this.position=a,this.withArrow=c}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=nv(e.target),i=e.limiter?nv(e.limiter):z1;this.listenTo(_t.document,"scroll",(s,r)=>{const o=r.target,a=t&&o.contains(t),l=i&&o.contains(i);(a||l||!t||!i)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(_t.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(_t.document,"scroll"),this.stopListening(_t.window,"resize")}}ni.arrowSideOffset=25;ni.arrowHeightOffset=10;ni.stickyVerticalOffset=20;ni._getOptimalPosition=tP;ni.defaultPositions=vI();function nv(n){return Gl(n)?n:Fh(n)?n.commonAncestorContainer:typeof n=="function"?nv(n()):null}function vI(n={}){const{sideOffset:e=ni.arrowSideOffset,heightOffset:t=ni.arrowHeightOffset,stickyVerticalOffset:i=ni.stickyVerticalOffset,config:s}=n;return{northWestArrowSouthWest:(a,l)=>({top:r(a,l),left:a.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.left-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(a,l)=>({top:r(a,l),left:a.left-l.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.left-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(a,l)=>({top:r(a,l),left:a.left-l.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(a,l)=>({top:r(a,l),left:a.left+a.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(a,l)=>({top:r(a,l),left:a.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.right-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(a,l)=>({top:r(a,l),left:a.right-l.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.right-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(a,l)=>({top:r(a,l),left:a.right-l.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:a=>({top:o(a),left:a.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(a,l)=>({top:o(a),left:a.left-l.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(a,l)=>({top:o(a),left:a.left-l.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:a=>({top:o(a),left:a.left+a.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:a=>({top:o(a),left:a.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.right-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(a,l)=>({top:o(a),left:a.right-l.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.right-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(a,l)=>({top:o(a),left:a.right-l.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.left-l.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(a,l,c)=>a.getIntersection(c)?{top:c.top+i,left:a.left+a.width/2-l.width/2,name:"arrowless",config:{withArrow:!1,...s}}:null};function r(a,l){return a.top-l.height-t}function o(a){return a.bottom+t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const H1="ck-tooltip";class Pn extends Ca(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Pn._editors.add(e),Pn._instance)return Pn._instance;Pn._instance=this,this.tooltipTextView=new Ct(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ni(e.locale),this.balloonPanelView.class=H1,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=fo(this._pinTooltip,600),this.listenTo(_t.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_t.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_t.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_t.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_t.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Pn._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Pn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Pn._instance=null)}static getPositioningFunctions(e){const t=Pn.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const i=gp(t);i&&i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,VQ(i)))}_onLeaveOrBlur(e,{target:t,relatedTarget:i}){if(e.name==="mouseleave"){if(!Gl(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=gp(t),r=gp(i);s&&s!==r&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:i,cssClass:s}){const r=En(Pn._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:Pn.getPositioningFunctions(i)}),this._resizeObserver=new Nh(e,()=>{ha(e)||this._unpinTooltip()}),this.balloonPanelView.class=[H1,s].filter(o=>o).join(" ");for(const o of Pn._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Pn._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!ha(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Pn.getPositioningFunctions(this._currentTooltipPosition)})}}Pn.defaultBalloonPositions=vI({heightOffset:5,sideOffset:13});Pn._editors=new Set;Pn._instance=null;function gp(n){return Gl(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function VQ(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UQ extends $t(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.editor=e,this.componentFactory=new fj(e),this.focusTracker=new Es,this.tooltipManager=new Pn(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let i,s;e.keystrokes.set("Alt+F10",(r,o)=>{const a=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(a)&&!Array.from(t.domRoots.values()).includes(a)&&(i=a);const l=this._getCurrentFocusedToolbarDefinition();(!l||!s)&&(s=this._getFocusableCandidateToolbarDefinitions());for(let c=0;c<s.length;c++){const u=s.shift();if(s.push(u),u!==l&&this._focusFocusableCandidateToolbar(u)){l&&l.options.afterBlur&&l.options.afterBlur();break}}o()}),e.keystrokes.set("Esc",(r,o)=>{const a=this._getCurrentFocusedToolbarDefinition();a&&(i?(i.focus(),i=null):e.editing.view.focus(),a.options.afterBlur&&a.options.afterBlur(),o())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:i,options:s}=t;(ha(i.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,i)=>W1(t)-W1(i)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:i}}=e;return i&&i(),ha(t.element)?(t.focus(),!0):!1}}function W1(n){const{toolbarView:e,options:t}=n;let i=10;return ha(e.element)&&i--,t.isContextual&&i--,i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zQ extends Ct{constructor(e){super(e),this.body=new dj(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bI extends Ct{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${nr()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HQ extends zQ{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new bI;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WQ extends Ct{constructor(e,t,i){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?i(this):t(this);function t(s){e.change(r=>{const o=e.document.getRoot(s.name);r.addClass(s.isFocused?"ck-focused":"ck-blurred",o),r.removeClass(s.isFocused?"ck-blurred":"ck-focused",o)})}function i(s){e.once("change:isRenderingInProgress",(r,o,a)=>{a?i(s):t(s)})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jQ extends WQ{constructor(e,t,i,s={}){super(e,t,i);const r=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>r("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const i=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),i)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qQ extends Ct{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Es,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),inputmode:t.to("inputMode"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=KQ(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function KQ(n){return!n.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class GQ extends qQ{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yI extends Ct{constructor(e,t){super(e);const i=`ck-labeled-field-view-${nr()}`,s=`ck-labeled-field-view-status-${nr()}`;this.fieldView=t(this,i,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,a)=>o||a);const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new bI(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Ct(this.locale),i=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",s=>!s)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),t}focus(){this.fieldView.focus()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wI(n,e,t){const i=new GQ(n.locale);return i.set({id:e,ariaDescribedById:t}),i.bind("isReadOnly").to(n,"isEnabled",s=>!s),i.bind("hasError").to(n,"errorText",s=>!!s),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class j1 extends bP{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _I extends $t(){constructor(e,t){super(),t&&vT(this,t),e&&this.set(e)}}const QQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',YQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Fd=ey("px");class Bf extends Ne{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,s=t.document.selection.editableElement;return s?t.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new V("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const i=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new V("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new V("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new ni(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new JQ(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,s)=>{if(s<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[r,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new XQ(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,i)=>!i&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:i=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class JQ extends Ct{constructor(e){super(e);const t=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Es,this.buttonPrevView=this._createButtonView(t("Previous"),QQ),this.buttonNextView=this._createButtonView(t("Next"),YQ),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const i=new Zt(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i}}class XQ extends Ct{constructor(e,t){super(e);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:i.to("top",Fd),left:i.to("left",Fd),width:i.to("width",Fd),height:i.to("height",Fd)}},children:this.content}),this.on("change:numberOfPanels",(s,r,o,a)=>{o>a?this._addPanels(o-a):this._removePanels(a-o),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Ct;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:i,height:s}=new an(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:i,height:s})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const bc=ey("px");class ZQ extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Js({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",i=>i?"block":"none"),height:t.to("isSticky",i=>i?bc(this._panelRect.height):null)}}}).render(),this._contentPanel=new Js({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",i=>i?bc(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",i=>i?bc(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",i=>i?bc(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(_t.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:bc(-_t.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eY extends UQ{constructor(e,t){super(e),this.view=t,this._toolbarConfig=pP(e.config.get("toolbar")),this._elementReplacer=new qx}get element(){return this.view.element}init(e){const t=this.editor,i=this.view,s=t.editing.view,r=i.editable,o=s.document.getRoot();r.name=o.rootName,i.render();const a=r.element;this.setEditableElement(r.name,a),i.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,i=t.document.getRoot(),s=e.sourceElement;let r;const o=e.config.get("placeholder");o&&(r=typeof o=="string"?o:o[this.view.editable.name]),!r&&s&&s.tagName.toLowerCase()==="textarea"&&(r=s.getAttribute("placeholder")),r&&yP({view:t,element:i,text:r,isDirectHost:!1,keepOnFocus:!0})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tY extends HQ{constructor(e,t,i={}){super(e),this.stickyPanel=new ZQ(e),this.toolbar=new wy(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),this.editable=new jQ(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class CI{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const i="error"in t?t.error:t.reason;i instanceof Error&&this._handleError(i,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(i=>i!==t)}_fire(e,...t){const i=this._listeners[e]||[];for(const s of i)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function iv(n,e=new Set){const t=[n],i=new Set;let s=0;for(;t.length>s;){const r=t[s++];if(!(i.has(r)||!nY(r)||e.has(r)))if(i.add(r),Symbol.iterator in r)try{for(const o of r)t.push(o)}catch{}else for(const o in r)o!=="defaultValue"&&t.push(r[o])}return i}function nY(n){const e=Object.prototype.toString.call(n),t=typeof n;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kI(n,e,t=new Set){if(n===e&&iY(n))return!0;const i=iv(n,t),s=iv(e,t);for(const r of i)if(s.has(r))return!0;return!1}function iY(n){return typeof n=="object"&&n!==null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SI extends CI{constructor(e,t={}){super(t),this._editor=null,this._throttledSave=jT(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(i,s)=>e.create(i,s)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const e=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,e,e.context)}}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,i){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._config=this._cloneEditorConfiguration(t)||{},this._config.context=i,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e={};for(const t of this._editor.model.document.getRootNames())e[t]=this._editor.data.get({rootName:t});return e}_isErrorComingFromThisItem(e){return kI(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Ab(e,(t,i)=>{if(Gl(t)||i==="context")return t})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Hc=Symbol("MainQueueId");class sY extends CI{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new rY,this._watchdogConfig=t,this._creator=i=>e.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Hc,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=q1(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return s=new SI(null,this._watchdogConfig),s.setCreator(i.creator),s._setExcludedProperties(this._contextProps),i.destructor&&s.setDestructor(i.destructor),this._watchdogs.set(i.id,s),s.on("error",(r,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:i.id,error:o}),a&&this._actionQueues.enqueue(i.id,()=>new Promise(l=>{const c=()=>{s.off("restart",c),this._fire("itemRestart",{itemId:i.id}),l()};s.on("restart",c)}))}),s.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(e){const t=q1(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i,()=>{const s=this._getWatchdog(i);return this._watchdogs.delete(i),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Hc,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Hc,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=iv(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return kI(this._context,e.context)}}class rY{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const i=e===Hc;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const r=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(Hc),this._queues.get(e)])).then(t),o=r.catch(()=>{});return this._queues.set(e,o),r.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function q1(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zh extends sf(tv(WG)){constructor(e,t={}){if(!rf(e)&&t.initialData!==void 0)throw new V("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",oY(e)),rf(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new tY(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i});this.ui=new eY(this,s),jG(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(i=>{const s=new this(e,t);i(s.initPlugins().then(()=>s.ui.init(rf(e)?e:null)).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}zh.Context=vP;zh.EditorWatchdog=SI;zh.ContextWatchdog=sY;function oY(n){return rf(n)?SW(n):n}function rf(n){return Gl(n)}function EI(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ec=EI();function aY(n){ec=n}const lY=/[&<>"']/,cY=/[&<>"']/g,uY=/[<>"']|&(?!#?\w+;)/,dY=/[<>"']|&(?!#?\w+;)/g,fY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},K1=n=>fY[n];function Rn(n,e){if(e){if(lY.test(n))return n.replace(cY,K1)}else if(uY.test(n))return n.replace(dY,K1);return n}const hY=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function TI(n){return n.replace(hY,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const mY=/(^|[^\[])\^/g;function Ut(n,e){n=n.source||n,e=e||"";const t={replace:(i,s)=>(s=s.source||s,s=s.replace(mY,"$1"),n=n.replace(i,s),t),getRegex:()=>new RegExp(n,e)};return t}const pY=/[^\w:]/g,gY=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function G1(n,e,t){if(n){let i;try{i=decodeURIComponent(TI(t)).replace(pY,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!gY.test(t)&&(t=wY(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Nd={},vY=/^[^:]+:\/*[^/]*$/,bY=/^([^:]+:)[\s\S]*$/,yY=/^([^:]+:\/*[^/]*)[\s\S]*$/;function wY(n,e){Nd[" "+n]||(vY.test(n)?Nd[" "+n]=n+"/":Nd[" "+n]=of(n,"/",!0)),n=Nd[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(bY,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(yY,"$1")+e:n+e}const Vf={exec:function(){}};function Ts(n){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function Q1(n,e){const t=n.replace(/\|/g,(r,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),i=t.split(/ \|/);let s=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(/\\\|/g,"|");return i}function of(n,e,t){const i=n.length;if(i===0)return"";let s=0;for(;s<i;){const r=n.charAt(i-s-1);if(r===e&&!t)s++;else if(r!==e&&t)s++;else break}return n.substr(0,i-s)}function _Y(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let i=0,s=0;for(;s<t;s++)if(n[s]==="\\")s++;else if(n[s]===e[0])i++;else if(n[s]===e[1]&&(i--,i<0))return s;return-1}function AI(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Y1(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}function J1(n,e,t,i){const s=e.href,r=e.title?Rn(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:t,href:s,title:r,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,a}else return{type:"image",raw:t,href:s,title:r,text:Rn(o)}}function CY(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(s=>{const r=s.match(/^\s+/);if(r===null)return s;const[o]=r;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}class _y{constructor(e){this.options=e||ec}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:of(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],s=CY(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const r=of(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}const s={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,s,r,o,a,l,c,u,d,f,h,p,m=t[1].trim();const b=m.length>1,v={type:"list",raw:"",ordered:b,start:b?+m.slice(0,-1):"",loose:!1,items:[]};m=b?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=b?m:"[*+-]");const w=new RegExp(`^( {0,3}${m})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(t=w.exec(e))||this.rules.block.hr.test(e)));){if(i=t[0],e=e.substring(i.length),u=t[2].split(`
`,1)[0],d=e.split(`
`,1)[0],this.options.pedantic?(o=2,h=u.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,h=u.slice(o),o+=t[1].length),l=!1,!u&&/^ *$/.test(d)&&(i+=d+`
`,e=e.substring(d.length+1),p=!0),!p){const _=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(f=e.split(`
`,1)[0],u=f,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!_.test(u));){if(u.search(/[^ ]/)>=o||!u.trim())h+=`
`+u.slice(o);else if(!l)h+=`
`+u;else break;!l&&!u.trim()&&(l=!0),i+=f+`
`,e=e.substring(f.length+1)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(i)&&(c=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(h),s&&(r=s[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:i,task:!!s,checked:r,loose:!1,text:h}),v.raw+=i}v.items[v.items.length-1].raw=i.trimRight(),v.items[v.items.length-1].text=h.trimRight(),v.raw=v.raw.trimRight();const C=v.items.length;for(a=0;a<C;a++){this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]);const _=v.items[a].tokens.filter(k=>k.type==="space"),T=_.every(k=>{const E=k.raw.split("");let S=0;for(const I of E)if(I===`
`&&(S+=1),S>1)return!0;return!1});!v.loose&&_.length&&T&&(v.loose=!0,v.items[a].loose=!0)}return v}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):Rn(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:Q1(t[1]).map(s=>({text:s})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let s=i.align.length,r,o,a,l;for(r=0;r<s;r++)/^ *-+: *$/.test(i.align[r])?i.align[r]="right":/^ *:-+: *$/.test(i.align[r])?i.align[r]="center":/^ *:-+ *$/.test(i.align[r])?i.align[r]="left":i.align[r]=null;for(s=i.rows.length,r=0;r<s;r++)i.rows[r]=Q1(i.rows[r],i.header.length).map(c=>({text:c}));for(s=i.header.length,o=0;o<s;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(s=i.rows.length,o=0;o<s;o++)for(l=i.rows[o],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){const t=this.rules.block.text.exec(e);if(t){const i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Rn(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Rn(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=of(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=_Y(t[2],"()");if(o>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let s=t[2],r="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],r=o[3])}else r=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(i)?s=s.slice(1):s=s.slice(1,-1)),J1(t,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let s=(i[2]||i[1]).replace(/\s+/g," ");if(s=t[s.toLowerCase()],!s||!s.href){const r=i[0].charAt(0);return{type:"text",raw:r,text:r}}return J1(i,s,i[0],this.lexer)}}emStrong(e,t,i=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&i.match(/[\p{L}\p{N}]/u))return;const r=s[1]||s[2]||"";if(!r||r&&(i===""||this.rules.inline.punctuation.exec(i))){const o=s[0].length-1;let a,l,c=o,u=0;const d=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(s=d.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(l=a.length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;if(l=Math.min(l,l+c+u),Math.min(o,l)%2){const h=e.slice(1,o+s.index+l);return{type:"em",raw:e.slice(0,o+s.index+l+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}const f=e.slice(2,o+s.index+l-1);return{type:"strong",raw:e.slice(0,o+s.index+l+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const s=/[^ ]/.test(i),r=/^ /.test(i)&&/ $/.test(i);return s&&r&&(i=i.substring(1,i.length-1)),i=Rn(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let s,r;return i[2]==="@"?(s=Rn(this.options.mangle?t(i[1]):i[1]),r="mailto:"+s):(s=Rn(i[1]),r=s),{type:"link",raw:i[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let s,r;if(i[2]==="@")s=Rn(this.options.mangle?t(i[0]):i[0]),r="mailto:"+s;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);s=Rn(i[0]),i[1]==="www."?r="http://"+s:r=s}return{type:"link",raw:i[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Rn(i[0]):i[0]:s=Rn(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:s}}}}const et={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Vf,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};et._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;et._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;et.def=Ut(et.def).replace("label",et._label).replace("title",et._title).getRegex();et.bullet=/(?:[*+-]|\d{1,9}[.)])/;et.listItemStart=Ut(/^( *)(bull) */).replace("bull",et.bullet).getRegex();et.list=Ut(et.list).replace(/bull/g,et.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+et.def.source+")").getRegex();et._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";et._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;et.html=Ut(et.html,"i").replace("comment",et._comment).replace("tag",et._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();et.paragraph=Ut(et._paragraph).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.blockquote=Ut(et.blockquote).replace("paragraph",et.paragraph).getRegex();et.normal=Ts({},et);et.gfm=Ts({},et.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});et.gfm.table=Ut(et.gfm.table).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.gfm.paragraph=Ut(et._paragraph).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",et.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.pedantic=Ts({},et.normal,{html:Ut(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",et._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Vf,paragraph:Ut(et.normal._paragraph).replace("hr",et.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",et.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const He={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Vf,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Vf,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};He._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";He.punctuation=Ut(He.punctuation).replace(/punctuation/g,He._punctuation).getRegex();He.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;He.escapedEmSt=/\\\*|\\_/g;He._comment=Ut(et._comment).replace("(?:-->|$)","-->").getRegex();He.emStrong.lDelim=Ut(He.emStrong.lDelim).replace(/punct/g,He._punctuation).getRegex();He.emStrong.rDelimAst=Ut(He.emStrong.rDelimAst,"g").replace(/punct/g,He._punctuation).getRegex();He.emStrong.rDelimUnd=Ut(He.emStrong.rDelimUnd,"g").replace(/punct/g,He._punctuation).getRegex();He._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;He._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;He._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;He.autolink=Ut(He.autolink).replace("scheme",He._scheme).replace("email",He._email).getRegex();He._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;He.tag=Ut(He.tag).replace("comment",He._comment).replace("attribute",He._attribute).getRegex();He._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;He._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;He._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;He.link=Ut(He.link).replace("label",He._label).replace("href",He._href).replace("title",He._title).getRegex();He.reflink=Ut(He.reflink).replace("label",He._label).replace("ref",et._label).getRegex();He.nolink=Ut(He.nolink).replace("ref",et._label).getRegex();He.reflinkSearch=Ut(He.reflinkSearch,"g").replace("reflink",He.reflink).replace("nolink",He.nolink).getRegex();He.normal=Ts({},He);He.pedantic=Ts({},He.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ut(/^!?\[(label)\]\((.*?)\)/).replace("label",He._label).getRegex(),reflink:Ut(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",He._label).getRegex()});He.gfm=Ts({},He.normal,{escape:Ut(He.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});He.gfm.url=Ut(He.gfm.url,"i").replace("email",He.gfm._extended_email).getRegex();He.breaks=Ts({},He.gfm,{br:Ut(He.br).replace("{2,}","*").getRegex(),text:Ut(He.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function kY(n){return n.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function X1(n){let e="",t,i;const s=n.length;for(t=0;t<s;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}class xr{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ec,this.options.tokenizer=this.options.tokenizer||new _y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:et.normal,inline:He.normal};this.options.pedantic?(t.block=et.pedantic,t.inline=He.pedantic):this.options.gfm&&(t.block=et.gfm,this.options.breaks?t.inline=He.breaks:t.inline=He.gfm),this.tokenizer.rules=t}static get rules(){return{block:et,inline:He}}static lex(e,t){return new xr(t).lex(e)}static lexInline(e,t){return new xr(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,s,r,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(r=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r))){s=t[t.length-1],o&&s.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i),o=r.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,s,r,o=e,a,l,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+Y1("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+Y1("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(i=u.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,c)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,X1)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,X1))){e=e.substring(i.raw.length),t.push(i);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const d=e.slice(1);let f;this.options.extensions.startInline.forEach(function(h){f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(r=e.substring(0,u+1))}if(i=this.tokenizer.inlineText(r,kY)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(c=i.raw.slice(-1)),l=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class Cy{constructor(e){this.options=e||ec}code(e,t,i){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,s);r!=null&&r!==e&&(i=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+Rn(s,!0)+'">'+(i?e:Rn(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:Rn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,s){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+s.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){const s=t?"ol":"ul",r=t&&i!==1?' start="'+i+'"':"";return"<"+s+r+`>
`+e+"</"+s+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=G1(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let s='<a href="'+Rn(e)+'"';return t&&(s+=' title="'+t+'"'),s+=">"+i+"</a>",s}image(e,t,i){if(e=G1(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let s='<img src="'+e+'" alt="'+i+'"';return t&&(s+=' title="'+t+'"'),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class xI{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class PI{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,s=0;if(this.seen.hasOwnProperty(i)){s=this.seen[e];do s++,i=e+"-"+s;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=s,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class Pr{constructor(e){this.options=e||ec,this.options.renderer=this.options.renderer||new Cy,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new xI,this.slugger=new PI}static parse(e,t){return new Pr(t).parse(e)}static parseInline(e,t){return new Pr(t).parseInline(e)}parse(e,t=!0){let i="",s,r,o,a,l,c,u,d,f,h,p,m,b,v,w,C,_,T,k;const E=e.length;for(s=0;s<E;s++){if(h=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(k=this.options.extensions.renderers[h.type].call({parser:this},h),k!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){i+=k||"";continue}switch(h.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(h.tokens),h.depth,TI(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(d="",u="",a=h.header.length,r=0;r<a;r++)u+=this.renderer.tablecell(this.parseInline(h.header[r].tokens),{header:!0,align:h.align[r]});for(d+=this.renderer.tablerow(u),f="",a=h.rows.length,r=0;r<a;r++){for(c=h.rows[r],u="",l=c.length,o=0;o<l;o++)u+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:h.align[o]});f+=this.renderer.tablerow(u)}i+=this.renderer.table(d,f);continue}case"blockquote":{f=this.parse(h.tokens),i+=this.renderer.blockquote(f);continue}case"list":{for(p=h.ordered,m=h.start,b=h.loose,a=h.items.length,f="",r=0;r<a;r++)w=h.items[r],C=w.checked,_=w.task,v="",w.task&&(T=this.renderer.checkbox(C),b?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=T+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=T+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:T}):v+=T),v+=this.parse(w.tokens,b),f+=this.renderer.listitem(v,_,C);i+=this.renderer.list(f,p,m);continue}case"html":{i+=this.renderer.html(h.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(f=h.tokens?this.parseInline(h.tokens):h.text;s+1<E&&e[s+1].type==="text";)h=e[++s],f+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);i+=t?this.renderer.paragraph(f):f;continue}default:{const S='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(S);return}else throw new Error(S)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",s,r,o;const a=e.length;for(s=0;s<a;s++){if(r=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(o=this.options.extensions.renderers[r.type].call({parser:this},r),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){i+=o||"";continue}switch(r.type){case"escape":{i+=t.text(r.text);break}case"html":{i+=t.html(r.text);break}case"link":{i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{i+=t.image(r.href,r.title,r.text);break}case"strong":{i+=t.strong(this.parseInline(r.tokens,t));break}case"em":{i+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{i+=t.codespan(r.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(r.tokens,t));break}case"text":{i+=t.text(r.text);break}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return i}}function it(n,e,t){if(typeof n>"u"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=Ts({},it.defaults,e||{}),AI(e),t){const i=e.highlight;let s;try{s=xr.lex(n,e)}catch(a){return t(a)}const r=function(a){let l;if(!a)try{e.walkTokens&&it.walkTokens(s,e.walkTokens),l=Pr.parse(s,e)}catch(c){a=c}return e.highlight=i,a?t(a):t(null,l)};if(!i||i.length<3||(delete e.highlight,!s.length))return r();let o=0;it.walkTokens(s,function(a){a.type==="code"&&(o++,setTimeout(()=>{i(a.text,a.lang,function(l,c){if(l)return r(l);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),o--,o===0&&r()})},0))}),o===0&&r();return}try{const i=xr.lex(n,e);return e.walkTokens&&it.walkTokens(i,e.walkTokens),Pr.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Rn(i.message+"",!0)+"</pre>";throw i}}it.options=it.setOptions=function(n){return Ts(it.defaults,n),aY(it.defaults),it};it.getDefaults=EI;it.defaults=ec;it.use=function(...n){const e=Ts({},...n),t=it.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(s=>{if(s.extensions&&(i=!0,s.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const o=t.renderers?t.renderers[r.name]:null;o?t.renderers[r.name]=function(...a){let l=r.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[r.level]?t[r.level].unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}r.childTokens&&(t.childTokens[r.name]=r.childTokens)})),s.renderer){const r=it.defaults.renderer||new Cy;for(const o in s.renderer){const a=r[o];r[o]=(...l)=>{let c=s.renderer[o].apply(r,l);return c===!1&&(c=a.apply(r,l)),c}}e.renderer=r}if(s.tokenizer){const r=it.defaults.tokenizer||new _y;for(const o in s.tokenizer){const a=r[o];r[o]=(...l)=>{let c=s.tokenizer[o].apply(r,l);return c===!1&&(c=a.apply(r,l)),c}}e.tokenizer=r}if(s.walkTokens){const r=it.defaults.walkTokens;e.walkTokens=function(o){s.walkTokens.call(this,o),r&&r.call(this,o)}}i&&(e.extensions=t),it.setOptions(e)})};it.walkTokens=function(n,e){for(const t of n)switch(e.call(it,t),t.type){case"table":{for(const i of t.header)it.walkTokens(i.tokens,e);for(const i of t.rows)for(const s of i)it.walkTokens(s.tokens,e);break}case"list":{it.walkTokens(t.items,e);break}default:it.defaults.extensions&&it.defaults.extensions.childTokens&&it.defaults.extensions.childTokens[t.type]?it.defaults.extensions.childTokens[t.type].forEach(function(i){it.walkTokens(t[i],e)}):t.tokens&&it.walkTokens(t.tokens,e)}};it.parseInline=function(n,e){if(typeof n>"u"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=Ts({},it.defaults,e||{}),AI(e);try{const t=xr.lexInline(n,e);return e.walkTokens&&it.walkTokens(t,e.walkTokens),Pr.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Rn(t.message+"",!0)+"</pre>";throw t}};it.Parser=Pr;it.parser=Pr.parse;it.Renderer=Cy;it.TextRenderer=xI;it.Lexer=xr;it.lexer=xr.lex;it.Tokenizer=_y;it.Slugger=PI;it.parse=it;it.options;it.setOptions;it.use;it.walkTokens;it.parseInline;Pr.parse;xr.lex;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */it.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...n){return Object.getPrototypeOf(this).checkbox.call(this,...n).trimRight()},code(...n){return Object.getPrototypeOf(this).code.call(this,...n).replace(`
</code>`,"</code>")}}});function SY(n){const e={gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1};return it.parse(n,e)}function EY(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function sv(n,e){return Array(e+1).join(n)}var TY=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function ky(n){return TY.indexOf(n.nodeName.toLowerCase())!==-1}var II=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function OI(n){return II.indexOf(n.nodeName.toLowerCase())!==-1}var AY=II.join();function xY(n){return n.querySelector&&n.querySelector(AY)}var si={};si.paragraph={filter:"p",replacement:function(n){return`

`+n+`

`}};si.lineBreak={filter:"br",replacement:function(n,e,t){return t.br+`
`}};si.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,e,t){var i=Number(e.nodeName.charAt(1));if(t.headingStyle==="setext"&&i<3){var s=sv(i===1?"=":"-",n.length);return`

`+n+`
`+s+`

`}else return`

`+sv("#",i)+" "+n+`

`}};si.blockquote={filter:"blockquote",replacement:function(n){return n=n.replace(/^\n+|\n+$/g,""),n=n.replace(/^/gm,"> "),`

`+n+`

`}};si.list={filter:["ul","ol"],replacement:function(n,e){var t=e.parentNode;return t.nodeName==="LI"&&t.lastElementChild===e?`
`+n:`

`+n+`

`}};si.listItem={filter:"li",replacement:function(n,e,t){n=n.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var i=t.bulletListMarker+"   ",s=e.parentNode;if(s.nodeName==="OL"){var r=s.getAttribute("start"),o=Array.prototype.indexOf.call(s.children,e);i=(r?Number(r)+o:o+1)+".  "}return i+n+(e.nextSibling&&!/\n$/.test(n)?`
`:"")}};si.indentedCodeBlock={filter:function(n,e){return e.codeBlockStyle==="indented"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,e,t){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};si.fencedCodeBlock={filter:function(n,e){return e.codeBlockStyle==="fenced"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,e,t){for(var i=e.firstChild.className||"",s=(i.match(/language-(\S+)/)||[null,""])[1],r=e.firstChild.textContent,o=t.fence.charAt(0),a=3,l=new RegExp("^"+o+"{3,}","gm"),c;c=l.exec(r);)c[0].length>=a&&(a=c[0].length+1);var u=sv(o,a);return`

`+u+s+`
`+r.replace(/\n$/,"")+`
`+u+`

`}};si.horizontalRule={filter:"hr",replacement:function(n,e,t){return`

`+t.hr+`

`}};si.inlineLink={filter:function(n,e){return e.linkStyle==="inlined"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,e){var t=e.getAttribute("href"),i=e.title?' "'+e.title+'"':"";return"["+n+"]("+t+i+")"}};si.referenceLink={filter:function(n,e){return e.linkStyle==="referenced"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,e,t){var i=e.getAttribute("href"),s=e.title?' "'+e.title+'"':"",r,o;switch(t.linkReferenceStyle){case"collapsed":r="["+n+"][]",o="["+n+"]: "+i+s;break;case"shortcut":r="["+n+"]",o="["+n+"]: "+i+s;break;default:var a=this.references.length+1;r="["+n+"]["+a+"]",o="["+a+"]: "+i+s}return this.references.push(o),r},references:[],append:function(n){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};si.emphasis={filter:["em","i"],replacement:function(n,e,t){return n.trim()?t.emDelimiter+n+t.emDelimiter:""}};si.strong={filter:["strong","b"],replacement:function(n,e,t){return n.trim()?t.strongDelimiter+n+t.strongDelimiter:""}};si.code={filter:function(n){var e=n.previousSibling||n.nextSibling,t=n.parentNode.nodeName==="PRE"&&!e;return n.nodeName==="CODE"&&!t},replacement:function(n){if(!n.trim())return"";var e="`",t="",i="",s=n.match(/`+/gm);if(s)for(/^`/.test(n)&&(t=" "),/`$/.test(n)&&(i=" ");s.indexOf(e)!==-1;)e=e+"`";return e+t+n+i+e}};si.image={filter:"img",replacement:function(n,e){var t=e.alt||"",i=e.getAttribute("src")||"",s=e.title||"",r=s?' "'+s+'"':"";return i?"!["+t+"]("+i+r+")":""}};function RI(n){this.options=n,this._keep=[],this._remove=[],this.blankRule={replacement:n.blankReplacement},this.keepReplacement=n.keepReplacement,this.defaultRule={replacement:n.defaultReplacement},this.array=[];for(var e in n.rules)this.array.push(n.rules[e])}RI.prototype={add:function(n,e){this.array.unshift(e)},keep:function(n){this._keep.unshift({filter:n,replacement:this.keepReplacement})},remove:function(n){this._remove.unshift({filter:n,replacement:function(){return""}})},forNode:function(n){if(n.isBlank)return this.blankRule;var e;return(e=vp(this.array,n,this.options))||(e=vp(this._keep,n,this.options))||(e=vp(this._remove,n,this.options))?e:this.defaultRule},forEach:function(n){for(var e=0;e<this.array.length;e++)n(this.array[e],e)}};function vp(n,e,t){for(var i=0;i<n.length;i++){var s=n[i];if(PY(s,e,t))return s}}function PY(n,e,t){var i=n.filter;if(typeof i=="string"){if(i===e.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof i=="function"){if(i.call(n,e,t))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function IY(n){var e=n.element,t=n.isBlock,i=n.isVoid,s=n.isPre||function(d){return d.nodeName==="PRE"};if(!(!e.firstChild||s(e))){for(var r=null,o=!1,a=null,l=Z1(a,e,s);l!==e;){if(l.nodeType===3||l.nodeType===4){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!r||/ $/.test(r.data))&&!o&&c[0]===" "&&(c=c.substr(1)),!c){l=bp(l);continue}l.data=c,r=l}else if(l.nodeType===1)t(l)||l.nodeName==="BR"?(r&&(r.data=r.data.replace(/ $/,"")),r=null,o=!1):i(l)&&(r=null,o=!0);else{l=bp(l);continue}var u=Z1(a,l,s);a=l,l=u}r&&(r.data=r.data.replace(/ $/,""),r.data||bp(r))}}function bp(n){var e=n.nextSibling||n.parentNode;return n.parentNode.removeChild(n),e}function Z1(n,e,t){return n&&n.parentNode===e||t(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var MI=typeof window<"u"?window:{};function OY(){var n=MI.DOMParser,e=!1;try{new n().parseFromString("","text/html")&&(e=!0)}catch{}return e}function RY(){var n=function(){};{var e=require("jsdom").JSDOM;n.prototype.parseFromString=function(t){return new e(t).window.document}}return n}var MY=OY()?MI.DOMParser:RY();function DY(n){var e;if(typeof n=="string"){var t=FY().parseFromString('<x-turndown id="turndown-root">'+n+"</x-turndown>","text/html");e=t.getElementById("turndown-root")}else e=n.cloneNode(!0);return IY({element:e,isBlock:ky,isVoid:OI}),e}var yp;function FY(){return yp=yp||new MY,yp}function NY(n){return n.isBlock=ky(n),n.isCode=n.nodeName.toLowerCase()==="code"||n.parentNode.isCode,n.isBlank=LY(n),n.flankingWhitespace=$Y(n),n}function LY(n){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(n.nodeName)===-1&&/^\s*$/i.test(n.textContent)&&!OI(n)&&!xY(n)}function $Y(n){var e="",t="";if(!n.isBlock){var i=/^\s/.test(n.textContent),s=/\s$/.test(n.textContent),r=n.isBlank&&i&&s;i&&!eC("left",n)&&(e=" "),!r&&s&&!eC("right",n)&&(t=" ")}return{leading:e,trailing:t}}function eC(n,e){var t,i,s;return n==="left"?(t=e.previousSibling,i=/ $/):(t=e.nextSibling,i=/^ /),t&&(t.nodeType===3?s=i.test(t.nodeValue):t.nodeType===1&&!ky(t)&&(s=i.test(t.textContent))),s}var BY=Array.prototype.reduce,DI=/^\n*/,FI=/\n*$/,VY=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Al(n){if(!(this instanceof Al))return new Al(n);var e={rules:si,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(t,i){return i.isBlock?`

`:""},keepReplacement:function(t,i){return i.isBlock?`

`+i.outerHTML+`

`:i.outerHTML},defaultReplacement:function(t,i){return i.isBlock?`

`+t+`

`:t}};this.options=EY({},e,n),this.rules=new RI(this.options)}Al.prototype={turndown:function(n){if(!WY(n))throw new TypeError(n+" is not a string, or an element/document/fragment node.");if(n==="")return"";var e=NI.call(this,new DY(n));return UY.call(this,e)},use:function(n){if(Array.isArray(n))for(var e=0;e<n.length;e++)this.use(n[e]);else if(typeof n=="function")n(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(n,e){return this.rules.add(n,e),this},keep:function(n){return this.rules.keep(n),this},remove:function(n){return this.rules.remove(n),this},escape:function(n){return VY.reduce(function(e,t){return e.replace(t[0],t[1])},n)}};function NI(n){var e=this;return BY.call(n.childNodes,function(t,i){i=new NY(i);var s="";return i.nodeType===3?s=i.isCode?i.nodeValue:e.escape(i.nodeValue):i.nodeType===1&&(s=zY.call(e,i)),LI(t,s)},"")}function UY(n){var e=this;return this.rules.forEach(function(t){typeof t.append=="function"&&(n=LI(n,t.append(e.options)))}),n.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function zY(n){var e=this.rules.forNode(n),t=NI.call(this,n),i=n.flankingWhitespace;return(i.leading||i.trailing)&&(t=t.trim()),i.leading+e.replacement(t,n,this.options)+i.trailing}function HY(n,e){var t=[n.match(FI)[0],e.match(DI)[0]].sort(),i=t[t.length-1];return i.length<2?i:`

`}function LI(n,e){var t=HY(n,e);return n=n.replace(FI,""),e=e.replace(DI,""),n+t+e}function WY(n){return n!=null&&(typeof n=="string"||n.nodeType&&(n.nodeType===1||n.nodeType===9||n.nodeType===11))}var tC=/highlight-(?:text|source)-([a-z0-9]+)/;function jY(n){n.addRule("highlightedCodeBlock",{filter:function(e){var t=e.firstChild;return e.nodeName==="DIV"&&tC.test(e.className)&&t&&t.nodeName==="PRE"},replacement:function(e,t,i){var s=t.className||"",r=(s.match(tC)||[null,""])[1];return`

`+i.fence+r+`
`+t.firstChild.textContent+`
`+i.fence+`

`}})}function qY(n){n.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var KY=Array.prototype.indexOf,GY=Array.prototype.every,xl={};xl.tableCell={filter:["th","td"],replacement:function(n,e){return $I(n,e)}};xl.tableRow={filter:"tr",replacement:function(n,e){var t="",i={left:":--",right:"--:",center:":-:"};if(Sy(e))for(var s=0;s<e.childNodes.length;s++){var r="---",o=(e.childNodes[s].getAttribute("align")||"").toLowerCase();o&&(r=i[o]||r),t+=$I(r,e.childNodes[s])}return`
`+n+(t?`
`+t:"")}};xl.table={filter:function(n){return n.nodeName==="TABLE"&&Sy(n.rows[0])},replacement:function(n){return n=n.replace(`

`,`
`),`

`+n+`

`}};xl.tableSection={filter:["thead","tbody","tfoot"],replacement:function(n){return n}};function Sy(n){var e=n.parentNode;return e.nodeName==="THEAD"||e.firstChild===n&&(e.nodeName==="TABLE"||QY(e))&&GY.call(n.childNodes,function(t){return t.nodeName==="TH"})}function QY(n){var e=n.previousSibling;return n.nodeName==="TBODY"&&(!e||e.nodeName==="THEAD"&&/^\s*$/i.test(e.textContent))}function $I(n,e){var t=KY.call(e.parentNode.childNodes,e),i=" ";return t===0&&(i="| "),i+n+" |"}function YY(n){n.keep(function(t){return t.nodeName==="TABLE"&&!Sy(t.rows[0])});for(var e in xl)n.addRule(e,xl[e])}function JY(n){n.addRule("taskListItems",{filter:function(e){return e.type==="checkbox"&&e.parentNode.nodeName==="LI"},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}function XY(n){n.use([jY,qY,YY,JY])}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ZY=Al.prototype.escape;function nC(n){return n=ZY(n),n=n.replace(/</g,"\\<"),n}Al.prototype.escape=function(n){let e="",t=0;for(const i of iJ(n)){const s=i.index;s>t&&(e+=nC(n.substring(t,s)));const r=i[0];e+=r,t=s+r.length}return t<n.length&&(e+=nC(n.substring(t,n.length))),e};const Ey=new Al({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});Ey.use([XY,tJ]);function eJ(n){return Ey.turndown(n)}function tJ(n){n.addRule("taskListItems",{filter(e){return e.type==="checkbox"&&(e.parentNode.nodeName==="LI"||e.parentNode.parentNode.nodeName==="LI")},replacement(e,t){return(t.checked?"[x]":"[ ]")+" "}})}const nJ=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function*iJ(n){for(const e of n.matchAll(nJ)){const t=e[0],i=sJ(t);yield Object.assign([t.substring(0,i)],{index:e.index})}}function sJ(n){let e=n.length;for(;e>0;){const t=n[e-1];if(`?!.,:*_~'"`.includes(t))e--;else if(t==")"){let i=0;for(let s=0;s<e;s++)n[s]=="("?i++:n[s]==")"&&i--;if(i<0)e--;else break}else break}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rJ{constructor(e){this._htmlDP=new iI(e)}keepHtml(e){Ey.keep([e])}toView(e){const t=SY(e);return this._htmlDP.toView(t)}toData(e){const t=this._htmlDP.toData(e);return eJ(t)}registerRawContentMatcher(e){this._htmlDP.registerRawContentMatcher(e)}useFillerType(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oJ extends Ne{constructor(e){super(e),e.data.processor=new rJ(e.data.viewDocument)}static get pluginName(){return"Markdown"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aJ extends kt{refresh(){const e=this.editor.model,t=e.document,i=En(t.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&iC(i,e.schema)}execute(e={}){const t=this.editor.model,i=t.document;t.change(s=>{const r=(e.selection||i.selection).getSelectedBlocks();for(const o of r)!o.is("element","paragraph")&&iC(o,t.schema)&&s.rename(o,"paragraph")})}}function iC(n,e){return e.checkChild(n.parent,"paragraph")&&!e.isObject(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lJ extends kt{execute(e){const t=this.editor.model,i=e.attributes;let s=e.position;t.change(r=>{const o=r.createElement("paragraph");if(i&&t.schema.setAllowedAttributes(o,i,r),!t.schema.checkChild(s.parent,o)){const a=t.schema.findAllowedParent(s,o);if(!a)return;s=r.split(s,a).position}t.insertContent(o,s),r.setSelection(o,"in")})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hu extends Ne{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new aJ(e)),e.commands.add("insertParagraph",new lJ(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>!Hu.paragraphLikeElements.has(i.name)||i.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Hu.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ty extends yo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",i("dragging"),{priority:"low"});function i(s){return(r,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,l=new Tr(t,s);t.fire(l,{dataTransfer:o.dataTransfer,method:r.name,targetRanges:a,target:o.target}),l.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",s={dataTransfer:new FP(t,{cacheFiles:i})};(e.type=="drop"||e.type=="dragover")&&(s.dropRange=cJ(this.view,e)),this.fire(e.type,e,s)}}function cJ(n,e){const t=e.target.ownerDocument,i=e.clientX,s=e.clientY;let r;return t.caretRangeFromPoint&&t.caretRangeFromPoint(i,s)?r=t.caretRangeFromPoint(i,s):e.rangeParent&&(r=t.createRange(),r.setStart(e.rangeParent,e.rangeOffset),r.collapse(!0)),r?n.domConverter.domRangeToView(r):null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function uJ(n){return n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function dJ(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const sC=["figcaption","li"];function BI(n){let e="";if(n.is("$text")||n.is("$textProxy"))e=n.data;else if(n.is("element","img")&&n.hasAttribute("alt"))e=n.getAttribute("alt");else if(n.is("element","br"))e=`
`;else{let t=null;for(const i of n.getChildren()){const s=BI(i);t&&(t.is("containerElement")||i.is("containerElement"))&&(sC.includes(t.name)||sC.includes(i.name)?e+=`
`:e+=`

`),e+=s,t=i}}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ir extends Ne{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Ty),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document;this.listenTo(s,"clipboardInput",r=>{e.isReadOnly&&r.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(r,o)=>{const a=o.dataTransfer;let l;if(o.content)l=o.content;else{let u="";a.getData("text/html")?u=dJ(a.getData("text/html")):a.getData("text/plain")&&(u=uJ(a.getData("text/plain"))),l=this.editor.data.htmlProcessor.toView(u)}const c=new Tr(this,"inputTransformation");this.fire(c,{content:l,dataTransfer:a,targetRanges:o.targetRanges,method:o.method}),c.stop.called&&r.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(r,o)=>{if(o.content.isEmpty)return;const l=this.editor.data.toModel(o.content,"$clipboardHolder");l.childCount!=0&&(r.stop(),t.change(()=>{this.fire("contentInsertion",{content:l,method:o.method,dataTransfer:o.dataTransfer,targetRanges:o.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(r,o)=>{o.resultRange=t.insertContent(o.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,s=e.editing.view.document,r=(o,a)=>{const l=a.dataTransfer;a.preventDefault();const c=e.data.toView(e.model.getSelectedContent(t.selection));s.fire("clipboardOutput",{dataTransfer:l,content:c,method:o.name})};this.listenTo(s,"copy",r,{priority:"low"}),this.listenTo(s,"cut",(o,a)=>{e.isReadOnly?a.preventDefault():r(o,a)},{priority:"low"}),this.listenTo(s,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",BI(a.content))),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VI{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(i,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fJ extends kt{constructor(e,t){super(e),this._buffer=new VI(e.model,t)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,i=t.document,s=e.text||"",r=s.length;let o=i.selection;e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range));const a=e.resultRange;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock(),t.deleteContent(o),s&&t.insertContent(l.createText(s,i.selection.getAttributes()),o),a?l.setSelection(a):o.is("documentSelection")||l.setSelection(o),this._buffer.unlock(),this._buffer.input(r)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const rC=["insertText","insertReplacementText"];class hJ extends rr{constructor(e){super(e),mt.isAndroid&&rC.push("insertCompositionText");const t=e.document;t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{data:r,targetRanges:o,inputType:a,domEvent:l}=s;if(!rC.includes(a))return;const c=new Tr(t,"insertText");t.fire(c,new Tl(e,l,{text:r,selection:e.createSelection(o)})),c.stop.called&&i.stop()}),t.on("compositionend",(i,{data:s,domEvent:r})=>{!this.isEnabled||mt.isAndroid||s&&t.fire("insertText",new Tl(e,r,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UI extends Ne{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,i=e.editing.view,s=t.document.selection;i.addObserver(hJ);const r=new fJ(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",r),e.commands.add("input",r),this.listenTo(i.document,"insertText",(o,a)=>{i.document.isComposing||a.preventDefault();const{text:l,selection:c,resultRange:u}=a,d=Array.from(c.getRanges()).map(p=>e.editing.mapper.toModelRange(p));let f=l;if(mt.isAndroid){const p=Array.from(d[0].getItems()).reduce((m,b)=>m+(b.is("$textProxy")?b.data:""),"");p&&(p.length<=f.length?f.startsWith(p)&&(f=f.substring(p.length),d[0].start=d[0].start.getShiftedBy(p.length)):p.startsWith(f)&&(d[0].start=d[0].start.getShiftedBy(f.length),f=""))}const h={text:f,selection:t.createSelection(d)};u&&(h.resultRange=e.editing.mapper.toModelRange(u)),e.execute("insertText",h)}),mt.isAndroid?this.listenTo(i.document,"keydown",(o,a)=>{s.isCollapsed||a.keyCode!=229||!i.document.isComposing||oC(t,r)}):this.listenTo(i.document,"compositionstart",()=>{s.isCollapsed||oC(t,r)})}}function oC(n,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aC extends kt{constructor(e,t){super(e),this.direction=t,this._buffer=new VI(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const r=s.createSelection(e.selection||i.selection),o=e.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&t.modifySelection(r,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(r,o)){this.editor.execute("paragraph",{selection:r});return}if(r.isCollapsed)return;let l=0;r.getFirstRange().getMinimalFlatRanges().forEach(c=>{l+=Ug(c.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),s.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(r))||!t.schema.checkChild(r,"paragraph"))return!1;const a=r.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s),o=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(o,r),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const i=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),r=i.schema.getLimitElement(s),o=r.getChild(0);return!(s.parent!=o||!e.containsEntireContent(o)||!i.schema.checkChild(r,"paragraph")||o.name=="paragraph")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const mJ="character",lC="word",pJ="codePoint",Xr="selection",Ja="backward",Ac="forward",zI={deleteContent:{unit:Xr,direction:Ja},deleteContentBackward:{unit:pJ,direction:Ja},deleteWordBackward:{unit:lC,direction:Ja},deleteHardLineBackward:{unit:Xr,direction:Ja},deleteSoftLineBackward:{unit:Xr,direction:Ja},deleteContentForward:{unit:mJ,direction:Ac},deleteWordForward:{unit:lC,direction:Ac},deleteHardLineForward:{unit:Xr,direction:Ac},deleteSoftLineForward:{unit:Xr,direction:Ac}};class gJ extends rr{constructor(e){super(e);const t=e.document;let i=0;t.on("keydown",()=>{i++}),t.on("keyup",()=>{i=0}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=r,c=zI[l];if(!c)return;const u={direction:c.direction,unit:c.unit,sequence:i};u.unit==Xr&&(u.selectionToRemove=e.createSelection(o[0])),l==="deleteContentBackward"&&(mt.isAndroid&&(u.sequence=1),bJ(o)&&(u.unit=Xr,u.selectionToRemove=e.createSelection(o)));const d=new Zl(t,"delete",o[0]);t.fire(d,new Tl(e,a,u)),d.stop.called&&s.stop()}),mt.isBlink&&vJ(this)}observe(){}stopObserving(){}}function vJ(n){const e=n.view,t=e.document;let i=null,s=!1;t.on("keydown",(a,{keyCode:l})=>{i=l,s=!1}),t.on("keyup",(a,{keyCode:l,domEvent:c})=>{const u=t.selection,d=n.isEnabled&&l==i&&r(l)&&!u.isCollapsed&&!s;if(i=null,d){const f=u.getFirstRange(),h=new Zl(t,"delete",f),p={unit:Xr,direction:o(l),selectionToRemove:u};t.fire(h,new Tl(e,c,p))}}),t.on("beforeinput",(a,{inputType:l})=>{const c=zI[l];r(i)&&c&&c.direction==o(i)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:l,data:c})=>{i==Et.delete&&l=="insertText"&&c==""&&a.stop()},{priority:"high"});function r(a){return a==Et.backspace||a==Et.delete}function o(a){return a==Et.backspace?Ja:Ac}}function bJ(n){if(n.length!=1||n[0].isCollapsed)return!1;const e=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:i}of e){if(!i.parent.is("$text"))t++;else{const s=i.parent.data,r=i.offset;if(sy(s,r)||ry(s,r)||aP(s,r))continue;t++}if(t>1)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Aa extends Ne{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,i=t.document,s=e.model.document;t.addObserver(gJ),this._undoOnBackspace=!1;const r=new aC(e,"forward");e.commands.add("deleteForward",r),e.commands.add("forwardDelete",r),e.commands.add("delete",new aC(e,"backward")),this.listenTo(i,"delete",(o,a)=>{i.isComposing||a.preventDefault();const{direction:l,sequence:c,selectionToRemove:u,unit:d}=a,f=l==="forward"?"deleteForward":"delete",h={sequence:c};if(d=="selection"){const p=Array.from(u.getRanges()).map(m=>e.editing.mapper.toModelRange(m));h.selection=e.model.createSelection(p)}else h.unit=d;e.execute(f,h),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yJ extends Ne{static get requires(){return[UI,Aa]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HI(n,e){let t=n.start;return{text:Array.from(n.getItems()).reduce((s,r)=>r.is("$text")||r.is("$textProxy")?s+r.data:(t=e.createPositionAfter(r),""),""),range:e.createRange(t,n.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wJ extends $t(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(i,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(i,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const i=this.model,r=i.document.selection,o=i.createRange(i.createPositionAt(r.focus.parent,0),r.focus),{text:a,range:l}=HI(o,i),c=this.testCallback(a);if(!c&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!c,c){const u=Object.assign(t,{text:a,range:l});typeof c=="object"&&Object.assign(u,c),this.fire(`matched:${e}`,u)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cC extends Ne{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,i=e.editing.view,s=e.locale,r=t.document.selection;this.listenTo(i.document,"arrowKey",(o,a)=>{if(!r.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==Et.arrowright,c=a.keyCode==Et.arrowleft;if(!l&&!c)return;const u=s.contentLanguageDirection;let d=!1;u==="ltr"&&l||u==="rtl"&&c?d=this._handleForwardMovement(a):d=this._handleBackwardMovement(a),d===!0&&o.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(r,"change:range",(o,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&af(r.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,s=this.editor.model.document.selection,r=s.getFirstPosition();return this._isGravityOverridden||r.isAtStart&&wp(s,t)?!1:af(r,t)?(Ld(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,i=this.editor.model,s=i.document.selection,r=s.getFirstPosition();return this._isGravityOverridden?(Ld(e),this._restoreGravity(),_p(i,t,r),!0):r.isAtStart?wp(s,t)?(Ld(e),_p(i,t,r),!0):!1:_J(r,t)?r.isAtEnd&&!wp(s,t)&&af(r,t)?(Ld(e),_p(i,t,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function wp(n,e){for(const t of e)if(n.hasAttribute(t))return!0;return!1}function _p(n,e,t){const i=t.nodeBefore;n.change(s=>{i?s.setSelectionAttribute(i.getAttributes()):s.removeSelectionAttribute(e)})}function Ld(n){n.preventDefault()}function _J(n,e){const t=n.getShiftedBy(-1);return af(t,e)}function af(n,e){const{nodeBefore:t,nodeAfter:i}=n;for(const s of e){const r=t?t.getAttribute(s):void 0;if((i?i.getAttribute(s):void 0)!==r)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pl(n,e,t,i){return i.createRange(uC(n,e,t,!0,i),uC(n,e,t,!1,i))}function uC(n,e,t,i,s){let r=n.textNode||(i?n.nodeBefore:n.nodeAfter),o=null;for(;r&&r.getAttribute(e)==t;)o=r,r=i?r.previousSibling:r.nextSibling;return o?s.createPositionAt(o,i?"before":"after"):n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function CJ(n,e,t,i){const s=n.editing.view,r=new Set;s.document.registerPostFixer(o=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(e)){const c=Pl(a.getFirstPosition(),e,a.getAttribute(e),n.model),u=n.editing.mapper.toViewRange(c);for(const d of u.getItems())d.is("element",t)&&!d.hasClass(i)&&(o.addClass(i,d),r.add(d),l=!0)}return l}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){s.change(l=>{for(const c of r.values())l.removeClass(i,c),r.delete(c)})}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*WI(n,e){for(const t of e)t&&n.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kJ extends kt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,i=t.document.selection,s=t.schema,r=i.isCollapsed,o=i.getFirstRange(),a=o.start.parent,l=o.end.parent;if(s.isLimit(a)||s.isLimit(l))return!r&&a==l&&t.deleteContent(i),!1;if(r){const c=WI(e.model.schema,i.getAttributes());return dC(e,o.start),e.setSelectionAttribute(c),!0}else{const c=!(o.start.isAtStart&&o.end.isAtEnd),u=a==l;if(t.deleteContent(i,{leaveUnmerged:c}),c){if(u)return dC(e,i.focus),!0;e.setSelection(l,0)}}return!1}}function dC(n,e){n.split(e),n.setSelection(e.parent.nextSibling,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const SJ={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class jI extends rr{constructor(e){super(e);const t=this.document;let i=!1;t.on("keydown",(s,r)=>{i=r.shiftKey}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;let o=r.inputType;mt.isSafari&&i&&o=="insertParagraph"&&(o="insertLineBreak");const a=r.domEvent,l=SJ[o];if(!l)return;const c=new Zl(t,"enter",r.targetRanges[0]);t.fire(c,new Tl(e,a,{isSoft:l.isSoft})),c.stop.called&&s.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hh extends Ne{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,i=t.document;t.addObserver(jI),e.commands.add("enter",new kJ(e)),this.listenTo(i,"enter",(s,r)=>{i.isComposing||r.preventDefault(),!r.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EJ extends kt{execute(){const e=this.editor.model,t=e.document;e.change(i=>{AJ(e,i,t.selection),this.fire("afterExecute",{writer:i})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=TJ(e.schema,t.selection)}}function TJ(n,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!n.checkChild(t,"softBreak"))return!1;const i=e.getFirstRange(),s=i.start.parent,r=i.end.parent;return!((rv(s,n)||rv(r,n))&&s!==r)}function AJ(n,e,t){const i=t.isCollapsed,s=t.getFirstRange(),r=s.start.parent,o=s.end.parent,a=r==o;if(i){const l=WI(n.schema,t.getAttributes());fC(n,e,s.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(l)}else{const l=!(s.start.isAtStart&&s.end.isAtEnd);n.deleteContent(t,{leaveUnmerged:l}),a?fC(n,e,t.focus):l&&e.setSelection(o,0)}}function fC(n,e,t){const i=e.createElement("softBreak");n.insertContent(i,t),e.setSelection(i,"after")}function rv(n,e){return n.is("rootElement")?!1:e.isLimit(n)||rv(n.parent,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xJ extends Ne{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,i=e.conversion,s=e.editing.view,r=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(o,{writer:a})=>a.createEmptyElement("br")}),s.addObserver(jI),e.commands.add("shiftEnter",new EJ(e)),this.listenTo(r,"enter",(o,a)=>{r.isComposing||a.preventDefault(),a.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PJ extends Vt(){constructor(){super(...arguments),this._stack=[]}add(e,t){const i=this._stack,s=i[0];this._insertDescriptor(e);const r=i[0];s!==r&&!Cp(s,r)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:r,writer:t})}remove(e,t){const i=this._stack,s=i[0];this._removeDescriptor(e);const r=i[0];s!==r&&!Cp(s,r)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:r,writer:t})}_insertDescriptor(e){const t=this._stack,i=t.findIndex(r=>r.id===e.id);if(Cp(e,t[i]))return;i>-1&&t.splice(i,1);let s=0;for(;t[s]&&IJ(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,i=t.findIndex(s=>s.id===e);i>-1&&t.splice(i,1)}}function Cp(n,e){return n&&e&&n.priority==e.priority&&Uf(n.classes)==Uf(e.classes)}function IJ(n,e){return n.priority>e.priority?!0:n.priority<e.priority?!1:Uf(n.classes)>Uf(e.classes)}function Uf(n){return Array.isArray(n)?n.sort().join(","):n}const OJ='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const RJ="ck-widget",hC="ck-widget_selected";function tn(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function qI(n,e,t={}){if(!n.is("containerElement"))throw new V("widget-to-widget-wrong-element-type",null,{element:n});return e.setAttribute("contenteditable","false",n),e.addClass(RJ,n),e.setCustomProperty("widget",!0,n),n.getFillerOffset=$J,e.setCustomProperty("widgetLabel",[],n),t.label&&FJ(n,t.label),t.hasSelectionHandle&&BJ(n,e),KI(n,e),n}function MJ(n,e,t){if(e.classes&&t.addClass(Wn(e.classes),n),e.attributes)for(const i in e.attributes)t.setAttribute(i,e.attributes[i],n)}function DJ(n,e,t){if(e.classes&&t.removeClass(Wn(e.classes),n),e.attributes)for(const i in e.attributes)t.removeAttribute(i,n)}function KI(n,e,t=MJ,i=DJ){const s=new PJ;s.on("change:top",(a,l)=>{l.oldDescriptor&&i(n,l.oldDescriptor,l.writer),l.newDescriptor&&t(n,l.newDescriptor,l.writer)});const r=(a,l,c)=>s.add(l,c),o=(a,l,c)=>s.remove(l,c);e.setCustomProperty("addHighlight",r,n),e.setCustomProperty("removeHighlight",o,n)}function FJ(n,e){n.getCustomProperty("widgetLabel").push(e)}function NJ(n){return n.getCustomProperty("widgetLabel").reduce((t,i)=>typeof i=="function"?t?t+". "+i():i():t?t+". "+i:i,"")}function GI(n,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),e.setAttribute("role","textbox",n),t.label&&e.setAttribute("aria-label",t.label,n),e.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(i,s,r)=>{e.setAttribute("contenteditable",r?"false":"true",n)}),n.on("change:isFocused",(i,s,r)=>{r?e.addClass("ck-editor__nested-editable_focused",n):e.removeClass("ck-editor__nested-editable_focused",n)}),KI(n,e),n}function LJ(n,e){const t=n.getSelectedElement();if(t){const i=Kr(n);if(i)return e.createRange(e.createPositionAt(t,i))}return fI(n,e)}function $J(){return null}function BJ(n,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(i){const s=this.toDomElement(i),r=new Xl;return r.set("content",OJ),r.render(),s.appendChild(r.element),s});e.insert(e.createPositionAt(n,0),t),e.addClass(["ck-widget_with-selection-handle"],n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const mr="widget-type-around";function Mo(n,e,t){return!!n&&tn(n)&&!t.isInline(e)}function VJ(n){return n.closest(".ck-widget__type-around__button")}function UJ(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function zJ(n,e){const t=n.closest(".ck-widget");return e.mapDomToView(t)}function Kr(n){return n.getAttribute(mr)}const HJ='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const QI=["before","after"],WJ=new DOMParser().parseFromString(HJ,"image/svg+xml").firstChild,mC="ck-widget__type-around_disabled";class jJ extends Ne{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Hh,Aa]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(i,s,r)=>{t.change(o=>{for(const a of t.document.roots)r?o.removeClass(mC,a):o.addClass(mC,a)}),r||e.model.change(o=>{o.removeSelectionAttribute(mr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const i=this.editor,s=i.editing.view,r=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,t),attributes:r}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,i,s){this.listenTo(e,t,(...r)=>{this.isEnabled&&i(...r)},s)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,s=Kr(i);if(!s)return!1;const r=i.getSelectedElement();return this._insertParagraph(r,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,i=e.locale.t,s={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(r,o,a)=>{const l=a.mapper.toViewElement(o.item);l&&Mo(l,o.item,t)&&(qJ(a.writer,s,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,i=t.document.selection,s=t.schema,r=e.editing.view;this._listenToIfEnabled(r.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[tn,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(a,l)=>{l.directChange&&e.model.change(c=>{c.removeSelectionAttribute(mr)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const a=i.getSelectedElement();if(a){const l=e.editing.mapper.toViewElement(a);if(Mo(l,a,s))return}e.model.change(l=>{l.removeSelectionAttribute(mr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,c)=>{const u=c.writer;if(this._currentFakeCaretModelElement){const p=c.mapper.toViewElement(this._currentFakeCaretModelElement);p&&(u.removeClass(QI.map(o),p),this._currentFakeCaretModelElement=null)}const d=l.selection.getSelectedElement();if(!d)return;const f=c.mapper.toViewElement(d);if(!Mo(f,d,s))return;const h=Kr(l.selection);h&&(u.addClass(o(h),f),this._currentFakeCaretModelElement=d)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,c)=>{c||e.model.change(u=>{u.removeSelectionAttribute(mr)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){const i=this.editor,s=i.model,r=s.document.selection,o=s.schema,a=i.editing.view,l=t.keyCode,c=LW(l,i.locale.contentLanguageDirection),u=a.document.selection.getSelectedElement(),d=i.editing.mapper.toModelElement(u);let f;Mo(u,d,o)?f=this._handleArrowKeyPressOnSelectedWidget(c):r.isCollapsed?f=this._handleArrowKeyPressWhenSelectionNextToAWidget(c):t.shiftKey||(f=this._handleArrowKeyPressWhenNonCollapsedSelection(c)),f&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,s=i.document.selection,r=Kr(s);return i.change(o=>{if(r){if(!(r===(e?"after":"before")))return o.removeSelectionAttribute(mr),!0}else return o.setSelectionAttribute(mr,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,i=t.model,s=i.schema,r=t.plugins.get("Widget"),o=r._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(o);return Mo(a,o,s)?(i.change(l=>{r._setSelectionOverElement(o),l.setSelectionAttribute(mr,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,i=t.model,s=i.schema,r=t.editing.mapper,o=i.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,l=r.toViewElement(a);return Mo(l,a,s)?(i.change(c=>{c.setSelection(a,"on"),c.setSelectionAttribute(mr,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(i,s)=>{const r=VJ(s.domTarget);if(!r)return;const o=UJ(r),a=zJ(r,t.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,o),s.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(s,r)=>{if(s.eventPhase!="atTarget")return;const o=t.getSelectedElement(),a=e.editing.mapper.toViewElement(o),l=e.model.schema;let c;this._insertParagraphAccordingToFakeCaretPosition()?c=!0:Mo(a,o,l)&&(this._insertParagraph(o,r.isSoft?"before":"after"),c=!0),c&&(r.preventDefault(),s.stop())},{context:tn})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(i,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),mt.isAndroid?this._listenToIfEnabled(t,"keydown",(i,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,i=e.model,s=i.schema;this._listenToIfEnabled(t.document,"delete",(r,o)=>{if(r.eventPhase!="atTarget")return;const a=Kr(i.document.selection);if(!a)return;const l=o.direction,c=i.document.selection.getSelectedElement(),u=a==="before",d=l=="forward";if(u===d)e.execute("delete",{selection:i.createSelection(c,"on")});else{const h=s.getNearestSelectionRange(i.createPositionAt(c,a),l);if(h)if(!h.isCollapsed)i.change(p=>{p.setSelection(h),e.execute(d?"deleteForward":"delete")});else{const p=i.createSelection(h.start);if(i.modifySelection(p,{direction:l}),!p.focus.isEqual(h.start))i.change(m=>{m.setSelection(h),e.execute(d?"deleteForward":"delete")});else{const m=QJ(s,h.start.parent);i.deleteContent(i.createSelection(m,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),r.stop()},{context:tn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[r,o])=>{if(o&&!o.is("documentSelection"))return;const a=Kr(i);if(a)return s.stop(),t.change(l=>{const c=i.getSelectedElement(),u=t.createPositionAt(c,a),d=l.createSelection(u),f=t.insertContent(r,d);return l.setSelection(d),f})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,r)=>{const[,o,a={}]=r;if(o&&!o.is("documentSelection"))return;const l=Kr(i);l&&(a.findOptimalPosition=l,r[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[r])=>{if(r&&!r.is("documentSelection"))return;Kr(i)&&s.stop()},{priority:"high"})}}function qJ(n,e,t){const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const r=this.toDomElement(s);return KJ(r,e),GJ(r),r});n.insert(n.createPositionAt(t,"end"),i)}function KJ(n,e){for(const t of QI){const i=new Js({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[n.ownerDocument.importNode(WJ,!0)]});n.appendChild(i.render())}}function GJ(n){const e=new Js({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(e.render())}function QJ(n,e){let t=e;for(const i of e.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;t=i}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function YJ(n){const e=n.model;return(t,i)=>{const s=i.keyCode==Et.arrowup,r=i.keyCode==Et.arrowdown,o=i.shiftKey,a=e.document.selection;if(!s&&!r)return;const l=r;if(o&&ZJ(a,l))return;const c=JJ(n,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(o)return}(c.isCollapsed||XJ(n,c,l))&&(e.change(u=>{const d=l?c.end:c.start;if(o){const f=e.createSelection(a.anchor);f.setFocus(d),u.setSelection(f)}else u.setSelection(d)}),t.stop(),i.preventDefault(),i.stopPropagation())}}}function JJ(n,e,t){const i=n.model;if(t){const s=e.isCollapsed?e.focus:e.getLastPosition(),r=pC(i,s,"forward");if(!r)return null;const o=i.createRange(s,r),a=gC(i.schema,o,"backward");return a?i.createRange(s,a):null}else{const s=e.isCollapsed?e.focus:e.getFirstPosition(),r=pC(i,s,"backward");if(!r)return null;const o=i.createRange(r,s),a=gC(i.schema,o,"forward");return a?i.createRange(a,s):null}}function pC(n,e,t){const i=n.schema,s=n.createRangeIn(e.root),r=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of s.getWalker({startPosition:e,direction:t})){if(i.isLimit(a)&&!i.isInline(a))return o;if(l==r&&i.isBlock(a))return null}return null}function gC(n,e,t){const i=t=="backward"?e.end:e.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:s}of e.getWalker({direction:t}))if(n.checkChild(s,"$text"))return s;return null}function XJ(n,e,t){const i=n.model,s=n.view.domConverter;if(t){const c=i.createSelection(e.start);i.modifySelection(c),!c.focus.isAtEnd&&!e.start.isEqual(c.focus)&&(e=i.createRange(c.focus,e.end))}const r=n.mapper.toViewRange(e),o=s.viewRangeToDom(r),a=an.getDomRangeRects(o);let l;for(const c of a){if(l===void 0){l=Math.round(c.bottom);continue}if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}return!0}function ZJ(n,e){return!n.isCollapsed&&n.isBackward==e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wh extends Ne{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[jJ,Aa]}init(){const e=this.editor,t=e.editing.view,i=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,r,o)=>{const a=o.writer,l=r.selection;if(l.isCollapsed)return;const c=l.getSelectedElement();if(!c)return;const u=e.editing.mapper.toViewElement(c);tn(u)&&o.consumable.consume(l,"selection")&&a.setSelection(a.createRangeOn(u),{fake:!0,label:NJ(u)})}),this.editor.editing.downcastDispatcher.on("selection",(s,r,o)=>{this._clearPreviouslySelectedWidgets(o.writer);const a=o.writer,l=a.document.selection;let c=null;for(const u of l.getRanges())for(const d of u){const f=d.item;tn(f)&&!tX(f,c)&&(a.addClass(hC,f),this._previouslySelected.add(f),c=f)}},{priority:"low"}),t.addObserver(by),this.listenTo(i,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(i,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[tn,"$text"]}),this.listenTo(i,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(i,"arrowKey",YJ(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(s,r)=>{this._handleDelete(r.direction=="forward")&&(r.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const i=this.editor,s=i.editing.view,r=s.document;let o=t.target;if(eX(o)){if((mt.isSafari||mt.isGecko)&&t.domEvent.detail>=3){const l=i.editing.mapper,c=o.is("attributeElement")?o.findAncestor(d=>!d.is("attributeElement")):o,u=l.toModelElement(c);t.preventDefault(),this.editor.model.change(d=>{d.setSelection(u,"in")})}return}if(!tn(o)&&(o=o.findAncestor(tn),!o))return;mt.isAndroid&&t.preventDefault(),r.isFocused||s.focus();const a=i.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_handleSelectionChangeOnArrowKeyPress(e,t){const i=t.keyCode,s=this.editor.model,r=s.schema,o=s.document.selection,a=o.getSelectedElement(),l=iy(i,this.editor.locale.contentLanguageDirection),c=l=="down"||l=="right",u=l=="up"||l=="down";if(a&&r.isObject(a)){const f=c?o.getLastPosition():o.getFirstPosition(),h=r.getNearestSelectionRange(f,c?"forward":"backward");h&&(s.change(p=>{p.setSelection(h)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed&&!t.shiftKey){const f=o.getFirstPosition(),h=o.getLastPosition(),p=f.nodeAfter,m=h.nodeBefore;(p&&r.isObject(p)||m&&r.isObject(m))&&(s.change(b=>{b.setSelection(c?h:f)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed)return;const d=this._getObjectElementNextToSelection(c);if(d&&r.isObject(d)){if(r.isInline(d)&&u)return;this._setSelectionOverElement(d),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const i=this.editor.model,s=i.schema,r=i.document.selection.getSelectedElement();r&&s.isObject(r)&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const i=this.editor.model.document.selection;if(!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(r=>{let o=i.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,r.remove(a)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,i=t.schema,s=t.document.selection,r=t.createSelection(s);if(t.modifySelection(r,{direction:e?"forward":"backward"}),r.isEqual(s))return null;const o=e?r.focus.nodeBefore:r.focus.nodeAfter;return o&&i.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(hC,t);this._previouslySelected.clear()}}function eX(n){let e=n;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(tn(e))return!1;e=e.parent}return!1}function tX(n,e){return e?Array.from(n.getAncestors()).includes(e):!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zf extends Ne{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Bf]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",i=>{nX(e.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:i,getRelatedElement:s,balloonClassName:r="ck-toolbar-container"}){if(!i.length){Jt("widget-toolbar-no-items",{toolbarId:e});return}const o=this.editor,a=o.t,l=new wy(o.locale);if(l.ariaLabel=t||a("Widget toolbar"),this._toolbarDefinitions.has(e))throw new V("widget-toolbar-duplicated",this,{toolbarId:e});const c={view:l,getRelatedElement:s,balloonClassName:r,itemsConfig:i,initialized:!1};o.ui.addToolbar(l,{isContextual:!0,beforeFocus:()=>{const u=s(o.editing.view.document.selection);u&&this._showToolbar(c,u)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(e,c)}_updateToolbarsVisibility(){let e=0,t=null,i=null;for(const s of this._toolbarDefinitions.values()){const r=s.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!r)this._isToolbarInBalloon(s)&&this._hideToolbar(s);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(s)&&this._hideToolbar(s);else{const o=r.getAncestors().length;o>e&&(e=o,t=r,i=s)}}i&&this._showToolbar(i,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?vC(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:YI(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const s=i.getRelatedElement(this.editor.editing.view.document.selection);vC(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function vC(n,e){const t=n.plugins.get("ContextualBalloon"),i=YI(n,e);t.updatePosition(i)}function YI(n,e){const t=n.editing.view,i=ni.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function nX(n){const e=n.getSelectedElement();return!!(e&&tn(e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iX extends Ne{static get pluginName(){return"DragDrop"}static get requires(){return[Ir,Wh]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=jT(i=>this._updateDropMarker(i),40),this._removeDropMarkerDelayed=wC(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=wC(()=>this._clearDraggableAttributes(),40),t.addObserver(Ty),t.addObserver(by),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,s,r)=>{r?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,s,r)=>{r||this._finalizeDragging(!1)}),mt.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,i=t.document,s=e.editing.view,r=s.document;this.listenTo(r,"dragstart",(o,a)=>{const l=i.selection;if(a.target&&a.target.is("editableElement")){a.preventDefault();return}const c=a.target?_C(a.target):null;if(c){const f=e.editing.mapper.toModelElement(c);this._draggedRange=ir.fromRange(t.createRangeOn(f)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!r.selection.isCollapsed){const f=r.selection.getSelectedElement();(!f||!tn(f))&&(this._draggedRange=ir.fromRange(l.getFirstRange()))}if(!this._draggedRange){a.preventDefault();return}this._draggingUid=nr(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const u=t.createSelection(this._draggedRange.toRange()),d=e.data.toView(t.getSelectedContent(u));r.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:d,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(r,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const l=bC(e,a.targetRanges,a.target);this._draggedRange||(a.dataTransfer.dropEffect="copy"),mt.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move"));/* istanbul ignore else -- @preserve */l&&this._updateDropMarkerThrottled(l)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"clipboardInput",(s,r)=>{if(r.method!="drop")return;const o=bC(e,r.targetRanges,r.target);this._removeDropMarker();/* istanbul ignore if -- @preserve */if(!o){this._finalizeDragging(!1),s.stop();return}if(this._draggedRange&&this._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),yC(r.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(o,!0)){this._finalizeDragging(!1),s.stop();return}r.targetRanges=[e.editing.mapper.toViewRange(o)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ir);e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const s=i.targetRanges.map(r=>this.editor.editing.mapper.toModelRange(r));this.editor.model.change(r=>r.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const s=yC(i.dataTransfer)=="move",r=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(r&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,i=t.document;this.listenTo(i,"mousedown",(s,r)=>{if(mt.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let o=_C(r.target);if(mt.isBlink&&!e.isReadOnly&&!o&&!i.selection.isCollapsed){const a=i.selection.getSelectedElement();(!a||!tn(a))&&(o=i.selection.editableElement)}o&&(t.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(i,"mouseup",()=>{mt.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:i})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return i.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(r){const o=this.toDomElement(r);return o.append("",r.createElement("span"),""),o})}})}_updateDropMarker(e){const t=this.editor,i=t.model.markers;t.model.change(s=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_finalizeDragging(e){const t=this.editor,i=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&i.deleteContent(i.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function bC(n,e,t){const i=n.model,s=n.editing.mapper;let r=null;const o=e?e[0].start:null;if(t.is("uiElement")&&(t=t.parent),r=sX(n,t),r)return r;const a=lX(n,t),l=o?s.toModelPosition(o):null;return l?(r=oX(n,l,a),r||(r=i.schema.getNearestSelectionRange(l,mt.isGecko?"forward":"backward"),r)?r:aX(n,l.parent)):rX(n,a)}function sX(n,e){const t=n.model,i=n.editing.mapper;if(tn(e))return t.createRangeOn(i.toModelElement(e));if(!e.is("editableElement")){const s=e.findAncestor(r=>tn(r)||r.is("editableElement"));if(tn(s))return t.createRangeOn(i.toModelElement(s))}return null}function rX(n,e){const t=n.model,i=t.schema,s=t.createPositionAt(e,0);return i.getNearestSelectionRange(s,"forward")}function oX(n,e,t){const i=n.model;if(!i.schema.checkChild(t,"$block"))return null;const s=i.createPositionAt(t,0),r=e.path.slice(0,s.path.length),a=i.createPositionFromPath(e.root,r).nodeAfter;return a&&i.schema.isObject(a)?i.createRangeOn(a):null}function aX(n,e){const t=n.model;let i=e;for(;i;){if(t.schema.isObject(i))return t.createRangeOn(i);i=i.parent}/* istanbul ignore next -- @preserve */return null}function lX(n,e){const t=n.editing.mapper,i=n.editing.view,s=t.toModelElement(e);if(s)return s;const r=i.createPositionBefore(e),o=t.findMappedViewAncestor(r);return t.toModelElement(o)}function yC(n){return mt.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function wC(n,e){let t;function i(...s){i.cancel(),t=setTimeout(()=>n(...s),e)}return i.cancel=()=>{clearTimeout(t)},i}function _C(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(tn);if(tn(n))return n;const e=n.findAncestor(t=>tn(t)||t.is("editableElement"));return tn(e)?e:null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cX extends Ne{static get pluginName(){return"PastePlainText"}static get requires(){return[Ir]}init(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document,r=t.document.selection;let o=!1;i.addObserver(Ty),this.listenTo(s,"keydown",(a,l)=>{o=l.shiftKey}),e.plugins.get(Ir).on("contentInsertion",(a,l)=>{!o&&!uX(l.content,t.schema)||t.change(c=>{const u=Array.from(r.getAttributes()).filter(([f])=>t.schema.getAttributeProperties(f).isFormatting);r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),u.push(...r.getAttributes());const d=c.createRangeIn(l.content);for(const f of d.getItems())f.is("$textProxy")&&c.setAttributes(u,f)})})}}function uX(n,e){if(n.childCount>1)return!1;const t=n.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dX extends Ne{static get pluginName(){return"Clipboard"}static get requires(){return[Ir,iX,cX]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fX extends kt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let i=e.schema.getLimitElement(t);if(t.containsEntireContent(i)||!CC(e.schema,i))do if(i=i.parent,!i)return;while(!CC(e.schema,i));e.change(s=>{s.setSelection(i,"in")})}}function CC(n,e){return n.isLimit(e)&&(n.checkChild(e,"$text")||n.checkChild(e,"paragraph"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hX=ny("Ctrl+A");class mX extends Ne{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.editing.view.document;e.commands.add("selectAll",new fX(e)),this.listenTo(i,"keydown",(s,r)=>{kl(r)===hX&&(e.execute("selectAll"),r.preventDefault())})}}const pX='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gX extends Ne{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const i=e.commands.get("selectAll"),s=new Zt(t),r=t.t;return s.set({label:r("Select all"),icon:pX,keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vX extends Ne{static get requires(){return[mX,gX]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class JI extends kt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(t,i)=>{i[1]={...i[1]};const s=i[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,i){const s=this.editor.model,r=s.document,o=[],a=e.map(c=>c.getTransformedByOperations(i)),l=a.flat();for(const c of a){const u=c.filter(d=>d.root!=r.graveyard).filter(d=>!yX(d,l));u.length&&(bX(u),o.push(u[0]))}o.length&&s.change(c=>{c.setSelection(o,{backward:t})})}_undo(e,t){const i=this.editor.model,s=i.document;this._createdBatches.add(t);const r=e.operations.slice().filter(o=>o.isDocumentOperation);r.reverse();for(const o of r){const a=o.baseVersion+1,l=Array.from(s.history.getOperations(a)),u=nG([o.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const d of u)t.addOperation(d),i.applyOperation(d),s.history.setOperationAsUndone(o,d)}}}function bX(n){n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){const i=n[e-1].getJoined(n[e],!0);i&&(e--,n.splice(e,2,i))}}function yX(n,e){return e.some(t=>t!==n&&t.containsRange(n,!0))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wX extends JI{execute(e=null){const t=e?this._stack.findIndex(r=>r.batch==e):this._stack.length-1,i=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(i.batch,s);const r=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,r),this.fire("revert",i.batch,s)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _X extends JI{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r),this._undo(e.batch,t)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class CX extends Ne{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new wX(e),this._redoCommand=new _X(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,i)=>{const s=i[0];if(!s.isDocumentOperation)return;const r=s.batch,o=this._redoCommand.createdBatches.has(r),a=this._undoCommand.createdBatches.has(r);this._batchRegistry.has(r)||(this._batchRegistry.add(r),r.isUndoable&&(o?this._undoCommand.addBatch(r):a||(this._undoCommand.addBatch(r),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,i,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const kC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',SC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kX extends Ne{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,i=e.t,s=t.uiLanguageDirection=="ltr"?kC:SC,r=t.uiLanguageDirection=="ltr"?SC:kC;this._addButton("undo",i("Undo"),"CTRL+Z",s),this._addButton("redo",i("Redo"),"CTRL+Y",r)}_addButton(e,t,i,s){const r=this.editor;r.ui.componentFactory.add(e,o=>{const a=r.commands.get(e),l=new Zt(o);return l.set({label:t,icon:s,keystroke:i,tooltip:!0}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>{r.execute(e),r.editing.view.focus()}),l})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SX extends Ne{static get requires(){return[CX,kX]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EX extends Ne{static get requires(){return[dX,Hh,vX,xJ,yJ,SX]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ur(n,e,t,i){let s,r=null;typeof i=="function"?s=i:(r=n.commands.get(i),s=()=>{n.execute(i)}),n.model.document.on("change:data",(o,a)=>{if(r&&!r.isEnabled||!e.isEnabled)return;const l=En(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const c=Array.from(n.model.document.differ.getChanges()),u=c[0];if(c.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)return;const d=u.position.parent;if(d.is("element","codeBlock")||d.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||r&&r.value===!0)return;const f=d.getChild(0),h=n.model.createRangeOn(f);if(!h.containsRange(l)&&!l.end.isEqual(h.end))return;const p=t.exec(f.data.substr(0,l.end.offset));p&&n.model.enqueueChange(m=>{const b=m.createPositionAt(d,0),v=m.createPositionAt(d,p[0].length),w=new ir(b,v);if(s({match:p})!==!1){m.remove(w);const _=n.model.document.selection.getFirstRange(),T=m.createRangeIn(d);d.isEmpty&&!T.isEqual(_)&&!T.containsRange(_,!0)&&m.remove(d)}w.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Va(n,e,t,i){let s,r;t instanceof RegExp?s=t:r=t,r=r||(o=>{let a;const l=[],c=[];for(;(a=s.exec(o))!==null&&!(a&&a.length<4);){let{index:u,"1":d,"2":f,"3":h}=a;const p=d+f+h;u+=a[0].length-p.length;const m=[u,u+d.length],b=[u+d.length+f.length,u+d.length+f.length+h.length];l.push(m),l.push(b),c.push([u+d.length,u+d.length+f.length])}return{remove:l,format:c}}),n.model.document.on("change:data",(o,a)=>{if(a.isUndo||!a.isLocal||!e.isEnabled)return;const l=n.model,c=l.document.selection;if(!c.isCollapsed)return;const u=Array.from(l.document.differ.getChanges()),d=u[0];if(u.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1)return;const f=c.focus,h=f.parent,{text:p,range:m}=TX(l.createRange(l.createPositionAt(h,0),f),l),b=r(p),v=EC(m.start,b.format,l),w=EC(m.start,b.remove,l);v.length&&w.length&&l.enqueueChange(C=>{if(i(C,v)!==!1){for(const T of w.reverse())C.remove(T);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function EC(n,e,t){return e.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>t.createRange(n.getShiftedBy(i[0]),n.getShiftedBy(i[1])))}function TX(n,e){let t=n.start;return{text:Array.from(n.getItems()).reduce((s,r)=>!(r.is("$text")||r.is("$textProxy"))||r.getAttribute("code")?(t=e.createPositionAfter(r),""):s+r.data,""),range:e.createRange(t,n.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AX extends Ne{static get requires(){return[Aa]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Ur(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Ur(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&Ur(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&Ur(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=$d(this.editor,"bold");Va(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Va(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=$d(this.editor,"italic");Va(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Va(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=$d(this.editor,"code");Va(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=$d(this.editor,"strikethrough");Va(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const i=t[7],s=new RegExp(`^(#{${i}})\\s$`);Ur(this.editor,this,s,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Ur(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&Ur(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Ur(this.editor,this,/^---$/,"horizontalLine")}}function $d(n,e){return(t,i)=>{if(!n.commands.get(e).isEnabled)return!1;const r=n.model.schema.getValidRanges(i,e);for(const o of r)t.setAttribute(e,!0,o);t.removeSelectionAttribute(e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XI extends kt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,s=t.document.selection,r=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(s.isCollapsed)r?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=t.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const l of a)r?o.setAttribute(this.attributeKey,r,l):o.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const s of i.getRanges())for(const r of s.getItems())if(t.checkAttribute(r,this.attributeKey))return r.hasAttribute(this.attributeKey);return!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ua="bold";class xX extends Ne{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Ua}),e.model.schema.setAttributeProperties(Ua,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ua,view:"strong",upcastAlso:["b",t=>{const i=t.getStyle("font-weight");return i&&(i=="bold"||Number(i)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Ua,new XI(e,Ua)),e.keystrokes.set("CTRL+B",Ua)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const kp="bold";class PX extends Ne{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(kp,i=>{const s=e.commands.get(kp),r=new Zt(i);return r.set({label:t("Bold"),icon:en.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(kp),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TC extends Ne{static get requires(){return[xX,PX]}static get pluginName(){return"Bold"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const za="italic";class IX extends Ne{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:za}),e.model.schema.setAttributeProperties(za,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:za,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(za,new XI(e,za)),e.keystrokes.set("CTRL+I",za)}}const OX='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Sp="italic";class RX extends Ne{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Sp,i=>{const s=e.commands.get(Sp),r=new Zt(i);return r.set({label:t("Italic"),icon:OX,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(Sp),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AC extends Ne{static get requires(){return[IX,RX]}static get pluginName(){return"Italic"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MX extends kt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.schema,s=t.document.selection,r=Array.from(s.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;t.change(a=>{if(!o)this._removeQuote(a,r.filter(Bd));else{const l=r.filter(c=>Bd(c)||PC(i,c));this._applyQuote(a,l)}})}_getValue(){const e=this.editor.model.document.selection,t=En(e.getSelectedBlocks());return!!(t&&Bd(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=En(e.getSelectedBlocks());return i?PC(t,i):!1}_removeQuote(e,t){xC(e,t).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd){e.unwrap(i.start.parent);return}if(i.start.isAtStart){const r=e.createPositionBefore(i.start.parent);e.move(i,r);return}i.end.isAtEnd||e.split(i.end);const s=e.createPositionAfter(i.end.parent);e.move(i,s)})}_applyQuote(e,t){const i=[];xC(e,t).reverse().forEach(s=>{let r=Bd(s.start);r||(r=e.createElement("blockQuote"),e.wrap(s,r)),i.push(r)}),i.reverse().reduce((s,r)=>s.nextSibling==r?(e.merge(e.createPositionAfter(s)),s):r)}}function Bd(n){return n.parent.name=="blockQuote"?n.parent:null}function xC(n,e){let t,i=0;const s=[];for(;i<e.length;){const r=e[i],o=e[i+1];t||(t=n.createPositionBefore(r)),(!o||r.nextSibling!=o)&&(s.push(n.createRange(t,n.createPositionAfter(r))),t=null),i++}return s}function PC(n,e){const t=n.checkChild(e.parent,"blockQuote"),i=n.checkChild(["$root","blockQuote"],e);return t&&i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DX extends Ne{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Hh,Aa]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new MX(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const a=e.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const c=l.position.nodeAfter;if(!c)continue;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0;if(c.is("element","blockQuote")&&!t.checkChild(l.position,c))return o.unwrap(c),!0;if(c.is("element")){const u=o.createRangeIn(c);for(const d of u.getItems())if(d.is("element","blockQuote")&&!t.checkChild(o.createPositionBefore(d),d))return o.unwrap(d),!0}}else if(l.type=="remove"){const c=l.position.parent;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0}return!1});const i=this.editor.editing.view.document,s=e.model.document.selection,r=e.commands.get("blockQuote");this.listenTo(i,"enter",(o,a)=>{if(!s.isCollapsed||!r.value)return;s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(o,a)=>{if(a.direction!="backward"||!s.isCollapsed||!r.value)return;const l=s.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FX extends Ne{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",i=>{const s=e.commands.get("blockQuote"),r=new Zt(i);return r.set({label:t("Block quote"),icon:en.quote,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class NX extends Ne{static get requires(){return[DX,FX]}static get pluginName(){return"BlockQuote"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LX extends kt{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=En(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>IC(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,i=t.document,s=e.value;t.change(r=>{const o=Array.from(i.selection.getSelectedBlocks()).filter(a=>IC(a,s,t.schema));for(const a of o)a.is("element",s)||r.rename(a,s)})}}function IC(n,e,t){return t.checkChild(n.parent,e)&&!t.isObject(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const OC="paragraph";class $X extends Ne{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Hu]}init(){const e=this.editor,t=e.config.get("heading.options"),i=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),i.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new LX(e,i))}afterInit(){const e=this.editor,t=e.commands.get("enter"),i=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,r)=>{const o=e.model.document.selection.getFirstPosition().parent;i.some(l=>o.is("element",l.model))&&!o.is("element",OC)&&o.childCount===0&&r.writer.rename(o,OC)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:so.get("low")+1})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function BX(n){const e=n.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return n.config.get("heading.options").map(i=>{const s=t[i.title];return s&&s!=i.title&&(i.title=s),i})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VX extends Ne{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,i=BX(e),s=t("Choose heading"),r=t("Heading");e.ui.componentFactory.add("heading",o=>{const a={},l=new Ss,c=e.commands.get("heading"),u=e.commands.get("paragraph"),d=[c];for(const h of i){const p={type:"button",model:new _I({label:h.title,class:h.class,withText:!0})};h.model==="paragraph"?(p.model.bind("isOn").to(u,"value"),p.model.set("commandName","paragraph"),d.push(u)):(p.model.bind("isOn").to(c,"value",m=>m===h.model),p.model.set({commandName:"heading",commandValue:h.model})),l.add(p),a[h.model]=h.title}const f=ro(o);return pI(f,l),f.buttonView.set({isOn:!1,withText:!0,tooltip:r}),f.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),f.bind("isEnabled").toMany(d,"isEnabled",(...h)=>h.some(p=>p)),f.buttonView.bind("label").to(c,"value",u,"value",(h,p)=>{const m=h||p&&"paragraph";return typeof m=="boolean"||!a[m]?s:a[m]}),this.listenTo(f,"execute",h=>{const{commandName:p,commandValue:m}=h.source;e.execute(p,m?{value:m}:void 0),e.editing.view.focus()}),f})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UX extends Ne{static get requires(){return[$X,VX]}static get pluginName(){return"Heading"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zX extends kt{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled&&i.hasAttribute("alt")?this.value=i.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,i=t.plugins.get("ImageUtils"),s=t.model,r=i.getClosestSelectedImageElement(s.document.selection);s.change(o=>{o.setAttribute("alt",e.newValue,r)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HX(n){return n.createContainerElement("span",{class:"image-inline"},n.createEmptyElement("img"))}function RC(n){return n.createContainerElement("figure",{class:"image"},[n.createEmptyElement("img"),n.createSlot("children")])}function ZI(n,e){const t=n.plugins.get("ImageUtils"),i=n.plugins.has("ImageInlineEditing")&&n.plugins.has("ImageBlockEditing");return r=>t.isInlineImageView(r)?i&&(r.getStyle("display")=="block"||r.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(r):null;function s(r){const o={name:!0};return r.hasAttribute("src")&&(o.attributes=["src"]),o}}function Ay(n,e){const t=En(e.getSelectedBlocks());return!t||n.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sr extends Ne{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,i=null){const s=this.editor,r=s.model,o=r.document.selection;i=e2(s,t||o,i),e={...Object.fromEntries(o.getAttributes()),...e};for(const a in e)r.schema.checkAttribute(i,a)||delete e[a];return r.change(a=>{const l=a.createElement(i,e);return r.insertObject(l,t,null,{setSelection:"on",findOptimalPosition:!t&&i!="imageInline"?"auto":void 0}),l.parent?l:null})}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const i=e.getSelectedElement();if(i&&this.isImageWidget(i))return i;let s=t.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const t=this.editor.model.document.selection;return WX(this.editor,t)&&jX(t)}toImageWidget(e,t,i){return t.setCustomProperty("image",!0,e),qI(e,t,{label:()=>{const o=this.findViewImgElement(e).getAttribute("alt");return o?`${o} ${i}`:i}})}isImageWidget(e){return!!e.getCustomProperty("image")&&tn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:i}of t.createRangeIn(e))if(this.isInlineImageView(i))return i}}function WX(n,e){if(e2(n,e,null)=="imageBlock"){const i=qX(e,n.model);if(n.model.schema.checkChild(i,"imageBlock"))return!0}else if(n.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function jX(n){return[...n.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function qX(n,e){const i=LJ(n,e).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}function e2(n,e,t){const i=n.model.schema,s=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?t||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?Ay(i,e):i.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KX extends Ne{static get requires(){return[sr]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new zX(this.editor))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class GX extends Ct{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new Es,this.keystrokes=new Dr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),en.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),en.cancel,"ck-button-cancel","cancel"),this._focusables=new ka,this._focusCycler=new zu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Nx({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,i,s){const r=new Zt(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:i}}),s&&r.delegate("execute").to(this,s),r}_createLabeledInputView(){const e=this.locale.t,t=new yI(this.locale,wI);return t.label=e("Text alternative"),t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function QX(n){const e=n.plugins.get("ContextualBalloon");if(n.plugins.get("ImageUtils").getClosestSelectedImageWidget(n.editing.view.document.selection)){const i=t2(n);e.updatePosition(i)}}function t2(n){const e=n.editing.view,t=ni.defaultPositions,i=n.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YX extends Ne{static get requires(){return[Bf]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",i=>{const s=e.commands.get("imageTextAlternative"),r=new Zt(i);return r.set({label:t("Change image text alternative"),icon:en.lowVision,tooltip:!0}),r.bind("isEnabled").to(s,"isEnabled"),r.bind("isOn").to(s,"value",o=>!!o),this.listenTo(r,"execute",()=>{this._showForm()}),r})}_createForm(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Fx(GX))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(r,o)=>{this._hideForm(!0),o()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(i.selection)?this._isVisible&&QX(e):this._hideForm(!0)}),Zb({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),i=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:t2(e)}),i.fieldView.value=i.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class n2 extends Ne{static get requires(){return[KX,YX]}static get pluginName(){return"ImageTextAlternative"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function JX(n){const e=(t,i,s)=>{if(!s.consumable.test(i.viewItem,{name:!0,classes:"image"}))return;const r=n.findViewImgElement(i.viewItem);if(!r||!s.consumable.test(r,{name:!0}))return;s.consumable.consume(i.viewItem,{name:!0,classes:"image"});const o=s.convertItem(r,i.modelCursor),a=En(o.modelRange.getItems());if(!a){s.consumable.revert(i.viewItem,{name:!0,classes:"image"});return}s.convertChildren(i.viewItem,a),s.updateConversionResult(a,i)};return t=>{t.on("element:figure",e)}}function i2(n,e){const t=(i,s,r)=>{if(!r.consumable.consume(s.item,i.name))return;const o=r.writer,a=r.mapper.toViewElement(s.item),l=n.findViewImgElement(a);if(s.attributeNewValue===null){const c=s.attributeOldValue;c&&c.data&&(o.removeAttribute("srcset",l),o.removeAttribute("sizes",l),c.width&&o.removeAttribute("width",l))}else{const c=s.attributeNewValue;c&&c.data&&(o.setAttribute("srcset",c.data,l),o.setAttribute("sizes","100vw",l),c.width&&o.setAttribute("width",c.width,l))}};return i=>{i.on(`attribute:srcset:${e}`,t)}}function Hf(n,e,t){const i=(s,r,o)=>{if(!o.consumable.consume(r.item,s.name))return;const a=o.writer,l=o.mapper.toViewElement(r.item),c=n.findViewImgElement(l);a.setAttribute(r.attributeKey,r.attributeNewValue||"",c)};return s=>{s.on(`attribute:${t}:${e}`,i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XX extends rr{observe(e){this.listenTo(e,"load",(t,i)=>{const s=i.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ZX extends kt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&Jt("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&Jt("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Wn(e.source),i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());t.forEach((o,a)=>{const l=i.getSelectedElement();if(typeof o=="string"&&(o={src:o}),a&&l&&s.isImage(l)){const c=this.editor.model.createPositionAfter(l);s.insertImage({...o,...r},c)}else s.insertImage({...o,...r})})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eZ extends kt{refresh(){const t=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(i=>{i.setAttribute("src",e.source,t),i.removeAttribute("srcset",t),i.removeAttribute("sizes",t)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s2 extends Ne{static get requires(){return[sr]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(XX),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:r=>{const o={data:r.getAttribute("srcset")};return r.hasAttribute("width")&&(o.width=r.getAttribute("width")),o}}});const i=new ZX(e),s=new eZ(e);e.commands.add("insertImage",i),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r2 extends kt{constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),i=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(i):this.isEnabled=t.isBlockImage(i)}execute(){const e=this.editor,t=this.editor.model,i=e.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(t.document.selection),r=Object.fromEntries(s.getAttributes());return!r.src&&!r.uploadId?null:t.change(o=>{const a=Array.from(t.markers).filter(u=>u.getRange().containsItem(s)),l=i.insertImage(r,t.createSelection(s,"on"),this._modelElementName);if(!l)return null;const c=o.createRangeOn(l);for(const u of a){const d=u.getRange(),f=d.root.rootName!="$graveyard"?d.getJoined(c,!0):c;o.updateMarker(u,{range:f})}return{oldElement:s,newElement:l}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class o2 extends Ne{static get requires(){return[s2,sr,Ir]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new r2(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,i=e.conversion,s=e.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:o})=>RC(o)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:o})=>s.toImageWidget(RC(o),o,t("image widget"))}),i.for("downcast").add(Hf(s,"imageBlock","src")).add(Hf(s,"imageBlock","alt")).add(i2(s,"imageBlock")),i.for("upcast").elementToElement({view:ZI(e,"imageBlock"),model:(r,{writer:o})=>o.createElement("imageBlock",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)}).add(JX(s))}_setupClipboardIntegration(){const e=this.editor,t=e.model,i=e.editing.view,s=e.plugins.get("ImageUtils"),r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(s.isInlineImageView))return;a.targetRanges?c=e.editing.mapper.toModelRange(a.targetRanges[0]):c=t.document.selection.getFirstRange();const u=t.createSelection(c);if(Ay(t.schema,u)==="imageBlock"){const d=new yy(i.document),f=l.map(h=>d.createElement("figure",{class:"image"},h));a.content=d.createDocumentFragment(f)}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tZ extends Ne{static get requires(){return[o2,Wh,n2]}static get pluginName(){return"ImageBlock"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nZ extends Ne{static get requires(){return[s2,sr,Ir]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((i,s)=>{if(i.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new r2(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,i=e.conversion,s=e.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(r,{writer:o})=>o.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(r,{writer:o})=>s.toImageWidget(HX(o),o,t("image widget"))}),i.for("downcast").add(Hf(s,"imageInline","src")).add(Hf(s,"imageInline","alt")).add(i2(s,"imageInline")),i.for("upcast").elementToElement({view:ZI(e,"imageInline"),model:(r,{writer:o})=>o.createElement("imageInline",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,i=e.editing.view,s=e.plugins.get("ImageUtils"),r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(s.isBlockImageView))return;a.targetRanges?c=e.editing.mapper.toModelRange(a.targetRanges[0]):c=t.document.selection.getFirstRange();const u=t.createSelection(c);if(Ay(t.schema,u)==="imageInline"){const d=new yy(i.document),f=l.map(h=>h.childCount===1?(Array.from(h.getAttributes()).forEach(p=>d.setAttribute(...p,s.findViewImgElement(h))),h.getChild(0)):h);a.content=d.createDocumentFragment(f)}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iZ extends Ne{static get requires(){return[nZ,Wh,n2]}static get pluginName(){return"ImageInline"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sZ extends Ne{static get requires(){return[tZ,iZ]}static get pluginName(){return"Image"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rZ extends kt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),i=e.plugins.get("ImageUtils");if(!e.plugins.has(o2)){this.isEnabled=!1,this.value=!1;return}const s=e.model.document.selection,r=s.getSelectedElement();if(!r){const o=t.getCaptionFromModelSelection(s);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=i.isImage(r),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(r):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,t)})}_showImageCaption(e,t){const s=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let a=s.getSelectedElement();const l=r._getSavedCaption(a);o.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=s.getSelectedElement());const c=l||e.createElement("caption");e.append(c,a),t&&e.setSelection(c,"in")}_hideImageCaption(e){const t=this.editor,i=t.model.document.selection,s=t.plugins.get("ImageCaptionEditing"),r=t.plugins.get("ImageCaptionUtils");let o=i.getSelectedElement(),a;o?a=r.getCaptionFromImageModelElement(o):(a=r.getCaptionFromModelSelection(i),o=a.parent),s._saveCaption(o,a),e.setSelection(o,"on"),e.remove(a)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class a2 extends Ne{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[sr]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),i=e.getFirstPosition().findAncestor("caption");return i&&t.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oZ extends Ne{static get requires(){return[sr,a2]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new rZ(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),r=e.t;e.conversion.for("upcast").elementToElement({view:o=>s.matchImageCaptionViewElement(o),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>i.isBlockImage(o.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!i.isBlockImage(o.parent))return null;const l=a.createEditableElement("figcaption");a.setCustomProperty("imageCaption",!0,l),yP({view:t,element:l,text:r("Enter image caption"),keepOnFocus:!0});const c=o.parent.getAttribute("alt"),u=c?r("Caption for image: %0",[c]):r("Caption for the image");return GI(l,a,{label:u})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),r=e.commands.get("imageTypeBlock"),o=a=>{if(!a.return)return;const{oldElement:l,newElement:c}=a.return;/* istanbul ignore if: paranoid check -- @preserve */if(!l)return;if(t.isBlockImage(l)){const d=i.getCaptionFromImageModelElement(l);if(d){this._saveCaption(c,d);return}}const u=this._getSavedCaption(l);u&&this._saveCaption(c,u)};s&&this.listenTo(s,"execute",o,{priority:"low"}),r&&this.listenTo(r,"execute",o,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Kt.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const r=t.document.differ.getChanges();for(const o of r){if(o.attributeKey!=="alt")continue;const a=o.range.start.nodeAfter;if(i.isBlockImage(a)){const l=s.getCaptionFromImageModelElement(a);if(!l)return;e.editing.reconvertItem(l)}}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aZ extends Ne{static get requires(){return[a2]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",r=>{const o=e.commands.get("toggleImageCaption"),a=new Zt(r);return a.set({icon:en.caption,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.bind("label").to(o,"value",l=>s(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=i.getCaptionFromModelSelection(e.model.document.selection);if(l){const c=e.editing.mapper.toViewElement(l);t.scrollToTheSelection(),t.change(u=>{u.addClass("image__caption_highlighted",c)})}e.editing.view.focus()}),a})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lZ extends Ne{static get requires(){return[oZ,aZ]}static get pluginName(){return"ImageCaption"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cZ extends kt{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(i=>{if(i.isDefault)for(const s of i.modelElements)this._defaultStyles[s]=i.name;return[i.name,i]}))}refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled?i.hasAttribute("imageStyle")?this.value=i.getAttribute("imageStyle"):this.value=this._defaultStyles[i.name]:this.value=!1}execute(e={}){const t=this.editor,i=t.model,s=t.plugins.get("ImageUtils");i.change(r=>{const o=e.value;let a=s.getClosestSelectedImageElement(i.document.selection);o&&this.shouldConvertImageType(o,a)&&(this.editor.execute(s.isBlockImage(a)?"imageTypeInline":"imageTypeBlock"),a=s.getClosestSelectedImageElement(i.document.selection)),!o||this._styles.get(o).isDefault?r.removeAttribute("imageStyle",a):r.setAttribute("imageStyle",o,a)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{objectFullWidth:uZ,objectInline:l2,objectLeft:c2,objectRight:ov,objectCenter:av,objectBlockLeft:u2,objectBlockRight:d2}=en,lf={get inline(){return{name:"inline",title:"In line",icon:l2,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:c2,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:u2,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:av,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:ov,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:d2,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:av,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:ov,modelElements:["imageBlock"],className:"image-style-side"}}},f2={full:uZ,left:u2,right:d2,center:av,inlineLeft:c2,inlineRight:ov,inline:l2},h2=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function dZ(n){return(n.configuredStyles.options||[]).map(i=>mZ(i)).filter(i=>pZ(i,n))}function fZ(n,e){return n&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:n?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function hZ(n){return n.has("ImageBlockEditing")&&n.has("ImageInlineEditing")?[...h2]:[]}function mZ(n){return typeof n=="string"?lf[n]?n={...lf[n]}:n={name:n}:n=gZ(lf[n.name],n),typeof n.icon=="string"&&(n.icon=f2[n.icon]||n.icon),n}function pZ(n,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:i,name:s}=n;if(!i||!i.length||!s)return m2({style:n}),!1;{const r=[e?"imageBlock":null,t?"imageInline":null];if(!i.some(o=>r.includes(o)))return Jt("image-style-missing-dependency",{style:n,missingPlugins:i.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function gZ(n,e){const t={...e};for(const i in n)Object.prototype.hasOwnProperty.call(e,i)||(t[i]=n[i]);return t}function m2(n){Jt("image-style-configuration-definition-invalid",n)}const lv={normalizeStyles:dZ,getDefaultStylesConfiguration:fZ,getDefaultDropdownDefinitions:hZ,warnInvalidStyle:m2,DEFAULT_OPTIONS:lf,DEFAULT_ICONS:f2,DEFAULT_DROPDOWN_DEFINITIONS:h2};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vZ(n){return(e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const s=MC(t.attributeNewValue,n),r=MC(t.attributeOldValue,n),o=i.mapper.toViewElement(t.item),a=i.writer;r&&a.removeClass(r.className,o),s&&a.addClass(s.className,o)}}function bZ(n){const e={imageInline:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,i,s)=>{if(!i.modelRange)return;const r=i.viewItem,o=En(i.modelRange.getItems());if(o&&s.schema.checkAttribute(o,"imageStyle"))for(const a of e[o.name])s.consumable.consume(r,{classes:a.className})&&s.writer.setAttribute("imageStyle",a.name,o)}}function MC(n,e){for(const t of e)if(t.name===n)return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class p2 extends Ne{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[sr]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=lv,i=this.editor,s=i.plugins.has("ImageBlockEditing"),r=i.plugins.has("ImageInlineEditing");i.config.define("image.styles",t(s,r)),this.normalizedStyles=e({configuredStyles:i.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:r}),this._setupConversion(s,r),this._setupPostFixer(),i.commands.add("imageStyle",new cZ(i,this.normalizedStyles))}_setupConversion(e,t){const i=this.editor,s=i.model.schema,r=vZ(this.normalizedStyles),o=bZ(this.normalizedStyles);i.editing.downcastDispatcher.on("attribute:imageStyle",r),i.data.downcastDispatcher.on("attribute:imageStyle",r),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:figure",o,{priority:"low"})),t&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:img",o,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,i=e.plugins.get(sr),s=new Map(this.normalizedStyles.map(r=>[r.name,r]));t.registerPostFixer(r=>{let o=!1;for(const a of t.differ.getChanges())if(a.type=="insert"||a.type=="attribute"&&a.attributeKey=="imageStyle"){let l=a.type=="insert"?a.position.nodeAfter:a.range.start.nodeAfter;if(l&&l.is("element","paragraph")&&l.childCount>0&&(l=l.getChild(0)),!i.isImage(l))continue;const c=l.getAttribute("imageStyle");if(!c)continue;const u=s.get(c);(!u||!u.modelElements.includes(l.name))&&(r.removeAttribute("imageStyle",l),o=!0)}return o})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yZ extends Ne{static get requires(){return[p2]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],i=e.get("ImageStyleEditing"),s=DC(i.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of s)this._createButton(o);const r=DC([...t.filter(Xt),...lv.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const o of r)this._createDropdown(o,s)}_createDropdown(e,t){const i=this.editor.ui.componentFactory;i.add(e.name,s=>{let r;const{defaultItem:o,items:a,title:l}=e,c=a.filter(h=>t.find(({name:p})=>FC(p)===h)).map(h=>{const p=i.create(h);return h===o&&(r=p),p});a.length!==c.length&&lv.warnInvalidStyle({dropdown:e});const u=ro(s,ly),d=u.buttonView,f=d.arrowView;return Uh(u,c,{enableActiveItemFocusOnDropdownOpen:!0}),d.set({label:NC(l,r.label),class:null,tooltip:!0}),f.unbind("label"),f.set({label:l}),d.bind("icon").toMany(c,"isOn",(...h)=>{const p=h.findIndex($o);return p<0?r.icon:c[p].icon}),d.bind("label").toMany(c,"isOn",(...h)=>{const p=h.findIndex($o);return NC(l,p<0?r.label:c[p].label)}),d.bind("isOn").toMany(c,"isOn",(...h)=>h.some($o)),d.bind("class").toMany(c,"isOn",(...h)=>h.some($o)?"ck-splitbutton_flatten":void 0),d.on("execute",()=>{c.some(({isOn:h})=>h)?u.isOpen=!u.isOpen:r.fire("execute")}),u.bind("isEnabled").toMany(c,"isEnabled",(...h)=>h.some($o)),this.listenTo(u,"execute",()=>{this.editor.editing.view.focus()}),u})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(FC(t),i=>{const s=this.editor.commands.get("imageStyle"),r=new Zt(i);return r.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(s,"isEnabled"),r.bind("isOn").to(s,"value",o=>o===t),r.on("execute",this._executeCommand.bind(this,t)),r})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function DC(n,e){for(const t of n)e[t.title]&&(t.title=e[t.title]);return n}function FC(n){return`imageStyle:${n}`}function NC(n,e){return(n?n+": ":"")+e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wZ extends Ne{static get requires(){return[p2,yZ]}static get pluginName(){return"ImageStyle"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _Z extends Ne{static get requires(){return[zf,sr]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,i=e.plugins.get(zf),s=e.plugins.get("ImageUtils");i.register("image",{ariaLabel:t("Image toolbar"),items:CZ(e.config.get("image.toolbar")||[]),getRelatedElement:r=>s.getClosestSelectedImageWidget(r)})}}function CZ(n){return n.map(e=>Xt(e)?e.name:e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kZ extends $t(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((i,s)=>{t.onload=()=>{const r=t.result;this._data=r,i(r)},t.onerror=()=>{s("error")},t.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ea extends Ne{constructor(){super(...arguments),this.loaders=new Ss,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[$f]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Jt("filerepository-no-upload-adapter"),null;const t=new LC(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(i=>{this._loadersMap.set(i,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let i=0;for(const s of this.loaders)i+=s.uploaded;this.uploaded=i}),t.on("change:uploadTotal",()=>{let i=0;for(const s of this.loaders)s.uploadTotal&&(i+=s.uploadTotal);this.uploadTotal=i}),t}destroyLoader(e){const t=e instanceof LC?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((i,s)=>{i===t&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get($f);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,i=s=>`${t("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(i(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",i)}}else e.remove(this._pendingAction),this._pendingAction=null}}class LC extends $t(){constructor(e,t){super(),this.id=nr(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new kZ,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,s)=>s?i/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new V("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new V("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((i,s)=>{t.rejecter=s,t.isFulfilled=!1,e.then(r=>{t.isFulfilled=!0,i(r)}).catch(r=>{t.isFulfilled=!0,s(r)})}),t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SZ extends Ct{constructor(e){super(e),this.buttonView=new Zt(e),this._fileInputView=new EZ(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class EZ extends Ct{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TZ extends Ne{static get requires(){return[ea]}static get pluginName(){return"SimpleUploadAdapter"}init(){const e=this.editor.config.get("simpleUpload");if(e){if(!e.uploadUrl){Jt("simple-upload-adapter-missing-uploadurl");return}this.editor.plugins.get(ea).createUploadAdapter=t=>new AZ(t,e)}}}class AZ{constructor(e,t){this.loader=e,this.options=t}upload(){return this.loader.file.then(e=>new Promise((t,i)=>{this._initRequest(),this._initListeners(t,i,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.options.uploadUrl,!0),e.responseType="json"}_initListeners(e,t,i){const s=this.xhr,r=this.loader,o=`Couldn't upload file: ${i.name}.`;s.addEventListener("error",()=>t(o)),s.addEventListener("abort",()=>t()),s.addEventListener("load",()=>{const a=s.response;if(!a||a.error)return t(a&&a.error&&a.error.message?a.error.message:o);const l=a.url?{default:a.url}:a.urls;e({...a,urls:l})});/* istanbul ignore else -- @preserve */s.upload&&s.upload.addEventListener("progress",a=>{a.lengthComputable&&(r.uploadTotal=a.total,r.uploaded=a.loaded)})}_sendRequest(e){const t=this.options.headers||{},i=this.options.withCredentials||!1;for(const r of Object.keys(t))this.xhr.setRequestHeader(r,t[r]);this.xhr.withCredentials=i;const s=new FormData;s.append("upload",e),this.xhr.send(s)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function g2(n){const e=n.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function xZ(n){return new Promise((e,t)=>{const i=n.getAttribute("src");fetch(i).then(s=>s.blob()).then(s=>{const r=v2(s,i),a=`image.${r.replace("image/","")}`,l=new File([s],a,{type:r});e(l)}).catch(s=>s&&s.name==="TypeError"?IZ(i).then(e).catch(t):t(s))})}function PZ(n,e){return!n.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function v2(n,e){return n.type?n.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function IZ(n){return OZ(n).then(e=>{const t=v2(e,n),s=`image.${t.replace("image/","")}`;return new File([e],s,{type:t})})}function OZ(n){return new Promise((e,t)=>{const i=_t.document.createElement("img");i.addEventListener("load",()=>{const s=_t.document.createElement("canvas");s.width=i.width,s.height=i.height,s.getContext("2d").drawImage(i,0,0),s.toBlob(o=>o?e(o):t())}),i.addEventListener("error",()=>t()),i.src=n})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RZ extends Ne{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,i=s=>{const r=new SZ(s),o=e.commands.get("uploadImage"),a=e.config.get("image.upload.types"),l=g2(a);return r.set({acceptedType:a.map(c=>`image/${c}`).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:t("Insert image"),icon:en.image,tooltip:!0}),r.buttonView.bind("isEnabled").to(o),r.on("done",(c,u)=>{const d=Array.from(u).filter(f=>l.test(f.type));d.length&&(e.execute("uploadImage",{file:d}),e.editing.view.focus())}),r};e.ui.componentFactory.add("uploadImage",i),e.ui.componentFactory.add("imageUpload",i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MZ extends Ne{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,i,s)=>{const r=this.editor,o=i.item,a=o.getAttribute("uploadId");if(!s.consumable.consume(i.item,t.name))return;const l=r.plugins.get("ImageUtils"),c=r.plugins.get(ea),u=a?i.attributeNewValue:null,d=this.placeholder,f=r.editing.mapper.toViewElement(o),h=s.writer;if(u=="reading"){$C(f,h),BC(l,d,f,h);return}if(u=="uploading"){const p=c.loaders.get(a);$C(f,h),p?(VC(f,h),FZ(f,h,p,r.editing.view),VZ(l,f,h,p)):BC(l,d,f,h);return}u=="complete"&&c.loaders.get(a)&&LZ(f,h,r.editing.view),NZ(f,h),VC(f,h),DZ(f,h)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function $C(n,e){n.hasClass("ck-appear")||e.addClass("ck-appear",n)}function DZ(n,e){e.removeClass("ck-appear",n)}function BC(n,e,t,i){t.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",t);const s=n.findViewImgElement(t);s.getAttribute("src")!==e&&i.setAttribute("src",e,s),b2(t,"placeholder")||i.insert(i.createPositionAfter(s),BZ(i))}function VC(n,e){n.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",n),y2(n,e,"placeholder")}function FZ(n,e,t,i){const s=$Z(e);e.insert(e.createPositionAt(n,"end"),s),t.on("change:uploadedPercent",(r,o,a)=>{i.change(l=>{l.setStyle("width",a+"%",s)})})}function NZ(n,e){y2(n,e,"progressBar")}function LZ(n,e,t){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(n,"end"),i),setTimeout(()=>{t.change(s=>s.remove(s.createRangeOn(i)))},3e3)}function $Z(n){const e=n.createUIElement("div",{class:"ck-progress-bar"});return n.setCustomProperty("progressBar",!0,e),e}function BZ(n){const e=n.createUIElement("div",{class:"ck-upload-placeholder-loader"});return n.setCustomProperty("placeholder",!0,e),e}function b2(n,e){for(const t of n.getChildren())if(t.getCustomProperty(e))return t}function y2(n,e,t){const i=b2(n,t);i&&e.remove(e.createRangeOn(i))}function VZ(n,e,t,i){if(i.data){const s=n.findViewImgElement(e);t.setAttribute("src",i.data,s)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UZ extends kt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(i)}execute(e){const t=Wn(e.file),i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());t.forEach((o,a)=>{const l=i.getSelectedElement();if(a&&l&&s.isImage(l)){const c=this.editor.model.createPositionAfter(l);this._uploadImage(o,r,c)}else this._uploadImage(o,r)})}_uploadImage(e,t,i){const s=this.editor,o=s.plugins.get(ea).createLoader(e),a=s.plugins.get("ImageUtils");o&&a.insertImage({...t,uploadId:o.id},i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zZ extends Ne{static get requires(){return[ea,j1,Ir,sr]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,i=e.conversion,s=e.plugins.get(ea),r=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline"),a=g2(e.config.get("image.upload.types")),l=new UZ(e);e.commands.add("uploadImage",l),e.commands.add("imageUpload",l),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(c,u)=>{if(HZ(u.dataTransfer))return;const d=Array.from(u.dataTransfer.files).filter(f=>f?a.test(f.type):!1);d.length&&(c.stop(),e.model.change(f=>{u.targetRanges&&f.setSelection(u.targetRanges.map(h=>e.editing.mapper.toModelRange(h))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:d})})}))}),this.listenTo(o,"inputTransformation",(c,u)=>{const d=Array.from(e.editing.view.createRangeIn(u.content)).map(h=>h.item).filter(h=>PZ(r,h)&&!h.getAttribute("uploadProcessed")).map(h=>({promise:xZ(h),imageElement:h}));if(!d.length)return;const f=new yy(e.editing.view.document);for(const h of d){f.setAttribute("uploadProcessed",!0,h.imageElement);const p=s.createLoader(h.promise);p&&(f.setAttribute("src","",h.imageElement),f.setAttribute("uploadId",p.id,h.imageElement))}}),e.editing.view.document.on("dragover",(c,u)=>{u.preventDefault()}),t.on("change",()=>{const c=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),u=new Set;for(const d of c)if(d.type=="insert"&&d.name!="$text"){const f=d.position.nodeAfter,h=d.position.root.rootName=="$graveyard";for(const p of WZ(e,f)){const m=p.getAttribute("uploadId");if(!m)continue;const b=s.loaders.get(m);b&&(h?u.has(m)||b.abort():(u.add(m),this._uploadImageElements.set(m,p),b.status=="idle"&&this._readAndUpload(b)))}}}),this.on("uploadComplete",(c,{imageElement:u,data:d})=>{const f=d.urls?d.urls:d;this.editor.model.change(h=>{h.setAttribute("src",f.default,u),this._parseAndSetSrcsetAttributeOnImage(f,u,h)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,i=t.model,s=t.locale.t,r=t.plugins.get(ea),o=t.plugins.get(j1),a=t.plugins.get("ImageUtils"),l=this._uploadImageElements;return i.enqueueChange({isUndoable:!1},u=>{u.setAttribute("uploadStatus","reading",l.get(e.id))}),e.read().then(()=>{const u=e.upload(),d=l.get(e.id);/* istanbul ignore next -- @preserve */if(mt.isSafari){const f=t.editing.mapper.toViewElement(d),h=a.findViewImgElement(f);t.editing.view.once("render",()=>{if(!h.parent)return;const p=t.editing.view.domConverter.mapViewToDom(h.parent);if(!p)return;const m=p.style.display;p.style.display="none",p._ckHack=p.offsetHeight,p.style.display=m})}return i.enqueueChange({isUndoable:!1},f=>{f.setAttribute("uploadStatus","uploading",d)}),u}).then(u=>{i.enqueueChange({isUndoable:!1},d=>{const f=l.get(e.id);d.setAttribute("uploadStatus","complete",f),this.fire("uploadComplete",{data:u,imageElement:f})}),c()}).catch(u=>{if(e.status!=="error"&&e.status!=="aborted")throw u;e.status=="error"&&u&&o.showWarning(u,{title:s("Upload failed"),namespace:"upload"}),i.enqueueChange({isUndoable:!1},d=>{d.remove(l.get(e.id))}),c()});function c(){i.enqueueChange({isUndoable:!1},u=>{const d=l.get(e.id);u.removeAttribute("uploadId",d),u.removeAttribute("uploadStatus",d),l.delete(e.id)}),r.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,i){let s=0;const r=Object.keys(e).filter(o=>{const a=parseInt(o,10);if(!isNaN(a))return s=Math.max(s,a),!0}).map(o=>`${e[o]} ${o}w`).join(", ");r!=""&&i.setAttribute("srcset",{data:r,width:s},t)}}function HZ(n){return Array.from(n.types).includes("text/html")&&n.getData("text/html")!==""}function WZ(n,e){const t=n.plugins.get("ImageUtils");return Array.from(n.model.createRangeOn(e)).filter(i=>t.isImage(i.item)).map(i=>i.item)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jZ extends Ne{static get pluginName(){return"ImageUpload"}static get requires(){return[zZ,RZ,MZ]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qZ{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,i,s)=>{if(!s.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||s.schema.isInline(i.item)))return;const r=s.writer,o=r.document.selection;for(const a of this._definitions){const l=r.createAttributeElement("a",a.attributes,{priority:5});a.classes&&r.addClass(a.classes,l);for(const c in a.styles)r.setStyle(c,a.styles[c],l);r.setCustomProperty("link",!0,l),a.callback(i.attributeNewValue)?i.item.is("selection")?r.wrap(o.getFirstRange(),l):r.wrap(s.mapper.toViewRange(i.range),l):r.unwrap(s.mapper.toViewRange(i.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,i,{writer:s,mapper:r})=>{const o=r.toViewElement(i.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));for(const l of this._definitions){const c=Ar(l.attributes);if(l.callback(i.attributeNewValue)){for(const[u,d]of c)u==="class"?s.addClass(d,a):s.setAttribute(u,d,a);l.classes&&s.addClass(l.classes,a);for(const u in l.styles)s.setStyle(u,l.styles[u],a)}else{for(const[u,d]of c)u==="class"?s.removeClass(d,a):s.removeAttribute(u,a);l.classes&&s.removeClass(l.classes,a);for(const u in l.styles)s.removeStyle(u,a)}}})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const KZ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,GZ=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,QZ=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,YZ=/^((\w+:(\/{2,})?)|(\W))/i,Ep="Ctrl+K";function JZ(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function UC(n,{writer:e}){const t=e.createAttributeElement("a",{href:n},{priority:5});return e.setCustomProperty("link",!0,t),t}function w2(n){const e=String(n);return XZ(e)?e:"#"}function XZ(n){return!!n.replace(KZ,"").match(GZ)}function ZZ(n,e){const t={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return e.forEach(i=>("label"in i&&t[i.label]&&(i.label=t[i.label]),i)),e}function eee(n){const e=[];if(n)for(const[t,i]of Object.entries(n)){const s=Object.assign({},i,{id:`link${FF(t)}`});e.push(s)}return e}function cv(n,e){return n?e.checkAttribute(n.name,"linkHref"):!1}function tee(n){return QZ.test(n)}function xy(n,e){const t=tee(n)?"mailto:":e,i=!!t&&!_2(n);return n&&i?t+n:n}function _2(n){return YZ.test(n)}function zC(n){window.open(n,"_blank","noopener")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nee extends kt{constructor(){super(...arguments),this.manualDecorators=new Ss,this.automaticDecorators=new qZ}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement()||En(t.getSelectedBlocks());cv(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const i=this.editor.model,s=i.document.selection,r=[],o=[];for(const a in t)t[a]?r.push(a):o.push(a);i.change(a=>{if(s.isCollapsed){const l=s.getFirstPosition();if(s.hasAttribute("linkHref")){const c=HC(s);let u=Pl(l,"linkHref",s.getAttribute("linkHref"),i);s.getAttribute("linkHref")===c&&(u=this._updateLinkContent(i,a,u,e)),a.setAttribute("linkHref",e,u),r.forEach(d=>{a.setAttribute(d,!0,u)}),o.forEach(d=>{a.removeAttribute(d,u)}),a.setSelection(a.createPositionAfter(u.end.nodeBefore))}else if(e!==""){const c=Ar(s.getAttributes());c.set("linkHref",e),r.forEach(d=>{c.set(d,!0)});const{end:u}=i.insertContent(a.createText(e,c),l);a.setSelection(u)}["linkHref",...r,...o].forEach(c=>{a.removeSelectionAttribute(c)})}else{const l=i.schema.getValidRanges(s.getRanges(),"linkHref"),c=[];for(const d of s.getSelectedBlocks())i.schema.checkAttribute(d,"linkHref")&&c.push(a.createRangeOn(d));const u=c.slice();for(const d of l)this._isRangeToUpdate(d,c)&&u.push(d);for(const d of u){let f=d;if(u.length===1){const h=HC(s);s.getAttribute("linkHref")===h&&(f=this._updateLinkContent(i,a,d,e),a.setSelection(a.createSelection(f)))}a.setAttribute("linkHref",e,f),r.forEach(h=>{a.setAttribute(h,!0,f)}),o.forEach(h=>{a.removeAttribute(h,f)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,i=t.document.selection,s=i.getSelectedElement();return cv(s,t.schema)?s.getAttribute(e):i.getAttribute(e)}_isRangeToUpdate(e,t){for(const i of t)if(i.containsRange(e))return!1;return!0}_updateLinkContent(e,t,i,s){const r=t.createText(s,{linkHref:s});return e.insertContent(r,i)}}function HC(n){if(n.isCollapsed){const e=n.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(n.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iee extends kt{refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement();cv(i,e.schema)?this.isEnabled=e.schema.checkAttribute(i,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,i=t.document.selection,s=e.commands.get("link");t.change(r=>{const o=i.isCollapsed?[Pl(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),t)]:t.schema.getValidRanges(i.getRanges(),"linkHref");for(const a of o)if(r.removeAttribute("linkHref",a),s)for(const l of s.manualDecorators)r.removeAttribute(l.id,a)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class see extends $t(){constructor({id:e,label:t,attributes:i,classes:s,styles:r,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=i,this.classes=s,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ree="ck-link_selected",WC="automatic",oee="manual",aee=/^(https?:)?\/\//;class lee extends Ne{static get pluginName(){return"LinkEditing"}static get requires(){return[cC,UI,Ir]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:UC}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,r)=>UC(w2(s),r)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new nee(e)),e.commands.add("unlink",new iee(e));const t=ZZ(e.t,eee(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(s=>s.mode===WC)),this._enableManualDecorators(t.filter(s=>s.mode===oee)),e.plugins.get(cC).registerAttribute("linkHref"),CJ(e,"linkHref","a",ree),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,s=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:WC,callback:r=>!!r&&aee.test(r),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&t.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,s=t.commands.get("link").manualDecorators;e.forEach(r=>{t.model.schema.extend("$text",{allowAttributes:r.id});const o=new see(r);s.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:c},{item:u})=>{if((u.is("selection")||c.isInline(u))&&a){const d=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,d);for(const f in o.styles)l.setStyle(f,o.styles[f],d);return l.setCustomProperty("link",!0,d),d}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(s,r)=>{if(!(mt.isMac?r.domEvent.metaKey:r.domEvent.ctrlKey))return;let a=r.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const l=a.getAttribute("href");l&&(s.stop(),r.preventDefault(),zC(l))},{context:"$capture"}),this.listenTo(i,"keydown",(s,r)=>{const a=e.commands.get("link").value;a&&r.keyCode===Et.enter&&r.altKey&&(s.stop(),zC(a))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,i=t.document.selection;this.listenTo(t,"insertContent",()=>{const s=i.anchor.nodeBefore,r=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(r&&r.hasAttribute("linkHref")||t.change(o=>{Tp(o,Ap(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(by);let i=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{i=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!i)return;i=!1;const s=t.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const r=s.getFirstPosition(),o=Pl(r,"linkHref",s.getAttribute("linkHref"),t);(r.isTouching(o.start)||r.isTouching(o.end))&&t.change(a=>{Tp(a,Ap(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let i=null,s=!1;this.listenTo(t.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const r=e.model.document.selection;if(!r.isCollapsed){if(s){s=!1;return}jC(e)&&cee(e.model)&&(i=r.getAttributes())}},{priority:"high"}),this.listenTo(e.model,"insertContent",(r,[o])=>{s=!1,jC(e)&&i&&(e.model.change(a=>{for(const[l,c]of i)a.setAttribute(l,c,o)}),i=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,i=t.document.selection,s=e.editing.view;let r=!1,o=!1;this.listenTo(s.document,"delete",(a,l)=>{o=l.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{r=!1;const a=i.getFirstPosition(),l=i.getAttribute("linkHref");if(!l)return;const c=Pl(a,"linkHref",l,t);r=c.containsPosition(a)||c.end.isEqual(a)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{o&&(o=!1,!r&&e.model.enqueueChange(a=>{Tp(a,Ap(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,r)=>{t.change(o=>{const a=o.createRangeIn(r.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const c=xy(l.getAttribute("linkHref"),i);o.setAttribute("linkHref",c,l)}})})}}function Tp(n,e){n.removeSelectionAttribute("linkHref");for(const t of e)n.removeSelectionAttribute(t)}function cee(n){const e=n.document.selection,t=e.getFirstPosition(),i=e.getLastPosition(),s=t.nodeAfter;if(!s||!s.is("$text")||!s.hasAttribute("linkHref"))return!1;const r=i.textNode||i.nodeBefore;return s===r?!0:Pl(t,"linkHref",s.getAttribute("linkHref"),n).containsRange(n.createRange(t,i),!0)}function jC(n){return n.model.change(t=>t.batch).isTyping}function Ap(n){return n.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uee extends Ct{constructor(e,t){super(e),this.focusTracker=new Es,this.keystrokes=new Dr,this._focusables=new ka;const i=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),en.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),en.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new zu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Nx({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new yI(this.locale,wI);return t.label=e("Link URL"),t}_createButton(e,t,i,s){const r=new Zt(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:i}}),s&&r.delegate("execute").to(this,s),r}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const i of e.manualDecorators){const s=new Lh(this.locale);s.set({name:i.id,label:i.label,withText:!0}),s.bind("isOn").toMany([i,e],"value",(r,o)=>o===void 0&&r===void 0?!!i.defaultValue:!!r),s.on("execute",()=>{i.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const i=new Ct;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(i)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}const dee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fee extends Ct{constructor(e){super(e),this.focusTracker=new Es,this.keystrokes=new Dr,this._focusables=new ka;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),dee,"unlink"),this.editButtonView=this._createButton(t("Edit link"),en.pencil,"edit"),this.set("href",void 0),this._focusCycler=new zu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,i){const s=new Zt(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,i),s}_createPreviewButton(){const e=new Zt(this.locale),t=this.bindTemplate,i=this.t;return e.set({withText:!0,tooltip:i("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&w2(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||i("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const hee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Is="link-ui";class mee extends Ne{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Bf]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(UG),this._balloon=e.plugins.get(Bf),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Is,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Is,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new fee(e.locale),i=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(i,"value"),t.editButtonView.bind("isEnabled").to(i),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(r,o)=>{this._hideUI(),o()}),t.keystrokes.set(Ep,(r,o)=>{this._addFormView(),o()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),s=new(Fx(uee))(e.locale,t);return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t),this.listenTo(s,"submit",()=>{const{value:r}=s.urlInputView.fieldView.element,o=xy(r,i);e.execute("link",o,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(r,o)=>{this._closeFormView(),o()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),i=e.t;e.ui.componentFactory.add("link",s=>{const r=new Zt(s);return r.isEnabled=!0,r.label=i("Link"),r.icon=hee,r.keystroke=Ep,r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(t,"isEnabled"),r.bind("isOn").to(t,"value",o=>!!o),this.listenTo(r,"execute",()=>this._showUI(!0)),r})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Ep,(i,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Zb({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let i=this._getSelectedLinkElement(),s=o();const r=()=>{const a=this._getSelectedLinkElement(),l=o();i&&!a||!i&&l!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=a,s=l};function o(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,i=e.document;let s;if(t.markers.has(Is)){const r=Array.from(this.editor.editing.mapper.markerNameToElements(Is)),o=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));s=e.domConverter.viewRangeToDom(o)}else s=()=>{const r=this._getSelectedLinkElement();return r?e.domConverter.mapViewToDom(r):e.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,i=t.getSelectedElement();if(t.isCollapsed||i&&tn(i))return xp(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),r=xp(s.start),o=xp(s.end);return!r||r!=o?null:e.createRangeIn(r).getTrimmed().isEqual(s)?r:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const i=e.document.selection.getFirstRange();if(e.markers.has(Is))t.updateMarker(Is,{range:i});else if(i.start.isAtEnd){const s=i.start.getLastMatchingPosition(({item:r})=>!e.schema.isContent(r),{boundaries:i});t.addMarker(Is,{usingOperation:!1,affectsData:!1,range:t.createRange(s,i.end)})}else t.addMarker(Is,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Is)&&e.change(t=>{t.removeMarker(Is)})}}function xp(n){return n.getAncestors().find(e=>JZ(e))||null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pee=4,gee=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),vee=2;class bee extends Ne{static get requires(){return[Aa]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new wJ(e.model,i=>{if(!yee(i))return;const s=qC(i.substr(0,i.length-1));if(s)return{url:s}});t.on("matched:data",(i,s)=>{const{batch:r,range:o,url:a}=s;if(!r.isTyping)return;const l=o.end.getShiftedBy(-1),c=l.getShiftedBy(-a.length),u=e.model.createRange(c,l);this._applyAutoLink(a,u)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("enter");i&&i.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const r=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("shiftEnter");i&&i.on("execute",()=>{const s=t.document.selection.getFirstPosition(),r=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:i,range:s}=HI(e,t),r=qC(i);if(r){const o=t.createRange(s.end.getShiftedBy(-r.length),s.end);this._applyAutoLink(r,o)}}_applyAutoLink(e,t){const i=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),r=xy(e,s);!this.isEnabled||!wee(t,i)||!_2(r)||_ee(t)||this._persistAutoLink(r,t)}_persistAutoLink(e,t){const i=this.editor.model,s=this.editor.plugins.get("Delete");i.enqueueChange(r=>{r.setAttribute("linkHref",e,t),i.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function yee(n){return n.length>pee&&n[n.length-1]===" "&&n[n.length-2]!==" "}function qC(n){const e=gee.exec(n);return e?e[vee]:null}function wee(n,e){return e.schema.checkAttributeInSelection(e.createSelection(n),"linkHref")}function _ee(n){const e=n.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cee extends Ne{static get requires(){return[lee,mee,bee]}static get pluginName(){return"Link"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KC extends kt{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.document,s=Array.from(i.selection.getSelectedBlocks()).filter(o=>QC(o,t.schema)),r=e.forceValue!==void 0?!e.forceValue:this.value;t.change(o=>{if(r){let a=s[s.length-1].nextSibling,l=Number.POSITIVE_INFINITY,c=[];for(;a&&a.name=="listItem"&&a.getAttribute("listIndent")!==0;){const u=a.getAttribute("listIndent");u<l&&(l=u);const d=u-l;c.push({element:a,listIndent:d}),a=a.nextSibling}c=c.reverse();for(const u of c)o.setAttribute("listIndent",u.listIndent,u.element)}if(!r){let a=Number.POSITIVE_INFINITY;for(const l of s)l.is("element","listItem")&&l.getAttribute("listIndent")<a&&(a=l.getAttribute("listIndent"));a=a===0?1:a,GC(s,!0,a),GC(s,!1,a)}for(const a of s.reverse())r&&a.name=="listItem"?o.rename(a,"paragraph"):!r&&a.name!="listItem"?(o.setAttributes({listType:this.type,listIndent:0},a),o.rename(a,"listItem")):!r&&a.name=="listItem"&&a.getAttribute("listType")!=this.type&&o.setAttribute("listType",this.type,a);this.fire("_executeCleanup",s)})}_getValue(){const e=En(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=En(e.getSelectedBlocks());return i?QC(i,t):!1}}function GC(n,e,t){const i=e?n[0]:n[n.length-1];if(i.is("element","listItem")){let s=i[e?"previousSibling":"nextSibling"],r=i.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;)r>s.getAttribute("listIndent")&&(r=s.getAttribute("listIndent")),s.getAttribute("listIndent")==r&&n[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function QC(n,e){return e.checkChild(n.parent,"listItem")&&!e.isObject(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YC extends kt{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let i=Array.from(t.selection.getSelectedBlocks());e.change(s=>{const r=i[i.length-1];let o=r.nextSibling;for(;o&&o.name=="listItem"&&o.getAttribute("listIndent")>r.getAttribute("listIndent");)i.push(o),o=o.nextSibling;this._indentBy<0&&(i=i.reverse());for(const a of i){const l=a.getAttribute("listIndent")+this._indentBy;l<0?s.rename(a,"paragraph"):s.setAttribute("listIndent",l,a)}this.fire("_executeCleanup",i)})}_checkEnabled(){const e=En(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),i=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=t;){if(s.getAttribute("listIndent")==t)return s.getAttribute("listType")==i;s=s.previousSibling}return!1}return!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kee(n){const e=n.createContainerElement("li");return e.getFillerOffset=Iee,e}function See(n,e){const t=e.mapper,i=e.writer,s=n.getAttribute("listType")=="numbered"?"ol":"ul",r=kee(i),o=i.createContainerElement(s,null);return i.insert(i.createPositionAt(o,0),r),t.bindElements(n,r),r}function C2(n,e,t,i){const s=e.parent,r=t.mapper,o=t.writer;let a=r.toViewPosition(i.createPositionBefore(n));const l=S2(n.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:n.getAttribute("listIndent")}),c=n.previousSibling;if(l&&l.getAttribute("listIndent")==n.getAttribute("listIndent")){const u=r.toViewElement(l);a=o.breakContainer(o.createPositionAfter(u))}else if(c&&c.name=="listItem"){a=r.toViewPosition(i.createPositionAt(c,"end"));const u=r.findMappedViewAncestor(a),d=Eee(u);d?a=o.createPositionBefore(d):a=o.createPositionAt(u,"end")}else a=r.toViewPosition(i.createPositionBefore(n));if(a=k2(a),o.insert(a,s),c&&c.name=="listItem"){const u=r.toViewElement(c),f=o.createRange(o.createPositionAt(u,0),a).getWalker({ignoreElementEnd:!0});for(const h of f)if(h.item.is("element","li")){const p=o.breakContainer(o.createPositionBefore(h.item)),m=h.item.parent,b=o.createPositionAt(e,"end");ts(o,b.nodeBefore,b.nodeAfter),o.move(o.createRangeOn(m),b),f._position=p}}else{const u=s.nextSibling;if(u&&(u.is("element","ul")||u.is("element","ol"))){let d=null;for(const f of u.getChildren()){const h=r.toModelElement(f);if(h&&h.getAttribute("listIndent")>n.getAttribute("listIndent"))d=f;else break}d&&(o.breakContainer(o.createPositionAfter(d)),o.move(o.createRangeOn(d.parent),o.createPositionAt(e,"end")))}}ts(o,s,s.nextSibling),ts(o,s.previousSibling,s)}function ts(n,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:n.mergeContainers(n.createPositionAfter(e))}function k2(n){return n.getLastMatchingPosition(e=>e.item.is("uiElement"))}function S2(n,e){const t=!!e.sameIndent,i=!!e.smallerIndent,s=e.listIndent;let r=n;for(;r&&r.name=="listItem";){const o=r.getAttribute("listIndent");if(t&&s==o||i&&s>o)return r;e.direction==="forward"?r=r.nextSibling:r=r.previousSibling}return null}function JC(n,e,t,i){n.ui.componentFactory.add(e,s=>{const r=n.commands.get(e),o=new Zt(s);return o.set({label:t,icon:i,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),o.on("execute",()=>{n.execute(e),n.editing.view.focus()}),o})}function Eee(n){for(const e of n.getChildren())if(e.name=="ul"||e.name=="ol")return e;return null}function uv(n,e){const t=[],i=n.parent,s={ignoreElementEnd:!1,startPosition:n,shallow:!0,direction:e},r=i.getAttribute("listIndent"),o=[...new Ws(s)].filter(a=>a.item.is("element")).map(a=>a.item);for(const a of o){if(!a.is("element","listItem")||a.getAttribute("listIndent")<r)break;if(!(a.getAttribute("listIndent")>r)){if(a.getAttribute("listType")!==i.getAttribute("listType")||a.getAttribute("listStyle")!==i.getAttribute("listStyle")||a.getAttribute("listReversed")!==i.getAttribute("listReversed")||a.getAttribute("listStart")!==i.getAttribute("listStart"))break;e==="backward"?t.unshift(a):t.push(a)}}return t}function Tee(n){let t=[...n.document.selection.getSelectedBlocks()].filter(i=>i.is("element","listItem")).map(i=>{const s=n.change(r=>r.createPositionAt(i,0));return[...uv(s,"backward"),...uv(s,"forward")]}).flat();return t=[...new Set(t)],t}const Aee=["disc","circle","square"],xee=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Pee(n){return Aee.includes(n)?"bulleted":xee.includes(n)?"numbered":null}function Iee(){const n=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||n?0:_P.call(this)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oee extends Ne{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return Pee(e)}getSelectedListItems(e){return Tee(e)}getSiblingNodes(e,t){return uv(e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function XC(n){return(e,t,i)=>{const s=i.consumable;if(!s.test(t.item,"insert")||!s.test(t.item,"attribute:listType")||!s.test(t.item,"attribute:listIndent"))return;s.consume(t.item,"insert"),s.consume(t.item,"attribute:listType"),s.consume(t.item,"attribute:listIndent");const r=t.item,o=See(r,i);C2(r,o,i,n)}}function Ree(n){return(e,t,i)=>{const o=i.mapper.toViewPosition(t.position).getLastMatchingPosition(h=>!h.item.is("element","li")).nodeAfter,a=i.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o));const l=o.parent,c=l.previousSibling,u=a.createRangeOn(l),d=a.remove(u);c&&c.nextSibling&&ts(a,c,c.nextSibling);const f=i.mapper.toModelElement(o);E2(f.getAttribute("listIndent")+1,t.position,u.start,o,i,n);for(const h of a.createRangeIn(d).getItems())i.mapper.unbindViewElement(h);e.stop()}}const Mee=(n,e,t)=>{if(!t.consumable.test(e.item,n.name))return;const i=t.mapper.toViewElement(e.item),s=t.writer;s.breakContainer(s.createPositionBefore(i)),s.breakContainer(s.createPositionAfter(i));const r=i.parent,o=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(o,r)},Dee=(n,e,t)=>{t.consumable.consume(e.item,n.name);const s=t.mapper.toViewElement(e.item).parent,r=t.writer;ts(r,s,s.nextSibling),ts(r,s.previousSibling,s)};function Fee(n){return(e,t,i)=>{if(!i.consumable.consume(t.item,"attribute:listIndent"))return;const s=i.mapper.toViewElement(t.item),r=i.writer;r.breakContainer(r.createPositionBefore(s)),r.breakContainer(r.createPositionAfter(s));const o=s.parent,a=o.previousSibling,l=r.createRangeOn(o);r.remove(l),a&&a.nextSibling&&ts(r,a,a.nextSibling),E2(t.attributeOldValue+1,t.range.start,l.start,s,i,n),C2(t.item,s,i,n);for(const c of t.item.getChildren())i.consumable.consume(c,"insert")}}const ZC=(n,e,t)=>{if(t.consumable.test(e.item,n.name)&&e.item.name!="listItem"){let i=t.mapper.toViewPosition(e.range.start);const s=t.writer,r=[];for(;(i.parent.name=="ul"||i.parent.name=="ol")&&(i=s.breakContainer(i),i.parent.name=="li");){const o=i,a=s.createPositionAt(i.parent,"end");if(!o.isEqual(a)){const l=s.remove(s.createRange(o,a));r.push(l)}i=s.createPositionAfter(i.parent)}if(r.length>0){for(let o=0;o<r.length;o++){const a=i.nodeBefore;if(i=s.insert(i,r[o]).end,o>0){const c=ts(s,a,a.nextSibling);c&&c.parent==a&&i.offset--}}ts(s,i.nodeBefore,i.nodeAfter)}}},Nee=(n,e,t)=>{const i=t.mapper.toViewPosition(e.position),s=i.nodeBefore,r=i.nodeAfter;ts(t.writer,s,r)},Lee=(n,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const i=t.writer,s=i.createElement("listItem"),r=Wee(e.viewItem);i.setAttribute("listIndent",r,s);const o=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(i.setAttribute("listType",o,s),!t.safeInsert(s,e.modelCursor))return;const a=zee(s,e.viewItem.getChildren(),t);e.modelRange=i.createRange(e.modelCursor,a),t.updateConversionResult(s,e)}},ek=(n,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const i=Array.from(e.viewItem.getChildren());for(const s of i)!(s.is("element","li")||Il(s))&&s._remove()}},$ee=(n,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const i=[...e.viewItem.getChildren()];let s=!1;for(const r of i)s&&!Il(r)&&r._remove(),Il(r)&&(s=!0)}};function tk(n){return(e,t)=>{if(t.isPhantom)return;const i=t.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){const s=t.mapper.toViewElement(i),r=s.getAncestors().find(Il),o=n.createPositionAt(s,0).getWalker();for(const a of o)if(a.type=="elementStart"&&a.item.is("element","li")){t.viewPosition=a.previousPosition;break}else if(a.type=="elementEnd"&&a.item==r){t.viewPosition=a.nextPosition;break}}}}function Bee(n){return(e,t)=>{const i=t.viewPosition,s=i.parent,r=t.mapper;if(s.name=="ul"||s.name=="ol"){if(i.isAtEnd){const o=r.toModelElement(i.nodeBefore),a=r.getModelLength(i.nodeBefore);t.modelPosition=n.createPositionBefore(o).getShiftedBy(a)}else{const o=r.toModelElement(i.nodeAfter);t.modelPosition=n.createPositionBefore(o)}e.stop()}else if(s.name=="li"&&i.nodeBefore&&(i.nodeBefore.name=="ul"||i.nodeBefore.name=="ol")){const o=r.toModelElement(s);let a=1,l=i.nodeBefore;for(;l&&Il(l);)a+=r.getModelLength(l),l=l.previousSibling;t.modelPosition=n.createPositionBefore(o).getShiftedBy(a),e.stop()}}}function Vee(n,e){const t=n.document.differ.getChanges(),i=new Map;let s=!1;for(const l of t)if(l.type=="insert"&&l.name=="listItem")r(l.position);else if(l.type=="insert"&&l.name!="listItem"){if(l.name!="$text"){const u=l.position.nodeAfter;u.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",u),s=!0),u.hasAttribute("listType")&&(e.removeAttribute("listType",u),s=!0),u.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",u),s=!0),u.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",u),s=!0),u.hasAttribute("listStart")&&(e.removeAttribute("listStart",u),s=!0);for(const d of Array.from(n.createRangeIn(u)).filter(f=>f.item.is("element","listItem")))r(d.previousPosition)}const c=l.position.getShiftedBy(l.length);r(c)}else l.type=="remove"&&l.name=="listItem"?r(l.position):(l.type=="attribute"&&l.attributeKey=="listIndent"||l.type=="attribute"&&l.attributeKey=="listType")&&r(l.range.start);for(const l of i.values())o(l),a(l);return s;function r(l){const c=l.nodeBefore;if(!c||!c.is("element","listItem")){const u=l.nodeAfter;u&&u.is("element","listItem")&&i.set(u,u)}else{let u=c;if(i.has(u))return;for(let d=u.previousSibling;d&&d.is("element","listItem");d=u.previousSibling)if(u=d,i.has(u))return;i.set(c,u)}}function o(l){let c=0,u=null;for(;l&&l.is("element","listItem");){const d=l.getAttribute("listIndent");if(d>c){let f;u===null?(u=d-c,f=c):(u>d&&(u=d),f=d-u),e.setAttribute("listIndent",f,l),s=!0}else u=null,c=l.getAttribute("listIndent")+1;l=l.nextSibling}}function a(l){let c=[],u=null;for(;l&&l.is("element","listItem");){const d=l.getAttribute("listIndent");if(u&&u.getAttribute("listIndent")>d&&(c=c.slice(0,d+1)),d!=0)if(c[d]){const f=c[d];l.getAttribute("listType")!=f&&(e.setAttribute("listType",f,l),s=!0)}else c[d]=l.getAttribute("listType");u=l,l=l.nextSibling}}}const Uee=function(n,[e,t]){const i=this;let s=e.is("documentFragment")?e.getChild(0):e,r;if(t?r=i.createSelection(t):r=i.document.selection,s&&s.is("element","listItem")){const o=r.getFirstPosition();let a=null;if(o.parent.is("element","listItem")?a=o.parent:o.nodeBefore&&o.nodeBefore.is("element","listItem")&&(a=o.nodeBefore),a){const l=a.getAttribute("listIndent");if(l>0)for(;s&&s.is("element","listItem");)s._setAttribute("listIndent",s.getAttribute("listIndent")+l),s=s.nextSibling}}};function zee(n,e,t){const{writer:i,schema:s}=t;let r=i.createPositionAfter(n);for(const o of e)if(o.name=="ul"||o.name=="ol")r=t.convertItem(o,r).modelCursor;else{const a=t.convertItem(o,i.createPositionAt(n,"end")),l=a.modelRange.start.nodeAfter;l&&l.is("element")&&!s.checkChild(n,l.name)&&(a.modelCursor.parent.is("element","listItem")?n=a.modelCursor.parent:n=Hee(a.modelCursor),r=i.createPositionAfter(n))}return r}function Hee(n){const e=new Ws({startPosition:n});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function E2(n,e,t,i,s,r){const o=S2(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:n}),a=s.mapper,l=s.writer,c=o?o.getAttribute("listIndent"):null;let u;if(!o)u=t;else if(c==n){const d=a.toViewElement(o).parent;u=l.createPositionAfter(d)}else{const d=r.createPositionAt(o,"end");u=a.toViewPosition(d)}u=k2(u);for(const d of[...i.getChildren()])Il(d)&&(u=l.move(l.createRangeOn(d),u).end,ts(l,d,d.nextSibling),ts(l,d.previousSibling,d))}function Il(n){return n.is("element","ol")||n.is("element","ul")}function Wee(n){let e=0,t=n.parent;for(;t;){if(t.is("element","li"))e++;else{const i=t.previousSibling;i&&i.is("element","li")&&e++}t=t.parent}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jee extends Ne{static get pluginName(){return"ListEditing"}static get requires(){return[Hh,Aa,Oee]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,i=e.editing;e.model.document.registerPostFixer(r=>Vee(e.model,r)),i.mapper.registerViewToModelLength("li",dv),t.mapper.registerViewToModelLength("li",dv),i.mapper.on("modelToViewPosition",tk(i.view)),i.mapper.on("viewToModelPosition",Bee(e.model)),t.mapper.on("modelToViewPosition",tk(i.view)),e.conversion.for("editingDowncast").add(r=>{r.on("insert",ZC,{priority:"high"}),r.on("insert:listItem",XC(e.model)),r.on("attribute:listType:listItem",Mee,{priority:"high"}),r.on("attribute:listType:listItem",Dee,{priority:"low"}),r.on("attribute:listIndent:listItem",Fee(e.model)),r.on("remove:listItem",Ree(e.model)),r.on("remove",Nee,{priority:"low"})}),e.conversion.for("dataDowncast").add(r=>{r.on("insert",ZC,{priority:"high"}),r.on("insert:listItem",XC(e.model))}),e.conversion.for("upcast").add(r=>{r.on("element:ul",ek,{priority:"high"}),r.on("element:ol",ek,{priority:"high"}),r.on("element:li",$ee,{priority:"high"}),r.on("element:li",Lee)}),e.model.on("insertContent",Uee,{priority:"high"}),e.commands.add("numberedList",new KC(e,"numbered")),e.commands.add("bulletedList",new KC(e,"bulleted")),e.commands.add("indentList",new YC(e,"forward")),e.commands.add("outdentList",new YC(e,"backward"));const s=i.view.document;this.listenTo(s,"enter",(r,o)=>{const a=this.editor.model.document,l=a.selection.getLastPosition().parent;a.selection.isCollapsed&&l.name=="listItem"&&l.isEmpty&&(this.editor.execute("outdentList"),o.preventDefault(),r.stop())},{context:"li"}),this.listenTo(s,"delete",(r,o)=>{if(o.direction!=="backward")return;const a=this.editor.model.document.selection;if(!a.isCollapsed)return;const l=a.getFirstPosition();if(!l.isAtStart)return;const c=l.parent;c.name!=="listItem"||c.previousSibling&&c.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),o.preventDefault(),r.stop())},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(r,o)=>{const a=o.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),o.stopPropagation(),o.preventDefault(),r.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),i=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),i&&i.registerChildCommand(e.get("outdentList"))}}function dv(n){let e=1;for(const t of n.getChildren())if(t.name=="ul"||t.name=="ol")for(const i of t.getChildren())e+=dv(i);return e}const qee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Kee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gee extends Ne{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;JC(this.editor,"numberedList",e("Numbered List"),qee),JC(this.editor,"bulletedList",e("Bulleted List"),Kee)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qee extends Ne{static get requires(){return[jee,Gee]}static get pluginName(){return"List"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Py=["left","right","center","justify"];function T2(n){return Py.includes(n)}function A2(n,e){return e.contentLanguageDirection=="rtl"?n==="right":n==="left"}function x2(n){const e=n.map(i=>{let s;return typeof i=="string"?s={name:i}:s=i,s}).filter(i=>{const s=Py.includes(i.name);return s||Jt("alignment-config-name-not-recognized",{option:i}),s}),t=e.filter(i=>!!i.className).length;if(t&&t<e.length)throw new V("alignment-config-classnames-are-missing",{configuredOptions:n});return e.forEach((i,s,r)=>{const o=r.slice(s+1);if(o.some(l=>l.name==i.name))throw new V("alignment-config-name-already-defined",{option:i,configuredOptions:n});if(i.className&&o.some(c=>c.className==i.className))throw new V("alignment-config-classname-already-defined",{option:i,configuredOptions:n})}),e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Iy="alignment";class Yee extends kt{refresh(){const t=this.editor.locale,i=En(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i),this.isEnabled&&i.hasAttribute("alignment")?this.value=i.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,i=t.locale,s=t.model,r=s.document,o=e.value;s.change(a=>{const l=Array.from(r.selection.getSelectedBlocks()).filter(d=>this._canBeAligned(d)),c=l[0].getAttribute("alignment");A2(o,i)||c===o||!o?Jee(l,a):Xee(l,a,o)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,Iy)}}function Jee(n,e){for(const t of n)e.removeAttribute(Iy,t)}function Xee(n,e,t){for(const i of n)e.setAttribute(Iy,t,i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zee extends Ne{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:Py.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,i=e.model.schema,r=x2(e.config.get("alignment.options")).filter(c=>T2(c.name)&&!A2(c.name,t)),o=r.some(c=>!!c.className);i.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?e.conversion.attributeToAttribute(ite(r)):e.conversion.for("downcast").attributeToAttribute(ete(r));const a=tte(r);for(const c of a)e.conversion.for("upcast").attributeToAttribute(c);const l=nte(r);for(const c of l)e.conversion.for("upcast").attributeToAttribute(c);e.commands.add("alignment",new Yee(e))}}function ete(n){const e={};for(const{name:i}of n)e[i]={key:"style",value:{"text-align":i}};return{model:{key:"alignment",values:n.map(i=>i.name)},view:e}}function tte(n){const e=[];for(const{name:t}of n)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function nte(n){const e=[];for(const{name:t}of n)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function ite(n){const e={};for(const i of n)e[i.name]={key:"class",value:i.className};return{model:{key:"alignment",values:n.map(i=>i.name)},view:e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Vd=new Map([["left",en.alignLeft],["right",en.alignRight],["center",en.alignCenter],["justify",en.alignJustify]]);class ste extends Ne{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,i=e.t,s=x2(e.config.get("alignment.options"));s.map(r=>r.name).filter(T2).forEach(r=>this._addButton(r)),t.add("alignment",r=>{const o=ro(r);Uh(o,()=>s.map(c=>t.create(`alignment:${c.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:i("Text alignment toolbar")}),o.buttonView.set({label:i("Text alignment"),tooltip:!0}),o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const a=r.contentLanguageDirection==="rtl"?Vd.get("right"):Vd.get("left"),l=e.commands.get("alignment");return o.buttonView.bind("icon").to(l,"value",c=>Vd.get(c)||a),o.bind("isEnabled").to(l,"isEnabled"),this.listenTo(o,"execute",()=>{e.editing.view.focus()}),o})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,i=>{const s=t.commands.get("alignment"),r=new Zt(i);return r.set({label:this.localizedOptionTitles[e],icon:Vd.get(e),tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(s),r.bind("isOn").to(s,"value",o=>o===e),this.listenTo(r,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rte extends Ne{static get requires(){return[Zee,ste]}static get pluginName(){return"Alignment"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ote(n){const e=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"br",isVoid:!0},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"input",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"textarea",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],t=e.map(r=>r.name).join("|"),i=n.replace(new RegExp(`</?(${t})( .*?)?>`,"g"),`
$&
`).split(`
`);let s=0;return i.filter(r=>r.length).map(r=>ate(r,e)?Pp(r,s++):lte(r,e)?Pp(r,--s):Pp(r,s)).join(`
`)}function ate(n,e){return e.some(t=>!(t.isVoid||!new RegExp(`<${t.name}( .*?)?>`).test(n)))}function lte(n,e){return e.some(t=>new RegExp(`</${t.name}>`).test(n))}function Pp(n,e,t="    "){return`${t.repeat(Math.max(0,e))}${n}`}const cte='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const nk="SourceEditingMode";class ute extends Ne{static get pluginName(){return"SourceEditing"}static get requires(){return[$f]}constructor(e){super(e),this.set("isSourceEditingMode",!1),this._elementReplacer=new qx,this._replacedRoots=new Map,this._dataFromRoots=new Map}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("sourceEditing",i=>{const s=new Zt(i);return s.set({label:t("Source"),icon:cte,tooltip:!0,withText:!0,class:"ck-source-editing-button"}),s.bind("isOn").to(this,"isSourceEditingMode"),s.bind("isEnabled").to(this,"isEnabled",e,"isReadOnly",e.plugins.get($f),"hasAny",(r,o,a)=>!(!r||o||a)),this.listenTo(s,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),s}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(i,s,r)=>{r?(this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(i,s,r)=>this._handleReadOnlyMode(!r)),this.listenTo(e,"change:isReadOnly",(i,s,r)=>this._handleReadOnlyMode(r))),e.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}afterInit(){const e=this.editor;["RealTimeCollaborativeEditing","CommentsEditing","TrackChangesEditing","RevisionHistory"].some(i=>e.plugins.has(i))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}updateEditorData(){const e=this.editor,t={};for(const[i,s]of this._replacedRoots){const r=this._dataFromRoots.get(i),o=s.dataset.value;r!==o&&(t[i]=o)}Object.keys(t).length&&e.data.set(t,{batchType:{isUndoable:!0}})}_showSourceEditing(){const e=this.editor,t=e.editing.view,i=e.model;i.change(s=>{s.setSelection(null),s.removeSelectionAttribute(i.document.selection.getAttributeKeys())});for(const[s,r]of t.domRoots){const o=dte(e.data.get({rootName:s})),a=zg(r.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),l=zg(r.ownerDocument,"div",{class:"ck-source-editing-area","data-value":o},[a]);a.value=o,a.setSelectionRange(0,0),a.addEventListener("input",()=>{l.dataset.value=a.value}),t.change(c=>{const u=t.document.getRoot(s);c.addClass("ck-hidden",u)}),e.ui.setEditableElement("sourceEditing:"+s,a),this._replacedRoots.set(s,l),this._elementReplacer.replace(r,l),this._dataFromRoots.set(s,o)}this._focusSourceEditing()}_hideSourceEditing(){const t=this.editor.editing.view;this.updateEditorData(),t.change(i=>{for(const[s]of this._replacedRoots)i.removeClass("ck-hidden",t.document.getRoot(s))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),t.focus()}_focusSourceEditing(){const e=this.editor,[t]=this._replacedRoots.values(),i=t.querySelector("textarea");e.editing.view.document.isFocused=!1,i.focus()}_disableCommands(){const e=this.editor;for(const t of e.commands.commands())t.forceDisabled(nk)}_enableCommands(){const e=this.editor;for(const t of e.commands.commands())t.clearForceDisabled(nk)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(const[,t]of this._replacedRoots)t.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){const t=this.editor.ui.view.editable;return t&&!t.hasExternalElement}}function dte(n){return fte(n)?ote(n):n}function fte(n){return n.startsWith("<")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function on(n,e,t,i,s=1){e!=null&&s!==void 0&&s!==null&&e>s?i.setAttribute(n,e,t):i.removeAttribute(n,t)}function xa(n,e,t={}){const i=n.createElement("tableCell",t);return n.insertElement("paragraph",i),n.insert(i,e),i}function fv(n,e){const t=e.parent.parent,i=parseInt(t.getAttribute("headingColumns")||"0"),{column:s}=n.getCellLocation(e);return!!i&&s<i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hte(){return n=>{n.on("element:figure",(e,t,i)=>{if(!i.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const s=gte(t.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(t.viewItem,{name:!0,classes:"table"});const r=i.convertItem(s,t.modelCursor),o=En(r.modelRange.getItems());if(!o){i.consumable.revert(t.viewItem,{name:!0,classes:"table"});return}i.convertChildren(t.viewItem,i.writer.createPositionAt(o,"end")),i.updateConversionResult(o,t)})}}function mte(){return n=>{n.on("element:table",(e,t,i)=>{const s=t.viewItem;if(!i.consumable.test(s,{name:!0}))return;const{rows:r,headingRows:o,headingColumns:a}=vte(s),l={};a&&(l.headingColumns=a),o&&(l.headingRows=o);const c=i.writer.createElement("table",l);if(i.safeInsert(c,t.modelCursor)){if(i.consumable.consume(s,{name:!0}),r.forEach(u=>i.convertItem(u,i.writer.createPositionAt(c,"end"))),i.convertChildren(s,i.writer.createPositionAt(c,"end")),c.isEmpty){const u=i.writer.createElement("tableRow");i.writer.insert(u,i.writer.createPositionAt(c,"end")),xa(i.writer,i.writer.createPositionAt(u,"end"))}i.updateConversionResult(c,t)}})}}function pte(){return n=>{n.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&t.modelCursor.index==0&&e.stop()},{priority:"high"})}}function ik(n){return e=>{e.on(`element:${n}`,(t,i,{writer:s})=>{if(!i.modelRange)return;const r=i.modelRange.start.nodeAfter,o=s.createPositionAt(r,0);if(i.viewItem.isEmpty){s.insertElement("paragraph",o);return}const a=Array.from(r.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=s.createElement("paragraph");s.insert(l,s.createPositionAt(r,0));for(const c of a)s.move(s.createRangeOn(c),s.createPositionAt(l,"end"))}},{priority:"low"})}}function gte(n){for(const e of n.getChildren())if(e.is("element","table"))return e}function vte(n){let e=0,t;const i=[],s=[];let r;for(const o of Array.from(n.getChildren())){if(o.name!=="tbody"&&o.name!=="thead"&&o.name!=="tfoot")continue;o.name==="thead"&&!r&&(r=o);const a=Array.from(o.getChildren()).filter(l=>l.is("element","tr"));for(const l of a)if(r&&o===r||o.name==="tbody"&&Array.from(l.getChildren()).length&&Array.from(l.getChildren()).every(c=>c.is("element","th")))e++,i.push(l);else{s.push(l);const c=bte(l);(!t||c<t)&&(t=c)}}return{headingRows:e,headingColumns:t||0,rows:[...i,...s]}}function bte(n){let e=0,t=0;const i=Array.from(n.getChildren()).filter(s=>s.name==="th"||s.name==="td");for(;t<i.length&&i[t].name==="th";){const s=i[t],r=parseInt(s.getAttribute("colspan")||"1");e=e+r,t++}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dt{constructor(e,t={}){this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(i.cell,i.row,i.column));else{const s=e.getChild(this._cellIndex);if(!s)return this._advanceToNextRow();const r=parseInt(s.getAttribute("colspan")||"1"),o=parseInt(s.getAttribute("rowspan")||"1");(r>1||o>1)&&this._recordSpans(s,o,r),this._shouldSkipSlot()||(t=this._formatOutValue(s)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,i=this._column){return{done:!1,value:new yte(this,e,t,i)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,i=this._column<this._startColumn,s=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||i||s}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,i){const s={cell:e,row:this._row,column:this._column};for(let r=this._row;r<this._row+t;r++)for(let o=this._column;o<this._column+i;o++)(r!=this._row||o!=this._column)&&this._markSpannedCell(r,o,s)}_markSpannedCell(e,t,i){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,i)}}class yte{constructor(e,t,i,s){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=i,this.cellAnchorColumn=s,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sk(n,e){return(t,{writer:i})=>{const s=t.getAttribute("headingRows")||0,r=i.createContainerElement("table",null,[]),o=i.createContainerElement("figure",{class:"table"},r);s>0&&i.insert(i.createPositionAt(r,"end"),i.createContainerElement("thead",null,i.createSlot(a=>a.is("element","tableRow")&&a.index<s))),s<n.getRows(t)&&i.insert(i.createPositionAt(r,"end"),i.createContainerElement("tbody",null,i.createSlot(a=>a.is("element","tableRow")&&a.index>=s)));for(const{positionOffset:a,filter:l}of e.additionalSlots)i.insert(i.createPositionAt(r,a),i.createSlot(l));return i.insert(i.createPositionAt(r,"after"),i.createSlot(a=>a.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:l})=>l(a)))),e.asWidget?_te(o,i):o}}function wte(){return(n,{writer:e})=>n.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function rk(n={}){return(e,{writer:t})=>{const i=e.parent,s=i.parent,r=s.getChildIndex(i),o=new Dt(s,{row:r}),a=s.getAttribute("headingRows")||0,l=s.getAttribute("headingColumns")||0;let c=null;for(const u of o)if(u.cell==e){const f=u.row<a||u.column<l?"th":"td";c=n.asWidget?GI(t.createEditableElement(f),t):t.createContainerElement(f);break}return c}}function ok(n={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!P2(e))return null;if(n.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function P2(n){return n.parent.childCount==1&&!Cte(n)}function _te(n,e){return e.setCustomProperty("table",!0,n),qI(n,e,{hasSelectionHandle:!0})}function Cte(n){return!n.getAttributeKeys().next().done}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kte extends kt{refresh(){const e=this.editor.model,t=e.document.selection,i=e.schema;this.isEnabled=Ste(t,i)}execute(e={}){const t=this.editor,i=t.model,s=t.plugins.get("TableUtils"),r=t.config.get("table.defaultHeadings.rows"),o=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&r&&(e.headingRows=r),e.headingColumns===void 0&&o&&(e.headingColumns=o),i.change(a=>{const l=s.createTable(a,e);i.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function Ste(n,e){const t=n.getFirstPosition().parent,i=t===t.root?t:t.parent;return e.checkChild(i,"table")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ak extends kt{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),s=this.order==="above",r=i.getSelectionAffectedTableCells(t),o=i.getRowIndexes(r),a=s?o.first:o.last,l=r[0].findAncestor("table");i.insertRows(l,{at:s?a:a+1,copyStructureFromAbove:!s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lk extends kt{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),s=this.order==="left",r=i.getSelectionAffectedTableCells(t),o=i.getColumnIndexes(r),a=s?o.first:o.last,l=r[0].findAncestor("table");i.insertColumns(l,{columns:1,at:s?a:a+1})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ck extends kt{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function I2(n,e,t){const{startRow:i,startColumn:s,endRow:r,endColumn:o}=e,a=t.createElement("table"),l=r-i+1;for(let u=0;u<l;u++)t.insertElement("tableRow",a,"end");const c=[...new Dt(n,{startRow:i,endRow:r,startColumn:s,endColumn:o,includeAllSlots:!0})];for(const{row:u,column:d,cell:f,isAnchor:h,cellAnchorRow:p,cellAnchorColumn:m}of c){const b=u-i,v=a.getChild(b);if(!h)(p<i||m<s)&&xa(t,t.createPositionAt(v,"end"));else{const w=t.cloneElement(f);t.append(w,v),F2(w,u,d,r,o,t)}}return Ete(a,n,i,s,t),a}function O2(n,e,t=0){const i=[],s=new Dt(n,{startRow:t,endRow:e-1});for(const r of s){const{row:o,cellHeight:a}=r,l=o+a-1;o<e&&e<=l&&i.push(r)}return i}function R2(n,e,t){const i=n.parent,s=i.parent,r=i.index,o=parseInt(n.getAttribute("rowspan")),a=e-r,l={},c=o-a;c>1&&(l.rowspan=c);const u=parseInt(n.getAttribute("colspan")||"1");u>1&&(l.colspan=u);const d=r,f=d+a,h=[...new Dt(s,{startRow:d,endRow:f,includeAllSlots:!0})];let p=null,m;for(const b of h){const{row:v,column:w,cell:C}=b;C===n&&m===void 0&&(m=w),m!==void 0&&m===w&&v===f&&(p=xa(t,b.getPositionBefore(),l))}return on("rowspan",a,n,t),p}function M2(n,e){const t=[],i=new Dt(n);for(const s of i){const{column:r,cellWidth:o}=s,a=r+o-1;r<e&&e<=a&&t.push(s)}return t}function D2(n,e,t,i){const s=parseInt(n.getAttribute("colspan")),r=t-e,o={},a=s-r;a>1&&(o.colspan=a);const l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(o.rowspan=l);const c=xa(i,i.createPositionAfter(n),o);return on("colspan",r,n,i),c}function F2(n,e,t,i,s,r){const o=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(t+o-1>s){const u=s-t+1;on("colspan",u,n,r,1)}if(e+a-1>i){const u=i-e+1;on("rowspan",u,n,r,1)}}function Ete(n,e,t,i,s){const r=parseInt(e.getAttribute("headingRows")||"0");if(r>0){const a=r-t;on("headingRows",a,n,s,0)}const o=parseInt(e.getAttribute("headingColumns")||"0");if(o>0){const a=o-i;on("headingColumns",a,n,s,0)}}function hv(n,e){const t=e.getColumns(n),i=new Array(t).fill(0);for(const{column:r}of new Dt(n))i[r]++;const s=i.reduce((r,o,a)=>o?r:[...r,a],[]);if(s.length>0){const r=s[s.length-1];return e.removeColumns(n,{at:r}),!0}return!1}function mv(n,e){const t=[],i=e.getRows(n);for(let s=0;s<i;s++)n.getChild(s).isEmpty&&t.push(s);if(t.length>0){const s=t[t.length-1];return e.removeRows(n,{at:s}),!0}return!1}function Oy(n,e){hv(n,e)||mv(n,e)}function N2(n,e){const t=Array.from(new Dt(n,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:r})=>r===1))return e.lastRow;const s=t[0].cellHeight-1;return e.lastRow+s}function L2(n,e){const t=Array.from(new Dt(n,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:r})=>r===1))return e.lastColumn;const s=t[0].cellWidth-1;return e.lastColumn+s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ud extends kt{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],r=this.value,o=this.direction;e.change(a=>{const l=o=="right"||o=="down",c=l?s:r,u=l?r:s,d=u.parent;xte(u,c,a);const f=this.isHorizontal?"colspan":"rowspan",h=parseInt(s.getAttribute(f)||"1"),p=parseInt(r.getAttribute(f)||"1");a.setAttribute(f,h+p,c),a.setSelection(a.createRangeIn(c));const m=this.editor.plugins.get("TableUtils"),b=d.findAncestor("table");Oy(b,m)})}_getMergeableCell(){const t=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),s=i.getTableCellsContainingSelection(t.selection)[0];if(!s)return;const r=this.isHorizontal?Tte(s,this.direction,i):Ate(s,this.direction,i);if(!r)return;const o=this.isHorizontal?"rowspan":"colspan",a=parseInt(s.getAttribute(o)||"1");if(parseInt(r.getAttribute(o)||"1")===a)return r}}function Tte(n,e,t){const s=n.parent.parent,r=e=="right"?n.nextSibling:n.previousSibling,o=(s.getAttribute("headingColumns")||0)>0;if(!r)return;const a=e=="right"?n:r,l=e=="right"?r:n,{column:c}=t.getCellLocation(a),{column:u}=t.getCellLocation(l),d=parseInt(a.getAttribute("colspan")||"1"),f=fv(t,a),h=fv(t,l);return o&&f!=h?void 0:c+d===u?r:void 0}function Ate(n,e,t){const i=n.parent,s=i.parent,r=s.getChildIndex(i);if(e=="down"&&r===t.getRows(s)-1||e=="up"&&r===0)return null;const o=parseInt(n.getAttribute("rowspan")||"1"),a=s.getAttribute("headingRows")||0,l=e=="down"&&r+o===a,c=e=="up"&&r===a;if(a&&(l||c))return null;const u=parseInt(n.getAttribute("rowspan")||"1"),d=e=="down"?r+u:r,f=[...new Dt(s,{endRow:d})],p=f.find(b=>b.cell===n).column,m=f.find(({row:b,cellHeight:v,column:w})=>w!==p?!1:e=="down"?b===d:d===b+v);return m&&m.cell?m.cell:null}function xte(n,e,t){uk(n)||(uk(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function uk(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pte extends kt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){const s=i.findAncestor("table"),o=e.getRows(s)-1,a=e.getRowIndexes(t),l=a.first===0&&a.last===o;this.isEnabled=!l}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),s=t.getRowIndexes(i),r=i[0],o=r.findAncestor("table"),a=t.getCellLocation(r).column;e.change(l=>{const c=s.last-s.first+1;t.removeRows(o,{at:s.first,rows:c});const u=Ite(o,s.first,a,t.getRows(o));l.setSelection(l.createPositionAt(u,0))})}}function Ite(n,e,t,i){const s=n.getChild(Math.min(e,i-1));let r=s.getChild(0),o=0;for(const a of s.getChildren()){if(o>t)return r;r=a,o+=parseInt(a.getAttribute("colspan")||"1")}return r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ote extends kt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){const s=i.findAncestor("table"),r=e.getColumns(s),{first:o,last:a}=e.getColumnIndexes(t);this.isEnabled=a-o<r-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,i]=Mte(this.editor.model.document.selection,e),s=t.parent.parent,r=[...new Dt(s)],o={first:r.find(l=>l.cell===t).column,last:r.find(l=>l.cell===i).column},a=Rte(r,t,i,o);this.editor.model.change(l=>{const c=o.last-o.first+1;e.removeColumns(s,{at:o.first,columns:c}),l.setSelection(l.createPositionAt(a,0))})}}function Rte(n,e,t,i){return parseInt(t.getAttribute("colspan")||"1")>1?t:e.previousSibling||t.nextSibling?t.nextSibling||e.previousSibling:i.first?n.reverse().find(({column:r})=>r<i.first).cell:n.reverse().find(({column:r})=>r>i.last).cell}function Mte(n,e){const t=e.getSelectionAffectedTableCells(n),i=t[0],s=t.pop(),r=[i,s];return i.isBefore(s)?r:r.reverse()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dte extends kt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),s=i.length>0;this.isEnabled=s,this.value=s&&i.every(r=>this._isInHeading(r,r.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=t.getSelectionAffectedTableCells(i.document.selection),r=s[0].findAncestor("table"),{first:o,last:a}=t.getRowIndexes(s),l=this.value?o:a+1,c=r.getAttribute("headingRows")||0;i.change(u=>{if(l){const d=l>c?c:0,f=O2(r,l,d);for(const{cell:h}of f)R2(h,l,u)}on("headingRows",l,r,u,0)})}_isInHeading(e,t){const i=parseInt(t.getAttribute("headingRows")||"0");return!!i&&e.parent.index<i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fte extends kt{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),s=i.length>0;this.isEnabled=s,this.value=s&&i.every(r=>fv(t,r))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=t.getSelectionAffectedTableCells(i.document.selection),r=s[0].findAncestor("table"),{first:o,last:a}=t.getColumnIndexes(s),l=this.value?o:a+1;i.change(c=>{if(l){const u=M2(r,l);for(const{cell:d,column:f}of u)D2(d,f,l,c)}on("headingColumns",l,r,c,0)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zn extends Ne{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,i=t.parent,s=i.getChildIndex(t),r=new Dt(i,{row:s});for(const{cell:o,row:a,column:l}of r)if(o===e)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(e,t){const i=e.createElement("table"),s=t.rows||2,r=t.columns||2;return Ip(e,i,0,s,r),t.headingRows&&on("headingRows",Math.min(t.headingRows,s),i,e,0),t.headingColumns&&on("headingColumns",Math.min(t.headingColumns,r),i,e,0),i}insertRows(e,t={}){const i=this.editor.model,s=t.at||0,r=t.rows||1,o=t.copyStructureFromAbove!==void 0,a=t.copyStructureFromAbove?s-1:s,l=this.getRows(e),c=this.getColumns(e);if(s>l)throw new V("tableutils-insertrows-insert-out-of-range",this,{options:t});i.change(u=>{const d=e.getAttribute("headingRows")||0;if(d>s&&on("headingRows",d+r,e,u,0),!o&&(s===0||s===l)){Ip(u,e,s,r,c);return}const f=o?Math.max(s,a):s,h=new Dt(e,{endRow:f}),p=new Array(c).fill(1);for(const{row:m,column:b,cellHeight:v,cellWidth:w,cell:C}of h){const _=m+v-1,T=m<s&&s<=_,k=m<=a&&a<=_;T?(u.setAttribute("rowspan",v+r,C),p[b]=-w):o&&k&&(p[b]=w)}for(let m=0;m<r;m++){const b=u.createElement("tableRow");u.insert(b,e,s);for(let v=0;v<p.length;v++){const w=p[v],C=u.createPositionAt(b,"end");w>0&&xa(u,C,w>1?{colspan:w}:void 0),v+=Math.abs(w)-1}}})}insertColumns(e,t={}){const i=this.editor.model,s=t.at||0,r=t.columns||1;i.change(o=>{const a=e.getAttribute("headingColumns");s<a&&o.setAttribute("headingColumns",a+r,e);const l=this.getColumns(e);if(s===0||l===s){for(const u of e.getChildren())u.is("element","tableRow")&&Xa(r,o,o.createPositionAt(u,s?"end":0));return}const c=new Dt(e,{column:s,includeAllSlots:!0});for(const u of c){const{row:d,cell:f,cellAnchorColumn:h,cellAnchorRow:p,cellWidth:m,cellHeight:b}=u;if(h<s){o.setAttribute("colspan",m+r,f);const v=p+b-1;for(let w=d;w<=v;w++)c.skipRow(w)}else Xa(r,o,u.getPositionBefore())}})}removeRows(e,t){const i=this.editor.model,s=t.rows||1,r=this.getRows(e),o=t.at,a=o+s-1;if(a>r-1)throw new V("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});i.change(l=>{const c={first:o,last:a},{cellsToMove:u,cellsToTrim:d}=$te(e,c);if(u.size){const f=a+1;Bte(e,f,u,l)}for(let f=a;f>=o;f--)l.remove(e.getChild(f));for(const{rowspan:f,cell:h}of d)on("rowspan",f,h,l);Lte(e,c,l),hv(e,this)||mv(e,this)})}removeColumns(e,t){const i=this.editor.model,s=t.at,r=t.columns||1,o=t.at+r-1;i.change(a=>{Nte(e,{first:s,last:o},a);for(let l=o;l>=s;l--)for(const{cell:c,column:u,cellWidth:d}of[...new Dt(e)])u<=l&&d>1&&u+d>l?on("colspan",d-1,c,a):u===l&&a.remove(c);mv(e,this)||hv(e,this)})}splitCellVertically(e,t=2){const i=this.editor.model,r=e.parent.parent,o=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");i.change(l=>{if(a>1){const{newCellsSpan:c,updatedSpan:u}=dk(a,t);on("colspan",u,e,l);const d={};c>1&&(d.colspan=c),o>1&&(d.rowspan=o);const f=a>t?t-1:a-1;Xa(f,l,l.createPositionAfter(e),d)}if(a<t){const c=t-a,u=[...new Dt(r)],{column:d}=u.find(({cell:m})=>m===e),f=u.filter(({cell:m,cellWidth:b,column:v})=>{const w=m!==e&&v===d,C=v<d&&v+b>d;return w||C});for(const{cell:m,cellWidth:b}of f)l.setAttribute("colspan",b+c,m);const h={};o>1&&(h.rowspan=o),Xa(c,l,l.createPositionAfter(e),h);const p=r.getAttribute("headingColumns")||0;p>d&&on("headingColumns",p+c,r,l)}})}splitCellHorizontally(e,t=2){const i=this.editor.model,s=e.parent,r=s.parent,o=r.getChildIndex(s),a=parseInt(e.getAttribute("rowspan")||"1"),l=parseInt(e.getAttribute("colspan")||"1");i.change(c=>{if(a>1){const u=[...new Dt(r,{startRow:o,endRow:o+a-1,includeAllSlots:!0})],{newCellsSpan:d,updatedSpan:f}=dk(a,t);on("rowspan",f,e,c);const{column:h}=u.find(({cell:m})=>m===e),p={};d>1&&(p.rowspan=d),l>1&&(p.colspan=l);for(const m of u){const{column:b,row:v}=m,w=v>=o+f,C=b===h,_=(v+o+f)%d===0;w&&C&&_&&Xa(1,c,m.getPositionBefore(),p)}}if(a<t){const u=t-a,d=[...new Dt(r,{startRow:0,endRow:o})];for(const{cell:p,cellHeight:m,row:b}of d)if(p!==e&&b+m>o){const v=m+u;c.setAttribute("rowspan",v,p)}const f={};l>1&&(f.colspan=l),Ip(c,r,o+1,u,1,f);const h=r.getAttribute("headingRows")||0;h>o&&on("headingRows",h+u,r,c)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((i,s)=>{const r=parseInt(s.getAttribute("colspan")||"1");return i+r},0)}getRows(e){return Array.from(e.getChildren()).reduce((t,i)=>i.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Dt(e,t)}getSelectedTableCells(e){const t=[];for(const i of this.sortRanges(e.getRanges())){const s=i.getContainedElement();s&&s.is("element","tableCell")&&t.push(s)}return t}getTableCellsContainingSelection(e){const t=[];for(const i of e.getRanges()){const s=i.start.findAncestor("tableCell");s&&t.push(s)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(i=>i.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),s=[...new Dt(t)].filter(r=>e.includes(r.cell)).map(r=>r.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,i=new Set;let s=0;for(const o of e){const{row:a,column:l}=this.getCellLocation(o),c=parseInt(o.getAttribute("rowspan"))||1,u=parseInt(o.getAttribute("colspan"))||1;t.add(a),i.add(l),c>1&&t.add(a+c-1),u>1&&i.add(l+u-1),s+=c*u}return Ute(t,i)==s}sortRanges(e){return Array.from(e).sort(Vte)}_getFirstLastIndexesObject(e){const t=e.sort((r,o)=>r-o),i=t[0],s=t[t.length-1];return{first:i,last:s}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),i=this.getRowIndexes(e),s=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,s))return!1;const r=this.getColumnIndexes(e),o=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(r,o)}_areIndexesInSameSection({first:e,last:t},i){const s=e<i,r=t<i;return s===r}}function Ip(n,e,t,i,s,r={}){for(let o=0;o<i;o++){const a=n.createElement("tableRow");n.insert(a,e,t),Xa(s,n,n.createPositionAt(a,"end"),r)}}function Xa(n,e,t,i={}){for(let s=0;s<n;s++)xa(e,t,i)}function dk(n,e){if(n<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(n/e),i=n-t*e+t;return{newCellsSpan:t,updatedSpan:i}}function Nte(n,e,t){const i=n.getAttribute("headingColumns")||0;if(i&&e.first<i){const s=Math.min(i-1,e.last)-e.first+1;t.setAttribute("headingColumns",i-s,n)}}function Lte(n,{first:e,last:t},i){const s=n.getAttribute("headingRows")||0;if(e<s){const r=t<s?s-(t-e+1):e;on("headingRows",r,n,i,0)}}function $te(n,{first:e,last:t}){const i=new Map,s=[];for(const{row:r,column:o,cellHeight:a,cell:l}of new Dt(n,{endRow:t})){const c=r+a-1;if(r>=e&&r<=t&&c>t){const f=t-r+1,h=a-f;i.set(o,{cell:l,rowspan:h})}if(r<e&&c>=e){let f;c>=t?f=t-e+1:f=c-e+1,s.push({cell:l,rowspan:a-f})}}return{cellsToMove:i,cellsToTrim:s}}function Bte(n,e,t,i){const r=[...new Dt(n,{includeAllSlots:!0,row:e})],o=n.getChild(e);let a;for(const{column:l,cell:c,isAnchor:u}of r)if(t.has(l)){const{cell:d,rowspan:f}=t.get(l),h=a?i.createPositionAfter(a):i.createPositionAt(o,0);i.move(i.createRangeOn(d),h),on("rowspan",f,d,i),a=d}else u&&(a=c)}function Vte(n,e){const t=n.start,i=e.start;return t.isBefore(i)?-1:1}function Ute(n,e){const t=Array.from(n.values()),i=Array.from(e.values()),s=Math.max(...t),r=Math.min(...t),o=Math.max(...i),a=Math.min(...i);return(s-r+1)*(o-a+1)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zte extends kt{refresh(){const e=this.editor.plugins.get(Zn),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(Zn);e.change(i=>{const s=t.getSelectedTableCells(e.document.selection),r=s.shift(),{mergeWidth:o,mergeHeight:a}=Wte(r,s,t);on("colspan",o,r,i),on("rowspan",a,r,i);for(const c of s)Hte(c,r,i);const l=r.findAncestor("table");Oy(l,t),i.setSelection(r,"in")})}}function Hte(n,e,t){fk(n)||(fk(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function fk(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function Wte(n,e,t){let i=0,s=0;for(const c of e){const{row:u,column:d}=t.getCellLocation(c);i=hk(c,d,i,"colspan"),s=hk(c,u,s,"rowspan")}const{row:r,column:o}=t.getCellLocation(n),a=i-o,l=s-r;return{mergeWidth:a,mergeHeight:l}}function hk(n,e,t,i){const s=parseInt(n.getAttribute(i)||"1");return Math.max(t,e+s)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jte extends kt{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),s=t.getRowIndexes(i),r=i[0].findAncestor("table"),o=[];for(let a=s.first;a<=s.last;a++)for(const l of r.getChild(a).getChildren())o.push(e.createRangeOn(l));e.change(a=>{a.setSelection(o)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qte extends kt{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),s=i[0],r=i.pop(),o=s.findAncestor("table"),a=e.getCellLocation(s),l=e.getCellLocation(r),c=Math.min(a.column,l.column),u=Math.max(a.column,l.column),d=[];for(const f of new Dt(o,{startColumn:c,endColumn:u}))d.push(t.createRangeOn(f.cell));t.change(f=>{f.setSelection(d)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Kte(n){n.document.registerPostFixer(e=>Gte(e,n))}function Gte(n,e){const t=e.document.differ.getChanges();let i=!1;const s=new Set;for(const r of t){let o=null;r.type=="insert"&&r.name=="table"&&(o=r.position.nodeAfter),(r.type=="insert"||r.type=="remove")&&(r.name=="tableRow"||r.name=="tableCell")&&(o=r.position.findAncestor("table")),Zte(r)&&(o=r.range.start.findAncestor("table")),o&&!s.has(o)&&(i=Qte(o,n)||i,i=Yte(o,n)||i,s.add(o))}return i}function Qte(n,e){let t=!1;const i=Jte(n);if(i.length){t=!0;for(const s of i)on("rowspan",s.rowspan,s.cell,e,1)}return t}function Yte(n,e){let t=!1;const i=Xte(n),s=[];for(const[l,c]of i.entries())!c&&n.getChild(l).is("element","tableRow")&&s.push(l);if(s.length){t=!0;for(const l of s.reverse())e.remove(n.getChild(l)),i.splice(l,1)}const r=i.filter((l,c)=>n.getChild(c).is("element","tableRow")),o=r[0];if(!r.every(l=>l===o)){const l=r.reduce((c,u)=>u>c?u:c,0);for(const[c,u]of r.entries()){const d=l-u;if(d){for(let f=0;f<d;f++)xa(e,e.createPositionAt(n.getChild(c),"end"));t=!0}}}return t}function Jte(n){const e=parseInt(n.getAttribute("headingRows")||"0"),t=Array.from(n.getChildren()).reduce((s,r)=>r.is("element","tableRow")?s+1:s,0),i=[];for(const{row:s,cell:r,cellHeight:o}of new Dt(n)){if(o<2)continue;const l=s<e?e:t;if(s+o>l){const c=l-s;i.push({cell:r,rowspan:c})}}return i}function Xte(n){const e=new Array(n.childCount).fill(0);for(const{rowIndex:t}of new Dt(n,{includeAllSlots:!0}))e[t]++;return e}function Zte(n){if(n.type!=="attribute")return!1;const e=n.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ene(n){n.document.registerPostFixer(e=>tne(e,n))}function tne(n,e){const t=e.document.differ.getChanges();let i=!1;for(const s of t)s.type=="insert"&&s.name=="table"&&(i=nne(s.position.nodeAfter,n)||i),s.type=="insert"&&s.name=="tableRow"&&(i=$2(s.position.nodeAfter,n)||i),s.type=="insert"&&s.name=="tableCell"&&(i=pv(s.position.nodeAfter,n)||i),(s.type=="remove"||s.type=="insert")&&ine(s)&&(i=pv(s.position.parent,n)||i);return i}function nne(n,e){let t=!1;for(const i of n.getChildren())i.is("element","tableRow")&&(t=$2(i,e)||t);return t}function $2(n,e){let t=!1;for(const i of n.getChildren())t=pv(i,e)||t;return t}function pv(n,e){if(n.childCount==0)return e.insertElement("paragraph",n),!0;const t=Array.from(n.getChildren()).filter(i=>i.is("$text"));for(const i of t)e.wrap(e.createRangeOn(i),"paragraph");return!!t.length}function ine(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sne(n,e){const t=n.document.differ;for(const i of t.getChanges()){let s,r=!1;if(i.type=="attribute"){const c=i.range.start.nodeAfter;if(!c||!c.is("element","table")||i.attributeKey!="headingRows"&&i.attributeKey!="headingColumns")continue;s=c,r=i.attributeKey=="headingRows"}else(i.name=="tableRow"||i.name=="tableCell")&&(s=i.position.findAncestor("table"),r=i.name=="tableRow");if(!s)continue;const o=s.getAttribute("headingRows")||0,a=s.getAttribute("headingColumns")||0,l=new Dt(s);for(const c of l){const d=c.row<o||c.column<a?"th":"td",f=e.mapper.toViewElement(c.cell);f&&f.is("element")&&f.name!=d&&e.reconvertItem(r?c.cell.parent:c.cell)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rne(n,e){const t=n.document.differ,i=new Set;for(const s of t.getChanges()){const r=s.type=="attribute"?s.range.start.parent:s.position.parent;r.is("element","tableCell")&&i.add(r)}for(const s of i.values()){const r=Array.from(s.getChildren()).filter(o=>one(o,e.mapper));for(const o of r)e.reconvertItem(o)}}function one(n,e){if(!n.is("element","paragraph"))return!1;const t=e.toViewElement(n);return t?P2(n)!==t.is("element","span"):!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ane extends Ne{static get pluginName(){return"TableEditing"}static get requires(){return[Zn]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,i=t.schema,s=e.conversion,r=e.plugins.get(Zn);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),s.for("upcast").add(hte()),s.for("upcast").add(mte()),s.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:sk(r,{asWidget:!0,additionalSlots:this._additionalSlots})}),s.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:sk(r,{additionalSlots:this._additionalSlots})}),s.for("upcast").elementToElement({model:"tableRow",view:"tr"}),s.for("upcast").add(pte()),s.for("downcast").elementToElement({model:"tableRow",view:wte()}),s.for("upcast").elementToElement({model:"tableCell",view:"td"}),s.for("upcast").elementToElement({model:"tableCell",view:"th"}),s.for("upcast").add(ik("td")),s.for("upcast").add(ik("th")),s.for("editingDowncast").elementToElement({model:"tableCell",view:rk({asWidget:!0})}),s.for("dataDowncast").elementToElement({model:"tableCell",view:rk()}),s.for("editingDowncast").elementToElement({model:"paragraph",view:ok({asWidget:!0}),converterPriority:"high"}),s.for("dataDowncast").elementToElement({model:"paragraph",view:ok(),converterPriority:"high"}),s.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),s.for("upcast").attributeToAttribute({model:{key:"colspan",value:mk("colspan")},view:"colspan"}),s.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),s.for("upcast").attributeToAttribute({model:{key:"rowspan",value:mk("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new kte(e)),e.commands.add("insertTableRowAbove",new ak(e,{order:"above"})),e.commands.add("insertTableRowBelow",new ak(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new lk(e,{order:"left"})),e.commands.add("insertTableColumnRight",new lk(e,{order:"right"})),e.commands.add("removeTableRow",new Pte(e)),e.commands.add("removeTableColumn",new Ote(e)),e.commands.add("splitTableCellVertically",new ck(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new ck(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new zte(e)),e.commands.add("mergeTableCellRight",new Ud(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Ud(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Ud(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Ud(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new Fte(e)),e.commands.add("setTableRowHeader",new Dte(e)),e.commands.add("selectTableRow",new jte(e)),e.commands.add("selectTableColumn",new qte(e)),Kte(t),ene(t),this.listenTo(t.document,"change:data",()=>{sne(t,e.editing),rne(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function mk(n){return e=>{const t=parseInt(e.getAttribute(n));return Number.isNaN(t)||t<=0?null:t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lne extends Ct{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Dr,this.focusTracker=new Es,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,s)=>`${s}  ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(i=>{i.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,s)=>{const{row:r,column:o}=s.target.dataset;this.items.get((parseInt(r,10)-1)*10+(parseInt(o,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,s,r)=>{if(!r)return;const{row:o,column:a}=r.dataset;this.set({rows:parseInt(o),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),KH({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((i,s)=>{const r=Math.floor(s/10),o=s%10,a=r<e&&o<t;i.set("isOn",a)})}_createGridButton(e,t,i,s){const r=new Zt(e);return r.set({label:s,class:"ck-insert-table-dropdown-grid-box"}),r.extendTemplate({attributes:{"data-row":t,"data-column":i}}),r}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const i=Math.floor(t/10),s=t%10,r=`${i+1}  ${s+1}`;e.push(this._createGridButton(this.locale,i+1,s+1,r))}return this.createCollection(e)}}const cne='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',une='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',dne='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',fne='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hne extends Ne{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",r=>{const o=e.commands.get("insertTable"),a=ro(r);a.bind("isEnabled").to(o),a.buttonView.set({icon:cne,label:t("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new lne(r),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}))}),a}),e.ui.componentFactory.add("tableColumn",r=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),une,o,r)}),e.ui.componentFactory.add("tableRow",r=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),dne,o,r)}),e.ui.componentFactory.add("mergeTableCells",r=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),fne,o,r)})}_prepareDropdown(e,t,i,s){const r=this.editor,o=ro(s),a=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(c=>c)),this.listenTo(o,"execute",l=>{r.execute(l.source.commandName),l.source instanceof Lh||r.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(e,t,i,s){const r=this.editor,o=ro(s,ly),a="mergeTableCells",l=r.commands.get(a),c=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([l,...c],"isEnabled",(...u)=>u.some(d=>d)),this.listenTo(o.buttonView,"execute",()=>{r.execute(a),r.editing.view.focus()}),this.listenTo(o,"execute",u=>{r.execute(u.source.commandName),r.editing.view.focus()}),o}_fillDropdownWithListOptions(e,t){const i=this.editor,s=[],r=new Ss;for(const o of t)mne(o,i,s,r);return pI(e,r),s}}function mne(n,e,t,i){if(n.type==="button"||n.type==="switchbutton"){const s=n.model=new _I(n.model),{commandName:r,bindIsOn:o}=n.model,a=e.commands.get(r);t.push(a),s.set({commandName:r}),s.bind("isEnabled").to(a),o&&s.bind("isOn").to(a,"value"),s.set({withText:!0})}i.add(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ta extends Ne{static get pluginName(){return"TableSelection"}static get requires(){return[Zn,Zn]}init(){const e=this.editor,t=e.model,i=e.editing.view;this.listenTo(t,"deleteContent",(s,r)=>this._handleDeleteContent(s,r),{priority:"high"}),this.listenTo(i.document,"insertText",(s,r)=>this._handleInsertTextEvent(s,r),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Zn),t=this.editor.model.document.selection,i=e.getSelectedTableCells(t);if(i.length==0)return null;// @if CK_DEBUG //	/* istanbul ignore next -- @preserve */
return i}getSelectionAsFragment(){const e=this.editor.plugins.get(Zn),t=this.getSelectedTableCells();return t?this.editor.model.change(i=>{const s=i.createDocumentFragment(),{first:r,last:o}=e.getColumnIndexes(t),{first:a,last:l}=e.getRowIndexes(t),c=t[0].findAncestor("table");let u=l,d=o;if(e.isSelectionRectangular(t)){const p={firstColumn:r,lastColumn:o,firstRow:a,lastRow:l};u=N2(c,p),d=L2(c,p)}const h=I2(c,{startRow:a,startColumn:r,endRow:u,endColumn:d},i);return i.insert(h,s,0),s}):null}setCellSelection(e,t){const i=this._getCellsToSelect(e,t);this.editor.model.change(s=>{s.setSelection(i.cells.map(r=>s.createRangeOn(r)),{backward:i.backward})})}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const e=this.editor.model.document.selection,i=En(e.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(r,o,a)=>{const l=a.writer;i(l);const c=this.getSelectedTableCells();if(!c)return;for(const d of c){const f=a.mapper.toViewElement(d);l.addClass("ck-editor__editable_selected",f),t.add(f)}const u=a.mapper.toViewElement(c[c.length-1]);l.setSelection(u,0)},{priority:"lowest"}));function i(s){for(const r of t)s.removeClass("ck-editor__editable_selected",r);t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(i=>{const s=i.createPositionAt(t[0],0),r=e.model.schema.getNearestSelectionRange(s);i.setSelection(r)})}})}_handleDeleteContent(e,t){const i=this.editor.plugins.get(Zn),s=t[0],r=t[1],o=this.editor.model,a=!r||r.direction=="backward",l=i.getSelectedTableCells(s);l.length&&(e.stop(),o.change(c=>{const u=l[a?l.length-1:0];o.change(f=>{for(const h of l)o.deleteContent(f.createSelection(h,"in"))});const d=o.schema.getNearestSelectionRange(c.createPositionAt(u,0));s.is("documentSelection")?c.setSelection(d):s.setTo(d)}))}_handleInsertTextEvent(e,t){const i=this.editor,s=this.getSelectedTableCells();if(!s)return;const r=i.editing.view,o=i.editing.mapper,a=s.map(l=>r.createRangeOn(o.toViewElement(l)));t.selection=r.createSelection(a)}_getCellsToSelect(e,t){const i=this.editor.plugins.get("TableUtils"),s=i.getCellLocation(e),r=i.getCellLocation(t),o=Math.min(s.row,r.row),a=Math.max(s.row,r.row),l=Math.min(s.column,r.column),c=Math.max(s.column,r.column),u=new Array(a-o+1).fill(null).map(()=>[]),d={startRow:o,endRow:a,startColumn:l,endColumn:c};for(const{row:p,cell:m}of new Dt(e.findAncestor("table"),d))u[p-o].push(m);const f=r.row<s.row,h=r.column<s.column;return f&&u.reverse(),h&&u.forEach(p=>p.reverse()),{cells:u.flat(),backward:f||h}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pne extends Ne{static get pluginName(){return"TableClipboard"}static get requires(){return[ta,Zn]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(i,s)=>this._onCopyCut(i,s)),this.listenTo(t,"cut",(i,s)=>this._onCopyCut(i,s)),this.listenTo(e.model,"insertContent",(i,[s,r])=>this._onInsertContent(i,s,r),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const i=this.editor.plugins.get(ta);if(!i.getSelectedTableCells()||e.name=="cut"&&this.editor.isReadOnly)return;t.preventDefault(),e.stop();const s=this.editor.data,r=this.editor.editing.view.document,o=s.toView(i.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:o,method:e.name})}_onInsertContent(e,t,i){if(i&&!i.is("documentSelection"))return;const s=this.editor.model,r=this.editor.plugins.get(Zn);let o=this.getTableIfOnlyTableInContent(t,s);if(!o)return;const a=r.getSelectionAffectedTableCells(s.document.selection);if(!a.length){Oy(o,r);return}e.stop(),s.change(l=>{const c={width:r.getColumns(o),height:r.getRows(o)},u=gne(a,c,l,r),d=u.lastRow-u.firstRow+1,f=u.lastColumn-u.firstColumn+1,h={startRow:0,startColumn:0,endRow:Math.min(d,c.height)-1,endColumn:Math.min(f,c.width)-1};o=I2(o,h,l);const p=a[0].findAncestor("table"),m=this._replaceSelectedCellsWithPasted(o,c,p,u,l);if(this.editor.plugins.get("TableSelection").isEnabled){const b=r.sortRanges(m.map(v=>l.createRangeOn(v)));l.setSelection(b)}else l.setSelection(m[0],0)})}_replaceSelectedCellsWithPasted(e,t,i,s,r){const{width:o,height:a}=t,l=bne(e,o,a),c=[...new Dt(i,{startRow:s.firstRow,endRow:s.lastRow,startColumn:s.firstColumn,endColumn:s.lastColumn,includeAllSlots:!0})],u=[];let d;for(const b of c){const{row:v,column:w}=b;w===s.firstColumn&&(d=b.getPositionBefore());const C=v-s.firstRow,_=w-s.firstColumn,T=l[C%a][_%o],k=T?r.cloneElement(T):null,E=this._replaceTableSlotCell(b,k,d,r);E&&(F2(E,v,w,s.lastRow,s.lastColumn,r),u.push(E),d=r.createPositionAfter(E))}const f=parseInt(i.getAttribute("headingRows")||"0"),h=parseInt(i.getAttribute("headingColumns")||"0"),p=s.firstRow<f&&f<=s.lastRow,m=s.firstColumn<h&&h<=s.lastColumn;if(p){const b={first:s.firstColumn,last:s.lastColumn},v=gv(i,f,b,r,s.firstRow);u.push(...v)}if(m){const b={first:s.firstRow,last:s.lastRow},v=vv(i,h,b,r);u.push(...v)}return u}_replaceTableSlotCell(e,t,i,s){const{cell:r,isAnchor:o}=e;return o&&s.remove(r),t?(s.insert(t,i),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const i=t.createRangeIn(e);for(const s of i.getItems())if(s.is("element","table")){const r=t.createRange(i.start,t.createPositionBefore(s));if(t.hasContent(r,{ignoreWhitespaces:!0}))return null;const o=t.createRange(t.createPositionAfter(s),i.end);return t.hasContent(o,{ignoreWhitespaces:!0})?null:s}return null}}function gne(n,e,t,i){const s=n[0].findAncestor("table"),r=i.getColumnIndexes(n),o=i.getRowIndexes(n),a={firstColumn:r.first,lastColumn:r.last,firstRow:o.first,lastRow:o.last},l=n.length===1;return l&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,vne(s,a.lastRow+1,a.lastColumn+1,i)),l||!i.isSelectionRectangular(n)?yne(s,a,t):(a.lastRow=N2(s,a),a.lastColumn=L2(s,a)),a}function vne(n,e,t,i){const s=i.getColumns(n),r=i.getRows(n);t>s&&i.insertColumns(n,{at:s,columns:t-s}),e>r&&i.insertRows(n,{at:r,rows:e-r})}function bne(n,e,t){const i=new Array(t).fill(null).map(()=>new Array(e).fill(null));for(const{column:s,row:r,cell:o}of new Dt(n))i[r][s]=o;return i}function yne(n,e,t){const{firstRow:i,lastRow:s,firstColumn:r,lastColumn:o}=e,a={first:i,last:s},l={first:r,last:o};vv(n,r,a,t),vv(n,o+1,a,t),gv(n,i,l,t),gv(n,s+1,l,t,i)}function gv(n,e,t,i,s=0){return e<1?void 0:O2(n,e,s).filter(({column:a,cellWidth:l})=>B2(a,l,t)).map(({cell:a})=>R2(a,e,i))}function vv(n,e,t,i){return e<1?void 0:M2(n,e).filter(({row:o,cellHeight:a})=>B2(o,a,t)).map(({cell:o,column:a})=>D2(o,a,e,i))}function B2(n,e,t){const i=n+e-1,{first:s,last:r}=t,o=n>=s&&n<=r,a=n<s&&i>=s;return o||a}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wne extends Ne{static get pluginName(){return"TableKeyboard"}static get requires(){return[ta,Zn]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...i)=>this._onArrowKey(...i),{context:"table"}),this.listenTo(t,"tab",(...i)=>this._handleTabOnSelectedTable(...i),{context:"figure"}),this.listenTo(t,"tab",(...i)=>this._handleTab(...i),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const i=this.editor,r=i.model.document.selection.getSelectedElement();!r||!r.is("element","table")||(t.preventDefault(),t.stopPropagation(),e.stop(),i.model.change(o=>{o.setSelection(o.createRangeIn(r.getChild(0).getChild(0)))}))}_handleTab(e,t){const i=this.editor,s=this.editor.plugins.get(Zn),r=this.editor.plugins.get("TableSelection"),o=i.model.document.selection,a=!t.shiftKey;let l=s.getTableCellsContainingSelection(o)[0];if(l||(l=r.getFocusCell()),!l)return;t.preventDefault(),t.stopPropagation(),e.stop();const c=l.parent,u=c.parent,d=u.getChildIndex(c),f=c.getChildIndex(l),h=f===0;if(!a&&h&&d===0){i.model.change(v=>{v.setSelection(v.createRangeOn(u))});return}const p=f===c.childCount-1,m=d===s.getRows(u)-1;if(a&&m&&p&&(i.execute("insertTableRowBelow"),d===s.getRows(u)-1)){i.model.change(v=>{v.setSelection(v.createRangeOn(u))});return}let b;if(a&&p)b=u.getChild(d+1).getChild(0);else if(!a&&h){const v=u.getChild(d-1);b=v.getChild(v.childCount-1)}else b=c.getChild(f+(a?1:-1));i.model.change(v=>{v.setSelection(v.createRangeIn(b))})}_onArrowKey(e,t){const i=this.editor,s=t.keyCode,r=iy(s,i.locale.contentLanguageDirection);this._handleArrowKeys(r,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const i=this.editor.plugins.get(Zn),s=this.editor.plugins.get("TableSelection"),r=this.editor.model,o=r.document.selection,a=["right","down"].includes(e),l=i.getSelectedTableCells(o);if(l.length){let u;return t?u=s.getFocusCell():u=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(u,e,t),!0}const c=o.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!c)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==a&&!o.containsEntireContent(c))return!1}else{const u=o.getSelectedElement();if(!u||!r.schema.isObject(u))return!1}return this._isSelectionAtCellEdge(o,c,a)?(this._navigateFromCellInDirection(c,e,t),!0):!1}_isSelectionAtCellEdge(e,t,i){const s=this.editor.model,r=this.editor.model.schema,o=i?e.getLastPosition():e.getFirstPosition();if(!r.getLimitElement(o).is("element","tableCell"))return s.createPositionAt(t,i?"end":0).isTouching(o);const a=s.createSelection(o);return s.modifySelection(a,{direction:i?"forward":"backward"}),o.isEqual(a.focus)}_navigateFromCellInDirection(e,t,i=!1){const s=this.editor.model,r=e.findAncestor("table"),o=[...new Dt(r,{includeAllSlots:!0})],{row:a,column:l}=o[o.length-1],c=o.find(({cell:w})=>w==e);let{row:u,column:d}=c;switch(t){case"left":d--;break;case"up":u--;break;case"right":d+=c.cellWidth;break;case"down":u+=c.cellHeight;break}const f=u<0||u>a,h=d<0&&u<=0,p=d>l&&u>=a;if(f||h||p){s.change(w=>{w.setSelection(w.createRangeOn(r))});return}d<0?(d=i?0:l,u--):d>l&&(d=i?l:0,u++);const m=o.find(w=>w.row==u&&w.column==d).cell,b=["right","down"].includes(t),v=this.editor.plugins.get("TableSelection");if(i&&v.isEnabled){const w=v.getAnchorCell()||e;v.setCellSelection(w,m)}else{const w=s.createPositionAt(m,b?0:"end");s.change(C=>{C.setSelection(w)})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _ne extends yo{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cne extends Ne{static get pluginName(){return"TableMouse"}static get requires(){return[ta,Zn]}init(){this.editor.editing.view.addObserver(_ne),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Zn);let i=!1;const s=e.plugins.get(ta);this.listenTo(e.editing.view.document,"mousedown",(r,o)=>{const a=e.model.document.selection;if(!this.isEnabled||!s.isEnabled||!o.domEvent.shiftKey)return;const l=s.getAnchorCell()||t.getTableCellsContainingSelection(a)[0];if(!l)return;const c=this._getModelTableCellFromDomEvent(o);c&&pk(l,c)&&(i=!0,s.setCellSelection(l,c),o.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(e.editing.view.document,"selectionChange",r=>{i&&r.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,i,s=!1,r=!1;const o=e.plugins.get(ta);this.listenTo(e.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!o.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(l))}),this.listenTo(e.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!t)return;const c=this._getModelTableCellFromDomEvent(l);c&&pk(t,c)&&(i=c,!s&&i!=t&&(s=!0)),s&&(r=!0,o.setCellSelection(t,i),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1,r=!1,t=null,i=null}),this.listenTo(e.editing.view.document,"selectionChange",a=>{r&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,i=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function pk(n,e){return n.parent.parent==e.parent.parent}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kne extends Ne{static get requires(){return[ane,hne,ta,Cne,wne,pne,Wh]}static get pluginName(){return"Table"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Sne(n){const e=n.getSelectedElement();return e&&V2(e)?e:null}function Ene(n){const e=n.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&V2(t))return t;t=t.parent}return null}function V2(n){return!!n.getCustomProperty("table")&&tn(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tne extends Ne{static get requires(){return[zf]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,i=e.plugins.get(zf),s=e.config.get("table.contentToolbar"),r=e.config.get("table.tableToolbar");s&&i.register("tableContent",{ariaLabel:t("Table toolbar"),items:s,getRelatedElement:Ene}),r&&i.register("table",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:Sne})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Do=ni.defaultPositions;Do.northArrowSouth,Do.northArrowSouthWest,Do.northArrowSouthEast,Do.southArrowNorth,Do.southArrowNorthWest,Do.southArrowNorthEast,Do.viewportStickyNorth;const Ane={components:{ckeditor:qH.component},props:{content:{type:String,default:""}},emits:["content"],setup(n,{emit:e}){const t=zh,i=se(n.content),s=se({plugins:[Hu,oJ,TC,AC,EX,Cee,AX,TC,AC,NX,UX,sZ,lZ,wZ,_Z,jZ,Qee,rte,ute,TZ,kne,Tne],toolbar:{items:["heading","alignment","bold","italic","link","bulletedList","numberedList","uploadImage","blockQuote","undo","redo","sourceEditing","insertTable"]},image:{toolbar:["toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},simpleUpload:{uploadUrl:"/admin/image/store",withCredentials:!0,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}});return $e(i,r=>{e("content",r)},{immediate:!0}),{editor:t,editorData:i,editorConfig:s}}},jh=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t};function xne(n,e,t,i,s,r){const o=Ms("ckeditor");return H(),ze(o,{editor:i.editor,modelValue:i.editorData,"onUpdate:modelValue":e[0]||(e[0]=a=>i.editorData=a),config:i.editorConfig},null,8,["editor","modelValue","config"])}const Pne=jh(Ane,[["render",xne]]);function U2(n,e){return function(){return n.apply(e,arguments)}}const{toString:Ine}=Object.prototype,{getPrototypeOf:Ry}=Object,qh=(n=>e=>{const t=Ine.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),or=n=>(n=n.toLowerCase(),e=>qh(e)===n),Kh=n=>e=>typeof e===n,{isArray:tc}=Array,Eu=Kh("undefined");function One(n){return n!==null&&!Eu(n)&&n.constructor!==null&&!Eu(n.constructor)&&ns(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const z2=or("ArrayBuffer");function Rne(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&z2(n.buffer),e}const Mne=Kh("string"),ns=Kh("function"),H2=Kh("number"),Gh=n=>n!==null&&typeof n=="object",Dne=n=>n===!0||n===!1,cf=n=>{if(qh(n)!=="object")return!1;const e=Ry(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Fne=or("Date"),Nne=or("File"),Lne=or("Blob"),$ne=or("FileList"),Bne=n=>Gh(n)&&ns(n.pipe),Vne=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ns(n.append)&&((e=qh(n))==="formdata"||e==="object"&&ns(n.toString)&&n.toString()==="[object FormData]"))},Une=or("URLSearchParams"),zne=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),tc(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,n[a],a,n)}}function W2(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const j2=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),q2=n=>!Eu(n)&&n!==j2;function bv(){const{caseless:n}=q2(this)&&this||{},e={},t=(i,s)=>{const r=n&&W2(e,s)||s;cf(e[r])&&cf(i)?e[r]=bv(e[r],i):cf(i)?e[r]=bv({},i):tc(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Wu(arguments[i],t);return e}const Hne=(n,e,t,{allOwnKeys:i}={})=>(Wu(e,(s,r)=>{t&&ns(s)?n[r]=U2(s,t):n[r]=s},{allOwnKeys:i}),n),Wne=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),jne=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},qne=(n,e,t,i)=>{let s,r,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Ry(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Kne=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Gne=n=>{if(!n)return null;if(tc(n))return n;let e=n.length;if(!H2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Qne=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ry(Uint8Array)),Yne=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(n,r[0],r[1])}},Jne=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},Xne=or("HTMLFormElement"),Zne=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),gk=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),eie=or("RegExp"),K2=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Wu(t,(s,r)=>{e(s,r,n)!==!1&&(i[r]=s)}),Object.defineProperties(n,i)},tie=n=>{K2(n,(e,t)=>{if(ns(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ns(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},nie=(n,e)=>{const t={},i=s=>{s.forEach(r=>{t[r]=!0})};return tc(n)?i(n):i(String(n).split(e)),t},iie=()=>{},sie=(n,e)=>(n=+n,Number.isFinite(n)?n:e),Op="abcdefghijklmnopqrstuvwxyz",vk="0123456789",G2={DIGIT:vk,ALPHA:Op,ALPHA_DIGIT:Op+Op.toUpperCase()+vk},rie=(n=16,e=G2.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function oie(n){return!!(n&&ns(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const aie=n=>{const e=new Array(10),t=(i,s)=>{if(Gh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=tc(i)?[]:{};return Wu(i,(o,a)=>{const l=t(o,s+1);!Eu(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return t(n,0)},lie=or("AsyncFunction"),cie=n=>n&&(Gh(n)||ns(n))&&ns(n.then)&&ns(n.catch),ve={isArray:tc,isArrayBuffer:z2,isBuffer:One,isFormData:Vne,isArrayBufferView:Rne,isString:Mne,isNumber:H2,isBoolean:Dne,isObject:Gh,isPlainObject:cf,isUndefined:Eu,isDate:Fne,isFile:Nne,isBlob:Lne,isRegExp:eie,isFunction:ns,isStream:Bne,isURLSearchParams:Une,isTypedArray:Qne,isFileList:$ne,forEach:Wu,merge:bv,extend:Hne,trim:zne,stripBOM:Wne,inherits:jne,toFlatObject:qne,kindOf:qh,kindOfTest:or,endsWith:Kne,toArray:Gne,forEachEntry:Yne,matchAll:Jne,isHTMLForm:Xne,hasOwnProperty:gk,hasOwnProp:gk,reduceDescriptors:K2,freezeMethods:tie,toObjectSet:nie,toCamelCase:Zne,noop:iie,toFiniteNumber:sie,findKey:W2,global:j2,isContextDefined:q2,ALPHABET:G2,generateString:rie,isSpecCompliantForm:oie,toJSONObject:aie,isAsyncFn:lie,isThenable:cie};function It(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s)}ve.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Q2=It.prototype,Y2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Y2[n]={value:n}});Object.defineProperties(It,Y2);Object.defineProperty(Q2,"isAxiosError",{value:!0});It.from=(n,e,t,i,s,r)=>{const o=Object.create(Q2);return ve.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),It.call(o,n.message,e,t,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const uie=null;function yv(n){return ve.isPlainObject(n)||ve.isArray(n)}function J2(n){return ve.endsWith(n,"[]")?n.slice(0,-2):n}function bk(n,e,t){return n?n.concat(e).map(function(s,r){return s=J2(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function die(n){return ve.isArray(n)&&!n.some(yv)}const fie=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function Qh(n,e,t){if(!ve.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ve.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!ve.isUndefined(b[m])});const i=t.metaTokens,s=t.visitor||u,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(ve.isDate(p))return p.toISOString();if(!l&&ve.isBlob(p))throw new It("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(p)||ve.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,b){let v=p;if(p&&!b&&typeof p=="object"){if(ve.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(ve.isArray(p)&&die(p)||(ve.isFileList(p)||ve.endsWith(m,"[]"))&&(v=ve.toArray(p)))return m=J2(m),v.forEach(function(C,_){!(ve.isUndefined(C)||C===null)&&e.append(o===!0?bk([m],_,r):o===null?m:m+"[]",c(C))}),!1}return yv(p)?!0:(e.append(bk(b,m,r),c(p)),!1)}const d=[],f=Object.assign(fie,{defaultVisitor:u,convertValue:c,isVisitable:yv});function h(p,m){if(!ve.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),ve.forEach(p,function(v,w){(!(ve.isUndefined(v)||v===null)&&s.call(e,v,ve.isString(w)?w.trim():w,m,f))===!0&&h(v,m?m.concat(w):[w])}),d.pop()}}if(!ve.isObject(n))throw new TypeError("data must be an object");return h(n),e}function yk(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function My(n,e){this._pairs=[],n&&Qh(n,this,e)}const X2=My.prototype;X2.append=function(e,t){this._pairs.push([e,t])};X2.toString=function(e){const t=e?function(i){return e.call(this,i,yk)}:yk;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function hie(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Z2(n,e,t){if(!e)return n;const i=t&&t.encode||hie,s=t&&t.serialize;let r;if(s?r=s(e,t):r=ve.isURLSearchParams(e)?e.toString():new My(e,t).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class mie{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(i){i!==null&&e(i)})}}const wk=mie,eO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pie=typeof URLSearchParams<"u"?URLSearchParams:My,gie=typeof FormData<"u"?FormData:null,vie=typeof Blob<"u"?Blob:null,bie=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),yie=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),js={isBrowser:!0,classes:{URLSearchParams:pie,FormData:gie,Blob:vie},isStandardBrowserEnv:bie,isStandardBrowserWebWorkerEnv:yie,protocols:["http","https","file","blob","url","data"]};function wie(n,e){return Qh(n,new js.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,r){return js.isNode&&ve.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function _ie(n){return ve.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Cie(n){const e={},t=Object.keys(n);let i;const s=t.length;let r;for(i=0;i<s;i++)r=t[i],e[r]=n[r];return e}function tO(n){function e(t,i,s,r){let o=t[r++];const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&ve.isArray(s)?s.length:o,l?(ve.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!ve.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],r)&&ve.isArray(s[o])&&(s[o]=Cie(s[o])),!a)}if(ve.isFormData(n)&&ve.isFunction(n.entries)){const t={};return ve.forEachEntry(n,(i,s)=>{e(_ie(i),s,t,0)}),t}return null}const kie={"Content-Type":void 0};function Sie(n,e,t){if(ve.isString(n))try{return(e||JSON.parse)(n),ve.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Yh={transitional:eO,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=ve.isObject(e);if(r&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return s&&s?JSON.stringify(tO(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return wie(e,this.formSerializer).toString();if((a=ve.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Qh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),Sie(e)):e}],transformResponse:[function(e){const t=this.transitional||Yh.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&ve.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?It.from(a,It.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:js.classes.FormData,Blob:js.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ve.forEach(["delete","get","head"],function(e){Yh.headers[e]={}});ve.forEach(["post","put","patch"],function(e){Yh.headers[e]=ve.merge(kie)});const Dy=Yh,Eie=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tie=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&Eie[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},_k=Symbol("internals");function yc(n){return n&&String(n).trim().toLowerCase()}function uf(n){return n===!1||n==null?n:ve.isArray(n)?n.map(uf):String(n)}function Aie(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const xie=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Rp(n,e,t,i,s){if(ve.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!ve.isString(e)){if(ve.isString(i))return e.indexOf(i)!==-1;if(ve.isRegExp(i))return i.test(e)}}function Pie(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function Iie(n,e){const t=ve.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class Jh{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function r(a,l,c){const u=yc(l);if(!u)throw new Error("header name must be a non-empty string");const d=ve.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=uf(a))}const o=(a,l)=>ve.forEach(a,(c,u)=>r(c,u,l));return ve.isPlainObject(e)||e instanceof this.constructor?o(e,t):ve.isString(e)&&(e=e.trim())&&!xie(e)?o(Tie(e),t):e!=null&&r(t,e,i),this}get(e,t){if(e=yc(e),e){const i=ve.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return Aie(s);if(ve.isFunction(t))return t.call(this,s,i);if(ve.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yc(e),e){const i=ve.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Rp(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function r(o){if(o=yc(o),o){const a=ve.findKey(i,o);a&&(!t||Rp(i,i[a],a,t))&&(delete i[a],s=!0)}}return ve.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const r=t[i];(!e||Rp(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,i={};return ve.forEach(this,(s,r)=>{const o=ve.findKey(i,r);if(o){t[o]=uf(s),delete t[r];return}const a=e?Pie(r):String(r).trim();a!==r&&delete t[r],t[a]=uf(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&ve.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[_k]=this[_k]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=yc(o);i[a]||(Iie(s,o),i[a]=!0)}return ve.isArray(e)?e.forEach(r):r(e),this}}Jh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.freezeMethods(Jh.prototype);ve.freezeMethods(Jh);const kr=Jh;function Mp(n,e){const t=this||Dy,i=e||t,s=kr.from(i.headers);let r=i.data;return ve.forEach(n,function(a){r=a.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function nO(n){return!!(n&&n.__CANCEL__)}function ju(n,e,t){It.call(this,n??"canceled",It.ERR_CANCELED,e,t),this.name="CanceledError"}ve.inherits(ju,It,{__CANCEL__:!0});function Oie(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new It("Request failed with status code "+t.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const Rie=js.isStandardBrowserEnv?function(){return{write:function(t,i,s,r,o,a){const l=[];l.push(t+"="+encodeURIComponent(i)),ve.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),ve.isString(r)&&l.push("path="+r),ve.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Mie(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Die(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function iO(n,e){return n&&!Mie(e)?Die(n,e):e}const Fie=js.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function s(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=s(window.location.href),function(o){const a=ve.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function Nie(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Lie(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),t[s]=l,i[s]=c;let d=r,f=0;for(;d!==s;)f+=t[d++],d=d%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function Ck(n,e){let t=0;const i=Lie(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-t,l=i(a),c=r<=o;t=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:s};u[e?"download":"upload"]=!0,n(u)}}const $ie=typeof XMLHttpRequest<"u",Bie=$ie&&function(n){return new Promise(function(t,i){let s=n.data;const r=kr.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}ve.isFormData(s)&&(js.isStandardBrowserEnv||js.isStandardBrowserWebWorkerEnv?r.setContentType(!1):r.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(n.auth){const h=n.auth.username||"",p=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";r.set("Authorization","Basic "+btoa(h+":"+p))}const u=iO(n.baseURL,n.url);c.open(n.method.toUpperCase(),Z2(u,n.params,n.paramsSerializer),!0),c.timeout=n.timeout;function d(){if(!c)return;const h=kr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:h,config:n,request:c};Oie(function(v){t(v),l()},function(v){i(v),l()},m),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(i(new It("Request aborted",It.ECONNABORTED,n,c)),c=null)},c.onerror=function(){i(new It("Network Error",It.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let p=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const m=n.transitional||eO;n.timeoutErrorMessage&&(p=n.timeoutErrorMessage),i(new It(p,m.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,n,c)),c=null},js.isStandardBrowserEnv){const h=(n.withCredentials||Fie(u))&&n.xsrfCookieName&&Rie.read(n.xsrfCookieName);h&&r.set(n.xsrfHeaderName,h)}s===void 0&&r.setContentType(null),"setRequestHeader"in c&&ve.forEach(r.toJSON(),function(p,m){c.setRequestHeader(m,p)}),ve.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&o!=="json"&&(c.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&c.addEventListener("progress",Ck(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Ck(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=h=>{c&&(i(!h||h.type?new ju(null,n,c):h),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const f=Nie(u);if(f&&js.protocols.indexOf(f)===-1){i(new It("Unsupported protocol "+f+":",It.ERR_BAD_REQUEST,n));return}c.send(s||null)})},df={http:uie,xhr:Bie};ve.forEach(df,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Vie={getAdapter:n=>{n=ve.isArray(n)?n:[n];const{length:e}=n;let t,i;for(let s=0;s<e&&(t=n[s],!(i=ve.isString(t)?df[t.toLowerCase()]:t));s++);if(!i)throw i===!1?new It(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ve.hasOwnProp(df,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!ve.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:df};function Dp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ju(null,n)}function kk(n){return Dp(n),n.headers=kr.from(n.headers),n.data=Mp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Vie.getAdapter(n.adapter||Dy.adapter)(n).then(function(i){return Dp(n),i.data=Mp.call(n,n.transformResponse,i),i.headers=kr.from(i.headers),i},function(i){return nO(i)||(Dp(n),i&&i.response&&(i.response.data=Mp.call(n,n.transformResponse,i.response),i.response.headers=kr.from(i.response.headers))),Promise.reject(i)})}const Sk=n=>n instanceof kr?n.toJSON():n;function Ol(n,e){e=e||{};const t={};function i(c,u,d){return ve.isPlainObject(c)&&ve.isPlainObject(u)?ve.merge.call({caseless:d},c,u):ve.isPlainObject(u)?ve.merge({},u):ve.isArray(u)?u.slice():u}function s(c,u,d){if(ve.isUndefined(u)){if(!ve.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function r(c,u){if(!ve.isUndefined(u))return i(void 0,u)}function o(c,u){if(ve.isUndefined(u)){if(!ve.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(Sk(c),Sk(u),!0)};return ve.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||s,f=d(n[u],e[u],u);ve.isUndefined(f)&&d!==a||(t[u]=f)}),t}const sO="1.4.0",Fy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Fy[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Ek={};Fy.transitional=function(e,t,i){function s(r,o){return"[Axios v"+sO+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new It(s(o," has been removed"+(t?" in "+t:"")),It.ERR_DEPRECATED);return t&&!Ek[o]&&(Ek[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};function Uie(n,e,t){if(typeof n!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=n[r],l=a===void 0||o(a,r,n);if(l!==!0)throw new It("option "+r+" must be "+l,It.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new It("Unknown option "+r,It.ERR_BAD_OPTION)}}const wv={assertOptions:Uie,validators:Fy},zr=wv.validators;class Wf{constructor(e){this.defaults=e,this.interceptors={request:new wk,response:new wk}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ol(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:r}=t;i!==void 0&&wv.assertOptions(i,{silentJSONParsing:zr.transitional(zr.boolean),forcedJSONParsing:zr.transitional(zr.boolean),clarifyTimeoutError:zr.transitional(zr.boolean)},!1),s!=null&&(ve.isFunction(s)?t.paramsSerializer={serialize:s}:wv.assertOptions(s,{encode:zr.function,serialize:zr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o;o=r&&ve.merge(r.common,r[t.method]),o&&ve.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),t.headers=kr.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[kk.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(t);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=t;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(b){m.call(this,b);break}}try{u=kk.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Ol(this.defaults,e);const t=iO(e.baseURL,e.url);return Z2(t,e.params,e.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(e){Wf.prototype[e]=function(t,i){return this.request(Ol(i||{},{method:e,url:t,data:(i||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,a){return this.request(Ol(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Wf.prototype[e]=t(),Wf.prototype[e+"Form"]=t(!0)});const ff=Wf;class Ny{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new ju(r,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ny(function(s){e=s}),cancel:e}}}const zie=Ny;function Hie(n){return function(t){return n.apply(null,t)}}function Wie(n){return ve.isObject(n)&&n.isAxiosError===!0}const _v={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_v).forEach(([n,e])=>{_v[e]=n});const jie=_v;function rO(n){const e=new ff(n),t=U2(ff.prototype.request,e);return ve.extend(t,ff.prototype,e,{allOwnKeys:!0}),ve.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return rO(Ol(n,s))},t}const Tn=rO(Dy);Tn.Axios=ff;Tn.CanceledError=ju;Tn.CancelToken=zie;Tn.isCancel=nO;Tn.VERSION=sO;Tn.toFormData=Qh;Tn.AxiosError=It;Tn.Cancel=Tn.CanceledError;Tn.all=function(e){return Promise.all(e)};Tn.spread=Hie;Tn.isAxiosError=Wie;Tn.mergeConfig=Ol;Tn.AxiosHeaders=kr;Tn.formToJSON=n=>tO(ve.isHTMLForm(n)?new FormData(n):n);Tn.HttpStatusCode=jie;Tn.default=Tn;const Tk=Tn;var qie=function(e){return Kie(e)&&!Gie(e)};function Kie(n){return!!n&&typeof n=="object"}function Gie(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||Jie(n)}var Qie=typeof Symbol=="function"&&Symbol.for,Yie=Qie?Symbol.for("react.element"):60103;function Jie(n){return n.$$typeof===Yie}function Xie(n){return Array.isArray(n)?[]:{}}function Tu(n,e){return e.clone!==!1&&e.isMergeableObject(n)?Rl(Xie(n),n,e):n}function Zie(n,e,t){return n.concat(e).map(function(i){return Tu(i,t)})}function ese(n,e){if(!e.customMerge)return Rl;var t=e.customMerge(n);return typeof t=="function"?t:Rl}function tse(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(e){return Object.propertyIsEnumerable.call(n,e)}):[]}function Ak(n){return Object.keys(n).concat(tse(n))}function oO(n,e){try{return e in n}catch{return!1}}function nse(n,e){return oO(n,e)&&!(Object.hasOwnProperty.call(n,e)&&Object.propertyIsEnumerable.call(n,e))}function ise(n,e,t){var i={};return t.isMergeableObject(n)&&Ak(n).forEach(function(s){i[s]=Tu(n[s],t)}),Ak(e).forEach(function(s){nse(n,s)||(oO(n,s)&&t.isMergeableObject(e[s])?i[s]=ese(s,t)(n[s],e[s],t):i[s]=Tu(e[s],t))}),i}function Rl(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||Zie,t.isMergeableObject=t.isMergeableObject||qie,t.cloneUnlessOtherwiseSpecified=Tu;var i=Array.isArray(e),s=Array.isArray(n),r=i===s;return r?i?t.arrayMerge(n,e,t):ise(n,e,t):Tu(e,t)}Rl.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,s){return Rl(i,s,t)},{})};var sse=Rl,rse=sse;const ose=Ai(rse);var ase=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var r=Object.getOwnPropertySymbols(e);if(r.length!==1||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==s||o.enumerable!==!0)return!1}return!0},xk=typeof Symbol<"u"&&Symbol,lse=ase,cse=function(){return typeof xk!="function"||typeof Symbol!="function"||typeof xk("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:lse()},Pk={foo:{}},use=Object,dse=function(){return{__proto__:Pk}.foo===Pk.foo&&!({__proto__:null}instanceof use)},fse="Function.prototype.bind called on incompatible ",Fp=Array.prototype.slice,hse=Object.prototype.toString,mse="[object Function]",pse=function(e){var t=this;if(typeof t!="function"||hse.call(t)!==mse)throw new TypeError(fse+t);for(var i=Fp.call(arguments,1),s,r=function(){if(this instanceof s){var u=t.apply(this,i.concat(Fp.call(arguments)));return Object(u)===u?u:this}else return t.apply(e,i.concat(Fp.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],l=0;l<o;l++)a.push("$"+l);if(s=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(r),t.prototype){var c=function(){};c.prototype=t.prototype,s.prototype=new c,c.prototype=null}return s},gse=pse,Ly=Function.prototype.bind||gse,vse=Ly,bse=vse.call(Function.call,Object.prototype.hasOwnProperty),vt,Ml=SyntaxError,aO=Function,dl=TypeError,Np=function(n){try{return aO('"use strict"; return ('+n+").constructor;")()}catch{}},na=Object.getOwnPropertyDescriptor;if(na)try{na({},"")}catch{na=null}var Lp=function(){throw new dl},yse=na?function(){try{return arguments.callee,Lp}catch{try{return na(arguments,"callee").get}catch{return Lp}}}():Lp,Ha=cse(),wse=dse(),On=Object.getPrototypeOf||(wse?function(n){return n.__proto__}:null),Za={},_se=typeof Uint8Array>"u"||!On?vt:On(Uint8Array),ia={"%AggregateError%":typeof AggregateError>"u"?vt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?vt:ArrayBuffer,"%ArrayIteratorPrototype%":Ha&&On?On([][Symbol.iterator]()):vt,"%AsyncFromSyncIteratorPrototype%":vt,"%AsyncFunction%":Za,"%AsyncGenerator%":Za,"%AsyncGeneratorFunction%":Za,"%AsyncIteratorPrototype%":Za,"%Atomics%":typeof Atomics>"u"?vt:Atomics,"%BigInt%":typeof BigInt>"u"?vt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?vt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?vt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?vt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?vt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?vt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?vt:FinalizationRegistry,"%Function%":aO,"%GeneratorFunction%":Za,"%Int8Array%":typeof Int8Array>"u"?vt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?vt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?vt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ha&&On?On(On([][Symbol.iterator]())):vt,"%JSON%":typeof JSON=="object"?JSON:vt,"%Map%":typeof Map>"u"?vt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ha||!On?vt:On(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?vt:Promise,"%Proxy%":typeof Proxy>"u"?vt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?vt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?vt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ha||!On?vt:On(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?vt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ha&&On?On(""[Symbol.iterator]()):vt,"%Symbol%":Ha?Symbol:vt,"%SyntaxError%":Ml,"%ThrowTypeError%":yse,"%TypedArray%":_se,"%TypeError%":dl,"%Uint8Array%":typeof Uint8Array>"u"?vt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?vt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?vt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?vt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?vt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?vt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?vt:WeakSet};if(On)try{null.error}catch(n){var Cse=On(On(n));ia["%Error.prototype%"]=Cse}var kse=function n(e){var t;if(e==="%AsyncFunction%")t=Np("async function () {}");else if(e==="%GeneratorFunction%")t=Np("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Np("async function* () {}");else if(e==="%AsyncGenerator%"){var i=n("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=n("%AsyncGenerator%");s&&On&&(t=On(s.prototype))}return ia[e]=t,t},Ik={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},qu=Ly,jf=bse,Sse=qu.call(Function.call,Array.prototype.concat),Ese=qu.call(Function.apply,Array.prototype.splice),Ok=qu.call(Function.call,String.prototype.replace),qf=qu.call(Function.call,String.prototype.slice),Tse=qu.call(Function.call,RegExp.prototype.exec),Ase=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xse=/\\(\\)?/g,Pse=function(e){var t=qf(e,0,1),i=qf(e,-1);if(t==="%"&&i!=="%")throw new Ml("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new Ml("invalid intrinsic syntax, expected opening `%`");var s=[];return Ok(e,Ase,function(r,o,a,l){s[s.length]=a?Ok(l,xse,"$1"):o||r}),s},Ise=function(e,t){var i=e,s;if(jf(Ik,i)&&(s=Ik[i],i="%"+s[0]+"%"),jf(ia,i)){var r=ia[i];if(r===Za&&(r=kse(i)),typeof r>"u"&&!t)throw new dl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:i,value:r}}throw new Ml("intrinsic "+e+" does not exist!")},$y=function(e,t){if(typeof e!="string"||e.length===0)throw new dl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new dl('"allowMissing" argument must be a boolean');if(Tse(/^%?[^%]*%?$/,e)===null)throw new Ml("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=Pse(e),s=i.length>0?i[0]:"",r=Ise("%"+s+"%",t),o=r.name,a=r.value,l=!1,c=r.alias;c&&(s=c[0],Ese(i,Sse([0,1],c)));for(var u=1,d=!0;u<i.length;u+=1){var f=i[u],h=qf(f,0,1),p=qf(f,-1);if((h==='"'||h==="'"||h==="`"||p==='"'||p==="'"||p==="`")&&h!==p)throw new Ml("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),s+="."+f,o="%"+s+"%",jf(ia,o))a=ia[o];else if(a!=null){if(!(f in a)){if(!t)throw new dl("base intrinsic for "+e+" exists, but the property is not available.");return}if(na&&u+1>=i.length){var m=na(a,f);d=!!m,d&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[f]}else d=jf(a,f),a=a[f];d&&!l&&(ia[o]=a)}}return a},lO={exports:{}};(function(n){var e=Ly,t=$y,i=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),r=t("%Reflect.apply%",!0)||e.call(s,i),o=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}n.exports=function(d){var f=r(e,s,arguments);if(o&&a){var h=o(f,"length");h.configurable&&a(f,"length",{value:1+l(0,d.length-(arguments.length-1))})}return f};var c=function(){return r(e,i,arguments)};a?a(n.exports,"apply",{value:c}):n.exports.apply=c})(lO);var Ose=lO.exports,cO=$y,uO=Ose,Rse=uO(cO("String.prototype.indexOf")),Mse=function(e,t){var i=cO(e,!!t);return typeof i=="function"&&Rse(e,".prototype.")>-1?uO(i):i};const Dse={},Fse=Object.freeze(Object.defineProperty({__proto__:null,default:Dse},Symbol.toStringTag,{value:"Module"})),Nse=LA(Fse);var By=typeof Map=="function"&&Map.prototype,$p=Object.getOwnPropertyDescriptor&&By?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Kf=By&&$p&&typeof $p.get=="function"?$p.get:null,Rk=By&&Map.prototype.forEach,Vy=typeof Set=="function"&&Set.prototype,Bp=Object.getOwnPropertyDescriptor&&Vy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Gf=Vy&&Bp&&typeof Bp.get=="function"?Bp.get:null,Mk=Vy&&Set.prototype.forEach,Lse=typeof WeakMap=="function"&&WeakMap.prototype,Wc=Lse?WeakMap.prototype.has:null,$se=typeof WeakSet=="function"&&WeakSet.prototype,jc=$se?WeakSet.prototype.has:null,Bse=typeof WeakRef=="function"&&WeakRef.prototype,Dk=Bse?WeakRef.prototype.deref:null,Vse=Boolean.prototype.valueOf,Use=Object.prototype.toString,zse=Function.prototype.toString,Hse=String.prototype.match,Uy=String.prototype.slice,to=String.prototype.replace,Wse=String.prototype.toUpperCase,Fk=String.prototype.toLowerCase,dO=RegExp.prototype.test,Nk=Array.prototype.concat,$s=Array.prototype.join,jse=Array.prototype.slice,Lk=Math.floor,Cv=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Vp=Object.getOwnPropertySymbols,kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ii=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Dl||"symbol")?Symbol.toStringTag:null,fO=Object.prototype.propertyIsEnumerable,$k=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function Bk(n,e){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||dO.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var i=n<0?-Lk(-n):Lk(n);if(i!==n){var s=String(i),r=Uy.call(e,s.length+1);return to.call(s,t,"$&_")+"."+to.call(to.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return to.call(e,t,"$&_")}var Sv=Nse,Vk=Sv.custom,Uk=mO(Vk)?Vk:null,qse=function n(e,t,i,s){var r=t||{};if(Yr(r,"quoteStyle")&&r.quoteStyle!=="single"&&r.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yr(r,"maxStringLength")&&(typeof r.maxStringLength=="number"?r.maxStringLength<0&&r.maxStringLength!==1/0:r.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Yr(r,"customInspect")?r.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yr(r,"indent")&&r.indent!==null&&r.indent!=="	"&&!(parseInt(r.indent,10)===r.indent&&r.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Yr(r,"numericSeparator")&&typeof r.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=r.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return gO(e,r);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Bk(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Bk(e,c):c}var u=typeof r.depth>"u"?5:r.depth;if(typeof i>"u"&&(i=0),i>=u&&u>0&&typeof e=="object")return Ev(e)?"[Array]":"[Object]";var d=ure(r,i);if(typeof s>"u")s=[];else if(pO(s,e)>=0)return"[Circular]";function f(z,L,J){if(L&&(s=jse.call(s),s.push(L)),J){var ne={depth:r.depth};return Yr(r,"quoteStyle")&&(ne.quoteStyle=r.quoteStyle),n(z,ne,i+1,s)}return n(z,r,i+1,s)}if(typeof e=="function"&&!zk(e)){var h=tre(e),p=zd(e,f);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(p.length>0?" { "+$s.call(p,", ")+" }":"")}if(mO(e)){var m=Dl?to.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):kv.call(e);return typeof e=="object"&&!Dl?wc(m):m}if(are(e)){for(var b="<"+Fk.call(String(e.nodeName)),v=e.attributes||[],w=0;w<v.length;w++)b+=" "+v[w].name+"="+hO(Kse(v[w].value),"double",r);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+Fk.call(String(e.nodeName))+">",b}if(Ev(e)){if(e.length===0)return"[]";var C=zd(e,f);return d&&!cre(C)?"["+Tv(C,d)+"]":"[ "+$s.call(C,", ")+" ]"}if(Qse(e)){var _=zd(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!fO.call(e,"cause")?"{ ["+String(e)+"] "+$s.call(Nk.call("[cause]: "+f(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$s.call(_,", ")+" }"}if(typeof e=="object"&&o){if(Uk&&typeof e[Uk]=="function"&&Sv)return Sv(e,{depth:u-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(nre(e)){var T=[];return Rk&&Rk.call(e,function(z,L){T.push(f(L,e,!0)+" => "+f(z,e))}),Hk("Map",Kf.call(e),T,d)}if(rre(e)){var k=[];return Mk&&Mk.call(e,function(z){k.push(f(z,e))}),Hk("Set",Gf.call(e),k,d)}if(ire(e))return Up("WeakMap");if(ore(e))return Up("WeakSet");if(sre(e))return Up("WeakRef");if(Jse(e))return wc(f(Number(e)));if(Zse(e))return wc(f(Cv.call(e)));if(Xse(e))return wc(Vse.call(e));if(Yse(e))return wc(f(String(e)));if(!Gse(e)&&!zk(e)){var E=zd(e,f),S=$k?$k(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",R=!S&&ii&&Object(e)===e&&ii in e?Uy.call(_o(e),8,-1):I?"Object":"",q=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",W=q+(R||I?"["+$s.call(Nk.call([],R||[],I||[]),": ")+"] ":"");return E.length===0?W+"{}":d?W+"{"+Tv(E,d)+"}":W+"{ "+$s.call(E,", ")+" }"}return String(e)};function hO(n,e,t){var i=(t.quoteStyle||e)==="double"?'"':"'";return i+n+i}function Kse(n){return to.call(String(n),/"/g,"&quot;")}function Ev(n){return _o(n)==="[object Array]"&&(!ii||!(typeof n=="object"&&ii in n))}function Gse(n){return _o(n)==="[object Date]"&&(!ii||!(typeof n=="object"&&ii in n))}function zk(n){return _o(n)==="[object RegExp]"&&(!ii||!(typeof n=="object"&&ii in n))}function Qse(n){return _o(n)==="[object Error]"&&(!ii||!(typeof n=="object"&&ii in n))}function Yse(n){return _o(n)==="[object String]"&&(!ii||!(typeof n=="object"&&ii in n))}function Jse(n){return _o(n)==="[object Number]"&&(!ii||!(typeof n=="object"&&ii in n))}function Xse(n){return _o(n)==="[object Boolean]"&&(!ii||!(typeof n=="object"&&ii in n))}function mO(n){if(Dl)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!kv)return!1;try{return kv.call(n),!0}catch{}return!1}function Zse(n){if(!n||typeof n!="object"||!Cv)return!1;try{return Cv.call(n),!0}catch{}return!1}var ere=Object.prototype.hasOwnProperty||function(n){return n in this};function Yr(n,e){return ere.call(n,e)}function _o(n){return Use.call(n)}function tre(n){if(n.name)return n.name;var e=Hse.call(zse.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function pO(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t;return-1}function nre(n){if(!Kf||!n||typeof n!="object")return!1;try{Kf.call(n);try{Gf.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function ire(n){if(!Wc||!n||typeof n!="object")return!1;try{Wc.call(n,Wc);try{jc.call(n,jc)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function sre(n){if(!Dk||!n||typeof n!="object")return!1;try{return Dk.call(n),!0}catch{}return!1}function rre(n){if(!Gf||!n||typeof n!="object")return!1;try{Gf.call(n);try{Kf.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function ore(n){if(!jc||!n||typeof n!="object")return!1;try{jc.call(n,jc);try{Wc.call(n,Wc)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function are(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function gO(n,e){if(n.length>e.maxStringLength){var t=n.length-e.maxStringLength,i="... "+t+" more character"+(t>1?"s":"");return gO(Uy.call(n,0,e.maxStringLength),e)+i}var s=to.call(to.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lre);return hO(s,"single",e)}function lre(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+Wse.call(e.toString(16))}function wc(n){return"Object("+n+")"}function Up(n){return n+" { ? }"}function Hk(n,e,t,i){var s=i?Tv(t,i):$s.call(t,", ");return n+" ("+e+") {"+s+"}"}function cre(n){for(var e=0;e<n.length;e++)if(pO(n[e],`
`)>=0)return!1;return!0}function ure(n,e){var t;if(n.indent==="	")t="	";else if(typeof n.indent=="number"&&n.indent>0)t=$s.call(Array(n.indent+1)," ");else return null;return{base:t,prev:$s.call(Array(e+1),t)}}function Tv(n,e){if(n.length===0)return"";var t=`
`+e.prev+e.base;return t+$s.call(n,","+t)+`
`+e.prev}function zd(n,e){var t=Ev(n),i=[];if(t){i.length=n.length;for(var s=0;s<n.length;s++)i[s]=Yr(n,s)?e(n[s],n):""}var r=typeof Vp=="function"?Vp(n):[],o;if(Dl){o={};for(var a=0;a<r.length;a++)o["$"+r[a]]=r[a]}for(var l in n)Yr(n,l)&&(t&&String(Number(l))===l&&l<n.length||Dl&&o["$"+l]instanceof Symbol||(dO.call(/[^\w$]/,l)?i.push(e(l,n)+": "+e(n[l],n)):i.push(l+": "+e(n[l],n))));if(typeof Vp=="function")for(var c=0;c<r.length;c++)fO.call(n,r[c])&&i.push("["+e(r[c])+"]: "+e(n[r[c]],n));return i}var zy=$y,nc=Mse,dre=qse,fre=zy("%TypeError%"),Hd=zy("%WeakMap%",!0),Wd=zy("%Map%",!0),hre=nc("WeakMap.prototype.get",!0),mre=nc("WeakMap.prototype.set",!0),pre=nc("WeakMap.prototype.has",!0),gre=nc("Map.prototype.get",!0),vre=nc("Map.prototype.set",!0),bre=nc("Map.prototype.has",!0),Hy=function(n,e){for(var t=n,i;(i=t.next)!==null;t=i)if(i.key===e)return t.next=i.next,i.next=n.next,n.next=i,i},yre=function(n,e){var t=Hy(n,e);return t&&t.value},wre=function(n,e,t){var i=Hy(n,e);i?i.value=t:n.next={key:e,next:n.next,value:t}},_re=function(n,e){return!!Hy(n,e)},Cre=function(){var e,t,i,s={assert:function(r){if(!s.has(r))throw new fre("Side channel does not contain "+dre(r))},get:function(r){if(Hd&&r&&(typeof r=="object"||typeof r=="function")){if(e)return hre(e,r)}else if(Wd){if(t)return gre(t,r)}else if(i)return yre(i,r)},has:function(r){if(Hd&&r&&(typeof r=="object"||typeof r=="function")){if(e)return pre(e,r)}else if(Wd){if(t)return bre(t,r)}else if(i)return _re(i,r);return!1},set:function(r,o){Hd&&r&&(typeof r=="object"||typeof r=="function")?(e||(e=new Hd),mre(e,r,o)):Wd?(t||(t=new Wd),vre(t,r,o)):(i||(i={key:{},next:null}),wre(i,r,o))}};return s},kre=String.prototype.replace,Sre=/%20/g,zp={RFC1738:"RFC1738",RFC3986:"RFC3986"},Wy={default:zp.RFC3986,formatters:{RFC1738:function(n){return kre.call(n,Sre,"+")},RFC3986:function(n){return String(n)}},RFC1738:zp.RFC1738,RFC3986:zp.RFC3986},Ere=Wy,Hp=Object.prototype.hasOwnProperty,Bo=Array.isArray,Os=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),Tre=function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(Bo(i)){for(var s=[],r=0;r<i.length;++r)typeof i[r]<"u"&&s.push(i[r]);t.obj[t.prop]=s}}},vO=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(i[s]=e[s]);return i},Are=function n(e,t,i){if(!t)return e;if(typeof t!="object"){if(Bo(e))e.push(t);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Hp.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var s=e;return Bo(e)&&!Bo(t)&&(s=vO(e,i)),Bo(e)&&Bo(t)?(t.forEach(function(r,o){if(Hp.call(e,o)){var a=e[o];a&&typeof a=="object"&&r&&typeof r=="object"?e[o]=n(a,r,i):e.push(r)}else e[o]=r}),e):Object.keys(t).reduce(function(r,o){var a=t[o];return Hp.call(r,o)?r[o]=n(r[o],a,i):r[o]=a,r},s)},xre=function(e,t){return Object.keys(t).reduce(function(i,s){return i[s]=t[s],i},e)},Pre=function(n,e,t){var i=n.replace(/\+/g," ");if(t==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},Ire=function(e,t,i,s,r){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||r===Ere.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Os[c];continue}if(c<2048){a=a+(Os[192|c>>6]+Os[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Os[224|c>>12]+Os[128|c>>6&63]+Os[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Os[240|c>>18]+Os[128|c>>12&63]+Os[128|c>>6&63]+Os[128|c&63]}return a},Ore=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],s=0;s<t.length;++s)for(var r=t[s],o=r.obj[r.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],u=o[c];typeof u=="object"&&u!==null&&i.indexOf(u)===-1&&(t.push({obj:o,prop:c}),i.push(u))}return Tre(t),e},Rre=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Mre=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Dre=function(e,t){return[].concat(e,t)},Fre=function(e,t){if(Bo(e)){for(var i=[],s=0;s<e.length;s+=1)i.push(t(e[s]));return i}return t(e)},bO={arrayToObject:vO,assign:xre,combine:Dre,compact:Ore,decode:Pre,encode:Ire,isBuffer:Mre,isRegExp:Rre,maybeMap:Fre,merge:Are},yO=Cre,hf=bO,qc=Wy,Nre=Object.prototype.hasOwnProperty,Wk={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},br=Array.isArray,Lre=Array.prototype.push,wO=function(n,e){Lre.apply(n,br(e)?e:[e])},$re=Date.prototype.toISOString,jk=qc.default,Qn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:hf.encode,encodeValuesOnly:!1,format:jk,formatter:qc.formatters[jk],indices:!1,serializeDate:function(e){return $re.call(e)},skipNulls:!1,strictNullHandling:!1},Bre=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Wp={},Vre=function n(e,t,i,s,r,o,a,l,c,u,d,f,h,p,m,b){for(var v=e,w=b,C=0,_=!1;(w=w.get(Wp))!==void 0&&!_;){var T=w.get(e);if(C+=1,typeof T<"u"){if(T===C)throw new RangeError("Cyclic object value");_=!0}typeof w.get(Wp)>"u"&&(C=0)}if(typeof l=="function"?v=l(t,v):v instanceof Date?v=d(v):i==="comma"&&br(v)&&(v=hf.maybeMap(v,function(ne){return ne instanceof Date?d(ne):ne})),v===null){if(r)return a&&!p?a(t,Qn.encoder,m,"key",f):t;v=""}if(Bre(v)||hf.isBuffer(v)){if(a){var k=p?t:a(t,Qn.encoder,m,"key",f);return[h(k)+"="+h(a(v,Qn.encoder,m,"value",f))]}return[h(t)+"="+h(String(v))]}var E=[];if(typeof v>"u")return E;var S;if(i==="comma"&&br(v))p&&a&&(v=hf.maybeMap(v,a)),S=[{value:v.length>0?v.join(",")||null:void 0}];else if(br(l))S=l;else{var I=Object.keys(v);S=c?I.sort(c):I}for(var R=s&&br(v)&&v.length===1?t+"[]":t,q=0;q<S.length;++q){var W=S[q],z=typeof W=="object"&&typeof W.value<"u"?W.value:v[W];if(!(o&&z===null)){var L=br(v)?typeof i=="function"?i(R,W):R:R+(u?"."+W:"["+W+"]");b.set(e,C);var J=yO();J.set(Wp,b),wO(E,n(z,L,i,s,r,o,i==="comma"&&p&&br(v)?null:a,l,c,u,d,f,h,p,m,J))}}return E},Ure=function(e){if(!e)return Qn;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Qn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=qc.default;if(typeof e.format<"u"){if(!Nre.call(qc.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var s=qc.formatters[i],r=Qn.filter;return(typeof e.filter=="function"||br(e.filter))&&(r=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Qn.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Qn.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Qn.charsetSentinel,delimiter:typeof e.delimiter>"u"?Qn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Qn.encode,encoder:typeof e.encoder=="function"?e.encoder:Qn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Qn.encodeValuesOnly,filter:r,format:i,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Qn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Qn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Qn.strictNullHandling}},zre=function(n,e){var t=n,i=Ure(e),s,r;typeof i.filter=="function"?(r=i.filter,t=r("",t)):br(i.filter)&&(r=i.filter,s=r);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in Wk?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=Wk[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(t)),i.sort&&s.sort(i.sort);for(var u=yO(),d=0;d<s.length;++d){var f=s[d];i.skipNulls&&t[f]===null||wO(o,Vre(t[f],f,l,c,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,u))}var h=o.join(i.delimiter),p=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},Fl=bO,Av=Object.prototype.hasOwnProperty,Hre=Array.isArray,xn={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Fl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Wre=function(n){return n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},_O=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},jre="utf8=%26%2310003%3B",qre="utf8=%E2%9C%93",Kre=function(e,t){var i={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,r=t.parameterLimit===1/0?void 0:t.parameterLimit,o=s.split(t.delimiter,r),a=-1,l,c=t.charset;if(t.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===qre?c="utf-8":o[l]===jre&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var u=o[l],d=u.indexOf("]="),f=d===-1?u.indexOf("="):d+1,h,p;f===-1?(h=t.decoder(u,xn.decoder,c,"key"),p=t.strictNullHandling?null:""):(h=t.decoder(u.slice(0,f),xn.decoder,c,"key"),p=Fl.maybeMap(_O(u.slice(f+1),t),function(m){return t.decoder(m,xn.decoder,c,"value")})),p&&t.interpretNumericEntities&&c==="iso-8859-1"&&(p=Wre(p)),u.indexOf("[]=")>-1&&(p=Hre(p)?[p]:p),Av.call(i,h)?i[h]=Fl.combine(i[h],p):i[h]=p}return i},Gre=function(n,e,t,i){for(var s=i?e:_O(e,t),r=n.length-1;r>=0;--r){var o,a=n[r];if(a==="[]"&&t.parseArrays)o=[].concat(s);else{o=t.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!t.parseArrays&&l===""?o={0:s}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&t.parseArrays&&c<=t.arrayLimit?(o=[],o[c]=s):l!=="__proto__"&&(o[l]=s)}s=o}return s},Qre=function(e,t,i,s){if(e){var r=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=i.depth>0&&o.exec(r),c=l?r.slice(0,l.index):r,u=[];if(c){if(!i.plainObjects&&Av.call(Object.prototype,c)&&!i.allowPrototypes)return;u.push(c)}for(var d=0;i.depth>0&&(l=a.exec(r))!==null&&d<i.depth;){if(d+=1,!i.plainObjects&&Av.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+r.slice(l.index)+"]"),Gre(u,t,i,s)}},Yre=function(e){if(!e)return xn;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?xn.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?xn.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:xn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:xn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:xn.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:xn.comma,decoder:typeof e.decoder=="function"?e.decoder:xn.decoder,delimiter:typeof e.delimiter=="string"||Fl.isRegExp(e.delimiter)?e.delimiter:xn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:xn.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:xn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:xn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:xn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xn.strictNullHandling}},Jre=function(n,e){var t=Yre(e);if(n===""||n===null||typeof n>"u")return t.plainObjects?Object.create(null):{};for(var i=typeof n=="string"?Kre(n,t):n,s=t.plainObjects?Object.create(null):{},r=Object.keys(i),o=0;o<r.length;++o){var a=r[o],l=Qre(a,i[a],t,typeof n=="string");s=Fl.merge(s,l,t)}return t.allowSparse===!0?s:Fl.compact(s)},Xre=zre,Zre=Jre,eoe=Wy,qk={formats:eoe,parse:Zre,stringify:Xre},CO={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(n,e){(function(t,i){n.exports=i()})(hn,function(){var t={};t.version="0.2.0";var i=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(p){var m,b;for(m in p)b=p[m],b!==void 0&&p.hasOwnProperty(m)&&(i[m]=b);return this},t.status=null,t.set=function(p){var m=t.isStarted();p=s(p,i.minimum,1),t.status=p===1?null:p;var b=t.render(!m),v=b.querySelector(i.barSelector),w=i.speed,C=i.easing;return b.offsetWidth,a(function(_){i.positionUsing===""&&(i.positionUsing=t.getPositioningCSS()),l(v,o(p,w,C)),p===1?(l(b,{transition:"none",opacity:1}),b.offsetWidth,setTimeout(function(){l(b,{transition:"all "+w+"ms linear",opacity:0}),setTimeout(function(){t.remove(),_()},w)},w)):setTimeout(_,w)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var p=function(){setTimeout(function(){t.status&&(t.trickle(),p())},i.trickleSpeed)};return i.trickle&&p(),this},t.done=function(p){return!p&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(p){var m=t.status;return m?(typeof p!="number"&&(p=(1-m)*s(Math.random()*m,.1,.95)),m=s(m+p,0,.994),t.set(m)):t.start()},t.trickle=function(){return t.inc(Math.random()*i.trickleRate)},function(){var p=0,m=0;t.promise=function(b){return!b||b.state()==="resolved"?this:(m===0&&t.start(),p++,m++,b.always(function(){m--,m===0?(p=0,t.done()):t.set((p-m)/p)}),this)}}(),t.render=function(p){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var m=document.createElement("div");m.id="nprogress",m.innerHTML=i.template;var b=m.querySelector(i.barSelector),v=p?"-100":r(t.status||0),w=document.querySelector(i.parent),C;return l(b,{transition:"all 0 linear",transform:"translate3d("+v+"%,0,0)"}),i.showSpinner||(C=m.querySelector(i.spinnerSelector),C&&h(C)),w!=document.body&&u(w,"nprogress-custom-parent"),w.appendChild(m),m},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(i.parent),"nprogress-custom-parent");var p=document.getElementById("nprogress");p&&h(p)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var p=document.body.style,m="WebkitTransform"in p?"Webkit":"MozTransform"in p?"Moz":"msTransform"in p?"ms":"OTransform"in p?"O":"";return m+"Perspective"in p?"translate3d":m+"Transform"in p?"translate":"margin"};function s(p,m,b){return p<m?m:p>b?b:p}function r(p){return(-1+p)*100}function o(p,m,b){var v;return i.positionUsing==="translate3d"?v={transform:"translate3d("+r(p)+"%,0,0)"}:i.positionUsing==="translate"?v={transform:"translate("+r(p)+"%,0)"}:v={"margin-left":r(p)+"%"},v.transition="all "+m+"ms "+b,v}var a=function(){var p=[];function m(){var b=p.shift();b&&b(m)}return function(b){p.push(b),p.length==1&&m()}}(),l=function(){var p=["Webkit","O","Moz","ms"],m={};function b(_){return _.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(T,k){return k.toUpperCase()})}function v(_){var T=document.body.style;if(_ in T)return _;for(var k=p.length,E=_.charAt(0).toUpperCase()+_.slice(1),S;k--;)if(S=p[k]+E,S in T)return S;return _}function w(_){return _=b(_),m[_]||(m[_]=v(_))}function C(_,T,k){T=w(T),_.style[T]=k}return function(_,T){var k=arguments,E,S;if(k.length==2)for(E in T)S=T[E],S!==void 0&&T.hasOwnProperty(E)&&C(_,E,S);else C(_,k[1],k[2])}}();function c(p,m){var b=typeof p=="string"?p:f(p);return b.indexOf(" "+m+" ")>=0}function u(p,m){var b=f(p),v=b+m;c(b,m)||(p.className=v.substring(1))}function d(p,m){var b=f(p),v;c(p,m)&&(v=b.replace(" "+m+" "," "),p.className=v.substring(1,v.length-1))}function f(p){return(" "+(p.className||"")+" ").replace(/\s+/gi," ")}function h(p){p&&p.parentNode&&p.parentNode.removeChild(p)}return t})})(CO);var toe=CO.exports;const Vs=Ai(toe);function kO(n,e){let t;return function(...i){clearTimeout(t),t=setTimeout(()=>n.apply(this,i),e)}}function Fr(n,e){return document.dispatchEvent(new CustomEvent(`inertia:${n}`,e))}var noe=n=>Fr("before",{cancelable:!0,detail:{visit:n}}),ioe=n=>Fr("error",{detail:{errors:n}}),soe=n=>Fr("exception",{cancelable:!0,detail:{exception:n}}),Kk=n=>Fr("finish",{detail:{visit:n}}),roe=n=>Fr("invalid",{cancelable:!0,detail:{response:n}}),_c=n=>Fr("navigate",{detail:{page:n}}),ooe=n=>Fr("progress",{detail:{progress:n}}),aoe=n=>Fr("start",{detail:{visit:n}}),loe=n=>Fr("success",{detail:{page:n}});function xv(n){return n instanceof File||n instanceof Blob||n instanceof FileList&&n.length>0||n instanceof FormData&&Array.from(n.values()).some(e=>xv(e))||typeof n=="object"&&n!==null&&Object.values(n).some(e=>xv(e))}function SO(n,e=new FormData,t=null){n=n||{};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&TO(e,EO(t,i),n[i]);return e}function EO(n,e){return n?n+"["+e+"]":e}function TO(n,e,t){if(Array.isArray(t))return Array.from(t.keys()).forEach(i=>TO(n,EO(e,i.toString()),t[i]));if(t instanceof Date)return n.append(e,t.toISOString());if(t instanceof File)return n.append(e,t,t.name);if(t instanceof Blob)return n.append(e,t);if(typeof t=="boolean")return n.append(e,t?"1":"0");if(typeof t=="string")return n.append(e,t);if(typeof t=="number")return n.append(e,`${t}`);if(t==null)return n.append(e,"");SO(t,n,e)}var coe={modal:null,listener:null,show(n){typeof n=="object"&&(n=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(n)}`);let e=document.createElement("html");e.innerHTML=n,e.querySelectorAll("a").forEach(i=>i.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let t=document.createElement("iframe");if(t.style.backgroundColor="white",t.style.borderRadius="5px",t.style.width="100%",t.style.height="100%",this.modal.appendChild(t),document.body.prepend(this.modal),document.body.style.overflow="hidden",!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(e.outerHTML),t.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(n){n.keyCode===27&&this.hide()}};function Wa(n){return new URL(n.toString(),window.location.toString())}function uoe(n,e,t,i="brackets"){let s=/^https?:\/\//.test(e.toString()),r=s||e.toString().startsWith("/"),o=!r&&!e.toString().startsWith("#")&&!e.toString().startsWith("?"),a=e.toString().includes("?")||n==="get"&&Object.keys(t).length,l=e.toString().includes("#"),c=new URL(e.toString(),"http://localhost");return n==="get"&&Object.keys(t).length&&(c.search=qk.stringify(ose(qk.parse(c.search,{ignoreQueryPrefix:!0}),t),{encodeValuesOnly:!0,arrayFormat:i}),t={}),[[s?`${c.protocol}//${c.host}`:"",r?c.pathname:"",o?c.pathname.substring(1):"",a?c.search:"",l?c.hash:""].join(""),t]}function Cc(n){return n=new URL(n.href),n.hash="",n}var Gk=typeof window>"u",doe=class{constructor(){this.visitId=null}init({initialPage:n,resolveComponent:e,swapComponent:t}){this.page=n,this.resolveComponent=e,this.swapComponent=t,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var n;this.navigationType==="reload"&&((n=window.history.state)!=null&&n.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(n){this.page.url+=window.location.hash,this.setPage(n,{preserveState:!0}).then(()=>_c(n))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",kO(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(n){typeof n.target.hasAttribute=="function"&&n.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(n=>({top:n.scrollTop,left:n.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(n=>{typeof n.scrollTo=="function"?n.scrollTo(0,0):(n.scrollTop=0,n.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>{var n;return(n=document.getElementById(window.location.hash.slice(1)))==null?void 0:n.scrollIntoView()})}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((n,e)=>{let t=this.page.scrollRegions[e];if(t)typeof n.scrollTo=="function"?n.scrollTo(t.left,t.top):(n.scrollTop=t.top,n.scrollLeft=t.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(n){window.history.state.version=n.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),_c(n)})}locationVisit(n,e){try{let t={preserveScroll:e};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(t)),window.location.href=n.href,Cc(window.location).href===Cc(n).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(n){var t,i;let e=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),n.url+=window.location.hash,n.rememberedState=((t=window.history.state)==null?void 0:t.rememberedState)??{},n.scrollRegions=((i=window.history.state)==null?void 0:i.scrollRegions)??[],this.setPage(n,{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&this.restoreScrollPositions(),_c(n)})}isLocationVisitResponse(n){return!!(n&&n.status===409&&n.headers["x-inertia-location"])}isInertiaResponse(n){return!!(n!=null&&n.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(n,{cancelled:e=!1,interrupted:t=!1}){n&&!n.completed&&!n.cancelled&&!n.interrupted&&(n.cancelToken.abort(),n.onCancel(),n.completed=!1,n.cancelled=e,n.interrupted=t,Kk(n),n.onFinish(n))}finishVisit(n){!n.cancelled&&!n.interrupted&&(n.completed=!0,n.cancelled=!1,n.interrupted=!1,Kk(n),n.onFinish(n))}resolvePreserveOption(n,e){return typeof n=="function"?n(e):n==="errors"?Object.keys(e.props.errors||{}).length>0:n}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(n,{method:e="get",data:t={},replace:i=!1,preserveScroll:s=!1,preserveState:r=!1,only:o=[],headers:a={},errorBag:l="",forceFormData:c=!1,onCancelToken:u=()=>{},onBefore:d=()=>{},onStart:f=()=>{},onProgress:h=()=>{},onFinish:p=()=>{},onCancel:m=()=>{},onSuccess:b=()=>{},onError:v=()=>{},queryStringArrayFormat:w="brackets"}={}){let C=typeof n=="string"?Wa(n):n;if((xv(t)||c)&&!(t instanceof FormData)&&(t=SO(t)),!(t instanceof FormData)){let[k,E]=uoe(e,C,t,w);C=Wa(k),t=E}let _={url:C,method:e,data:t,replace:i,preserveScroll:s,preserveState:r,only:o,headers:a,errorBag:l,forceFormData:c,queryStringArrayFormat:w,cancelled:!1,completed:!1,interrupted:!1};if(d(_)===!1||!noe(_))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let T=this.createVisitId();this.activeVisit={..._,onCancelToken:u,onBefore:d,onStart:f,onProgress:h,onFinish:p,onCancel:m,onSuccess:b,onError:v,queryStringArrayFormat:w,cancelToken:new AbortController},u({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),aoe(_),f(_),Tk({method:e,url:Cc(C).href,data:e==="get"?{}:t,params:e==="get"?t:{},signal:this.activeVisit.cancelToken.signal,headers:{...a,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...o.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":o.join(",")}:{},...l&&l.length?{"X-Inertia-Error-Bag":l}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:k=>{t instanceof FormData&&(k.percentage=k.progress?Math.round(k.progress*100):0,ooe(k),h(k))}}).then(k=>{var R;if(!this.isInertiaResponse(k))return Promise.reject({response:k});let E=k.data;o.length&&E.component===this.page.component&&(E.props={...this.page.props,...E.props}),s=this.resolvePreserveOption(s,E),r=this.resolvePreserveOption(r,E),r&&((R=window.history.state)!=null&&R.rememberedState)&&E.component===this.page.component&&(E.rememberedState=window.history.state.rememberedState);let S=C,I=Wa(E.url);return S.hash&&!I.hash&&Cc(S).href===I.href&&(I.hash=S.hash,E.url=I.href),this.setPage(E,{visitId:T,replace:i,preserveScroll:s,preserveState:r})}).then(()=>{let k=this.page.props.errors||{};if(Object.keys(k).length>0){let E=l?k[l]?k[l]:{}:k;return ioe(E),v(E)}return loe(this.page),b(this.page)}).catch(k=>{if(this.isInertiaResponse(k.response))return this.setPage(k.response.data,{visitId:T});if(this.isLocationVisitResponse(k.response)){let E=Wa(k.response.headers["x-inertia-location"]),S=C;S.hash&&!E.hash&&Cc(S).href===E.href&&(E.hash=S.hash),this.locationVisit(E,s===!0)}else if(k.response)roe(k.response)&&coe.show(k.response.data);else return Promise.reject(k)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(k=>{if(!Tk.isCancel(k)){let E=soe(k);if(this.activeVisit&&this.finishVisit(this.activeVisit),E)return Promise.reject(k)}})}setPage(n,{visitId:e=this.createVisitId(),replace:t=!1,preserveScroll:i=!1,preserveState:s=!1}={}){return Promise.resolve(this.resolveComponent(n.component)).then(r=>{e===this.visitId&&(n.scrollRegions=n.scrollRegions||[],n.rememberedState=n.rememberedState||{},t=t||Wa(n.url).href===window.location.href,t?this.replaceState(n):this.pushState(n),this.swapComponent({component:r,page:n,preserveState:s}).then(()=>{i||this.resetScrollPositions(),t||_c(n)}))})}pushState(n){this.page=n,window.history.pushState(n,"",n.url)}replaceState(n){this.page=n,window.history.replaceState(n,"",n.url)}handlePopstateEvent(n){if(n.state!==null){let e=n.state,t=this.createVisitId();Promise.resolve(this.resolveComponent(e.component)).then(i=>{t===this.visitId&&(this.page=e,this.swapComponent({component:i,page:e,preserveState:!1}).then(()=>{this.restoreScrollPositions(),_c(e)}))})}else{let e=Wa(this.page.url);e.hash=window.location.hash,this.replaceState({...this.page,url:e.href}),this.resetScrollPositions()}}get(n,e={},t={}){return this.visit(n,{...t,method:"get",data:e})}reload(n={}){return this.visit(window.location.href,{...n,preserveScroll:!0,preserveState:!0})}replace(n,e={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${e.method??"get"}() instead.`),this.visit(n,{preserveState:!0,...e,replace:!0})}post(n,e={},t={}){return this.visit(n,{preserveState:!0,...t,method:"post",data:e})}put(n,e={},t={}){return this.visit(n,{preserveState:!0,...t,method:"put",data:e})}patch(n,e={},t={}){return this.visit(n,{preserveState:!0,...t,method:"patch",data:e})}delete(n,e={}){return this.visit(n,{preserveState:!0,...e,method:"delete"})}remember(n,e="default"){var t;Gk||this.replaceState({...this.page,rememberedState:{...(t=this.page)==null?void 0:t.rememberedState,[e]:n}})}restore(n="default"){var e,t;if(!Gk)return(t=(e=window.history.state)==null?void 0:e.rememberedState)==null?void 0:t[n]}on(n,e){let t=i=>{let s=e(i);i.cancelable&&!i.defaultPrevented&&s===!1&&i.preventDefault()};return document.addEventListener(`inertia:${n}`,t),()=>document.removeEventListener(`inertia:${n}`,t)}},foe={buildDOMElement(n){let e=document.createElement("template");e.innerHTML=n;let t=e.content.firstChild;if(!n.startsWith("<script "))return t;let i=document.createElement("script");return i.innerHTML=t.innerHTML,t.getAttributeNames().forEach(s=>{i.setAttribute(s,t.getAttribute(s)||"")}),i},isInertiaManagedElement(n){return n.nodeType===Node.ELEMENT_NODE&&n.getAttribute("inertia")!==null},findMatchingElementIndex(n,e){let t=n.getAttribute("inertia");return t!==null?e.findIndex(i=>i.getAttribute("inertia")===t):-1},update:kO(function(n){let e=n.map(t=>this.buildDOMElement(t));Array.from(document.head.childNodes).filter(t=>this.isInertiaManagedElement(t)).forEach(t=>{var r,o;let i=this.findMatchingElementIndex(t,e);if(i===-1){(r=t==null?void 0:t.parentNode)==null||r.removeChild(t);return}let s=e.splice(i,1)[0];s&&!t.isEqualNode(s)&&((o=t==null?void 0:t.parentNode)==null||o.replaceChild(s,t))}),e.forEach(t=>document.head.appendChild(t))},1)};function hoe(n,e,t){let i={},s=0;function r(){let u=s+=1;return i[u]=[],u.toString()}function o(u){u===null||Object.keys(i).indexOf(u)===-1||(delete i[u],c())}function a(u,d=[]){u!==null&&Object.keys(i).indexOf(u)>-1&&(i[u]=d),c()}function l(){let u=e(""),d={...u?{title:`<title inertia="">${u}</title>`}:{}},f=Object.values(i).reduce((h,p)=>h.concat(p),[]).reduce((h,p)=>{if(p.indexOf("<")===-1)return h;if(p.indexOf("<title ")===0){let b=p.match(/(<title [^>]+>)(.*?)(<\/title>)/);return h.title=b?`${b[1]}${e(b[2])}${b[3]}`:p,h}let m=p.match(/ inertia="[^"]+"/);return m?h[m[0]]=p:h[Object.keys(h).length]=p,h},d);return Object.values(f)}function c(){n?t(l()):foe.update(l())}return c(),{forceUpdate:c,createProvider:function(){let u=r();return{update:d=>a(u,d),disconnect:()=>o(u)}}}}var AO=null;function moe(n){document.addEventListener("inertia:start",poe.bind(null,n)),document.addEventListener("inertia:progress",goe),document.addEventListener("inertia:finish",voe)}function poe(n){AO=setTimeout(()=>Vs.start(),n)}function goe(n){var e;Vs.isStarted()&&((e=n.detail.progress)!=null&&e.percentage)&&Vs.set(Math.max(Vs.status,n.detail.progress.percentage/100*.9))}function voe(n){if(clearTimeout(AO),Vs.isStarted())n.detail.visit.completed?Vs.done():n.detail.visit.interrupted?Vs.set(0):n.detail.visit.cancelled&&(Vs.done(),Vs.remove());else return}function boe(n){let e=document.createElement("style");e.type="text/css",e.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${n};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${n}, 0 0 5px ${n};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${n};
      border-left-color: ${n};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(e)}function yoe({delay:n=250,color:e="#29d",includeCSS:t=!0,showSpinner:i=!1}={}){moe(n),Vs.configure({showSpinner:i}),t&&boe(e)}var qs=new doe,Qf={exports:{}};Qf.exports;(function(n,e){var t=200,i="__lodash_hash_undefined__",s=9007199254740991,r="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object GeneratorFunction]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object Promise]",b="[object RegExp]",v="[object Set]",w="[object String]",C="[object Symbol]",_="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",I="[object Int8Array]",R="[object Int16Array]",q="[object Int32Array]",W="[object Uint8Array]",z="[object Uint8ClampedArray]",L="[object Uint16Array]",J="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,M=/\w*$/,Q=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,Y={};Y[r]=Y[o]=Y[T]=Y[k]=Y[a]=Y[l]=Y[E]=Y[S]=Y[I]=Y[R]=Y[q]=Y[f]=Y[h]=Y[p]=Y[b]=Y[v]=Y[w]=Y[C]=Y[W]=Y[z]=Y[L]=Y[J]=!0,Y[c]=Y[u]=Y[_]=!1;var pe=typeof hn=="object"&&hn&&hn.Object===Object&&hn,O=typeof self=="object"&&self&&self.Object===Object&&self,F=pe||O||Function("return this")(),ce=e&&!e.nodeType&&e,be=ce&&!0&&n&&!n.nodeType&&n,Ae=be&&be.exports===ce;function je(y,A){return y.set(A[0],A[1]),y}function Me(y,A){return y.add(A),y}function Ue(y,A){for(var D=-1,he=y?y.length:0;++D<he&&A(y[D],D,y)!==!1;);return y}function Be(y,A){for(var D=-1,he=A.length,ot=y.length;++D<he;)y[ot+D]=A[D];return y}function Ge(y,A,D,he){var ot=-1,Ye=y?y.length:0;for(he&&Ye&&(D=y[++ot]);++ot<Ye;)D=A(D,y[ot],ot,y);return D}function x(y,A){for(var D=-1,he=Array(y);++D<y;)he[D]=A(D);return he}function B(y,A){return y==null?void 0:y[A]}function te(y){var A=!1;if(y!=null&&typeof y.toString!="function")try{A=!!(y+"")}catch{}return A}function ue(y){var A=-1,D=Array(y.size);return y.forEach(function(he,ot){D[++A]=[ot,he]}),D}function ae(y,A){return function(D){return y(A(D))}}function ye(y){var A=-1,D=Array(y.size);return y.forEach(function(he){D[++A]=he}),D}var Ee=Array.prototype,ge=Function.prototype,oe=Object.prototype,re=F["__core-js_shared__"],j=function(){var y=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),K=ge.toString,Ce=oe.hasOwnProperty,Z=oe.toString,ke=RegExp("^"+K.call(Ce).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=Ae?F.Buffer:void 0,Ke=F.Symbol,rt=F.Uint8Array,ft=ae(Object.getPrototypeOf,Object),ie=Object.create,Pe=oe.propertyIsEnumerable,we=Ee.splice,Ie=Object.getOwnPropertySymbols,P=Ve?Ve.isBuffer:void 0,Se=ae(Object.keys,Object),Qe=us(F,"DataView"),ht=us(F,"Map"),Lt=us(F,"Promise"),Gi=us(F,"Set"),fi=us(F,"WeakMap"),ee=us(Object,"create"),fe=ri(Qe),Fe=ri(ht),nt=ri(Lt),nn=ri(Gi),pn=ri(fi),An=Ke?Ke.prototype:void 0,hi=An?An.valueOf:void 0;function sn(y){var A=-1,D=y?y.length:0;for(this.clear();++A<D;){var he=y[A];this.set(he[0],he[1])}}function ko(){this.__data__=ee?ee(null):{}}function Ln(y){return this.has(y)&&delete this.__data__[y]}function cs(y){var A=this.__data__;if(ee){var D=A[y];return D===i?void 0:D}return Ce.call(A,y)?A[y]:void 0}function Gu(y){var A=this.__data__;return ee?A[y]!==void 0:Ce.call(A,y)}function ic(y,A){var D=this.__data__;return D[y]=ee&&A===void 0?i:A,this}sn.prototype.clear=ko,sn.prototype.delete=Ln,sn.prototype.get=cs,sn.prototype.has=Gu,sn.prototype.set=ic;function $n(y){var A=-1,D=y?y.length:0;for(this.clear();++A<D;){var he=y[A];this.set(he[0],he[1])}}function tm(){this.__data__=[]}function nm(y){var A=this.__data__,D=Oa(A,y);if(D<0)return!1;var he=A.length-1;return D==he?A.pop():we.call(A,D,1),!0}function im(y){var A=this.__data__,D=Oa(A,y);return D<0?void 0:A[D][1]}function sm(y){return Oa(this.__data__,y)>-1}function rm(y,A){var D=this.__data__,he=Oa(D,y);return he<0?D.push([y,A]):D[he][1]=A,this}$n.prototype.clear=tm,$n.prototype.delete=nm,$n.prototype.get=im,$n.prototype.has=sm,$n.prototype.set=rm;function jn(y){var A=-1,D=y?y.length:0;for(this.clear();++A<D;){var he=y[A];this.set(he[0],he[1])}}function om(){this.__data__={hash:new sn,map:new(ht||$n),string:new sn}}function am(y){return Eo(this,y).delete(y)}function lm(y){return Eo(this,y).get(y)}function cm(y){return Eo(this,y).has(y)}function um(y,A){return Eo(this,y).set(y,A),this}jn.prototype.clear=om,jn.prototype.delete=am,jn.prototype.get=lm,jn.prototype.has=cm,jn.prototype.set=um;function mi(y){this.__data__=new $n(y)}function dm(){this.__data__=new $n}function fm(y){return this.__data__.delete(y)}function hm(y){return this.__data__.get(y)}function mm(y){return this.__data__.has(y)}function pm(y,A){var D=this.__data__;if(D instanceof $n){var he=D.__data__;if(!ht||he.length<t-1)return he.push([y,A]),this;D=this.__data__=new jn(he)}return D.set(y,A),this}mi.prototype.clear=dm,mi.prototype.delete=fm,mi.prototype.get=hm,mi.prototype.has=mm,mi.prototype.set=pm;function Ia(y,A){var D=ac(y)||Ma(y)?x(y.length,String):[],he=D.length,ot=!!he;for(var Ye in y)(A||Ce.call(y,Ye))&&!(ot&&(Ye=="length"||Pm(Ye,he)))&&D.push(Ye);return D}function Qu(y,A,D){var he=y[A];(!(Ce.call(y,A)&&ed(he,D))||D===void 0&&!(A in y))&&(y[A]=D)}function Oa(y,A){for(var D=y.length;D--;)if(ed(y[D][0],A))return D;return-1}function As(y,A){return y&&oc(A,cc(A),y)}function sc(y,A,D,he,ot,Ye,yt){var Pt;if(he&&(Pt=Ye?he(y,ot,Ye,yt):he(y)),Pt!==void 0)return Pt;if(!Ps(y))return y;var bn=ac(y);if(bn){if(Pt=Am(y),!A)return Sm(y,Pt)}else{var Mt=lr(y),qn=Mt==u||Mt==d;if(td(y))return Ra(y,A);if(Mt==p||Mt==r||qn&&!Ye){if(te(y))return Ye?y:{};if(Pt=xs(qn?{}:y),!A)return Em(y,As(Pt,y))}else{if(!Y[Mt])return Ye?y:{};Pt=xm(y,Mt,sc,A)}}yt||(yt=new mi);var pi=yt.get(y);if(pi)return pi;if(yt.set(y,Pt),!bn)var _n=D?Tm(y):cc(y);return Ue(_n||y,function(Kn,Bn){_n&&(Bn=Kn,Kn=y[Bn]),Qu(Pt,Bn,sc(Kn,A,D,he,Bn,y,yt))}),Pt}function gm(y){return Ps(y)?ie(y):{}}function vm(y,A,D){var he=A(y);return ac(y)?he:Be(he,D(y))}function bm(y){return Z.call(y)}function ym(y){if(!Ps(y)||Om(y))return!1;var A=lc(y)||te(y)?ke:Q;return A.test(ri(y))}function wm(y){if(!Xu(y))return Se(y);var A=[];for(var D in Object(y))Ce.call(y,D)&&D!="constructor"&&A.push(D);return A}function Ra(y,A){if(A)return y.slice();var D=new y.constructor(y.length);return y.copy(D),D}function rc(y){var A=new y.constructor(y.byteLength);return new rt(A).set(new rt(y)),A}function So(y,A){var D=A?rc(y.buffer):y.buffer;return new y.constructor(D,y.byteOffset,y.byteLength)}function Yu(y,A,D){var he=A?D(ue(y),!0):ue(y);return Ge(he,je,new y.constructor)}function Ju(y){var A=new y.constructor(y.source,M.exec(y));return A.lastIndex=y.lastIndex,A}function _m(y,A,D){var he=A?D(ye(y),!0):ye(y);return Ge(he,Me,new y.constructor)}function Cm(y){return hi?Object(hi.call(y)):{}}function km(y,A){var D=A?rc(y.buffer):y.buffer;return new y.constructor(D,y.byteOffset,y.length)}function Sm(y,A){var D=-1,he=y.length;for(A||(A=Array(he));++D<he;)A[D]=y[D];return A}function oc(y,A,D,he){D||(D={});for(var ot=-1,Ye=A.length;++ot<Ye;){var yt=A[ot],Pt=he?he(D[yt],y[yt],yt,D,y):void 0;Qu(D,yt,Pt===void 0?y[yt]:Pt)}return D}function Em(y,A){return oc(y,ar(y),A)}function Tm(y){return vm(y,cc,ar)}function Eo(y,A){var D=y.__data__;return Im(A)?D[typeof A=="string"?"string":"hash"]:D.map}function us(y,A){var D=B(y,A);return ym(D)?D:void 0}var ar=Ie?ae(Ie,Object):Mm,lr=bm;(Qe&&lr(new Qe(new ArrayBuffer(1)))!=k||ht&&lr(new ht)!=f||Lt&&lr(Lt.resolve())!=m||Gi&&lr(new Gi)!=v||fi&&lr(new fi)!=_)&&(lr=function(y){var A=Z.call(y),D=A==p?y.constructor:void 0,he=D?ri(D):void 0;if(he)switch(he){case fe:return k;case Fe:return f;case nt:return m;case nn:return v;case pn:return _}return A});function Am(y){var A=y.length,D=y.constructor(A);return A&&typeof y[0]=="string"&&Ce.call(y,"index")&&(D.index=y.index,D.input=y.input),D}function xs(y){return typeof y.constructor=="function"&&!Xu(y)?gm(ft(y)):{}}function xm(y,A,D,he){var ot=y.constructor;switch(A){case T:return rc(y);case a:case l:return new ot(+y);case k:return So(y,he);case E:case S:case I:case R:case q:case W:case z:case L:case J:return km(y,he);case f:return Yu(y,he,D);case h:case w:return new ot(y);case b:return Ju(y);case v:return _m(y,he,D);case C:return Cm(y)}}function Pm(y,A){return A=A??s,!!A&&(typeof y=="number"||U.test(y))&&y>-1&&y%1==0&&y<A}function Im(y){var A=typeof y;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?y!=="__proto__":y===null}function Om(y){return!!j&&j in y}function Xu(y){var A=y&&y.constructor,D=typeof A=="function"&&A.prototype||oe;return y===D}function ri(y){if(y!=null){try{return K.call(y)}catch{}try{return y+""}catch{}}return""}function Zu(y){return sc(y,!0,!0)}function ed(y,A){return y===A||y!==y&&A!==A}function Ma(y){return Rm(y)&&Ce.call(y,"callee")&&(!Pe.call(y,"callee")||Z.call(y)==r)}var ac=Array.isArray;function Da(y){return y!=null&&nd(y.length)&&!lc(y)}function Rm(y){return id(y)&&Da(y)}var td=P||Dm;function lc(y){var A=Ps(y)?Z.call(y):"";return A==u||A==d}function nd(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=s}function Ps(y){var A=typeof y;return!!y&&(A=="object"||A=="function")}function id(y){return!!y&&typeof y=="object"}function cc(y){return Da(y)?Ia(y):wm(y)}function Mm(){return[]}function Dm(){return!1}n.exports=Zu})(Qf,Qf.exports);var woe=Qf.exports;const Rs=Ai(woe);var Yf={exports:{}};Yf.exports;(function(n,e){var t=200,i="__lodash_hash_undefined__",s=1,r=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",b="[object Number]",v="[object Null]",w="[object Object]",C="[object Promise]",_="[object Proxy]",T="[object RegExp]",k="[object Set]",E="[object String]",S="[object Symbol]",I="[object Undefined]",R="[object WeakMap]",q="[object ArrayBuffer]",W="[object DataView]",z="[object Float32Array]",L="[object Float64Array]",J="[object Int8Array]",ne="[object Int16Array]",M="[object Int32Array]",Q="[object Uint8Array]",U="[object Uint8ClampedArray]",Y="[object Uint16Array]",pe="[object Uint32Array]",O=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,be={};be[z]=be[L]=be[J]=be[ne]=be[M]=be[Q]=be[U]=be[Y]=be[pe]=!0,be[a]=be[l]=be[q]=be[u]=be[W]=be[d]=be[f]=be[h]=be[m]=be[b]=be[w]=be[T]=be[k]=be[E]=be[R]=!1;var Ae=typeof hn=="object"&&hn&&hn.Object===Object&&hn,je=typeof self=="object"&&self&&self.Object===Object&&self,Me=Ae||je||Function("return this")(),Ue=e&&!e.nodeType&&e,Be=Ue&&!0&&n&&!n.nodeType&&n,Ge=Be&&Be.exports===Ue,x=Ge&&Ae.process,B=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),te=B&&B.isTypedArray;function ue(y,A){for(var D=-1,he=y==null?0:y.length,ot=0,Ye=[];++D<he;){var yt=y[D];A(yt,D,y)&&(Ye[ot++]=yt)}return Ye}function ae(y,A){for(var D=-1,he=A.length,ot=y.length;++D<he;)y[ot+D]=A[D];return y}function ye(y,A){for(var D=-1,he=y==null?0:y.length;++D<he;)if(A(y[D],D,y))return!0;return!1}function Ee(y,A){for(var D=-1,he=Array(y);++D<y;)he[D]=A(D);return he}function ge(y){return function(A){return y(A)}}function oe(y,A){return y.has(A)}function re(y,A){return y==null?void 0:y[A]}function j(y){var A=-1,D=Array(y.size);return y.forEach(function(he,ot){D[++A]=[ot,he]}),D}function K(y,A){return function(D){return y(A(D))}}function Ce(y){var A=-1,D=Array(y.size);return y.forEach(function(he){D[++A]=he}),D}var Z=Array.prototype,ke=Function.prototype,Ve=Object.prototype,Ke=Me["__core-js_shared__"],rt=ke.toString,ft=Ve.hasOwnProperty,ie=function(){var y=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),Pe=Ve.toString,we=RegExp("^"+rt.call(ft).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=Ge?Me.Buffer:void 0,P=Me.Symbol,Se=Me.Uint8Array,Qe=Ve.propertyIsEnumerable,ht=Z.splice,Lt=P?P.toStringTag:void 0,Gi=Object.getOwnPropertySymbols,fi=Ie?Ie.isBuffer:void 0,ee=K(Object.keys,Object),fe=ar(Me,"DataView"),Fe=ar(Me,"Map"),nt=ar(Me,"Promise"),nn=ar(Me,"Set"),pn=ar(Me,"WeakMap"),An=ar(Object,"create"),hi=ri(fe),sn=ri(Fe),ko=ri(nt),Ln=ri(nn),cs=ri(pn),Gu=P?P.prototype:void 0,ic=Gu?Gu.valueOf:void 0;function $n(y){var A=-1,D=y==null?0:y.length;for(this.clear();++A<D;){var he=y[A];this.set(he[0],he[1])}}function tm(){this.__data__=An?An(null):{},this.size=0}function nm(y){var A=this.has(y)&&delete this.__data__[y];return this.size-=A?1:0,A}function im(y){var A=this.__data__;if(An){var D=A[y];return D===i?void 0:D}return ft.call(A,y)?A[y]:void 0}function sm(y){var A=this.__data__;return An?A[y]!==void 0:ft.call(A,y)}function rm(y,A){var D=this.__data__;return this.size+=this.has(y)?0:1,D[y]=An&&A===void 0?i:A,this}$n.prototype.clear=tm,$n.prototype.delete=nm,$n.prototype.get=im,$n.prototype.has=sm,$n.prototype.set=rm;function jn(y){var A=-1,D=y==null?0:y.length;for(this.clear();++A<D;){var he=y[A];this.set(he[0],he[1])}}function om(){this.__data__=[],this.size=0}function am(y){var A=this.__data__,D=Ra(A,y);if(D<0)return!1;var he=A.length-1;return D==he?A.pop():ht.call(A,D,1),--this.size,!0}function lm(y){var A=this.__data__,D=Ra(A,y);return D<0?void 0:A[D][1]}function cm(y){return Ra(this.__data__,y)>-1}function um(y,A){var D=this.__data__,he=Ra(D,y);return he<0?(++this.size,D.push([y,A])):D[he][1]=A,this}jn.prototype.clear=om,jn.prototype.delete=am,jn.prototype.get=lm,jn.prototype.has=cm,jn.prototype.set=um;function mi(y){var A=-1,D=y==null?0:y.length;for(this.clear();++A<D;){var he=y[A];this.set(he[0],he[1])}}function dm(){this.size=0,this.__data__={hash:new $n,map:new(Fe||jn),string:new $n}}function fm(y){var A=us(this,y).delete(y);return this.size-=A?1:0,A}function hm(y){return us(this,y).get(y)}function mm(y){return us(this,y).has(y)}function pm(y,A){var D=us(this,y),he=D.size;return D.set(y,A),this.size+=D.size==he?0:1,this}mi.prototype.clear=dm,mi.prototype.delete=fm,mi.prototype.get=hm,mi.prototype.has=mm,mi.prototype.set=pm;function Ia(y){var A=-1,D=y==null?0:y.length;for(this.__data__=new mi;++A<D;)this.add(y[A])}function Qu(y){return this.__data__.set(y,i),this}function Oa(y){return this.__data__.has(y)}Ia.prototype.add=Ia.prototype.push=Qu,Ia.prototype.has=Oa;function As(y){var A=this.__data__=new jn(y);this.size=A.size}function sc(){this.__data__=new jn,this.size=0}function gm(y){var A=this.__data__,D=A.delete(y);return this.size=A.size,D}function vm(y){return this.__data__.get(y)}function bm(y){return this.__data__.has(y)}function ym(y,A){var D=this.__data__;if(D instanceof jn){var he=D.__data__;if(!Fe||he.length<t-1)return he.push([y,A]),this.size=++D.size,this;D=this.__data__=new mi(he)}return D.set(y,A),this.size=D.size,this}As.prototype.clear=sc,As.prototype.delete=gm,As.prototype.get=vm,As.prototype.has=bm,As.prototype.set=ym;function wm(y,A){var D=Ma(y),he=!D&&ed(y),ot=!D&&!he&&Da(y),Ye=!D&&!he&&!ot&&id(y),yt=D||he||ot||Ye,Pt=yt?Ee(y.length,String):[],bn=Pt.length;for(var Mt in y)(A||ft.call(y,Mt))&&!(yt&&(Mt=="length"||ot&&(Mt=="offset"||Mt=="parent")||Ye&&(Mt=="buffer"||Mt=="byteLength"||Mt=="byteOffset")||xm(Mt,bn)))&&Pt.push(Mt);return Pt}function Ra(y,A){for(var D=y.length;D--;)if(Zu(y[D][0],A))return D;return-1}function rc(y,A,D){var he=A(y);return Ma(y)?he:ae(he,D(y))}function So(y){return y==null?y===void 0?I:v:Lt&&Lt in Object(y)?lr(y):Xu(y)}function Yu(y){return Ps(y)&&So(y)==a}function Ju(y,A,D,he,ot){return y===A?!0:y==null||A==null||!Ps(y)&&!Ps(A)?y!==y&&A!==A:_m(y,A,D,he,Ju,ot)}function _m(y,A,D,he,ot,Ye){var yt=Ma(y),Pt=Ma(A),bn=yt?l:xs(y),Mt=Pt?l:xs(A);bn=bn==a?w:bn,Mt=Mt==a?w:Mt;var qn=bn==w,pi=Mt==w,_n=bn==Mt;if(_n&&Da(y)){if(!Da(A))return!1;yt=!0,qn=!1}if(_n&&!qn)return Ye||(Ye=new As),yt||id(y)?oc(y,A,D,he,ot,Ye):Em(y,A,bn,D,he,ot,Ye);if(!(D&s)){var Kn=qn&&ft.call(y,"__wrapped__"),Bn=pi&&ft.call(A,"__wrapped__");if(Kn||Bn){var Nr=Kn?y.value():y,cr=Bn?A.value():A;return Ye||(Ye=new As),ot(Nr,cr,D,he,Ye)}}return _n?(Ye||(Ye=new As),Tm(y,A,D,he,ot,Ye)):!1}function Cm(y){if(!nd(y)||Im(y))return!1;var A=td(y)?we:F;return A.test(ri(y))}function km(y){return Ps(y)&&lc(y.length)&&!!be[So(y)]}function Sm(y){if(!Om(y))return ee(y);var A=[];for(var D in Object(y))ft.call(y,D)&&D!="constructor"&&A.push(D);return A}function oc(y,A,D,he,ot,Ye){var yt=D&s,Pt=y.length,bn=A.length;if(Pt!=bn&&!(yt&&bn>Pt))return!1;var Mt=Ye.get(y);if(Mt&&Ye.get(A))return Mt==A;var qn=-1,pi=!0,_n=D&r?new Ia:void 0;for(Ye.set(y,A),Ye.set(A,y);++qn<Pt;){var Kn=y[qn],Bn=A[qn];if(he)var Nr=yt?he(Bn,Kn,qn,A,y,Ye):he(Kn,Bn,qn,y,A,Ye);if(Nr!==void 0){if(Nr)continue;pi=!1;break}if(_n){if(!ye(A,function(cr,To){if(!oe(_n,To)&&(Kn===cr||ot(Kn,cr,D,he,Ye)))return _n.push(To)})){pi=!1;break}}else if(!(Kn===Bn||ot(Kn,Bn,D,he,Ye))){pi=!1;break}}return Ye.delete(y),Ye.delete(A),pi}function Em(y,A,D,he,ot,Ye,yt){switch(D){case W:if(y.byteLength!=A.byteLength||y.byteOffset!=A.byteOffset)return!1;y=y.buffer,A=A.buffer;case q:return!(y.byteLength!=A.byteLength||!Ye(new Se(y),new Se(A)));case u:case d:case b:return Zu(+y,+A);case f:return y.name==A.name&&y.message==A.message;case T:case E:return y==A+"";case m:var Pt=j;case k:var bn=he&s;if(Pt||(Pt=Ce),y.size!=A.size&&!bn)return!1;var Mt=yt.get(y);if(Mt)return Mt==A;he|=r,yt.set(y,A);var qn=oc(Pt(y),Pt(A),he,ot,Ye,yt);return yt.delete(y),qn;case S:if(ic)return ic.call(y)==ic.call(A)}return!1}function Tm(y,A,D,he,ot,Ye){var yt=D&s,Pt=Eo(y),bn=Pt.length,Mt=Eo(A),qn=Mt.length;if(bn!=qn&&!yt)return!1;for(var pi=bn;pi--;){var _n=Pt[pi];if(!(yt?_n in A:ft.call(A,_n)))return!1}var Kn=Ye.get(y);if(Kn&&Ye.get(A))return Kn==A;var Bn=!0;Ye.set(y,A),Ye.set(A,y);for(var Nr=yt;++pi<bn;){_n=Pt[pi];var cr=y[_n],To=A[_n];if(he)var Yy=yt?he(To,cr,_n,A,y,Ye):he(cr,To,_n,y,A,Ye);if(!(Yy===void 0?cr===To||ot(cr,To,D,he,Ye):Yy)){Bn=!1;break}Nr||(Nr=_n=="constructor")}if(Bn&&!Nr){var sd=y.constructor,rd=A.constructor;sd!=rd&&"constructor"in y&&"constructor"in A&&!(typeof sd=="function"&&sd instanceof sd&&typeof rd=="function"&&rd instanceof rd)&&(Bn=!1)}return Ye.delete(y),Ye.delete(A),Bn}function Eo(y){return rc(y,cc,Am)}function us(y,A){var D=y.__data__;return Pm(A)?D[typeof A=="string"?"string":"hash"]:D.map}function ar(y,A){var D=re(y,A);return Cm(D)?D:void 0}function lr(y){var A=ft.call(y,Lt),D=y[Lt];try{y[Lt]=void 0;var he=!0}catch{}var ot=Pe.call(y);return he&&(A?y[Lt]=D:delete y[Lt]),ot}var Am=Gi?function(y){return y==null?[]:(y=Object(y),ue(Gi(y),function(A){return Qe.call(y,A)}))}:Mm,xs=So;(fe&&xs(new fe(new ArrayBuffer(1)))!=W||Fe&&xs(new Fe)!=m||nt&&xs(nt.resolve())!=C||nn&&xs(new nn)!=k||pn&&xs(new pn)!=R)&&(xs=function(y){var A=So(y),D=A==w?y.constructor:void 0,he=D?ri(D):"";if(he)switch(he){case hi:return W;case sn:return m;case ko:return C;case Ln:return k;case cs:return R}return A});function xm(y,A){return A=A??o,!!A&&(typeof y=="number"||ce.test(y))&&y>-1&&y%1==0&&y<A}function Pm(y){var A=typeof y;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?y!=="__proto__":y===null}function Im(y){return!!ie&&ie in y}function Om(y){var A=y&&y.constructor,D=typeof A=="function"&&A.prototype||Ve;return y===D}function Xu(y){return Pe.call(y)}function ri(y){if(y!=null){try{return rt.call(y)}catch{}try{return y+""}catch{}}return""}function Zu(y,A){return y===A||y!==y&&A!==A}var ed=Yu(function(){return arguments}())?Yu:function(y){return Ps(y)&&ft.call(y,"callee")&&!Qe.call(y,"callee")},Ma=Array.isArray;function ac(y){return y!=null&&lc(y.length)&&!td(y)}var Da=fi||Dm;function Rm(y,A){return Ju(y,A)}function td(y){if(!nd(y))return!1;var A=So(y);return A==h||A==p||A==c||A==_}function lc(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=o}function nd(y){var A=typeof y;return y!=null&&(A=="object"||A=="function")}function Ps(y){return y!=null&&typeof y=="object"}var id=te?ge(te):km;function cc(y){return ac(y)?wm(y):Sm(y)}function Mm(){return[]}function Dm(){return!1}n.exports=Rm})(Yf,Yf.exports);var _oe=Yf.exports;const Coe=Ai(_oe);var koe={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let n=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,e=qs.restore(n),t=this.$options.remember.data.filter(s=>!(this[s]!==null&&typeof this[s]=="object"&&this[s].__rememberable===!1)),i=s=>this[s]!==null&&typeof this[s]=="object"&&typeof this[s].__remember=="function"&&typeof this[s].__restore=="function";t.forEach(s=>{this[s]!==void 0&&e!==void 0&&e[s]!==void 0&&(i(s)?this[s].__restore(e[s]):this[s]=e[s]),this.$watch(s,()=>{qs.remember(t.reduce((r,o)=>({...r,[o]:Rs(i(o)?this[o].__remember():this[o])}),{}),n)},{immediate:!0,deep:!0})})}},Soe=koe;function xO(n,e){let t=typeof n=="string"?n:null,i=typeof n=="string"?e:n,s=t?qs.restore(t):null,r=Rs(typeof i=="object"?i:i()),o=null,a=null,l=u=>u,c=qi({...s?s.data:Rs(r),isDirty:!1,errors:s?s.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(r).reduce((u,d)=>(u[d]=this[d],u),{})},transform(u){return l=u,this},defaults(u,d){if(typeof i=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return typeof u>"u"?r=this.data():r=Object.assign({},Rs(r),typeof u=="string"?{[u]:d}:u),this},reset(...u){let d=Rs(typeof i=="object"?r:i()),f=Rs(d);return u.length===0?(r=f,Object.assign(this,d)):Object.keys(d).filter(h=>u.includes(h)).forEach(h=>{r[h]=f[h],this[h]=d[h]}),this},setError(u,d){return Object.assign(this.errors,typeof u=="string"?{[u]:d}:u),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...u){return this.errors=Object.keys(this.errors).reduce((d,f)=>({...d,...u.length>0&&!u.includes(f)?{[f]:this.errors[f]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(u,d,f={}){let h=l(this.data()),p={...f,onCancelToken:m=>{if(o=m,f.onCancelToken)return f.onCancelToken(m)},onBefore:m=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(a),f.onBefore)return f.onBefore(m)},onStart:m=>{if(this.processing=!0,f.onStart)return f.onStart(m)},onProgress:m=>{if(this.progress=m,f.onProgress)return f.onProgress(m)},onSuccess:async m=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,a=setTimeout(()=>this.recentlySuccessful=!1,2e3);let b=f.onSuccess?await f.onSuccess(m):null;return r=Rs(this.data()),this.isDirty=!1,b},onError:m=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(m),f.onError)return f.onError(m)},onCancel:()=>{if(this.processing=!1,this.progress=null,f.onCancel)return f.onCancel()},onFinish:m=>{if(this.processing=!1,this.progress=null,o=null,f.onFinish)return f.onFinish(m)}};u==="delete"?qs.delete(d,{...p,data:h}):qs[u](d,h,p)},get(u,d){this.submit("get",u,d)},post(u,d){this.submit("post",u,d)},put(u,d){this.submit("put",u,d)},patch(u,d){this.submit("patch",u,d)},delete(u,d){this.submit("delete",u,d)},cancel(){o&&o.cancel()},__rememberable:t===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(u){Object.assign(this,u.data),this.setError(u.errors)}});return $e(c,u=>{c.isDirty=!Coe(c.data(),r),t&&qs.remember(Rs(u.__remember()),t)},{immediate:!0,deep:!0}),c}var xi=se(null),xc=se(null),jp=wr(null),jd=se(null),Pv=null,Eoe=Re({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:n=>n},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:n,initialComponent:e,resolveComponent:t,titleCallback:i,onHeadUpdate:s}){xi.value=e?Yc(e):null,xc.value=n,jd.value=null;let r=typeof window>"u";return Pv=hoe(r,i,s),r||(qs.init({initialPage:n,resolveComponent:t,swapComponent:async o=>{xi.value=Yc(o.component),xc.value=o.page,jd.value=o.preserveState?jd.value:Date.now()}}),qs.on("navigate",()=>Pv.forceUpdate())),()=>{if(xi.value){xi.value.inheritAttrs=!!xi.value.inheritAttrs;let o=Je(xi.value,{...xc.value.props,key:jd.value});return jp.value&&(xi.value.layout=jp.value,jp.value=null),xi.value.layout?typeof xi.value.layout=="function"?xi.value.layout(Je,o):(Array.isArray(xi.value.layout)?xi.value.layout:[xi.value.layout]).concat(o).reverse().reduce((a,l)=>(l.inheritAttrs=!!l.inheritAttrs,Je(l,{...xc.value.props},()=>a))):o}}}}),Toe=Eoe,Aoe={install(n){qs.form=xO,Object.defineProperty(n.config.globalProperties,"$inertia",{get:()=>qs}),Object.defineProperty(n.config.globalProperties,"$page",{get:()=>xc.value}),Object.defineProperty(n.config.globalProperties,"$headManager",{get:()=>Pv}),n.mixin(Soe)}};async function xoe({id:n="app",resolve:e,setup:t,title:i,progress:s={},page:r,render:o}){let a=typeof window>"u",l=a?null:document.getElementById(n),c=r||JSON.parse(l.dataset.page),u=h=>Promise.resolve(e(h)).then(p=>p.default||p),d=[],f=await u(c.component).then(h=>t({el:l,App:Toe,props:{initialPage:c,initialComponent:h,resolveComponent:u,titleCallback:i,onHeadUpdate:a?p=>d=p:null},plugin:Aoe}));if(!a&&s&&yoe(s),a){let h=await o(ZE({render:()=>Je("div",{id:n,"data-page":JSON.stringify(c),innerHTML:f?o(f):""})}));return{head:d,body:h}}}class Ku{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Nl=typeof window>"u"||"Deno"in window;function Ji(){}function Poe(n,e){return typeof n=="function"?n(e):n}function Iv(n){return typeof n=="number"&&n>=0&&n!==1/0}function PO(n,e){return Math.max(n+(e||0)-Date.now(),0)}function qd(n,e,t){return Xh(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function Jr(n,e,t){return Xh(n)?[{...e,queryKey:n},t]:[n||{},e]}function Qk(n,e){const{type:t="all",exact:i,fetchStatus:s,predicate:r,queryKey:o,stale:a}=n;if(Xh(o)){if(i){if(e.queryHash!==jy(o,e.options))return!1}else if(!Jf(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof s<"u"&&s!==e.state.fetchStatus||r&&!r(e))}function Yk(n,e){const{exact:t,fetching:i,predicate:s,mutationKey:r}=n;if(Xh(r)){if(!e.options.mutationKey)return!1;if(t){if(Ho(e.options.mutationKey)!==Ho(r))return!1}else if(!Jf(e.options.mutationKey,r))return!1}return!(typeof i=="boolean"&&e.state.status==="loading"!==i||s&&!s(e))}function jy(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ho)(n)}function Ho(n){return JSON.stringify(n,(e,t)=>Ov(t)?Object.keys(t).sort().reduce((i,s)=>(i[s]=t[s],i),{}):t)}function Jf(n,e){return IO(n,e)}function IO(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!IO(n[t],e[t])):!1}function OO(n,e){if(n===e)return n;const t=Xk(n)&&Xk(e);if(t||Ov(n)&&Ov(e)){const i=t?n.length:Object.keys(n).length,s=t?e:Object.keys(e),r=s.length,o=t?[]:{};let a=0;for(let l=0;l<r;l++){const c=t?l:s[l];o[c]=OO(n[c],e[c]),o[c]===n[c]&&a++}return i===r&&a===i?n:o}return e}function Jk(n,e){if(n&&!e||e&&!n)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function Xk(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Ov(n){if(!Zk(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!Zk(t)||!t.hasOwnProperty("isPrototypeOf"))}function Zk(n){return Object.prototype.toString.call(n)==="[object Object]"}function Xh(n){return Array.isArray(n)}function RO(n){return new Promise(e=>{setTimeout(e,n)})}function eS(n){RO(0).then(n)}function Ioe(){if(typeof AbortController=="function")return new AbortController}function Rv(n,e,t){return t.isDataEqual!=null&&t.isDataEqual(n,e)?n:typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?OO(n,e):e}class Ooe extends Ku{constructor(){super(),this.setup=e=>{if(!Nl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Xf=new Ooe,tS=["online","offline"];class Roe extends Ku{constructor(){super(),this.setup=e=>{if(!Nl&&window.addEventListener){const t=()=>e();return tS.forEach(i=>{window.addEventListener(i,t,!1)}),()=>{tS.forEach(i=>{window.removeEventListener(i,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setOnline(i):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Zf=new Roe;function Moe(n){return Math.min(1e3*2**n,3e4)}function Zh(n){return(n??"online")==="online"?Zf.isOnline():!0}class MO{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function mf(n){return n instanceof MO}function DO(n){let e=!1,t=0,i=!1,s,r,o;const a=new Promise((b,v)=>{r=b,o=v}),l=b=>{i||(h(new MO(b)),n.abort==null||n.abort())},c=()=>{e=!0},u=()=>{e=!1},d=()=>!Xf.isFocused()||n.networkMode!=="always"&&!Zf.isOnline(),f=b=>{i||(i=!0,n.onSuccess==null||n.onSuccess(b),s==null||s(),r(b))},h=b=>{i||(i=!0,n.onError==null||n.onError(b),s==null||s(),o(b))},p=()=>new Promise(b=>{s=v=>{const w=i||!d();return w&&b(v),w},n.onPause==null||n.onPause()}).then(()=>{s=void 0,i||n.onContinue==null||n.onContinue()}),m=()=>{if(i)return;let b;try{b=n.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(f).catch(v=>{var w,C;if(i)return;const _=(w=n.retry)!=null?w:3,T=(C=n.retryDelay)!=null?C:Moe,k=typeof T=="function"?T(t,v):T,E=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,v);if(e||!E){h(v);return}t++,n.onFail==null||n.onFail(t,v),RO(k).then(()=>{if(d())return p()}).then(()=>{e?h(v):m()})})};return Zh(n.networkMode)?m():p().then(m),{promise:a,cancel:l,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}const qy=console;function Doe(){let n=[],e=0,t=u=>{u()},i=u=>{u()};const s=u=>{let d;e++;try{d=u()}finally{e--,e||a()}return d},r=u=>{e?n.push(u):eS(()=>{t(u)})},o=u=>(...d)=>{r(()=>{u(...d)})},a=()=>{const u=n;n=[],u.length&&eS(()=>{i(()=>{u.forEach(d=>{t(d)})})})};return{batch:s,batchCalls:o,schedule:r,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{i=u}}}const Jn=Doe();class FO{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Iv(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Nl?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Foe extends FO{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||qy,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Noe(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const i=Rv(this.state.data,e,this.options);return this.dispatch({data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const i=this.promise;return(t=this.retryer)==null||t.cancel(e),i?i.then(Ji).catch(Ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!PO(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var i,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var r;return(r=this.retryer)==null||r.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}Array.isArray(this.options.queryKey);const o=Ioe(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),u={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(u),(i=this.options.behavior)==null||i.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=u.fetchOptions)==null?void 0:s.meta)){var d;this.dispatch({type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta})}const f=h=>{if(mf(h)&&h.silent||this.dispatch({type:"error",error:h}),!mf(h)){var p,m,b,v;(p=(m=this.cache.config).onError)==null||p.call(m,h,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=DO({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:h=>{var p,m,b,v;if(typeof h>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(p=(m=this.cache.config).onSuccess)==null||p.call(m,h,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(h,p)=>{this.dispatch({type:"failed",failureCount:h,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=i=>{var s,r;switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:Zh(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(r=e.dataUpdatedAt)!=null?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return mf(o)&&o.revert&&this.revertState?{...this.revertState}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),Jn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Noe(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=typeof e<"u",i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}let NO=class extends Ku{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,i){var s;const r=t.queryKey,o=(s=t.queryHash)!=null?s:jy(r,t);let a=this.get(o);return a||(a=new Foe({cache:this,logger:e.getLogger(),queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(i=>i!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Jn.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[i]=Jr(e,t);return typeof i.exact>"u"&&(i.exact=!0),this.queries.find(s=>Qk(i,s))}findAll(e,t){const[i]=Jr(e,t);return Object.keys(i).length>0?this.queries.filter(s=>Qk(i,s)):this.queries}notify(e){Jn.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){Jn.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Jn.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}};class Loe extends FO{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||qy,this.observers=[],this.state=e.state||$oe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return(e=(t=this.retryer)==null?void 0:t.continue())!=null?e:this.execute()}async execute(){const e=()=>{var E;return this.retryer=DO({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(S,I)=>{this.dispatch({type:"failed",failureCount:S,error:I})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(E=this.options.retry)!=null?E:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var i,s,r,o,a,l,c,u;if(!t){var d,f,h,p;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(f=this.mutationCache.config).onMutate)==null?void 0:d.call(f,this.state.variables,this));const S=await((h=(p=this.options).onMutate)==null?void 0:h.call(p,this.state.variables));S!==this.state.context&&this.dispatch({type:"loading",context:S,variables:this.state.variables})}const E=await e();return await((i=(s=this.mutationCache.config).onSuccess)==null?void 0:i.call(s,E,this.state.variables,this.state.context,this)),await((r=(o=this.options).onSuccess)==null?void 0:r.call(o,E,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,E,null,this.state.variables,this.state.context,this)),await((c=(u=this.options).onSettled)==null?void 0:c.call(u,E,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:E}),E}catch(E){try{var m,b,v,w,C,_,T,k;throw await((m=(b=this.mutationCache.config).onError)==null?void 0:m.call(b,E,this.state.variables,this.state.context,this)),await((v=(w=this.options).onError)==null?void 0:v.call(w,E,this.state.variables,this.state.context)),await((C=(_=this.mutationCache.config).onSettled)==null?void 0:C.call(_,void 0,E,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,E,this.state.variables,this.state.context)),E}finally{this.dispatch({type:"error",error:E})}}}dispatch(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"loading":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Zh(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...i,...e.state}}};this.state=t(this.state),Jn.batch(()=>{this.observers.forEach(i=>{i.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function $oe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}let LO=class extends Ku{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,i){const s=new Loe({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:i,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){Jn.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>Yk(e,t))}findAll(e){return this.mutations.filter(t=>Yk(e,t))}notify(e){Jn.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const t=this.mutations.filter(i=>i.state.isPaused);return Jn.batch(()=>t.reduce((i,s)=>i.then(()=>s.continue().catch(Ji)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}};function Boe(){return{onFetch:n=>{n.fetchFn=()=>{var e,t,i,s,r,o;const a=(e=n.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,l=(i=n.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,c=l==null?void 0:l.pageParam,u=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",f=((r=n.state.data)==null?void 0:r.pages)||[],h=((o=n.state.data)==null?void 0:o.pageParams)||[];let p=h,m=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var E;if((E=n.signal)!=null&&E.aborted)m=!0;else{var S;(S=n.signal)==null||S.addEventListener("abort",()=>{m=!0})}return n.signal}})},v=n.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+n.options.queryHash+"'")),w=(k,E,S,I)=>(p=I?[E,...p]:[...p,E],I?[S,...k]:[...k,S]),C=(k,E,S,I)=>{if(m)return Promise.reject("Cancelled");if(typeof S>"u"&&!E&&k.length)return Promise.resolve(k);const R={queryKey:n.queryKey,pageParam:S,meta:n.options.meta};b(R);const q=v(R);return Promise.resolve(q).then(z=>w(k,S,z,I))};let _;if(!f.length)_=C([]);else if(u){const k=typeof c<"u",E=k?c:nS(n.options,f);_=C(f,k,E)}else if(d){const k=typeof c<"u",E=k?c:Voe(n.options,f);_=C(f,k,E,!0)}else{p=[];const k=typeof n.options.getNextPageParam>"u";_=(a&&f[0]?a(f[0],0,f):!0)?C([],k,h[0]):Promise.resolve(w([],h[0],f[0]));for(let S=1;S<f.length;S++)_=_.then(I=>{if(a&&f[S]?a(f[S],S,f):!0){const q=k?h[S]:nS(n.options,I);return C(I,k,q)}return Promise.resolve(w(I,h[S],f[S]))})}return _.then(k=>({pages:k,pageParams:p}))}}}}function nS(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function Voe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}let Uoe=class{constructor(e={}){this.queryCache=e.queryCache||new NO,this.mutationCache=e.mutationCache||new LO,this.logger=e.logger||qy,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Xf.subscribe(()=>{Xf.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Zf.subscribe(()=>{Zf.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[i]=Jr(e,t);return i.fetchStatus="fetching",this.queryCache.findAll(i).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var i;return(i=this.queryCache.find(e,t))==null?void 0:i.state.data}ensureQueryData(e,t,i){const s=qd(e,t,i),r=this.getQueryData(s.queryKey);return r?Promise.resolve(r):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:i})=>{const s=i.data;return[t,s]})}setQueryData(e,t,i){const s=this.queryCache.find(e),r=s==null?void 0:s.state.data,o=Poe(t,r);if(typeof o>"u")return;const a=qd(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...i,manual:!0})}setQueriesData(e,t,i){return Jn.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,i)]))}getQueryState(e,t){var i;return(i=this.queryCache.find(e,t))==null?void 0:i.state}removeQueries(e,t){const[i]=Jr(e,t),s=this.queryCache;Jn.batch(()=>{s.findAll(i).forEach(r=>{s.remove(r)})})}resetQueries(e,t,i){const[s,r]=Jr(e,t,i),o=this.queryCache,a={type:"active",...s};return Jn.batch(()=>(o.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries(a,r)))}cancelQueries(e,t,i){const[s,r={}]=Jr(e,t,i);typeof r.revert>"u"&&(r.revert=!0);const o=Jn.batch(()=>this.queryCache.findAll(s).map(a=>a.cancel(r)));return Promise.all(o).then(Ji).catch(Ji)}invalidateQueries(e,t,i){const[s,r]=Jr(e,t,i);return Jn.batch(()=>{var o,a;if(this.queryCache.findAll(s).forEach(c=>{c.invalidate()}),s.refetchType==="none")return Promise.resolve();const l={...s,type:(o=(a=s.refetchType)!=null?a:s.type)!=null?o:"active"};return this.refetchQueries(l,r)})}refetchQueries(e,t,i){const[s,r]=Jr(e,t,i),o=Jn.batch(()=>this.queryCache.findAll(s).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...r,cancelRefetch:(c=r==null?void 0:r.cancelRefetch)!=null?c:!0,meta:{refetchPage:s.refetchPage}})}));let a=Promise.all(o).then(Ji);return r!=null&&r.throwOnError||(a=a.catch(Ji)),a}fetchQuery(e,t,i){const s=qd(e,t,i),r=this.defaultQueryOptions(s);typeof r.retry>"u"&&(r.retry=!1);const o=this.queryCache.build(this,r);return o.isStaleByTime(r.staleTime)?o.fetch(r):Promise.resolve(o.state.data)}prefetchQuery(e,t,i){return this.fetchQuery(e,t,i).then(Ji).catch(Ji)}fetchInfiniteQuery(e,t,i){const s=qd(e,t,i);return s.behavior=Boe(),this.fetchQuery(s)}prefetchInfiniteQuery(e,t,i){return this.fetchInfiniteQuery(e,t,i).then(Ji).catch(Ji)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const i=this.queryDefaults.find(s=>Ho(e)===Ho(s.queryKey));i?i.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(i=>Jf(e,i.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(e,t){const i=this.mutationDefaults.find(s=>Ho(e)===Ho(s.mutationKey));i?i.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(i=>Jf(e,i.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=jy(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}};class zoe extends Ku{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),iS(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mv(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mv(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const i=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Jk(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const r=this.hasListeners();r&&sS(this.currentQuery,s,this.options,i)&&this.executeFetch(),this.updateResult(t),r&&(this.currentQuery!==s||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();r&&(this.currentQuery!==s||this.options.enabled!==i.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),i=this.createResult(t,e);return Woe(this,i,e)&&(this.currentResult=i,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),i}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(i=>{Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),e[i])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),i=this.client.getQueryCache().build(this.client,t);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Ji)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Nl||this.currentResult.isStale||!Iv(this.options.staleTime))return;const t=PO(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Nl||this.options.enabled===!1||!Iv(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Xf.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const i=this.currentQuery,s=this.options,r=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==i,c=l?e.state:this.currentQueryInitialState,u=l?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:f,error:h,errorUpdatedAt:p,fetchStatus:m,status:b}=d,v=!1,w=!1,C;if(t._optimisticResults){const S=this.hasListeners(),I=!S&&iS(e,t),R=S&&sS(e,i,t,s);(I||R)&&(m=Zh(e.options.networkMode)?"fetching":"paused",f||(b="loading")),t._optimisticResults==="isRestoring"&&(m="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&u!=null&&u.isSuccess&&b!=="error")C=u.data,f=u.dataUpdatedAt,b=u.status,v=!0;else if(t.select&&typeof d.data<"u")if(r&&d.data===(o==null?void 0:o.data)&&t.select===this.selectFn)C=this.selectResult;else try{this.selectFn=t.select,C=t.select(d.data),C=Rv(r==null?void 0:r.data,C,t),this.selectResult=C,this.selectError=null}catch(S){this.selectError=S}else C=d.data;if(typeof t.placeholderData<"u"&&typeof C>"u"&&b==="loading"){let S;if(r!=null&&r.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))S=r.data;else if(S=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof S<"u")try{S=t.select(S),this.selectError=null}catch(I){this.selectError=I}typeof S<"u"&&(b="success",C=Rv(r==null?void 0:r.data,S,t),w=!0)}this.selectError&&(h=this.selectError,C=this.selectResult,p=Date.now(),b="error");const _=m==="fetching",T=b==="loading",k=b==="error";return{status:b,fetchStatus:m,isLoading:T,isSuccess:b==="success",isError:k,isInitialLoading:T&&_,data:C,dataUpdatedAt:f,error:h,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!T,isLoadingError:k&&d.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:w,isPreviousData:v,isRefetchError:k&&d.dataUpdatedAt!==0,isStale:Ky(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Jk(i,t))return;this.currentResult=i;const s={cache:!0},r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const l=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(c=>{const u=c;return this.currentResult[u]!==t[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&r()&&(s.listeners=!0),this.notify({...s,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!mf(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Jn.batch(()=>{if(e.onSuccess){var t,i,s,r;(t=(i=this.options).onSuccess)==null||t.call(i,this.currentResult.data),(s=(r=this.options).onSettled)==null||s.call(r,this.currentResult.data,null)}else if(e.onError){var o,a,l,c;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Hoe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function iS(n,e){return Hoe(n,e)||n.state.dataUpdatedAt>0&&Mv(n,e,e.refetchOnMount)}function Mv(n,e,t){if(e.enabled!==!1){const i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&Ky(n,e)}return!1}function sS(n,e,t,i){return t.enabled!==!1&&(n!==e||i.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&Ky(n,t)}function Ky(n,e){return n.isStaleByTime(e.staleTime)}function Woe(n,e,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?e.isPlaceholderData:n.getCurrentResult()!==e}const joe="VUE_QUERY_CLIENT";function $O(n){const e=n?":"+n:"";return""+joe+e}function Yi(n){return Array.isArray(n)}function rS(n,e){Object.keys(n).forEach(t=>{n[t]=e[t]})}function Dv(n,e){if(e){const t=e(n);if(t!==void 0||Bt(n))return t}if(Array.isArray(n))return n.map(t=>Dv(t,e));if(typeof n=="object"&&qoe(n)){const t=Object.entries(n).map(([i,s])=>[i,Dv(s,e)]);return Object.fromEntries(t)}return n}function Xe(n){return Dv(n,e=>{if(Bt(e))return Xe(g(e))})}function qoe(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function Koe(n,e){return typeof n=="function"?n(...e):!!n}function Goe(n=""){var e;if(!((e=Rt())==null?void 0:e.proxy))throw new Error("vue-query hooks can only be used inside setup() function.");const i=$O(n),s=st(i);if(!s)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return s}class Qoe extends NO{find(e,t){const i=Xe(e),s=Xe(t);return super.find(i,s)}findAll(e,t){const i=Xe(e),s=Xe(t);return Yi(i)?super.findAll(i,s):super.findAll(i)}}class Yoe extends LO{find(e){return super.find(Xe(e))}findAll(e){return super.findAll(Xe(e))}}class oS extends Uoe{constructor(e={}){const t=Xe(e),i={logger:Xe(t.logger),defaultOptions:Xe(t.defaultOptions),queryCache:t.queryCache||new Qoe,mutationCache:t.mutationCache||new Yoe};super(i),this.isRestoring=se(!1)}isFetching(e,t){const i=Xe(e),s=Xe(t);return Yi(i)?super.isFetching(i,s):super.isFetching(i)}isMutating(e){return super.isMutating(Xe(e))}getQueryData(e,t){return super.getQueryData(Xe(e),Xe(t))}getQueriesData(e){const t=Xe(e);return Yi(t)?super.getQueriesData(t):super.getQueriesData(t)}setQueryData(e,t,i){return super.setQueryData(Xe(e),t,Xe(i))}setQueriesData(e,t,i){const s=Xe(e),r=Xe(i);return Yi(s)?super.setQueriesData(s,t,r):super.setQueriesData(s,t,r)}getQueryState(e,t){return super.getQueryState(Xe(e),Xe(t))}removeQueries(e,t){const i=Xe(e);return Yi(i)?super.removeQueries(i,Xe(t)):super.removeQueries(i)}resetQueries(e,t,i){const s=Xe(e),r=Xe(t);return Yi(s)?super.resetQueries(s,r,Xe(i)):super.resetQueries(s,r)}cancelQueries(e,t,i){const s=Xe(e),r=Xe(t);return Yi(s)?super.cancelQueries(s,r,Xe(i)):super.cancelQueries(s,r)}invalidateQueries(e,t,i){const s=Xe(e),r=Xe(t);return Yi(s)?super.invalidateQueries(s,r,Xe(i)):super.invalidateQueries(s,r)}refetchQueries(e,t,i){const s=Xe(e),r=Xe(t);return Yi(s)?super.refetchQueries(s,r,Xe(i)):super.refetchQueries(s,r)}fetchQuery(e,t,i){const s=Xe(e),r=Xe(t);return Yi(s)?super.fetchQuery(s,r,Xe(i)):super.fetchQuery(s)}prefetchQuery(e,t,i){return super.prefetchQuery(Xe(e),Xe(t),Xe(i))}fetchInfiniteQuery(e,t,i){const s=Xe(e),r=Xe(t);return Yi(s)?super.fetchInfiniteQuery(s,r,Xe(i)):super.fetchInfiniteQuery(s)}prefetchInfiniteQuery(e,t,i){return super.prefetchInfiniteQuery(Xe(e),Xe(t),Xe(i))}setDefaultOptions(e){super.setDefaultOptions(Xe(e))}setQueryDefaults(e,t){super.setQueryDefaults(Xe(e),Xe(t))}getQueryDefaults(e){return super.getQueryDefaults(Xe(e))}setMutationDefaults(e,t){super.setMutationDefaults(Xe(e),Xe(t))}getMutationDefaults(e){return super.getMutationDefaults(Xe(e))}}const Joe={install:(n,e={})=>{const t=$O(e.queryClientKey);let i;if("queryClient"in e&&e.queryClient)i=e.queryClient;else if(e.contextSharing&&typeof window<"u")if(window.__VUE_QUERY_CONTEXT__)i=window.__VUE_QUERY_CONTEXT__;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;i=new oS(o),window.__VUE_QUERY_CONTEXT__=i}else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;i=new oS(o)}Nl||i.mount();let s=()=>{};if(e.clientPersister){i.isRestoring.value=!0;const[o,a]=e.clientPersister(i);s=o,a.then(()=>{i.isRestoring.value=!1})}const r=()=>{i.unmount(),s()};if(n.onUnmount)n.onUnmount(r);else{const o=n.unmount;n.unmount=function(){r(),o()}}n.provide(t,i)}};function Xoe(n,e,t={},i={}){var s;const r=N(()=>Zoe(e,t,i)),o=(s=r.value.queryClient)!=null?s:Goe(r.value.queryClientKey),a=N(()=>{const f=o.defaultQueryOptions(r.value);return f._optimisticResults=o.isRestoring.value?"isRestoring":"optimistic",f}),l=new n(o,a.value),c=qi(l.getCurrentResult());let u=()=>{};$e(o.isRestoring,f=>{f||(u(),u=l.subscribe(h=>{rS(c,h)}))},{immediate:!0}),$e(a,()=>{l.setOptions(a.value),rS(c,l.getCurrentResult())}),Hv(()=>{u()});const d=()=>new Promise((f,h)=>{let p=()=>{};const m=()=>{if(a.value.enabled!==!1){const b=l.getOptimisticResult(a.value);b.isStale?(p(),l.fetchOptimistic(a.value).then(f,h)):(p(),f(b))}};m(),p=$e(a,m,{deep:!0})});return $e(()=>c.error,f=>{if(c.isError&&!c.isFetching&&Koe(a.value.useErrorBoundary,[f,l.getCurrentQuery()]))throw f}),{...Wl(Iu(c)),suspense:d}}function Zoe(n,e={},t={}){const i=g(n),s=g(e),r=g(t);let o=i;return Yi(i)?typeof s=="function"?o={...r,queryKey:i,queryFn:s}:o={...s,queryKey:i}:o=i,Xe(o)}function Kd(n,e,t){const i=Xoe(zoe,n,e,t);return{...i,refetch:i.refetch.value,remove:i.remove.value}}const aS=n=>{typeof n=="function"&&n()},lS=(n,e,t=!0)=>{if(!t){aS(n);return}const i=5,s=eae(e)+i;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener("transitionend",o),aS(n))};e.addEventListener("transitionend",o),setTimeout(()=>{r||tae(e)},s)},eae=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),s=Number.parseFloat(t);return!i&&!s?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*1e3)},tae=n=>{n.dispatchEvent(new Event("transitionend"))},Fv=Re({name:"CCloseButton",props:{disabled:Boolean,white:Boolean},emits:["click"],setup(n,{emit:e}){const t=()=>{n.disabled||e("click")};return()=>Je("button",{type:"button",class:["btn","btn-close",{"btn-close-white":n.white},n.disabled],"aria-label":"Close",disabled:n.disabled,onClick:t})}}),Ll={type:String,validator:n=>["primary","secondary","success","danger","warning","info","dark","light","link","transparent"].includes(n)},nae={type:String,validator:n=>["primary","secondary","success","danger","warning","info","dark","light","white","muted","high-emphasis","medium-emphasis","disabled","high-emphasis-inverse","medium-emphasis-inverse","disabled-inverse"].includes(n)},iae=Re({name:"CBackdrop",props:{visible:{type:Boolean,default:!1}},setup(n){return()=>Je(ys,{onEnter:e=>{e.classList.add("show")},onLeave:e=>{e.classList.remove("show")}},()=>n.visible&&Je("div",{class:"fade"}))}}),BO=Re({name:"CCard",props:{color:Ll,textColor:nae},setup(n,{slots:e}){return()=>Je("div",{class:["card",{[`bg-${n.color}`]:n.color,[`text-${n.textColor}`]:n.textColor}]},e.default&&e.default())}}),VO=Re({name:"CCardBody",setup(n,{slots:e}){return()=>Je("div",{class:"card-body"},e.default&&e.default())}}),sae=Re({name:"CLink",props:{active:Boolean,component:{type:String,default:"a"},disabled:Boolean,href:String},emits:["click"],setup(n,{slots:e,emit:t}){const i=()=>{t("click",n.href)};return()=>Je(n.component,{class:[{active:n.active,disabled:n.disabled}],...n.active&&{"aria-current":"page"},...n.component==="a"&&n.disabled&&{"aria-disabled":!0,tabIndex:-1},...(n.component==="a"||n.component==="button")&&{onClick:i},href:n.href},e.default&&e.default())}}),qp=Re({name:"CFormFeedback",props:{component:{type:String,default:"div"},invalid:Boolean,tooltip:Boolean,valid:Boolean},setup(n,{slots:e}){return()=>Je(n.component,{class:[{[`invalid-${n.tooltip?"tooltip":"feedback"}`]:n.invalid,[`valid-${n.tooltip?"tooltip":"feedback"}`]:n.valid}]},e.default&&e.default())}}),cS=Re({name:"CFormControlValidation",inheritAttrs:!1,props:{describedby:String,feedback:String,feedbackInvalid:String,feedbackValid:String,invalid:Boolean,tooltipFeedback:Boolean,valid:Boolean},setup(n,{slots:e}){return()=>[n.feedback&&(n.valid||n.invalid)&&Je(qp,{...n.invalid&&{id:n.describedby},invalid:n.invalid,tooltip:n.tooltipFeedback,valid:n.valid},{default:()=>e.feedback&&e.feedback()||n.feedback}),(n.feedbackInvalid||e.feedbackInvalid)&&Je(qp,{id:n.describedby,invalid:!0,tooltip:n.tooltipFeedback},{default:()=>e.feedbackInvalid&&e.feedbackInvalid()||n.feedbackInvalid}),(n.feedbackValid||e.feedbackValid)&&Je(qp,{tooltip:n.tooltipFeedback,valid:!0},{default:()=>e.feedbackValid&&e.feedbackValid()||n.feedbackValid})]}}),uS=Re({name:"CFormLabel",props:{customClassName:[Array,String]},setup(n,{slots:e}){return()=>Je("label",{class:n.customClassName??"form-label"},e.default&&e.default())}}),rae=Re({name:"CFormFloating",setup(n,{slots:e}){return()=>Je("div",{class:"form-floating"},e.default&&e.default())}}),dS=Re({name:"CFormText",props:{component:{type:String,default:"div"}},setup(n,{slots:e}){return()=>Je(n.component,{class:"form-text"},e.default&&e.default())}});Re({name:"CFormControlWrapper",inheritAttrs:!1,props:{...cS.props,floatingLabel:String,id:String,label:String,text:String},setup(n,{slots:e}){const t=()=>Je(cS,{describedby:n.describedby,feedback:n.feedback,feedbackInvalid:n.feedbackInvalid,feedbackValid:n.feedbackValid,floatingLabel:n.floatingLabel,invalid:n.invalid,tooltipFeedback:n.tooltipFeedback,valid:n.valid},{...e.feedback&&{feedback:()=>e.feedback&&e.feedback()},...e.feedbackInvalid&&{feedbackInvalid:()=>e.feedbackInvalid&&e.feedbackInvalid()},...e.feedbackValid&&{feedbackValid:()=>e.feedbackInvalid&&e.feedbackInvalid()}});return()=>n.floatingLabel?Je(rae,()=>[e.default&&e.default(),Je(uS,{for:n.id},{default:()=>e.label&&e.label()||n.label||n.floatingLabel}),(n.text||e.text)&&Je(dS,{id:n.describedby},{default:()=>e.text&&e.text()||n.text}),t()]):[(n.label||e.label)&&Je(uS,{for:n.id},{default:()=>e.label&&e.label()||n.label}),e.default&&e.default(),(n.text||e.text)&&Je(dS,{id:n.describedby},{default:()=>e.text&&e.text()||n.text}),t()]}});const oae=Re({name:"CModal",inheritAttrs:!1,props:{alignment:{default:"top",validator:n=>["top","center"].includes(n)},backdrop:{type:[Boolean,String],default:!0,validator:n=>typeof n=="string"?["static"].includes(n):typeof n=="boolean"},contentClassName:String,fullscreen:{type:[Boolean,String],validator:n=>typeof n=="string"?["sm","md","lg","xl","xxl"].includes(n):typeof n=="boolean"},keyboard:{type:Boolean,default:!0},scrollable:Boolean,size:{type:String,validator:n=>["sm","lg","xl"].includes(n)},transition:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},visible:Boolean},emits:["close","close-prevented","show"],setup(n,{slots:e,attrs:t,emit:i}){const s=se(),r=se(),o=se(n.visible);$e(()=>n.visible,()=>{o.value=n.visible});const a=(b,v)=>{lS(()=>v(),b),document.body.classList.add("modal-open"),document.body.style.overflow="hidden",document.body.style.paddingRight="0px",b.style.display="block",setTimeout(()=>{b.classList.add("show")},1),i("show")},l=()=>{window.addEventListener("mousedown",h),window.addEventListener("keyup",f)},c=(b,v)=>{lS(()=>v(),b),document.body.classList.remove("modal-open"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"),document.body.className===""&&document.body.removeAttribute("class"),b.classList.remove("show")},u=b=>{window.removeEventListener("mousedown",h),window.removeEventListener("keyup",f),b.style.display="none"},d=()=>{i("close"),o.value=!1},f=b=>{r.value&&!r.value.contains(b.target)&&(n.backdrop!=="static"&&b.key==="Escape"&&n.keyboard&&d(),n.backdrop==="static"&&(s.value.classList.add("modal-static"),i("close-prevented"),setTimeout(()=>{s.value.classList.remove("modal-static")},300)))},h=b=>{window.addEventListener("mouseup",()=>p(b),{once:!0})},p=b=>{r.value&&!r.value.contains(b.target)&&(n.backdrop!=="static"&&d(),n.backdrop==="static"&&(s.value.classList.add("modal-static"),setTimeout(()=>{s.value.classList.remove("modal-static")},300)))};Sn("handleDismiss",d);const m=()=>Je("div",{class:["modal",{fade:n.transition},t.class],ref:s},Je("div",{class:["modal-dialog",{"modal-dialog-centered":n.alignment==="center",[`modal-fullscreen-${n.fullscreen}-down`]:n.fullscreen&&typeof n.fullscreen=="string","modal-fullscreen":n.fullscreen&&typeof n.fullscreen=="boolean","modal-dialog-scrollable":n.scrollable,[`modal-${n.size}`]:n.size}],role:"dialog"},Je("div",{class:["modal-content",n.contentClassName],ref:r},e.default&&e.default())));return()=>[Je(ys,{css:!1,onEnter:(b,v)=>a(b,v),onAfterEnter:()=>l(),onLeave:(b,v)=>c(b,v),onAfterLeave:b=>u(b)},()=>n.unmountOnClose?o.value&&m():Wt(m(),[[li,o.value]])),n.backdrop&&Je(iae,{class:"modal-backdrop",visible:o.value})]}}),aae=Re({name:"CModalBody",setup(n,{slots:e}){return()=>Je("div",{class:"modal-body"},e.default&&e.default())}}),lae=Re({name:"CModalHeader",props:{closeButton:{type:Boolean,default:!0}},setup(n,{slots:e}){const t=st("handleDismiss");return()=>Je("span",{class:"modal-header"},[e.default&&e.default(),n.closeButton&&Je(Fv,{onClick:()=>t()},"")])}}),cae=Re({name:"CModalTitle",props:{component:{type:String,default:"h5"}},setup(n,{slots:e}){return()=>Je(n.component,{class:"modal-title"},e.default&&e.default())}}),fS=Re({name:"CNavLink",props:{active:Boolean,component:{type:String,default:"a"},disabled:Boolean,href:String},setup(n,{slots:e}){return()=>Je(sae,{class:"nav-link",active:n.active,component:n.component,disabled:n.disabled,href:n.href},{default:()=>e.default&&e.default()})}});Re({name:"CNavItem",props:{...fS.props},setup(n,{slots:e}){return()=>Je("li",{class:"nav-item"},n.href?Je(fS,{active:n.active,component:n.component,disabled:n.disabled,href:n.href},{default:()=>e.default&&e.default()}):e.default&&e.default())}});const hS=Re({name:"CProgressBar",props:{animated:Boolean,color:Ll,value:{type:Number,default:0},variant:{type:String,validator:n=>n==="striped"}},setup(n,{slots:e}){return()=>Je("div",{class:["progress-bar",`bg-${n.color}`,{[`progress-bar-${n.variant}`]:n.variant,"progress-bar-animated":n.animated}],role:"progressbar",style:`width: ${n.value}%`,"aria-valuenow":n.value,"aria-valuemin":"0","aria-valuemax":"100"},e.default&&e.default())}}),UO=Re({name:"CProgress",props:{height:Number,thin:Boolean,white:Boolean,...hS.props},setup(n,{slots:e}){return()=>Je("div",{class:["progress",{"progress-thin":n.thin,"progress-white":n.white}],...(n.height,{style:`height: ${n.height}px`})},n.value?Je(hS,{value:n.value,animated:n.animated,color:n.color,variant:n.variant},e.default&&e.default()):e.default&&e.default())}});Re({name:"CToastClose",props:{component:String,...Fv.props},emits:["close"],setup(n,{slots:e,emit:t}){const i=st("updateVisible"),s=()=>{t("close"),i(!1)};return()=>n.component?Je(n.component,{onClick:()=>{s()}},()=>e.default&&e.default()):Je(Fv,{...n,onClick:()=>{s()}})}});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function mS(n){return Object.prototype.toString.call(n)==="[object Object]"}function uae(n){var e,t;return mS(n)===!1?!1:(e=n.constructor,e===void 0?!0:(t=e.prototype,!(mS(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}function Kc(){return Kc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kc.apply(this,arguments)}function zO(n,e){if(n==null)return{};var t,i,s={},r=Object.keys(n);for(i=0;i<r.length;i++)e.indexOf(t=r[i])>=0||(s[t]=n[t]);return s}const dae={silent:!1,logLevel:"warn"},fae=["validator"],HO=Object.prototype,WO=HO.toString,hae=HO.hasOwnProperty,jO=/^\s*function (\w+)/;function pS(n){var e;const t=(e=n==null?void 0:n.type)!==null&&e!==void 0?e:n;if(t){const i=t.toString().match(jO);return i?i[1]:""}return""}const ma=uae,mae=n=>n;let wn=mae;const $l=(n,e)=>hae.call(n,e),pae=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},Bl=Array.isArray||function(n){return WO.call(n)==="[object Array]"},Vl=n=>WO.call(n)==="[object Function]",eh=(n,e)=>ma(n)&&$l(n,"_vueTypes_name")&&(!e||n._vueTypes_name===e),qO=n=>ma(n)&&($l(n,"type")||["_vueTypes_name","validator","default","required"].some(e=>$l(n,e)));function Gy(n,e){return Object.defineProperty(n.bind(e),"__original",{value:n})}function Pa(n,e,t=!1){let i,s=!0,r="";i=ma(n)?n:{type:n};const o=eh(i)?i._vueTypes_name+" - ":"";if(qO(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&e==null)return s;Bl(i.type)?(s=i.type.some(a=>Pa(a,e,!0)===!0),r=i.type.map(a=>pS(a)).join(" or ")):(r=pS(i),s=r==="Array"?Bl(e):r==="Object"?ma(e):r==="String"||r==="Number"||r==="Boolean"||r==="Function"?function(a){if(a==null)return"";const l=a.constructor.toString().match(jO);return l?l[1].replace(/^Async/,""):""}(e)===r:e instanceof i.type)}if(!s){const a=`${o}value "${e}" should be of type "${r}"`;return t===!1?(wn(a),!1):a}if($l(i,"validator")&&Vl(i.validator)){const a=wn,l=[];if(wn=c=>{l.push(c)},s=i.validator(e),wn=a,!s){const c=(l.length>1?"* ":"")+l.join(`
* `);return l.length=0,t===!1?(wn(c),s):c}}return s}function Ui(n,e){const t=Object.defineProperties(e,{_vueTypes_name:{value:n,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(s){return s===void 0?this.type===Boolean||Array.isArray(this.type)&&this.type.includes(Boolean)?void(this.default=void 0):($l(this,"default")&&delete this.default,this):Vl(s)||Pa(this,s,!0)===!0?(this.default=Bl(s)?()=>[...s]:ma(s)?()=>Object.assign({},s):s,this):(wn(`${this._vueTypes_name} - invalid default value: "${s}"`),this)}}}),{validator:i}=t;return Vl(i)&&(t.validator=Gy(i,t)),t}function Zs(n,e){const t=Ui(n,e);return Object.defineProperty(t,"validate",{value(i){return Vl(this.validator)&&wn(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=Gy(i,this),this}})}function gS(n,e,t){const i=function(l){const c={};return Object.getOwnPropertyNames(l).forEach(u=>{c[u]=Object.getOwnPropertyDescriptor(l,u)}),Object.defineProperties({},c)}(e);if(i._vueTypes_name=n,!ma(t))return i;const{validator:s}=t,r=zO(t,fae);if(Vl(s)){let{validator:l}=i;l&&(l=(a=(o=l).__original)!==null&&a!==void 0?a:o),i.validator=Gy(l?function(c){return l.call(this,c)&&s.call(this,c)}:s,i)}var o,a;return Object.assign(i,r)}function em(n){return n.replace(/^(?!\s*$)/gm,"  ")}const gae=()=>Zs("any",{}),vae=()=>Zs("function",{type:Function}),vS=()=>Zs("boolean",{type:Boolean}),bae=()=>Zs("string",{type:String}),yae=()=>Zs("number",{type:Number}),wae=()=>Zs("array",{type:Array}),_ae=()=>Zs("object",{type:Object}),Cae=()=>Ui("integer",{type:Number,validator(n){const e=pae(n);return e===!1&&wn(`integer - "${n}" is not an integer`),e}}),kae=()=>Ui("symbol",{validator(n){const e=typeof n=="symbol";return e===!1&&wn(`symbol - invalid value "${n}"`),e}}),Sae=()=>Object.defineProperty({type:null,validator(n){const e=n===null;return e===!1&&wn("nullable - value should be null"),e}},"_vueTypes_name",{value:"nullable"});function Eae(n,e="custom validation failed"){if(typeof n!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return Ui(n.name||"<<anonymous function>>",{type:null,validator(t){const i=n(t);return i||wn(`${this._vueTypes_name} - ${e}`),i}})}function Tae(n){if(!Bl(n))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const e=`oneOf - value should be one of "${n.map(i=>typeof i=="symbol"?i.toString():i).join('", "')}".`,t={validator(i){const s=n.indexOf(i)!==-1;return s||wn(e),s}};if(n.indexOf(null)===-1){const i=n.reduce((s,r)=>{if(r!=null){const o=r.constructor;s.indexOf(o)===-1&&s.push(o)}return s},[]);i.length>0&&(t.type=i)}return Ui("oneOf",t)}function Aae(n){if(!Bl(n))throw new TypeError("[VueTypes error]: You must provide an array as argument");let e=!1,t=!1,i=[];for(let r=0;r<n.length;r+=1){const o=n[r];if(qO(o)){if(Vl(o.validator)&&(e=!0),eh(o,"oneOf")&&o.type){i=i.concat(o.type);continue}if(eh(o,"nullable")){t=!0;continue}if(o.type===!0||!o.type){wn('oneOfType - invalid usage of "true" and "null" as types.');continue}i=i.concat(o.type)}else i.push(o)}i=i.filter((r,o)=>i.indexOf(r)===o);const s=t===!1&&i.length>0?i:null;return Ui("oneOfType",e?{type:s,validator(r){const o=[],a=n.some(l=>{const c=Pa(l,r,!0);return typeof c=="string"&&o.push(c),c===!0});return a||wn(`oneOfType - provided value does not match any of the ${o.length} passed-in validators:
${em(o.join(`
`))}`),a}}:{type:s})}function xae(n){return Ui("arrayOf",{type:Array,validator(e){let t="";const i=e.every(s=>(t=Pa(n,s,!0),t===!0));return i||wn(`arrayOf - value validation error:
${em(t)}`),i}})}function Pae(n){return Ui("instanceOf",{type:n})}function Iae(n){return Ui("objectOf",{type:Object,validator(e){let t="";const i=Object.keys(e).every(s=>(t=Pa(n,e[s],!0),t===!0));return i||wn(`objectOf - value validation error:
${em(t)}`),i}})}function Qy(n){const e=Object.keys(n),t=e.filter(s=>{var r;return!((r=n[s])===null||r===void 0||!r.required)}),i=Ui("shape",{type:Object,validator(s){if(!ma(s))return!1;const r=Object.keys(s);if(t.length>0&&t.some(o=>r.indexOf(o)===-1)){const o=t.filter(a=>r.indexOf(a)===-1);return wn(o.length===1?`shape - required property "${o[0]}" is not defined.`:`shape - required properties "${o.join('", "')}" are not defined.`),!1}return r.every(o=>{if(e.indexOf(o)===-1)return this._vueTypes_isLoose===!0||(wn(`shape - shape definition does not include a "${o}" property. Allowed keys: "${e.join('", "')}".`),!1);const a=Pa(n[o],s[o],!0);return typeof a=="string"&&wn(`shape - "${o}" property validation error:
 ${em(a)}`),a===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),i}const Oae=["name","validate","getter"],Rae=(()=>{var n;return(n=class{static get any(){return gae()}static get func(){return vae().def(this.defaults.func)}static get bool(){return this.defaults.bool===void 0?vS():vS().def(this.defaults.bool)}static get string(){return bae().def(this.defaults.string)}static get number(){return yae().def(this.defaults.number)}static get array(){return wae().def(this.defaults.array)}static get object(){return _ae().def(this.defaults.object)}static get integer(){return Cae().def(this.defaults.integer)}static get symbol(){return kae()}static get nullable(){return Sae()}static extend(e){if(wn("VueTypes.extend is deprecated. Use the ES6+ method instead. See https://dwightjack.github.io/vue-types/advanced/extending-vue-types.html#extending-namespaced-validators-in-es6 for details."),Bl(e))return e.forEach(l=>this.extend(l)),this;const{name:t,validate:i=!1,getter:s=!1}=e,r=zO(e,Oae);if($l(this,t))throw new TypeError(`[VueTypes error]: Type "${t}" already defined`);const{type:o}=r;if(eh(o))return delete r.type,Object.defineProperty(this,t,s?{get:()=>gS(t,o,r)}:{value(...l){const c=gS(t,o,r);return c.validator&&(c.validator=c.validator.bind(c,...l)),c}});let a;return a=s?{get(){const l=Object.assign({},r);return i?Zs(t,l):Ui(t,l)},enumerable:!0}:{value(...l){const c=Object.assign({},r);let u;return u=i?Zs(t,c):Ui(t,c),c.validator&&(u.validator=c.validator.bind(u,...l)),u},enumerable:!0},Object.defineProperty(this,t,a)}}).defaults={},n.sensibleDefaults=void 0,n.config=dae,n.custom=Eae,n.oneOf=Tae,n.instanceOf=Pae,n.oneOfType=Aae,n.arrayOf=xae,n.objectOf=Iae,n.shape=Qy,n.utils={validate:(e,t)=>Pa(t,e,!0)===!0,toType:(e,t,i=!1)=>i?Zs(e,t):Ui(e,t)},n})();function Mae(n={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var e;return(e=class extends Rae{static get sensibleDefaults(){return Kc({},this.defaults)}static set sensibleDefaults(t){this.defaults=t!==!1?Kc({},t!==!0?t:n):{}}}).defaults=Kc({},n),e}class Sce extends Mae(){}Re({name:"CWidgetStatsB",props:{color:Ll,inverse:Boolean,progress:Qy({color:Ll,value:{type:Number,default:0}}),text:String,title:String,value:{type:[Number,String],default:0}},setup(n,{slots:e}){return()=>Je(BO,{class:[{"text-high-emphasis-inverse":n.inverse}],color:n.color},()=>Je(VO,{class:"card-body"},()=>[(n.value||e.value)&&Je("div",{class:"fs-4 fw-semibold"},{default:()=>e.value&&e.value()||n.value}),(n.title||e.title)&&Je("div",{},{default:()=>e.title&&e.title()||n.title}),Je(UO,{class:"my-2",...n.progress&&n.progress.color&&{color:n.progress.color},height:4,...n.progress&&n.progress.value&&{value:n.progress.value},white:n.inverse}),(n.text||e.text)&&Je("small",{class:[n.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},{default:()=>e.text&&e.text()||n.text})]))}});Re({name:"CWidgetStatsC",props:{color:Ll,inverse:Boolean,progress:Qy({color:Ll,value:{type:Number,default:0}}),title:String,value:{type:[Number,String],default:0}},setup(n,{slots:e}){return()=>Je(BO,{class:[{"text-white":n.inverse}],color:n.color},()=>Je(VO,{class:"card-body"},()=>[e.icon&&Je("div",{class:["text-end mb-4",n.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},e.icon&&e.icon()),(n.value||e.value)&&Je("div",{class:"fs-4 fw-semibold"},{default:()=>e.value&&e.value()||n.value}),(n.title||e.title)&&Je("div",{class:["text-uppercase fw-semibold small",n.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},{default:()=>e.title&&e.title()||n.title}),Je(UO,{class:"my-2",...n.progress&&n.progress.color&&{color:n.progress.color},height:4,...n.progress&&n.progress.value&&{value:n.progress.value},white:n.inverse})]))}});const Dae={__name:"ModalAlert",props:{title:String,visible:Boolean},emits:["close"],setup(n,{emit:e}){const t=n;return(i,s)=>(H(),ze(g(oae),{alignment:"center",scrollable:"",visible:t.visible,onClose:s[0]||(s[0]=()=>{e("close",!0)})},{default:Te(()=>[me(g(lae),null,{default:Te(()=>[me(g(cae),null,{default:Te(()=>[fn(Oe(t.title),1)]),_:1})]),_:1}),me(g(aae),null,{default:Te(()=>[dt(i.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["visible"]))}},Fae=jh(Dae,[["__scopeId","data-v-34c39db0"]]);/*! Element Plus v2.3.9 */var Nae={name:"ru",el:{colorpicker:{confirm:"OK",clear:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"OK",selectDate:" ",selectTime:" ",startDate:" ",startTime:" ",endDate:" ",endTime:" ",prevYear:" ",nextYear:" ",prevMonth:" ",nextMonth:" ",year:"",month1:"",month2:"",month3:"",month4:"",month5:"",month6:"",month7:"",month8:"",month9:"",month10:"",month11:"",month12:"",week:"",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},select:{loading:"",noMatch:"  ",noData:" ",placeholder:""},cascader:{noMatch:"  ",loading:"",placeholder:"",noData:" "},pagination:{goto:"",pagesize:"  ",total:" {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages"},messagebox:{title:"",confirm:"OK",cancel:"",error:"  "},upload:{deleteTip:" []  ",delete:"",preview:"",continue:""},table:{emptyText:" ",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tree:{emptyText:" "},transfer:{noMatch:"  ",noData:" ",titles:[" 1"," 2"],filterPlaceholder:"  ",noCheckedFormat:"{total} ",hasCheckedFormat:"{checked}/{total} "},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"OK",cancelButtonText:""}}};function Nv(n){if(!n)return"";let e="",t={:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"c",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"E",:"Zh",:"Z",:"I",:"Y",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"H",:"C",:"Ch",:"Sh",:"Sch",:"",:"Y",:"",:"E",:"Yu",:"Ya"};for(let i=0;i<n.length;++i)t[n[i]]===void 0?e+=n[i]:e+=t[n[i]];return e.replace(/\s+/g,"-").toLowerCase()}const Co=n=>(jS("data-v-7820e24b"),n=n(),qS(),n),Lae={class:"meta-tags-block"},$ae={class:"meta-tags-block__left-column"},Bae={class:"keywords_row"},Vae=Co(()=>X("label",{for:"meta_keywords"},"Keywords",-1)),Uae={key:0,class:"form_error_text"},zae={class:"title_row"},Hae=Co(()=>X("label",{for:"meta_title"},"Title",-1)),Wae={class:"field-remain-symbols"},jae={key:0,class:"form_error_text"},qae={class:"description_row"},Kae=Co(()=>X("label",{for:"meta_description"},"Description",-1)),Gae={class:"field-remain-symbols"},Qae={key:0,class:"form_error_text"},Yae={class:"meta-tags-block__right-column"},Jae={class:"meta-result-buttons"},Xae={class:"buttons__device"},Zae=Co(()=>X("i",{class:"la la-mobile"},null,-1)),ele=[Zae],tle=Co(()=>X("i",{class:"la la-desktop"},null,-1)),nle=[tle],ile={class:"meta-result-field"},sle={key:0,class:"meta-result-field__icon"},rle=Co(()=>X("i",{class:"la la-globe"},null,-1)),ole=[rle],ale={key:1,class:"search_item_yandex"},lle={class:"search_item__title"},cle={class:"search_item__url"},ule={class:"search_item__description"},dle={key:2,class:"search_item_yandex"},fle={class:"search_item__title"},hle={class:"search_item__url"},mle={class:"search_item__description"},ple={key:3,class:"search_item_google"},gle={class:"search_item__url"},vle=Co(()=>X("i",{class:"la la-globe"},null,-1)),ble={class:"search_item__url_link"},yle={class:"search_item__title"},wle={class:"search_item__description"},_le={key:4,class:"search_item_google"},Cle={class:"search_item__url"},kle=Co(()=>X("div",null,[X("i",{class:"la la-globe"})],-1)),Sle={class:"search_item__url_link"},Ele={class:"search_item__url_host"},Tle={class:"search_item__url_full_path"},Ale={class:"search_item__title"},xle={class:"search_item__description"},Ple={__name:"MetaTagsBlock",props:{title:String,description:String,keywords:String,endpointForm:Object,slug:String,settings:Object},emits:["update:title","update:description","update:keywords"],setup(n,{emit:e}){const t=n,i=se(70),s=se(160),{t:r}=Vu({});function o(C,_){return!C||!_?"":C.length>_?C.slice(0,_-1)+"":C}const a=N(()=>o(t.description,s.value)),l=N(()=>o(t.title,i.value)),c=N(()=>Nv(t.slug)),u=N(()=>t.title?i.value-f.value.length:i),d=N(()=>t.description?s.value-h.value.length:s),f=se(t.title),h=se(t.description),p=se(t.keywords),m=se("desktop"),b=se("google");$e(f,()=>{e("update:title",f.value)}),$e(h,()=>{e("update:description",h.value)}),$e(p,()=>{e("update:keywords",p.value)});const v=C=>{m.value=C},w=C=>{b.value=C};return(C,_)=>{var E,S,I,R,q,W,z,L;const T=Us,k=Cl;return H(),le("section",Lae,[X("div",$ae,[X("div",Bae,[Vae,me(T,{modelValue:p.value,"onUpdate:modelValue":_[0]||(_[0]=J=>p.value=J),id:"meta_keywords"},null,8,["modelValue"]),(E=n.endpointForm)!=null&&E.errors.keywords?(H(),le("div",Uae,Oe(n.endpointForm.errors.keywords),1)):De("",!0)]),X("div",zae,[Hae,me(T,{modelValue:f.value,"onUpdate:modelValue":_[1]||(_[1]=J=>f.value=J),id:"meta_title"},null,8,["modelValue"]),X("div",Wae,[fn(Oe(g(r)("makeArticle.fields.symbols_remains"))+": ",1),X("span",{class:G(["field-remain-symbols__number",{"field-remain-symbols__number_error":u.value<0}])},Oe(u.value),3)]),(S=n.endpointForm)!=null&&S.errors.title?(H(),le("div",jae,Oe(n.endpointForm.errors.title),1)):De("",!0)]),X("div",qae,[Kae,me(T,{modelValue:h.value,"onUpdate:modelValue":_[2]||(_[2]=J=>h.value=J),type:"textarea",rows:4,id:"meta_description"},null,8,["modelValue"]),X("div",Gae,[fn(Oe(g(r)("makeArticle.fields.symbols_remains"))+": ",1),X("span",{class:G(["field-remain-symbols__number",{"field-remain-symbols__number_error":d.value<0}])},Oe(d.value),3)]),(I=n.endpointForm)!=null&&I.errors.description?(H(),le("div",Qae,Oe(n.endpointForm.errors.description),1)):De("",!0)])]),X("div",Yae,[X("div",Jae,[X("div",Xae,[X("div",{class:G(["buttons__device__phone",{"device-active-button":m.value==="phone"}]),onClick:_[3]||(_[3]=J=>v("phone"))},ele,2),X("div",{class:G(["buttons__device__desktop",{"device-active-button":m.value==="desktop"}]),onClick:_[4]||(_[4]=J=>v("desktop"))},nle,2)]),X("div",null,[me(k,{plain:"",type:b.value==="google"?"primary":"",onClick:_[5]||(_[5]=J=>w("google"))},{default:Te(()=>[fn("Google ")]),_:1},8,["type"]),me(k,{plain:"",type:b.value==="yandex"?"primary":"",onClick:_[6]||(_[6]=J=>w("yandex"))},{default:Te(()=>[fn("Yandex ")]),_:1},8,["type"])])]),X("div",ile,[m.value==="phone"&&b.value==="yandex"?(H(),le("div",sle,ole)):De("",!0),m.value==="phone"&&b.value==="yandex"?(H(),le("div",ale,[X("div",lle,Oe(l.value),1),X("div",cle,Oe((R=n.settings)==null?void 0:R.site_url)+" > "+Oe(c.value),1),X("div",ule,Oe(a.value),1)])):De("",!0),m.value==="desktop"&&b.value==="yandex"?(H(),le("div",dle,[X("div",fle,Oe(l.value),1),X("div",hle,Oe((q=n.settings)==null?void 0:q.site_url)+" > "+Oe(c.value),1),X("div",mle,Oe(a.value),1)])):De("",!0),m.value==="phone"&&b.value==="google"?(H(),le("div",ple,[X("div",gle,[vle,X("span",ble,Oe((W=n.settings)==null?void 0:W.site_url)+" > "+Oe(c.value),1)]),X("div",yle,Oe(l.value),1),X("div",wle,Oe(a.value),1)])):De("",!0),m.value==="desktop"&&b.value==="google"?(H(),le("div",_le,[X("div",Cle,[kle,X("div",Sle,[X("div",Ele,Oe((z=n.settings)==null?void 0:z.site_url),1),X("span",Tle,Oe((L=n.settings)==null?void 0:L.site_url)+" > "+Oe(c.value),1)])]),X("div",Ale,Oe(l.value),1),X("div",xle,Oe(a.value),1)])):De("",!0)])])])}}},Ile=jh(Ple,[["__scopeId","data-v-7820e24b"]]),Ole={class:"article-breadcrumb"},Rle={href:"/"},Mle=["href"],Dle=["href"],Fle={class:"article_name"},Nle={for:"article_name"},Lle={key:0,class:"form_error_text"},$le={class:"form_small_fields_block"},Ble={class:"article_category"},Vle={for:"article_category"},Ule={key:0,class:"form_error_text"},zle={class:"article_tags"},Hle={for:"article_tags"},Wle={key:0,class:"form_error_text"},jle={class:"article_author"},qle={for:"article_author"},Kle={key:0,class:"form_error_text"},Gle={class:"article_publish_date"},Qle={for:"article_publish_date"},Yle={key:0,class:"form_error_text"},Jle={class:"article_published"},Xle={class:"article_content"},Zle={key:0,class:"form_error_text"},ece={__name:"MakeArticle",props:{article:Object},setup(n){var b,v,w,C,_,T,k,E,S,I,R;const e=n,{t,locale:i}=Vu();function s(q){let W=[];function z(L){L&&(W.push(L),L.parents&&z(L.parents))}return z(q),W.reverse()}const r=N(()=>{var q;return s((q=e.article)==null?void 0:q.category_parents_tree)}),o=se(Nae),{data:a}=Kd({queryKey:["settings"],queryFn:async()=>(await fetch("/admin/settings-info",{method:"GET"})).json()}),{data:l}=Kd({queryKey:["categories"],queryFn:async()=>(await fetch("/api/categories",{method:"POST"})).json()}),{data:c}=Kd({queryKey:["tags"],queryFn:async()=>(await fetch("/api/tags",{method:"POST"})).json()}),{data:u}=Kd({queryKey:["authors"],queryFn:async()=>(await fetch("/api/authors",{method:"POST"})).json()}),d=se(!1),f=xO({name:(b=e.article)==null?void 0:b.name,category_id:(v=e.article)==null?void 0:v.category_id,tags:(w=e.article)==null?void 0:w.tags_ids,content_markdown:(C=e.article)==null?void 0:C.content_markdown,author_id:(_=e.article)==null?void 0:_.author_id,publish_date:(T=e.article)==null?void 0:T.publish_date,published:((k=e.article)==null?void 0:k.published)??!0,title:(E=e.article)==null?void 0:E.title,description:(S=e.article)==null?void 0:S.description,keywords:(I=e.article)==null?void 0:I.keywords,slug:Nv((R=e.article)==null?void 0:R.name)});$e(()=>f.name,()=>{f.slug=Nv(f.name)});function h(){var W;let q="/admin/article/store";e.article&&(q=`/admin/article/${(W=e.article)==null?void 0:W.id}/update`),f.post(q,{onSuccess:()=>{d.value=!0}})}function p(q){f.content_markdown=q}function m(){window.location.href="/admin/article"}return $e(a,()=>{i.value=a.value.lang}),(q,W)=>{const z=M7,L=R7,J=Us,ne=Iz,M=Pz,Q=dz,U=KU,Y=Cl,pe=q8;return H(),ze(pe,{locale:o.value},{default:Te(()=>[X("nav",Ole,[me(L,{separator:"/"},{default:Te(()=>{var O;return[me(z,null,{default:Te(()=>[X("a",Rle,Oe(q.$t("makeArticle.fields.main_page")),1)]),_:1}),(H(!0),le(Ze,null,dn(r.value,F=>(H(),ze(z,null,{default:Te(()=>[X("a",{href:`/admin/category/${F.id}/show`},Oe(F.name),9,Mle)]),_:2},1024))),256)),(O=n.article)!=null&&O.category.id?(H(),ze(z,{key:0},{default:Te(()=>{var F,ce;return[X("a",{href:`/admin/category/${(F=n.article)==null?void 0:F.category.id}/show`},Oe((ce=n.article)==null?void 0:ce.category.name),9,Dle)]}),_:1})):De("",!0),me(z,null,{default:Te(()=>[fn(Oe(g(f).name),1)]),_:1})]}),_:1})]),me(Ile,{title:g(f).title,"onUpdate:title":W[0]||(W[0]=O=>g(f).title=O),description:g(f).description,"onUpdate:description":W[1]||(W[1]=O=>g(f).description=O),keywords:g(f).keywords,"onUpdate:keywords":W[2]||(W[2]=O=>g(f).keywords=O),endpointForm:g(f),slug:g(f).name,settings:g(a)},null,8,["title","description","keywords","endpointForm","slug","settings"]),me(Fae,{visible:d.value,title:"",onClose:m},{default:Te(()=>[fn("    ")]),_:1},8,["visible"]),X("form",null,[X("div",Fle,[X("label",Nle,Oe(q.$t("makeArticle.fields.title")),1),me(J,{modelValue:g(f).name,"onUpdate:modelValue":W[3]||(W[3]=O=>g(f).name=O),size:"large",placeholder:" ",id:"article_name"},null,8,["modelValue"]),g(f).errors.name?(H(),le("div",Lle,Oe(g(f).errors.name),1)):De("",!0)]),X("div",$le,[X("div",Ble,[X("label",Vle,Oe(q.$t("makeArticle.fields.category")),1),X("div",null,[me(M,{modelValue:g(f).category_id,"onUpdate:modelValue":W[4]||(W[4]=O=>g(f).category_id=O),filterable:"",placeholder:"Select",size:"large",id:"article_category"},{default:Te(()=>[(H(!0),le(Ze,null,dn(g(l),O=>(H(),ze(ne,{key:O.id,label:O.name,value:O.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(f).errors.category_id?(H(),le("div",Ule,Oe(g(f).errors.category_id),1)):De("",!0)]),X("div",zle,[X("label",Hle,Oe(q.$t("makeArticle.fields.tags")),1),X("div",null,[me(M,{modelValue:g(f).tags,"onUpdate:modelValue":W[5]||(W[5]=O=>g(f).tags=O),filterable:"",multiple:"",placeholder:"Select",size:"large",id:"article_tags"},{default:Te(()=>[(H(!0),le(Ze,null,dn(g(c),O=>(H(),ze(ne,{key:O.id,label:O.name,value:O.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(f).errors.tags?(H(),le("div",Wle,Oe(g(f).errors.tags),1)):De("",!0)]),X("div",jle,[X("label",qle,Oe(q.$t("makeArticle.fields.author")),1),X("div",null,[me(M,{modelValue:g(f).author_id,"onUpdate:modelValue":W[6]||(W[6]=O=>g(f).author_id=O),filterable:"",placeholder:"Select",size:"large",id:"article_author"},{default:Te(()=>[(H(!0),le(Ze,null,dn(g(u),O=>(H(),ze(ne,{key:O.id,label:O.name,value:O.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(f).errors.author_id?(H(),le("div",Kle,Oe(g(f).errors.author_id),1)):De("",!0)]),X("div",Gle,[X("label",Qle,Oe(q.$t("makeArticle.fields.publish_date")),1),X("div",null,[me(Q,{size:"large",modelValue:g(f).publish_date,"onUpdate:modelValue":W[7]||(W[7]=O=>g(f).publish_date=O),type:"datetime",placeholder:" ",format:"DD/MM/YYYY HH:mm:ss","value-format":"YYYY/MM/DD HH:mm:ss",id:"article_publish_date"},null,8,["modelValue"])]),g(f).errors.publish_date?(H(),le("div",Yle,Oe(g(f).errors.publish_date),1)):De("",!0)])]),X("div",Jle,[me(U,{modelValue:g(f).published,"onUpdate:modelValue":W[8]||(W[8]=O=>g(f).published=O),size:"large"},{default:Te(()=>[fn(Oe(q.$t("makeArticle.fields.published")),1)]),_:1},8,["modelValue"])]),X("div",Xle,[me(Pne,{onContent:p,content:g(f).content_markdown},null,8,["content"]),g(f).errors.content_markdown?(H(),le("div",Zle,Oe(g(f).errors.content_markdown),1)):De("",!0)]),me(Y,{onClick:h,color:"#626aef"},{default:Te(()=>[fn(Oe(q.$t("makeArticle.fields.save")),1)]),_:1})])]),_:1},8,["locale"])}}},tce=jh(ece,[["__scopeId","data-v-c0247a22"]]),nce=Object.freeze(Object.defineProperty({__proto__:null,default:tce},Symbol.toStringTag,{value:"Module"})),ice={makeArticle:{validation:{},fields:{symbols_remains:" ",title:"",category:"",author:"",publish_date:" ",tags:"",published:"",save:"",main_page:""}}},sce={makeArticle:{validation:{},fields:{symbols_remains:"Symbols remains",title:"Title",category:"Category",author:"Author",publish_date:"Publish date",tags:"Tags",published:"Published",save:"Save",main_page:"Main"}}},rce={ru:{...ice},en:{...sce}},oce=DH({legacy:!1,locale:"en",fallbackLocale:"ru ",globalInjection:!0,messages:rce});xoe({resolve:n=>Object.assign({"./Pages/MakeArticle.vue":nce})[`./Pages/${n}.vue`],setup({el:n,App:e,props:t,plugin:i}){XE({render:()=>Je(e,t)}).use(i).use(Joe).use(oce).mount(n)}})});export default ace();
