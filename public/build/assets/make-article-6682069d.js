var d3=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ive=d3((Xr,Zr)=>{const Ts=(t,e,{checkForDefaultPrevented:n=!0}={})=>i=>{const s=t==null?void 0:t(i);if(n===!1||!s)return e==null?void 0:e(i)};function dm(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Vt={},Ml=[],gr=()=>{},f3=()=>!1,h3=/^on[^a-z]/,gd=t=>h3.test(t),C0=t=>t.startsWith("onUpdate:"),tn=Object.assign,k0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},m3=Object.prototype.hasOwnProperty,At=(t,e)=>m3.call(t,e),Oe=Array.isArray,Dl=t=>yc(t)==="[object Map]",Va=t=>yc(t)==="[object Set]",yh=t=>yc(t)==="[object Date]",p3=t=>yc(t)==="[object RegExp]",Ge=t=>typeof t=="function",Ot=t=>typeof t=="string",Iu=t=>typeof t=="symbol",_t=t=>t!==null&&typeof t=="object",S0=t=>_t(t)&&Ge(t.then)&&Ge(t.catch),JE=Object.prototype.toString,yc=t=>JE.call(t),Jf=t=>yc(t).slice(8,-1),XE=t=>yc(t)==="[object Object]",E0=t=>Ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,au=dm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},g3=/-(\w)/g,Sr=fm(t=>t.replace(g3,(e,n)=>n?n.toUpperCase():"")),v3=/\B([A-Z])/g,hi=fm(t=>t.replace(v3,"-$1").toLowerCase()),vd=fm(t=>t.charAt(0).toUpperCase()+t.slice(1)),lu=fm(t=>t?`on${vd(t)}`:""),Ul=(t,e)=>!Object.is(t,e),Nl=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},wh=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},_h=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ch=t=>{const e=Ot(t)?Number(t):NaN;return isNaN(e)?t:e};let Xw;const pv=()=>Xw||(Xw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),b3="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",y3=dm(b3);function vn(t){if(Oe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ot(r)?k3(r):vn(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Ot(t))return t;if(_t(t))return t}}const w3=/;(?![^(]*\))/g,_3=/:([^]+)/,C3=/\/\*[^]*?\*\//g;function k3(t){const e={};return t.replace(C3,"").split(w3).forEach(n=>{if(n){const r=n.split(_3);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function X(t){let e="";if(Ot(t))e=t;else if(Oe(t))for(let n=0;n<t.length;n++){const r=X(t[n]);r&&(e+=r+" ")}else if(_t(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function S3(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ot(e)&&(t.class=X(e)),n&&(t.style=vn(n)),t}const E3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",T3=dm(E3);function ZE(t){return!!t||t===""}function A3(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=So(t[r],e[r]);return n}function So(t,e){if(t===e)return!0;let n=yh(t),r=yh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Iu(t),r=Iu(e),n||r)return t===e;if(n=Oe(t),r=Oe(e),n||r)return n&&r?A3(t,e):!1;if(n=_t(t),r=_t(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!So(t[o],e[o]))return!1}}return String(t)===String(e)}function hm(t,e){return t.findIndex(n=>So(n,e))}const Ae=t=>Ot(t)?t:t==null?"":Oe(t)||_t(t)&&(t.toString===JE||!Ge(t.toString))?JSON.stringify(t,eT,2):String(t),eT=(t,e)=>e&&e.__v_isRef?eT(t,e.value):Dl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Va(e)?{[`Set(${e.size})`]:[...e.values()]}:_t(e)&&!Oe(e)&&!XE(e)?String(e):e;let Kr;class T0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Kr,!e&&Kr&&(this.index=(Kr.scopes||(Kr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Kr;try{return Kr=this,e()}finally{Kr=n}}}on(){Kr=this}off(){Kr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function tT(t){return new T0(t)}function nT(t,e=Kr){e&&e.active&&e.effects.push(t)}function A0(){return Kr}function x0(t){Kr&&Kr.cleanups.push(t)}const P0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},rT=t=>(t.w&Eo)>0,iT=t=>(t.n&Eo)>0,x3=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Eo},P3=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];rT(i)&&!iT(i)?i.delete(t):e[n++]=i,i.w&=~Eo,i.n&=~Eo}e.length=n}},kh=new WeakMap;let tu=0,Eo=1;const gv=30;let Oi;const fa=Symbol(""),vv=Symbol("");class bd{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,nT(this,r)}run(){if(!this.active)return this.fn();let e=Oi,n=wo;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Oi,Oi=this,wo=!0,Eo=1<<++tu,tu<=gv?x3(this):Zw(this),this.fn()}finally{tu<=gv&&P3(this),Eo=1<<--tu,Oi=this.parent,wo=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Oi===this?this.deferStop=!0:this.active&&(Zw(this),this.onStop&&this.onStop(),this.active=!1)}}function Zw(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function I3(t,e){t.effect&&(t=t.effect.fn);const n=new bd(t);e&&(tn(n,e),e.scope&&nT(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function O3(t){t.effect.stop()}let wo=!0;const sT=[];function wc(){sT.push(wo),wo=!1}function _c(){const t=sT.pop();wo=t===void 0?!0:t}function Vr(t,e,n){if(wo&&Oi){let r=kh.get(t);r||kh.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=P0()),oT(i)}}function oT(t,e){let n=!1;tu<=gv?iT(t)||(t.n|=Eo,n=!rT(t)):n=!t.has(Oi),n&&(t.add(Oi),Oi.deps.push(t))}function Fs(t,e,n,r,i,s){const o=kh.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Oe(t)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Oe(t)?E0(n)&&a.push(o.get("length")):(a.push(o.get(fa)),Dl(t)&&a.push(o.get(vv)));break;case"delete":Oe(t)||(a.push(o.get(fa)),Dl(t)&&a.push(o.get(vv)));break;case"set":Dl(t)&&a.push(o.get(fa));break}if(a.length===1)a[0]&&bv(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);bv(P0(l))}}function bv(t,e){const n=Oe(t)?t:[...t];for(const r of n)r.computed&&e_(r);for(const r of n)r.computed||e_(r)}function e_(t,e){(t!==Oi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function R3(t,e){var n;return(n=kh.get(t))==null?void 0:n.get(e)}const M3=dm("__proto__,__v_isRef,__isVue"),aT=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Iu)),D3=mm(),N3=mm(!1,!0),F3=mm(!0),L3=mm(!0,!0),t_=$3();function $3(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=gt(this);for(let s=0,o=this.length;s<o;s++)Vr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(gt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){wc();const r=gt(this)[e].apply(this,n);return _c(),r}}),t}function B3(t){const e=gt(this);return Vr(e,"has",t),e.hasOwnProperty(t)}function mm(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?mT:hT:e?fT:dT).get(r))return r;const o=Oe(r);if(!t){if(o&&At(t_,i))return Reflect.get(t_,i,s);if(i==="hasOwnProperty")return B3}const a=Reflect.get(r,i,s);return(Iu(i)?aT.has(i):M3(i))||(t||Vr(r,"get",i),e)?a:Gt(a)?o&&E0(i)?a:a.value:_t(a)?t?yd(a):zr(a):a}}const V3=lT(),z3=lT(!0);function lT(t=!1){return function(n,r,i,s){let o=n[r];if(Ta(o)&&Gt(o)&&!Gt(i))return!1;if(!t&&(!Ou(i)&&!Ta(i)&&(o=gt(o),i=gt(i)),!Oe(n)&&Gt(o)&&!Gt(i)))return o.value=i,!0;const a=Oe(n)&&E0(r)?Number(r)<n.length:At(n,r),l=Reflect.set(n,r,i,s);return n===gt(s)&&(a?Ul(i,o)&&Fs(n,"set",r,i):Fs(n,"add",r,i)),l}}function U3(t,e){const n=At(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Fs(t,"delete",e,void 0),r}function H3(t,e){const n=Reflect.has(t,e);return(!Iu(e)||!aT.has(e))&&Vr(t,"has",e),n}function j3(t){return Vr(t,"iterate",Oe(t)?"length":fa),Reflect.ownKeys(t)}const cT={get:D3,set:V3,deleteProperty:U3,has:H3,ownKeys:j3},uT={get:F3,set(t,e){return!0},deleteProperty(t,e){return!0}},W3=tn({},cT,{get:N3,set:z3}),q3=tn({},uT,{get:L3}),I0=t=>t,pm=t=>Reflect.getPrototypeOf(t);function Xd(t,e,n=!1,r=!1){t=t.__v_raw;const i=gt(t),s=gt(e);n||(e!==s&&Vr(i,"get",e),Vr(i,"get",s));const{has:o}=pm(i),a=r?I0:n?R0:Mu;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Zd(t,e=!1){const n=this.__v_raw,r=gt(n),i=gt(t);return e||(t!==i&&Vr(r,"has",t),Vr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ef(t,e=!1){return t=t.__v_raw,!e&&Vr(gt(t),"iterate",fa),Reflect.get(t,"size",t)}function n_(t){t=gt(t);const e=gt(this);return pm(e).has.call(e,t)||(e.add(t),Fs(e,"add",t,t)),this}function r_(t,e){e=gt(e);const n=gt(this),{has:r,get:i}=pm(n);let s=r.call(n,t);s||(t=gt(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Ul(e,o)&&Fs(n,"set",t,e):Fs(n,"add",t,e),this}function i_(t){const e=gt(this),{has:n,get:r}=pm(e);let i=n.call(e,t);i||(t=gt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Fs(e,"delete",t,void 0),s}function s_(){const t=gt(this),e=t.size!==0,n=t.clear();return e&&Fs(t,"clear",void 0,void 0),n}function tf(t,e){return function(r,i){const s=this,o=s.__v_raw,a=gt(o),l=e?I0:t?R0:Mu;return!t&&Vr(a,"iterate",fa),o.forEach((c,u)=>r.call(i,l(c),l(u),s))}}function nf(t,e,n){return function(...r){const i=this.__v_raw,s=gt(i),o=Dl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?I0:e?R0:Mu;return!e&&Vr(s,"iterate",l?vv:fa),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Zs(t){return function(...e){return t==="delete"?!1:this}}function K3(){const t={get(s){return Xd(this,s)},get size(){return ef(this)},has:Zd,add:n_,set:r_,delete:i_,clear:s_,forEach:tf(!1,!1)},e={get(s){return Xd(this,s,!1,!0)},get size(){return ef(this)},has:Zd,add:n_,set:r_,delete:i_,clear:s_,forEach:tf(!1,!0)},n={get(s){return Xd(this,s,!0)},get size(){return ef(this,!0)},has(s){return Zd.call(this,s,!0)},add:Zs("add"),set:Zs("set"),delete:Zs("delete"),clear:Zs("clear"),forEach:tf(!0,!1)},r={get(s){return Xd(this,s,!0,!0)},get size(){return ef(this,!0)},has(s){return Zd.call(this,s,!0)},add:Zs("add"),set:Zs("set"),delete:Zs("delete"),clear:Zs("clear"),forEach:tf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=nf(s,!1,!1),n[s]=nf(s,!0,!1),e[s]=nf(s,!1,!0),r[s]=nf(s,!0,!0)}),[t,n,e,r]}const[G3,Y3,Q3,J3]=K3();function gm(t,e){const n=e?t?J3:Q3:t?Y3:G3;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(At(n,i)&&i in r?n:r,i,s)}const X3={get:gm(!1,!1)},Z3={get:gm(!1,!0)},eM={get:gm(!0,!1)},tM={get:gm(!0,!0)},dT=new WeakMap,fT=new WeakMap,hT=new WeakMap,mT=new WeakMap;function nM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rM(t){return t.__v_skip||!Object.isExtensible(t)?0:nM(Jf(t))}function zr(t){return Ta(t)?t:vm(t,!1,cT,X3,dT)}function pT(t){return vm(t,!1,W3,Z3,fT)}function yd(t){return vm(t,!0,uT,eM,hT)}function iM(t){return vm(t,!0,q3,tM,mT)}function vm(t,e,n,r,i){if(!_t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=rM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function ha(t){return Ta(t)?ha(t.__v_raw):!!(t&&t.__v_isReactive)}function Ta(t){return!!(t&&t.__v_isReadonly)}function Ou(t){return!!(t&&t.__v_isShallow)}function O0(t){return ha(t)||Ta(t)}function gt(t){const e=t&&t.__v_raw;return e?gt(e):t}function Ru(t){return wh(t,"__v_skip",!0),t}const Mu=t=>_t(t)?zr(t):t,R0=t=>_t(t)?yd(t):t;function M0(t){wo&&Oi&&(t=gt(t),oT(t.dep||(t.dep=P0())))}function bm(t,e){t=gt(t);const n=t.dep;n&&bv(n)}function Gt(t){return!!(t&&t.__v_isRef===!0)}function ie(t){return gT(t,!1)}function Rs(t){return gT(t,!0)}function gT(t,e){return Gt(t)?t:new sM(t,e)}class sM{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:gt(e),this._value=n?e:Mu(e)}get value(){return M0(this),this._value}set value(e){const n=this.__v_isShallow||Ou(e)||Ta(e);e=n?e:gt(e),Ul(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Mu(e),bm(this))}}function bl(t){bm(t)}function g(t){return Gt(t)?t.value:t}function oM(t){return Ge(t)?t():g(t)}const aM={get:(t,e,n)=>g(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Gt(i)&&!Gt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function D0(t){return ha(t)?t:new Proxy(t,aM)}class lM{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>M0(this),()=>bm(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function cM(t){return new lM(t)}function Cc(t){const e=Oe(t)?new Array(t.length):{};for(const n in t)e[n]=vT(t,n);return e}class uM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return R3(gt(this._object),this._key)}}class dM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Wn(t,e,n){return Gt(t)?t:Ge(t)?new dM(t):_t(t)&&arguments.length>1?vT(t,e,n):ie(t)}function vT(t,e,n){const r=t[e];return Gt(r)?r:new uM(t,e,n)}class fM{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new bd(e,()=>{this._dirty||(this._dirty=!0,bm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=gt(this);return M0(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function hM(t,e,n=!1){let r,i;const s=Ge(t);return s?(r=t,i=gr):(r=t.get,i=t.set),new fM(r,i,s||!i,n)}function bT(t,...e){}function mM(t,e){}function Ms(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){za(s,e,n)}return i}function ei(t,e,n,r){if(Ge(t)){const s=Ms(t,e,n,r);return s&&S0(s)&&s.catch(o=>{za(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(ei(t[s],e,n,r));return i}function za(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Ms(l,null,10,[t,o,a]);return}}pM(t,n,i,r)}function pM(t,e,n,r=!0){console.error(t)}let Du=!1,yv=!1;const mr=[];let ts=0;const Fl=[];let As=null,ra=0;const yT=Promise.resolve();let N0=null;function mt(t){const e=N0||yT;return t?e.then(this?t.bind(this):t):e}function gM(t){let e=ts+1,n=mr.length;for(;e<n;){const r=e+n>>>1;Nu(mr[r])<t?e=r+1:n=r}return e}function ym(t){(!mr.length||!mr.includes(t,Du&&t.allowRecurse?ts+1:ts))&&(t.id==null?mr.push(t):mr.splice(gM(t.id),0,t),wT())}function wT(){!Du&&!yv&&(yv=!0,N0=yT.then(_T))}function vM(t){const e=mr.indexOf(t);e>ts&&mr.splice(e,1)}function F0(t){Oe(t)?Fl.push(...t):(!As||!As.includes(t,t.allowRecurse?ra+1:ra))&&Fl.push(t),wT()}function o_(t,e=Du?ts+1:0){for(;e<mr.length;e++){const n=mr[e];n&&n.pre&&(mr.splice(e,1),e--,n())}}function Sh(t){if(Fl.length){const e=[...new Set(Fl)];if(Fl.length=0,As){As.push(...e);return}for(As=e,As.sort((n,r)=>Nu(n)-Nu(r)),ra=0;ra<As.length;ra++)As[ra]();As=null,ra=0}}const Nu=t=>t.id==null?1/0:t.id,bM=(t,e)=>{const n=Nu(t)-Nu(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function _T(t){yv=!1,Du=!0,mr.sort(bM);const e=gr;try{for(ts=0;ts<mr.length;ts++){const n=mr[ts];n&&n.active!==!1&&Ms(n,null,14)}}finally{ts=0,mr.length=0,Sh(),Du=!1,N0=null,(mr.length||Fl.length)&&_T()}}let yl,rf=[];function CT(t,e){var n,r;yl=t,yl?(yl.enabled=!0,rf.forEach(({event:i,args:s})=>yl.emit(i,...s)),rf=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{CT(s,e)}),setTimeout(()=>{yl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,rf=[])},3e3)):rf=[]}function yM(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Vt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[u]||Vt;f&&(i=n.map(h=>Ot(h)?h.trim():h)),d&&(i=n.map(_h))}let a,l=r[a=lu(e)]||r[a=lu(Sr(e))];!l&&s&&(l=r[a=lu(hi(e))]),l&&ei(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ei(c,t,6,i)}}function kT(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ge(t)){const l=c=>{const u=kT(c,e,!0);u&&(a=!0,tn(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(_t(t)&&r.set(t,null),null):(Oe(s)?s.forEach(l=>o[l]=null):tn(o,s),_t(t)&&r.set(t,o),o)}function wm(t,e){return!t||!gd(e)?!1:(e=e.slice(2).replace(/Once$/,""),At(t,e[0].toLowerCase()+e.slice(1))||At(t,hi(e))||At(t,e))}let qn=null,_m=null;function Fu(t){const e=qn;return qn=t,_m=t&&t.type.__scopeId||null,e}function L0(t){_m=t}function $0(){_m=null}const wM=t=>Ee;function Ee(t,e=qn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Tv(-1);const s=Fu(e);let o;try{o=t(...i)}finally{Fu(s),r._d&&Tv(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Xf(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:m,inheritAttrs:p}=t;let y,v;const b=Fu(t);try{if(n.shapeFlag&4){const _=i||r;y=Gr(u.call(_,_,d,s,h,f,m)),v=l}else{const _=e;y=Gr(_.length>1?_(s,{attrs:l,slots:a,emit:c}):_(s,null)),v=e.props?l:CM(l)}}catch(_){du.length=0,za(_,t,1),y=oe(rr)}let T=y;if(v&&p!==!1){const _=Object.keys(v),{shapeFlag:E}=T;_.length&&E&7&&(o&&_.some(C0)&&(v=kM(v,o)),T=$i(T,v))}return n.dirs&&(T=$i(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),y=T,Fu(b),y}function _M(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(To(r)){if(r.type!==rr||r.children==="v-if"){if(e)return;e=r}}else return}return e}const CM=t=>{let e;for(const n in t)(n==="class"||n==="style"||gd(n))&&((e||(e={}))[n]=t[n]);return e},kM=(t,e)=>{const n={};for(const r in t)(!C0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function SM(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?a_(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!wm(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?a_(r,o,c):!0:!!o;return!1}function a_(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!wm(n,s))return!0}return!1}function B0({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const ST=t=>t.__isSuspense,EM={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,c){t==null?AM(e,n,r,i,s,o,a,l,c):xM(t,e,n,r,i,o,a,l,c)},hydrate:PM,create:V0,normalize:IM},TM=EM;function Lu(t,e){const n=t.props&&t.props[e];Ge(n)&&n()}function AM(t,e,n,r,i,s,o,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=t.suspense=V0(t,i,r,e,d,n,s,o,a,l);c(null,f.pendingBranch=t.ssContent,d,null,r,f,s,o),f.deps>0?(Lu(t,"onPending"),Lu(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,s,o),Ll(f,t.ssFallback)):f.resolve(!1,!0)}function xM(t,e,n,r,i,s,o,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:m,pendingBranch:p,isInFallback:y,isHydrating:v}=d;if(p)d.pendingBranch=f,Ri(f,p)?(l(p,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():y&&(l(m,h,n,r,i,null,s,o,a),Ll(d,h))):(d.pendingId++,v?(d.isHydrating=!1,d.activeBranch=p):c(p,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),y?(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(m,h,n,r,i,null,s,o,a),Ll(d,h))):m&&Ri(f,m)?(l(m,f,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(m&&Ri(f,m))l(m,f,n,r,i,d,s,o,a),Ll(d,f);else if(Lu(e,"onPending"),d.pendingBranch=f,d.pendingId++,l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:T}=d;b>0?setTimeout(()=>{d.pendingId===T&&d.fallback(h)},b):b===0&&d.fallback(h)}}function V0(t,e,n,r,i,s,o,a,l,c,u=!1){const{p:d,m:f,um:h,n:m,o:{parentNode:p,remove:y}}=c;let v;const b=OM(t);b&&e!=null&&e.pendingBranch&&(v=e.pendingId,e.deps++);const T=t.props?Ch(t.props.timeout):void 0,_={vnode:t,parent:e,parentComponent:n,isSVG:o,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(E=!1,C=!1){const{vnode:k,activeBranch:S,pendingBranch:O,pendingId:D,effects:te,parentComponent:Q,container:q}=_;if(_.isHydrating)_.isHydrating=!1;else if(!E){const N=S&&O.transition&&O.transition.mode==="out-in";N&&(S.transition.afterLeave=()=>{D===_.pendingId&&f(O,q,M,0)});let{anchor:M}=_;S&&(M=m(S),h(S,Q,_,!0)),N||f(O,q,M,0)}Ll(_,O),_.pendingBranch=null,_.isInFallback=!1;let L=_.parent,G=!1;for(;L;){if(L.pendingBranch){L.effects.push(...te),G=!0;break}L=L.parent}G||F0(te),_.effects=[],b&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!C&&e.resolve()),Lu(k,"onResolve")},fallback(E){if(!_.pendingBranch)return;const{vnode:C,activeBranch:k,parentComponent:S,container:O,isSVG:D}=_;Lu(C,"onFallback");const te=m(k),Q=()=>{_.isInFallback&&(d(null,E,O,te,S,null,D,a,l),Ll(_,E))},q=E.transition&&E.transition.mode==="out-in";q&&(k.transition.afterLeave=Q),_.isInFallback=!0,h(k,S,null,!0),q||Q()},move(E,C,k){_.activeBranch&&f(_.activeBranch,E,C,k),_.container=E},next(){return _.activeBranch&&m(_.activeBranch)},registerDep(E,C){const k=!!_.pendingBranch;k&&_.deps++;const S=E.vnode.el;E.asyncDep.catch(O=>{za(O,E,0)}).then(O=>{if(E.isUnmounted||_.isUnmounted||_.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:D}=E;Av(E,O,!1),S&&(D.el=S);const te=!S&&E.subTree.el;C(E,D,p(S||E.subTree.el),S?null:m(E.subTree),_,o,l),te&&y(te),B0(E,D.el),k&&--_.deps===0&&_.resolve()})},unmount(E,C){_.isUnmounted=!0,_.activeBranch&&h(_.activeBranch,n,E,C),_.pendingBranch&&h(_.pendingBranch,n,E,C)}};return _}function PM(t,e,n,r,i,s,o,a,l){const c=e.suspense=V0(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),u}function IM(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=l_(r?n.default:n),t.ssFallback=r?l_(n.fallback):oe(rr)}function l_(t){let e;if(Ge(t)){const n=xa&&t._c;n&&(t._d=!1,V()),t=t(),n&&(t._d=!0,e=Dr,tA())}return Oe(t)&&(t=_M(t)),t=Gr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function ET(t,e){e&&e.pendingBranch?Oe(t)?e.effects.push(...t):e.effects.push(t):F0(t)}function Ll(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,B0(r,i))}function OM(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function RM(t,e){return wd(t,null,e)}function TT(t,e){return wd(t,null,{flush:"post"})}function MM(t,e){return wd(t,null,{flush:"sync"})}const sf={};function Le(t,e,n){return wd(t,e,n)}function wd(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Vt){var a;const l=A0()===((a=xn)==null?void 0:a.scope)?xn:null;let c,u=!1,d=!1;if(Gt(t)?(c=()=>t.value,u=Ou(t)):ha(t)?(c=()=>t,r=!0):Oe(t)?(d=!0,u=t.some(_=>ha(_)||Ou(_)),c=()=>t.map(_=>{if(Gt(_))return _.value;if(ha(_))return oa(_);if(Ge(_))return Ms(_,l,2)})):Ge(t)?e?c=()=>Ms(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),ei(t,l,3,[h])}:c=gr,e&&r){const _=c;c=()=>oa(_())}let f,h=_=>{f=b.onStop=()=>{Ms(_,l,4)}},m;if(jl)if(h=gr,e?n&&ei(e,l,3,[c(),d?[]:void 0,h]):c(),i==="sync"){const _=dA();m=_.__watcherHandles||(_.__watcherHandles=[])}else return gr;let p=d?new Array(t.length).fill(sf):sf;const y=()=>{if(b.active)if(e){const _=b.run();(r||u||(d?_.some((E,C)=>Ul(E,p[C])):Ul(_,p)))&&(f&&f(),ei(e,l,3,[_,p===sf?void 0:d&&p[0]===sf?[]:p,h]),p=_)}else b.run()};y.allowRecurse=!!e;let v;i==="sync"?v=y:i==="post"?v=()=>Xn(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),v=()=>ym(y));const b=new bd(c,v);e?n?y():p=b.run():i==="post"?Xn(b.run.bind(b),l&&l.suspense):b.run();const T=()=>{b.stop(),l&&l.scope&&k0(l.scope.effects,b)};return m&&m.push(T),T}function DM(t,e,n){const r=this.proxy,i=Ot(t)?t.includes(".")?AT(r,t):()=>r[t]:t.bind(r,r);let s;Ge(e)?s=e:(s=e.handler,n=e);const o=xn;Ao(this);const a=wd(i,s.bind(r),n);return o?Ao(o):_o(),a}function AT(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function oa(t,e){if(!_t(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Gt(t))oa(t.value,e);else if(Oe(t))for(let n=0;n<t.length;n++)oa(t[n],e);else if(Va(t)||Dl(t))t.forEach(n=>{oa(n,e)});else if(XE(t))for(const n in t)oa(t[n],e);return t}function Wt(t,e){const n=qn;if(n===null)return t;const r=Em(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,c=Vt]=e[s];o&&(Ge(o)&&(o={mounted:o,updated:o}),o.deep&&oa(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Ji(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(wc(),ei(l,n,8,[t.el,a,t,e]),_c())}}function z0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _n(()=>{t.isMounted=!0}),Ur(()=>{t.isUnmounting=!0}),t}const ui=[Function,Array],U0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ui,onEnter:ui,onAfterEnter:ui,onEnterCancelled:ui,onBeforeLeave:ui,onLeave:ui,onAfterLeave:ui,onLeaveCancelled:ui,onBeforeAppear:ui,onAppear:ui,onAfterAppear:ui,onAppearCancelled:ui},NM={name:"BaseTransition",props:U0,setup(t,{slots:e}){const n=Lt(),r=z0();let i;return()=>{const s=e.default&&Cm(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const p of s)if(p.type!==rr){o=p;break}}const a=gt(t),{mode:l}=a;if(r.isLeaving)return Qp(o);const c=c_(o);if(!c)return Qp(o);const u=Hl(c,a,r,n);Aa(c,u);const d=n.subTree,f=d&&c_(d);let h=!1;const{getTransitionKey:m}=c.type;if(m){const p=m();i===void 0?i=p:p!==i&&(i=p,h=!0)}if(f&&f.type!==rr&&(!Ri(c,f)||h)){const p=Hl(f,a,r,n);if(Aa(f,p),l==="out-in")return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Qp(o);l==="in-out"&&c.type!==rr&&(p.delayLeave=(y,v,b)=>{const T=PT(r,f);T[String(f.key)]=f,y._leaveCb=()=>{v(),y._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=b})}return o}}},xT=NM;function PT(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Hl(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:p,onAppear:y,onAfterAppear:v,onAppearCancelled:b}=e,T=String(t.key),_=PT(n,t),E=(S,O)=>{S&&ei(S,r,9,O)},C=(S,O)=>{const D=O[1];E(S,O),Oe(S)?S.every(te=>te.length<=1)&&D():S.length<=1&&D()},k={mode:s,persisted:o,beforeEnter(S){let O=a;if(!n.isMounted)if(i)O=p||a;else return;S._leaveCb&&S._leaveCb(!0);const D=_[T];D&&Ri(t,D)&&D.el._leaveCb&&D.el._leaveCb(),E(O,[S])},enter(S){let O=l,D=c,te=u;if(!n.isMounted)if(i)O=y||l,D=v||c,te=b||u;else return;let Q=!1;const q=S._enterCb=L=>{Q||(Q=!0,L?E(te,[S]):E(D,[S]),k.delayedLeave&&k.delayedLeave(),S._enterCb=void 0)};O?C(O,[S,q]):q()},leave(S,O){const D=String(t.key);if(S._enterCb&&S._enterCb(!0),n.isUnmounting)return O();E(d,[S]);let te=!1;const Q=S._leaveCb=q=>{te||(te=!0,O(),q?E(m,[S]):E(h,[S]),S._leaveCb=void 0,_[D]===t&&delete _[D])};_[D]=t,f?C(f,[S,Q]):Q()},clone(S){return Hl(S,e,n,r)}};return k}function Qp(t){if(_d(t))return t=$i(t),t.children=null,t}function c_(t){return _d(t)?t.children?t.children[0]:void 0:t}function Aa(t,e){t.shapeFlag&6&&t.component?Aa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Cm(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===it?(o.patchFlag&128&&i++,r=r.concat(Cm(o.children,e,a))):(e||o.type!==rr)&&r.push(a!=null?$i(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Pe(t,e){return Ge(t)?(()=>tn({name:t.name},e,{setup:t}))():t}const ma=t=>!!t.type.__asyncLoader;function FM(t){Ge(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,c,u=0;const d=()=>(u++,l=null,f()),f=()=>{let h;return l||(h=l=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),a)return new Promise((p,y)=>{a(m,()=>p(d()),()=>y(m),u+1)});throw m}).then(m=>h!==l&&l?l:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return Pe({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const h=xn;if(c)return()=>Jp(c,h);const m=b=>{l=null,za(b,h,13,!r)};if(o&&h.suspense||jl)return f().then(b=>()=>Jp(b,h)).catch(b=>(m(b),()=>r?oe(r,{error:b}):null));const p=ie(!1),y=ie(),v=ie(!!i);return i&&setTimeout(()=>{v.value=!1},i),s!=null&&setTimeout(()=>{if(!p.value&&!y.value){const b=new Error(`Async component timed out after ${s}ms.`);m(b),y.value=b}},s),f().then(()=>{p.value=!0,h.parent&&_d(h.parent.vnode)&&ym(h.parent.update)}).catch(b=>{m(b),y.value=b}),()=>{if(p.value&&c)return Jp(c,h);if(y.value&&r)return oe(r,{error:y.value});if(n&&!v.value)return oe(n)}}})}function Jp(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=oe(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const _d=t=>t.type.__isKeepAlive,LM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Lt(),r=n.ctx;if(!r.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=r,f=d("div");r.activate=(b,T,_,E,C)=>{const k=b.component;c(b,T,_,0,a),l(k.vnode,b,T,_,k,a,E,b.slotScopeIds,C),Xn(()=>{k.isDeactivated=!1,k.a&&Nl(k.a);const S=b.props&&b.props.onVnodeMounted;S&&Mr(S,k.parent,b)},a)},r.deactivate=b=>{const T=b.component;c(b,f,null,1,a),Xn(()=>{T.da&&Nl(T.da);const _=b.props&&b.props.onVnodeUnmounted;_&&Mr(_,T.parent,b),T.isDeactivated=!0},a)};function h(b){Xp(b),u(b,n,a,!0)}function m(b){i.forEach((T,_)=>{const E=Pv(T.type);E&&(!b||!b(E))&&p(_)})}function p(b){const T=i.get(b);!o||!Ri(T,o)?h(T):o&&Xp(o),i.delete(b),s.delete(b)}Le(()=>[t.include,t.exclude],([b,T])=>{b&&m(_=>nu(b,_)),T&&m(_=>!nu(T,_))},{flush:"post",deep:!0});let y=null;const v=()=>{y!=null&&i.set(y,Zp(n.subTree))};return _n(v),Cd(v),Ur(()=>{i.forEach(b=>{const{subTree:T,suspense:_}=n,E=Zp(T);if(b.type===E.type&&b.key===E.key){Xp(E);const C=E.component.da;C&&Xn(C,_);return}h(b)})}),()=>{if(y=null,!e.default)return null;const b=e.default(),T=b[0];if(b.length>1)return o=null,b;if(!To(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let _=Zp(T);const E=_.type,C=Pv(ma(_)?_.type.__asyncResolved||{}:E),{include:k,exclude:S,max:O}=t;if(k&&(!C||!nu(k,C))||S&&C&&nu(S,C))return o=_,T;const D=_.key==null?E:_.key,te=i.get(D);return _.el&&(_=$i(_),T.shapeFlag&128&&(T.ssContent=_)),y=D,te?(_.el=te.el,_.component=te.component,_.transition&&Aa(_,_.transition),_.shapeFlag|=512,s.delete(D),s.add(D)):(s.add(D),O&&s.size>parseInt(O,10)&&p(s.values().next().value)),_.shapeFlag|=256,o=_,ST(T.type)?T:_}}},$M=LM;function nu(t,e){return Oe(t)?t.some(n=>nu(n,e)):Ot(t)?t.split(",").includes(e):p3(t)?t.test(e):!1}function IT(t,e){OT(t,"a",e)}function H0(t,e){OT(t,"da",e)}function OT(t,e,n=xn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(km(e,r,n),n){let i=n.parent;for(;i&&i.parent;)_d(i.parent.vnode)&&BM(r,e,n,i),i=i.parent}}function BM(t,e,n,r){const i=km(e,t,r,!0);kc(()=>{k0(r[e],i)},n)}function Xp(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Zp(t){return t.shapeFlag&128?t.ssContent:t}function km(t,e,n=xn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;wc(),Ao(n);const a=ei(e,n,t,o);return _o(),_c(),a});return r?i.unshift(s):i.push(s),s}}const qs=t=>(e,n=xn)=>(!jl||t==="sp")&&km(t,(...r)=>e(...r),n),j0=qs("bm"),_n=qs("m"),RT=qs("bu"),Cd=qs("u"),Ur=qs("bum"),kc=qs("um"),MT=qs("sp"),DT=qs("rtg"),NT=qs("rtc");function FT(t,e=xn){km("ec",t,e)}const W0="components",VM="directives";function Pi(t,e){return q0(W0,t,!0,e)||t}const LT=Symbol.for("v-ndc");function Kn(t){return Ot(t)?q0(W0,t,!1)||t:t||LT}function $T(t){return q0(VM,t)}function q0(t,e,n=!0,r=!1){const i=qn||xn;if(i){const s=i.type;if(t===W0){const a=Pv(s,!1);if(a&&(a===e||a===Sr(e)||a===vd(Sr(e))))return s}const o=u_(i[t]||s[t],e)||u_(i.appContext[t],e);return!o&&r?s:o}}function u_(t,e){return t&&(t[e]||t[Sr(e)]||t[vd(Sr(e))])}function yn(t,e,n,r){let i;const s=n&&n[r];if(Oe(t)||Ot(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(_t(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function BT(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Oe(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function ft(t,e,n={},r,i){if(qn.isCE||qn.parent&&ma(qn.parent)&&qn.parent.isCE)return e!=="default"&&(n.name=e),oe("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),V();const o=s&&VT(s(n)),a=Ue(it,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function VT(t){return t.some(e=>To(e)?!(e.type===rr||e.type===it&&!VT(e.children)):!0)?t:null}function zT(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:lu(r)]=t[r];return n}const wv=t=>t?oA(t)?Em(t)||t.proxy:wv(t.parent):null,cu=tn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wv(t.parent),$root:t=>wv(t.root),$emit:t=>t.emit,$options:t=>K0(t),$forceUpdate:t=>t.f||(t.f=()=>ym(t.update)),$nextTick:t=>t.n||(t.n=mt.bind(t.proxy)),$watch:t=>DM.bind(t)}),eg=(t,e)=>t!==Vt&&!t.__isScriptSetup&&At(t,e),_v={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(eg(r,e))return o[e]=1,r[e];if(i!==Vt&&At(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&At(c,e))return o[e]=3,s[e];if(n!==Vt&&At(n,e))return o[e]=4,n[e];Cv&&(o[e]=0)}}const u=cu[e];let d,f;if(u)return e==="$attrs"&&Vr(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Vt&&At(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,At(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return eg(i,e)?(i[e]=n,!0):r!==Vt&&At(r,e)?(r[e]=n,!0):At(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Vt&&At(t,o)||eg(e,o)||(a=s[0])&&At(a,o)||At(r,o)||At(cu,o)||At(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:At(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},zM=tn({},_v,{get(t,e){if(e!==Symbol.unscopables)return _v.get(t,e,t)},has(t,e){return e[0]!=="_"&&!y3(e)}});function UM(){return null}function HM(){return null}function jM(t){}function WM(t){}function qM(){return null}function KM(){}function GM(t,e){return null}function Ua(){return UT().slots}function kd(){return UT().attrs}function YM(t,e,n){const r=Lt();if(n&&n.local){const i=ie(t[e]);return Le(()=>t[e],s=>i.value=s),Le(i,s=>{s!==t[e]&&r.emit(`update:${e}`,s)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){r.emit(`update:${e}`,i)}}}function UT(){const t=Lt();return t.setupContext||(t.setupContext=cA(t))}function $u(t){return Oe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function QM(t,e){const n=$u(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Oe(i)||Ge(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function JM(t,e){return!t||!e?t||e:Oe(t)&&Oe(e)?t.concat(e):tn({},$u(t),$u(e))}function XM(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function ZM(t){const e=Lt();let n=t();return _o(),S0(n)&&(n=n.catch(r=>{throw Ao(e),r})),[n,()=>Ao(e)]}let Cv=!0;function eD(t){const e=K0(t),n=t.proxy,r=t.ctx;Cv=!1,e.beforeCreate&&d_(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:p,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:T,unmounted:_,render:E,renderTracked:C,renderTriggered:k,errorCaptured:S,serverPrefetch:O,expose:D,inheritAttrs:te,components:Q,directives:q,filters:L}=e;if(c&&tD(c,r,null),o)for(const M in o){const J=o[M];Ge(J)&&(r[M]=J.bind(n))}if(i){const M=i.call(n,n);_t(M)&&(t.data=zr(M))}if(Cv=!0,s)for(const M in s){const J=s[M],z=Ge(J)?J.bind(n,n):Ge(J.get)?J.get.bind(n,n):gr,Z=!Ge(J)&&Ge(J.set)?J.set.bind(n):gr,pe=R({get:z,set:Z});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>pe.value,set:H=>pe.value=H})}if(a)for(const M in a)HT(a[M],r,n,M);if(l){const M=Ge(l)?l.call(n):l;Reflect.ownKeys(M).forEach(J=>{Rn(J,M[J])})}u&&d_(u,t,"c");function N(M,J){Oe(J)?J.forEach(z=>M(z.bind(n))):J&&M(J.bind(n))}if(N(j0,d),N(_n,f),N(RT,h),N(Cd,m),N(IT,p),N(H0,y),N(FT,S),N(NT,C),N(DT,k),N(Ur,b),N(kc,_),N(MT,O),Oe(D))if(D.length){const M=t.exposed||(t.exposed={});D.forEach(J=>{Object.defineProperty(M,J,{get:()=>n[J],set:z=>n[J]=z})})}else t.exposed||(t.exposed={});E&&t.render===gr&&(t.render=E),te!=null&&(t.inheritAttrs=te),Q&&(t.components=Q),q&&(t.directives=q)}function tD(t,e,n=gr){Oe(t)&&(t=kv(t));for(const r in t){const i=t[r];let s;_t(i)?"default"in i?s=ct(i.from||r,i.default,!0):s=ct(i.from||r):s=ct(i),Gt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function d_(t,e,n){ei(Oe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function HT(t,e,n,r){const i=r.includes(".")?AT(n,r):()=>n[r];if(Ot(t)){const s=e[t];Ge(s)&&Le(i,s)}else if(Ge(t))Le(i,t.bind(n));else if(_t(t))if(Oe(t))t.forEach(s=>HT(s,e,n,r));else{const s=Ge(t.handler)?t.handler.bind(n):e[t.handler];Ge(s)&&Le(i,s,t)}}function K0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Eh(l,c,o,!0)),Eh(l,e,o)),_t(e)&&s.set(e,l),l}function Eh(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Eh(t,s,n,!0),i&&i.forEach(o=>Eh(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=nD[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nD={data:f_,props:h_,emits:h_,methods:ru,computed:ru,beforeCreate:Cr,created:Cr,beforeMount:Cr,mounted:Cr,beforeUpdate:Cr,updated:Cr,beforeDestroy:Cr,beforeUnmount:Cr,destroyed:Cr,unmounted:Cr,activated:Cr,deactivated:Cr,errorCaptured:Cr,serverPrefetch:Cr,components:ru,directives:ru,watch:iD,provide:f_,inject:rD};function f_(t,e){return e?t?function(){return tn(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function rD(t,e){return ru(kv(t),kv(e))}function kv(t){if(Oe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Cr(t,e){return t?[...new Set([].concat(t,e))]:e}function ru(t,e){return t?tn(Object.create(null),t,e):e}function h_(t,e){return t?Oe(t)&&Oe(e)?[...new Set([...t,...e])]:tn(Object.create(null),$u(t),$u(e??{})):e}function iD(t,e){if(!t)return e;if(!e)return t;const n=tn(Object.create(null),t);for(const r in e)n[r]=Cr(t[r],e[r]);return n}function jT(){return{app:null,config:{isNativeTag:f3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sD=0;function oD(t,e){return function(r,i=null){Ge(r)||(r=tn({},r)),i!=null&&!_t(i)&&(i=null);const s=jT(),o=new Set;let a=!1;const l=s.app={_uid:sD++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:hA,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&Ge(c.install)?(o.add(c),c.install(l,...u)):Ge(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,d){if(!a){const f=oe(r,i);return f.appContext=s,u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,Em(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){Bu=l;try{return c()}finally{Bu=null}}};return l}}let Bu=null;function Rn(t,e){if(xn){let n=xn.provides;const r=xn.parent&&xn.parent.provides;r===n&&(n=xn.provides=Object.create(r)),n[t]=e}}function ct(t,e,n=!1){const r=xn||qn;if(r||Bu){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Bu._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ge(e)?e.call(r&&r.proxy):e}}function aD(){return!!(xn||qn||Bu)}function lD(t,e,n,r=!1){const i={},s={};wh(s,Sm,1),t.propsDefaults=Object.create(null),WT(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:pT(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function cD(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=gt(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(wm(t.emitsOptions,f))continue;const h=e[f];if(l)if(At(s,f))h!==s[f]&&(s[f]=h,c=!0);else{const m=Sr(f);i[m]=Sv(l,a,m,h,t,!1)}else h!==s[f]&&(s[f]=h,c=!0)}}}else{WT(t,e,i,s)&&(c=!0);let u;for(const d in a)(!e||!At(e,d)&&((u=hi(d))===d||!At(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Sv(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!At(e,d))&&(delete s[d],c=!0)}c&&Fs(t,"set","$attrs")}function WT(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(au(l))continue;const c=e[l];let u;i&&At(i,u=Sr(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:wm(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=gt(n),c=a||Vt;for(let u=0;u<s.length;u++){const d=s[u];n[d]=Sv(i,l,d,c[d],t,!At(c,d))}}return o}function Sv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=At(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ge(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(Ao(i),r=c[n]=l.call(null,e),_o())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===hi(n))&&(r=!0))}return r}function qT(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ge(t)){const u=d=>{l=!0;const[f,h]=qT(d,e,!0);tn(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return _t(t)&&r.set(t,Ml),Ml;if(Oe(s))for(let u=0;u<s.length;u++){const d=Sr(s[u]);m_(d)&&(o[d]=Vt)}else if(s)for(const u in s){const d=Sr(u);if(m_(d)){const f=s[u],h=o[d]=Oe(f)||Ge(f)?{type:f}:tn({},f);if(h){const m=v_(Boolean,h.type),p=v_(String,h.type);h[0]=m>-1,h[1]=p<0||m<p,(m>-1||At(h,"default"))&&a.push(d)}}}const c=[o,a];return _t(t)&&r.set(t,c),c}function m_(t){return t[0]!=="$"}function p_(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function g_(t,e){return p_(t)===p_(e)}function v_(t,e){return Oe(e)?e.findIndex(n=>g_(n,t)):Ge(e)&&g_(e,t)?0:-1}const KT=t=>t[0]==="_"||t==="$stable",G0=t=>Oe(t)?t.map(Gr):[Gr(t)],uD=(t,e,n)=>{if(e._n)return e;const r=Ee((...i)=>G0(e(...i)),n);return r._c=!1,r},GT=(t,e,n)=>{const r=t._ctx;for(const i in t){if(KT(i))continue;const s=t[i];if(Ge(s))e[i]=uD(i,s,r);else if(s!=null){const o=G0(s);e[i]=()=>o}}},YT=(t,e)=>{const n=G0(e);t.slots.default=()=>n},dD=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=gt(e),wh(e,"_",n)):GT(e,t.slots={})}else t.slots={},e&&YT(t,e);wh(t.slots,Sm,1)},fD=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Vt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(tn(i,e),!n&&a===1&&delete i._):(s=!e.$stable,GT(e,i)),o=e}else e&&(YT(t,e),o={default:1});if(s)for(const a in i)!KT(a)&&!(a in o)&&delete i[a]};function Th(t,e,n,r,i=!1){if(Oe(t)){t.forEach((f,h)=>Th(f,e&&(Oe(e)?e[h]:e),n,r,i));return}if(ma(r)&&!i)return;const s=r.shapeFlag&4?Em(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Vt?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(Ot(c)?(u[c]=null,At(d,c)&&(d[c]=null)):Gt(c)&&(c.value=null)),Ge(l))Ms(l,a,12,[o,u]);else{const f=Ot(l),h=Gt(l);if(f||h){const m=()=>{if(t.f){const p=f?At(d,l)?d[l]:u[l]:l.value;i?Oe(p)&&k0(p,s):Oe(p)?p.includes(s)||p.push(s):f?(u[l]=[s],At(d,l)&&(d[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,At(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,Xn(m,n)):m()}}}let eo=!1;const of=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",af=t=>t.nodeType===8;function hD(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=t,u=(v,b)=>{if(!b.hasChildNodes()){n(null,v,b),Sh(),b._vnode=v;return}eo=!1,d(b.firstChild,v,null,null,null),Sh(),b._vnode=v,eo&&console.error("Hydration completed but contains mismatches.")},d=(v,b,T,_,E,C=!1)=>{const k=af(v)&&v.data==="[",S=()=>p(v,b,T,_,E,k),{type:O,ref:D,shapeFlag:te,patchFlag:Q}=b;let q=v.nodeType;b.el=v,Q===-2&&(C=!1,b.dynamicChildren=null);let L=null;switch(O){case ds:q!==3?b.children===""?(l(b.el=i(""),o(v),v),L=v):L=S():(v.data!==b.children&&(eo=!0,v.data=b.children),L=s(v));break;case rr:q!==8||k?L=S():L=s(v);break;case pa:if(k&&(v=s(v),q=v.nodeType),q===1||q===3){L=v;const G=!b.children.length;for(let N=0;N<b.staticCount;N++)G&&(b.children+=L.nodeType===1?L.outerHTML:L.data),N===b.staticCount-1&&(b.anchor=L),L=s(L);return k?s(L):L}else S();break;case it:k?L=m(v,b,T,_,E,C):L=S();break;default:if(te&1)q!==1||b.type.toLowerCase()!==v.tagName.toLowerCase()?L=S():L=f(v,b,T,_,E,C);else if(te&6){b.slotScopeIds=E;const G=o(v);if(e(b,G,null,T,_,of(G),C),L=k?y(v):s(v),L&&af(L)&&L.data==="teleport end"&&(L=s(L)),ma(b)){let N;k?(N=oe(it),N.anchor=L?L.previousSibling:G.lastChild):N=v.nodeType===3?un(""):oe("div"),N.el=v,b.component.subTree=N}}else te&64?q!==8?L=S():L=b.type.hydrate(v,b,T,_,E,C,t,h):te&128&&(L=b.type.hydrate(v,b,T,_,of(o(v)),E,C,t,d))}return D!=null&&Th(D,null,_,b),L},f=(v,b,T,_,E,C)=>{C=C||!!b.dynamicChildren;const{type:k,props:S,patchFlag:O,shapeFlag:D,dirs:te}=b,Q=k==="input"&&te||k==="option";if(Q||O!==-1){if(te&&Ji(b,null,T,"created"),S)if(Q||!C||O&48)for(const L in S)(Q&&L.endsWith("value")||gd(L)&&!au(L))&&r(v,L,null,S[L],!1,void 0,T);else S.onClick&&r(v,"onClick",null,S.onClick,!1,void 0,T);let q;if((q=S&&S.onVnodeBeforeMount)&&Mr(q,T,b),te&&Ji(b,null,T,"beforeMount"),((q=S&&S.onVnodeMounted)||te)&&ET(()=>{q&&Mr(q,T,b),te&&Ji(b,null,T,"mounted")},_),D&16&&!(S&&(S.innerHTML||S.textContent))){let L=h(v.firstChild,b,v,T,_,E,C);for(;L;){eo=!0;const G=L;L=L.nextSibling,a(G)}}else D&8&&v.textContent!==b.children&&(eo=!0,v.textContent=b.children)}return v.nextSibling},h=(v,b,T,_,E,C,k)=>{k=k||!!b.dynamicChildren;const S=b.children,O=S.length;for(let D=0;D<O;D++){const te=k?S[D]:S[D]=Gr(S[D]);if(v)v=d(v,te,_,E,C,k);else{if(te.type===ds&&!te.children)continue;eo=!0,n(null,te,T,null,_,E,of(T),C)}}return v},m=(v,b,T,_,E,C)=>{const{slotScopeIds:k}=b;k&&(E=E?E.concat(k):k);const S=o(v),O=h(s(v),b,S,T,_,E,C);return O&&af(O)&&O.data==="]"?s(b.anchor=O):(eo=!0,l(b.anchor=c("]"),S,O),O)},p=(v,b,T,_,E,C)=>{if(eo=!0,b.el=null,C){const O=y(v);for(;;){const D=s(v);if(D&&D!==O)a(D);else break}}const k=s(v),S=o(v);return a(v),n(null,b,S,k,T,_,of(S),E),k},y=v=>{let b=0;for(;v;)if(v=s(v),v&&af(v)&&(v.data==="["&&b++,v.data==="]")){if(b===0)return s(v);b--}return v};return[u,d]}const Xn=ET;function QT(t){return XT(t)}function JT(t){return XT(t,hD)}function XT(t,e){const n=pv();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=gr,insertStaticContent:m}=t,p=(P,F,ne,fe=null,K=null,ge=null,ke=!1,ve=null,ce=!!F.dynamicChildren)=>{if(P===F)return;P&&!Ri(P,F)&&(fe=He(P),H(P,K,ge,!0),P=null),F.patchFlag===-2&&(ce=!1,F.dynamicChildren=null);const{type:ue,ref:W,shapeFlag:ee}=F;switch(ue){case ds:y(P,F,ne,fe);break;case rr:v(P,F,ne,fe);break;case pa:P==null&&b(F,ne,fe,ke);break;case it:Q(P,F,ne,fe,K,ge,ke,ve,ce);break;default:ee&1?E(P,F,ne,fe,K,ge,ke,ve,ce):ee&6?q(P,F,ne,fe,K,ge,ke,ve,ce):(ee&64||ee&128)&&ue.process(P,F,ne,fe,K,ge,ke,ve,ce,$e)}W!=null&&K&&Th(W,P&&P.ref,ge,F||P,!F)},y=(P,F,ne,fe)=>{if(P==null)r(F.el=a(F.children),ne,fe);else{const K=F.el=P.el;F.children!==P.children&&c(K,F.children)}},v=(P,F,ne,fe)=>{P==null?r(F.el=l(F.children||""),ne,fe):F.el=P.el},b=(P,F,ne,fe)=>{[P.el,P.anchor]=m(P.children,F,ne,fe,P.el,P.anchor)},T=({el:P,anchor:F},ne,fe)=>{let K;for(;P&&P!==F;)K=f(P),r(P,ne,fe),P=K;r(F,ne,fe)},_=({el:P,anchor:F})=>{let ne;for(;P&&P!==F;)ne=f(P),i(P),P=ne;i(F)},E=(P,F,ne,fe,K,ge,ke,ve,ce)=>{ke=ke||F.type==="svg",P==null?C(F,ne,fe,K,ge,ke,ve,ce):O(P,F,K,ge,ke,ve,ce)},C=(P,F,ne,fe,K,ge,ke,ve)=>{let ce,ue;const{type:W,props:ee,shapeFlag:Se,transition:re,dirs:Ce}=P;if(ce=P.el=o(P.type,ge,ee&&ee.is,ee),Se&8?u(ce,P.children):Se&16&&S(P.children,ce,null,fe,K,ge&&W!=="foreignObject",ke,ve),Ce&&Ji(P,null,fe,"created"),k(ce,P,P.scopeId,ke,fe),ee){for(const Ye in ee)Ye!=="value"&&!au(Ye)&&s(ce,Ye,null,ee[Ye],ge,P.children,fe,K,xe);"value"in ee&&s(ce,"value",null,ee.value),(ue=ee.onVnodeBeforeMount)&&Mr(ue,fe,P)}Ce&&Ji(P,null,fe,"beforeMount");const ze=(!K||K&&!K.pendingBranch)&&re&&!re.persisted;ze&&re.beforeEnter(ce),r(ce,F,ne),((ue=ee&&ee.onVnodeMounted)||ze||Ce)&&Xn(()=>{ue&&Mr(ue,fe,P),ze&&re.enter(ce),Ce&&Ji(P,null,fe,"mounted")},K)},k=(P,F,ne,fe,K)=>{if(ne&&h(P,ne),fe)for(let ge=0;ge<fe.length;ge++)h(P,fe[ge]);if(K){let ge=K.subTree;if(F===ge){const ke=K.vnode;k(P,ke,ke.scopeId,ke.slotScopeIds,K.parent)}}},S=(P,F,ne,fe,K,ge,ke,ve,ce=0)=>{for(let ue=ce;ue<P.length;ue++){const W=P[ue]=ve?fo(P[ue]):Gr(P[ue]);p(null,W,F,ne,fe,K,ge,ke,ve)}},O=(P,F,ne,fe,K,ge,ke)=>{const ve=F.el=P.el;let{patchFlag:ce,dynamicChildren:ue,dirs:W}=F;ce|=P.patchFlag&16;const ee=P.props||Vt,Se=F.props||Vt;let re;ne&&Go(ne,!1),(re=Se.onVnodeBeforeUpdate)&&Mr(re,ne,F,P),W&&Ji(F,P,ne,"beforeUpdate"),ne&&Go(ne,!0);const Ce=K&&F.type!=="foreignObject";if(ue?D(P.dynamicChildren,ue,ve,ne,fe,Ce,ge):ke||J(P,F,ve,null,ne,fe,Ce,ge,!1),ce>0){if(ce&16)te(ve,F,ee,Se,ne,fe,K);else if(ce&2&&ee.class!==Se.class&&s(ve,"class",null,Se.class,K),ce&4&&s(ve,"style",ee.style,Se.style,K),ce&8){const ze=F.dynamicProps;for(let Ye=0;Ye<ze.length;Ye++){const ut=ze[Ye],bt=ee[ut],se=Se[ut];(se!==bt||ut==="value")&&s(ve,ut,bt,se,K,P.children,ne,fe,xe)}}ce&1&&P.children!==F.children&&u(ve,F.children)}else!ke&&ue==null&&te(ve,F,ee,Se,ne,fe,K);((re=Se.onVnodeUpdated)||W)&&Xn(()=>{re&&Mr(re,ne,F,P),W&&Ji(F,P,ne,"updated")},fe)},D=(P,F,ne,fe,K,ge,ke)=>{for(let ve=0;ve<F.length;ve++){const ce=P[ve],ue=F[ve],W=ce.el&&(ce.type===it||!Ri(ce,ue)||ce.shapeFlag&70)?d(ce.el):ne;p(ce,ue,W,null,fe,K,ge,ke,!0)}},te=(P,F,ne,fe,K,ge,ke)=>{if(ne!==fe){if(ne!==Vt)for(const ve in ne)!au(ve)&&!(ve in fe)&&s(P,ve,ne[ve],null,ke,F.children,K,ge,xe);for(const ve in fe){if(au(ve))continue;const ce=fe[ve],ue=ne[ve];ce!==ue&&ve!=="value"&&s(P,ve,ue,ce,ke,F.children,K,ge,xe)}"value"in fe&&s(P,"value",ne.value,fe.value)}},Q=(P,F,ne,fe,K,ge,ke,ve,ce)=>{const ue=F.el=P?P.el:a(""),W=F.anchor=P?P.anchor:a("");let{patchFlag:ee,dynamicChildren:Se,slotScopeIds:re}=F;re&&(ve=ve?ve.concat(re):re),P==null?(r(ue,ne,fe),r(W,ne,fe),S(F.children,ne,W,K,ge,ke,ve,ce)):ee>0&&ee&64&&Se&&P.dynamicChildren?(D(P.dynamicChildren,Se,ne,K,ge,ke,ve),(F.key!=null||K&&F===K.subTree)&&Y0(P,F,!0)):J(P,F,ne,W,K,ge,ke,ve,ce)},q=(P,F,ne,fe,K,ge,ke,ve,ce)=>{F.slotScopeIds=ve,P==null?F.shapeFlag&512?K.ctx.activate(F,ne,fe,ke,ce):L(F,ne,fe,K,ge,ke,ce):G(P,F,ce)},L=(P,F,ne,fe,K,ge,ke)=>{const ve=P.component=sA(P,fe,K);if(_d(P)&&(ve.ctx.renderer=$e),aA(ve),ve.asyncDep){if(K&&K.registerDep(ve,N),!P.el){const ce=ve.subTree=oe(rr);v(null,ce,F,ne)}return}N(ve,P,F,ne,K,ge,ke)},G=(P,F,ne)=>{const fe=F.component=P.component;if(SM(P,F,ne))if(fe.asyncDep&&!fe.asyncResolved){M(fe,F,ne);return}else fe.next=F,vM(fe.update),fe.update();else F.el=P.el,fe.vnode=F},N=(P,F,ne,fe,K,ge,ke)=>{const ve=()=>{if(P.isMounted){let{next:W,bu:ee,u:Se,parent:re,vnode:Ce}=P,ze=W,Ye;Go(P,!1),W?(W.el=Ce.el,M(P,W,ke)):W=Ce,ee&&Nl(ee),(Ye=W.props&&W.props.onVnodeBeforeUpdate)&&Mr(Ye,re,W,Ce),Go(P,!0);const ut=Xf(P),bt=P.subTree;P.subTree=ut,p(bt,ut,d(bt.el),He(bt),P,K,ge),W.el=ut.el,ze===null&&B0(P,ut.el),Se&&Xn(Se,K),(Ye=W.props&&W.props.onVnodeUpdated)&&Xn(()=>Mr(Ye,re,W,Ce),K)}else{let W;const{el:ee,props:Se}=F,{bm:re,m:Ce,parent:ze}=P,Ye=ma(F);if(Go(P,!1),re&&Nl(re),!Ye&&(W=Se&&Se.onVnodeBeforeMount)&&Mr(W,ze,F),Go(P,!0),ee&&Ke){const ut=()=>{P.subTree=Xf(P),Ke(ee,P.subTree,P,K,null)};Ye?F.type.__asyncLoader().then(()=>!P.isUnmounted&&ut()):ut()}else{const ut=P.subTree=Xf(P);p(null,ut,ne,fe,P,K,ge),F.el=ut.el}if(Ce&&Xn(Ce,K),!Ye&&(W=Se&&Se.onVnodeMounted)){const ut=F;Xn(()=>Mr(W,ze,ut),K)}(F.shapeFlag&256||ze&&ma(ze.vnode)&&ze.vnode.shapeFlag&256)&&P.a&&Xn(P.a,K),P.isMounted=!0,F=ne=fe=null}},ce=P.effect=new bd(ve,()=>ym(ue),P.scope),ue=P.update=()=>ce.run();ue.id=P.uid,Go(P,!0),ue()},M=(P,F,ne)=>{F.component=P;const fe=P.vnode.props;P.vnode=F,P.next=null,cD(P,F.props,fe,ne),fD(P,F.children,ne),wc(),o_(),_c()},J=(P,F,ne,fe,K,ge,ke,ve,ce=!1)=>{const ue=P&&P.children,W=P?P.shapeFlag:0,ee=F.children,{patchFlag:Se,shapeFlag:re}=F;if(Se>0){if(Se&128){Z(ue,ee,ne,fe,K,ge,ke,ve,ce);return}else if(Se&256){z(ue,ee,ne,fe,K,ge,ke,ve,ce);return}}re&8?(W&16&&xe(ue,K,ge),ee!==ue&&u(ne,ee)):W&16?re&16?Z(ue,ee,ne,fe,K,ge,ke,ve,ce):xe(ue,K,ge,!0):(W&8&&u(ne,""),re&16&&S(ee,ne,fe,K,ge,ke,ve,ce))},z=(P,F,ne,fe,K,ge,ke,ve,ce)=>{P=P||Ml,F=F||Ml;const ue=P.length,W=F.length,ee=Math.min(ue,W);let Se;for(Se=0;Se<ee;Se++){const re=F[Se]=ce?fo(F[Se]):Gr(F[Se]);p(P[Se],re,ne,null,K,ge,ke,ve,ce)}ue>W?xe(P,K,ge,!0,!1,ee):S(F,ne,fe,K,ge,ke,ve,ce,ee)},Z=(P,F,ne,fe,K,ge,ke,ve,ce)=>{let ue=0;const W=F.length;let ee=P.length-1,Se=W-1;for(;ue<=ee&&ue<=Se;){const re=P[ue],Ce=F[ue]=ce?fo(F[ue]):Gr(F[ue]);if(Ri(re,Ce))p(re,Ce,ne,null,K,ge,ke,ve,ce);else break;ue++}for(;ue<=ee&&ue<=Se;){const re=P[ee],Ce=F[Se]=ce?fo(F[Se]):Gr(F[Se]);if(Ri(re,Ce))p(re,Ce,ne,null,K,ge,ke,ve,ce);else break;ee--,Se--}if(ue>ee){if(ue<=Se){const re=Se+1,Ce=re<W?F[re].el:fe;for(;ue<=Se;)p(null,F[ue]=ce?fo(F[ue]):Gr(F[ue]),ne,Ce,K,ge,ke,ve,ce),ue++}}else if(ue>Se)for(;ue<=ee;)H(P[ue],K,ge,!0),ue++;else{const re=ue,Ce=ue,ze=new Map;for(ue=Ce;ue<=Se;ue++){const I=F[ue]=ce?fo(F[ue]):Gr(F[ue]);I.key!=null&&ze.set(I.key,ue)}let Ye,ut=0;const bt=Se-Ce+1;let se=!1,De=0;const ye=new Array(bt);for(ue=0;ue<bt;ue++)ye[ue]=0;for(ue=re;ue<=ee;ue++){const I=P[ue];if(ut>=bt){H(I,K,ge,!0);continue}let Te;if(I.key!=null)Te=ze.get(I.key);else for(Ye=Ce;Ye<=Se;Ye++)if(ye[Ye-Ce]===0&&Ri(I,F[Ye])){Te=Ye;break}Te===void 0?H(I,K,ge,!0):(ye[Te-Ce]=ue+1,Te>=De?De=Te:se=!0,p(I,F[Te],ne,null,K,ge,ke,ve,ce),ut++)}const Me=se?mD(ye):Ml;for(Ye=Me.length-1,ue=bt-1;ue>=0;ue--){const I=Ce+ue,Te=F[I],nt=I+1<W?F[I+1].el:fe;ye[ue]===0?p(null,Te,ne,nt,K,ge,ke,ve,ce):se&&(Ye<0||ue!==Me[Ye]?pe(Te,ne,nt,2):Ye--)}}},pe=(P,F,ne,fe,K=null)=>{const{el:ge,type:ke,transition:ve,children:ce,shapeFlag:ue}=P;if(ue&6){pe(P.component.subTree,F,ne,fe);return}if(ue&128){P.suspense.move(F,ne,fe);return}if(ue&64){ke.move(P,F,ne,$e);return}if(ke===it){r(ge,F,ne);for(let ee=0;ee<ce.length;ee++)pe(ce[ee],F,ne,fe);r(P.anchor,F,ne);return}if(ke===pa){T(P,F,ne);return}if(fe!==2&&ue&1&&ve)if(fe===0)ve.beforeEnter(ge),r(ge,F,ne),Xn(()=>ve.enter(ge),K);else{const{leave:ee,delayLeave:Se,afterLeave:re}=ve,Ce=()=>r(ge,F,ne),ze=()=>{ee(ge,()=>{Ce(),re&&re()})};Se?Se(ge,Ce,ze):ze()}else r(ge,F,ne)},H=(P,F,ne,fe=!1,K=!1)=>{const{type:ge,props:ke,ref:ve,children:ce,dynamicChildren:ue,shapeFlag:W,patchFlag:ee,dirs:Se}=P;if(ve!=null&&Th(ve,null,ne,P,!0),W&256){F.ctx.deactivate(P);return}const re=W&1&&Se,Ce=!ma(P);let ze;if(Ce&&(ze=ke&&ke.onVnodeBeforeUnmount)&&Mr(ze,F,P),W&6)le(P.component,ne,fe);else{if(W&128){P.suspense.unmount(ne,fe);return}re&&Ji(P,null,F,"beforeUnmount"),W&64?P.type.remove(P,F,ne,K,$e,fe):ue&&(ge!==it||ee>0&&ee&64)?xe(ue,F,ne,!1,!0):(ge===it&&ee&384||!K&&W&16)&&xe(ce,F,ne),fe&&U(P)}(Ce&&(ze=ke&&ke.onVnodeUnmounted)||re)&&Xn(()=>{ze&&Mr(ze,F,P),re&&Ji(P,null,F,"unmounted")},ne)},U=P=>{const{type:F,el:ne,anchor:fe,transition:K}=P;if(F===it){he(ne,fe);return}if(F===pa){_(P);return}const ge=()=>{i(ne),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(P.shapeFlag&1&&K&&!K.persisted){const{leave:ke,delayLeave:ve}=K,ce=()=>ke(ne,ge);ve?ve(P.el,ge,ce):ce()}else ge()},he=(P,F)=>{let ne;for(;P!==F;)ne=f(P),i(P),P=ne;i(F)},le=(P,F,ne)=>{const{bum:fe,scope:K,update:ge,subTree:ke,um:ve}=P;fe&&Nl(fe),K.stop(),ge&&(ge.active=!1,H(ke,P,F,ne)),ve&&Xn(ve,F),Xn(()=>{P.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},xe=(P,F,ne,fe=!1,K=!1,ge=0)=>{for(let ke=ge;ke<P.length;ke++)H(P[ke],F,ne,fe,K)},He=P=>P.shapeFlag&6?He(P.component.subTree):P.shapeFlag&128?P.suspense.next():f(P.anchor||P.el),Re=(P,F,ne)=>{P==null?F._vnode&&H(F._vnode,null,null,!0):p(F._vnode||null,P,F,null,null,null,ne),o_(),Sh(),F._vnode=P},$e={p,um:H,m:pe,r:U,mt:L,mc:S,pc:J,pbc:D,n:He,o:t};let Ne,Ke;return e&&([Ne,Ke]=e($e)),{render:Re,hydrate:Ne,createApp:oD(Re,Ne)}}function Go({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Y0(t,e,n=!1){const r=t.children,i=e.children;if(Oe(r)&&Oe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=fo(i[s]),a.el=o.el),n||Y0(o,a)),a.type===ds&&(a.el=o.el)}}function mD(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const pD=t=>t.__isTeleport,uu=t=>t&&(t.disabled||t.disabled===""),b_=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ev=(t,e)=>{const n=t&&t.to;return Ot(n)?e?e(n):null:n},gD={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:p,createComment:y}}=c,v=uu(e.props);let{shapeFlag:b,children:T,dynamicChildren:_}=e;if(t==null){const E=e.el=p(""),C=e.anchor=p("");h(E,n,r),h(C,n,r);const k=e.target=Ev(e.props,m),S=e.targetAnchor=p("");k&&(h(S,k),o=o||b_(k));const O=(D,te)=>{b&16&&u(T,D,te,i,s,o,a,l)};v?O(n,C):k&&O(k,S)}else{e.el=t.el;const E=e.anchor=t.anchor,C=e.target=t.target,k=e.targetAnchor=t.targetAnchor,S=uu(t.props),O=S?n:C,D=S?E:k;if(o=o||b_(C),_?(f(t.dynamicChildren,_,O,i,s,o,a),Y0(t,e,!0)):l||d(t,e,O,D,i,s,o,a,!1),v)S||lf(e,n,E,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const te=e.target=Ev(e.props,m);te&&lf(e,te,null,c,0)}else S&&lf(e,C,k,c,1)}eA(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:f}=t;if(d&&s(u),(o||!uu(f))&&(s(c),a&16))for(let h=0;h<l.length;h++){const m=l[h];i(m,e,n,!0,!!m.dynamicChildren)}},move:lf,hydrate:vD};function lf(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&r(o,e,n),(!d||uu(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);d&&r(a,e,n)}function vD(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=Ev(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(uu(e.props))e.anchor=c(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(d,e,u,n,r,i,s)}eA(e)}return e.anchor&&o(e.anchor)}const ZT=gD;function eA(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const it=Symbol.for("v-fgt"),ds=Symbol.for("v-txt"),rr=Symbol.for("v-cmt"),pa=Symbol.for("v-stc"),du=[];let Dr=null;function V(t=!1){du.push(Dr=t?null:[])}function tA(){du.pop(),Dr=du[du.length-1]||null}let xa=1;function Tv(t){xa+=t}function nA(t){return t.dynamicChildren=xa>0?Dr||Ml:null,tA(),xa>0&&Dr&&Dr.push(t),t}function ae(t,e,n,r,i,s){return nA(x(t,e,n,r,i,s,!0))}function Ue(t,e,n,r,i){return nA(oe(t,e,n,r,i,!0))}function To(t){return t?t.__v_isVNode===!0:!1}function Ri(t,e){return t.type===e.type&&t.key===e.key}function bD(t){}const Sm="__vInternal",rA=({key:t})=>t??null,Zf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ot(t)||Gt(t)||Ge(t)?{i:qn,r:t,k:e,f:!!n}:t:null);function x(t,e=null,n=null,r=0,i=null,s=t===it?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rA(e),ref:e&&Zf(e),scopeId:_m,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qn};return a?(Q0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Ot(n)?8:16),xa>0&&!o&&Dr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Dr.push(l),l}const oe=yD;function yD(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===LT)&&(t=rr),To(t)){const a=$i(t,e,!0);return n&&Q0(a,n),xa>0&&!s&&Dr&&(a.shapeFlag&6?Dr[Dr.indexOf(t)]=a:Dr.push(a)),a.patchFlag|=-2,a}if(AD(t)&&(t=t.__vccOpts),e){e=iA(e);let{class:a,style:l}=e;a&&!Ot(a)&&(e.class=X(a)),_t(l)&&(O0(l)&&!Oe(l)&&(l=tn({},l)),e.style=vn(l))}const o=Ot(t)?1:ST(t)?128:pD(t)?64:_t(t)?4:Ge(t)?2:0;return x(t,e,n,r,i,o,s,!0)}function iA(t){return t?O0(t)||Sm in t?tn({},t):t:null}function $i(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?ti(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&rA(a),ref:e&&e.ref?n&&i?Oe(i)?i.concat(Zf(e)):[i,Zf(e)]:Zf(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==it?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$i(t.ssContent),ssFallback:t.ssFallback&&$i(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function un(t=" ",e=0){return oe(ds,null,t,e)}function wD(t,e){const n=oe(pa,null,t);return n.staticCount=e,n}function Ie(t="",e=!1){return e?(V(),Ue(rr,null,t)):oe(rr,null,t)}function Gr(t){return t==null||typeof t=="boolean"?oe(rr):Oe(t)?oe(it,null,t.slice()):typeof t=="object"?fo(t):oe(ds,null,String(t))}function fo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$i(t)}function Q0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Oe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Q0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Sm in e)?e._ctx=qn:i===3&&qn&&(qn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:qn},n=32):(e=String(e),r&64?(n=16,e=[un(e)]):n=8);t.children=e,t.shapeFlag|=n}function ti(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=X([e.class,r.class]));else if(i==="style")e.style=vn([e.style,r.style]);else if(gd(i)){const s=e[i],o=r[i];o&&s!==o&&!(Oe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Mr(t,e,n,r=null){ei(t,e,7,[n,r])}const _D=jT();let CD=0;function sA(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||_D,s={uid:CD++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new T0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qT(r,i),emitsOptions:kT(r,i),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:r.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=yM.bind(null,s),t.ce&&t.ce(s),s}let xn=null;const Lt=()=>xn||qn;let J0,ol,y_="__VUE_INSTANCE_SETTERS__";(ol=pv()[y_])||(ol=pv()[y_]=[]),ol.push(t=>xn=t),J0=t=>{ol.length>1?ol.forEach(e=>e(t)):ol[0](t)};const Ao=t=>{J0(t),t.scope.on()},_o=()=>{xn&&xn.scope.off(),J0(null)};function oA(t){return t.vnode.shapeFlag&4}let jl=!1;function aA(t,e=!1){jl=e;const{props:n,children:r}=t.vnode,i=oA(t);lD(t,n,i,e),dD(t,r);const s=i?kD(t,e):void 0;return jl=!1,s}function kD(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ru(new Proxy(t.ctx,_v));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?cA(t):null;Ao(t),wc();const s=Ms(r,t,0,[t.props,i]);if(_c(),_o(),S0(s)){if(s.then(_o,_o),e)return s.then(o=>{Av(t,o,e)}).catch(o=>{za(o,t,0)});t.asyncDep=s}else Av(t,s,e)}else lA(t,e)}function Av(t,e,n){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_t(e)&&(t.setupState=D0(e)),lA(t,n)}let Ah,xv;function SD(t){Ah=t,xv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,zM))}}const ED=()=>!Ah;function lA(t,e,n){const r=t.type;if(!t.render){if(!e&&Ah&&!r.render){const i=r.template||K0(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=tn(tn({isCustomElement:s,delimiters:a},o),l);r.render=Ah(i,c)}}t.render=r.render||gr,xv&&xv(t)}Ao(t),wc(),eD(t),_c(),_o()}function TD(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Vr(t,"get","$attrs"),e[n]}}))}function cA(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return TD(t)},slots:t.slots,emit:t.emit,expose:e}}function Em(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(D0(Ru(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in cu)return cu[n](t)},has(e,n){return n in e||n in cu}}))}function Pv(t,e=!0){return Ge(t)?t.displayName||t.name:t.name||e&&t.__name}function AD(t){return Ge(t)&&"__vccOpts"in t}const R=(t,e)=>hM(t,e,jl);function Ze(t,e,n){const r=arguments.length;return r===2?_t(e)&&!Oe(e)?To(e)?oe(t,null,[e]):oe(t,e):oe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&To(n)&&(n=[n]),oe(t,e,n))}const uA=Symbol.for("v-scx"),dA=()=>ct(uA);function xD(){}function PD(t,e,n,r){const i=n[r];if(i&&fA(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function fA(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Ul(n[r],e[r]))return!1;return xa>0&&Dr&&Dr.push(t),!0}const hA="3.3.4",ID={createComponentInstance:sA,setupComponent:aA,renderComponentRoot:Xf,setCurrentRenderingInstance:Fu,isVNode:To,normalizeVNode:Gr},OD=ID,RD=null,MD=null,DD="http://www.w3.org/2000/svg",ia=typeof document<"u"?document:null,w_=ia&&ia.createElement("template"),ND={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?ia.createElementNS(DD,t):ia.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ia.createTextNode(t),createComment:t=>ia.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ia.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{w_.innerHTML=r?`<svg>${t}</svg>`:t;const a=w_.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function FD(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function LD(t,e,n){const r=t.style,i=Ot(n);if(n&&!i){if(e&&!Ot(e))for(const s in e)n[s]==null&&Iv(r,s,"");for(const s in n)Iv(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const __=/\s*!important$/;function Iv(t,e,n){if(Oe(n))n.forEach(r=>Iv(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=$D(t,e);__.test(n)?t.setProperty(hi(r),n.replace(__,""),"important"):t[r]=n}}const C_=["Webkit","Moz","ms"],tg={};function $D(t,e){const n=tg[e];if(n)return n;let r=Sr(e);if(r!=="filter"&&r in t)return tg[e]=r;r=vd(r);for(let i=0;i<C_.length;i++){const s=C_[i]+r;if(s in t)return tg[e]=s}return e}const k_="http://www.w3.org/1999/xlink";function BD(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(k_,e.slice(6,e.length)):t.setAttributeNS(k_,e,n);else{const s=T3(e);n==null||s&&!ZE(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function VD(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=ZE(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Is(t,e,n,r){t.addEventListener(e,n,r)}function zD(t,e,n,r){t.removeEventListener(e,n,r)}function UD(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=HD(e);if(r){const c=s[e]=qD(r,i);Is(t,a,c,l)}else o&&(zD(t,a,o,l),s[e]=void 0)}}const S_=/(?:Once|Passive|Capture)$/;function HD(t){let e;if(S_.test(t)){e={};let r;for(;r=t.match(S_);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hi(t.slice(2)),e]}let ng=0;const jD=Promise.resolve(),WD=()=>ng||(jD.then(()=>ng=0),ng=Date.now());function qD(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ei(KD(r,n.value),e,5,[r])};return n.value=t,n.attached=WD(),n}function KD(t,e){if(Oe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const E_=/^on[a-z]/,GD=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?FD(t,r,i):e==="style"?LD(t,n,r):gd(e)?C0(e)||UD(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):YD(t,e,r,i))?VD(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),BD(t,e,r,i))};function YD(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&E_.test(e)&&Ge(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||E_.test(e)&&Ot(n)?!1:e in t}function mA(t,e){const n=Pe(t);class r extends Tm{constructor(s){super(n,s,e)}}return r.def=n,r}const QD=t=>mA(t,PA),JD=typeof HTMLElement<"u"?HTMLElement:class{};class Tm extends JD{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,mt(()=>{this._connected||(Mv(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!Oe(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Ch(this._props[l])),(a||(a=Object.create(null)))[Sr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=Oe(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Sr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Sr(e);this._numberProps&&this._numberProps[r]&&(n=Ch(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(hi(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(hi(e),n+""):n||this.removeAttribute(hi(e))))}_update(){Mv(this._createVNode(),this.shadowRoot)}_createVNode(){const e=oe(this._def,tn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),hi(s)!==s&&r(hi(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Tm){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function XD(t="$style"){{const e=Lt();if(!e)return Vt;const n=e.type.__cssModules;if(!n)return Vt;const r=n[t];return r||Vt}}function ZD(t){const e=Lt();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Rv(s,i))},r=()=>{const i=t(e.proxy);Ov(e.subTree,i),n(i)};TT(r),_n(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),kc(()=>i.disconnect())})}function Ov(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Ov(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Rv(t.el,e);else if(t.type===it)t.children.forEach(n=>Ov(n,e));else if(t.type===pa){let{el:n,anchor:r}=t;for(;n&&(Rv(n,e),n!==r);)n=n.nextSibling}}function Rv(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const to="transition",zc="animation",vi=(t,{slots:e})=>Ze(xT,gA(t),e);vi.displayName="Transition";const pA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},eN=vi.props=tn({},U0,pA),Yo=(t,e=[])=>{Oe(t)?t.forEach(n=>n(...e)):t&&t(...e)},T_=t=>t?Oe(t)?t.some(e=>e.length>1):t.length>1:!1;function gA(t){const e={};for(const Q in t)Q in pA||(e[Q]=t[Q]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=tN(i),p=m&&m[0],y=m&&m[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:T,onLeave:_,onLeaveCancelled:E,onBeforeAppear:C=v,onAppear:k=b,onAppearCancelled:S=T}=e,O=(Q,q,L)=>{oo(Q,q?u:a),oo(Q,q?c:o),L&&L()},D=(Q,q)=>{Q._isLeaving=!1,oo(Q,d),oo(Q,h),oo(Q,f),q&&q()},te=Q=>(q,L)=>{const G=Q?k:b,N=()=>O(q,Q,L);Yo(G,[q,N]),A_(()=>{oo(q,Q?l:s),ks(q,Q?u:a),T_(G)||x_(q,r,p,N)})};return tn(e,{onBeforeEnter(Q){Yo(v,[Q]),ks(Q,s),ks(Q,o)},onBeforeAppear(Q){Yo(C,[Q]),ks(Q,l),ks(Q,c)},onEnter:te(!1),onAppear:te(!0),onLeave(Q,q){Q._isLeaving=!0;const L=()=>D(Q,q);ks(Q,d),bA(),ks(Q,f),A_(()=>{Q._isLeaving&&(oo(Q,d),ks(Q,h),T_(_)||x_(Q,r,y,L))}),Yo(_,[Q,L])},onEnterCancelled(Q){O(Q,!1),Yo(T,[Q])},onAppearCancelled(Q){O(Q,!0),Yo(S,[Q])},onLeaveCancelled(Q){D(Q),Yo(E,[Q])}})}function tN(t){if(t==null)return null;if(_t(t))return[rg(t.enter),rg(t.leave)];{const e=rg(t);return[e,e]}}function rg(t){return Ch(t)}function ks(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function oo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function A_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let nN=0;function x_(t,e,n,r){const i=t._endId=++nN,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=vA(t,e);if(!o)return r();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),s()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function vA(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${to}Delay`),s=r(`${to}Duration`),o=P_(i,s),a=r(`${zc}Delay`),l=r(`${zc}Duration`),c=P_(a,l);let u=null,d=0,f=0;e===to?o>0&&(u=to,d=o,f=s.length):e===zc?c>0&&(u=zc,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?to:zc:null,f=u?u===to?s.length:l.length:0);const h=u===to&&/\b(transform|all)(,|$)/.test(r(`${to}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function P_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>I_(n)+I_(t[r])))}function I_(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function bA(){return document.body.offsetHeight}const yA=new WeakMap,wA=new WeakMap,_A={name:"TransitionGroup",props:tn({},eN,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Lt(),r=z0();let i,s;return Cd(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!lN(i[0].el,n.vnode.el,o))return;i.forEach(sN),i.forEach(oN);const a=i.filter(aN);bA(),a.forEach(l=>{const c=l.el,u=c.style;ks(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,oo(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=gt(t),a=gA(o);let l=o.tag||it;i=s,s=e.default?Cm(e.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&Aa(u,Hl(u,a,r,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Aa(u,Hl(u,a,r,n)),yA.set(u,u.el.getBoundingClientRect())}return oe(l,null,s)}}},rN=t=>delete t.mode;_A.props;const iN=_A;function sN(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function oN(t){wA.set(t,t.el.getBoundingClientRect())}function aN(t){const e=yA.get(t),n=wA.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function lN(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=vA(r);return i.removeChild(r),s}const xo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Oe(e)?n=>Nl(e,n):e};function cN(t){t.target.composing=!0}function O_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vu={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=xo(i);const s=r||i.props&&i.props.type==="number";Is(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=_h(a)),t._assign(a)}),n&&Is(t,"change",()=>{t.value=t.value.trim()}),e||(Is(t,"compositionstart",cN),Is(t,"compositionend",O_),Is(t,"change",O_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=xo(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&_h(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},Pa={deep:!0,created(t,e,n){t._assign=xo(n),Is(t,"change",()=>{const r=t._modelValue,i=Wl(t),s=t.checked,o=t._assign;if(Oe(r)){const a=hm(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Va(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(kA(t,s))})},mounted:R_,beforeUpdate(t,e,n){t._assign=xo(n),R_(t,e,n)}};function R_(t,{value:e,oldValue:n},r){t._modelValue=e,Oe(e)?t.checked=hm(e,r.props.value)>-1:Va(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=So(e,kA(t,!0)))}const X0={created(t,{value:e},n){t.checked=So(e,n.props.value),t._assign=xo(n),Is(t,"change",()=>{t._assign(Wl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=xo(r),e!==n&&(t.checked=So(e,r.props.value))}},CA={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Va(e);Is(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?_h(Wl(o)):Wl(o));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=xo(r)},mounted(t,{value:e}){M_(t,e)},beforeUpdate(t,e,n){t._assign=xo(n)},updated(t,{value:e}){M_(t,e)}};function M_(t,e){const n=t.multiple;if(!(n&&!Oe(e)&&!Va(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=Wl(s);if(n)Oe(e)?s.selected=hm(e,o)>-1:s.selected=e.has(o);else if(So(Wl(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Wl(t){return"_value"in t?t._value:t.value}function kA(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const SA={created(t,e,n){cf(t,e,n,null,"created")},mounted(t,e,n){cf(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){cf(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){cf(t,e,n,r,"updated")}};function EA(t,e){switch(t){case"SELECT":return CA;case"TEXTAREA":return Vu;default:switch(e){case"checkbox":return Pa;case"radio":return X0;default:return Vu}}}function cf(t,e,n,r,i){const o=EA(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function uN(){Vu.getSSRProps=({value:t})=>({value:t}),X0.getSSRProps=({value:t},e)=>{if(e.props&&So(e.props.value,t))return{checked:!0}},Pa.getSSRProps=({value:t},e)=>{if(Oe(t)){if(e.props&&hm(t,e.props.value)>-1)return{checked:!0}}else if(Va(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},SA.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=EA(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const dN=["ctrl","shift","alt","meta"],fN={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>dN.some(n=>t[`${n}Key`]&&!e.includes(n))},qt=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=fN[e[i]];if(s&&s(n,e))return}return t(n,...r)},hN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fn=(t,e)=>n=>{if(!("key"in n))return;const r=hi(n.key);if(e.some(i=>i===r||hN[i]===r))return t(n)},fr={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Uc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Uc(t,!0),r.enter(t)):r.leave(t,()=>{Uc(t,!1)}):Uc(t,e))},beforeUnmount(t,{value:e}){Uc(t,e)}};function Uc(t,e){t.style.display=e?t._vod:"none"}function mN(){fr.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const TA=tn({patchProp:GD},ND);let fu,D_=!1;function AA(){return fu||(fu=QT(TA))}function xA(){return fu=D_?fu:JT(TA),D_=!0,fu}const Mv=(...t)=>{AA().render(...t)},PA=(...t)=>{xA().hydrate(...t)},IA=(...t)=>{const e=AA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=RA(r);if(!i)return;const s=e._component;!Ge(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},OA=(...t)=>{const e=xA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=RA(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function RA(t){return Ot(t)?document.querySelector(t):t}let N_=!1;const pN=()=>{N_||(N_=!0,uN(),mN())},gN=()=>{},vN=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:xT,BaseTransitionPropsValidators:U0,Comment:rr,EffectScope:T0,Fragment:it,KeepAlive:$M,ReactiveEffect:bd,Static:pa,Suspense:TM,Teleport:ZT,Text:ds,Transition:vi,TransitionGroup:iN,VueElement:Tm,assertNumber:mM,callWithAsyncErrorHandling:ei,callWithErrorHandling:Ms,camelize:Sr,capitalize:vd,cloneVNode:$i,compatUtils:MD,compile:gN,computed:R,createApp:IA,createBlock:Ue,createCommentVNode:Ie,createElementBlock:ae,createElementVNode:x,createHydrationRenderer:JT,createPropsRestProxy:XM,createRenderer:QT,createSSRApp:OA,createSlots:BT,createStaticVNode:wD,createTextVNode:un,createVNode:oe,customRef:cM,defineAsyncComponent:FM,defineComponent:Pe,defineCustomElement:mA,defineEmits:HM,defineExpose:jM,defineModel:KM,defineOptions:WM,defineProps:UM,defineSSRCustomElement:QD,defineSlots:qM,get devtools(){return yl},effect:I3,effectScope:tT,getCurrentInstance:Lt,getCurrentScope:A0,getTransitionRawChildren:Cm,guardReactiveProps:iA,h:Ze,handleError:za,hasInjectionContext:aD,hydrate:PA,initCustomFormatter:xD,initDirectivesForSSR:pN,inject:ct,isMemoSame:fA,isProxy:O0,isReactive:ha,isReadonly:Ta,isRef:Gt,isRuntimeOnly:ED,isShallow:Ou,isVNode:To,markRaw:Ru,mergeDefaults:QM,mergeModels:JM,mergeProps:ti,nextTick:mt,normalizeClass:X,normalizeProps:S3,normalizeStyle:vn,onActivated:IT,onBeforeMount:j0,onBeforeUnmount:Ur,onBeforeUpdate:RT,onDeactivated:H0,onErrorCaptured:FT,onMounted:_n,onRenderTracked:NT,onRenderTriggered:DT,onScopeDispose:x0,onServerPrefetch:MT,onUnmounted:kc,onUpdated:Cd,openBlock:V,popScopeId:$0,provide:Rn,proxyRefs:D0,pushScopeId:L0,queuePostFlushCb:F0,reactive:zr,readonly:yd,ref:ie,registerRuntimeCompiler:SD,render:Mv,renderList:yn,renderSlot:ft,resolveComponent:Pi,resolveDirective:$T,resolveDynamicComponent:Kn,resolveFilter:RD,resolveTransitionHooks:Hl,setBlockTracking:Tv,setDevtoolsHook:CT,setTransitionHooks:Aa,shallowReactive:pT,shallowReadonly:iM,shallowRef:Rs,ssrContextKey:uA,ssrUtils:OD,stop:O3,toDisplayString:Ae,toHandlerKey:lu,toHandlers:zT,toRaw:gt,toRef:Wn,toRefs:Cc,toValue:oM,transformVNodeArgs:bD,triggerRef:bl,unref:g,useAttrs:kd,useCssModule:XD,useCssVars:ZD,useModel:YM,useSSRContext:dA,useSlots:Ua,useTransitionState:z0,vModelCheckbox:Pa,vModelDynamic:SA,vModelRadio:X0,vModelSelect:CA,vModelText:Vu,vShow:fr,version:hA,warn:bT,watch:Le,watchEffect:RM,watchPostEffect:TT,watchSyncEffect:MM,withAsyncContext:ZM,withCtx:Ee,withDefaults:GM,withDirectives:Wt,withKeys:Fn,withMemo:PD,withModifiers:qt,withScopeId:wM},Symbol.toStringTag,{value:"Module"}));var F_;const vr=typeof window<"u",bN=t=>typeof t=="string",MA=()=>{},DA=vr&&((F_=window==null?void 0:window.navigator)==null?void 0:F_.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function NA(t){return typeof t=="function"?t():g(t)}function yN(t){return t}function Z0(t){return A0()?(x0(t),!0):!1}function wN(t,e=!0){Lt()?_n(t):e?t():mt(t)}function vo(t){var e;const n=NA(t);return(e=n==null?void 0:n.$el)!=null?e:n}const ey=vr?window:void 0;function ga(...t){let e,n,r,i;if(bN(t[0])||Array.isArray(t[0])?([n,r,i]=t,e=ey):[e,n,r,i]=t,!e)return MA;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},a=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=Le(()=>[vo(e),NA(i)],([u,d])=>{o(),u&&s.push(...n.flatMap(f=>r.map(h=>a(u,f,h,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return Z0(c),c}let L_=!1;function FA(t,e,n={}){const{window:r=ey,ignore:i=[],capture:s=!0,detectIframe:o=!1}=n;if(!r)return;DA&&!L_&&(L_=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",MA)));let a=!0;const l=f=>i.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(m=>m===f.target||f.composedPath().includes(m));{const m=vo(h);return m&&(f.target===m||f.composedPath().includes(m))}}),u=[ga(r,"click",f=>{const h=vo(t);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:s}),ga(r,"pointerdown",f=>{const h=vo(t);h&&(a=!f.composedPath().includes(h)&&!l(f))},{passive:!0}),o&&ga(r,"blur",f=>{var h;const m=vo(t);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(m!=null&&m.contains(r.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function _N(t,e=!1){const n=ie(),r=()=>n.value=!!t();return r(),wN(r,e),n}const $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B_="__vueuse_ssr_handlers__";$_[B_]=$_[B_]||{};var V_=Object.getOwnPropertySymbols,CN=Object.prototype.hasOwnProperty,kN=Object.prototype.propertyIsEnumerable,SN=(t,e)=>{var n={};for(var r in t)CN.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&V_)for(var r of V_(t))e.indexOf(r)<0&&kN.call(t,r)&&(n[r]=t[r]);return n};function Am(t,e,n={}){const r=n,{window:i=ey}=r,s=SN(r,["window"]);let o;const a=_N(()=>i&&"ResizeObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},c=Le(()=>vo(t),d=>{l(),a.value&&i&&d&&(o=new ResizeObserver(e),o.observe(d,s))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return Z0(u),{isSupported:a,stop:u}}var z_;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(z_||(z_={}));var EN=Object.defineProperty,U_=Object.getOwnPropertySymbols,TN=Object.prototype.hasOwnProperty,AN=Object.prototype.propertyIsEnumerable,H_=(t,e,n)=>e in t?EN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xN=(t,e)=>{for(var n in e||(e={}))TN.call(e,n)&&H_(t,n,e[n]);if(U_)for(var n of U_(e))AN.call(e,n)&&H_(t,n,e[n]);return t};const PN={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};xN({linear:yN},PN);const IN=()=>vr&&/firefox/i.test(window.navigator.userAgent);var ON=typeof global=="object"&&global&&global.Object===Object&&global;const LA=ON;var RN=typeof self=="object"&&self&&self.Object===Object&&self,MN=LA||RN||Function("return this")();const zi=MN;var DN=zi.Symbol;const bi=DN;var $A=Object.prototype,NN=$A.hasOwnProperty,FN=$A.toString,Hc=bi?bi.toStringTag:void 0;function LN(t){var e=NN.call(t,Hc),n=t[Hc];try{t[Hc]=void 0;var r=!0}catch{}var i=FN.call(t);return r&&(e?t[Hc]=n:delete t[Hc]),i}var $N=Object.prototype,BN=$N.toString;function VN(t){return BN.call(t)}var zN="[object Null]",UN="[object Undefined]",j_=bi?bi.toStringTag:void 0;function No(t){return t==null?t===void 0?UN:zN:j_&&j_ in Object(t)?LN(t):VN(t)}function yi(t){return t!=null&&typeof t=="object"}var HN="[object Symbol]";function xm(t){return typeof t=="symbol"||yi(t)&&No(t)==HN}function jN(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var WN=Array.isArray;const Ln=WN;var qN=1/0,W_=bi?bi.prototype:void 0,q_=W_?W_.toString:void 0;function BA(t){if(typeof t=="string")return t;if(Ln(t))return jN(t,BA)+"";if(xm(t))return q_?q_.call(t):"";var e=t+"";return e=="0"&&1/t==-qN?"-0":e}var KN=/\s/;function GN(t){for(var e=t.length;e--&&KN.test(t.charAt(e)););return e}var YN=/^\s+/;function QN(t){return t&&t.slice(0,GN(t)+1).replace(YN,"")}function ln(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var K_=0/0,JN=/^[-+]0x[0-9a-f]+$/i,XN=/^0b[01]+$/i,ZN=/^0o[0-7]+$/i,eF=parseInt;function Dv(t){if(typeof t=="number")return t;if(xm(t))return K_;if(ln(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ln(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=QN(t);var n=XN.test(t);return n||ZN.test(t)?eF(t.slice(2),n?2:8):JN.test(t)?K_:+t}var G_=1/0,tF=17976931348623157e292;function nF(t){if(!t)return t===0?t:0;if(t=Dv(t),t===G_||t===-G_){var e=t<0?-1:1;return e*tF}return t===t?t:0}function rF(t){var e=nF(t),n=e%1;return e===e?n?e-n:e:0}function po(t){return t}var iF="[object AsyncFunction]",sF="[object Function]",oF="[object GeneratorFunction]",aF="[object Proxy]";function Ia(t){if(!ln(t))return!1;var e=No(t);return e==sF||e==oF||e==iF||e==aF}var lF=zi["__core-js_shared__"];const ig=lF;var Y_=function(){var t=/[^.]+$/.exec(ig&&ig.keys&&ig.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cF(t){return!!Y_&&Y_ in t}var uF=Function.prototype,dF=uF.toString;function Ha(t){if(t!=null){try{return dF.call(t)}catch{}try{return t+""}catch{}}return""}var fF=/[\\^$.*+?()[\]{}|]/g,hF=/^\[object .+?Constructor\]$/,mF=Function.prototype,pF=Object.prototype,gF=mF.toString,vF=pF.hasOwnProperty,bF=RegExp("^"+gF.call(vF).replace(fF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yF(t){if(!ln(t)||cF(t))return!1;var e=Ia(t)?bF:hF;return e.test(Ha(t))}function wF(t,e){return t==null?void 0:t[e]}function ja(t,e){var n=wF(t,e);return yF(n)?n:void 0}var _F=ja(zi,"WeakMap");const Nv=_F;var Q_=Object.create,CF=function(){function t(){}return function(e){if(!ln(e))return{};if(Q_)return Q_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const kF=CF;function SF(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function VA(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var EF=800,TF=16,AF=Date.now;function xF(t){var e=0,n=0;return function(){var r=AF(),i=TF-(r-n);if(n=r,i>0){if(++e>=EF)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function PF(t){return function(){return t}}var IF=function(){try{var t=ja(Object,"defineProperty");return t({},"",{}),t}catch{}}();const xh=IF;var OF=xh?function(t,e){return xh(t,"toString",{configurable:!0,enumerable:!1,value:PF(e),writable:!0})}:po;const RF=OF;var MF=xF(RF);const zA=MF;function DF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function NF(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var FF=9007199254740991,LF=/^(?:0|[1-9]\d*)$/;function Pm(t,e){var n=typeof t;return e=e??FF,!!e&&(n=="number"||n!="symbol"&&LF.test(t))&&t>-1&&t%1==0&&t<e}function ty(t,e,n){e=="__proto__"&&xh?xh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Sd(t,e){return t===e||t!==t&&e!==e}var $F=Object.prototype,BF=$F.hasOwnProperty;function ny(t,e,n){var r=t[e];(!(BF.call(t,e)&&Sd(r,n))||n===void 0&&!(e in t))&&ty(t,e,n)}function Sc(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?ty(n,a,l):ny(n,a,l)}return n}var J_=Math.max;function UA(t,e,n){return e=J_(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=J_(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),SF(t,this,a)}}function VF(t,e){return zA(UA(t,e,po),t+"")}var zF=9007199254740991;function ry(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zF}function Im(t){return t!=null&&ry(t.length)&&!Ia(t)}function UF(t,e,n){if(!ln(n))return!1;var r=typeof e;return(r=="number"?Im(n)&&Pm(e,n.length):r=="string"&&e in n)?Sd(n[e],t):!1}function HA(t){return VF(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&UF(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var HF=Object.prototype;function iy(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||HF;return t===n}function jF(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var WF="[object Arguments]";function X_(t){return yi(t)&&No(t)==WF}var jA=Object.prototype,qF=jA.hasOwnProperty,KF=jA.propertyIsEnumerable,GF=X_(function(){return arguments}())?X_:function(t){return yi(t)&&qF.call(t,"callee")&&!KF.call(t,"callee")};const zu=GF;function YF(){return!1}var WA=typeof Xr=="object"&&Xr&&!Xr.nodeType&&Xr,Z_=WA&&typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,QF=Z_&&Z_.exports===WA,e1=QF?zi.Buffer:void 0,JF=e1?e1.isBuffer:void 0,XF=JF||YF;const Uu=XF;var ZF="[object Arguments]",eL="[object Array]",tL="[object Boolean]",nL="[object Date]",rL="[object Error]",iL="[object Function]",sL="[object Map]",oL="[object Number]",aL="[object Object]",lL="[object RegExp]",cL="[object Set]",uL="[object String]",dL="[object WeakMap]",fL="[object ArrayBuffer]",hL="[object DataView]",mL="[object Float32Array]",pL="[object Float64Array]",gL="[object Int8Array]",vL="[object Int16Array]",bL="[object Int32Array]",yL="[object Uint8Array]",wL="[object Uint8ClampedArray]",_L="[object Uint16Array]",CL="[object Uint32Array]",nn={};nn[mL]=nn[pL]=nn[gL]=nn[vL]=nn[bL]=nn[yL]=nn[wL]=nn[_L]=nn[CL]=!0;nn[ZF]=nn[eL]=nn[fL]=nn[tL]=nn[hL]=nn[nL]=nn[rL]=nn[iL]=nn[sL]=nn[oL]=nn[aL]=nn[lL]=nn[cL]=nn[uL]=nn[dL]=!1;function kL(t){return yi(t)&&ry(t.length)&&!!nn[No(t)]}function sy(t){return function(e){return t(e)}}var qA=typeof Xr=="object"&&Xr&&!Xr.nodeType&&Xr,hu=qA&&typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,SL=hu&&hu.exports===qA,sg=SL&&LA.process,EL=function(){try{var t=hu&&hu.require&&hu.require("util").types;return t||sg&&sg.binding&&sg.binding("util")}catch{}}();const ql=EL;var t1=ql&&ql.isTypedArray,TL=t1?sy(t1):kL;const oy=TL;var AL=Object.prototype,xL=AL.hasOwnProperty;function KA(t,e){var n=Ln(t),r=!n&&zu(t),i=!n&&!r&&Uu(t),s=!n&&!r&&!i&&oy(t),o=n||r||i||s,a=o?jF(t.length,String):[],l=a.length;for(var c in t)(e||xL.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Pm(c,l)))&&a.push(c);return a}function GA(t,e){return function(n){return t(e(n))}}var PL=GA(Object.keys,Object);const IL=PL;var OL=Object.prototype,RL=OL.hasOwnProperty;function ML(t){if(!iy(t))return IL(t);var e=[];for(var n in Object(t))RL.call(t,n)&&n!="constructor"&&e.push(n);return e}function Om(t){return Im(t)?KA(t):ML(t)}function DL(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var NL=Object.prototype,FL=NL.hasOwnProperty;function LL(t){if(!ln(t))return DL(t);var e=iy(t),n=[];for(var r in t)r=="constructor"&&(e||!FL.call(t,r))||n.push(r);return n}function Ec(t){return Im(t)?KA(t,!0):LL(t)}var $L=HA(function(t,e){Sc(e,Ec(e),t)});const YA=$L;var BL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VL=/^\w*$/;function ay(t,e){if(Ln(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||xm(t)?!0:VL.test(t)||!BL.test(t)||e!=null&&t in Object(e)}var zL=ja(Object,"create");const Hu=zL;function UL(){this.__data__=Hu?Hu(null):{},this.size=0}function HL(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var jL="__lodash_hash_undefined__",WL=Object.prototype,qL=WL.hasOwnProperty;function KL(t){var e=this.__data__;if(Hu){var n=e[t];return n===jL?void 0:n}return qL.call(e,t)?e[t]:void 0}var GL=Object.prototype,YL=GL.hasOwnProperty;function QL(t){var e=this.__data__;return Hu?e[t]!==void 0:YL.call(e,t)}var JL="__lodash_hash_undefined__";function XL(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hu&&e===void 0?JL:e,this}function Oa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oa.prototype.clear=UL;Oa.prototype.delete=HL;Oa.prototype.get=KL;Oa.prototype.has=QL;Oa.prototype.set=XL;function ZL(){this.__data__=[],this.size=0}function Rm(t,e){for(var n=t.length;n--;)if(Sd(t[n][0],e))return n;return-1}var e$=Array.prototype,t$=e$.splice;function n$(t){var e=this.__data__,n=Rm(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():t$.call(e,n,1),--this.size,!0}function r$(t){var e=this.__data__,n=Rm(e,t);return n<0?void 0:e[n][1]}function i$(t){return Rm(this.__data__,t)>-1}function s$(t,e){var n=this.__data__,r=Rm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ks(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ks.prototype.clear=ZL;Ks.prototype.delete=n$;Ks.prototype.get=r$;Ks.prototype.has=i$;Ks.prototype.set=s$;var o$=ja(zi,"Map");const ju=o$;function a$(){this.size=0,this.__data__={hash:new Oa,map:new(ju||Ks),string:new Oa}}function l$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Mm(t,e){var n=t.__data__;return l$(e)?n[typeof e=="string"?"string":"hash"]:n.map}function c$(t){var e=Mm(this,t).delete(t);return this.size-=e?1:0,e}function u$(t){return Mm(this,t).get(t)}function d$(t){return Mm(this,t).has(t)}function f$(t,e){var n=Mm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Gs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gs.prototype.clear=a$;Gs.prototype.delete=c$;Gs.prototype.get=u$;Gs.prototype.has=d$;Gs.prototype.set=f$;var h$="Expected a function";function ly(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(h$);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ly.Cache||Gs),n}ly.Cache=Gs;var m$=500;function p$(t){var e=ly(t,function(r){return n.size===m$&&n.clear(),r}),n=e.cache;return e}var g$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v$=/\\(\\)?/g,b$=p$(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(g$,function(n,r,i,s){e.push(i?s.replace(v$,"$1"):r||n)}),e});const y$=b$;function QA(t){return t==null?"":BA(t)}function Ed(t,e){return Ln(t)?t:ay(t,e)?[t]:y$(QA(t))}var w$=1/0;function Tc(t){if(typeof t=="string"||xm(t))return t;var e=t+"";return e=="0"&&1/t==-w$?"-0":e}function Dm(t,e){e=Ed(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Tc(e[n++])];return n&&n==r?t:void 0}function Zn(t,e,n){var r=t==null?void 0:Dm(t,e);return r===void 0?n:r}function cy(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var n1=bi?bi.isConcatSpreadable:void 0;function _$(t){return Ln(t)||zu(t)||!!(n1&&t&&t[n1])}function JA(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=_$),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?JA(a,e-1,n,r,i):cy(i,a):r||(i[i.length]=a)}return i}function XA(t){var e=t==null?0:t.length;return e?JA(t,1):[]}function C$(t){return zA(UA(t,void 0,XA),t+"")}var k$=GA(Object.getPrototypeOf,Object);const uy=k$;var S$="[object Object]",E$=Function.prototype,T$=Object.prototype,ZA=E$.toString,A$=T$.hasOwnProperty,x$=ZA.call(Object);function Qr(t){if(!yi(t)||No(t)!=S$)return!1;var e=uy(t);if(e===null)return!0;var n=A$.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ZA.call(n)==x$}function ex(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function P$(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ex(t,e,n)}var I$="\\ud800-\\udfff",O$="\\u0300-\\u036f",R$="\\ufe20-\\ufe2f",M$="\\u20d0-\\u20ff",D$=O$+R$+M$,N$="\\ufe0e\\ufe0f",F$="\\u200d",L$=RegExp("["+F$+I$+D$+N$+"]");function tx(t){return L$.test(t)}function $$(t){return t.split("")}var nx="\\ud800-\\udfff",B$="\\u0300-\\u036f",V$="\\ufe20-\\ufe2f",z$="\\u20d0-\\u20ff",U$=B$+V$+z$,H$="\\ufe0e\\ufe0f",j$="["+nx+"]",Fv="["+U$+"]",Lv="\\ud83c[\\udffb-\\udfff]",W$="(?:"+Fv+"|"+Lv+")",rx="[^"+nx+"]",ix="(?:\\ud83c[\\udde6-\\uddff]){2}",sx="[\\ud800-\\udbff][\\udc00-\\udfff]",q$="\\u200d",ox=W$+"?",ax="["+H$+"]?",K$="(?:"+q$+"(?:"+[rx,ix,sx].join("|")+")"+ax+ox+")*",G$=ax+ox+K$,Y$="(?:"+[rx+Fv+"?",Fv,ix,sx,j$].join("|")+")",Q$=RegExp(Lv+"(?="+Lv+")|"+Y$+G$,"g");function J$(t){return t.match(Q$)||[]}function X$(t){return tx(t)?J$(t):$$(t)}function Z$(t){return function(e){e=QA(e);var n=tx(e)?X$(e):void 0,r=n?n[0]:e.charAt(0),i=n?P$(n,1).join(""):e.slice(1);return r[t]()+i}}var e6=Z$("toUpperCase");const t6=e6;function r1(){if(!arguments.length)return[];var t=arguments[0];return Ln(t)?t:[t]}function n6(){this.__data__=new Ks,this.size=0}function r6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function i6(t){return this.__data__.get(t)}function s6(t){return this.__data__.has(t)}var o6=200;function a6(t,e){var n=this.__data__;if(n instanceof Ks){var r=n.__data__;if(!ju||r.length<o6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gs(r)}return n.set(t,e),this.size=n.size,this}function Li(t){var e=this.__data__=new Ks(t);this.size=e.size}Li.prototype.clear=n6;Li.prototype.delete=r6;Li.prototype.get=i6;Li.prototype.has=s6;Li.prototype.set=a6;function l6(t,e){return t&&Sc(e,Om(e),t)}function c6(t,e){return t&&Sc(e,Ec(e),t)}var lx=typeof Xr=="object"&&Xr&&!Xr.nodeType&&Xr,i1=lx&&typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,u6=i1&&i1.exports===lx,s1=u6?zi.Buffer:void 0,o1=s1?s1.allocUnsafe:void 0;function cx(t,e){if(e)return t.slice();var n=t.length,r=o1?o1(n):new t.constructor(n);return t.copy(r),r}function d6(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function ux(){return[]}var f6=Object.prototype,h6=f6.propertyIsEnumerable,a1=Object.getOwnPropertySymbols,m6=a1?function(t){return t==null?[]:(t=Object(t),d6(a1(t),function(e){return h6.call(t,e)}))}:ux;const dy=m6;function p6(t,e){return Sc(t,dy(t),e)}var g6=Object.getOwnPropertySymbols,v6=g6?function(t){for(var e=[];t;)cy(e,dy(t)),t=uy(t);return e}:ux;const dx=v6;function b6(t,e){return Sc(t,dx(t),e)}function fx(t,e,n){var r=e(t);return Ln(t)?r:cy(r,n(t))}function $v(t){return fx(t,Om,dy)}function y6(t){return fx(t,Ec,dx)}var w6=ja(zi,"DataView");const Bv=w6;var _6=ja(zi,"Promise");const Vv=_6;var C6=ja(zi,"Set");const zv=C6;var l1="[object Map]",k6="[object Object]",c1="[object Promise]",u1="[object Set]",d1="[object WeakMap]",f1="[object DataView]",S6=Ha(Bv),E6=Ha(ju),T6=Ha(Vv),A6=Ha(zv),x6=Ha(Nv),na=No;(Bv&&na(new Bv(new ArrayBuffer(1)))!=f1||ju&&na(new ju)!=l1||Vv&&na(Vv.resolve())!=c1||zv&&na(new zv)!=u1||Nv&&na(new Nv)!=d1)&&(na=function(t){var e=No(t),n=e==k6?t.constructor:void 0,r=n?Ha(n):"";if(r)switch(r){case S6:return f1;case E6:return l1;case T6:return c1;case A6:return u1;case x6:return d1}return e});const Wu=na;var P6=Object.prototype,I6=P6.hasOwnProperty;function O6(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&I6.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var R6=zi.Uint8Array;const Ph=R6;function fy(t){var e=new t.constructor(t.byteLength);return new Ph(e).set(new Ph(t)),e}function M6(t,e){var n=e?fy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var D6=/\w*$/;function N6(t){var e=new t.constructor(t.source,D6.exec(t));return e.lastIndex=t.lastIndex,e}var h1=bi?bi.prototype:void 0,m1=h1?h1.valueOf:void 0;function F6(t){return m1?Object(m1.call(t)):{}}function hx(t,e){var n=e?fy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var L6="[object Boolean]",$6="[object Date]",B6="[object Map]",V6="[object Number]",z6="[object RegExp]",U6="[object Set]",H6="[object String]",j6="[object Symbol]",W6="[object ArrayBuffer]",q6="[object DataView]",K6="[object Float32Array]",G6="[object Float64Array]",Y6="[object Int8Array]",Q6="[object Int16Array]",J6="[object Int32Array]",X6="[object Uint8Array]",Z6="[object Uint8ClampedArray]",eB="[object Uint16Array]",tB="[object Uint32Array]";function nB(t,e,n){var r=t.constructor;switch(e){case W6:return fy(t);case L6:case $6:return new r(+t);case q6:return M6(t,n);case K6:case G6:case Y6:case Q6:case J6:case X6:case Z6:case eB:case tB:return hx(t,n);case B6:return new r;case V6:case H6:return new r(t);case z6:return N6(t);case U6:return new r;case j6:return F6(t)}}function mx(t){return typeof t.constructor=="function"&&!iy(t)?kF(uy(t)):{}}var rB="[object Map]";function iB(t){return yi(t)&&Wu(t)==rB}var p1=ql&&ql.isMap,sB=p1?sy(p1):iB;const oB=sB;var aB="[object Set]";function lB(t){return yi(t)&&Wu(t)==aB}var g1=ql&&ql.isSet,cB=g1?sy(g1):lB;const uB=cB;var dB=1,fB=2,hB=4,px="[object Arguments]",mB="[object Array]",pB="[object Boolean]",gB="[object Date]",vB="[object Error]",gx="[object Function]",bB="[object GeneratorFunction]",yB="[object Map]",wB="[object Number]",vx="[object Object]",_B="[object RegExp]",CB="[object Set]",kB="[object String]",SB="[object Symbol]",EB="[object WeakMap]",TB="[object ArrayBuffer]",AB="[object DataView]",xB="[object Float32Array]",PB="[object Float64Array]",IB="[object Int8Array]",OB="[object Int16Array]",RB="[object Int32Array]",MB="[object Uint8Array]",DB="[object Uint8ClampedArray]",NB="[object Uint16Array]",FB="[object Uint32Array]",Jt={};Jt[px]=Jt[mB]=Jt[TB]=Jt[AB]=Jt[pB]=Jt[gB]=Jt[xB]=Jt[PB]=Jt[IB]=Jt[OB]=Jt[RB]=Jt[yB]=Jt[wB]=Jt[vx]=Jt[_B]=Jt[CB]=Jt[kB]=Jt[SB]=Jt[MB]=Jt[DB]=Jt[NB]=Jt[FB]=!0;Jt[vB]=Jt[gx]=Jt[EB]=!1;function $l(t,e,n,r,i,s){var o,a=e&dB,l=e&fB,c=e&hB;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!ln(t))return t;var u=Ln(t);if(u){if(o=O6(t),!a)return VA(t,o)}else{var d=Wu(t),f=d==gx||d==bB;if(Uu(t))return cx(t,a);if(d==vx||d==px||f&&!i){if(o=l||f?{}:mx(t),!a)return l?b6(t,c6(o,t)):p6(t,l6(o,t))}else{if(!Jt[d])return i?t:{};o=nB(t,d,a)}}s||(s=new Li);var h=s.get(t);if(h)return h;s.set(t,o),uB(t)?t.forEach(function(y){o.add($l(y,e,n,y,t,s))}):oB(t)&&t.forEach(function(y,v){o.set(v,$l(y,e,n,v,t,s))});var m=c?l?y6:$v:l?Ec:Om,p=u?void 0:m(t);return DF(p||t,function(y,v){p&&(v=y,y=t[v]),ny(o,v,$l(y,e,n,v,t,s))}),o}var LB=4;function bx(t){return $l(t,LB)}var $B=1,BB=4;function Fo(t){return $l(t,$B|BB)}var VB=1,zB=4;function hy(t,e){return e=typeof e=="function"?e:void 0,$l(t,VB|zB,e)}var UB="__lodash_hash_undefined__";function HB(t){return this.__data__.set(t,UB),this}function jB(t){return this.__data__.has(t)}function Ih(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Gs;++e<n;)this.add(t[e])}Ih.prototype.add=Ih.prototype.push=HB;Ih.prototype.has=jB;function WB(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function qB(t,e){return t.has(e)}var KB=1,GB=2;function yx(t,e,n,r,i,s){var o=n&KB,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&GB?new Ih:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],p=e[d];if(r)var y=o?r(p,m,d,e,t,s):r(m,p,d,t,e,s);if(y!==void 0){if(y)continue;f=!1;break}if(h){if(!WB(e,function(v,b){if(!qB(h,b)&&(m===v||i(m,v,n,r,s)))return h.push(b)})){f=!1;break}}else if(!(m===p||i(m,p,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function YB(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function QB(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var JB=1,XB=2,ZB="[object Boolean]",e8="[object Date]",t8="[object Error]",n8="[object Map]",r8="[object Number]",i8="[object RegExp]",s8="[object Set]",o8="[object String]",a8="[object Symbol]",l8="[object ArrayBuffer]",c8="[object DataView]",v1=bi?bi.prototype:void 0,og=v1?v1.valueOf:void 0;function u8(t,e,n,r,i,s,o){switch(n){case c8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case l8:return!(t.byteLength!=e.byteLength||!s(new Ph(t),new Ph(e)));case ZB:case e8:case r8:return Sd(+t,+e);case t8:return t.name==e.name&&t.message==e.message;case i8:case o8:return t==e+"";case n8:var a=YB;case s8:var l=r&JB;if(a||(a=QB),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=XB,o.set(t,e);var u=yx(a(t),a(e),r,i,s,o);return o.delete(t),u;case a8:if(og)return og.call(t)==og.call(e)}return!1}var d8=1,f8=Object.prototype,h8=f8.hasOwnProperty;function m8(t,e,n,r,i,s){var o=n&d8,a=$v(t),l=a.length,c=$v(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:h8.call(e,f)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var p=!0;s.set(t,e),s.set(e,t);for(var y=o;++d<l;){f=a[d];var v=t[f],b=e[f];if(r)var T=o?r(b,v,f,e,t,s):r(v,b,f,t,e,s);if(!(T===void 0?v===b||i(v,b,n,r,s):T)){p=!1;break}y||(y=f=="constructor")}if(p&&!y){var _=t.constructor,E=e.constructor;_!=E&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof E=="function"&&E instanceof E)&&(p=!1)}return s.delete(t),s.delete(e),p}var p8=1,b1="[object Arguments]",y1="[object Array]",uf="[object Object]",g8=Object.prototype,w1=g8.hasOwnProperty;function v8(t,e,n,r,i,s){var o=Ln(t),a=Ln(e),l=o?y1:Wu(t),c=a?y1:Wu(e);l=l==b1?uf:l,c=c==b1?uf:c;var u=l==uf,d=c==uf,f=l==c;if(f&&Uu(t)){if(!Uu(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new Li),o||oy(t)?yx(t,e,n,r,i,s):u8(t,e,l,n,r,i,s);if(!(n&p8)){var h=u&&w1.call(t,"__wrapped__"),m=d&&w1.call(e,"__wrapped__");if(h||m){var p=h?t.value():t,y=m?e.value():e;return s||(s=new Li),i(p,y,n,r,s)}}return f?(s||(s=new Li),m8(t,e,n,r,i,s)):!1}function Td(t,e,n,r,i){return t===e?!0:t==null||e==null||!yi(t)&&!yi(e)?t!==t&&e!==e:v8(t,e,n,r,Td,i)}var b8=1,y8=2;function w8(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Li;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?Td(u,c,b8|y8,r,d):f))return!1}}return!0}function wx(t){return t===t&&!ln(t)}function _8(t){for(var e=Om(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,wx(i)]}return e}function _x(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function C8(t){var e=_8(t);return e.length==1&&e[0][2]?_x(e[0][0],e[0][1]):function(n){return n===t||w8(n,t,e)}}function k8(t,e){return t!=null&&e in Object(t)}function S8(t,e,n){e=Ed(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Tc(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&ry(i)&&Pm(o,i)&&(Ln(t)||zu(t)))}function Cx(t,e){return t!=null&&S8(t,e,k8)}var E8=1,T8=2;function A8(t,e){return ay(t)&&wx(e)?_x(Tc(t),e):function(n){var r=Zn(n,t);return r===void 0&&r===e?Cx(n,t):Td(e,r,E8|T8)}}function x8(t){return function(e){return e==null?void 0:e[t]}}function P8(t){return function(e){return Dm(e,t)}}function I8(t){return ay(t)?x8(Tc(t)):P8(t)}function O8(t){return typeof t=="function"?t:t==null?po:typeof t=="object"?Ln(t)?A8(t[0],t[1]):C8(t):I8(t)}function R8(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var M8=R8();const D8=M8;var N8=function(){return zi.Date.now()};const ag=N8;var F8="Expected a function",L8=Math.max,$8=Math.min;function Po(t,e,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(F8);e=Dv(e)||0,ln(n)&&(u=!!n.leading,d="maxWait"in n,s=d?L8(Dv(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(C){var k=r,S=i;return r=i=void 0,c=C,o=t.apply(S,k),o}function m(C){return c=C,a=setTimeout(v,e),u?h(C):o}function p(C){var k=C-l,S=C-c,O=e-k;return d?$8(O,s-S):O}function y(C){var k=C-l,S=C-c;return l===void 0||k>=e||k<0||d&&S>=s}function v(){var C=ag();if(y(C))return b(C);a=setTimeout(v,p(C))}function b(C){return a=void 0,f&&r?h(C):(r=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function _(){return a===void 0?o:b(ag())}function E(){var C=ag(),k=y(C);if(r=arguments,i=this,l=C,k){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),o}return E.cancel=T,E.flush=_,E}function Uv(t,e,n){(n!==void 0&&!Sd(t[e],n)||n===void 0&&!(e in t))&&ty(t,e,n)}function B8(t){return yi(t)&&Im(t)}function Hv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function V8(t){return Sc(t,Ec(t))}function z8(t,e,n,r,i,s,o){var a=Hv(t,n),l=Hv(e,n),c=o.get(l);if(c){Uv(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var f=Ln(l),h=!f&&Uu(l),m=!f&&!h&&oy(l);u=l,f||h||m?Ln(a)?u=a:B8(a)?u=VA(a):h?(d=!1,u=cx(l,!0)):m?(d=!1,u=hx(l,!0)):u=[]:Qr(l)||zu(l)?(u=a,zu(a)?u=V8(a):(!ln(a)||Ia(a))&&(u=mx(l))):d=!1}d&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),Uv(t,n,u)}function kx(t,e,n,r,i){t!==e&&D8(e,function(s,o){if(i||(i=new Li),ln(s))z8(t,e,o,n,kx,r,i);else{var a=r?r(Hv(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Uv(t,o,a)}},Ec)}function U8(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var H8=Math.max,j8=Math.min;function W8(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=rF(n),i=n<0?H8(r+i,0):j8(i,r-1)),NF(t,O8(e),i,!0)}function Oh(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}var q8="[object String]";function _1(t){return typeof t=="string"||!Ln(t)&&yi(t)&&No(t)==q8}function K8(t,e){return e.length<2?t:Dm(t,ex(e,0,-1))}function Ra(t){return yi(t)&&t.nodeType===1&&!Qr(t)}function Kl(t,e){return Td(t,e)}function G8(t,e,n){n=typeof n=="function"?n:void 0;var r=n?n(t,e):void 0;return r===void 0?Td(t,e,void 0,n):!!r}function Nm(t){return t==null}function Y8(t){return t===void 0}var Q8=HA(function(t,e,n){kx(t,e,n)});const Sx=Q8;function J8(t,e){return e=Ed(e,t),t=K8(t,e),t==null||delete t[Tc(U8(e))]}function Ex(t,e,n,r){if(!ln(t))return t;e=Ed(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=Tc(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var u=a[l];c=r?r(u,l,a):void 0,c===void 0&&(c=ln(u)?u:Pm(e[i+1])?[]:{})}ny(a,l,c),a=a[l]}return t}function X8(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=Dm(t,o);n(a,o)&&Ex(s,Ed(o,t),a)}return s}function Z8(t,e){return X8(t,e,function(n,r){return Cx(t,r)})}var eV=C$(function(t,e){return t==null?{}:Z8(t,e)});const tV=eV;function nV(t,e,n){return t==null?t:Ex(t,e,n)}var rV="Expected a function";function my(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(rV);return ln(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Po(t,e,{leading:r,maxWait:e,trailing:i})}function iV(t,e){return t==null?!0:J8(t,e)}const Gl=t=>t===void 0,qu=t=>typeof t=="boolean",Nr=t=>typeof t=="number",Tx=t=>!t&&t!==0||Oe(t)&&t.length===0||_t(t)&&!Object.keys(t).length,Ku=t=>typeof Element>"u"?!1:t instanceof Element,sV=t=>Ot(t)?!Number.isNaN(Number(t)):!1,oV=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),C1=t=>Object.keys(t);class aV extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function lV(t,e){throw new aV(`[${t}] ${e}`)}const Ax=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},cV=(t,e)=>{var n;if(!vr||!t||!e)return"";let r=Sr(e);r==="float"&&(r="cssFloat");try{const i=t.style[r];if(i)return i;const s=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return s?s[r]:""}catch{return t.style[r]}};function jv(t,e="px"){if(!t)return"";if(Nr(t)||sV(t))return`${t}${e}`;if(Ot(t))return t}function uV(t,e){if(!vr)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const i=e.offsetTop+n.reduce((l,c)=>l+c.offsetTop,0),s=i+e.offsetHeight,o=t.scrollTop,a=o+t.clientHeight;i<o?t.scrollTop=i:s>a&&(t.scrollTop=s-t.clientHeight)}/*! Element Plus Icons Vue v2.1.0 */var Hr=(t,e)=>{let n=t.__vccOpts||t;for(let[r,i]of e)n[r]=i;return n},dV={name:"ArrowDown"},fV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hV=x("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),mV=[hV];function pV(t,e,n,r,i,s){return V(),ae("svg",fV,mV)}var xx=Hr(dV,[["render",pV],["__file","arrow-down.vue"]]),gV={name:"ArrowLeft"},vV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bV=x("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),yV=[bV];function wV(t,e,n,r,i,s){return V(),ae("svg",vV,yV)}var Wv=Hr(gV,[["render",wV],["__file","arrow-left.vue"]]),_V={name:"ArrowRight"},CV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kV=x("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),SV=[kV];function EV(t,e,n,r,i,s){return V(),ae("svg",CV,SV)}var mu=Hr(_V,[["render",EV],["__file","arrow-right.vue"]]),TV={name:"ArrowUp"},AV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xV=x("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),PV=[xV];function IV(t,e,n,r,i,s){return V(),ae("svg",AV,PV)}var OV=Hr(TV,[["render",IV],["__file","arrow-up.vue"]]),RV={name:"Calendar"},MV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DV=x("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),NV=[DV];function FV(t,e,n,r,i,s){return V(),ae("svg",MV,NV)}var LV=Hr(RV,[["render",FV],["__file","calendar.vue"]]),$V={name:"CircleCheck"},BV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},VV=x("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),zV=x("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),UV=[VV,zV];function HV(t,e,n,r,i,s){return V(),ae("svg",BV,UV)}var jV=Hr($V,[["render",HV],["__file","circle-check.vue"]]),WV={name:"CircleClose"},qV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},KV=x("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),GV=x("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),YV=[KV,GV];function QV(t,e,n,r,i,s){return V(),ae("svg",qV,YV)}var Fm=Hr(WV,[["render",QV],["__file","circle-close.vue"]]),JV={name:"Clock"},XV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZV=x("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),e7=x("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),t7=x("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),n7=[ZV,e7,t7];function r7(t,e,n,r,i,s){return V(),ae("svg",XV,n7)}var i7=Hr(JV,[["render",r7],["__file","clock.vue"]]),s7={name:"Close"},o7={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},a7=x("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),l7=[a7];function c7(t,e,n,r,i,s){return V(),ae("svg",o7,l7)}var k1=Hr(s7,[["render",c7],["__file","close.vue"]]),u7={name:"DArrowLeft"},d7={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},f7=x("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),h7=[f7];function m7(t,e,n,r,i,s){return V(),ae("svg",d7,h7)}var Gu=Hr(u7,[["render",m7],["__file","d-arrow-left.vue"]]),p7={name:"DArrowRight"},g7={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},v7=x("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),b7=[v7];function y7(t,e,n,r,i,s){return V(),ae("svg",g7,b7)}var Yu=Hr(p7,[["render",y7],["__file","d-arrow-right.vue"]]),w7={name:"Hide"},_7={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},C7=x("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),k7=x("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),S7=[C7,k7];function E7(t,e,n,r,i,s){return V(),ae("svg",_7,S7)}var T7=Hr(w7,[["render",E7],["__file","hide.vue"]]),A7={name:"Loading"},x7={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},P7=x("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),I7=[P7];function O7(t,e,n,r,i,s){return V(),ae("svg",x7,I7)}var Px=Hr(A7,[["render",O7],["__file","loading.vue"]]),R7={name:"View"},M7={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},D7=x("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),N7=[D7];function F7(t,e,n,r,i,s){return V(),ae("svg",M7,N7)}var L7=Hr(R7,[["render",F7],["__file","view.vue"]]);const Ix="__epPropKey",qe=t=>t,$7=t=>_t(t)&&!!t[Ix],Lm=(t,e)=>{if(!_t(t)||$7(t))return t;const{values:n,required:r,default:i,type:s,validator:o}=t,l={type:s,required:!!r,validator:n||o?c=>{let u=!1,d=[];if(n&&(d=Array.from(n),At(t,"default")&&d.push(i),u||(u=d.includes(c))),o&&(u||(u=o(c))),!u&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");bT(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[Ix]:!0};return At(t,"default")&&(l.default=i),l},Ct=t=>Oh(Object.entries(t).map(([e,n])=>[e,Lm(n,e)])),Ma=qe([String,Object,Function]),Ox={validating:Px,success:jV,error:Fm},ki=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},Wa=t=>(t.install=gr,t),Xt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},B7=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],tr="update:modelValue",$m="change",py=["","default","small","large"],V7={large:40,default:32,small:24},z7=t=>V7[t||"default"],U7=t=>["",...py].includes(t),va=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],Rx=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),Mx=()=>Math.floor(Math.random()*1e4),Dx=t=>t,H7=["class","style"],j7=/^on[A-Z]/,W7=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=R(()=>((n==null?void 0:n.value)||[]).concat(H7)),i=Lt();return R(i?()=>{var s;return Oh(Object.entries((s=i.proxy)==null?void 0:s.$attrs).filter(([o])=>!r.value.includes(o)&&!(e&&j7.test(o))))}:()=>({}))},Nx=({from:t,replacement:e,scope:n,version:r,ref:i,type:s="API"},o)=>{Le(()=>g(o),a=>{},{immediate:!0})};var q7={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const K7=t=>(e,n)=>G7(e,n,g(t)),G7=(t,e,n)=>Zn(n,t,t).replace(/\{(\w+)\}/g,(r,i)=>{var s;return`${(s=e==null?void 0:e[i])!=null?s:`{${i}}`}`}),Y7=t=>{const e=R(()=>g(t).name),n=Gt(t)?t:ie(t);return{lang:e,locale:n,t:K7(t)}},Fx=Symbol("localeContextKey"),ai=t=>{const e=t||ct(Fx,ie());return Y7(R(()=>e.value||q7))},lg="el",Q7="is-",Qo=(t,e,n,r,i)=>{let s=`${t}-${e}`;return n&&(s+=`-${n}`),r&&(s+=`__${r}`),i&&(s+=`--${i}`),s},Lx=Symbol("namespaceContextKey"),gy=t=>{const e=t||(Lt()?ct(Lx,ie(lg)):ie(lg));return R(()=>g(e)||lg)},vt=(t,e)=>{const n=gy(e);return{namespace:n,b:(p="")=>Qo(n.value,t,p,"",""),e:p=>p?Qo(n.value,t,"",p,""):"",m:p=>p?Qo(n.value,t,"","",p):"",be:(p,y)=>p&&y?Qo(n.value,t,p,y,""):"",em:(p,y)=>p&&y?Qo(n.value,t,"",p,y):"",bm:(p,y)=>p&&y?Qo(n.value,t,p,"",y):"",bem:(p,y,v)=>p&&y&&v?Qo(n.value,t,p,y,v):"",is:(p,...y)=>{const v=y.length>=1?y[0]:!0;return p&&v?`${Q7}${p}`:""},cssVar:p=>{const y={};for(const v in p)p[v]&&(y[`--${n.value}-${v}`]=p[v]);return y},cssVarName:p=>`--${n.value}-${p}`,cssVarBlock:p=>{const y={};for(const v in p)p[v]&&(y[`--${n.value}-${t}-${v}`]=p[v]);return y},cssVarBlockName:p=>`--${n.value}-${t}-${p}`}},J7=Lm({type:qe(Boolean),default:null}),X7=Lm({type:qe(Function)}),$x=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],i={[t]:J7,[n]:X7};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=Lt(),{emit:h}=f,m=f.props,p=R(()=>Ge(m[n])),y=R(()=>m[t]===null),v=k=>{o.value!==!0&&(o.value=!0,a&&(a.value=k),Ge(u)&&u(k))},b=k=>{o.value!==!1&&(o.value=!1,a&&(a.value=k),Ge(d)&&d(k))},T=k=>{if(m.disabled===!0||Ge(c)&&!c())return;const S=p.value&&vr;S&&h(e,!0),(y.value||!S)&&v(k)},_=k=>{if(m.disabled===!0||!vr)return;const S=p.value&&vr;S&&h(e,!1),(y.value||!S)&&b(k)},E=k=>{qu(k)&&(m.disabled&&k?p.value&&h(e,!1):o.value!==k&&(k?v():b()))},C=()=>{o.value?_():T()};return Le(()=>m[t],E),l&&f.appContext.config.globalProperties.$route!==void 0&&Le(()=>({...f.proxy.$route}),()=>{l.value&&o.value&&_()}),_n(()=>{E(m[t])}),{hide:_,show:T,toggle:C,hasUpdateHandler:p}},useModelToggleProps:i,useModelToggleEmits:r}};$x("modelValue");const Bx=t=>{const e=Lt();return R(()=>{var n,r;return(r=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:r[t]})};var Fr="top",wi="bottom",_i="right",Lr="left",vy="auto",Ad=[Fr,wi,_i,Lr],Yl="start",Qu="end",Z7="clippingParents",Vx="viewport",jc="popper",e9="reference",S1=Ad.reduce(function(t,e){return t.concat([e+"-"+Yl,e+"-"+Qu])},[]),Bm=[].concat(Ad,[vy]).reduce(function(t,e){return t.concat([e,e+"-"+Yl,e+"-"+Qu])},[]),t9="beforeRead",n9="read",r9="afterRead",i9="beforeMain",s9="main",o9="afterMain",a9="beforeWrite",l9="write",c9="afterWrite",u9=[t9,n9,r9,i9,s9,o9,a9,l9,c9];function fs(t){return t?(t.nodeName||"").toLowerCase():null}function ri(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Da(t){var e=ri(t).Element;return t instanceof e||t instanceof Element}function mi(t){var e=ri(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function by(t){if(typeof ShadowRoot>"u")return!1;var e=ri(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function d9(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!mi(s)||!fs(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function f9(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!mi(i)||!fs(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const h9={name:"applyStyles",enabled:!0,phase:"write",fn:d9,effect:f9,requires:["computeStyles"]};function as(t){return t.split("-")[0]}var ba=Math.max,Rh=Math.min,Ql=Math.round;function qv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zx(){return!/^((?!chrome|android).)*safari/i.test(qv())}function Jl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&mi(t)&&(i=t.offsetWidth>0&&Ql(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ql(r.height)/t.offsetHeight||1);var o=Da(t)?ri(t):window,a=o.visualViewport,l=!zx()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function yy(t){var e=Jl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ux(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&by(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ls(t){return ri(t).getComputedStyle(t)}function m9(t){return["table","td","th"].indexOf(fs(t))>=0}function Lo(t){return((Da(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vm(t){return fs(t)==="html"?t:t.assignedSlot||t.parentNode||(by(t)?t.host:null)||Lo(t)}function E1(t){return!mi(t)||Ls(t).position==="fixed"?null:t.offsetParent}function p9(t){var e=/firefox/i.test(qv()),n=/Trident/i.test(qv());if(n&&mi(t)){var r=Ls(t);if(r.position==="fixed")return null}var i=Vm(t);for(by(i)&&(i=i.host);mi(i)&&["html","body"].indexOf(fs(i))<0;){var s=Ls(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function xd(t){for(var e=ri(t),n=E1(t);n&&m9(n)&&Ls(n).position==="static";)n=E1(n);return n&&(fs(n)==="html"||fs(n)==="body"&&Ls(n).position==="static")?e:n||p9(t)||e}function wy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function pu(t,e,n){return ba(t,Rh(e,n))}function g9(t,e,n){var r=pu(t,e,n);return r>n?n:r}function Hx(){return{top:0,right:0,bottom:0,left:0}}function jx(t){return Object.assign({},Hx(),t)}function Wx(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var v9=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,jx(typeof e!="number"?e:Wx(e,Ad))};function b9(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=as(n.placement),l=wy(a),c=[Lr,_i].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=v9(i.padding,n),f=yy(s),h=l==="y"?Fr:Lr,m=l==="y"?wi:_i,p=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],v=xd(s),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,T=p/2-y/2,_=d[h],E=b-f[u]-d[m],C=b/2-f[u]/2+T,k=pu(_,C,E),S=l;n.modifiersData[r]=(e={},e[S]=k,e.centerOffset=k-C,e)}}function y9(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ux(e.elements.popper,i)&&(e.elements.arrow=i))}const w9={name:"arrow",enabled:!0,phase:"main",fn:b9,effect:y9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xl(t){return t.split("-")[1]}var _9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function C9(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ql(n*i)/i||0,y:Ql(r*i)/i||0}}function T1(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,m=o.y,p=m===void 0?0:m,y=typeof u=="function"?u({x:h,y:p}):{x:h,y:p};h=y.x,p=y.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),T=Lr,_=Fr,E=window;if(c){var C=xd(n),k="clientHeight",S="clientWidth";if(C===ri(n)&&(C=Lo(n),Ls(C).position!=="static"&&a==="absolute"&&(k="scrollHeight",S="scrollWidth")),C=C,i===Fr||(i===Lr||i===_i)&&s===Qu){_=wi;var O=d&&C===E&&E.visualViewport?E.visualViewport.height:C[k];p-=O-r.height,p*=l?1:-1}if(i===Lr||(i===Fr||i===wi)&&s===Qu){T=_i;var D=d&&C===E&&E.visualViewport?E.visualViewport.width:C[S];h-=D-r.width,h*=l?1:-1}}var te=Object.assign({position:a},c&&_9),Q=u===!0?C9({x:h,y:p},ri(n)):{x:h,y:p};if(h=Q.x,p=Q.y,l){var q;return Object.assign({},te,(q={},q[_]=b?"0":"",q[T]=v?"0":"",q.transform=(E.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",q))}return Object.assign({},te,(e={},e[_]=b?p+"px":"",e[T]=v?h+"px":"",e.transform="",e))}function k9(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:as(e.placement),variation:Xl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,T1(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,T1(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const S9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:k9,data:{}};var df={passive:!0};function E9(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=ri(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,df)}),a&&l.addEventListener("resize",n.update,df),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,df)}),a&&l.removeEventListener("resize",n.update,df)}}const T9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:E9,data:{}};var A9={left:"right",right:"left",bottom:"top",top:"bottom"};function eh(t){return t.replace(/left|right|bottom|top/g,function(e){return A9[e]})}var x9={start:"end",end:"start"};function A1(t){return t.replace(/start|end/g,function(e){return x9[e]})}function _y(t){var e=ri(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Cy(t){return Jl(Lo(t)).left+_y(t).scrollLeft}function P9(t,e){var n=ri(t),r=Lo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=zx();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Cy(t),y:l}}function I9(t){var e,n=Lo(t),r=_y(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ba(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ba(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Cy(t),l=-r.scrollTop;return Ls(i||n).direction==="rtl"&&(a+=ba(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ky(t){var e=Ls(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function qx(t){return["html","body","#document"].indexOf(fs(t))>=0?t.ownerDocument.body:mi(t)&&ky(t)?t:qx(Vm(t))}function gu(t,e){var n;e===void 0&&(e=[]);var r=qx(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=ri(r),o=i?[s].concat(s.visualViewport||[],ky(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(gu(Vm(o)))}function Kv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function O9(t,e){var n=Jl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function x1(t,e,n){return e===Vx?Kv(P9(t,n)):Da(e)?O9(e,n):Kv(I9(Lo(t)))}function R9(t){var e=gu(Vm(t)),n=["absolute","fixed"].indexOf(Ls(t).position)>=0,r=n&&mi(t)?xd(t):t;return Da(r)?e.filter(function(i){return Da(i)&&Ux(i,r)&&fs(i)!=="body"}):[]}function M9(t,e,n,r){var i=e==="clippingParents"?R9(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=x1(t,c,r);return l.top=ba(u.top,l.top),l.right=Rh(u.right,l.right),l.bottom=Rh(u.bottom,l.bottom),l.left=ba(u.left,l.left),l},x1(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Kx(t){var e=t.reference,n=t.element,r=t.placement,i=r?as(r):null,s=r?Xl(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Fr:l={x:o,y:e.y-n.height};break;case wi:l={x:o,y:e.y+e.height};break;case _i:l={x:e.x+e.width,y:a};break;case Lr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?wy(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Yl:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Qu:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Ju(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Z7:a,c=n.rootBoundary,u=c===void 0?Vx:c,d=n.elementContext,f=d===void 0?jc:d,h=n.altBoundary,m=h===void 0?!1:h,p=n.padding,y=p===void 0?0:p,v=jx(typeof y!="number"?y:Wx(y,Ad)),b=f===jc?e9:jc,T=t.rects.popper,_=t.elements[m?b:f],E=M9(Da(_)?_:_.contextElement||Lo(t.elements.popper),l,u,o),C=Jl(t.elements.reference),k=Kx({reference:C,element:T,strategy:"absolute",placement:i}),S=Kv(Object.assign({},T,k)),O=f===jc?S:C,D={top:E.top-O.top+v.top,bottom:O.bottom-E.bottom+v.bottom,left:E.left-O.left+v.left,right:O.right-E.right+v.right},te=t.modifiersData.offset;if(f===jc&&te){var Q=te[i];Object.keys(D).forEach(function(q){var L=[_i,wi].indexOf(q)>=0?1:-1,G=[Fr,wi].indexOf(q)>=0?"y":"x";D[q]+=Q[G]*L})}return D}function D9(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Bm:l,u=Xl(r),d=u?a?S1:S1.filter(function(m){return Xl(m)===u}):Ad,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var h=f.reduce(function(m,p){return m[p]=Ju(t,{placement:p,boundary:i,rootBoundary:s,padding:o})[as(p)],m},{});return Object.keys(h).sort(function(m,p){return h[m]-h[p]})}function N9(t){if(as(t)===vy)return[];var e=eh(t);return[A1(t),e,A1(e)]}function F9(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,p=n.allowedAutoPlacements,y=e.options.placement,v=as(y),b=v===y,T=l||(b||!m?[eh(y)]:N9(y)),_=[y].concat(T).reduce(function(he,le){return he.concat(as(le)===vy?D9(e,{placement:le,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:p}):le)},[]),E=e.rects.reference,C=e.rects.popper,k=new Map,S=!0,O=_[0],D=0;D<_.length;D++){var te=_[D],Q=as(te),q=Xl(te)===Yl,L=[Fr,wi].indexOf(Q)>=0,G=L?"width":"height",N=Ju(e,{placement:te,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),M=L?q?_i:Lr:q?wi:Fr;E[G]>C[G]&&(M=eh(M));var J=eh(M),z=[];if(s&&z.push(N[Q]<=0),a&&z.push(N[M]<=0,N[J]<=0),z.every(function(he){return he})){O=te,S=!1;break}k.set(te,z)}if(S)for(var Z=m?3:1,pe=function(le){var xe=_.find(function(He){var Re=k.get(He);if(Re)return Re.slice(0,le).every(function($e){return $e})});if(xe)return O=xe,"break"},H=Z;H>0;H--){var U=pe(H);if(U==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const L9={name:"flip",enabled:!0,phase:"main",fn:F9,requiresIfExists:["offset"],data:{_skip:!1}};function P1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function I1(t){return[Fr,_i,wi,Lr].some(function(e){return t[e]>=0})}function $9(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ju(e,{elementContext:"reference"}),a=Ju(e,{altBoundary:!0}),l=P1(o,r),c=P1(a,i,s),u=I1(l),d=I1(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const B9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$9};function V9(t,e,n){var r=as(t),i=[Lr,Fr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Lr,_i].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function z9(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Bm.reduce(function(u,d){return u[d]=V9(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const U9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:z9};function H9(t){var e=t.state,n=t.name;e.modifiersData[n]=Kx({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const j9={name:"popperOffsets",enabled:!0,phase:"read",fn:H9,data:{}};function W9(t){return t==="x"?"y":"x"}function q9(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,m=n.tetherOffset,p=m===void 0?0:m,y=Ju(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=as(e.placement),b=Xl(e.placement),T=!b,_=wy(v),E=W9(_),C=e.modifiersData.popperOffsets,k=e.rects.reference,S=e.rects.popper,O=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,D=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),te=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Q={x:0,y:0};if(C){if(s){var q,L=_==="y"?Fr:Lr,G=_==="y"?wi:_i,N=_==="y"?"height":"width",M=C[_],J=M+y[L],z=M-y[G],Z=h?-S[N]/2:0,pe=b===Yl?k[N]:S[N],H=b===Yl?-S[N]:-k[N],U=e.elements.arrow,he=h&&U?yy(U):{width:0,height:0},le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Hx(),xe=le[L],He=le[G],Re=pu(0,k[N],he[N]),$e=T?k[N]/2-Z-Re-xe-D.mainAxis:pe-Re-xe-D.mainAxis,Ne=T?-k[N]/2+Z+Re+He+D.mainAxis:H+Re+He+D.mainAxis,Ke=e.elements.arrow&&xd(e.elements.arrow),P=Ke?_==="y"?Ke.clientTop||0:Ke.clientLeft||0:0,F=(q=te==null?void 0:te[_])!=null?q:0,ne=M+$e-F-P,fe=M+Ne-F,K=pu(h?Rh(J,ne):J,M,h?ba(z,fe):z);C[_]=K,Q[_]=K-M}if(a){var ge,ke=_==="x"?Fr:Lr,ve=_==="x"?wi:_i,ce=C[E],ue=E==="y"?"height":"width",W=ce+y[ke],ee=ce-y[ve],Se=[Fr,Lr].indexOf(v)!==-1,re=(ge=te==null?void 0:te[E])!=null?ge:0,Ce=Se?W:ce-k[ue]-S[ue]-re+D.altAxis,ze=Se?ce+k[ue]+S[ue]-re-D.altAxis:ee,Ye=h&&Se?g9(Ce,ce,ze):pu(h?Ce:W,ce,h?ze:ee);C[E]=Ye,Q[E]=Ye-ce}e.modifiersData[r]=Q}}const K9={name:"preventOverflow",enabled:!0,phase:"main",fn:q9,requiresIfExists:["offset"]};function G9(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Y9(t){return t===ri(t)||!mi(t)?_y(t):G9(t)}function Q9(t){var e=t.getBoundingClientRect(),n=Ql(e.width)/t.offsetWidth||1,r=Ql(e.height)/t.offsetHeight||1;return n!==1||r!==1}function J9(t,e,n){n===void 0&&(n=!1);var r=mi(e),i=mi(e)&&Q9(e),s=Lo(e),o=Jl(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((fs(e)!=="body"||ky(s))&&(a=Y9(e)),mi(e)?(l=Jl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Cy(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function X9(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Z9(t){var e=X9(t);return u9.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function ez(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function tz(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var O1={placement:"bottom",modifiers:[],strategy:"absolute"};function R1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nz(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?O1:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},O1,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:Da(a)?gu(a):a.contextElement?gu(a.contextElement):[],popper:gu(l)};var T=Z9(tz([].concat(r,u.options.modifiers)));return u.orderedModifiers=T.filter(function(_){return _.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var v=u.elements,b=v.reference,T=v.popper;if(R1(b,T)){u.rects={reference:J9(b,xd(T),u.options.strategy==="fixed"),popper:yy(T)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(D){return u.modifiersData[D.name]=Object.assign({},D.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var E=u.orderedModifiers[_],C=E.fn,k=E.options,S=k===void 0?{}:k,O=E.name;typeof C=="function"&&(u=C({state:u,options:S,name:O,instance:h})||u)}}}},update:ez(function(){return new Promise(function(y){h.forceUpdate(),y(u)})}),destroy:function(){p(),f=!0}};if(!R1(a,l))return h;h.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var v=y.name,b=y.options,T=b===void 0?{}:b,_=y.effect;if(typeof _=="function"){var E=_({state:u,name:v,instance:h,options:T}),C=function(){};d.push(E||C)}})}function p(){d.forEach(function(y){return y()}),d=[]}return h}}var rz=[T9,j9,S9,h9,U9,L9,K9,w9,B9],iz=nz({defaultModifiers:rz});const sz=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=oz(l);Object.assign(o.value,c)},requires:["computeStyles"]},i=R(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=g(n);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],r,{name:"applyStyles",enabled:!1}]}}),s=Rs(),o=ie({styles:{popper:{position:g(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return Le(i,l=>{const c=g(s);c&&c.setOptions(l)},{deep:!0}),Le([t,e],([l,c])=>{a(),!(!l||!c)&&(s.value=iz(l,c,g(i)))}),Ur(()=>{a()}),{state:R(()=>{var l;return{...((l=g(s))==null?void 0:l.state)||{}}}),styles:R(()=>g(o).styles),attributes:R(()=>g(o).attributes),update:()=>{var l;return(l=g(s))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=g(s))==null?void 0:l.forceUpdate()},instanceRef:R(()=>g(s))}};function oz(t){const e=Object.keys(t.elements),n=Oh(e.map(i=>[i,t.styles[i]||{}])),r=Oh(e.map(i=>[i,t.attributes[i]]));return{styles:n,attributes:r}}function M1(){let t;const e=(r,i)=>{n(),t=window.setTimeout(r,i)},n=()=>window.clearTimeout(t);return Z0(()=>n()),{registerTimeout:e,cancelTimeout:n}}const D1={prefix:Math.floor(Math.random()*1e4),current:0},az=Symbol("elIdInjection"),Gx=()=>Lt()?ct(az,D1):D1,Yx=t=>{const e=Gx(),n=gy();return R(()=>g(t)||`${n.value}-id-${e.prefix}-${e.current++}`)};let wl=[];const N1=t=>{const e=t;e.key===Xt.esc&&wl.forEach(n=>n(e))},lz=t=>{_n(()=>{wl.length===0&&document.addEventListener("keydown",N1),vr&&wl.push(t)}),Ur(()=>{wl=wl.filter(e=>e!==t),wl.length===0&&vr&&document.removeEventListener("keydown",N1)})};let F1;const Qx=()=>{const t=gy(),e=Gx(),n=R(()=>`${t.value}-popper-container-${e.prefix}`),r=R(()=>`#${n.value}`);return{id:n,selector:r}},cz=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},uz=()=>{const{id:t,selector:e}=Qx();return j0(()=>{vr&&!F1&&!document.body.querySelector(e.value)&&(F1=cz(t.value))}),{id:t,selector:e}},dz=Ct({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),fz=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:i})=>{const{registerTimeout:s}=M1(),{registerTimeout:o,cancelTimeout:a}=M1();return{onOpen:u=>{s(()=>{r(u);const d=g(n);Nr(d)&&d>0&&o(()=>{i(u)},d)},g(t))},onClose:u=>{a(),s(()=>{i(u)},g(e))}}},Jx=Symbol("elForwardRef"),hz=t=>{Rn(Jx,{setForwardRef:n=>{t.value=n}})},mz=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),L1=ie(0),pz=2e3,Xx=Symbol("zIndexContextKey"),gz=t=>{const e=t||(Lt()?ct(Xx,void 0):void 0),n=R(()=>{const s=g(e);return Nr(s)?s:pz}),r=R(()=>n.value+L1.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(L1.value++,r.value)}};function vz(t){const e=ie();function n(){if(t.value==null)return;const{selectionStart:i,selectionEnd:s,value:o}=t.value;if(i==null||s==null)return;const a=o.slice(0,Math.max(0,i)),l=o.slice(Math.max(0,s));e.value={selectionStart:i,selectionEnd:s,value:o,beforeTxt:a,afterTxt:l}}function r(){if(t.value==null||e.value==null)return;const{value:i}=t.value,{beforeTxt:s,afterTxt:o,selectionStart:a}=e.value;if(s==null||o==null||a==null)return;let l=i.length;if(i.endsWith(o))l=i.length-o.length;else if(i.startsWith(s))l=s.length;else{const c=s[a-1],u=i.indexOf(c,a-1);u!==-1&&(l=u+1)}t.value.setSelectionRange(l,l)}return[n,r]}const Ac=Lm({type:String,values:py,required:!1}),Zx=Symbol("size"),bz=()=>{const t=ct(Zx,{});return R(()=>g(t.size)||"")};function yz(t,{afterFocus:e,afterBlur:n}={}){const r=Lt(),{emit:i}=r,s=Rs(),o=ie(!1),a=u=>{o.value||(o.value=!0,i("focus",u),e==null||e())},l=u=>{var d;u.relatedTarget&&((d=s.value)!=null&&d.contains(u.relatedTarget))||(o.value=!1,i("blur",u),n==null||n())},c=()=>{var u;(u=t.value)==null||u.focus()};return Le(s,u=>{u&&u.setAttribute("tabindex","-1")}),ga(s,"click",c),{wrapperRef:s,isFocused:o,handleFocus:a,handleBlur:l}}const eP=Symbol(),Mh=ie();function tP(t,e=void 0){const n=Lt()?ct(eP,Mh):Mh;return t?R(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[t])!=null?i:e}):n}const wz=(t,e,n=!1)=>{var r;const i=!!Lt(),s=i?tP():void 0,o=(r=e==null?void 0:e.provide)!=null?r:i?Rn:void 0;if(!o)return;const a=R(()=>{const l=g(t);return s!=null&&s.value?_z(s.value,l):l});return o(eP,a),o(Fx,R(()=>a.value.locale)),o(Lx,R(()=>a.value.namespace)),o(Xx,R(()=>a.value.zIndex)),o(Zx,{size:R(()=>a.value.size||"")}),(n||!Mh.value)&&(Mh.value=a.value),a},_z=(t,e)=>{var n;const r=[...new Set([...C1(t),...C1(e)])],i={};for(const s of r)i[s]=(n=e[s])!=null?n:t[s];return i},Cz=Ct({a11y:{type:Boolean,default:!0},locale:{type:qe(Object)},size:Ac,button:{type:qe(Object)},experimentalFeatures:{type:qe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:qe(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),kz={},Sz=Pe({name:"ElConfigProvider",props:Cz,setup(t,{slots:e}){Le(()=>t.message,r=>{Object.assign(kz,r??{})},{immediate:!0,deep:!0});const n=wz(t);return()=>ft(e,"default",{config:n==null?void 0:n.value})}}),Ez=ki(Sz);var kt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const Tz=Ct({size:{type:qe([Number,String])},color:{type:String}}),Az=Pe({name:"ElIcon",inheritAttrs:!1}),xz=Pe({...Az,props:Tz,setup(t){const e=t,n=vt("icon"),r=R(()=>{const{size:i,color:s}=e;return!i&&!s?{}:{fontSize:Gl(i)?void 0:jv(i),"--color":s}});return(i,s)=>(V(),ae("i",ti({class:g(n).b(),style:g(r)},i.$attrs),[ft(i.$slots,"default")],16))}});var Pz=kt(xz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const xt=ki(Pz),Sy=Symbol("formContextKey"),Dh=Symbol("formItemContextKey"),Na=(t,e={})=>{const n=ie(void 0),r=e.prop?n:Bx("size"),i=e.global?n:bz(),s=e.form?{size:void 0}:ct(Sy,void 0),o=e.formItem?{size:void 0}:ct(Dh,void 0);return R(()=>r.value||g(t)||(o==null?void 0:o.size)||(s==null?void 0:s.size)||i.value||"")},zm=t=>{const e=Bx("disabled"),n=ct(Sy,void 0);return R(()=>e.value||g(t)||(n==null?void 0:n.disabled)||!1)},qa=()=>{const t=ct(Sy,void 0),e=ct(Dh,void 0);return{form:t,formItem:e}},Ey=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=ie(!1)),r||(r=ie(!1));const i=ie();let s;const o=R(()=>{var a;return!!(!t.label&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return _n(()=>{s=Le([Wn(t,"id"),n],([a,l])=>{const c=a??(l?void 0:Yx().value);c!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(r!=null&&r.value)&&!l&&c&&e.addInputId(c)),i.value=c)},{immediate:!0})}),kc(()=>{s&&s(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:o,inputId:i}};let Ai;const Iz=`
  height:0 !important;
  visibility:hidden !important;
  ${IN()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Oz=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Rz(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Oz.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function $1(t,e=1,n){var r;Ai||(Ai=document.createElement("textarea"),document.body.appendChild(Ai));const{paddingSize:i,borderSize:s,boxSizing:o,contextStyle:a}=Rz(t);Ai.setAttribute("style",`${a};${Iz}`),Ai.value=t.value||t.placeholder||"";let l=Ai.scrollHeight;const c={};o==="border-box"?l=l+s:o==="content-box"&&(l=l-i),Ai.value="";const u=Ai.scrollHeight-i;if(Nr(e)){let d=u*e;o==="border-box"&&(d=d+i+s),l=Math.max(d,l),c.minHeight=`${d}px`}if(Nr(n)){let d=u*n;o==="border-box"&&(d=d+i+s),l=Math.min(d,l)}return c.height=`${l}px`,(r=Ai.parentNode)==null||r.removeChild(Ai),Ai=void 0,c}const Mz=Ct({id:{type:String,default:void 0},size:Ac,disabled:Boolean,modelValue:{type:qe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:qe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ma},prefixIcon:{type:Ma},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:qe([Object,Array,String]),default:()=>Dx({})}}),Dz={[tr]:t=>Ot(t),input:t=>Ot(t),change:t=>Ot(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Nz=["role"],Fz=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Lz=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],$z=Pe({name:"ElInput",inheritAttrs:!1}),Bz=Pe({...$z,props:Mz,emits:Dz,setup(t,{expose:e,emit:n}){const r=t,i=kd(),s=Ua(),o=R(()=>{const re={};return r.containerRole==="combobox"&&(re["aria-haspopup"]=i["aria-haspopup"],re["aria-owns"]=i["aria-owns"],re["aria-expanded"]=i["aria-expanded"]),re}),a=R(()=>[r.type==="textarea"?y.b():p.b(),p.m(h.value),p.is("disabled",m.value),p.is("exceed",he.value),{[p.b("group")]:s.prepend||s.append,[p.bm("group","append")]:s.append,[p.bm("group","prepend")]:s.prepend,[p.m("prefix")]:s.prefix||r.prefixIcon,[p.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:Z.value&&pe.value},i.class]),l=R(()=>[p.e("wrapper"),p.is("focus",D.value)]),c=W7({excludeKeys:R(()=>Object.keys(o.value))}),{form:u,formItem:d}=qa(),{inputId:f}=Ey(r,{formItemContext:d}),h=Na(),m=zm(),p=vt("input"),y=vt("textarea"),v=Rs(),b=Rs(),T=ie(!1),_=ie(!1),E=ie(!1),C=ie(),k=Rs(r.inputStyle),S=R(()=>v.value||b.value),{wrapperRef:O,isFocused:D,handleFocus:te,handleBlur:Q}=yz(S,{afterBlur(){var re;r.validateEvent&&((re=d==null?void 0:d.validate)==null||re.call(d,"blur").catch(Ce=>void 0))}}),q=R(()=>{var re;return(re=u==null?void 0:u.statusIcon)!=null?re:!1}),L=R(()=>(d==null?void 0:d.validateState)||""),G=R(()=>L.value&&Ox[L.value]),N=R(()=>E.value?L7:T7),M=R(()=>[i.style,r.inputStyle]),J=R(()=>[r.inputStyle,k.value,{resize:r.resize}]),z=R(()=>Nm(r.modelValue)?"":String(r.modelValue)),Z=R(()=>r.clearable&&!m.value&&!r.readonly&&!!z.value&&(D.value||T.value)),pe=R(()=>r.showPassword&&!m.value&&!r.readonly&&!!z.value&&(!!z.value||D.value)),H=R(()=>r.showWordLimit&&!!c.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!m.value&&!r.readonly&&!r.showPassword),U=R(()=>z.value.length),he=R(()=>!!H.value&&U.value>Number(c.value.maxlength)),le=R(()=>!!s.suffix||!!r.suffixIcon||Z.value||r.showPassword||H.value||!!L.value&&q.value),[xe,He]=vz(v);Am(b,re=>{if(Ne(),!H.value||r.resize!=="both")return;const Ce=re[0],{width:ze}=Ce.contentRect;C.value={right:`calc(100% - ${ze+15+6}px)`}});const Re=()=>{const{type:re,autosize:Ce}=r;if(!(!vr||re!=="textarea"||!b.value))if(Ce){const ze=_t(Ce)?Ce.minRows:void 0,Ye=_t(Ce)?Ce.maxRows:void 0,ut=$1(b.value,ze,Ye);k.value={overflowY:"hidden",...ut},mt(()=>{b.value.offsetHeight,k.value=ut})}else k.value={minHeight:$1(b.value).minHeight}},Ne=(re=>{let Ce=!1;return()=>{var ze;if(Ce||!r.autosize)return;((ze=b.value)==null?void 0:ze.offsetParent)===null||(re(),Ce=!0)}})(Re),Ke=()=>{const re=S.value,Ce=r.formatter?r.formatter(z.value):z.value;!re||re.value===Ce||(re.value=Ce)},P=async re=>{xe();let{value:Ce}=re.target;if(r.formatter&&(Ce=r.parser?r.parser(Ce):Ce),!_.value){if(Ce===z.value){Ke();return}n(tr,Ce),n("input",Ce),await mt(),Ke(),He()}},F=re=>{n("change",re.target.value)},ne=re=>{n("compositionstart",re),_.value=!0},fe=re=>{var Ce;n("compositionupdate",re);const ze=(Ce=re.target)==null?void 0:Ce.value,Ye=ze[ze.length-1]||"";_.value=!Rx(Ye)},K=re=>{n("compositionend",re),_.value&&(_.value=!1,P(re))},ge=()=>{E.value=!E.value,ke()},ke=async()=>{var re;await mt(),(re=S.value)==null||re.focus()},ve=()=>{var re;return(re=S.value)==null?void 0:re.blur()},ce=re=>{T.value=!1,n("mouseleave",re)},ue=re=>{T.value=!0,n("mouseenter",re)},W=re=>{n("keydown",re)},ee=()=>{var re;(re=S.value)==null||re.select()},Se=()=>{n(tr,""),n("change",""),n("clear"),n("input","")};return Le(()=>r.modelValue,()=>{var re;mt(()=>Re()),r.validateEvent&&((re=d==null?void 0:d.validate)==null||re.call(d,"change").catch(Ce=>void 0))}),Le(z,()=>Ke()),Le(()=>r.type,async()=>{await mt(),Ke(),Re()}),_n(()=>{!r.formatter&&r.parser,Ke(),mt(Re)}),e({input:v,textarea:b,ref:S,textareaStyle:J,autosize:Wn(r,"autosize"),focus:ke,blur:ve,select:ee,clear:Se,resizeTextarea:Re}),(re,Ce)=>Wt((V(),ae("div",ti(g(o),{class:g(a),style:g(M),role:re.containerRole,onMouseenter:ue,onMouseleave:ce}),[Ie(" input "),re.type!=="textarea"?(V(),ae(it,{key:0},[Ie(" prepend slot "),re.$slots.prepend?(V(),ae("div",{key:0,class:X(g(p).be("group","prepend"))},[ft(re.$slots,"prepend")],2)):Ie("v-if",!0),x("div",{ref_key:"wrapperRef",ref:O,class:X(g(l))},[Ie(" prefix slot "),re.$slots.prefix||re.prefixIcon?(V(),ae("span",{key:0,class:X(g(p).e("prefix"))},[x("span",{class:X(g(p).e("prefix-inner"))},[ft(re.$slots,"prefix"),re.prefixIcon?(V(),Ue(g(xt),{key:0,class:X(g(p).e("icon"))},{default:Ee(()=>[(V(),Ue(Kn(re.prefixIcon)))]),_:1},8,["class"])):Ie("v-if",!0)],2)],2)):Ie("v-if",!0),x("input",ti({id:g(f),ref_key:"input",ref:v,class:g(p).e("inner")},g(c),{type:re.showPassword?E.value?"text":"password":re.type,disabled:g(m),formatter:re.formatter,parser:re.parser,readonly:re.readonly,autocomplete:re.autocomplete,tabindex:re.tabindex,"aria-label":re.label,placeholder:re.placeholder,style:re.inputStyle,form:r.form,onCompositionstart:ne,onCompositionupdate:fe,onCompositionend:K,onInput:P,onFocus:Ce[0]||(Ce[0]=(...ze)=>g(te)&&g(te)(...ze)),onBlur:Ce[1]||(Ce[1]=(...ze)=>g(Q)&&g(Q)(...ze)),onChange:F,onKeydown:W}),null,16,Fz),Ie(" suffix slot "),g(le)?(V(),ae("span",{key:1,class:X(g(p).e("suffix"))},[x("span",{class:X(g(p).e("suffix-inner"))},[!g(Z)||!g(pe)||!g(H)?(V(),ae(it,{key:0},[ft(re.$slots,"suffix"),re.suffixIcon?(V(),Ue(g(xt),{key:0,class:X(g(p).e("icon"))},{default:Ee(()=>[(V(),Ue(Kn(re.suffixIcon)))]),_:1},8,["class"])):Ie("v-if",!0)],64)):Ie("v-if",!0),g(Z)?(V(),Ue(g(xt),{key:1,class:X([g(p).e("icon"),g(p).e("clear")]),onMousedown:qt(g(gr),["prevent"]),onClick:Se},{default:Ee(()=>[oe(g(Fm))]),_:1},8,["class","onMousedown"])):Ie("v-if",!0),g(pe)?(V(),Ue(g(xt),{key:2,class:X([g(p).e("icon"),g(p).e("password")]),onClick:ge},{default:Ee(()=>[(V(),Ue(Kn(g(N))))]),_:1},8,["class"])):Ie("v-if",!0),g(H)?(V(),ae("span",{key:3,class:X(g(p).e("count"))},[x("span",{class:X(g(p).e("count-inner"))},Ae(g(U))+" / "+Ae(g(c).maxlength),3)],2)):Ie("v-if",!0),g(L)&&g(G)&&g(q)?(V(),Ue(g(xt),{key:4,class:X([g(p).e("icon"),g(p).e("validateIcon"),g(p).is("loading",g(L)==="validating")])},{default:Ee(()=>[(V(),Ue(Kn(g(G))))]),_:1},8,["class"])):Ie("v-if",!0)],2)],2)):Ie("v-if",!0)],2),Ie(" append slot "),re.$slots.append?(V(),ae("div",{key:1,class:X(g(p).be("group","append"))},[ft(re.$slots,"append")],2)):Ie("v-if",!0)],64)):(V(),ae(it,{key:1},[Ie(" textarea "),x("textarea",ti({id:g(f),ref_key:"textarea",ref:b,class:g(y).e("inner")},g(c),{tabindex:re.tabindex,disabled:g(m),readonly:re.readonly,autocomplete:re.autocomplete,style:g(J),"aria-label":re.label,placeholder:re.placeholder,form:r.form,onCompositionstart:ne,onCompositionupdate:fe,onCompositionend:K,onInput:P,onFocus:Ce[2]||(Ce[2]=(...ze)=>g(te)&&g(te)(...ze)),onBlur:Ce[3]||(Ce[3]=(...ze)=>g(Q)&&g(Q)(...ze)),onChange:F,onKeydown:W}),null,16,Lz),g(H)?(V(),ae("span",{key:0,style:vn(C.value),class:X(g(p).e("count"))},Ae(g(U))+" / "+Ae(g(c).maxlength),7)):Ie("v-if",!0)],64))],16,Nz)),[[fr,re.type!=="hidden"]])}});var Vz=kt(Bz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const rs=ki(Vz),Al=4,zz={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Uz=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),nP=Symbol("scrollbarContextKey"),Hz=Ct({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),jz="Thumb",Wz=Pe({__name:"thumb",props:Hz,setup(t){const e=t,n=ct(nP),r=vt("scrollbar");n||lV(jz,"can not inject scrollbar context");const i=ie(),s=ie(),o=ie({}),a=ie(!1);let l=!1,c=!1,u=vr?document.onselectstart:null;const d=R(()=>zz[e.vertical?"vertical":"horizontal"]),f=R(()=>Uz({size:e.size,move:e.move,bar:d.value})),h=R(()=>i.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/s.value[d.value.offset]),m=C=>{var k;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(k=window.getSelection())==null||k.removeAllRanges(),y(C);const S=C.currentTarget;S&&(o.value[d.value.axis]=S[d.value.offset]-(C[d.value.client]-S.getBoundingClientRect()[d.value.direction]))},p=C=>{if(!s.value||!i.value||!n.wrapElement)return;const k=Math.abs(C.target.getBoundingClientRect()[d.value.direction]-C[d.value.client]),S=s.value[d.value.offset]/2,O=(k-S)*100*h.value/i.value[d.value.offset];n.wrapElement[d.value.scroll]=O*n.wrapElement[d.value.scrollSize]/100},y=C=>{C.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),u=document.onselectstart,document.onselectstart=()=>!1},v=C=>{if(!i.value||!s.value||l===!1)return;const k=o.value[d.value.axis];if(!k)return;const S=(i.value.getBoundingClientRect()[d.value.direction]-C[d.value.client])*-1,O=s.value[d.value.offset]-k,D=(S-O)*100*h.value/i.value[d.value.offset];n.wrapElement[d.value.scroll]=D*n.wrapElement[d.value.scrollSize]/100},b=()=>{l=!1,o.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),E(),c&&(a.value=!1)},T=()=>{c=!1,a.value=!!e.size},_=()=>{c=!0,a.value=l};Ur(()=>{E(),document.removeEventListener("mouseup",b)});const E=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return ga(Wn(n,"scrollbarElement"),"mousemove",T),ga(Wn(n,"scrollbarElement"),"mouseleave",_),(C,k)=>(V(),Ue(vi,{name:g(r).b("fade"),persisted:""},{default:Ee(()=>[Wt(x("div",{ref_key:"instance",ref:i,class:X([g(r).e("bar"),g(r).is(g(d).key)]),onMousedown:p},[x("div",{ref_key:"thumb",ref:s,class:X(g(r).e("thumb")),style:vn(g(f)),onMousedown:m},null,38)],34),[[fr,C.always||a.value]])]),_:1},8,["name"]))}});var B1=kt(Wz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const qz=Ct({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Kz=Pe({__name:"bar",props:qz,setup(t,{expose:e}){const n=t,r=ie(0),i=ie(0);return e({handleScroll:o=>{if(o){const a=o.offsetHeight-Al,l=o.offsetWidth-Al;i.value=o.scrollTop*100/a*n.ratioY,r.value=o.scrollLeft*100/l*n.ratioX}}}),(o,a)=>(V(),ae(it,null,[oe(B1,{move:r.value,ratio:o.ratioX,size:o.width,always:o.always},null,8,["move","ratio","size","always"]),oe(B1,{move:i.value,ratio:o.ratioY,size:o.height,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var Gz=kt(Kz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Yz=Ct({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:qe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Qz={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Nr)},Jz="ElScrollbar",Xz=Pe({name:Jz}),Zz=Pe({...Xz,props:Yz,emits:Qz,setup(t,{expose:e,emit:n}){const r=t,i=vt("scrollbar");let s,o;const a=ie(),l=ie(),c=ie(),u=ie("0"),d=ie("0"),f=ie(),h=ie(1),m=ie(1),p=R(()=>{const k={};return r.height&&(k.height=jv(r.height)),r.maxHeight&&(k.maxHeight=jv(r.maxHeight)),[r.wrapStyle,k]}),y=R(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),v=R(()=>[i.e("view"),r.viewClass]),b=()=>{var k;l.value&&((k=f.value)==null||k.handleScroll(l.value),n("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function T(k,S){_t(k)?l.value.scrollTo(k):Nr(k)&&Nr(S)&&l.value.scrollTo(k,S)}const _=k=>{Nr(k)&&(l.value.scrollTop=k)},E=k=>{Nr(k)&&(l.value.scrollLeft=k)},C=()=>{if(!l.value)return;const k=l.value.offsetHeight-Al,S=l.value.offsetWidth-Al,O=k**2/l.value.scrollHeight,D=S**2/l.value.scrollWidth,te=Math.max(O,r.minSize),Q=Math.max(D,r.minSize);h.value=O/(k-O)/(te/(k-te)),m.value=D/(S-D)/(Q/(S-Q)),d.value=te+Al<k?`${te}px`:"",u.value=Q+Al<S?`${Q}px`:""};return Le(()=>r.noresize,k=>{k?(s==null||s(),o==null||o()):({stop:s}=Am(c,C),o=ga("resize",C))},{immediate:!0}),Le(()=>[r.maxHeight,r.height],()=>{r.native||mt(()=>{var k;C(),l.value&&((k=f.value)==null||k.handleScroll(l.value))})}),Rn(nP,zr({scrollbarElement:a,wrapElement:l})),_n(()=>{r.native||mt(()=>{C()})}),Cd(()=>C()),e({wrapRef:l,update:C,scrollTo:T,setScrollTop:_,setScrollLeft:E,handleScroll:b}),(k,S)=>(V(),ae("div",{ref_key:"scrollbarRef",ref:a,class:X(g(i).b())},[x("div",{ref_key:"wrapRef",ref:l,class:X(g(y)),style:vn(g(p)),onScroll:b},[(V(),Ue(Kn(k.tag),{ref_key:"resizeRef",ref:c,class:X(g(v)),style:vn(k.viewStyle)},{default:Ee(()=>[ft(k.$slots,"default")]),_:3},8,["class","style"]))],38),k.native?Ie("v-if",!0):(V(),Ue(Gz,{key:0,ref_key:"barRef",ref:f,height:d.value,width:u.value,always:k.always,"ratio-x":m.value,"ratio-y":h.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var eU=kt(Zz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const rP=ki(eU),Ty=Symbol("popper"),iP=Symbol("popperContent"),tU=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],sP=Ct({role:{type:String,values:tU,default:"tooltip"}}),nU=Pe({name:"ElPopper",inheritAttrs:!1}),rU=Pe({...nU,props:sP,setup(t,{expose:e}){const n=t,r=ie(),i=ie(),s=ie(),o=ie(),a=R(()=>n.role),l={triggerRef:r,popperInstanceRef:i,contentRef:s,referenceRef:o,role:a};return e(l),Rn(Ty,l),(c,u)=>ft(c.$slots,"default")}});var iU=kt(rU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const oP=Ct({arrowOffset:{type:Number,default:5}}),sU=Pe({name:"ElPopperArrow",inheritAttrs:!1}),oU=Pe({...sU,props:oP,setup(t,{expose:e}){const n=t,r=vt("popper"),{arrowOffset:i,arrowRef:s,arrowStyle:o}=ct(iP,void 0);return Le(()=>n.arrowOffset,a=>{i.value=a}),Ur(()=>{s.value=void 0}),e({arrowRef:s}),(a,l)=>(V(),ae("span",{ref_key:"arrowRef",ref:s,class:X(g(r).e("arrow")),style:vn(g(o)),"data-popper-arrow":""},null,6))}});var aU=kt(oU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const lU="ElOnlyChild",cU=Pe({name:lU,setup(t,{slots:e,attrs:n}){var r;const i=ct(Jx),s=mz((r=i==null?void 0:i.setForwardRef)!=null?r:gr);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,n);if(!a||a.length>1)return null;const l=aP(a);return l?Wt($i(l,n),[[s]]):null}}});function aP(t){if(!t)return null;const e=t;for(const n of e){if(_t(n))switch(n.type){case rr:continue;case ds:case"svg":return V1(n);case it:return aP(n.children);default:return n}return V1(n)}return null}function V1(t){const e=vt("only-child");return oe("span",{class:e.e("content")},[t])}const lP=Ct({virtualRef:{type:qe(Object)},virtualTriggering:Boolean,onMouseenter:{type:qe(Function)},onMouseleave:{type:qe(Function)},onClick:{type:qe(Function)},onKeydown:{type:qe(Function)},onFocus:{type:qe(Function)},onBlur:{type:qe(Function)},onContextmenu:{type:qe(Function)},id:String,open:Boolean}),uU=Pe({name:"ElPopperTrigger",inheritAttrs:!1}),dU=Pe({...uU,props:lP,setup(t,{expose:e}){const n=t,{role:r,triggerRef:i}=ct(Ty,void 0);hz(i);const s=R(()=>a.value?n.id:void 0),o=R(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=R(()=>{if(r&&r.value!=="tooltip")return r.value}),l=R(()=>a.value?`${n.open}`:void 0);let c;return _n(()=>{Le(()=>n.virtualRef,u=>{u&&(i.value=vo(u))},{immediate:!0}),Le(i,(u,d)=>{c==null||c(),c=void 0,Ku(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var h;const m=n[f];m&&(u.addEventListener(f.slice(2).toLowerCase(),m),(h=d==null?void 0:d.removeEventListener)==null||h.call(d,f.slice(2).toLowerCase(),m))}),c=Le([s,o,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,m)=>{Nm(f[m])?u.removeAttribute(h):u.setAttribute(h,f[m])})},{immediate:!0})),Ku(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>d.removeAttribute(f))},{immediate:!0})}),Ur(()=>{c==null||c(),c=void 0}),e({triggerRef:i}),(u,d)=>u.virtualTriggering?Ie("v-if",!0):(V(),Ue(g(cU),ti({key:0},u.$attrs,{"aria-controls":g(s),"aria-describedby":g(o),"aria-expanded":g(l),"aria-haspopup":g(a)}),{default:Ee(()=>[ft(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var fU=kt(dU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const cg="focus-trap.focus-after-trapped",ug="focus-trap.focus-after-released",hU="focus-trap.focusout-prevented",z1={cancelable:!0,bubbles:!1},mU={cancelable:!0,bubbles:!1},U1="focusAfterTrapped",H1="focusAfterReleased",pU=Symbol("elFocusTrap"),Ay=ie(),Um=ie(0),xy=ie(0);let ff=0;const cP=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},j1=(t,e)=>{for(const n of t)if(!gU(n,e))return n},gU=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},vU=t=>{const e=cP(t),n=j1(e,t),r=j1(e.reverse(),t);return[n,r]},bU=t=>t instanceof HTMLInputElement&&"select"in t,ao=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),xy.value=window.performance.now(),t!==n&&bU(t)&&e&&t.select()}};function W1(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const yU=()=>{let t=[];return{push:r=>{const i=t[0];i&&r!==i&&i.pause(),t=W1(t,r),t.unshift(r)},remove:r=>{var i,s;t=W1(t,r),(s=(i=t[0])==null?void 0:i.resume)==null||s.call(i)}}},wU=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(ao(r,e),document.activeElement!==n)return},q1=yU(),_U=()=>Um.value>xy.value,hf=()=>{Ay.value="pointer",Um.value=window.performance.now()},K1=()=>{Ay.value="keyboard",Um.value=window.performance.now()},CU=()=>(_n(()=>{ff===0&&(document.addEventListener("mousedown",hf),document.addEventListener("touchstart",hf),document.addEventListener("keydown",K1)),ff++}),Ur(()=>{ff--,ff<=0&&(document.removeEventListener("mousedown",hf),document.removeEventListener("touchstart",hf),document.removeEventListener("keydown",K1))}),{focusReason:Ay,lastUserFocusTimestamp:Um,lastAutomatedFocusTimestamp:xy}),mf=t=>new CustomEvent(hU,{...mU,detail:t}),kU=Pe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[U1,H1,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=ie();let r,i;const{focusReason:s}=CU();lz(m=>{t.trapped&&!o.paused&&e("release-requested",m)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=m=>{if(!t.loop&&!t.trapped||o.paused)return;const{key:p,altKey:y,ctrlKey:v,metaKey:b,currentTarget:T,shiftKey:_}=m,{loop:E}=t,C=p===Xt.tab&&!y&&!v&&!b,k=document.activeElement;if(C&&k){const S=T,[O,D]=vU(S);if(O&&D){if(!_&&k===D){const Q=mf({focusReason:s.value});e("focusout-prevented",Q),Q.defaultPrevented||(m.preventDefault(),E&&ao(O,!0))}else if(_&&[O,S].includes(k)){const Q=mf({focusReason:s.value});e("focusout-prevented",Q),Q.defaultPrevented||(m.preventDefault(),E&&ao(D,!0))}}else if(k===S){const Q=mf({focusReason:s.value});e("focusout-prevented",Q),Q.defaultPrevented||m.preventDefault()}}};Rn(pU,{focusTrapRef:n,onKeydown:a}),Le(()=>t.focusTrapEl,m=>{m&&(n.value=m)},{immediate:!0}),Le([n],([m],[p])=>{m&&(m.addEventListener("keydown",a),m.addEventListener("focusin",u),m.addEventListener("focusout",d)),p&&(p.removeEventListener("keydown",a),p.removeEventListener("focusin",u),p.removeEventListener("focusout",d))});const l=m=>{e(U1,m)},c=m=>e(H1,m),u=m=>{const p=g(n);if(!p)return;const y=m.target,v=m.relatedTarget,b=y&&p.contains(y);t.trapped||v&&p.contains(v)||(r=v),b&&e("focusin",m),!o.paused&&t.trapped&&(b?i=y:ao(i,!0))},d=m=>{const p=g(n);if(!(o.paused||!p))if(t.trapped){const y=m.relatedTarget;!Nm(y)&&!p.contains(y)&&setTimeout(()=>{if(!o.paused&&t.trapped){const v=mf({focusReason:s.value});e("focusout-prevented",v),v.defaultPrevented||ao(i,!0)}},0)}else{const y=m.target;y&&p.contains(y)||e("focusout",m)}};async function f(){await mt();const m=g(n);if(m){q1.push(o);const p=m.contains(document.activeElement)?r:document.activeElement;if(r=p,!m.contains(p)){const v=new Event(cg,z1);m.addEventListener(cg,l),m.dispatchEvent(v),v.defaultPrevented||mt(()=>{let b=t.focusStartEl;Ot(b)||(ao(b),document.activeElement!==b&&(b="first")),b==="first"&&wU(cP(m),!0),(document.activeElement===p||b==="container")&&ao(m)})}}}function h(){const m=g(n);if(m){m.removeEventListener(cg,l);const p=new CustomEvent(ug,{...z1,detail:{focusReason:s.value}});m.addEventListener(ug,c),m.dispatchEvent(p),!p.defaultPrevented&&(s.value=="keyboard"||!_U()||m.contains(document.activeElement))&&ao(r??document.body),m.removeEventListener(ug,c),q1.remove(o)}}return _n(()=>{t.trapped&&f(),Le(()=>t.trapped,m=>{m?f():h()})}),Ur(()=>{t.trapped&&h()}),{onKeydown:a}}});function SU(t,e,n,r,i,s){return ft(t.$slots,"default",{handleKeydown:t.onKeydown})}var EU=kt(kU,[["render",SU],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const TU=["fixed","absolute"],AU=Ct({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:qe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Bm,default:"bottom"},popperOptions:{type:qe(Object),default:()=>({})},strategy:{type:String,values:TU,default:"absolute"}}),uP=Ct({...AU,id:String,style:{type:qe([String,Array,Object])},className:{type:qe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:qe([String,Array,Object])},popperStyle:{type:qe([String,Array,Object])},referenceEl:{type:qe(Object)},triggerTargetEl:{type:qe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),xU={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},PU=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:i}=t,s={placement:n,strategy:r,...i,modifiers:[...OU(t),...e]};return RU(s,i==null?void 0:i.modifiers),s},IU=t=>{if(vr)return vo(t)};function OU(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function RU(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const MU=0,DU=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:i}=ct(Ty,void 0),s=ie(),o=ie(),a=R(()=>({name:"eventListeners",enabled:!!t.visible})),l=R(()=>{var v;const b=g(s),T=(v=g(o))!=null?v:MU;return{name:"arrow",enabled:!Y8(b),options:{element:b,padding:T}}}),c=R(()=>({onFirstUpdate:()=>{m()},...PU(t,[g(l),g(a)])})),u=R(()=>IU(t.referenceEl)||g(r)),{attributes:d,state:f,styles:h,update:m,forceUpdate:p,instanceRef:y}=sz(u,n,c);return Le(y,v=>e.value=v),_n(()=>{Le(()=>{var v;return(v=g(u))==null?void 0:v.getBoundingClientRect()},()=>{m()})}),{attributes:d,arrowRef:s,contentRef:n,instanceRef:y,state:f,styles:h,role:i,forceUpdate:p,update:m}},NU=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:i}=gz(),s=vt("popper"),o=R(()=>g(e).popper),a=ie(t.zIndex||i()),l=R(()=>[s.b(),s.is("pure",t.pure),s.is(t.effect),t.popperClass]),c=R(()=>[{zIndex:g(a)},g(n).popper,t.popperStyle||{}]),u=R(()=>r.value==="dialog"?"false":void 0),d=R(()=>g(n).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:o,contentClass:l,contentStyle:c,contentZIndex:a,updateZIndex:()=>{a.value=t.zIndex||i()}}},FU=(t,e)=>{const n=ie(!1),r=ie();return{focusStartRef:r,trapped:n,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{t.visible&&!n.value&&(c.target&&(r.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{t.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},LU=Pe({name:"ElPopperContent"}),$U=Pe({...LU,props:uP,emits:xU,setup(t,{expose:e,emit:n}){const r=t,{focusStartRef:i,trapped:s,onFocusAfterReleased:o,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=FU(r,n),{attributes:d,arrowRef:f,contentRef:h,styles:m,instanceRef:p,role:y,update:v}=DU(r),{ariaModal:b,arrowStyle:T,contentAttrs:_,contentClass:E,contentStyle:C,updateZIndex:k}=NU(r,{styles:m,attributes:d,role:y}),S=ct(Dh,void 0),O=ie();Rn(iP,{arrowStyle:T,arrowRef:f,arrowOffset:O}),S&&(S.addInputId||S.removeInputId)&&Rn(Dh,{...S,addInputId:gr,removeInputId:gr});let D;const te=(q=!0)=>{v(),q&&k()},Q=()=>{te(!1),r.visible&&r.focusOnShow?s.value=!0:r.visible===!1&&(s.value=!1)};return _n(()=>{Le(()=>r.triggerTargetEl,(q,L)=>{D==null||D(),D=void 0;const G=g(q||h.value),N=g(L||h.value);Ku(G)&&(D=Le([y,()=>r.ariaLabel,b,()=>r.id],M=>{["role","aria-label","aria-modal","id"].forEach((J,z)=>{Nm(M[z])?G.removeAttribute(J):G.setAttribute(J,M[z])})},{immediate:!0})),N!==G&&Ku(N)&&["role","aria-label","aria-modal","id"].forEach(M=>{N.removeAttribute(M)})},{immediate:!0}),Le(()=>r.visible,Q,{immediate:!0})}),Ur(()=>{D==null||D(),D=void 0}),e({popperContentRef:h,popperInstanceRef:p,updatePopper:te,contentStyle:C}),(q,L)=>(V(),ae("div",ti({ref_key:"contentRef",ref:h},g(_),{style:g(C),class:g(E),tabindex:"-1",onMouseenter:L[0]||(L[0]=G=>q.$emit("mouseenter",G)),onMouseleave:L[1]||(L[1]=G=>q.$emit("mouseleave",G))}),[oe(g(EU),{trapped:g(s),"trap-on-focus-in":!0,"focus-trap-el":g(h),"focus-start-el":g(i),onFocusAfterTrapped:g(a),onFocusAfterReleased:g(o),onFocusin:g(l),onFocusoutPrevented:g(c),onReleaseRequested:g(u)},{default:Ee(()=>[ft(q.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var BU=kt($U,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const VU=ki(iU),Hm=Symbol("elTooltip"),Py=Ct({...dz,...uP,appendTo:{type:qe([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:qe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),dP=Ct({...lP,disabled:Boolean,trigger:{type:qe([String,Array]),default:"hover"},triggerKeys:{type:qe(Array),default:()=>[Xt.enter,Xt.space]}}),{useModelToggleProps:zU,useModelToggleEmits:UU,useModelToggle:HU}=$x("visible"),jU=Ct({...sP,...zU,...Py,...dP,...oP,showArrow:{type:Boolean,default:!0}}),WU=[...UU,"before-show","before-hide","show","hide","open","close"],qU=(t,e)=>Oe(t)?t.includes(e):t===e,al=(t,e,n)=>r=>{qU(g(t),e)&&n(r)},KU=Pe({name:"ElTooltipTrigger"}),GU=Pe({...KU,props:dP,setup(t,{expose:e}){const n=t,r=vt("tooltip"),{controlled:i,id:s,open:o,onOpen:a,onClose:l,onToggle:c}=ct(Hm,void 0),u=ie(null),d=()=>{if(g(i)||n.disabled)return!0},f=Wn(n,"trigger"),h=Ts(d,al(f,"hover",a)),m=Ts(d,al(f,"hover",l)),p=Ts(d,al(f,"click",_=>{_.button===0&&c(_)})),y=Ts(d,al(f,"focus",a)),v=Ts(d,al(f,"focus",l)),b=Ts(d,al(f,"contextmenu",_=>{_.preventDefault(),c(_)})),T=Ts(d,_=>{const{code:E}=_;n.triggerKeys.includes(E)&&(_.preventDefault(),c(_))});return e({triggerRef:u}),(_,E)=>(V(),Ue(g(fU),{id:g(s),"virtual-ref":_.virtualRef,open:g(o),"virtual-triggering":_.virtualTriggering,class:X(g(r).e("trigger")),onBlur:g(v),onClick:g(p),onContextmenu:g(b),onFocus:g(y),onMouseenter:g(h),onMouseleave:g(m),onKeydown:g(T)},{default:Ee(()=>[ft(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var YU=kt(GU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const QU=Pe({name:"ElTooltipContent",inheritAttrs:!1}),JU=Pe({...QU,props:Py,setup(t,{expose:e}){const n=t,{selector:r}=Qx(),i=vt("tooltip"),s=ie(null),o=ie(!1),{controlled:a,id:l,open:c,trigger:u,onClose:d,onOpen:f,onShow:h,onHide:m,onBeforeShow:p,onBeforeHide:y}=ct(Hm,void 0),v=R(()=>n.transition||`${i.namespace.value}-fade-in-linear`),b=R(()=>n.persistent);Ur(()=>{o.value=!0});const T=R(()=>g(b)?!0:g(c)),_=R(()=>n.disabled?!1:g(c)),E=R(()=>n.appendTo||r.value),C=R(()=>{var M;return(M=n.style)!=null?M:{}}),k=R(()=>!g(c)),S=()=>{m()},O=()=>{if(g(a))return!0},D=Ts(O,()=>{n.enterable&&g(u)==="hover"&&f()}),te=Ts(O,()=>{g(u)==="hover"&&d()}),Q=()=>{var M,J;(J=(M=s.value)==null?void 0:M.updatePopper)==null||J.call(M),p==null||p()},q=()=>{y==null||y()},L=()=>{h(),N=FA(R(()=>{var M;return(M=s.value)==null?void 0:M.popperContentRef}),()=>{if(g(a))return;g(u)!=="hover"&&d()})},G=()=>{n.virtualTriggering||d()};let N;return Le(()=>g(c),M=>{M||N==null||N()},{flush:"post"}),Le(()=>n.content,()=>{var M,J;(J=(M=s.value)==null?void 0:M.updatePopper)==null||J.call(M)}),e({contentRef:s}),(M,J)=>(V(),Ue(ZT,{disabled:!M.teleported,to:g(E)},[oe(vi,{name:g(v),onAfterLeave:S,onBeforeEnter:Q,onAfterEnter:L,onBeforeLeave:q},{default:Ee(()=>[g(T)?Wt((V(),Ue(g(BU),ti({key:0,id:g(l),ref_key:"contentRef",ref:s},M.$attrs,{"aria-label":M.ariaLabel,"aria-hidden":g(k),"boundaries-padding":M.boundariesPadding,"fallback-placements":M.fallbackPlacements,"gpu-acceleration":M.gpuAcceleration,offset:M.offset,placement:M.placement,"popper-options":M.popperOptions,strategy:M.strategy,effect:M.effect,enterable:M.enterable,pure:M.pure,"popper-class":M.popperClass,"popper-style":[M.popperStyle,g(C)],"reference-el":M.referenceEl,"trigger-target-el":M.triggerTargetEl,visible:g(_),"z-index":M.zIndex,onMouseenter:g(D),onMouseleave:g(te),onBlur:G,onClose:g(d)}),{default:Ee(()=>[o.value?Ie("v-if",!0):ft(M.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[fr,g(_)]]):Ie("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var XU=kt(JU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const ZU=["innerHTML"],eH={key:1},tH=Pe({name:"ElTooltip"}),nH=Pe({...tH,props:jU,emits:WU,setup(t,{expose:e,emit:n}){const r=t;uz();const i=Yx(),s=ie(),o=ie(),a=()=>{var v;const b=g(s);b&&((v=b.popperInstanceRef)==null||v.update())},l=ie(!1),c=ie(),{show:u,hide:d,hasUpdateHandler:f}=HU({indicator:l,toggleReason:c}),{onOpen:h,onClose:m}=fz({showAfter:Wn(r,"showAfter"),hideAfter:Wn(r,"hideAfter"),autoClose:Wn(r,"autoClose"),open:u,close:d}),p=R(()=>qu(r.visible)&&!f.value);Rn(Hm,{controlled:p,id:i,open:yd(l),trigger:Wn(r,"trigger"),onOpen:v=>{h(v)},onClose:v=>{m(v)},onToggle:v=>{g(l)?m(v):h(v)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:a}),Le(()=>r.disabled,v=>{v&&l.value&&(l.value=!1)});const y=v=>{var b,T;const _=(T=(b=o.value)==null?void 0:b.contentRef)==null?void 0:T.popperContentRef,E=(v==null?void 0:v.relatedTarget)||document.activeElement;return _&&_.contains(E)};return H0(()=>l.value&&d()),e({popperRef:s,contentRef:o,isFocusInsideContent:y,updatePopper:a,onOpen:h,onClose:m,hide:d}),(v,b)=>(V(),Ue(g(VU),{ref_key:"popperRef",ref:s,role:v.role},{default:Ee(()=>[oe(YU,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:Ee(()=>[v.$slots.default?ft(v.$slots,"default",{key:0}):Ie("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),oe(XU,{ref_key:"contentRef",ref:o,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:Ee(()=>[ft(v.$slots,"content",{},()=>[v.rawContent?(V(),ae("span",{key:0,innerHTML:v.content},null,8,ZU)):(V(),ae("span",eH,Ae(v.content),1))]),v.showArrow?(V(),Ue(g(aU),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Ie("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var rH=kt(nH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const fP=ki(rH),hP=Symbol("breadcrumbKey"),iH=Ct({separator:{type:String,default:"/"},separatorIcon:{type:Ma}}),sH=Pe({name:"ElBreadcrumb"}),oH=Pe({...sH,props:iH,setup(t){const e=t,n=vt("breadcrumb"),r=ie();return Rn(hP,e),_n(()=>{const i=r.value.querySelectorAll(`.${n.e("item")}`);i.length&&i[i.length-1].setAttribute("aria-current","page")}),(i,s)=>(V(),ae("div",{ref_key:"breadcrumb",ref:r,class:X(g(n).b()),"aria-label":"Breadcrumb",role:"navigation"},[ft(i.$slots,"default")],2))}});var aH=kt(oH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const lH=Ct({to:{type:qe([String,Object]),default:""},replace:{type:Boolean,default:!1}}),cH=Pe({name:"ElBreadcrumbItem"}),uH=Pe({...cH,props:lH,setup(t){const e=t,n=Lt(),r=ct(hP,void 0),i=vt("breadcrumb"),s=n.appContext.config.globalProperties.$router,o=ie(),a=()=>{!e.to||!s||(e.replace?s.replace(e.to):s.push(e.to))};return(l,c)=>{var u,d;return V(),ae("span",{class:X(g(i).e("item"))},[x("span",{ref_key:"link",ref:o,class:X([g(i).e("inner"),g(i).is("link",!!l.to)]),role:"link",onClick:a},[ft(l.$slots,"default")],2),(u=g(r))!=null&&u.separatorIcon?(V(),Ue(g(xt),{key:0,class:X(g(i).e("separator"))},{default:Ee(()=>[(V(),Ue(Kn(g(r).separatorIcon)))]),_:1},8,["class"])):(V(),ae("span",{key:1,class:X(g(i).e("separator")),role:"presentation"},Ae((d=g(r))==null?void 0:d.separator),3))],2)}}});var mP=kt(uH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const dH=ki(aH,{BreadcrumbItem:mP}),fH=Wa(mP),pP=Symbol("buttonGroupContextKey"),hH=(t,e)=>{Nx({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},R(()=>t.type==="text"));const n=ct(pP,void 0),r=tP("button"),{form:i}=qa(),s=Na(R(()=>n==null?void 0:n.size)),o=zm(),a=ie(),l=Ua(),c=R(()=>t.type||(n==null?void 0:n.type)||""),u=R(()=>{var m,p,y;return(y=(p=t.autoInsertSpace)!=null?p:(m=r.value)==null?void 0:m.autoInsertSpace)!=null?y:!1}),d=R(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),f=R(()=>{var m;const p=(m=l.default)==null?void 0:m.call(l);if(u.value&&(p==null?void 0:p.length)===1){const y=p[0];if((y==null?void 0:y.type)===ds){const v=y.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:o,_size:s,_type:c,_ref:a,_props:d,shouldAddSpace:f,handleClick:m=>{t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",m)}}},mH=["default","primary","success","warning","info","danger","text",""],pH=["button","submit","reset"],Gv=Ct({size:Ac,disabled:Boolean,type:{type:String,values:mH,default:""},icon:{type:Ma},nativeType:{type:String,values:pH,default:"button"},loading:Boolean,loadingIcon:{type:Ma,default:()=>Px},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:qe([String,Object]),default:"button"}}),gH={click:t=>t instanceof MouseEvent};function ir(t,e){vH(t)&&(t="100%");var n=bH(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function pf(t){return Math.min(1,Math.max(0,t))}function vH(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function bH(t){return typeof t=="string"&&t.indexOf("%")!==-1}function gP(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function gf(t){return t<=1?"".concat(Number(t)*100,"%"):t}function aa(t){return t.length===1?"0"+t:String(t)}function yH(t,e,n){return{r:ir(t,255)*255,g:ir(e,255)*255,b:ir(n,255)*255}}function G1(t,e,n){t=ir(t,255),e=ir(e,255),n=ir(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,o=0,a=(r+i)/2;if(r===i)o=0,s=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function dg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wH(t,e,n){var r,i,s;if(t=ir(t,360),e=ir(e,100),n=ir(n,100),e===0)i=n,s=n,r=n;else{var o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;r=dg(a,o,t+1/3),i=dg(a,o,t),s=dg(a,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Y1(t,e,n){t=ir(t,255),e=ir(e,255),n=ir(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,o=r,a=r-i,l=r===0?0:a/r;if(r===i)s=0;else{switch(r){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function _H(t,e,n){t=ir(t,360)*6,e=ir(e,100),n=ir(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function Q1(t,e,n,r){var i=[aa(Math.round(t).toString(16)),aa(Math.round(e).toString(16)),aa(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function CH(t,e,n,r,i){var s=[aa(Math.round(t).toString(16)),aa(Math.round(e).toString(16)),aa(Math.round(n).toString(16)),aa(kH(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function kH(t){return Math.round(parseFloat(t)*255).toString(16)}function J1(t){return qr(t)/255}function qr(t){return parseInt(t,16)}function SH(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Yv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function EH(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=xH(t)),typeof t=="object"&&(_s(t.r)&&_s(t.g)&&_s(t.b)?(e=yH(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):_s(t.h)&&_s(t.s)&&_s(t.v)?(r=gf(t.s),i=gf(t.v),e=_H(t.h,r,i),o=!0,a="hsv"):_s(t.h)&&_s(t.s)&&_s(t.l)&&(r=gf(t.s),s=gf(t.l),e=wH(t.h,r,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=gP(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var TH="[-\\+]?\\d+%?",AH="[-\\+]?\\d*\\.\\d+%?",bo="(?:".concat(AH,")|(?:").concat(TH,")"),fg="[\\s|\\(]+(".concat(bo,")[,|\\s]+(").concat(bo,")[,|\\s]+(").concat(bo,")\\s*\\)?"),hg="[\\s|\\(]+(".concat(bo,")[,|\\s]+(").concat(bo,")[,|\\s]+(").concat(bo,")[,|\\s]+(").concat(bo,")\\s*\\)?"),xi={CSS_UNIT:new RegExp(bo),rgb:new RegExp("rgb"+fg),rgba:new RegExp("rgba"+hg),hsl:new RegExp("hsl"+fg),hsla:new RegExp("hsla"+hg),hsv:new RegExp("hsv"+fg),hsva:new RegExp("hsva"+hg),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function xH(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Yv[t])t=Yv[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=xi.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=xi.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=xi.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=xi.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=xi.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=xi.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=xi.hex8.exec(t),n?{r:qr(n[1]),g:qr(n[2]),b:qr(n[3]),a:J1(n[4]),format:e?"name":"hex8"}:(n=xi.hex6.exec(t),n?{r:qr(n[1]),g:qr(n[2]),b:qr(n[3]),format:e?"name":"hex"}:(n=xi.hex4.exec(t),n?{r:qr(n[1]+n[1]),g:qr(n[2]+n[2]),b:qr(n[3]+n[3]),a:J1(n[4]+n[4]),format:e?"name":"hex8"}:(n=xi.hex3.exec(t),n?{r:qr(n[1]+n[1]),g:qr(n[2]+n[2]),b:qr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function _s(t){return!!xi.CSS_UNIT.exec(String(t))}var PH=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=SH(e)),this.originalInput=e;var i=EH(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=gP(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=Y1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=Y1(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=G1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=G1(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),Q1(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),CH(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ir(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ir(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Q1(this.r,this.g,this.b,!1),n=0,r=Object.entries(Yv);n<r.length;n++){var i=r[n],s=i[0],o=i[1];if(e===o)return s}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!n&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=pf(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=pf(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=pf(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=pf(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new t(o)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new t(r));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(new t({h:r,s:i,v:s})),s=(s+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new t({h:(r+o*s)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function no(t,e=20){return t.mix("#141414",e).toString()}function IH(t){const e=zm(),n=vt("button");return R(()=>{let r={};const i=t.color;if(i){const s=new PH(i),o=t.dark?s.tint(20).toString():no(s,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?no(s,90):s.tint(90).toString(),"text-color":i,"border-color":t.dark?no(s,50):s.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?no(s,90):s.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?no(s,50):s.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?no(s,80):s.tint(80).toString());else{const a=t.dark?no(s,30):s.tint(30).toString(),l=s.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":l,"border-color":i,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),e.value){const c=t.dark?no(s,50):s.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const OH=Pe({name:"ElButton"}),RH=Pe({...OH,props:Gv,emits:gH,setup(t,{expose:e,emit:n}){const r=t,i=IH(r),s=vt("button"),{_ref:o,_size:a,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:f}=hH(r,n);return e({ref:o,size:a,type:l,disabled:c,shouldAddSpace:d}),(h,m)=>(V(),Ue(Kn(h.tag),ti({ref_key:"_ref",ref:o},g(u),{class:[g(s).b(),g(s).m(g(l)),g(s).m(g(a)),g(s).is("disabled",g(c)),g(s).is("loading",h.loading),g(s).is("plain",h.plain),g(s).is("round",h.round),g(s).is("circle",h.circle),g(s).is("text",h.text),g(s).is("link",h.link),g(s).is("has-bg",h.bg)],style:g(i),onClick:g(f)}),{default:Ee(()=>[h.loading?(V(),ae(it,{key:0},[h.$slots.loading?ft(h.$slots,"loading",{key:0}):(V(),Ue(g(xt),{key:1,class:X(g(s).is("loading"))},{default:Ee(()=>[(V(),Ue(Kn(h.loadingIcon)))]),_:1},8,["class"]))],64)):h.icon||h.$slots.icon?(V(),Ue(g(xt),{key:1},{default:Ee(()=>[h.icon?(V(),Ue(Kn(h.icon),{key:0})):ft(h.$slots,"icon",{key:1})]),_:3})):Ie("v-if",!0),h.$slots.default?(V(),ae("span",{key:2,class:X({[g(s).em("text","expand")]:g(d)})},[ft(h.$slots,"default")],2)):Ie("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var MH=kt(RH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const DH={size:Gv.size,type:Gv.type},NH=Pe({name:"ElButtonGroup"}),FH=Pe({...NH,props:DH,setup(t){const e=t;Rn(pP,zr({size:Wn(e,"size"),type:Wn(e,"type")}));const n=vt("button");return(r,i)=>(V(),ae("div",{class:X(`${g(n).b("group")}`)},[ft(r.$slots,"default")],2))}});var vP=kt(FH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Zl=ki(MH,{ButtonGroup:vP});Wa(vP);var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var yP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",m="date",p="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var L=["th","st","nd","rd"],G=q%100;return"["+q+(L[(G-20)%10]||L[G]||L[0])+"]"}},T=function(q,L,G){var N=String(q);return!N||N.length>=L?q:""+Array(L+1-N.length).join(G)+q},_={s:T,z:function(q){var L=-q.utcOffset(),G=Math.abs(L),N=Math.floor(G/60),M=G%60;return(L<=0?"+":"-")+T(N,2,"0")+":"+T(M,2,"0")},m:function q(L,G){if(L.date()<G.date())return-q(G,L);var N=12*(G.year()-L.year())+(G.month()-L.month()),M=L.clone().add(N,d),J=G-M<0,z=L.clone().add(N+(J?-1:1),d);return+(-(N+(G-M)/(J?M-z:z-M))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:d,y:h,w:u,d:c,D:m,h:l,m:a,s:o,ms:s,Q:f}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},E="en",C={};C[E]=b;var k=function(q){return q instanceof te},S=function q(L,G,N){var M;if(!L)return E;if(typeof L=="string"){var J=L.toLowerCase();C[J]&&(M=J),G&&(C[J]=G,M=J);var z=L.split("-");if(!M&&z.length>1)return q(z[0])}else{var Z=L.name;C[Z]=L,M=Z}return!N&&M&&(E=M),M||!N&&E},O=function(q,L){if(k(q))return q.clone();var G=typeof L=="object"?L:{};return G.date=q,G.args=arguments,new te(G)},D=_;D.l=S,D.i=k,D.w=function(q,L){return O(q,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var te=function(){function q(G){this.$L=S(G.locale,null,!0),this.parse(G)}var L=q.prototype;return L.parse=function(G){this.$d=function(N){var M=N.date,J=N.utc;if(M===null)return new Date(NaN);if(D.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var z=M.match(y);if(z){var Z=z[2]-1||0,pe=(z[7]||"0").substring(0,3);return J?new Date(Date.UTC(z[1],Z,z[3]||1,z[4]||0,z[5]||0,z[6]||0,pe)):new Date(z[1],Z,z[3]||1,z[4]||0,z[5]||0,z[6]||0,pe)}}return new Date(M)}(G),this.$x=G.x||{},this.init()},L.init=function(){var G=this.$d;this.$y=G.getFullYear(),this.$M=G.getMonth(),this.$D=G.getDate(),this.$W=G.getDay(),this.$H=G.getHours(),this.$m=G.getMinutes(),this.$s=G.getSeconds(),this.$ms=G.getMilliseconds()},L.$utils=function(){return D},L.isValid=function(){return this.$d.toString()!==p},L.isSame=function(G,N){var M=O(G);return this.startOf(N)<=M&&M<=this.endOf(N)},L.isAfter=function(G,N){return O(G)<this.startOf(N)},L.isBefore=function(G,N){return this.endOf(N)<O(G)},L.$g=function(G,N,M){return D.u(G)?this[N]:this.set(M,G)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(G,N){var M=this,J=!!D.u(N)||N,z=D.p(G),Z=function(Re,$e){var Ne=D.w(M.$u?Date.UTC(M.$y,$e,Re):new Date(M.$y,$e,Re),M);return J?Ne:Ne.endOf(c)},pe=function(Re,$e){return D.w(M.toDate()[Re].apply(M.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice($e)),M)},H=this.$W,U=this.$M,he=this.$D,le="set"+(this.$u?"UTC":"");switch(z){case h:return J?Z(1,0):Z(31,11);case d:return J?Z(1,U):Z(0,U+1);case u:var xe=this.$locale().weekStart||0,He=(H<xe?H+7:H)-xe;return Z(J?he-He:he+(6-He),U);case c:case m:return pe(le+"Hours",0);case l:return pe(le+"Minutes",1);case a:return pe(le+"Seconds",2);case o:return pe(le+"Milliseconds",3);default:return this.clone()}},L.endOf=function(G){return this.startOf(G,!1)},L.$set=function(G,N){var M,J=D.p(G),z="set"+(this.$u?"UTC":""),Z=(M={},M[c]=z+"Date",M[m]=z+"Date",M[d]=z+"Month",M[h]=z+"FullYear",M[l]=z+"Hours",M[a]=z+"Minutes",M[o]=z+"Seconds",M[s]=z+"Milliseconds",M)[J],pe=J===c?this.$D+(N-this.$W):N;if(J===d||J===h){var H=this.clone().set(m,1);H.$d[Z](pe),H.init(),this.$d=H.set(m,Math.min(this.$D,H.daysInMonth())).$d}else Z&&this.$d[Z](pe);return this.init(),this},L.set=function(G,N){return this.clone().$set(G,N)},L.get=function(G){return this[D.p(G)]()},L.add=function(G,N){var M,J=this;G=Number(G);var z=D.p(N),Z=function(U){var he=O(J);return D.w(he.date(he.date()+Math.round(U*G)),J)};if(z===d)return this.set(d,this.$M+G);if(z===h)return this.set(h,this.$y+G);if(z===c)return Z(1);if(z===u)return Z(7);var pe=(M={},M[a]=r,M[l]=i,M[o]=n,M)[z]||1,H=this.$d.getTime()+G*pe;return D.w(H,this)},L.subtract=function(G,N){return this.add(-1*G,N)},L.format=function(G){var N=this,M=this.$locale();if(!this.isValid())return M.invalidDate||p;var J=G||"YYYY-MM-DDTHH:mm:ssZ",z=D.z(this),Z=this.$H,pe=this.$m,H=this.$M,U=M.weekdays,he=M.months,le=function($e,Ne,Ke,P){return $e&&($e[Ne]||$e(N,J))||Ke[Ne].slice(0,P)},xe=function($e){return D.s(Z%12||12,$e,"0")},He=M.meridiem||function($e,Ne,Ke){var P=$e<12?"AM":"PM";return Ke?P.toLowerCase():P},Re={YY:String(this.$y).slice(-2),YYYY:this.$y,M:H+1,MM:D.s(H+1,2,"0"),MMM:le(M.monthsShort,H,he,3),MMMM:le(he,H),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:le(M.weekdaysMin,this.$W,U,2),ddd:le(M.weekdaysShort,this.$W,U,3),dddd:U[this.$W],H:String(Z),HH:D.s(Z,2,"0"),h:xe(1),hh:xe(2),a:He(Z,pe,!0),A:He(Z,pe,!1),m:String(pe),mm:D.s(pe,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:z};return J.replace(v,function($e,Ne){return Ne||Re[$e]||z.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(G,N,M){var J,z=D.p(N),Z=O(G),pe=(Z.utcOffset()-this.utcOffset())*r,H=this-Z,U=D.m(this,Z);return U=(J={},J[h]=U/12,J[d]=U,J[f]=U/3,J[u]=(H-pe)/6048e5,J[c]=(H-pe)/864e5,J[l]=H/i,J[a]=H/r,J[o]=H/n,J)[z]||H,M?U:D.a(U)},L.daysInMonth=function(){return this.endOf(d).$D},L.$locale=function(){return C[this.$L]},L.locale=function(G,N){if(!G)return this.$L;var M=this.clone(),J=S(G,N,!0);return J&&(M.$L=J),M},L.clone=function(){return D.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},q}(),Q=te.prototype;return O.prototype=Q,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",m]].forEach(function(q){Q[q[1]]=function(L){return this.$g(L,q[0],q[1])}}),O.extend=function(q,L){return q.$i||(q(L,te,O),q.$i=!0),O},O.locale=S,O.isDayjs=k,O.unix=function(q){return O(1e3*q)},O.en=C[E],O.Ls=C,O.p={},O})})(yP);var LH=yP.exports;const ot=jr(LH);var wP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(p){return(p=+p)+(p>68?1900:2e3)},c=function(p){return function(y){this[p]=+y}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var v=y.match(/([+-]|\d\d)/g),b=60*v[1]+(+v[2]||0);return b===0?0:v[0]==="+"?-b:b}(p)}],d=function(p){var y=a[p];return y&&(y.indexOf?y:y.s.concat(y.f))},f=function(p,y){var v,b=a.meridiem;if(b){for(var T=1;T<=24;T+=1)if(p.indexOf(b(T,0,y))>-1){v=T>12;break}}else v=p===(y?"pm":"PM");return v},h={A:[o,function(p){this.afternoon=f(p,!1)}],a:[o,function(p){this.afternoon=f(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[i,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[i,c("day")],Do:[o,function(p){var y=a.ordinal,v=p.match(/\d+/);if(this.day=v[0],y)for(var b=1;b<=31;b+=1)y(b).replace(/\[|\]/g,"")===p&&(this.day=b)}],M:[s,c("month")],MM:[i,c("month")],MMM:[o,function(p){var y=d("months"),v=(d("monthsShort")||y.map(function(b){return b.slice(0,3)})).indexOf(p)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[o,function(p){var y=d("months").indexOf(p)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(p){this.year=l(p)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function m(p){var y,v;y=p,v=a&&a.formats;for(var b=(p=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(O,D,te){var Q=te&&te.toUpperCase();return D||v[te]||n[te]||v[Q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(q,L,G){return L||G.slice(1)})})).match(r),T=b.length,_=0;_<T;_+=1){var E=b[_],C=h[E],k=C&&C[0],S=C&&C[1];b[_]=S?{regex:k,parser:S}:E.replace(/^\[|\]$/g,"")}return function(O){for(var D={},te=0,Q=0;te<T;te+=1){var q=b[te];if(typeof q=="string")Q+=q.length;else{var L=q.regex,G=q.parser,N=O.slice(Q),M=L.exec(N)[0];G.call(D,M),O=O.replace(M,"")}}return function(J){var z=J.afternoon;if(z!==void 0){var Z=J.hours;z?Z<12&&(J.hours+=12):Z===12&&(J.hours=0),delete J.afternoon}}(D),D}}return function(p,y,v){v.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(l=p.parseTwoDigitYear);var b=y.prototype,T=b.parse;b.parse=function(_){var E=_.date,C=_.utc,k=_.args;this.$u=C;var S=k[1];if(typeof S=="string"){var O=k[2]===!0,D=k[3]===!0,te=O||D,Q=k[2];D&&(Q=k[2]),a=this.$locale(),!O&&Q&&(a=v.Ls[Q]),this.$d=function(N,M,J){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*N);var z=m(M)(N),Z=z.year,pe=z.month,H=z.day,U=z.hours,he=z.minutes,le=z.seconds,xe=z.milliseconds,He=z.zone,Re=new Date,$e=H||(Z||pe?1:Re.getDate()),Ne=Z||Re.getFullYear(),Ke=0;Z&&!pe||(Ke=pe>0?pe-1:Re.getMonth());var P=U||0,F=he||0,ne=le||0,fe=xe||0;return He?new Date(Date.UTC(Ne,Ke,$e,P,F,ne,fe+60*He.offset*1e3)):J?new Date(Date.UTC(Ne,Ke,$e,P,F,ne,fe)):new Date(Ne,Ke,$e,P,F,ne,fe)}catch{return new Date("")}}(E,S,C),this.init(),Q&&Q!==!0&&(this.$L=this.locale(Q).$L),te&&E!=this.format(S)&&(this.$d=new Date("")),a={}}else if(S instanceof Array)for(var q=S.length,L=1;L<=q;L+=1){k[1]=S[L-1];var G=v.apply(this,k);if(G.isValid()){this.$d=G.$d,this.$L=G.$L,this.init();break}L===q&&(this.$d=new Date(""))}else T.call(this,_)}}})})(wP);var $H=wP.exports;const BH=jr($H),X1=["hours","minutes","seconds"],Z1="HH:mm:ss",_l="YYYY-MM-DD",VH={date:_l,dates:_l,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${_l} ${Z1}`,monthrange:"YYYY-MM",daterange:_l,datetimerange:`${_l} ${Z1}`},mg=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],_P=t=>Array.from(Array.from({length:t}).keys()),CP=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),kP=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),eC=function(t,e){const n=yh(t),r=yh(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},tC=function(t,e){const n=Oe(t),r=Oe(e);return n&&r?t.length!==e.length?!1:t.every((i,s)=>eC(i,e[s])):!n&&!r?eC(t,e):!1},nC=function(t,e,n){const r=Tx(e)||e==="x"?ot(t).locale(n):ot(t,e).locale(n);return r.isValid()?r:void 0},rC=function(t,e,n){return Tx(e)?t:e==="x"?+t:ot(t).locale(n).format(e)},pg=(t,e)=>{var n;const r=[],i=e==null?void 0:e();for(let s=0;s<t;s++)r.push((n=i==null?void 0:i.includes(s))!=null?n:!1);return r},SP=Ct({disabledHours:{type:qe(Function)},disabledMinutes:{type:qe(Function)},disabledSeconds:{type:qe(Function)}}),zH=Ct({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),EP=Ct({id:{type:qe([Array,String])},name:{type:qe([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:qe([String,Object]),default:Fm},editable:{type:Boolean,default:!0},prefixIcon:{type:qe([String,Object]),default:""},size:Ac,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:qe(Object),default:()=>({})},modelValue:{type:qe([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:qe([Date,Array])},defaultTime:{type:qe([Date,Array])},isRange:{type:Boolean,default:!1},...SP,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:qe([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),UH=["id","name","placeholder","value","disabled","readonly"],HH=["id","name","placeholder","value","disabled","readonly"],jH=Pe({name:"Picker"}),WH=Pe({...jH,props:EP,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,i=kd(),{lang:s}=ai(),o=vt("date"),a=vt("input"),l=vt("range"),{form:c,formItem:u}=qa(),d=ct("ElPopperOptions",{}),f=ie(),h=ie(),m=ie(!1),p=ie(!1),y=ie(null);let v=!1,b=!1;const T=R(()=>[o.b("editor"),o.bm("editor",r.type),a.e("wrapper"),o.is("disabled",H.value),o.is("active",m.value),l.b("editor"),ge?l.bm("editor",ge.value):"",i.class]),_=R(()=>[a.e("icon"),l.e("close-icon"),$e.value?"":l.e("close-icon--hidden")]);Le(m,I=>{I?mt(()=>{I&&(y.value=r.modelValue)}):(ce.value=null,mt(()=>{E(r.modelValue)}))});const E=(I,Te)=>{(Te||!tC(I,y.value))&&(n("change",I),r.validateEvent&&(u==null||u.validate("change").catch(nt=>void 0)))},C=I=>{if(!tC(r.modelValue,I)){let Te;Oe(I)?Te=I.map(nt=>rC(nt,r.valueFormat,s.value)):I&&(Te=rC(I,r.valueFormat,s.value)),n("update:modelValue",I&&Te,s.value)}},k=I=>{n("keydown",I)},S=R(()=>{if(h.value){const I=K.value?h.value:h.value.$el;return Array.from(I.querySelectorAll("input"))}return[]}),O=(I,Te,nt)=>{const yt=S.value;yt.length&&(!nt||nt==="min"?(yt[0].setSelectionRange(I,Te),yt[0].focus()):nt==="max"&&(yt[1].setSelectionRange(I,Te),yt[1].focus()))},D=()=>{J(!0,!0),mt(()=>{b=!1})},te=(I="",Te=!1)=>{Te||(b=!0),m.value=Te;let nt;Oe(I)?nt=I.map(yt=>yt.toDate()):nt=I&&I.toDate(),ce.value=null,C(nt)},Q=()=>{p.value=!0},q=()=>{n("visible-change",!0)},L=I=>{(I==null?void 0:I.key)===Xt.esc&&J(!0,!0)},G=()=>{p.value=!1,m.value=!1,b=!1,n("visible-change",!1)},N=()=>{m.value=!0},M=()=>{m.value=!1},J=(I=!0,Te=!1)=>{b=Te;const[nt,yt]=g(S);let jt=nt;!I&&K.value&&(jt=yt),jt&&jt.focus()},z=I=>{r.readonly||H.value||m.value||b||(m.value=!0,n("focus",I))};let Z;const pe=I=>{const Te=async()=>{setTimeout(()=>{var nt;Z===Te&&(!((nt=f.value)!=null&&nt.isFocusInsideContent()&&!v)&&S.value.filter(yt=>yt.contains(document.activeElement)).length===0&&(ue(),m.value=!1,n("blur",I),r.validateEvent&&(u==null||u.validate("blur").catch(yt=>void 0))),v=!1)},0)};Z=Te,Te()},H=R(()=>r.disabled||(c==null?void 0:c.disabled)),U=R(()=>{let I;if(Ke.value?se.value.getDefaultValue&&(I=se.value.getDefaultValue()):Oe(r.modelValue)?I=r.modelValue.map(Te=>nC(Te,r.valueFormat,s.value)):I=nC(r.modelValue,r.valueFormat,s.value),se.value.getRangeAvailableTime){const Te=se.value.getRangeAvailableTime(I);Kl(Te,I)||(I=Te,C(Oe(I)?I.map(nt=>nt.toDate()):I.toDate()))}return Oe(I)&&I.some(Te=>!Te)&&(I=[]),I}),he=R(()=>{if(!se.value.panelReady)return"";const I=ee(U.value);return Oe(ce.value)?[ce.value[0]||I&&I[0]||"",ce.value[1]||I&&I[1]||""]:ce.value!==null?ce.value:!xe.value&&Ke.value||!m.value&&Ke.value?"":I?He.value?I.join(", "):I:""}),le=R(()=>r.type.includes("time")),xe=R(()=>r.type.startsWith("time")),He=R(()=>r.type==="dates"),Re=R(()=>r.prefixIcon||(le.value?i7:LV)),$e=ie(!1),Ne=I=>{r.readonly||H.value||$e.value&&(I.stopPropagation(),D(),C(null),E(null,!0),$e.value=!1,m.value=!1,se.value.handleClear&&se.value.handleClear())},Ke=R(()=>{const{modelValue:I}=r;return!I||Oe(I)&&!I.filter(Boolean).length}),P=async I=>{var Te;r.readonly||H.value||(((Te=I.target)==null?void 0:Te.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(m.value=!0)},F=()=>{r.readonly||H.value||!Ke.value&&r.clearable&&($e.value=!0)},ne=()=>{$e.value=!1},fe=I=>{var Te;r.readonly||H.value||(((Te=I.touches[0].target)==null?void 0:Te.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(m.value=!0)},K=R(()=>r.type.includes("range")),ge=Na(),ke=R(()=>{var I,Te;return(Te=(I=g(f))==null?void 0:I.popperRef)==null?void 0:Te.contentRef}),ve=R(()=>{var I;return g(K)?g(h):(I=g(h))==null?void 0:I.$el});FA(ve,I=>{const Te=g(ke),nt=g(ve);Te&&(I.target===Te||I.composedPath().includes(Te))||I.target===nt||I.composedPath().includes(nt)||(m.value=!1)});const ce=ie(null),ue=()=>{if(ce.value){const I=W(he.value);I&&Se(I)&&(C(Oe(I)?I.map(Te=>Te.toDate()):I.toDate()),ce.value=null)}ce.value===""&&(C(null),E(null),ce.value=null)},W=I=>I?se.value.parseUserInput(I):null,ee=I=>I?se.value.formatToString(I):null,Se=I=>se.value.isValidValue(I),re=async I=>{if(r.readonly||H.value)return;const{code:Te}=I;if(k(I),Te===Xt.esc){m.value===!0&&(m.value=!1,I.preventDefault(),I.stopPropagation());return}if(Te===Xt.down&&(se.value.handleFocusPicker&&(I.preventDefault(),I.stopPropagation()),m.value===!1&&(m.value=!0,await mt()),se.value.handleFocusPicker)){se.value.handleFocusPicker();return}if(Te===Xt.tab){v=!0;return}if(Te===Xt.enter||Te===Xt.numpadEnter){(ce.value===null||ce.value===""||Se(W(he.value)))&&(ue(),m.value=!1),I.stopPropagation();return}if(ce.value){I.stopPropagation();return}se.value.handleKeydownInput&&se.value.handleKeydownInput(I)},Ce=I=>{ce.value=I,m.value||(m.value=!0)},ze=I=>{const Te=I.target;ce.value?ce.value=[Te.value,ce.value[1]]:ce.value=[Te.value,null]},Ye=I=>{const Te=I.target;ce.value?ce.value=[ce.value[0],Te.value]:ce.value=[null,Te.value]},ut=()=>{var I;const Te=ce.value,nt=W(Te&&Te[0]),yt=g(U);if(nt&&nt.isValid()){ce.value=[ee(nt),((I=he.value)==null?void 0:I[1])||null];const jt=[nt,yt&&(yt[1]||null)];Se(jt)&&(C(jt),ce.value=null)}},bt=()=>{var I;const Te=g(ce),nt=W(Te&&Te[1]),yt=g(U);if(nt&&nt.isValid()){ce.value=[((I=g(he))==null?void 0:I[0])||null,ee(nt)];const jt=[yt&&yt[0],nt];Se(jt)&&(C(jt),ce.value=null)}},se=ie({}),De=I=>{se.value[I[0]]=I[1],se.value.panelReady=!0},ye=I=>{n("calendar-change",I)},Me=(I,Te,nt)=>{n("panel-change",I,Te,nt)};return Rn("EP_PICKER_BASE",{props:r}),e({focus:J,handleFocusInput:z,handleBlurInput:pe,handleOpen:N,handleClose:M,onPick:te}),(I,Te)=>(V(),Ue(g(fP),ti({ref_key:"refPopper",ref:f,visible:m.value,effect:"light",pure:"",trigger:"click"},I.$attrs,{role:"dialog",teleported:"",transition:`${g(o).namespace.value}-zoom-in-top`,"popper-class":[`${g(o).namespace.value}-picker__popper`,I.popperClass],"popper-options":g(d),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Q,onShow:q,onHide:G}),{default:Ee(()=>[g(K)?(V(),ae("div",{key:1,ref_key:"inputRef",ref:h,class:X(g(T)),style:vn(I.$attrs.style),onClick:z,onMouseenter:F,onMouseleave:ne,onTouchstart:fe,onKeydown:re},[g(Re)?(V(),Ue(g(xt),{key:0,class:X([g(a).e("icon"),g(l).e("icon")]),onMousedown:qt(P,["prevent"]),onTouchstart:fe},{default:Ee(()=>[(V(),Ue(Kn(g(Re))))]),_:1},8,["class","onMousedown"])):Ie("v-if",!0),x("input",{id:I.id&&I.id[0],autocomplete:"off",name:I.name&&I.name[0],placeholder:I.startPlaceholder,value:g(he)&&g(he)[0],disabled:g(H),readonly:!I.editable||I.readonly,class:X(g(l).b("input")),onMousedown:P,onInput:ze,onChange:ut,onFocus:z,onBlur:pe},null,42,UH),ft(I.$slots,"range-separator",{},()=>[x("span",{class:X(g(l).b("separator"))},Ae(I.rangeSeparator),3)]),x("input",{id:I.id&&I.id[1],autocomplete:"off",name:I.name&&I.name[1],placeholder:I.endPlaceholder,value:g(he)&&g(he)[1],disabled:g(H),readonly:!I.editable||I.readonly,class:X(g(l).b("input")),onMousedown:P,onFocus:z,onBlur:pe,onInput:Ye,onChange:bt},null,42,HH),I.clearIcon?(V(),Ue(g(xt),{key:1,class:X(g(_)),onClick:Ne},{default:Ee(()=>[(V(),Ue(Kn(I.clearIcon)))]),_:1},8,["class"])):Ie("v-if",!0)],38)):(V(),Ue(g(rs),{key:0,id:I.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":g(he),name:I.name,size:g(ge),disabled:g(H),placeholder:I.placeholder,class:X([g(o).b("editor"),g(o).bm("editor",I.type),I.$attrs.class]),style:vn(I.$attrs.style),readonly:!I.editable||I.readonly||g(He)||I.type==="week",label:I.label,tabindex:I.tabindex,"validate-event":!1,onInput:Ce,onFocus:z,onBlur:pe,onKeydown:re,onChange:ue,onMousedown:P,onMouseenter:F,onMouseleave:ne,onTouchstart:fe,onClick:Te[0]||(Te[0]=qt(()=>{},["stop"]))},{prefix:Ee(()=>[g(Re)?(V(),Ue(g(xt),{key:0,class:X(g(a).e("icon")),onMousedown:qt(P,["prevent"]),onTouchstart:fe},{default:Ee(()=>[(V(),Ue(Kn(g(Re))))]),_:1},8,["class","onMousedown"])):Ie("v-if",!0)]),suffix:Ee(()=>[$e.value&&I.clearIcon?(V(),Ue(g(xt),{key:0,class:X(`${g(a).e("icon")} clear-icon`),onClick:qt(Ne,["stop"])},{default:Ee(()=>[(V(),Ue(Kn(I.clearIcon)))]),_:1},8,["class","onClick"])):Ie("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Ee(()=>[ft(I.$slots,"default",{visible:m.value,actualVisible:p.value,parsedValue:g(U),format:I.format,unlinkPanels:I.unlinkPanels,type:I.type,defaultValue:I.defaultValue,onPick:te,onSelectRange:O,onSetPickerOption:De,onCalendarChange:ye,onPanelChange:Me,onKeydown:L,onMousedown:Te[1]||(Te[1]=qt(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var qH=kt(WH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const KH=Ct({...zH,datetimeRole:String,parsedValue:{type:qe(Object)}}),GH=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(o,a,l,c)=>{const u={hour:t,minute:e,second:n};let d=o;return["hour","minute","second"].forEach(f=>{if(u[f]){let h;const m=u[f];switch(f){case"minute":{h=m(d.hour(),a,c);break}case"second":{h=m(d.hour(),d.minute(),a,c);break}default:{h=m(a,c);break}}if(h!=null&&h.length&&!h.includes(d[f]())){const p=l?0:h.length-1;d=d[f](h[p])}}}),d},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([o,a])=>{i[o]=a}}},gg=t=>{const e=(r,i)=>r||i,n=r=>r!==!0;return t.map(e).filter(n)},TP=(t,e,n)=>({getHoursList:(o,a)=>pg(24,t&&(()=>t==null?void 0:t(o,a))),getMinutesList:(o,a,l)=>pg(60,e&&(()=>e==null?void 0:e(o,a,l))),getSecondsList:(o,a,l,c)=>pg(60,n&&(()=>n==null?void 0:n(o,a,l,c)))}),YH=(t,e,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:s}=TP(t,e,n);return{getAvailableHours:(c,u)=>gg(r(c,u)),getAvailableMinutes:(c,u,d)=>gg(i(c,u,d)),getAvailableSeconds:(c,u,d,f)=>gg(s(c,u,d,f))}},QH=t=>{const e=ie(t.parsedValue);return Le(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},lo=new Map;let iC;vr&&(document.addEventListener("mousedown",t=>iC=t),document.addEventListener("mouseup",t=>{for(const e of lo.values())for(const{documentHandler:n}of e)n(t,iC)}));function sC(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:Ku(e.arg)&&n.push(e.arg),function(r,i){const s=e.instance.popperRef,o=r.target,a=i==null?void 0:i.target,l=!e||!e.instance,c=!o||!a,u=t.contains(o)||t.contains(a),d=t===o,f=n.length&&n.some(m=>m==null?void 0:m.contains(o))||n.length&&n.includes(a),h=s&&(s.contains(o)||s.contains(a));l||c||u||d||f||h||e.value(r,i)}}const Nh={beforeMount(t,e){lo.has(t)||lo.set(t,[]),lo.get(t).push({documentHandler:sC(t,e),bindingFn:e.value})},updated(t,e){lo.has(t)||lo.set(t,[]);const n=lo.get(t),r=n.findIndex(s=>s.bindingFn===e.oldValue),i={documentHandler:sC(t,e),bindingFn:e.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(t){lo.delete(t)}},JH=100,XH=600,oC={beforeMount(t,e){const n=e.value,{interval:r=JH,delay:i=XH}=Ge(n)?{}:n;let s,o;const a=()=>Ge(n)?n():n.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),s&&(clearInterval(s),s=void 0)};t.addEventListener("mousedown",c=>{c.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{s=setInterval(()=>{a()},r)},i))})}},ZH=Ct({role:{type:String,required:!0},spinnerDate:{type:qe(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:qe(String),default:""},...SP}),ej=["onClick"],tj=["onMouseenter"],nj=Pe({__name:"basic-time-spinner",props:ZH,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,r=vt("time"),{getHoursList:i,getMinutesList:s,getSecondsList:o}=TP(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let a=!1;const l=ie(),c=ie(),u=ie(),d=ie(),f={hours:c,minutes:u,seconds:d},h=R(()=>n.showSeconds?X1:X1.slice(0,2)),m=R(()=>{const{spinnerDate:z}=n,Z=z.hour(),pe=z.minute(),H=z.second();return{hours:Z,minutes:pe,seconds:H}}),p=R(()=>{const{hours:z,minutes:Z}=g(m);return{hours:i(n.role),minutes:s(z,n.role),seconds:o(z,Z,n.role)}}),y=R(()=>{const{hours:z,minutes:Z,seconds:pe}=g(m);return{hours:mg(z,23),minutes:mg(Z,59),seconds:mg(pe,59)}}),v=Po(z=>{a=!1,_(z)},200),b=z=>{if(!!!n.amPmMode)return"";const pe=n.amPmMode==="A";let H=z<12?" am":" pm";return pe&&(H=H.toUpperCase()),H},T=z=>{let Z;switch(z){case"hours":Z=[0,2];break;case"minutes":Z=[3,5];break;case"seconds":Z=[6,8];break}const[pe,H]=Z;e("select-range",pe,H),l.value=z},_=z=>{k(z,g(m)[z])},E=()=>{_("hours"),_("minutes"),_("seconds")},C=z=>z.querySelector(`.${r.namespace.value}-scrollbar__wrap`),k=(z,Z)=>{if(n.arrowControl)return;const pe=g(f[z]);pe&&pe.$el&&(C(pe.$el).scrollTop=Math.max(0,Z*S(z)))},S=z=>{const Z=g(f[z]),pe=Z==null?void 0:Z.$el.querySelector("li");return pe&&Number.parseFloat(cV(pe,"height"))||0},O=()=>{te(1)},D=()=>{te(-1)},te=z=>{l.value||T("hours");const Z=l.value,pe=g(m)[Z],H=l.value==="hours"?24:60,U=Q(Z,pe,z,H);q(Z,U),k(Z,U),mt(()=>T(Z))},Q=(z,Z,pe,H)=>{let U=(Z+pe+H)%H;const he=g(p)[z];for(;he[U]&&U!==Z;)U=(U+pe+H)%H;return U},q=(z,Z)=>{if(g(p)[z][Z])return;const{hours:U,minutes:he,seconds:le}=g(m);let xe;switch(z){case"hours":xe=n.spinnerDate.hour(Z).minute(he).second(le);break;case"minutes":xe=n.spinnerDate.hour(U).minute(Z).second(le);break;case"seconds":xe=n.spinnerDate.hour(U).minute(he).second(Z);break}e("change",xe)},L=(z,{value:Z,disabled:pe})=>{pe||(q(z,Z),T(z),k(z,Z))},G=z=>{a=!0,v(z);const Z=Math.min(Math.round((C(g(f[z]).$el).scrollTop-(N(z)*.5-10)/S(z)+3)/S(z)),z==="hours"?23:59);q(z,Z)},N=z=>g(f[z]).$el.offsetHeight,M=()=>{const z=Z=>{const pe=g(f[Z]);pe&&pe.$el&&(C(pe.$el).onscroll=()=>{G(Z)})};z("hours"),z("minutes"),z("seconds")};_n(()=>{mt(()=>{!n.arrowControl&&M(),E(),n.role==="start"&&T("hours")})});const J=(z,Z)=>{f[Z].value=z};return e("set-option",[`${n.role}_scrollDown`,te]),e("set-option",[`${n.role}_emitSelectRange`,T]),Le(()=>n.spinnerDate,()=>{a||E()}),(z,Z)=>(V(),ae("div",{class:X([g(r).b("spinner"),{"has-seconds":z.showSeconds}])},[z.arrowControl?Ie("v-if",!0):(V(!0),ae(it,{key:0},yn(g(h),pe=>(V(),Ue(g(rP),{key:pe,ref_for:!0,ref:H=>J(H,pe),class:X(g(r).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":g(r).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:H=>T(pe),onMousemove:H=>_(pe)},{default:Ee(()=>[(V(!0),ae(it,null,yn(g(p)[pe],(H,U)=>(V(),ae("li",{key:U,class:X([g(r).be("spinner","item"),g(r).is("active",U===g(m)[pe]),g(r).is("disabled",H)]),onClick:he=>L(pe,{value:U,disabled:H})},[pe==="hours"?(V(),ae(it,{key:0},[un(Ae(("0"+(z.amPmMode?U%12||12:U)).slice(-2))+Ae(b(U)),1)],64)):(V(),ae(it,{key:1},[un(Ae(("0"+U).slice(-2)),1)],64))],10,ej))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),z.arrowControl?(V(!0),ae(it,{key:1},yn(g(h),pe=>(V(),ae("div",{key:pe,class:X([g(r).be("spinner","wrapper"),g(r).is("arrow")]),onMouseenter:H=>T(pe)},[Wt((V(),Ue(g(xt),{class:X(["arrow-up",g(r).be("spinner","arrow")])},{default:Ee(()=>[oe(g(OV))]),_:1},8,["class"])),[[g(oC),D]]),Wt((V(),Ue(g(xt),{class:X(["arrow-down",g(r).be("spinner","arrow")])},{default:Ee(()=>[oe(g(xx))]),_:1},8,["class"])),[[g(oC),O]]),x("ul",{class:X(g(r).be("spinner","list"))},[(V(!0),ae(it,null,yn(g(y)[pe],(H,U)=>(V(),ae("li",{key:U,class:X([g(r).be("spinner","item"),g(r).is("active",H===g(m)[pe]),g(r).is("disabled",g(p)[pe][H])])},[typeof H=="number"?(V(),ae(it,{key:0},[pe==="hours"?(V(),ae(it,{key:0},[un(Ae(("0"+(z.amPmMode?H%12||12:H)).slice(-2))+Ae(b(H)),1)],64)):(V(),ae(it,{key:1},[un(Ae(("0"+H).slice(-2)),1)],64))],64)):Ie("v-if",!0)],2))),128))],2)],42,tj))),128)):Ie("v-if",!0)],2))}});var rj=kt(nj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const ij=Pe({__name:"panel-time-pick",props:KH,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=ct("EP_PICKER_BASE"),{arrowControl:i,disabledHours:s,disabledMinutes:o,disabledSeconds:a,defaultValue:l}=r.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=YH(s,o,a),f=vt("time"),{t:h,lang:m}=ai(),p=ie([0,2]),y=QH(n),v=R(()=>Gl(n.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),b=R(()=>n.format.includes("ss")),T=R(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),_=J=>{const z=ot(J).locale(m.value),Z=L(z);return z.isSame(Z)},E=()=>{e("pick",y.value,!1)},C=(J=!1,z=!1)=>{z||e("pick",n.parsedValue,J)},k=J=>{if(!n.visible)return;const z=L(J).millisecond(0);e("pick",z,!0)},S=(J,z)=>{e("select-range",J,z),p.value=[J,z]},O=J=>{const z=[0,3].concat(b.value?[6]:[]),Z=["hours","minutes"].concat(b.value?["seconds"]:[]),H=(z.indexOf(p.value[0])+J+z.length)%z.length;te.start_emitSelectRange(Z[H])},D=J=>{const z=J.code,{left:Z,right:pe,up:H,down:U}=Xt;if([Z,pe].includes(z)){O(z===Z?-1:1),J.preventDefault();return}if([H,U].includes(z)){const he=z===H?-1:1;te.start_scrollDown(he),J.preventDefault();return}},{timePickerOptions:te,onSetOption:Q,getAvailableTime:q}=GH({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),L=J=>q(J,n.datetimeRole||"",!0),G=J=>J?ot(J,n.format).locale(m.value):null,N=J=>J?J.format(n.format):null,M=()=>ot(l).locale(m.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",N]),e("set-picker-option",["parseUserInput",G]),e("set-picker-option",["handleKeydownInput",D]),e("set-picker-option",["getRangeAvailableTime",L]),e("set-picker-option",["getDefaultValue",M]),(J,z)=>(V(),Ue(vi,{name:g(v)},{default:Ee(()=>[J.actualVisible||J.visible?(V(),ae("div",{key:0,class:X(g(f).b("panel"))},[x("div",{class:X([g(f).be("panel","content"),{"has-seconds":g(b)}])},[oe(rj,{ref:"spinner",role:J.datetimeRole||"start","arrow-control":g(i),"show-seconds":g(b),"am-pm-mode":g(T),"spinner-date":J.parsedValue,"disabled-hours":g(s),"disabled-minutes":g(o),"disabled-seconds":g(a),onChange:k,onSetOption:g(Q),onSelectRange:S},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),x("div",{class:X(g(f).be("panel","footer"))},[x("button",{type:"button",class:X([g(f).be("panel","btn"),"cancel"]),onClick:E},Ae(g(h)("el.datepicker.cancel")),3),x("button",{type:"button",class:X([g(f).be("panel","btn"),"confirm"]),onClick:z[0]||(z[0]=Z=>C())},Ae(g(h)("el.datepicker.confirm")),3)],2)],2)):Ie("v-if",!0)]),_:1},8,["name"]))}});var Qv=kt(ij,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),AP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){return function(n,r,i){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,h,m,p){var y=d.name?d:d.$locale(),v=o(y[f]),b=o(y[h]),T=v||b.map(function(E){return E.slice(0,m)});if(!p)return T;var _=y.weekStart;return T.map(function(E,C){return T[(C+(_||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,p,y){return p||y.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return u.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(d){return a(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(AP);var sj=AP.exports;const oj=jr(sj),xP={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Ac,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},PP={[tr]:t=>Ot(t)||Nr(t)||qu(t),change:t=>Ot(t)||Nr(t)||qu(t)},xc=Symbol("checkboxGroupContextKey"),aj=({model:t,isChecked:e})=>{const n=ct(xc,void 0),r=R(()=>{var s,o;const a=(s=n==null?void 0:n.max)==null?void 0:s.value,l=(o=n==null?void 0:n.min)==null?void 0:o.value;return!Gl(a)&&t.value.length>=a&&!e.value||!Gl(l)&&t.value.length<=l&&e.value});return{isDisabled:zm(R(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},lj=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:s})=>{const o=ct(xc,void 0),{formItem:a}=qa(),{emit:l}=Lt();function c(m){var p,y;return m===t.trueLabel||m===!0?(p=t.trueLabel)!=null?p:!0:(y=t.falseLabel)!=null?y:!1}function u(m,p){l("change",c(m),p)}function d(m){if(n.value)return;const p=m.target;l("change",c(p.checked),m)}async function f(m){n.value||!r.value&&!i.value&&s.value&&(m.composedPath().some(v=>v.tagName==="LABEL")||(e.value=c([!1,t.falseLabel].includes(e.value)),await mt(),u(e.value,m)))}const h=R(()=>(o==null?void 0:o.validateEvent)||t.validateEvent);return Le(()=>t.modelValue,()=>{h.value&&(a==null||a.validate("change").catch(m=>void 0))}),{handleChange:d,onClickRoot:f}},cj=t=>{const e=ie(!1),{emit:n}=Lt(),r=ct(xc,void 0),i=R(()=>Gl(r)===!1),s=ie(!1);return{model:R({get(){var a,l;return i.value?(a=r==null?void 0:r.modelValue)==null?void 0:a.value:(l=t.modelValue)!=null?l:e.value},set(a){var l,c;i.value&&Oe(a)?(s.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&a.length>(r==null?void 0:r.max.value),s.value===!1&&((c=r==null?void 0:r.changeEvent)==null||c.call(r,a))):(n(tr,a),e.value=a)}}),isGroup:i,isLimitExceeded:s}},uj=(t,e,{model:n})=>{const r=ct(xc,void 0),i=ie(!1),s=R(()=>{const c=n.value;return qu(c)?c:Oe(c)?_t(t.label)?c.map(gt).some(u=>Kl(u,t.label)):c.map(gt).includes(t.label):c!=null?c===t.trueLabel:!!c}),o=Na(R(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value}),{prop:!0}),a=Na(R(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value})),l=R(()=>!!(e.default||t.label));return{checkboxButtonSize:o,isChecked:s,isFocused:i,checkboxSize:a,hasOwnLabel:l}},dj=(t,{model:e})=>{function n(){Oe(e.value)&&!e.value.includes(t.label)?e.value.push(t.label):e.value=t.trueLabel||!0}t.checked&&n()},IP=(t,e)=>{const{formItem:n}=qa(),{model:r,isGroup:i,isLimitExceeded:s}=cj(t),{isFocused:o,isChecked:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u}=uj(t,e,{model:r}),{isDisabled:d}=aj({model:r,isChecked:a}),{inputId:f,isLabeledByFormItem:h}=Ey(t,{formItemContext:n,disableIdGeneration:u,disableIdManagement:i}),{handleChange:m,onClickRoot:p}=lj(t,{model:r,isLimitExceeded:s,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:h});return dj(t,{model:r}),{inputId:f,isLabeledByFormItem:h,isChecked:a,isDisabled:d,isFocused:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:r,handleChange:m,onClickRoot:p}},fj=["tabindex","role","aria-checked"],hj=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],mj=["id","aria-hidden","disabled","value","name","tabindex"],pj=Pe({name:"ElCheckbox"}),gj=Pe({...pj,props:xP,emits:PP,setup(t){const e=t,n=Ua(),{inputId:r,isLabeledByFormItem:i,isChecked:s,isDisabled:o,isFocused:a,checkboxSize:l,hasOwnLabel:c,model:u,handleChange:d,onClickRoot:f}=IP(e,n),h=vt("checkbox"),m=R(()=>[h.b(),h.m(l.value),h.is("disabled",o.value),h.is("bordered",e.border),h.is("checked",s.value)]),p=R(()=>[h.e("input"),h.is("disabled",o.value),h.is("checked",s.value),h.is("indeterminate",e.indeterminate),h.is("focus",a.value)]);return(y,v)=>(V(),Ue(Kn(!g(c)&&g(i)?"span":"label"),{class:X(g(m)),"aria-controls":y.indeterminate?y.controls:null,onClick:g(f)},{default:Ee(()=>[x("span",{class:X(g(p)),tabindex:y.indeterminate?0:void 0,role:y.indeterminate?"checkbox":void 0,"aria-checked":y.indeterminate?"mixed":void 0},[y.trueLabel||y.falseLabel?Wt((V(),ae("input",{key:0,id:g(r),"onUpdate:modelValue":v[0]||(v[0]=b=>Gt(u)?u.value=b:null),class:X(g(h).e("original")),type:"checkbox","aria-hidden":y.indeterminate?"true":"false",name:y.name,tabindex:y.tabindex,disabled:g(o),"true-value":y.trueLabel,"false-value":y.falseLabel,onChange:v[1]||(v[1]=(...b)=>g(d)&&g(d)(...b)),onFocus:v[2]||(v[2]=b=>a.value=!0),onBlur:v[3]||(v[3]=b=>a.value=!1),onClick:v[4]||(v[4]=qt(()=>{},["stop"]))},null,42,hj)),[[Pa,g(u)]]):Wt((V(),ae("input",{key:1,id:g(r),"onUpdate:modelValue":v[5]||(v[5]=b=>Gt(u)?u.value=b:null),class:X(g(h).e("original")),type:"checkbox","aria-hidden":y.indeterminate?"true":"false",disabled:g(o),value:y.label,name:y.name,tabindex:y.tabindex,onChange:v[6]||(v[6]=(...b)=>g(d)&&g(d)(...b)),onFocus:v[7]||(v[7]=b=>a.value=!0),onBlur:v[8]||(v[8]=b=>a.value=!1),onClick:v[9]||(v[9]=qt(()=>{},["stop"]))},null,42,mj)),[[Pa,g(u)]]),x("span",{class:X(g(h).e("inner"))},null,2)],10,fj),g(c)?(V(),ae("span",{key:0,class:X(g(h).e("label"))},[ft(y.$slots,"default"),y.$slots.default?Ie("v-if",!0):(V(),ae(it,{key:0},[un(Ae(y.label),1)],64))],2)):Ie("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var vj=kt(gj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const bj=["name","tabindex","disabled","true-value","false-value"],yj=["name","tabindex","disabled","value"],wj=Pe({name:"ElCheckboxButton"}),_j=Pe({...wj,props:xP,emits:PP,setup(t){const e=t,n=Ua(),{isFocused:r,isChecked:i,isDisabled:s,checkboxButtonSize:o,model:a,handleChange:l}=IP(e,n),c=ct(xc,void 0),u=vt("checkbox"),d=R(()=>{var h,m,p,y;const v=(m=(h=c==null?void 0:c.fill)==null?void 0:h.value)!=null?m:"";return{backgroundColor:v,borderColor:v,color:(y=(p=c==null?void 0:c.textColor)==null?void 0:p.value)!=null?y:"",boxShadow:v?`-1px 0 0 0 ${v}`:void 0}}),f=R(()=>[u.b("button"),u.bm("button",o.value),u.is("disabled",s.value),u.is("checked",i.value),u.is("focus",r.value)]);return(h,m)=>(V(),ae("label",{class:X(g(f))},[h.trueLabel||h.falseLabel?Wt((V(),ae("input",{key:0,"onUpdate:modelValue":m[0]||(m[0]=p=>Gt(a)?a.value=p:null),class:X(g(u).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:g(s),"true-value":h.trueLabel,"false-value":h.falseLabel,onChange:m[1]||(m[1]=(...p)=>g(l)&&g(l)(...p)),onFocus:m[2]||(m[2]=p=>r.value=!0),onBlur:m[3]||(m[3]=p=>r.value=!1),onClick:m[4]||(m[4]=qt(()=>{},["stop"]))},null,42,bj)),[[Pa,g(a)]]):Wt((V(),ae("input",{key:1,"onUpdate:modelValue":m[5]||(m[5]=p=>Gt(a)?a.value=p:null),class:X(g(u).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:g(s),value:h.label,onChange:m[6]||(m[6]=(...p)=>g(l)&&g(l)(...p)),onFocus:m[7]||(m[7]=p=>r.value=!0),onBlur:m[8]||(m[8]=p=>r.value=!1),onClick:m[9]||(m[9]=qt(()=>{},["stop"]))},null,42,yj)),[[Pa,g(a)]]),h.$slots.default||h.label?(V(),ae("span",{key:2,class:X(g(u).be("button","inner")),style:vn(g(i)?g(d):void 0)},[ft(h.$slots,"default",{},()=>[un(Ae(h.label),1)])],6)):Ie("v-if",!0)],2))}});var OP=kt(_j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Cj=Ct({modelValue:{type:qe(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Ac,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),kj={[tr]:t=>Oe(t),change:t=>Oe(t)},Sj=Pe({name:"ElCheckboxGroup"}),Ej=Pe({...Sj,props:Cj,emits:kj,setup(t,{emit:e}){const n=t,r=vt("checkbox"),{formItem:i}=qa(),{inputId:s,isLabeledByFormItem:o}=Ey(n,{formItemContext:i}),a=async c=>{e(tr,c),await mt(),e("change",c)},l=R({get(){return n.modelValue},set(c){a(c)}});return Rn(xc,{...tV(Cc(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),Le(()=>n.modelValue,()=>{n.validateEvent&&(i==null||i.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return V(),Ue(Kn(c.tag),{id:g(s),class:X(g(r).b("group")),role:"group","aria-label":g(o)?void 0:c.label||"checkbox-group","aria-labelledby":g(o)?(d=g(i))==null?void 0:d.labelId:void 0},{default:Ee(()=>[ft(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var RP=kt(Ej,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Tj=ki(vj,{CheckboxButton:OP,CheckboxGroup:RP});Wa(OP);Wa(RP);const MP=Ct({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:py,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Aj={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},xj=Pe({name:"ElTag"}),Pj=Pe({...xj,props:MP,emits:Aj,setup(t,{emit:e}){const n=t,r=Na(),i=vt("tag"),s=R(()=>{const{type:l,hit:c,effect:u,closable:d,round:f}=n;return[i.b(),i.is("closable",d),i.m(l),i.m(r.value),i.m(u),i.is("hit",c),i.is("round",f)]}),o=l=>{e("close",l)},a=l=>{e("click",l)};return(l,c)=>l.disableTransitions?(V(),ae("span",{key:0,class:X(g(s)),style:vn({backgroundColor:l.color}),onClick:a},[x("span",{class:X(g(i).e("content"))},[ft(l.$slots,"default")],2),l.closable?(V(),Ue(g(xt),{key:0,class:X(g(i).e("close")),onClick:qt(o,["stop"])},{default:Ee(()=>[oe(g(k1))]),_:1},8,["class","onClick"])):Ie("v-if",!0)],6)):(V(),Ue(vi,{key:1,name:`${g(i).namespace.value}-zoom-in-center`,appear:""},{default:Ee(()=>[x("span",{class:X(g(s)),style:vn({backgroundColor:l.color}),onClick:a},[x("span",{class:X(g(i).e("content"))},[ft(l.$slots,"default")],2),l.closable?(V(),Ue(g(xt),{key:0,class:X(g(i).e("close")),onClick:qt(o,["stop"])},{default:Ee(()=>[oe(g(k1))]),_:1},8,["class","onClick"])):Ie("v-if",!0)],6)]),_:3},8,["name"]))}});var Ij=kt(Pj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const Oj=ki(Ij),aC=t=>typeof Nr(t),Rj=Ct({accordion:Boolean,modelValue:{type:qe([Array,String,Number]),default:()=>Dx([])}}),Mj={[tr]:aC,[$m]:aC},DP=Symbol("collapseContextKey"),Dj=(t,e)=>{const n=ie(r1(t.modelValue)),r=s=>{n.value=s;const o=t.accordion?n.value[0]:n.value;e(tr,o),e($m,o)},i=s=>{if(t.accordion)r([n.value[0]===s?"":s]);else{const o=[...n.value],a=o.indexOf(s);a>-1?o.splice(a,1):o.push(s),r(o)}};return Le(()=>t.modelValue,()=>n.value=r1(t.modelValue),{deep:!0}),Rn(DP,{activeNames:n,handleItemClick:i}),{activeNames:n,setActiveNames:r}},Nj=()=>{const t=vt("collapse");return{rootKls:R(()=>t.b())}},Fj=Pe({name:"ElCollapse"}),Lj=Pe({...Fj,props:Rj,emits:Mj,setup(t,{expose:e,emit:n}){const r=t,{activeNames:i,setActiveNames:s}=Dj(r,n),{rootKls:o}=Nj();return e({activeNames:i,setActiveNames:s}),(a,l)=>(V(),ae("div",{class:X(g(o)),role:"tablist","aria-multiselectable":"true"},[ft(a.$slots,"default")],2))}});var $j=kt(Lj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const Bj=Pe({name:"ElCollapseTransition"}),Vj=Pe({...Bj,setup(t){const e=vt("collapse-transition"),n=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){i.dataset.oldOverflow=i.style.overflow,i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){n(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){n(i)},leaveCancelled(i){n(i)}};return(i,s)=>(V(),Ue(vi,ti({name:g(e).b()},zT(r)),{default:Ee(()=>[ft(i.$slots,"default")]),_:3},16,["name"]))}});var th=kt(Vj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);th.install=t=>{t.component(th.name,th)};const zj=th,Uj=Ct({title:{type:String,default:""},name:{type:qe([String,Number]),default:()=>Mx()},disabled:Boolean}),Hj=t=>{const e=ct(DP),n=ie(!1),r=ie(!1),i=ie(Mx()),s=R(()=>e==null?void 0:e.activeNames.value.includes(t.name));return{focusing:n,id:i,isActive:s,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:n.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(t.name),n.value=!1,r.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(t.name)}}},jj=(t,{focusing:e,isActive:n,id:r})=>{const i=vt("collapse"),s=R(()=>[i.b("item"),i.is("active",g(n)),i.is("disabled",t.disabled)]),o=R(()=>[i.be("item","header"),i.is("active",g(n)),{focusing:g(e)&&!t.disabled}]),a=R(()=>[i.be("item","arrow"),i.is("active",g(n))]),l=R(()=>i.be("item","wrap")),c=R(()=>i.be("item","content")),u=R(()=>i.b(`content-${g(r)}`)),d=R(()=>i.b(`head-${g(r)}`));return{arrowKls:a,headKls:o,rootKls:s,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:d}},Wj=["aria-expanded","aria-controls","aria-describedby"],qj=["id","tabindex"],Kj=["id","aria-hidden","aria-labelledby"],Gj=Pe({name:"ElCollapseItem"}),Yj=Pe({...Gj,props:Uj,setup(t,{expose:e}){const n=t,{focusing:r,id:i,isActive:s,handleFocus:o,handleHeaderClick:a,handleEnterClick:l}=Hj(n),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:f,itemContentKls:h,scopedContentId:m,scopedHeadId:p}=jj(n,{focusing:r,isActive:s,id:i});return e({isActive:s}),(y,v)=>(V(),ae("div",{class:X(g(d))},[x("div",{role:"tab","aria-expanded":g(s),"aria-controls":g(m),"aria-describedby":g(m)},[x("div",{id:g(p),class:X(g(u)),role:"button",tabindex:y.disabled?-1:0,onClick:v[0]||(v[0]=(...b)=>g(a)&&g(a)(...b)),onKeypress:v[1]||(v[1]=Fn(qt((...b)=>g(l)&&g(l)(...b),["stop","prevent"]),["space","enter"])),onFocus:v[2]||(v[2]=(...b)=>g(o)&&g(o)(...b)),onBlur:v[3]||(v[3]=b=>r.value=!1)},[ft(y.$slots,"title",{},()=>[un(Ae(y.title),1)]),oe(g(xt),{class:X(g(c))},{default:Ee(()=>[oe(g(mu))]),_:1},8,["class"])],42,qj)],8,Wj),oe(g(zj),null,{default:Ee(()=>[Wt(x("div",{id:g(m),class:X(g(f)),role:"tabpanel","aria-hidden":!g(s),"aria-labelledby":g(p)},[x("div",{class:X(g(h))},[ft(y.$slots,"default")],2)],10,Kj),[[fr,g(s)]])]),_:3})],2))}});var NP=kt(Yj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const Qj=ki($j,{CollapseItem:NP}),Jj=Wa(NP);var FP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(u)}}})})(FP);var Xj=FP.exports;const Zj=jr(Xj);var LP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){var n="week",r="year";return function(i,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(r).add(1,r).date(c),d=o(this).endOf(n);if(u.isBefore(d))return 1}var f=o(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(LP);var eW=LP.exports;const tW=jr(eW);var $P={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),s=this.week(),o=this.year();return s===1&&i===11?o+1:i===0&&s>=52?o-1:o}}})})($P);var nW=$P.exports;const rW=jr(nW);var BP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){return function(n,r,i){r.prototype.dayOfYear=function(s){var o=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return s==null?o:this.add(s-o,"day")}}})})(BP);var iW=BP.exports;const sW=jr(iW);var VP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(VP);var oW=VP.exports;const aW=jr(oW);var zP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wn,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(zP);var lW=zP.exports;const cW=jr(lW),Iy=Symbol(),uW=Ct({...EP,type:{type:qe(String),default:"date"}}),dW=["date","dates","year","month","week","range"],Oy=Ct({disabledDate:{type:qe(Function)},date:{type:qe(Object),required:!0},minDate:{type:qe(Object)},maxDate:{type:qe(Object)},parsedValue:{type:qe([Object,Array])},rangeState:{type:qe(Object),default:()=>({endDate:null,selecting:!1})}}),UP=Ct({type:{type:qe(String),required:!0,values:B7}}),HP=Ct({unlinkPanels:Boolean,parsedValue:{type:qe(Array)}}),jP=t=>({type:String,values:dW,default:t}),fW=Ct({...UP,parsedValue:{type:qe([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),hW=Ct({...Oy,cellClassName:{type:qe(Function)},showWeekNumber:Boolean,selectionMode:jP("date")}),Jv=t=>{if(!Oe(t))return!1;const[e,n]=t;return ot.isDayjs(e)&&ot.isDayjs(n)&&e.isSameOrBefore(n)},WP=(t,{lang:e,unit:n,unlinkPanels:r})=>{let i;if(Oe(t)){let[s,o]=t.map(a=>ot(a).locale(e));return r||(o=s.add(1,n)),[s,o]}else t?i=ot(t):i=ot();return i=i.locale(e),[i,i.add(1,n)]},mW=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:s,unit:o,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<t.row;u++){const d=e[u];for(let f=0;f<t.column;f++){let h=d[f+n];h||(h={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const m=u*t.column+f,p=a(m);h.dayjs=p,h.date=p.toDate(),h.timestamp=p.valueOf(),h.type="normal",h.inRange=!!(r&&p.isSameOrAfter(r,o)&&i&&p.isSameOrBefore(i,o))||!!(r&&p.isSameOrBefore(r,o)&&i&&p.isSameOrAfter(i,o)),r!=null&&r.isSameOrAfter(i)?(h.start=!!i&&p.isSame(i,o),h.end=r&&p.isSame(r,o)):(h.start=!!r&&p.isSame(r,o),h.end=!!i&&p.isSame(i,o)),p.isSame(s,o)&&(h.type="today"),l==null||l(h,{rowIndex:u,columnIndex:f}),d[f+n]=h}c==null||c(d)}},pW=Ct({cell:{type:qe(Object)}});var gW=Pe({name:"ElDatePickerCell",props:pW,setup(t){const e=vt("date-table-cell"),{slots:n}=ct(Iy);return()=>{const{cell:r}=t;if(n.default){const i=n.default(r).filter(s=>s.patchFlag!==-2&&s.type.toString()!=="Symbol(Comment)");if(i.length)return i}return oe("div",{class:e.b()},[oe("span",{class:e.e("text")},[r==null?void 0:r.text])])}}});const vW=["aria-label","onMousedown"],bW={key:0,scope:"col"},yW=["aria-label"],wW=["aria-current","aria-selected","tabindex"],_W=Pe({__name:"basic-date-table",props:hW,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=vt("date-table"),{t:s,lang:o}=ai(),a=ie(),l=ie(),c=ie(),u=ie(),d=ie([[],[],[],[],[],[]]);let f=!1;const h=r.date.$locale().weekStart||7,m=r.date.locale("en").localeData().weekdaysShort().map(H=>H.toLowerCase()),p=R(()=>h>3?7-h:-h),y=R(()=>{const H=r.date.startOf("month");return H.subtract(H.day()||7,"day")}),v=R(()=>m.concat(m).slice(h,h+7)),b=R(()=>XA(S.value).some(H=>H.isCurrent)),T=R(()=>{const H=r.date.startOf("month"),U=H.day()||7,he=H.daysInMonth(),le=H.subtract(1,"month").daysInMonth();return{startOfMonthDay:U,dateCountOfMonth:he,dateCountOfLastMonth:le}}),_=R(()=>r.selectionMode==="dates"?va(r.parsedValue):[]),E=(H,{count:U,rowIndex:he,columnIndex:le})=>{const{startOfMonthDay:xe,dateCountOfMonth:He,dateCountOfLastMonth:Re}=g(T),$e=g(p);if(he>=0&&he<=1){const Ne=xe+$e<0?7+xe+$e:xe+$e;if(le+he*7>=Ne)return H.text=U,!0;H.text=Re-(Ne-le%7)+1+he*7,H.type="prev-month"}else return U<=He?H.text=U:(H.text=U-He,H.type="next-month"),!0;return!1},C=(H,{columnIndex:U,rowIndex:he},le)=>{const{disabledDate:xe,cellClassName:He}=r,Re=g(_),$e=E(H,{count:le,rowIndex:he,columnIndex:U}),Ne=H.dayjs.toDate();return H.selected=Re.find(Ke=>Ke.valueOf()===H.dayjs.valueOf()),H.isSelected=!!H.selected,H.isCurrent=te(H),H.disabled=xe==null?void 0:xe(Ne),H.customClass=He==null?void 0:He(Ne),$e},k=H=>{if(r.selectionMode==="week"){const[U,he]=r.showWeekNumber?[1,7]:[0,6],le=pe(H[U+1]);H[U].inRange=le,H[U].start=le,H[he].inRange=le,H[he].end=le}},S=R(()=>{const{minDate:H,maxDate:U,rangeState:he,showWeekNumber:le}=r,xe=p.value,He=d.value,Re="day";let $e=1;if(le)for(let Ne=0;Ne<6;Ne++)He[Ne][0]||(He[Ne][0]={type:"week",text:y.value.add(Ne*7+1,Re).week()});return mW({row:6,column:7},He,{startDate:H,columnIndexOffset:le?1:0,nextEndDate:he.endDate||U||he.selecting&&H||null,now:ot().locale(g(o)).startOf(Re),unit:Re,relativeDateGetter:Ne=>y.value.add(Ne-xe,Re),setCellMetadata:(...Ne)=>{C(...Ne,$e)&&($e+=1)},setRowMetadata:k}),He});Le(()=>r.date,async()=>{var H,U;(H=a.value)!=null&&H.contains(document.activeElement)&&(await mt(),(U=l.value)==null||U.focus())});const O=async()=>{var H;(H=l.value)==null||H.focus()},D=(H="")=>["normal","today"].includes(H),te=H=>r.selectionMode==="date"&&D(H.type)&&Q(H,r.parsedValue),Q=(H,U)=>U?ot(U).locale(o.value).isSame(r.date.date(Number(H.text)),"day"):!1,q=H=>{const U=[];return D(H.type)&&!H.disabled?(U.push("available"),H.type==="today"&&U.push("today")):U.push(H.type),te(H)&&U.push("current"),H.inRange&&(D(H.type)||r.selectionMode==="week")&&(U.push("in-range"),H.start&&U.push("start-date"),H.end&&U.push("end-date")),H.disabled&&U.push("disabled"),H.selected&&U.push("selected"),H.customClass&&U.push(H.customClass),U.join(" ")},L=(H,U)=>{const he=H*7+(U-(r.showWeekNumber?1:0))-p.value;return y.value.add(he,"day")},G=H=>{var U;if(!r.rangeState.selecting)return;let he=H.target;if(he.tagName==="SPAN"&&(he=(U=he.parentNode)==null?void 0:U.parentNode),he.tagName==="DIV"&&(he=he.parentNode),he.tagName!=="TD")return;const le=he.parentNode.rowIndex-1,xe=he.cellIndex;S.value[le][xe].disabled||(le!==c.value||xe!==u.value)&&(c.value=le,u.value=xe,n("changerange",{selecting:!0,endDate:L(le,xe)}))},N=H=>!b.value&&(H==null?void 0:H.text)===1&&H.type==="normal"||H.isCurrent,M=H=>{f||b.value||r.selectionMode!=="date"||Z(H,!0)},J=H=>{H.target.closest("td")&&(f=!0)},z=H=>{H.target.closest("td")&&(f=!1)},Z=(H,U=!1)=>{const he=H.target.closest("td");if(!he)return;const le=he.parentNode.rowIndex-1,xe=he.cellIndex,He=S.value[le][xe];if(He.disabled||He.type==="week")return;const Re=L(le,xe);if(r.selectionMode==="range")!r.rangeState.selecting||!r.minDate?(n("pick",{minDate:Re,maxDate:null}),n("select",!0)):(Re>=r.minDate?n("pick",{minDate:r.minDate,maxDate:Re}):n("pick",{minDate:Re,maxDate:r.minDate}),n("select",!1));else if(r.selectionMode==="date")n("pick",Re,U);else if(r.selectionMode==="week"){const $e=Re.week(),Ne=`${Re.year()}w${$e}`;n("pick",{year:Re.year(),week:$e,value:Ne,date:Re.startOf("week")})}else if(r.selectionMode==="dates"){const $e=He.selected?va(r.parsedValue).filter(Ne=>(Ne==null?void 0:Ne.valueOf())!==Re.valueOf()):va(r.parsedValue).concat([Re]);n("pick",$e)}},pe=H=>{if(r.selectionMode!=="week")return!1;let U=r.date.startOf("day");if(H.type==="prev-month"&&(U=U.subtract(1,"month")),H.type==="next-month"&&(U=U.add(1,"month")),U=U.date(Number.parseInt(H.text,10)),r.parsedValue&&!Array.isArray(r.parsedValue)){const he=(r.parsedValue.day()-h+7)%7-1;return r.parsedValue.subtract(he,"day").isSame(U,"day")}return!1};return e({focus:O}),(H,U)=>(V(),ae("table",{role:"grid","aria-label":g(s)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:X([g(i).b(),{"is-week-mode":H.selectionMode==="week"}]),onClick:Z,onMousemove:G,onMousedown:qt(J,["prevent"]),onMouseup:z},[x("tbody",{ref_key:"tbodyRef",ref:a},[x("tr",null,[H.showWeekNumber?(V(),ae("th",bW,Ae(g(s)("el.datepicker.week")),1)):Ie("v-if",!0),(V(!0),ae(it,null,yn(g(v),(he,le)=>(V(),ae("th",{key:le,scope:"col","aria-label":g(s)("el.datepicker.weeksFull."+he)},Ae(g(s)("el.datepicker.weeks."+he)),9,yW))),128))]),(V(!0),ae(it,null,yn(g(S),(he,le)=>(V(),ae("tr",{key:le,class:X([g(i).e("row"),{current:pe(he[1])}])},[(V(!0),ae(it,null,yn(he,(xe,He)=>(V(),ae("td",{key:`${le}.${He}`,ref_for:!0,ref:Re=>N(xe)&&(l.value=Re),class:X(q(xe)),"aria-current":xe.isCurrent?"date":void 0,"aria-selected":xe.isCurrent,tabindex:N(xe)?0:-1,onFocus:M},[oe(g(gW),{cell:xe},null,8,["cell"])],42,wW))),128))],2))),128))],512)],42,vW))}});var Xv=kt(_W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const CW=Ct({...Oy,selectionMode:jP("month")}),kW=["aria-label"],SW=["aria-selected","aria-label","tabindex","onKeydown"],EW={class:"cell"},TW=Pe({__name:"basic-month-table",props:CW,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=(_,E,C)=>{const k=ot().locale(C).startOf("month").month(E).year(_),S=k.daysInMonth();return _P(S).map(O=>k.add(O,"day").toDate())},s=vt("month-table"),{t:o,lang:a}=ai(),l=ie(),c=ie(),u=ie(r.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),d=ie([[],[],[]]),f=ie(),h=ie(),m=R(()=>{var _,E;const C=d.value,k=ot().locale(a.value).startOf("month");for(let S=0;S<3;S++){const O=C[S];for(let D=0;D<4;D++){const te=O[D]||(O[D]={row:S,column:D,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});te.type="normal";const Q=S*4+D,q=r.date.startOf("year").month(Q),L=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;te.inRange=!!(r.minDate&&q.isSameOrAfter(r.minDate,"month")&&L&&q.isSameOrBefore(L,"month"))||!!(r.minDate&&q.isSameOrBefore(r.minDate,"month")&&L&&q.isSameOrAfter(L,"month")),(_=r.minDate)!=null&&_.isSameOrAfter(L)?(te.start=!!(L&&q.isSame(L,"month")),te.end=r.minDate&&q.isSame(r.minDate,"month")):(te.start=!!(r.minDate&&q.isSame(r.minDate,"month")),te.end=!!(L&&q.isSame(L,"month"))),k.isSame(q)&&(te.type="today"),te.text=Q,te.disabled=((E=r.disabledDate)==null?void 0:E.call(r,q.toDate()))||!1}}return C}),p=()=>{var _;(_=c.value)==null||_.focus()},y=_=>{const E={},C=r.date.year(),k=new Date,S=_.text;return E.disabled=r.disabledDate?i(C,S,a.value).every(r.disabledDate):!1,E.current=va(r.parsedValue).findIndex(O=>ot.isDayjs(O)&&O.year()===C&&O.month()===S)>=0,E.today=k.getFullYear()===C&&k.getMonth()===S,_.inRange&&(E["in-range"]=!0,_.start&&(E["start-date"]=!0),_.end&&(E["end-date"]=!0)),E},v=_=>{const E=r.date.year(),C=_.text;return va(r.date).findIndex(k=>k.year()===E&&k.month()===C)>=0},b=_=>{var E;if(!r.rangeState.selecting)return;let C=_.target;if(C.tagName==="A"&&(C=(E=C.parentNode)==null?void 0:E.parentNode),C.tagName==="DIV"&&(C=C.parentNode),C.tagName!=="TD")return;const k=C.parentNode.rowIndex,S=C.cellIndex;m.value[k][S].disabled||(k!==f.value||S!==h.value)&&(f.value=k,h.value=S,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(k*4+S)}))},T=_=>{var E;const C=(E=_.target)==null?void 0:E.closest("td");if((C==null?void 0:C.tagName)!=="TD"||Ax(C,"disabled"))return;const k=C.cellIndex,O=C.parentNode.rowIndex*4+k,D=r.date.startOf("year").month(O);r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&D>=r.minDate?n("pick",{minDate:r.minDate,maxDate:D}):n("pick",{minDate:D,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:D,maxDate:null}),n("select",!0)):n("pick",O)};return Le(()=>r.date,async()=>{var _,E;(_=l.value)!=null&&_.contains(document.activeElement)&&(await mt(),(E=c.value)==null||E.focus())}),e({focus:p}),(_,E)=>(V(),ae("table",{role:"grid","aria-label":g(o)("el.datepicker.monthTablePrompt"),class:X(g(s).b()),onClick:T,onMousemove:b},[x("tbody",{ref_key:"tbodyRef",ref:l},[(V(!0),ae(it,null,yn(g(m),(C,k)=>(V(),ae("tr",{key:k},[(V(!0),ae(it,null,yn(C,(S,O)=>(V(),ae("td",{key:O,ref_for:!0,ref:D=>v(S)&&(c.value=D),class:X(y(S)),"aria-selected":`${v(S)}`,"aria-label":g(o)(`el.datepicker.month${+S.text+1}`),tabindex:v(S)?0:-1,onKeydown:[Fn(qt(T,["prevent","stop"]),["space"]),Fn(qt(T,["prevent","stop"]),["enter"])]},[x("div",null,[x("span",EW,Ae(g(o)("el.datepicker.months."+u.value[S.text])),1)])],42,SW))),128))]))),128))],512)],42,kW))}});var Zv=kt(TW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:AW,disabledDate:xW,parsedValue:PW}=Oy,IW=Ct({date:AW,disabledDate:xW,parsedValue:PW}),OW=["aria-label"],RW=["aria-selected","tabindex","onKeydown"],MW={class:"cell"},DW={key:1},NW=Pe({__name:"basic-year-table",props:IW,emits:["pick"],setup(t,{expose:e,emit:n}){const r=t,i=(p,y)=>{const v=ot(String(p)).locale(y).startOf("year"),T=v.endOf("year").dayOfYear();return _P(T).map(_=>v.add(_,"day").toDate())},s=vt("year-table"),{t:o,lang:a}=ai(),l=ie(),c=ie(),u=R(()=>Math.floor(r.date.year()/10)*10),d=()=>{var p;(p=c.value)==null||p.focus()},f=p=>{const y={},v=ot().locale(a.value);return y.disabled=r.disabledDate?i(p,a.value).every(r.disabledDate):!1,y.current=va(r.parsedValue).findIndex(b=>b.year()===p)>=0,y.today=v.year()===p,y},h=p=>p===u.value&&r.date.year()<u.value&&r.date.year()>u.value+9||va(r.date).findIndex(y=>y.year()===p)>=0,m=p=>{const v=p.target.closest("td");if(v&&v.textContent){if(Ax(v,"disabled"))return;const b=v.textContent||v.innerText;n("pick",Number(b))}};return Le(()=>r.date,async()=>{var p,y;(p=l.value)!=null&&p.contains(document.activeElement)&&(await mt(),(y=c.value)==null||y.focus())}),e({focus:d}),(p,y)=>(V(),ae("table",{role:"grid","aria-label":g(o)("el.datepicker.yearTablePrompt"),class:X(g(s).b()),onClick:m},[x("tbody",{ref_key:"tbodyRef",ref:l},[(V(),ae(it,null,yn(3,(v,b)=>x("tr",{key:b},[(V(),ae(it,null,yn(4,(T,_)=>(V(),ae(it,{key:b+"_"+_},[b*4+_<10?(V(),ae("td",{key:0,ref_for:!0,ref:E=>h(g(u)+b*4+_)&&(c.value=E),class:X(["available",f(g(u)+b*4+_)]),"aria-selected":`${h(g(u)+b*4+_)}`,tabindex:h(g(u)+b*4+_)?0:-1,onKeydown:[Fn(qt(m,["prevent","stop"]),["space"]),Fn(qt(m,["prevent","stop"]),["enter"])]},[x("span",MW,Ae(g(u)+b*4+_),1)],42,RW)):(V(),ae("td",DW))],64))),64))])),64))],512)],10,OW))}});var FW=kt(NW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const LW=["onClick"],$W=["aria-label"],BW=["aria-label"],VW=["aria-label"],zW=["aria-label"],UW=Pe({__name:"panel-date-pick",props:fW,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,r=(se,De,ye)=>!0,i=vt("picker-panel"),s=vt("date-picker"),o=kd(),a=Ua(),{t:l,lang:c}=ai(),u=ct("EP_PICKER_BASE"),d=ct(Hm),{shortcuts:f,disabledDate:h,cellClassName:m,defaultTime:p}=u.props,y=Wn(u.props,"defaultValue"),v=ie(),b=ie(ot().locale(c.value)),T=ie(!1);let _=!1;const E=R(()=>ot(p).locale(c.value)),C=R(()=>b.value.month()),k=R(()=>b.value.year()),S=ie([]),O=ie(null),D=ie(null),te=se=>S.value.length>0?r(se,S.value,n.format||"HH:mm:ss"):!0,Q=se=>p&&!ne.value&&!T.value&&!_?E.value.year(se.year()).month(se.month()).date(se.date()):xe.value?se.millisecond(0):se.startOf("day"),q=(se,...De)=>{if(!se)e("pick",se,...De);else if(Oe(se)){const ye=se.map(Q);e("pick",ye,...De)}else e("pick",Q(se),...De);O.value=null,D.value=null,T.value=!1,_=!1},L=(se,De)=>{if(Z.value==="date"){se=se;let ye=n.parsedValue?n.parsedValue.year(se.year()).month(se.month()).date(se.date()):se;te(ye)||(ye=S.value[0][0].year(se.year()).month(se.month()).date(se.date())),b.value=ye,q(ye,xe.value||De)}else Z.value==="week"?q(se.date):Z.value==="dates"&&q(se,!0)},G=se=>{const De=se?"add":"subtract";b.value=b.value[De](1,"month"),bt("month")},N=se=>{const De=b.value,ye=se?"add":"subtract";b.value=M.value==="year"?De[ye](10,"year"):De[ye](1,"year"),bt("year")},M=ie("date"),J=R(()=>{const se=l("el.datepicker.year");if(M.value==="year"){const De=Math.floor(k.value/10)*10;return se?`${De} ${se} - ${De+9} ${se}`:`${De} - ${De+9}`}return`${k.value} ${se}`}),z=se=>{const De=Ge(se.value)?se.value():se.value;if(De){_=!0,q(ot(De).locale(c.value));return}se.onClick&&se.onClick({attrs:o,slots:a,emit:e})},Z=R(()=>{const{type:se}=n;return["week","month","year","dates"].includes(se)?se:"date"}),pe=R(()=>Z.value==="date"?M.value:Z.value),H=R(()=>!!f.length),U=async se=>{b.value=b.value.startOf("month").month(se),Z.value==="month"?q(b.value,!1):(M.value="date",["month","year","date","week"].includes(Z.value)&&(q(b.value,!0),await mt(),ze())),bt("month")},he=async se=>{Z.value==="year"?(b.value=b.value.startOf("year").year(se),q(b.value,!1)):(b.value=b.value.year(se),M.value="month",["month","year","date","week"].includes(Z.value)&&(q(b.value,!0),await mt(),ze())),bt("year")},le=async se=>{M.value=se,await mt(),ze()},xe=R(()=>n.type==="datetime"||n.type==="datetimerange"),He=R(()=>xe.value||Z.value==="dates"),Re=R(()=>h?n.parsedValue?Oe(n.parsedValue)?h(n.parsedValue[0].toDate()):h(n.parsedValue.toDate()):!0:!1),$e=()=>{if(Z.value==="dates")q(n.parsedValue);else{let se=n.parsedValue;if(!se){const De=ot(p).locale(c.value),ye=Ce();se=De.year(ye.year()).month(ye.month()).date(ye.date())}b.value=se,q(se)}},Ne=R(()=>h?h(ot().locale(c.value).toDate()):!1),Ke=()=>{const De=ot().locale(c.value).toDate();T.value=!0,(!h||!h(De))&&te(De)&&(b.value=ot().locale(c.value),q(b.value))},P=R(()=>kP(n.format)),F=R(()=>CP(n.format)),ne=R(()=>{if(D.value)return D.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(P.value)}),fe=R(()=>{if(O.value)return O.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(F.value)}),K=ie(!1),ge=()=>{K.value=!0},ke=()=>{K.value=!1},ve=se=>({hour:se.hour(),minute:se.minute(),second:se.second(),year:se.year(),month:se.month(),date:se.date()}),ce=(se,De,ye)=>{const{hour:Me,minute:I,second:Te}=ve(se),nt=n.parsedValue?n.parsedValue.hour(Me).minute(I).second(Te):se;b.value=nt,q(b.value,!0),ye||(K.value=De)},ue=se=>{const De=ot(se,P.value).locale(c.value);if(De.isValid()&&te(De)){const{year:ye,month:Me,date:I}=ve(b.value);b.value=De.year(ye).month(Me).date(I),D.value=null,K.value=!1,q(b.value,!0)}},W=se=>{const De=ot(se,F.value).locale(c.value);if(De.isValid()){if(h&&h(De.toDate()))return;const{hour:ye,minute:Me,second:I}=ve(b.value);b.value=De.hour(ye).minute(Me).second(I),O.value=null,q(b.value,!0)}},ee=se=>ot.isDayjs(se)&&se.isValid()&&(h?!h(se.toDate()):!0),Se=se=>Z.value==="dates"?se.map(De=>De.format(n.format)):se.format(n.format),re=se=>ot(se,n.format).locale(c.value),Ce=()=>{const se=ot(y.value).locale(c.value);if(!y.value){const De=E.value;return ot().hour(De.hour()).minute(De.minute()).second(De.second()).locale(c.value)}return se},ze=async()=>{var se;["week","month","year","date"].includes(Z.value)&&((se=v.value)==null||se.focus(),Z.value==="week"&&ut(Xt.down))},Ye=se=>{const{code:De}=se;[Xt.up,Xt.down,Xt.left,Xt.right,Xt.home,Xt.end,Xt.pageUp,Xt.pageDown].includes(De)&&(ut(De),se.stopPropagation(),se.preventDefault()),[Xt.enter,Xt.space,Xt.numpadEnter].includes(De)&&O.value===null&&D.value===null&&(se.preventDefault(),q(b.value,!1))},ut=se=>{var De;const{up:ye,down:Me,left:I,right:Te,home:nt,end:yt,pageUp:jt,pageDown:ci}=Xt,Tr={year:{[ye]:-4,[Me]:4,[I]:-1,[Te]:1,offset:(Y,be)=>Y.setFullYear(Y.getFullYear()+be)},month:{[ye]:-4,[Me]:4,[I]:-1,[Te]:1,offset:(Y,be)=>Y.setMonth(Y.getMonth()+be)},week:{[ye]:-1,[Me]:1,[I]:-1,[Te]:1,offset:(Y,be)=>Y.setDate(Y.getDate()+be*7)},date:{[ye]:-7,[Me]:7,[I]:-1,[Te]:1,[nt]:Y=>-Y.getDay(),[yt]:Y=>-Y.getDay()+6,[jt]:Y=>-new Date(Y.getFullYear(),Y.getMonth(),0).getDate(),[ci]:Y=>new Date(Y.getFullYear(),Y.getMonth()+1,0).getDate(),offset:(Y,be)=>Y.setDate(Y.getDate()+be)}},Yn=b.value.toDate();for(;Math.abs(b.value.diff(Yn,"year",!0))<1;){const Y=Tr[pe.value];if(!Y)return;if(Y.offset(Yn,Ge(Y[se])?Y[se](Yn):(De=Y[se])!=null?De:0),h&&h(Yn))break;const be=ot(Yn).locale(c.value);b.value=be,e("pick",be,!0);break}},bt=se=>{e("panel-change",b.value.toDate(),se,M.value)};return Le(()=>Z.value,se=>{if(["month","year"].includes(se)){M.value=se;return}M.value="date"},{immediate:!0}),Le(()=>M.value,()=>{d==null||d.updatePopper()}),Le(()=>y.value,se=>{se&&(b.value=Ce())},{immediate:!0}),Le(()=>n.parsedValue,se=>{if(se){if(Z.value==="dates"||Array.isArray(se))return;b.value=se}else b.value=Ce()},{immediate:!0}),e("set-picker-option",["isValidValue",ee]),e("set-picker-option",["formatToString",Se]),e("set-picker-option",["parseUserInput",re]),e("set-picker-option",["handleFocusPicker",ze]),(se,De)=>(V(),ae("div",{class:X([g(i).b(),g(s).b(),{"has-sidebar":se.$slots.sidebar||g(H),"has-time":g(xe)}])},[x("div",{class:X(g(i).e("body-wrapper"))},[ft(se.$slots,"sidebar",{class:X(g(i).e("sidebar"))}),g(H)?(V(),ae("div",{key:0,class:X(g(i).e("sidebar"))},[(V(!0),ae(it,null,yn(g(f),(ye,Me)=>(V(),ae("button",{key:Me,type:"button",class:X(g(i).e("shortcut")),onClick:I=>z(ye)},Ae(ye.text),11,LW))),128))],2)):Ie("v-if",!0),x("div",{class:X(g(i).e("body"))},[g(xe)?(V(),ae("div",{key:0,class:X(g(s).e("time-header"))},[x("span",{class:X(g(s).e("editor-wrap"))},[oe(g(rs),{placeholder:g(l)("el.datepicker.selectDate"),"model-value":g(fe),size:"small","validate-event":!1,onInput:De[0]||(De[0]=ye=>O.value=ye),onChange:W},null,8,["placeholder","model-value"])],2),Wt((V(),ae("span",{class:X(g(s).e("editor-wrap"))},[oe(g(rs),{placeholder:g(l)("el.datepicker.selectTime"),"model-value":g(ne),size:"small","validate-event":!1,onFocus:ge,onInput:De[1]||(De[1]=ye=>D.value=ye),onChange:ue},null,8,["placeholder","model-value"]),oe(g(Qv),{visible:K.value,format:g(P),"parsed-value":b.value,onPick:ce},null,8,["visible","format","parsed-value"])],2)),[[g(Nh),ke]])],2)):Ie("v-if",!0),Wt(x("div",{class:X([g(s).e("header"),(M.value==="year"||M.value==="month")&&g(s).e("header--bordered")])},[x("span",{class:X(g(s).e("prev-btn"))},[x("button",{type:"button","aria-label":g(l)("el.datepicker.prevYear"),class:X(["d-arrow-left",g(i).e("icon-btn")]),onClick:De[2]||(De[2]=ye=>N(!1))},[oe(g(xt),null,{default:Ee(()=>[oe(g(Gu))]),_:1})],10,$W),Wt(x("button",{type:"button","aria-label":g(l)("el.datepicker.prevMonth"),class:X([g(i).e("icon-btn"),"arrow-left"]),onClick:De[3]||(De[3]=ye=>G(!1))},[oe(g(xt),null,{default:Ee(()=>[oe(g(Wv))]),_:1})],10,BW),[[fr,M.value==="date"]])],2),x("span",{role:"button",class:X(g(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:De[4]||(De[4]=Fn(ye=>le("year"),["enter"])),onClick:De[5]||(De[5]=ye=>le("year"))},Ae(g(J)),35),Wt(x("span",{role:"button","aria-live":"polite",tabindex:"0",class:X([g(s).e("header-label"),{active:M.value==="month"}]),onKeydown:De[6]||(De[6]=Fn(ye=>le("month"),["enter"])),onClick:De[7]||(De[7]=ye=>le("month"))},Ae(g(l)(`el.datepicker.month${g(C)+1}`)),35),[[fr,M.value==="date"]]),x("span",{class:X(g(s).e("next-btn"))},[Wt(x("button",{type:"button","aria-label":g(l)("el.datepicker.nextMonth"),class:X([g(i).e("icon-btn"),"arrow-right"]),onClick:De[8]||(De[8]=ye=>G(!0))},[oe(g(xt),null,{default:Ee(()=>[oe(g(mu))]),_:1})],10,VW),[[fr,M.value==="date"]]),x("button",{type:"button","aria-label":g(l)("el.datepicker.nextYear"),class:X([g(i).e("icon-btn"),"d-arrow-right"]),onClick:De[9]||(De[9]=ye=>N(!0))},[oe(g(xt),null,{default:Ee(()=>[oe(g(Yu))]),_:1})],10,zW)],2)],2),[[fr,M.value!=="time"]]),x("div",{class:X(g(i).e("content")),onKeydown:Ye},[M.value==="date"?(V(),Ue(Xv,{key:0,ref_key:"currentViewRef",ref:v,"selection-mode":g(Z),date:b.value,"parsed-value":se.parsedValue,"disabled-date":g(h),"cell-class-name":g(m),onPick:L},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Ie("v-if",!0),M.value==="year"?(V(),Ue(FW,{key:1,ref_key:"currentViewRef",ref:v,date:b.value,"disabled-date":g(h),"parsed-value":se.parsedValue,onPick:he},null,8,["date","disabled-date","parsed-value"])):Ie("v-if",!0),M.value==="month"?(V(),Ue(Zv,{key:2,ref_key:"currentViewRef",ref:v,date:b.value,"parsed-value":se.parsedValue,"disabled-date":g(h),onPick:U},null,8,["date","parsed-value","disabled-date"])):Ie("v-if",!0)],34)],2)],2),Wt(x("div",{class:X(g(i).e("footer"))},[Wt(oe(g(Zl),{text:"",size:"small",class:X(g(i).e("link-btn")),disabled:g(Ne),onClick:Ke},{default:Ee(()=>[un(Ae(g(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[fr,g(Z)!=="dates"]]),oe(g(Zl),{plain:"",size:"small",class:X(g(i).e("link-btn")),disabled:g(Re),onClick:$e},{default:Ee(()=>[un(Ae(g(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[fr,g(He)&&M.value==="date"]])],2))}});var HW=kt(UW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const jW=Ct({...UP,...HP}),WW=t=>{const{emit:e}=Lt(),n=kd(),r=Ua();return s=>{const o=Ge(s.value)?s.value():s.value;if(o){e("pick",[ot(o[0]).locale(t.value),ot(o[1]).locale(t.value)]);return}s.onClick&&s.onClick({attrs:n,slots:r,emit:e})}},qP=(t,{defaultValue:e,leftDate:n,rightDate:r,unit:i,onParsedValueChanged:s})=>{const{emit:o}=Lt(),{pickerNs:a}=ct(Iy),l=vt("date-range-picker"),{t:c,lang:u}=ai(),d=WW(u),f=ie(),h=ie(),m=ie({endDate:null,selecting:!1}),p=T=>{m.value=T},y=(T=!1)=>{const _=g(f),E=g(h);Jv([_,E])&&o("pick",[_,E],T)},v=T=>{m.value.selecting=T,T||(m.value.endDate=null)},b=()=>{const[T,_]=WP(g(e),{lang:g(u),unit:i,unlinkPanels:t.unlinkPanels});f.value=void 0,h.value=void 0,n.value=T,r.value=_};return Le(e,T=>{T&&b()},{immediate:!0}),Le(()=>t.parsedValue,T=>{if(Oe(T)&&T.length===2){const[_,E]=T;f.value=_,n.value=_,h.value=E,s(g(f),g(h))}else b()},{immediate:!0}),{minDate:f,maxDate:h,rangeState:m,lang:u,ppNs:a,drpNs:l,handleChangeRange:p,handleRangeConfirm:y,handleShortcutClick:d,onSelect:v,t:c}},qW=["onClick"],KW=["disabled"],GW=["disabled"],YW=["disabled"],QW=["disabled"],vf="month",JW=Pe({__name:"panel-date-range",props:jW,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=ct("EP_PICKER_BASE"),{disabledDate:i,cellClassName:s,format:o,defaultTime:a,clearable:l}=r.props,c=Wn(r.props,"shortcuts"),u=Wn(r.props,"defaultValue"),{lang:d}=ai(),f=ie(ot().locale(d.value)),h=ie(ot().locale(d.value).add(1,vf)),{minDate:m,maxDate:p,rangeState:y,ppNs:v,drpNs:b,handleChangeRange:T,handleRangeConfirm:_,handleShortcutClick:E,onSelect:C,t:k}=qP(n,{defaultValue:u,leftDate:f,rightDate:h,unit:vf,onParsedValueChanged:De}),S=ie({min:null,max:null}),O=ie({min:null,max:null}),D=R(()=>`${f.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${f.value.month()+1}`)}`),te=R(()=>`${h.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${h.value.month()+1}`)}`),Q=R(()=>f.value.year()),q=R(()=>f.value.month()),L=R(()=>h.value.year()),G=R(()=>h.value.month()),N=R(()=>!!c.value.length),M=R(()=>S.value.min!==null?S.value.min:m.value?m.value.format(H.value):""),J=R(()=>S.value.max!==null?S.value.max:p.value||m.value?(p.value||m.value).format(H.value):""),z=R(()=>O.value.min!==null?O.value.min:m.value?m.value.format(pe.value):""),Z=R(()=>O.value.max!==null?O.value.max:p.value||m.value?(p.value||m.value).format(pe.value):""),pe=R(()=>kP(o)),H=R(()=>CP(o)),U=ye=>Jv(ye)&&(i?!i(ye[0].toDate())&&!i(ye[1].toDate()):!0),he=()=>{f.value=f.value.subtract(1,"year"),n.unlinkPanels||(h.value=f.value.add(1,"month")),P("year")},le=()=>{f.value=f.value.subtract(1,"month"),n.unlinkPanels||(h.value=f.value.add(1,"month")),P("month")},xe=()=>{n.unlinkPanels?h.value=h.value.add(1,"year"):(f.value=f.value.add(1,"year"),h.value=f.value.add(1,"month")),P("year")},He=()=>{n.unlinkPanels?h.value=h.value.add(1,"month"):(f.value=f.value.add(1,"month"),h.value=f.value.add(1,"month")),P("month")},Re=()=>{f.value=f.value.add(1,"year"),P("year")},$e=()=>{f.value=f.value.add(1,"month"),P("month")},Ne=()=>{h.value=h.value.subtract(1,"year"),P("year")},Ke=()=>{h.value=h.value.subtract(1,"month"),P("month")},P=ye=>{e("panel-change",[f.value.toDate(),h.value.toDate()],ye)},F=R(()=>{const ye=(q.value+1)%12,Me=q.value+1>=12?1:0;return n.unlinkPanels&&new Date(Q.value+Me,ye)<new Date(L.value,G.value)}),ne=R(()=>n.unlinkPanels&&L.value*12+G.value-(Q.value*12+q.value+1)>=12),fe=R(()=>!(m.value&&p.value&&!y.value.selecting&&Jv([m.value,p.value]))),K=R(()=>n.type==="datetime"||n.type==="datetimerange"),ge=(ye,Me)=>{if(ye)return a?ot(a[Me]||a).locale(d.value).year(ye.year()).month(ye.month()).date(ye.date()):ye},ke=(ye,Me=!0)=>{const I=ye.minDate,Te=ye.maxDate,nt=ge(I,0),yt=ge(Te,1);p.value===yt&&m.value===nt||(e("calendar-change",[I.toDate(),Te&&Te.toDate()]),p.value=yt,m.value=nt,!(!Me||K.value)&&_())},ve=ie(!1),ce=ie(!1),ue=()=>{ve.value=!1},W=()=>{ce.value=!1},ee=(ye,Me)=>{S.value[Me]=ye;const I=ot(ye,H.value).locale(d.value);if(I.isValid()){if(i&&i(I.toDate()))return;Me==="min"?(f.value=I,m.value=(m.value||f.value).year(I.year()).month(I.month()).date(I.date()),!n.unlinkPanels&&(!p.value||p.value.isBefore(m.value))&&(h.value=I.add(1,"month"),p.value=m.value.add(1,"month"))):(h.value=I,p.value=(p.value||h.value).year(I.year()).month(I.month()).date(I.date()),!n.unlinkPanels&&(!m.value||m.value.isAfter(p.value))&&(f.value=I.subtract(1,"month"),m.value=p.value.subtract(1,"month")))}},Se=(ye,Me)=>{S.value[Me]=null},re=(ye,Me)=>{O.value[Me]=ye;const I=ot(ye,pe.value).locale(d.value);I.isValid()&&(Me==="min"?(ve.value=!0,m.value=(m.value||f.value).hour(I.hour()).minute(I.minute()).second(I.second()),(!p.value||p.value.isBefore(m.value))&&(p.value=m.value)):(ce.value=!0,p.value=(p.value||h.value).hour(I.hour()).minute(I.minute()).second(I.second()),h.value=p.value,p.value&&p.value.isBefore(m.value)&&(m.value=p.value)))},Ce=(ye,Me)=>{O.value[Me]=null,Me==="min"?(f.value=m.value,ve.value=!1):(h.value=p.value,ce.value=!1)},ze=(ye,Me,I)=>{O.value.min||(ye&&(f.value=ye,m.value=(m.value||f.value).hour(ye.hour()).minute(ye.minute()).second(ye.second())),I||(ve.value=Me),(!p.value||p.value.isBefore(m.value))&&(p.value=m.value,h.value=ye))},Ye=(ye,Me,I)=>{O.value.max||(ye&&(h.value=ye,p.value=(p.value||h.value).hour(ye.hour()).minute(ye.minute()).second(ye.second())),I||(ce.value=Me),p.value&&p.value.isBefore(m.value)&&(m.value=p.value))},ut=()=>{f.value=WP(g(u),{lang:g(d),unit:"month",unlinkPanels:n.unlinkPanels})[0],h.value=f.value.add(1,"month"),e("pick",null)},bt=ye=>Oe(ye)?ye.map(Me=>Me.format(o)):ye.format(o),se=ye=>Oe(ye)?ye.map(Me=>ot(Me,o).locale(d.value)):ot(ye,o).locale(d.value);function De(ye,Me){if(n.unlinkPanels&&Me){const I=(ye==null?void 0:ye.year())||0,Te=(ye==null?void 0:ye.month())||0,nt=Me.year(),yt=Me.month();h.value=I===nt&&Te===yt?Me.add(1,vf):Me}else h.value=f.value.add(1,vf),Me&&(h.value=h.value.hour(Me.hour()).minute(Me.minute()).second(Me.second()))}return e("set-picker-option",["isValidValue",U]),e("set-picker-option",["parseUserInput",se]),e("set-picker-option",["formatToString",bt]),e("set-picker-option",["handleClear",ut]),(ye,Me)=>(V(),ae("div",{class:X([g(v).b(),g(b).b(),{"has-sidebar":ye.$slots.sidebar||g(N),"has-time":g(K)}])},[x("div",{class:X(g(v).e("body-wrapper"))},[ft(ye.$slots,"sidebar",{class:X(g(v).e("sidebar"))}),g(N)?(V(),ae("div",{key:0,class:X(g(v).e("sidebar"))},[(V(!0),ae(it,null,yn(g(c),(I,Te)=>(V(),ae("button",{key:Te,type:"button",class:X(g(v).e("shortcut")),onClick:nt=>g(E)(I)},Ae(I.text),11,qW))),128))],2)):Ie("v-if",!0),x("div",{class:X(g(v).e("body"))},[g(K)?(V(),ae("div",{key:0,class:X(g(b).e("time-header"))},[x("span",{class:X(g(b).e("editors-wrap"))},[x("span",{class:X(g(b).e("time-picker-wrap"))},[oe(g(rs),{size:"small",disabled:g(y).selecting,placeholder:g(k)("el.datepicker.startDate"),class:X(g(b).e("editor")),"model-value":g(M),"validate-event":!1,onInput:Me[0]||(Me[0]=I=>ee(I,"min")),onChange:Me[1]||(Me[1]=I=>Se(I,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Wt((V(),ae("span",{class:X(g(b).e("time-picker-wrap"))},[oe(g(rs),{size:"small",class:X(g(b).e("editor")),disabled:g(y).selecting,placeholder:g(k)("el.datepicker.startTime"),"model-value":g(z),"validate-event":!1,onFocus:Me[2]||(Me[2]=I=>ve.value=!0),onInput:Me[3]||(Me[3]=I=>re(I,"min")),onChange:Me[4]||(Me[4]=I=>Ce(I,"min"))},null,8,["class","disabled","placeholder","model-value"]),oe(g(Qv),{visible:ve.value,format:g(pe),"datetime-role":"start","parsed-value":f.value,onPick:ze},null,8,["visible","format","parsed-value"])],2)),[[g(Nh),ue]])],2),x("span",null,[oe(g(xt),null,{default:Ee(()=>[oe(g(mu))]),_:1})]),x("span",{class:X([g(b).e("editors-wrap"),"is-right"])},[x("span",{class:X(g(b).e("time-picker-wrap"))},[oe(g(rs),{size:"small",class:X(g(b).e("editor")),disabled:g(y).selecting,placeholder:g(k)("el.datepicker.endDate"),"model-value":g(J),readonly:!g(m),"validate-event":!1,onInput:Me[5]||(Me[5]=I=>ee(I,"max")),onChange:Me[6]||(Me[6]=I=>Se(I,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Wt((V(),ae("span",{class:X(g(b).e("time-picker-wrap"))},[oe(g(rs),{size:"small",class:X(g(b).e("editor")),disabled:g(y).selecting,placeholder:g(k)("el.datepicker.endTime"),"model-value":g(Z),readonly:!g(m),"validate-event":!1,onFocus:Me[7]||(Me[7]=I=>g(m)&&(ce.value=!0)),onInput:Me[8]||(Me[8]=I=>re(I,"max")),onChange:Me[9]||(Me[9]=I=>Ce(I,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),oe(g(Qv),{"datetime-role":"end",visible:ce.value,format:g(pe),"parsed-value":h.value,onPick:Ye},null,8,["visible","format","parsed-value"])],2)),[[g(Nh),W]])],2)],2)):Ie("v-if",!0),x("div",{class:X([[g(v).e("content"),g(b).e("content")],"is-left"])},[x("div",{class:X(g(b).e("header"))},[x("button",{type:"button",class:X([g(v).e("icon-btn"),"d-arrow-left"]),onClick:he},[oe(g(xt),null,{default:Ee(()=>[oe(g(Gu))]),_:1})],2),x("button",{type:"button",class:X([g(v).e("icon-btn"),"arrow-left"]),onClick:le},[oe(g(xt),null,{default:Ee(()=>[oe(g(Wv))]),_:1})],2),ye.unlinkPanels?(V(),ae("button",{key:0,type:"button",disabled:!g(ne),class:X([[g(v).e("icon-btn"),{"is-disabled":!g(ne)}],"d-arrow-right"]),onClick:Re},[oe(g(xt),null,{default:Ee(()=>[oe(g(Yu))]),_:1})],10,KW)):Ie("v-if",!0),ye.unlinkPanels?(V(),ae("button",{key:1,type:"button",disabled:!g(F),class:X([[g(v).e("icon-btn"),{"is-disabled":!g(F)}],"arrow-right"]),onClick:$e},[oe(g(xt),null,{default:Ee(()=>[oe(g(mu))]),_:1})],10,GW)):Ie("v-if",!0),x("div",null,Ae(g(D)),1)],2),oe(Xv,{"selection-mode":"range",date:f.value,"min-date":g(m),"max-date":g(p),"range-state":g(y),"disabled-date":g(i),"cell-class-name":g(s),onChangerange:g(T),onPick:ke,onSelect:g(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),x("div",{class:X([[g(v).e("content"),g(b).e("content")],"is-right"])},[x("div",{class:X(g(b).e("header"))},[ye.unlinkPanels?(V(),ae("button",{key:0,type:"button",disabled:!g(ne),class:X([[g(v).e("icon-btn"),{"is-disabled":!g(ne)}],"d-arrow-left"]),onClick:Ne},[oe(g(xt),null,{default:Ee(()=>[oe(g(Gu))]),_:1})],10,YW)):Ie("v-if",!0),ye.unlinkPanels?(V(),ae("button",{key:1,type:"button",disabled:!g(F),class:X([[g(v).e("icon-btn"),{"is-disabled":!g(F)}],"arrow-left"]),onClick:Ke},[oe(g(xt),null,{default:Ee(()=>[oe(g(Wv))]),_:1})],10,QW)):Ie("v-if",!0),x("button",{type:"button",class:X([g(v).e("icon-btn"),"d-arrow-right"]),onClick:xe},[oe(g(xt),null,{default:Ee(()=>[oe(g(Yu))]),_:1})],2),x("button",{type:"button",class:X([g(v).e("icon-btn"),"arrow-right"]),onClick:He},[oe(g(xt),null,{default:Ee(()=>[oe(g(mu))]),_:1})],2),x("div",null,Ae(g(te)),1)],2),oe(Xv,{"selection-mode":"range",date:h.value,"min-date":g(m),"max-date":g(p),"range-state":g(y),"disabled-date":g(i),"cell-class-name":g(s),onChangerange:g(T),onPick:ke,onSelect:g(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),g(K)?(V(),ae("div",{key:0,class:X(g(v).e("footer"))},[g(l)?(V(),Ue(g(Zl),{key:0,text:"",size:"small",class:X(g(v).e("link-btn")),onClick:ut},{default:Ee(()=>[un(Ae(g(k)("el.datepicker.clear")),1)]),_:1},8,["class"])):Ie("v-if",!0),oe(g(Zl),{plain:"",size:"small",class:X(g(v).e("link-btn")),disabled:g(fe),onClick:Me[10]||(Me[10]=I=>g(_)(!1))},{default:Ee(()=>[un(Ae(g(k)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):Ie("v-if",!0)],2))}});var XW=kt(JW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const ZW=Ct({...HP}),eq=["pick","set-picker-option"],tq=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=ai(),i=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},s=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},o=()=>{e.value=e.value.add(1,"year")},a=()=>{n.value=n.value.subtract(1,"year")},l=R(()=>`${e.value.year()} ${r("el.datepicker.year")}`),c=R(()=>`${n.value.year()} ${r("el.datepicker.year")}`),u=R(()=>e.value.year()),d=R(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:s,leftNextYear:o,rightPrevYear:a,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},nq=["onClick"],rq=["disabled"],iq=["disabled"],bf="year",sq=Pe({name:"DatePickerMonthRange"}),oq=Pe({...sq,props:ZW,emits:eq,setup(t,{emit:e}){const n=t,{lang:r}=ai(),i=ct("EP_PICKER_BASE"),{shortcuts:s,disabledDate:o,format:a}=i.props,l=Wn(i.props,"defaultValue"),c=ie(ot().locale(r.value)),u=ie(ot().locale(r.value).add(1,bf)),{minDate:d,maxDate:f,rangeState:h,ppNs:m,drpNs:p,handleChangeRange:y,handleRangeConfirm:v,handleShortcutClick:b,onSelect:T}=qP(n,{defaultValue:l,leftDate:c,rightDate:u,unit:bf,onParsedValueChanged:N}),_=R(()=>!!s.length),{leftPrevYear:E,rightNextYear:C,leftNextYear:k,rightPrevYear:S,leftLabel:O,rightLabel:D,leftYear:te,rightYear:Q}=tq({unlinkPanels:Wn(n,"unlinkPanels"),leftDate:c,rightDate:u}),q=R(()=>n.unlinkPanels&&Q.value>te.value+1),L=(M,J=!0)=>{const z=M.minDate,Z=M.maxDate;f.value===Z&&d.value===z||(f.value=Z,d.value=z,J&&v())},G=M=>M.map(J=>J.format(a));function N(M,J){if(n.unlinkPanels&&J){const z=(M==null?void 0:M.year())||0,Z=J.year();u.value=z===Z?J.add(1,bf):J}else u.value=c.value.add(1,bf)}return e("set-picker-option",["formatToString",G]),(M,J)=>(V(),ae("div",{class:X([g(m).b(),g(p).b(),{"has-sidebar":!!M.$slots.sidebar||g(_)}])},[x("div",{class:X(g(m).e("body-wrapper"))},[ft(M.$slots,"sidebar",{class:X(g(m).e("sidebar"))}),g(_)?(V(),ae("div",{key:0,class:X(g(m).e("sidebar"))},[(V(!0),ae(it,null,yn(g(s),(z,Z)=>(V(),ae("button",{key:Z,type:"button",class:X(g(m).e("shortcut")),onClick:pe=>g(b)(z)},Ae(z.text),11,nq))),128))],2)):Ie("v-if",!0),x("div",{class:X(g(m).e("body"))},[x("div",{class:X([[g(m).e("content"),g(p).e("content")],"is-left"])},[x("div",{class:X(g(p).e("header"))},[x("button",{type:"button",class:X([g(m).e("icon-btn"),"d-arrow-left"]),onClick:J[0]||(J[0]=(...z)=>g(E)&&g(E)(...z))},[oe(g(xt),null,{default:Ee(()=>[oe(g(Gu))]),_:1})],2),M.unlinkPanels?(V(),ae("button",{key:0,type:"button",disabled:!g(q),class:X([[g(m).e("icon-btn"),{[g(m).is("disabled")]:!g(q)}],"d-arrow-right"]),onClick:J[1]||(J[1]=(...z)=>g(k)&&g(k)(...z))},[oe(g(xt),null,{default:Ee(()=>[oe(g(Yu))]),_:1})],10,rq)):Ie("v-if",!0),x("div",null,Ae(g(O)),1)],2),oe(Zv,{"selection-mode":"range",date:c.value,"min-date":g(d),"max-date":g(f),"range-state":g(h),"disabled-date":g(o),onChangerange:g(y),onPick:L,onSelect:g(T)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),x("div",{class:X([[g(m).e("content"),g(p).e("content")],"is-right"])},[x("div",{class:X(g(p).e("header"))},[M.unlinkPanels?(V(),ae("button",{key:0,type:"button",disabled:!g(q),class:X([[g(m).e("icon-btn"),{"is-disabled":!g(q)}],"d-arrow-left"]),onClick:J[2]||(J[2]=(...z)=>g(S)&&g(S)(...z))},[oe(g(xt),null,{default:Ee(()=>[oe(g(Gu))]),_:1})],10,iq)):Ie("v-if",!0),x("button",{type:"button",class:X([g(m).e("icon-btn"),"d-arrow-right"]),onClick:J[3]||(J[3]=(...z)=>g(C)&&g(C)(...z))},[oe(g(xt),null,{default:Ee(()=>[oe(g(Yu))]),_:1})],2),x("div",null,Ae(g(D)),1)],2),oe(Zv,{"selection-mode":"range",date:u.value,"min-date":g(d),"max-date":g(f),"range-state":g(h),"disabled-date":g(o),onChangerange:g(y),onPick:L,onSelect:g(T)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var aq=kt(oq,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const lq=function(t){switch(t){case"daterange":case"datetimerange":return XW;case"monthrange":return aq;default:return HW}};ot.extend(oj);ot.extend(Zj);ot.extend(BH);ot.extend(tW);ot.extend(rW);ot.extend(sW);ot.extend(aW);ot.extend(cW);var cq=Pe({name:"ElDatePicker",install:null,props:uW,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:r}){const i=vt("picker-panel");Rn("ElPopperOptions",zr(Wn(t,"popperOptions"))),Rn(Iy,{slots:r,pickerNs:i});const s=ie();e({focus:(l=!0)=>{var c;(c=s.value)==null||c.focus(l)},handleOpen:()=>{var l;(l=s.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=s.value)==null||l.handleClose()}});const a=l=>{n("update:modelValue",l)};return()=>{var l;const c=(l=t.format)!=null?l:VH[t.type]||_l,u=lq(t.type);return oe(qH,ti(t,{format:c,type:t.type,ref:s,"onUpdate:modelValue":a}),{default:d=>oe(u,d,null),"range-separator":r["range-separator"]})}}});const nh=cq;nh.install=t=>{t.component(nh.name,nh)};const uq=nh,KP=Symbol("ElSelectGroup"),jm=Symbol("ElSelect");function dq(t,e){const n=ct(jm),r=ct(KP,{disabled:!1}),i=R(()=>Object.prototype.toString.call(t.value).toLowerCase()==="[object object]"),s=R(()=>n.props.multiple?d(n.props.modelValue,t.value):f(t.value,n.props.modelValue)),o=R(()=>{if(n.props.multiple){const p=n.props.modelValue||[];return!s.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=R(()=>t.label||(i.value?"":t.value)),l=R(()=>t.value||t.label||""),c=R(()=>t.disabled||e.groupDisabled||o.value),u=Lt(),d=(p=[],y)=>{if(i.value){const v=n.props.valueKey;return p&&p.some(b=>gt(Zn(b,v))===Zn(y,v))}else return p&&p.includes(y)},f=(p,y)=>{if(i.value){const{valueKey:v}=n.props;return Zn(p,v)===Zn(y,v)}else return p===y},h=()=>{!t.disabled&&!r.disabled&&(n.hoverIndex=n.optionsArray.indexOf(u.proxy))};Le(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Le(()=>t.value,(p,y)=>{const{remote:v,valueKey:b}=n.props;if(Object.is(p,y)||(n.onOptionDestroy(y,u.proxy),n.onOptionCreate(u.proxy)),!t.created&&!v){if(b&&typeof p=="object"&&typeof y=="object"&&p[b]===y[b])return;n.setSelected()}}),Le(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0});const{queryChange:m}=gt(n);return Le(m,p=>{const{query:y}=g(p),v=new RegExp(oV(y),"i");e.visible=v.test(a.value)||t.created,e.visible||n.filteredOptionsCount--},{immediate:!0}),{select:n,currentLabel:a,currentValue:l,itemSelected:s,isDisabled:c,hoverItem:h}}const fq=Pe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=vt("select"),n=R(()=>[e.be("dropdown","item"),e.is("disabled",g(o)),{selected:g(s),hover:g(u)}]),r=zr({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:i,itemSelected:s,isDisabled:o,select:a,hoverItem:l}=dq(t,r),{visible:c,hover:u}=Cc(r),d=Lt().proxy;a.onOptionCreate(d),Ur(()=>{const h=d.value,{selected:m}=a,y=(a.props.multiple?m:[m]).some(v=>v.value===d.value);mt(()=>{a.cachedOptions.get(h)===d&&!y&&a.cachedOptions.delete(h)}),a.onOptionDestroy(h,d)});function f(){t.disabled!==!0&&r.groupDisabled!==!0&&a.handleOptionSelect(d)}return{ns:e,containerKls:n,currentLabel:i,itemSelected:s,isDisabled:o,select:a,hoverItem:l,visible:c,hover:u,selectOptionClick:f,states:r}}});function hq(t,e,n,r,i,s){return Wt((V(),ae("li",{class:X(t.containerKls),onMouseenter:e[0]||(e[0]=(...o)=>t.hoverItem&&t.hoverItem(...o)),onClick:e[1]||(e[1]=qt((...o)=>t.selectOptionClick&&t.selectOptionClick(...o),["stop"]))},[ft(t.$slots,"default",{},()=>[x("span",null,Ae(t.currentLabel),1)])],34)),[[fr,t.visible]])}var Ry=kt(fq,[["render",hq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const mq=Pe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=ct(jm),e=vt("select"),n=R(()=>t.props.popperClass),r=R(()=>t.props.multiple),i=R(()=>t.props.fitInputWidth),s=ie("");function o(){var a;s.value=`${(a=t.selectWrapper)==null?void 0:a.offsetWidth}px`}return _n(()=>{o(),Am(t.selectWrapper,o)}),{ns:e,minWidth:s,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function pq(t,e,n,r,i,s){return V(),ae("div",{class:X([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:vn({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[ft(t.$slots,"default")],6)}var gq=kt(mq,[["render",pq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function vq(t){const{t:e}=ai();return zr({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:t.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const bq=(t,e,n)=>{const{t:r}=ai(),i=vt("select");Nx({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},R(()=>t.suffixTransition===!1));const s=ie(null),o=ie(null),a=ie(null),l=ie(null),c=ie(null),u=ie(null),d=ie(null),f=ie(null),h=ie(-1),m=Rs({query:""}),p=Rs(""),y=ie([]);let v=0;const{form:b,formItem:T}=qa(),_=R(()=>!t.filterable||t.multiple||!e.visible),E=R(()=>t.disabled||(b==null?void 0:b.disabled)),C=R(()=>{const Y=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!=="";return t.clearable&&!E.value&&e.inputHovering&&Y}),k=R(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),S=R(()=>i.is("reverse",k.value&&e.visible&&t.suffixTransition)),O=R(()=>(b==null?void 0:b.statusIcon)&&(T==null?void 0:T.validateState)&&Ox[T==null?void 0:T.validateState]),D=R(()=>t.remote?300:0),te=R(()=>t.loading?t.loadingText||r("el.select.loading"):t.remote&&e.query===""&&e.options.size===0?!1:t.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?t.noMatchText||r("el.select.noMatch"):e.options.size===0?t.noDataText||r("el.select.noData"):null),Q=R(()=>{const Y=Array.from(e.options.values()),be=[];return y.value.forEach(Be=>{const at=Y.findIndex(mn=>mn.currentLabel===Be);at>-1&&be.push(Y[at])}),be.length?be:Y}),q=R(()=>Array.from(e.cachedOptions.values())),L=R(()=>{const Y=Q.value.filter(be=>!be.created).some(be=>be.currentLabel===e.query);return t.filterable&&t.allowCreate&&e.query!==""&&!Y}),G=Na(),N=R(()=>["small"].includes(G.value)?"small":"default"),M=R({get(){return e.visible&&te.value!==!1},set(Y){e.visible=Y}});Le([()=>E.value,()=>G.value,()=>b==null?void 0:b.size],()=>{mt(()=>{J()})}),Le(()=>t.placeholder,Y=>{e.cachedPlaceHolder=e.currentPlaceholder=Y,t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.length>0&&(e.currentPlaceholder="")}),Le(()=>t.modelValue,(Y,be)=>{t.multiple&&(J(),Y&&Y.length>0||o.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,t.filterable&&!t.reserveKeyword&&(e.query="",z(e.query))),H(),t.filterable&&!t.multiple&&(e.inputLength=20),!Kl(Y,be)&&t.validateEvent&&(T==null||T.validate("change").catch(Be=>void 0))},{flush:"post",deep:!0}),Le(()=>e.visible,Y=>{var be,Be,at,mn,cn;Y?((Be=(be=l.value)==null?void 0:be.updatePopper)==null||Be.call(be),t.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=t.remote?"":e.selectedLabel,(mn=(at=a.value)==null?void 0:at.focus)==null||mn.call(at),t.multiple?(cn=o.value)==null||cn.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),z(e.query),!t.multiple&&!t.remote&&(m.value.query="",bl(m),bl(p)))):(t.filterable&&(Ge(t.filterMethod)&&t.filterMethod(""),Ge(t.remoteMethod)&&t.remoteMethod("")),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,he(),mt(()=>{o.value&&o.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),t.multiple||(e.selected&&(t.filterable&&t.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,t.filterable&&(e.query=e.selectedLabel)),t.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),n.emit("visible-change",Y)}),Le(()=>e.options.entries(),()=>{var Y,be,Be;if(!vr)return;(be=(Y=l.value)==null?void 0:Y.updatePopper)==null||be.call(Y),t.multiple&&J();const at=((Be=d.value)==null?void 0:Be.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Gl(t.modelValue)||!Array.from(at).includes(document.activeElement))&&H(),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&pe()},{flush:"post"}),Le(()=>e.hoverIndex,Y=>{Nr(Y)&&Y>-1?h.value=Q.value[Y]||{}:h.value={},Q.value.forEach(be=>{be.hover=h.value===be})});const J=()=>{mt(()=>{var Y,be;if(!s.value)return;const Be=s.value.$el.querySelector("input");v=v||(Be.clientHeight>0?Be.clientHeight+2:0);const at=u.value,mn=z7(G.value||(b==null?void 0:b.size)),cn=G.value||mn===v||v<=0?mn:v;!(Be.offsetParent===null)&&(Be.style.height=`${(e.selected.length===0?cn:Math.max(at?at.clientHeight+(at.clientHeight>cn?6:0):0,cn))-2}px`),e.visible&&te.value!==!1&&((be=(Y=l.value)==null?void 0:Y.updatePopper)==null||be.call(Y))})},z=async Y=>{if(!(e.previousQuery===Y||e.isOnComposition)){if(e.previousQuery===null&&(Ge(t.filterMethod)||Ge(t.remoteMethod))){e.previousQuery=Y;return}e.previousQuery=Y,mt(()=>{var be,Be;e.visible&&((Be=(be=l.value)==null?void 0:be.updatePopper)==null||Be.call(be))}),e.hoverIndex=-1,t.multiple&&t.filterable&&mt(()=>{if(!E.value){const be=o.value.value.length*15+20;e.inputLength=t.collapseTags?Math.min(50,be):be,Z()}J()}),t.remote&&Ge(t.remoteMethod)?(e.hoverIndex=-1,t.remoteMethod(Y)):Ge(t.filterMethod)?(t.filterMethod(Y),bl(p)):(e.filteredOptionsCount=e.optionsCount,m.value.query=Y,bl(m),bl(p)),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&(await mt(),pe())}},Z=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=o.value.value?"":e.cachedPlaceHolder)},pe=()=>{const Y=Q.value.filter(at=>at.visible&&!at.disabled&&!at.states.groupDisabled),be=Y.find(at=>at.created),Be=Y[0];e.hoverIndex=K(Q.value,be||Be)},H=()=>{var Y;if(t.multiple)e.selectedLabel="";else{const Be=U(t.modelValue);(Y=Be.props)!=null&&Y.created?(e.createdLabel=Be.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=Be.currentLabel,e.selected=Be,t.filterable&&(e.query=e.selectedLabel);return}const be=[];Array.isArray(t.modelValue)&&t.modelValue.forEach(Be=>{be.push(U(Be))}),e.selected=be,mt(()=>{J()})},U=Y=>{let be;const Be=Jf(Y).toLowerCase()==="object",at=Jf(Y).toLowerCase()==="null",mn=Jf(Y).toLowerCase()==="undefined";for(let Dn=e.cachedOptions.size-1;Dn>=0;Dn--){const wr=q.value[Dn];if(Be?Zn(wr.value,t.valueKey)===Zn(Y,t.valueKey):wr.value===Y){be={value:Y,currentLabel:wr.currentLabel,isDisabled:wr.isDisabled};break}}if(be)return be;const cn=Be?Y.label:!at&&!mn?Y:"",Ar={value:Y,currentLabel:cn};return t.multiple&&(Ar.hitState=!1),Ar},he=()=>{setTimeout(()=>{const Y=t.valueKey;t.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(be=>Q.value.findIndex(Be=>Zn(Be,Y)===Zn(be,Y)))):e.hoverIndex=-1:e.hoverIndex=Q.value.findIndex(be=>Me(be)===Me(e.selected))},300)},le=()=>{var Y,be;xe(),(be=(Y=l.value)==null?void 0:Y.updatePopper)==null||be.call(Y),t.multiple&&J()},xe=()=>{var Y;e.inputWidth=(Y=s.value)==null?void 0:Y.$el.offsetWidth},He=()=>{t.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,z(e.query))},Re=Po(()=>{He()},D.value),$e=Po(Y=>{z(Y.target.value)},D.value),Ne=Y=>{Kl(t.modelValue,Y)||n.emit($m,Y)},Ke=Y=>W8(Y,be=>!e.disabledOptions.has(be)),P=Y=>{if(Y.code!==Xt.delete){if(Y.target.value.length<=0&&!W()){const be=t.modelValue.slice(),Be=Ke(be);if(Be<0)return;be.splice(Be,1),n.emit(tr,be),Ne(be)}Y.target.value.length===1&&t.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}},F=(Y,be)=>{const Be=e.selected.indexOf(be);if(Be>-1&&!E.value){const at=t.modelValue.slice();at.splice(Be,1),n.emit(tr,at),Ne(at),n.emit("remove-tag",be.value)}Y.stopPropagation(),Ce()},ne=Y=>{Y.stopPropagation();const be=t.multiple?[]:"";if(!Ot(be))for(const Be of e.selected)Be.isDisabled&&be.push(Be.value);n.emit(tr,be),Ne(be),e.hoverIndex=-1,e.visible=!1,n.emit("clear"),Ce()},fe=Y=>{var be;if(t.multiple){const Be=(t.modelValue||[]).slice(),at=K(Be,Y.value);at>-1?Be.splice(at,1):(t.multipleLimit<=0||Be.length<t.multipleLimit)&&Be.push(Y.value),n.emit(tr,Be),Ne(Be),Y.created&&(e.query="",z(""),e.inputLength=20),t.filterable&&((be=o.value)==null||be.focus())}else n.emit(tr,Y.value),Ne(Y.value),e.visible=!1;ge(),!e.visible&&mt(()=>{ke(Y)})},K=(Y=[],be)=>{if(!_t(be))return Y.indexOf(be);const Be=t.valueKey;let at=-1;return Y.some((mn,cn)=>gt(Zn(mn,Be))===Zn(be,Be)?(at=cn,!0):!1),at},ge=()=>{const Y=o.value||s.value;Y&&(Y==null||Y.focus())},ke=Y=>{var be,Be,at,mn,cn;const Ar=Array.isArray(Y)?Y[0]:Y;let Dn=null;if(Ar!=null&&Ar.value){const wr=Q.value.filter(En=>En.value===Ar.value);wr.length>0&&(Dn=wr[0].$el)}if(l.value&&Dn){const wr=(mn=(at=(Be=(be=l.value)==null?void 0:be.popperRef)==null?void 0:Be.contentRef)==null?void 0:at.querySelector)==null?void 0:mn.call(at,`.${i.be("dropdown","wrap")}`);wr&&uV(wr,Dn)}(cn=f.value)==null||cn.handleScroll()},ve=Y=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(Y.value,Y),e.cachedOptions.set(Y.value,Y),Y.disabled&&e.disabledOptions.set(Y.value,Y)},ce=(Y,be)=>{e.options.get(Y)===be&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(Y))},ue=Y=>{Y.code!==Xt.backspace&&W(!1),e.inputLength=o.value.value.length*15+20,J()},W=Y=>{if(!Array.isArray(e.selected))return;const be=Ke(e.selected.map(at=>at.value)),Be=e.selected[be];if(Be)return Y===!0||Y===!1?(Be.hitState=Y,Y):(Be.hitState=!Be.hitState,Be.hitState)},ee=Y=>{const be=Y.target.value;if(Y.type==="compositionend")e.isOnComposition=!1,mt(()=>z(be));else{const Be=be[be.length-1]||"";e.isOnComposition=!Rx(Be)}},Se=()=>{mt(()=>ke(e.selected))},re=Y=>{e.focused||((t.automaticDropdown||t.filterable)&&(t.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),e.focused=!0,n.emit("focus",Y))},Ce=()=>{var Y,be;e.visible?(Y=o.value||s.value)==null||Y.focus():(be=s.value)==null||be.focus()},ze=()=>{var Y,be,Be;e.visible=!1,(Y=s.value)==null||Y.blur(),(Be=(be=a.value)==null?void 0:be.blur)==null||Be.call(be)},Ye=Y=>{var be,Be,at;(be=l.value)!=null&&be.isFocusInsideContent(Y)||(Be=c.value)!=null&&Be.isFocusInsideContent(Y)||(at=d.value)!=null&&at.contains(Y.relatedTarget)||(e.visible&&bt(),e.focused=!1,n.emit("blur",Y))},ut=Y=>{ne(Y)},bt=()=>{e.visible=!1},se=Y=>{e.visible&&(Y.preventDefault(),Y.stopPropagation(),e.visible=!1)},De=Y=>{Y&&!e.mouseEnter||E.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:(!l.value||!l.value.isFocusInsideContent())&&(e.visible=!e.visible),Ce())},ye=()=>{e.visible?Q.value[e.hoverIndex]&&fe(Q.value[e.hoverIndex]):De()},Me=Y=>_t(Y.value)?Zn(Y.value,t.valueKey):Y.value,I=R(()=>Q.value.filter(Y=>Y.visible).every(Y=>Y.disabled)),Te=R(()=>e.selected.slice(0,t.maxCollapseTags)),nt=R(()=>e.selected.slice(t.maxCollapseTags)),yt=Y=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!I.value){Y==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):Y==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const be=Q.value[e.hoverIndex];(be.disabled===!0||be.states.groupDisabled===!0||!be.visible)&&yt(Y),mt(()=>ke(h.value))}},jt=()=>{e.mouseEnter=!0},ci=()=>{e.mouseEnter=!1},Tr=(Y,be)=>{var Be,at;F(Y,be),(at=(Be=c.value)==null?void 0:Be.updatePopper)==null||at.call(Be)},Yn=R(()=>({maxWidth:`${g(e.inputWidth)-32-(O.value?22:0)}px`,width:"100%"}));return{optionList:y,optionsArray:Q,selectSize:G,handleResize:le,debouncedOnInputChange:Re,debouncedQueryChange:$e,deletePrevTag:P,deleteTag:F,deleteSelected:ne,handleOptionSelect:fe,scrollToOption:ke,readonly:_,resetInputHeight:J,showClose:C,iconComponent:k,iconReverse:S,showNewOption:L,collapseTagSize:N,setSelected:H,managePlaceholder:Z,selectDisabled:E,emptyText:te,toggleLastOptionHitState:W,resetInputState:ue,handleComposition:ee,onOptionCreate:ve,onOptionDestroy:ce,handleMenuEnter:Se,handleFocus:re,focus:Ce,blur:ze,handleBlur:Ye,handleClearClick:ut,handleClose:bt,handleKeydownEscape:se,toggleMenu:De,selectOption:ye,getValueKey:Me,navigateOptions:yt,handleDeleteTooltipTag:Tr,dropMenuVisible:M,queryChange:m,groupQueryChange:p,showTagList:Te,collapseTagList:nt,selectTagsStyle:Yn,reference:s,input:o,iOSInput:a,tooltipRef:l,tagTooltipRef:c,tags:u,selectWrapper:d,scrollbar:f,handleMouseEnter:jt,handleMouseLeave:ci}};var yq=Pe({name:"ElOptions",emits:["update-options"],setup(t,{slots:e,emit:n}){let r=[];function i(s,o){if(s.length!==o.length)return!1;for(const[a]of s.entries())if(s[a]!=o[a])return!1;return!0}return()=>{var s,o;const a=(s=e.default)==null?void 0:s.call(e),l=[];function c(u){Array.isArray(u)&&u.forEach(d=>{var f,h,m,p;const y=(f=(d==null?void 0:d.type)||{})==null?void 0:f.name;y==="ElOptionGroup"?c(!Ot(d.children)&&!Array.isArray(d.children)&&Ge((h=d.children)==null?void 0:h.default)?(m=d.children)==null?void 0:m.default():d.children):y==="ElOption"?l.push((p=d.props)==null?void 0:p.label):Array.isArray(d.children)&&c(d.children)})}return a.length&&c((o=a[0])==null?void 0:o.children),i(l,r)||(r=l,n("update-options",l)),a}}});const lC="ElSelect",wq=Pe({name:lC,componentName:lC,components:{ElInput:rs,ElSelectMenu:gq,ElOption:Ry,ElOptions:yq,ElTag:Oj,ElScrollbar:rP,ElTooltip:fP,ElIcon:xt},directives:{ClickOutside:Nh},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:U7},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Py.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ma,default:Fm},fitInputWidth:Boolean,suffixIcon:{type:Ma,default:xx},tagType:{...MP.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Bm,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[tr,$m,"remove-tag","clear","visible-change","focus","blur"],setup(t,e){const n=vt("select"),r=vt("input"),{t:i}=ai(),s=vq(t),{optionList:o,optionsArray:a,selectSize:l,readonly:c,handleResize:u,collapseTagSize:d,debouncedOnInputChange:f,debouncedQueryChange:h,deletePrevTag:m,deleteTag:p,deleteSelected:y,handleOptionSelect:v,scrollToOption:b,setSelected:T,resetInputHeight:_,managePlaceholder:E,showClose:C,selectDisabled:k,iconComponent:S,iconReverse:O,showNewOption:D,emptyText:te,toggleLastOptionHitState:Q,resetInputState:q,handleComposition:L,onOptionCreate:G,onOptionDestroy:N,handleMenuEnter:M,handleFocus:J,focus:z,blur:Z,handleBlur:pe,handleClearClick:H,handleClose:U,handleKeydownEscape:he,toggleMenu:le,selectOption:xe,getValueKey:He,navigateOptions:Re,handleDeleteTooltipTag:$e,dropMenuVisible:Ne,reference:Ke,input:P,iOSInput:F,tooltipRef:ne,tagTooltipRef:fe,tags:K,selectWrapper:ge,scrollbar:ke,queryChange:ve,groupQueryChange:ce,handleMouseEnter:ue,handleMouseLeave:W,showTagList:ee,collapseTagList:Se,selectTagsStyle:re}=bq(t,s,e),{inputWidth:Ce,selected:ze,inputLength:Ye,filteredOptionsCount:ut,visible:bt,selectedLabel:se,hoverIndex:De,query:ye,inputHovering:Me,currentPlaceholder:I,menuVisibleOnFocus:Te,isOnComposition:nt,options:yt,cachedOptions:jt,optionsCount:ci,prefixWidth:Tr}=Cc(s),Yn=R(()=>{const En=[n.b()],Ei=g(l);return Ei&&En.push(n.m(Ei)),t.disabled&&En.push(n.m("disabled")),En}),Y=R(()=>[n.e("tags"),n.is("disabled",g(k))]),be=R(()=>[n.b("tags-wrapper"),{"has-prefix":g(Tr)&&g(ze).length}]),Be=R(()=>[n.e("input"),n.is(g(l)),n.is("disabled",g(k))]),at=R(()=>[n.e("input"),n.is(g(l)),n.em("input","iOS")]),mn=R(()=>[n.is("empty",!t.allowCreate&&!!g(ye)&&g(ut)===0)]),cn=R(()=>({maxWidth:`${g(Ce)>123?g(Ce)-123:g(Ce)-75}px`})),Ar=R(()=>({marginLeft:`${g(Tr)}px`,flexGrow:1,width:`${g(Ye)/(g(Ce)-32)}%`,maxWidth:`${g(Ce)-42}px`}));Rn(jm,zr({props:t,options:yt,optionsArray:a,cachedOptions:jt,optionsCount:ci,filteredOptionsCount:ut,hoverIndex:De,handleOptionSelect:v,onOptionCreate:G,onOptionDestroy:N,selectWrapper:ge,selected:ze,setSelected:T,queryChange:ve,groupQueryChange:ce})),_n(()=>{s.cachedPlaceHolder=I.value=t.placeholder||(()=>i("el.select.placeholder")),t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.length>0&&(I.value=""),Am(ge,u),t.remote&&t.multiple&&_(),mt(()=>{const En=Ke.value&&Ke.value.$el;if(En&&(Ce.value=En.getBoundingClientRect().width,e.slots.prefix)){const Ei=En.querySelector(`.${r.e("prefix")}`);Tr.value=Math.max(Ei.getBoundingClientRect().width+11,30)}}),T()}),t.multiple&&!Array.isArray(t.modelValue)&&e.emit(tr,[]),!t.multiple&&Array.isArray(t.modelValue)&&e.emit(tr,"");const Dn=R(()=>{var En,Ei;return(Ei=(En=ne.value)==null?void 0:En.popperRef)==null?void 0:Ei.contentRef});return{isIOS:DA,onOptionsRendered:En=>{o.value=En},prefixWidth:Tr,selectSize:l,readonly:c,handleResize:u,collapseTagSize:d,debouncedOnInputChange:f,debouncedQueryChange:h,deletePrevTag:m,deleteTag:p,handleDeleteTooltipTag:$e,deleteSelected:y,handleOptionSelect:v,scrollToOption:b,inputWidth:Ce,selected:ze,inputLength:Ye,filteredOptionsCount:ut,visible:bt,selectedLabel:se,hoverIndex:De,query:ye,inputHovering:Me,currentPlaceholder:I,menuVisibleOnFocus:Te,isOnComposition:nt,options:yt,resetInputHeight:_,managePlaceholder:E,showClose:C,selectDisabled:k,iconComponent:S,iconReverse:O,showNewOption:D,emptyText:te,toggleLastOptionHitState:Q,resetInputState:q,handleComposition:L,handleMenuEnter:M,handleFocus:J,focus:z,blur:Z,handleBlur:pe,handleClearClick:H,handleClose:U,handleKeydownEscape:he,toggleMenu:le,selectOption:xe,getValueKey:He,navigateOptions:Re,dropMenuVisible:Ne,reference:Ke,input:P,iOSInput:F,tooltipRef:ne,popperPaneRef:Dn,tags:K,selectWrapper:ge,scrollbar:ke,wrapperKls:Yn,tagsKls:Y,tagWrapperKls:be,inputKls:Be,iOSInputKls:at,scrollbarKls:mn,selectTagsStyle:re,nsSelect:n,tagTextStyle:cn,inputStyle:Ar,handleMouseEnter:ue,handleMouseLeave:W,showTagList:ee,collapseTagList:Se,tagTooltipRef:fe}}}),_q=["disabled","autocomplete","aria-label"],Cq=["disabled"],kq={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Sq(t,e,n,r,i,s){const o=Pi("el-tag"),a=Pi("el-tooltip"),l=Pi("el-icon"),c=Pi("el-input"),u=Pi("el-option"),d=Pi("el-options"),f=Pi("el-scrollbar"),h=Pi("el-select-menu"),m=$T("click-outside");return Wt((V(),ae("div",{ref:"selectWrapper",class:X(t.wrapperKls),onMouseenter:e[22]||(e[22]=(...p)=>t.handleMouseEnter&&t.handleMouseEnter(...p)),onMouseleave:e[23]||(e[23]=(...p)=>t.handleMouseLeave&&t.handleMouseLeave(...p)),onClick:e[24]||(e[24]=qt((...p)=>t.toggleMenu&&t.toggleMenu(...p),["stop"]))},[oe(a,{ref:"tooltipRef",visible:t.dropMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onShow:t.handleMenuEnter},{default:Ee(()=>[x("div",{class:"select-trigger",onMouseenter:e[20]||(e[20]=p=>t.inputHovering=!0),onMouseleave:e[21]||(e[21]=p=>t.inputHovering=!1)},[t.multiple?(V(),ae("div",{key:0,ref:"tags",tabindex:"-1",class:X(t.tagsKls),style:vn(t.selectTagsStyle),onClick:e[15]||(e[15]=(...p)=>t.focus&&t.focus(...p))},[t.collapseTags&&t.selected.length?(V(),Ue(vi,{key:0,onAfterLeave:t.resetInputHeight},{default:Ee(()=>[x("span",{class:X(t.tagWrapperKls)},[(V(!0),ae(it,null,yn(t.showTagList,p=>(V(),Ue(o,{key:t.getValueKey(p),closable:!t.selectDisabled&&!p.isDisabled,size:t.collapseTagSize,hit:p.hitState,type:t.tagType,"disable-transitions":"",onClose:y=>t.deleteTag(y,p)},{default:Ee(()=>[x("span",{class:X(t.nsSelect.e("tags-text")),style:vn(t.tagTextStyle)},Ae(p.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),t.selected.length>t.maxCollapseTags?(V(),Ue(o,{key:0,closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":""},{default:Ee(()=>[t.collapseTagsTooltip?(V(),Ue(a,{key:0,ref:"tagTooltipRef",disabled:t.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:Ee(()=>[x("span",{class:X(t.nsSelect.e("tags-text"))},"+ "+Ae(t.selected.length-t.maxCollapseTags),3)]),content:Ee(()=>[x("div",{class:X(t.nsSelect.e("collapse-tags"))},[(V(!0),ae(it,null,yn(t.collapseTagList,p=>(V(),ae("div",{key:t.getValueKey(p),class:X(t.nsSelect.e("collapse-tag"))},[oe(o,{class:"in-tooltip",closable:!t.selectDisabled&&!p.isDisabled,size:t.collapseTagSize,hit:p.hitState,type:t.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:y=>t.handleDeleteTooltipTag(y,p)},{default:Ee(()=>[x("span",{class:X(t.nsSelect.e("tags-text")),style:vn({maxWidth:t.inputWidth-75+"px"})},Ae(p.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(V(),ae("span",{key:1,class:X(t.nsSelect.e("tags-text"))},"+ "+Ae(t.selected.length-t.maxCollapseTags),3))]),_:1},8,["size","type"])):Ie("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):Ie("v-if",!0),t.collapseTags?Ie("v-if",!0):(V(),Ue(vi,{key:1,onAfterLeave:t.resetInputHeight},{default:Ee(()=>[x("span",{class:X(t.tagWrapperKls),style:vn(t.prefixWidth&&t.selected.length?{marginLeft:`${t.prefixWidth}px`}:"")},[(V(!0),ae(it,null,yn(t.selected,p=>(V(),Ue(o,{key:t.getValueKey(p),closable:!t.selectDisabled&&!p.isDisabled,size:t.collapseTagSize,hit:p.hitState,type:t.tagType,"disable-transitions":"",onClose:y=>t.deleteTag(y,p)},{default:Ee(()=>[x("span",{class:X(t.nsSelect.e("tags-text")),style:vn({maxWidth:t.inputWidth-75+"px"})},Ae(p.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),t.filterable&&!t.selectDisabled?Wt((V(),ae("input",{key:2,ref:"input","onUpdate:modelValue":e[0]||(e[0]=p=>t.query=p),type:"text",class:X(t.inputKls),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:vn(t.inputStyle),"aria-label":t.ariaLabel,onFocus:e[1]||(e[1]=(...p)=>t.handleFocus&&t.handleFocus(...p)),onBlur:e[2]||(e[2]=(...p)=>t.handleBlur&&t.handleBlur(...p)),onKeyup:e[3]||(e[3]=(...p)=>t.managePlaceholder&&t.managePlaceholder(...p)),onKeydown:[e[4]||(e[4]=(...p)=>t.resetInputState&&t.resetInputState(...p)),e[5]||(e[5]=Fn(qt(p=>t.navigateOptions("next"),["prevent"]),["down"])),e[6]||(e[6]=Fn(qt(p=>t.navigateOptions("prev"),["prevent"]),["up"])),e[7]||(e[7]=Fn((...p)=>t.handleKeydownEscape&&t.handleKeydownEscape(...p),["esc"])),e[8]||(e[8]=Fn(qt((...p)=>t.selectOption&&t.selectOption(...p),["stop","prevent"]),["enter"])),e[9]||(e[9]=Fn((...p)=>t.deletePrevTag&&t.deletePrevTag(...p),["delete"])),e[10]||(e[10]=Fn(p=>t.visible=!1,["tab"]))],onCompositionstart:e[11]||(e[11]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onCompositionupdate:e[12]||(e[12]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onCompositionend:e[13]||(e[13]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onInput:e[14]||(e[14]=(...p)=>t.debouncedQueryChange&&t.debouncedQueryChange(...p))},null,46,_q)),[[Vu,t.query]]):Ie("v-if",!0)],6)):Ie("v-if",!0),Ie(" fix: https://github.com/element-plus/element-plus/issues/11415 "),t.isIOS&&!t.multiple&&t.filterable&&t.readonly?(V(),ae("input",{key:1,ref:"iOSInput",class:X(t.iOSInputKls),disabled:t.selectDisabled,type:"text"},null,10,Cq)):Ie("v-if",!0),oe(c,{id:t.id,ref:"reference",modelValue:t.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=p=>t.selectedLabel=p),type:"text",placeholder:typeof t.currentPlaceholder=="function"?t.currentPlaceholder():t.currentPlaceholder,name:t.name,autocomplete:t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,class:X([t.nsSelect.is("focus",t.visible)]),tabindex:t.multiple&&t.filterable?-1:void 0,label:t.ariaLabel,onFocus:t.handleFocus,onBlur:t.handleBlur,onInput:t.debouncedOnInputChange,onPaste:t.debouncedOnInputChange,onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onKeydown:[e[17]||(e[17]=Fn(qt(p=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=Fn(qt(p=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),Fn(qt(t.selectOption,["stop","prevent"]),["enter"]),Fn(t.handleKeydownEscape,["esc"]),e[19]||(e[19]=Fn(p=>t.visible=!1,["tab"]))]},BT({suffix:Ee(()=>[t.iconComponent&&!t.showClose?(V(),Ue(l,{key:0,class:X([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:Ee(()=>[(V(),Ue(Kn(t.iconComponent)))]),_:1},8,["class"])):Ie("v-if",!0),t.showClose&&t.clearIcon?(V(),Ue(l,{key:1,class:X([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:Ee(()=>[(V(),Ue(Kn(t.clearIcon)))]),_:1},8,["class","onClick"])):Ie("v-if",!0)]),_:2},[t.$slots.prefix?{name:"prefix",fn:Ee(()=>[x("div",kq,[ft(t.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Ee(()=>[oe(h,null,{default:Ee(()=>[Wt(oe(f,{ref:"scrollbar",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:X(t.scrollbarKls)},{default:Ee(()=>[t.showNewOption?(V(),Ue(u,{key:0,value:t.query,created:!0},null,8,["value"])):Ie("v-if",!0),oe(d,{onUpdateOptions:t.onOptionsRendered},{default:Ee(()=>[ft(t.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[fr,t.options.size>0&&!t.loading]]),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&t.options.size===0)?(V(),ae(it,{key:0},[t.$slots.empty?ft(t.$slots,"empty",{key:0}):(V(),ae("p",{key:1,class:X(t.nsSelect.be("dropdown","empty"))},Ae(t.emptyText),3))],64)):Ie("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[m,t.handleClose,t.popperPaneRef]])}var Eq=kt(wq,[["render",Sq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Tq=Pe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=vt("select"),n=ie(!0),r=Lt(),i=ie([]);Rn(KP,zr({...Cc(t)}));const s=ct(jm);_n(()=>{i.value=o(r.subTree)});const o=l=>{const c=[];return Array.isArray(l.children)&&l.children.forEach(u=>{var d;u.type&&u.type.name==="ElOption"&&u.component&&u.component.proxy?c.push(u.component.proxy):(d=u.children)!=null&&d.length&&c.push(...o(u))}),c},{groupQueryChange:a}=gt(s);return Le(a,()=>{n.value=i.value.some(l=>l.visible===!0)},{flush:"post"}),{visible:n,ns:e}}});function Aq(t,e,n,r,i,s){return Wt((V(),ae("ul",{class:X(t.ns.be("group","wrap"))},[x("li",{class:X(t.ns.be("group","title"))},Ae(t.label),3),x("li",null,[x("ul",{class:X(t.ns.b("group"))},[ft(t.$slots,"default")],2)])],2)),[[fr,t.visible]])}var GP=kt(Tq,[["render",Aq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const xq=ki(Eq,{Option:Ry,OptionGroup:GP}),Pq=Wa(Ry);Wa(GP);/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const eb=typeof window<"u",Iq=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",$o=t=>Iq?Symbol(t):t,Oq=(t,e,n)=>Rq({l:t,k:e,s:n}),Rq=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),jn=t=>typeof t=="number"&&isFinite(t),Mq=t=>Ny(t)==="[object Date]",Fh=t=>Ny(t)==="[object RegExp]",Wm=t=>Nt(t)&&Object.keys(t).length===0;function Dq(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Er=Object.assign;let cC;const My=()=>cC||(cC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function uC(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Nq=Object.prototype.hasOwnProperty;function Dy(t,e){return Nq.call(t,e)}const In=Array.isArray,er=t=>typeof t=="function",Je=t=>typeof t=="string",kn=t=>typeof t=="boolean",Zt=t=>t!==null&&typeof t=="object",YP=Object.prototype.toString,Ny=t=>YP.call(t),Nt=t=>Ny(t)==="[object Object]",Fq=t=>t==null?"":In(t)||Nt(t)&&t.toString===YP?JSON.stringify(t,null,2):String(t);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const QP={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function JP(t,e,n={}){const{domain:r,messages:i,args:s}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const XP={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Bo=[];Bo[0]={w:[0],i:[3,0],"[":[4],o:[7]};Bo[1]={w:[1],".":[2],"[":[4],o:[7]};Bo[2]={w:[2],i:[3,0],0:[3,0]};Bo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Bo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Bo[5]={"'":[4,0],o:8,l:[5,0]};Bo[6]={'"':[4,0],o:8,l:[6,0]};const Lq=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function $q(t){return Lq.test(t)}function Bq(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function Vq(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function zq(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:$q(e)?Bq(e):"*"+e}function Uq(t){const e=[];let n=-1,r=0,i=0,s,o,a,l,c,u,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),i++},f[3]=()=>{if(i>0)i--,r=4,f[0]();else{if(i=0,o===void 0||(o=zq(o),o===!1))return!1;f[1]()}};function h(){const m=t[n+1];if(r===5&&m==="'"||r===6&&m==='"')return n++,a="\\"+m,f[0](),!0}for(;r!==null;)if(n++,s=t[n],!(s==="\\"&&h())){if(l=Vq(s),d=Bo[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=s,u()===!1))))return;if(r===7)return e}}const dC=new Map;function Hq(t,e){return Zt(t)?t[e]:null}function jq(t,e){if(!Zt(t))return null;let n=dC.get(e);if(n||(n=Uq(e),n&&dC.set(e,n)),!n)return null;const r=n.length;let i=t,s=0;for(;s<r;){const o=i[n[s]];if(o===void 0)return null;i=o,s++}return i}const Wq=t=>t,qq=t=>"",Kq="text",Gq=t=>t.length===0?"":t.join(""),Yq=Fq;function fC(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Qq(t){const e=jn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(jn(t.named.count)||jn(t.named.n))?jn(t.named.count)?t.named.count:jn(t.named.n)?t.named.n:e:e}function Jq(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Xq(t={}){const e=t.locale,n=Qq(t),r=Zt(t.pluralRules)&&Je(e)&&er(t.pluralRules[e])?t.pluralRules[e]:fC,i=Zt(t.pluralRules)&&Je(e)&&er(t.pluralRules[e])?fC:void 0,s=v=>v[r(n,v.length,i)],o=t.list||[],a=v=>o[v],l=t.named||{};jn(t.pluralIndex)&&Jq(n,l);const c=v=>l[v];function u(v){const b=er(t.messages)?t.messages(v):Zt(t.messages)?t.messages[v]:!1;return b||(t.parent?t.parent.message(v):qq)}const d=v=>t.modifiers?t.modifiers[v]:Wq,f=Nt(t.processor)&&er(t.processor.normalize)?t.processor.normalize:Gq,h=Nt(t.processor)&&er(t.processor.interpolate)?t.processor.interpolate:Yq,m=Nt(t.processor)&&Je(t.processor.type)?t.processor.type:Kq,y={list:a,named:c,plural:s,linked:(v,...b)=>{const[T,_]=b;let E="text",C="";b.length===1?Zt(T)?(C=T.modifier||C,E=T.type||E):Je(T)&&(C=T||C):b.length===2&&(Je(T)&&(C=T||C),Je(_)&&(E=_||E));let k=u(v)(y);return E==="vnode"&&In(k)&&C&&(k=k[0]),C?d(C)(k,E):k},message:u,type:m,interpolate:h,normalize:f};return y}let Xu=null;function Zq(t){Xu=t}function eK(t,e,n){Xu&&Xu.emit(XP.I18nInit,{timestamp:Date.now(),i18n:t,version:e,meta:n})}const tK=nK(XP.FunctionTranslate);function nK(t){return e=>Xu&&Xu.emit(t,e)}function rK(t,e,n){return[...new Set([n,...In(e)?e:Zt(e)?Object.keys(e):Je(e)?[e]:[n]])]}function ZP(t,e,n){const r=Je(n)?n:Fy,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let o=[n];for(;In(o);)o=hC(s,o,e);const a=In(e)||!Nt(e)?e:e.default?e.default:null;o=Je(a)?[a]:a,In(o)&&hC(s,o,!1),i.__localeChainCache.set(r,s)}return s}function hC(t,e,n){let r=!0;for(let i=0;i<e.length&&kn(r);i++){const s=e[i];Je(s)&&(r=iK(t,e[i],n))}return r}function iK(t,e,n){let r;const i=e.split("-");do{const s=i.join("-");r=sK(t,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function sK(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(In(n)||Nt(n))&&n[i]&&(r=n[i])}return r}const oK="9.2.2",qm=-1,Fy="en-US",mC="",pC=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function aK(){return{upper:(t,e)=>e==="text"&&Je(t)?t.toUpperCase():e==="vnode"&&Zt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Je(t)?t.toLowerCase():e==="vnode"&&Zt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Je(t)?pC(t):e==="vnode"&&Zt(t)&&"__v_isVNode"in t?pC(t.children):t}}let lK,eI;function cK(t){eI=t}let tI;function uK(t){tI=t}let nI=null;const gC=t=>{nI=t},dK=()=>nI;let rI=null;const vC=t=>{rI=t},fK=()=>rI;let bC=0;function hK(t={}){const e=Je(t.version)?t.version:oK,n=Je(t.locale)?t.locale:Fy,r=In(t.fallbackLocale)||Nt(t.fallbackLocale)||Je(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:n,i=Nt(t.messages)?t.messages:{[n]:{}},s=Nt(t.datetimeFormats)?t.datetimeFormats:{[n]:{}},o=Nt(t.numberFormats)?t.numberFormats:{[n]:{}},a=Er({},t.modifiers||{},aK()),l=t.pluralRules||{},c=er(t.missing)?t.missing:null,u=kn(t.missingWarn)||Fh(t.missingWarn)?t.missingWarn:!0,d=kn(t.fallbackWarn)||Fh(t.fallbackWarn)?t.fallbackWarn:!0,f=!!t.fallbackFormat,h=!!t.unresolving,m=er(t.postTranslation)?t.postTranslation:null,p=Nt(t.processor)?t.processor:null,y=kn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,v=!!t.escapeParameter,b=er(t.messageCompiler)?t.messageCompiler:lK,T=er(t.messageResolver)?t.messageResolver:eI||Hq,_=er(t.localeFallbacker)?t.localeFallbacker:tI||rK,E=Zt(t.fallbackContext)?t.fallbackContext:void 0,C=er(t.onWarn)?t.onWarn:Dq,k=t,S=Zt(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,O=Zt(k.__numberFormatters)?k.__numberFormatters:new Map,D=Zt(k.__meta)?k.__meta:{};bC++;const te={version:e,cid:bC,locale:n,fallbackLocale:r,messages:i,modifiers:a,pluralRules:l,missing:c,missingWarn:u,fallbackWarn:d,fallbackFormat:f,unresolving:h,postTranslation:m,processor:p,warnHtmlMessage:y,escapeParameter:v,messageCompiler:b,messageResolver:T,localeFallbacker:_,fallbackContext:E,onWarn:C,__meta:D};return te.datetimeFormats=s,te.numberFormats=o,te.__datetimeFormatters=S,te.__numberFormatters=O,__INTLIFY_PROD_DEVTOOLS__&&eK(te,e,D),te}function Ly(t,e,n,r,i){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,n,e,i);return Je(a)?a:e}else return e}function Wc(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}let iI=QP.__EXTEND_POINT__;const vg=()=>++iI,xl={INVALID_ARGUMENT:iI,INVALID_DATE_ARGUMENT:vg(),INVALID_ISO_DATE_ARGUMENT:vg(),__EXTEND_POINT__:vg()};function Pl(t){return JP(t,null,void 0)}const yC=()=>"",Zi=t=>er(t);function wC(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=t,[l,c]=tb(...e),u=kn(c.missingWarn)?c.missingWarn:t.missingWarn,d=kn(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=kn(c.escapeParameter)?c.escapeParameter:t.escapeParameter,h=!!c.resolvedMessage,m=Je(c.default)||kn(c.default)?kn(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",p=n||m!=="",y=Je(c.locale)?c.locale:t.locale;f&&mK(c);let[v,b,T]=h?[l,y,a[y]||{}]:sI(t,l,y,o,d,u),_=v,E=l;if(!h&&!(Je(_)||Zi(_))&&p&&(_=m,E=_),!h&&(!(Je(_)||Zi(_))||!Je(b)))return i?qm:l;let C=!1;const k=()=>{C=!0},S=Zi(_)?_:oI(t,l,b,_,E,k);if(C)return _;const O=vK(t,b,T,c),D=Xq(O),te=pK(t,S,D),Q=r?r(te,l):te;if(__INTLIFY_PROD_DEVTOOLS__){const q={timestamp:Date.now(),key:Je(l)?l:Zi(_)?_.key:"",locale:b||(Zi(_)?_.locale:""),format:Je(_)?_:Zi(_)?_.source:"",message:Q};q.meta=Er({},t.__meta,dK()||{}),tK(q)}return Q}function mK(t){In(t.list)?t.list=t.list.map(e=>Je(e)?uC(e):e):Zt(t.named)&&Object.keys(t.named).forEach(e=>{Je(t.named[e])&&(t.named[e]=uC(t.named[e]))})}function sI(t,e,n,r,i,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,r,n);let d={},f,h=null;const m="translate";for(let p=0;p<u.length&&(f=u[p],d=o[f]||{},(h=l(d,e))===null&&(h=d[e]),!(Je(h)||er(h)));p++){const y=Ly(t,e,f,s,m);y!==e&&(h=y)}return[h,f,d]}function oI(t,e,n,r,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Zi(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>r;return c.locale=n,c.key=e,c}const l=o(r,gK(t,n,i,r,a,s));return l.locale=n,l.key=e,l.source=r,l}function pK(t,e,n){return e(n)}function tb(...t){const[e,n,r]=t,i={};if(!Je(e)&&!jn(e)&&!Zi(e))throw Pl(xl.INVALID_ARGUMENT);const s=jn(e)?String(e):(Zi(e),e);return jn(n)?i.plural=n:Je(n)?i.default=n:Nt(n)&&!Wm(n)?i.named=n:In(n)&&(i.list=n),jn(r)?i.plural=r:Je(r)?i.default=r:Nt(r)&&Er(i,r),[s,i]}function gK(t,e,n,r,i,s){return{warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>Oq(e,n,o)}}function vK(t,e,n,r){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:i,pluralRules:s,messages:h=>{let m=o(n,h);if(m==null&&u){const[,,p]=sI(u,h,e,a,l,c);m=o(p,h)}if(Je(m)){let p=!1;const v=oI(t,h,e,m,h,()=>{p=!0});return p?yC:v}else return Zi(m)?m:yC}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),jn(r.plural)&&(f.pluralIndex=r.plural),f}function _C(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,u,d]=nb(...e),f=kn(u.missingWarn)?u.missingWarn:t.missingWarn;kn(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=Je(u.locale)?u.locale:t.locale,p=o(t,i,m);if(!Je(l)||l==="")return new Intl.DateTimeFormat(m,d).format(c);let y={},v,b=null;const T="datetime format";for(let C=0;C<p.length&&(v=p[C],y=n[v]||{},b=y[l],!Nt(b));C++)Ly(t,l,v,f,T);if(!Nt(b)||!Je(v))return r?qm:l;let _=`${v}__${l}`;Wm(d)||(_=`${_}__${JSON.stringify(d)}`);let E=a.get(_);return E||(E=new Intl.DateTimeFormat(v,Er({},b,d)),a.set(_,E)),h?E.formatToParts(c):E.format(c)}const aI=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function nb(...t){const[e,n,r,i]=t,s={};let o={},a;if(Je(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Pl(xl.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Pl(xl.INVALID_ISO_DATE_ARGUMENT)}}else if(Mq(e)){if(isNaN(e.getTime()))throw Pl(xl.INVALID_DATE_ARGUMENT);a=e}else if(jn(e))a=e;else throw Pl(xl.INVALID_ARGUMENT);return Je(n)?s.key=n:Nt(n)&&Object.keys(n).forEach(l=>{aI.includes(l)?o[l]=n[l]:s[l]=n[l]}),Je(r)?s.locale=r:Nt(r)&&(o=r),Nt(i)&&(o=i),[s.key||"",a,s,o]}function CC(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function kC(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,u,d]=rb(...e),f=kn(u.missingWarn)?u.missingWarn:t.missingWarn;kn(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=Je(u.locale)?u.locale:t.locale,p=o(t,i,m);if(!Je(l)||l==="")return new Intl.NumberFormat(m,d).format(c);let y={},v,b=null;const T="number format";for(let C=0;C<p.length&&(v=p[C],y=n[v]||{},b=y[l],!Nt(b));C++)Ly(t,l,v,f,T);if(!Nt(b)||!Je(v))return r?qm:l;let _=`${v}__${l}`;Wm(d)||(_=`${_}__${JSON.stringify(d)}`);let E=a.get(_);return E||(E=new Intl.NumberFormat(v,Er({},b,d)),a.set(_,E)),h?E.formatToParts(c):E.format(c)}const lI=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function rb(...t){const[e,n,r,i]=t,s={};let o={};if(!jn(e))throw Pl(xl.INVALID_ARGUMENT);const a=e;return Je(n)?s.key=n:Nt(n)&&Object.keys(n).forEach(l=>{lI.includes(l)?o[l]=n[l]:s[l]=n[l]}),Je(r)?s.locale=r:Nt(r)&&(o=r),Nt(i)&&(o=i),[s.key||"",a,s,o]}function SC(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(My().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const bK="9.2.2";function yK(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(My().__INTLIFY_PROD_DEVTOOLS__=!1)}let cI=QP.__EXTEND_POINT__;const Ir=()=>++cI,ii={UNEXPECTED_RETURN_TYPE:cI,INVALID_ARGUMENT:Ir(),MUST_BE_CALL_SETUP_TOP:Ir(),NOT_INSLALLED:Ir(),NOT_AVAILABLE_IN_LEGACY_MODE:Ir(),REQUIRED_VALUE:Ir(),INVALID_VALUE:Ir(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ir(),NOT_INSLALLED_WITH_PROVIDE:Ir(),UNEXPECTED_ERROR:Ir(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ir(),BRIDGE_SUPPORT_VUE_2_ONLY:Ir(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ir(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ir(),__EXTEND_POINT__:Ir()};function Ci(t,...e){return JP(t,null,void 0)}const ib=$o("__transrateVNode"),sb=$o("__datetimeParts"),ob=$o("__numberParts"),wK=$o("__setPluralRules");$o("__intlifyMeta");const _K=$o("__injectWithOption");function ab(t){if(!Zt(t))return t;for(const e in t)if(Dy(t,e))if(!e.includes("."))Zt(t[e])&&ab(t[e]);else{const n=e.split("."),r=n.length-1;let i=t;for(let s=0;s<r;s++)n[s]in i||(i[n[s]]={}),i=i[n[s]];i[n[r]]=t[e],delete t[e],Zt(i[n[r]])&&ab(i[n[r]])}return t}function uI(t,e){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=e,o=Nt(n)?n:In(r)?{}:{[t]:{}};if(In(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||{},vu(c,o[l])):vu(c,o)}else Je(a)&&vu(JSON.parse(a),o)}),i==null&&s)for(const a in o)Dy(o,a)&&ab(o[a]);return o}const yf=t=>!Zt(t)||In(t);function vu(t,e){if(yf(t)||yf(e))throw Ci(ii.INVALID_VALUE);for(const n in t)Dy(t,n)&&(yf(t[n])||yf(e[n])?e[n]=t[n]:vu(t[n],e[n]))}function dI(t){return t.type}function CK(t,e,n){let r=Zt(e.messages)?e.messages:{};"__i18nGlobal"in n&&(r=uI(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,r[s])});{if(Zt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Zt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function EC(t){return oe(ds,null,t,0)}const TC="__INTLIFY_META__";let AC=0;function xC(t){return(e,n,r,i)=>t(n,r,Lt()||void 0,i)}const kK=()=>{const t=Lt();let e=null;return t&&(e=dI(t)[TC])?{[TC]:e}:null};function fI(t={},e){const{__root:n}=t,r=n===void 0;let i=kn(t.inheritLocale)?t.inheritLocale:!0;const s=ie(n&&i?n.locale.value:Je(t.locale)?t.locale:Fy),o=ie(n&&i?n.fallbackLocale.value:Je(t.fallbackLocale)||In(t.fallbackLocale)||Nt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s.value),a=ie(uI(s.value,t)),l=ie(Nt(t.datetimeFormats)?t.datetimeFormats:{[s.value]:{}}),c=ie(Nt(t.numberFormats)?t.numberFormats:{[s.value]:{}});let u=n?n.missingWarn:kn(t.missingWarn)||Fh(t.missingWarn)?t.missingWarn:!0,d=n?n.fallbackWarn:kn(t.fallbackWarn)||Fh(t.fallbackWarn)?t.fallbackWarn:!0,f=n?n.fallbackRoot:kn(t.fallbackRoot)?t.fallbackRoot:!0,h=!!t.fallbackFormat,m=er(t.missing)?t.missing:null,p=er(t.missing)?xC(t.missing):null,y=er(t.postTranslation)?t.postTranslation:null,v=n?n.warnHtmlMessage:kn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,b=!!t.escapeParameter;const T=n?n.modifiers:Nt(t.modifiers)?t.modifiers:{};let _=t.pluralRules||n&&n.pluralRules,E;E=(()=>{r&&vC(null);const W={version:bK,locale:s.value,fallbackLocale:o.value,messages:a.value,modifiers:T,pluralRules:_,missing:p===null?void 0:p,missingWarn:u,fallbackWarn:d,fallbackFormat:h,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:v,escapeParameter:b,messageResolver:t.messageResolver,__meta:{framework:"vue"}};W.datetimeFormats=l.value,W.numberFormats=c.value,W.__datetimeFormatters=Nt(E)?E.__datetimeFormatters:void 0,W.__numberFormatters=Nt(E)?E.__numberFormatters:void 0;const ee=hK(W);return r&&vC(ee),ee})(),Wc(E,s.value,o.value);function k(){return[s.value,o.value,a.value,l.value,c.value]}const S=R({get:()=>s.value,set:W=>{s.value=W,E.locale=s.value}}),O=R({get:()=>o.value,set:W=>{o.value=W,E.fallbackLocale=o.value,Wc(E,s.value,W)}}),D=R(()=>a.value),te=R(()=>l.value),Q=R(()=>c.value);function q(){return er(y)?y:null}function L(W){y=W,E.postTranslation=W}function G(){return m}function N(W){W!==null&&(p=xC(W)),m=W,E.missing=p}const M=(W,ee,Se,re,Ce,ze)=>{k();let Ye;if(__INTLIFY_PROD_DEVTOOLS__)try{gC(kK()),r||(E.fallbackContext=n?fK():void 0),Ye=W(E)}finally{gC(null),r||(E.fallbackContext=void 0)}else Ye=W(E);if(jn(Ye)&&Ye===qm){const[ut,bt]=ee();return n&&f?re(n):Ce(ut)}else{if(ze(Ye))return Ye;throw Ci(ii.UNEXPECTED_RETURN_TYPE)}};function J(...W){return M(ee=>Reflect.apply(wC,null,[ee,...W]),()=>tb(...W),"translate",ee=>Reflect.apply(ee.t,ee,[...W]),ee=>ee,ee=>Je(ee))}function z(...W){const[ee,Se,re]=W;if(re&&!Zt(re))throw Ci(ii.INVALID_ARGUMENT);return J(ee,Se,Er({resolvedMessage:!0},re||{}))}function Z(...W){return M(ee=>Reflect.apply(_C,null,[ee,...W]),()=>nb(...W),"datetime format",ee=>Reflect.apply(ee.d,ee,[...W]),()=>mC,ee=>Je(ee))}function pe(...W){return M(ee=>Reflect.apply(kC,null,[ee,...W]),()=>rb(...W),"number format",ee=>Reflect.apply(ee.n,ee,[...W]),()=>mC,ee=>Je(ee))}function H(W){return W.map(ee=>Je(ee)||jn(ee)||kn(ee)?EC(String(ee)):ee)}const he={normalize:H,interpolate:W=>W,type:"vnode"};function le(...W){return M(ee=>{let Se;const re=ee;try{re.processor=he,Se=Reflect.apply(wC,null,[re,...W])}finally{re.processor=null}return Se},()=>tb(...W),"translate",ee=>ee[ib](...W),ee=>[EC(ee)],ee=>In(ee))}function xe(...W){return M(ee=>Reflect.apply(kC,null,[ee,...W]),()=>rb(...W),"number format",ee=>ee[ob](...W),()=>[],ee=>Je(ee)||In(ee))}function He(...W){return M(ee=>Reflect.apply(_C,null,[ee,...W]),()=>nb(...W),"datetime format",ee=>ee[sb](...W),()=>[],ee=>Je(ee)||In(ee))}function Re(W){_=W,E.pluralRules=_}function $e(W,ee){const Se=Je(ee)?ee:s.value,re=P(Se);return E.messageResolver(re,W)!==null}function Ne(W){let ee=null;const Se=ZP(E,o.value,s.value);for(let re=0;re<Se.length;re++){const Ce=a.value[Se[re]]||{},ze=E.messageResolver(Ce,W);if(ze!=null){ee=ze;break}}return ee}function Ke(W){const ee=Ne(W);return ee??(n?n.tm(W)||{}:{})}function P(W){return a.value[W]||{}}function F(W,ee){a.value[W]=ee,E.messages=a.value}function ne(W,ee){a.value[W]=a.value[W]||{},vu(ee,a.value[W]),E.messages=a.value}function fe(W){return l.value[W]||{}}function K(W,ee){l.value[W]=ee,E.datetimeFormats=l.value,CC(E,W,ee)}function ge(W,ee){l.value[W]=Er(l.value[W]||{},ee),E.datetimeFormats=l.value,CC(E,W,ee)}function ke(W){return c.value[W]||{}}function ve(W,ee){c.value[W]=ee,E.numberFormats=c.value,SC(E,W,ee)}function ce(W,ee){c.value[W]=Er(c.value[W]||{},ee),E.numberFormats=c.value,SC(E,W,ee)}AC++,n&&eb&&(Le(n.locale,W=>{i&&(s.value=W,E.locale=W,Wc(E,s.value,o.value))}),Le(n.fallbackLocale,W=>{i&&(o.value=W,E.fallbackLocale=W,Wc(E,s.value,o.value))}));const ue={id:AC,locale:S,fallbackLocale:O,get inheritLocale(){return i},set inheritLocale(W){i=W,W&&n&&(s.value=n.locale.value,o.value=n.fallbackLocale.value,Wc(E,s.value,o.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:D,get modifiers(){return T},get pluralRules(){return _||{}},get isGlobal(){return r},get missingWarn(){return u},set missingWarn(W){u=W,E.missingWarn=u},get fallbackWarn(){return d},set fallbackWarn(W){d=W,E.fallbackWarn=d},get fallbackRoot(){return f},set fallbackRoot(W){f=W},get fallbackFormat(){return h},set fallbackFormat(W){h=W,E.fallbackFormat=h},get warnHtmlMessage(){return v},set warnHtmlMessage(W){v=W,E.warnHtmlMessage=W},get escapeParameter(){return b},set escapeParameter(W){b=W,E.escapeParameter=W},t:J,getLocaleMessage:P,setLocaleMessage:F,mergeLocaleMessage:ne,getPostTranslationHandler:q,setPostTranslationHandler:L,getMissingHandler:G,setMissingHandler:N,[wK]:Re};return ue.datetimeFormats=te,ue.numberFormats=Q,ue.rt=z,ue.te=$e,ue.tm=Ke,ue.d=Z,ue.n=pe,ue.getDateTimeFormat=fe,ue.setDateTimeFormat=K,ue.mergeDateTimeFormat=ge,ue.getNumberFormat=ke,ue.setNumberFormat=ve,ue.mergeNumberFormat=ce,ue[_K]=t.__injectWithOption,ue[ib]=le,ue[sb]=He,ue[ob]=xe,ue}const $y={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function SK({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,i)=>r=[...r,...In(i.children)?i.children:[i]],[]):e.reduce((n,r)=>{const i=t[r];return i&&(n[r]=i()),n},{})}function hI(t){return it}const PC={name:"i18n-t",props:Er({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>jn(t)||!isNaN(t)}},$y),setup(t,e){const{slots:n,attrs:r}=e,i=t.i18n||Pd({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(d=>d!=="_"),o={};t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Je(t.plural)?+t.plural:t.plural);const a=SK(e,s),l=i[ib](t.keypath,a,o),c=Er({},r),u=Je(t.tag)||Zt(t.tag)?t.tag:hI();return Ze(u,c,l)}}};function EK(t){return In(t)&&!Je(t[0])}function mI(t,e,n,r){const{slots:i,attrs:s}=e;return()=>{const o={part:!0};let a={};t.locale&&(o.locale=t.locale),Je(t.format)?o.key=t.format:Zt(t.format)&&(Je(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,h)=>n.includes(h)?Er({},f,{[h]:t.format[h]}):f,{}));const l=r(t.value,o,a);let c=[o.key];In(l)?c=l.map((f,h)=>{const m=i[f.type],p=m?m({[f.type]:f.value,index:h,parts:l}):[f.value];return EK(p)&&(p[0].key=`${f.type}-${h}`),p}):Je(l)&&(c=[l]);const u=Er({},s),d=Je(t.tag)||Zt(t.tag)?t.tag:hI();return Ze(d,u,c)}}const IC={name:"i18n-n",props:Er({value:{type:Number,required:!0},format:{type:[String,Object]}},$y),setup(t,e){const n=t.i18n||Pd({useScope:"parent",__useComponent:!0});return mI(t,e,lI,(...r)=>n[ob](...r))}},OC={name:"i18n-d",props:Er({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},$y),setup(t,e){const n=t.i18n||Pd({useScope:"parent",__useComponent:!0});return mI(t,e,aI,(...r)=>n[sb](...r))}};function TK(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function AK(t){const e=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw Ci(ii.UNEXPECTED_ERROR);const u=TK(t,a.$),d=RC(c);return[Reflect.apply(u.t,u,[...MC(d)]),u]};return{created:(o,a)=>{const[l,c]=e(a);eb&&t.global===c&&(o.__i18nWatcher=Le(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{eb&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=RC(a);o.textContent=Reflect.apply(l.t,l,[...MC(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function RC(t){if(Je(t))return{path:t};if(Nt(t)){if(!("path"in t))throw Ci(ii.REQUIRED_VALUE,"path");return t}else throw Ci(ii.INVALID_VALUE)}function MC(t){const{path:e,locale:n,args:r,choice:i,plural:s}=t,o={},a=r||{};return Je(n)&&(o.locale=n),jn(i)&&(o.plural=i),jn(s)&&(o.plural=s),[e,a,o]}function xK(t,e,...n){const r=Nt(n[0])?n[0]:{},i=!!r.useI18nComponentName;(kn(r.globalInstall)?r.globalInstall:!0)&&(t.component(i?"i18n":PC.name,PC),t.component(IC.name,IC),t.component(OC.name,OC)),t.directive("t",AK(e))}const PK=$o("global-vue-i18n");function IK(t={},e){const n=kn(t.globalInjection)?t.globalInjection:!0,r=!0,i=new Map,[s,o]=OK(t),a=$o("");function l(d){return i.get(d)||null}function c(d,f){i.set(d,f)}function u(d){i.delete(d)}{const d={get mode(){return"composition"},get allowComposition(){return r},async install(f,...h){f.__VUE_I18N_SYMBOL__=a,f.provide(f.__VUE_I18N_SYMBOL__,d),n&&BK(f,d.global),xK(f,d,...h);const m=f.unmount;f.unmount=()=>{d.dispose(),m()}},get global(){return o},dispose(){s.stop()},__instances:i,__getInstance:l,__setInstance:c,__deleteInstance:u};return d}}function Pd(t={}){const e=Lt();if(e==null)throw Ci(ii.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Ci(ii.NOT_INSLALLED);const n=RK(e),r=DK(n),i=dI(e),s=MK(t,i);if(s==="global")return CK(r,t,i),r;if(s==="parent"){let l=NK(n,e,t.__useComponent);return l==null&&(l=r),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=Er({},t);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),a=fI(l),FK(o,e),o.__setInstance(e,a)}return a}function OK(t,e,n){const r=tT();{const i=r.run(()=>fI(t));if(i==null)throw Ci(ii.UNEXPECTED_ERROR);return[r,i]}}function RK(t){{const e=ct(t.isCE?PK:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Ci(t.isCE?ii.NOT_INSLALLED_WITH_PROVIDE:ii.UNEXPECTED_ERROR);return e}}function MK(t,e){return Wm(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function DK(t){return t.mode==="composition"?t.global:t.global.__composer}function NK(t,e,n=!1){let r=null;const i=e.root;let s=e.parent;for(;s!=null;){const o=t;if(t.mode==="composition"&&(r=o.__getInstance(s)),r!=null||i===s)break;s=s.parent}return r}function FK(t,e,n){_n(()=>{},e),kc(()=>{t.__deleteInstance(e)},e)}const LK=["locale","fallbackLocale","availableLocales"],$K=["t","rt","d","n","tm"];function BK(t,e){const n=Object.create(null);LK.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i)throw Ci(ii.UNEXPECTED_ERROR);const s=Gt(i.value)?{get(){return i.value.value},set(o){i.value.value=o}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,r,s)}),t.config.globalProperties.$i18n=n,$K.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i||!i.value)throw Ci(ii.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,i)})}cK(jq);uK(ZP);yK();if(__INTLIFY_PROD_DEVTOOLS__){const t=My();t.__INTLIFY__=!0,Zq(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var pI={exports:{}};const VK=bP(vN);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(t,e){(function(n,r){t.exports=r(VK)})(self,n=>(()=>{var r={976:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a](c,c.exports,s),c.exports}s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l);var o={};return(()=>{s.d(o,{default:()=>H});var a=s(976);const l=function(U){var he=typeof U;return U!=null&&(he=="object"||he=="function")},c=typeof wn=="object"&&wn&&wn.Object===Object&&wn;var u=typeof self=="object"&&self&&self.Object===Object&&self;const d=c||u||Function("return this")(),f=function(){return d.Date.now()};var h=/\s/;const m=function(U){for(var he=U.length;he--&&h.test(U.charAt(he)););return he};var p=/^\s+/;const y=function(U){return U&&U.slice(0,m(U)+1).replace(p,"")},v=d.Symbol;var b=Object.prototype,T=b.hasOwnProperty,_=b.toString,E=v?v.toStringTag:void 0;const C=function(U){var he=T.call(U,E),le=U[E];try{U[E]=void 0;var xe=!0}catch{}var He=_.call(U);return xe&&(he?U[E]=le:delete U[E]),He};var k=Object.prototype.toString;const S=function(U){return k.call(U)};var O=v?v.toStringTag:void 0;const D=function(U){return U==null?U===void 0?"[object Undefined]":"[object Null]":O&&O in Object(U)?C(U):S(U)},te=function(U){return U!=null&&typeof U=="object"},Q=function(U){return typeof U=="symbol"||te(U)&&D(U)=="[object Symbol]"};var q=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,G=/^0o[0-7]+$/i,N=parseInt;const M=function(U){if(typeof U=="number")return U;if(Q(U))return NaN;if(l(U)){var he=typeof U.valueOf=="function"?U.valueOf():U;U=l(he)?he+"":he}if(typeof U!="string")return U===0?U:+U;U=y(U);var le=L.test(U);return le||G.test(U)?N(U.slice(2),le?2:8):q.test(U)?NaN:+U};var J=Math.max,z=Math.min;const Z=function(U,he,le){var xe,He,Re,$e,Ne,Ke,P=0,F=!1,ne=!1,fe=!0;if(typeof U!="function")throw new TypeError("Expected a function");function K(W){var ee=xe,Se=He;return xe=He=void 0,P=W,$e=U.apply(Se,ee)}function ge(W){return P=W,Ne=setTimeout(ve,he),F?K(W):$e}function ke(W){var ee=W-Ke;return Ke===void 0||ee>=he||ee<0||ne&&W-P>=Re}function ve(){var W=f();if(ke(W))return ce(W);Ne=setTimeout(ve,function(ee){var Se=he-(ee-Ke);return ne?z(Se,Re-(ee-P)):Se}(W))}function ce(W){return Ne=void 0,fe&&xe?K(W):(xe=He=void 0,$e)}function ue(){var W=f(),ee=ke(W);if(xe=arguments,He=this,Ke=W,ee){if(Ne===void 0)return ge(Ke);if(ne)return clearTimeout(Ne),Ne=setTimeout(ve,he),K(Ke)}return Ne===void 0&&(Ne=setTimeout(ve,he)),$e}return he=M(he)||0,l(le)&&(F=!!le.leading,Re=(ne="maxWait"in le)?J(M(le.maxWait)||0,he):Re,fe="trailing"in le?!!le.trailing:fe),ue.cancel=function(){Ne!==void 0&&clearTimeout(Ne),P=0,xe=Ke=He=Ne=void 0},ue.flush=function(){return Ne===void 0?$e:ce(f())},ue},pe=(0,a.defineComponent)({name:"Ckeditor",model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,required:!0},config:{type:Object,default:()=>({})},modelValue:{type:String,default:""},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1},disableTwoWayDataBinding:{type:Boolean,default:!1}},emits:["ready","destroy","blur","focus","input","update:modelValue"],data:()=>({instance:null,lastEditorData:null}),watch:{modelValue(U){this.instance&&U!==this.lastEditorData&&this.instance.data.set(U)},disabled(U){U?this.instance.enableReadOnlyMode("Integration Sample"):this.instance.disableReadOnlyMode("Integration Sample")}},created(){const{CKEDITOR_VERSION:U}=window;if(U){const[he]=U.split(".").map(Number);he<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')},mounted(){const U=Object.assign({},this.config);this.modelValue&&(U.initialData=this.modelValue),this.editor.create(this.$el,U).then(he=>{this.instance=(0,a.markRaw)(he),this.setUpEditorEvents(),this.modelValue!==U.initialData&&he.data.set(this.modelValue),this.disabled&&he.enableReadOnlyMode("Integration Sample"),this.$emit("ready",he)}).catch(he=>{console.error(he)})},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},methods:{setUpEditorEvents(){const U=this.instance,he=Z(le=>{if(this.disableTwoWayDataBinding)return;const xe=this.lastEditorData=U.data.get();this.$emit("update:modelValue",xe,le,U),this.$emit("input",xe,le,U)},300,{leading:!0});U.model.document.on("change:data",he),U.editing.view.document.on("focus",le=>{this.$emit("focus",le,U)}),U.editing.view.document.on("blur",le=>{this.$emit("blur",le,U)})}},render(){return(0,a.h)(this.tagName)}});if(!a.version||!a.version.startsWith("3."))throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const H={install(U){U.component("Ckeditor",pe)},component:pe}})(),o=o.default})())})(pI);var zK=pI.exports;const UK=jr(zK);/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function By({emitter:t,activator:e,callback:n,contextElements:r}){t.listenTo(document,"mousedown",(i,s)=>{if(!e())return;const o=typeof s.composedPath=="function"?s.composedPath():[],a=typeof r=="function"?r():r;for(const l of a)if(l.contains(s.target)||o.includes(l))return;n()})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function gI(t){class e extends t{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...r){super(...r),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vI({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HK({keystrokeHandler:t,focusTracker:e,gridItems:n,numberOfColumns:r,uiLanguageDirection:i}){const s=typeof r=="number"?()=>r:r;t.set("arrowright",o((c,u)=>i==="rtl"?l(c,u.length):a(c,u.length))),t.set("arrowleft",o((c,u)=>i==="rtl"?a(c,u.length):l(c,u.length))),t.set("arrowup",o((c,u)=>{let d=c-s();return d<0&&(d=c+s()*Math.floor(u.length/s()),d>u.length-1&&(d-=s())),d})),t.set("arrowdown",o((c,u)=>{let d=c+s();return d>u.length-1&&(d=c%s()),d}));function o(c){return u=>{const d=n.find(m=>m.element===e.focusedElement),f=n.getIndex(d),h=c(f,n);n.get(h).focus(),u.stopPropagation(),u.preventDefault()}}function a(c,u){return c===u-1?0:c+1}function l(c,u){return c===0?u-1:c-1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jK(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Jo=jK(),wt={isMac:bI(Jo),isWindows:WK(Jo),isGecko:qK(Jo),isSafari:KK(Jo),isiOS:GK(Jo),isAndroid:YK(Jo),isBlink:QK(Jo),features:{isRegExpUnicodePropertySupported:JK()}};function bI(t){return t.indexOf("macintosh")>-1}function WK(t){return t.indexOf("windows")>-1}function qK(t){return!!t.match(/gecko\/\d+/)}function KK(t){return t.indexOf(" applewebkit/")>-1&&t.indexOf("chrome")===-1}function GK(t){return!!t.match(/iphone|ipad/i)||bI(t)&&navigator.maxTouchPoints>0}function YK(t){return t.indexOf("android")>-1}function QK(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}function JK(){let t=!1;try{t="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yI(t,e,n,r){n=n||function(l,c){return l===c};const i=Array.isArray(t)?t:Array.prototype.slice.call(t),s=Array.isArray(e)?e:Array.prototype.slice.call(e),o=XK(i,s,n);return r?eG(o,s.length):ZK(s,o)}function XK(t,e,n){const r=DC(t,e,n);if(r===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=NC(t,r),s=NC(e,r),o=DC(i,s,n),a=t.length-o,l=e.length-o;return{firstIndex:r,lastIndexOld:a,lastIndexNew:l}}function DC(t,e,n){for(let r=0;r<Math.max(t.length,e.length);r++)if(t[r]===void 0||e[r]===void 0||!n(t[r],e[r]))return r;return-1}function NC(t,e){return t.slice(e).reverse()}function ZK(t,e){const n=[],{firstIndex:r,lastIndexOld:i,lastIndexNew:s}=e;return s-r>0&&n.push({index:r,type:"insert",values:t.slice(r,s)}),i-r>0&&n.push({index:r+(s-r),type:"delete",howMany:i-r}),n}function eG(t,e){const{firstIndex:n,lastIndexOld:r,lastIndexNew:i}=t;if(n===-1)return Array(e).fill("equal");let s=[];return n>0&&(s=s.concat(Array(n).fill("equal"))),i-n>0&&(s=s.concat(Array(i-n).fill("insert"))),r-n>0&&(s=s.concat(Array(r-n).fill("delete"))),i<e&&(s=s.concat(Array(e-i).fill("equal"))),s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function bu(t,e,n){n=n||function(p,y){return p===y};const r=t.length,i=e.length;if(r>200||i>200||r+i>300)return bu.fastDiff(t,e,n,!0);let s,o;if(i<r){const p=t;t=e,e=p,s="delete",o="insert"}else s="insert",o="delete";const a=t.length,l=e.length,c=l-a,u={},d={};function f(p){const y=(d[p-1]!==void 0?d[p-1]:-1)+1,v=d[p+1]!==void 0?d[p+1]:-1,b=y>v?-1:1;u[p+b]&&(u[p]=u[p+b].slice(0)),u[p]||(u[p]=[]),u[p].push(y>v?s:o);let T=Math.max(y,v),_=T-p;for(;_<a&&T<l&&n(t[_],e[T]);)_++,T++,u[p].push("equal");return T}let h=0,m;do{for(m=-h;m<c;m++)d[m]=f(m);for(m=c+h;m>c;m--)d[m]=f(m);d[c]=f(c),h++}while(d[c]!==l);return u[c].slice(1)}bu.fastDiff=yI;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function FC(){return function t(){t.called=!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $s{constructor(e,n){this.source=e,this.name=n,this.path=[],this.stop=FC(),this.off=FC()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ur=new Array(256).fill("").map((t,e)=>("0"+e.toString(16)).slice(-2));function hs(){const t=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0,r=Math.random()*4294967296>>>0;return"e"+ur[t>>0&255]+ur[t>>8&255]+ur[t>>16&255]+ur[t>>24&255]+ur[e>>0&255]+ur[e>>8&255]+ur[e>>16&255]+ur[e>>24&255]+ur[n>>0&255]+ur[n>>8&255]+ur[n>>16&255]+ur[n>>24&255]+ur[r>>0&255]+ur[r>>8&255]+ur[r>>16&255]+ur[r>>24&255]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Co={get(t="normal"){return typeof t!="number"?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tG(t,e){const n=Co.get(e.priority);for(let r=0;r<t.length;r++)if(Co.get(t[r].priority)<n){t.splice(r,0,e);return}t.push(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const nG="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class j extends Error{constructor(e,n,r){super(rG(e,r)),this.name="CKEditorError",this.context=n,this.data=r}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,n){if(e.is&&e.is("CKEditorError"))throw e;const r=new j(e.message,n);throw r.stack=e.stack,r}}function en(t,e){console.warn(...iG(t,e))}function wI(t){return`
Read more: ${nG}#error-${t}`}function rG(t,e){const n=new WeakSet,i=e?` ${JSON.stringify(e,(o,a)=>{if(typeof a=="object"&&a!==null){if(n.has(a))return`[object ${a.constructor.name}]`;n.add(a)}return a})}`:"",s=wI(t);return t+i+s}function iG(t,e){const n=wI(t);return e?[t,e,n]:[t,n]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const sG="39.0.2",oG=new Date(2023,8,6);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new j("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=sG;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Cl=Symbol("listeningTo"),lb=Symbol("emitterId"),Cs=Symbol("delegations"),_I=Yt(Object);function Yt(t){if(!t)return _I;class e extends t{on(r,i,s){this.listenTo(this,r,i,s)}once(r,i,s){let o=!1;const a=(l,...c)=>{o||(o=!0,l.off(),i.call(this,l,...c))};this.listenTo(this,r,a,s)}off(r,i){this.stopListening(this,r,i)}listenTo(r,i,s,o={}){let a,l;this[Cl]||(this[Cl]={});const c=this[Cl];bg(r)||CI(r);const u=bg(r);(a=c[u])||(a=c[u]={emitter:r,callbacks:{}}),(l=a.callbacks[i])||(l=a.callbacks[i]=[]),l.push(s),uG(this,r,i,s,o)}stopListening(r,i,s){const o=this[Cl];let a=r&&bg(r);const l=o&&a?o[a]:void 0,c=l&&i?l.callbacks[i]:void 0;if(!(!o||r&&!l||i&&!c))if(s)yg(this,r,i,s),c.indexOf(s)!==-1&&(c.length===1?delete l.callbacks[i]:yg(this,r,i,s));else if(c){for(;s=c.pop();)yg(this,r,i,s);delete l.callbacks[i]}else if(l){for(i in l.callbacks)this.stopListening(r,i);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[Cl]}}fire(r,...i){try{const s=r instanceof $s?r:new $s(this,r),o=s.name;let a=SI(this,o);if(s.path.push(this),a){const c=[s,...i];a=Array.from(a);for(let u=0;u<a.length&&(a[u].callback.apply(this,c),s.off.called&&(delete s.off.called,this._removeEventListener(o,a[u].callback)),!s.stop.called);u++);}const l=this[Cs];if(l){const c=l.get(o),u=l.get("*");c&&LC(c,s,i),u&&LC(u,s,i)}return s.return}catch(s){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(s,this)}}delegate(...r){return{to:(i,s)=>{this[Cs]||(this[Cs]=new Map),r.forEach(o=>{const a=this[Cs].get(o);a?a.set(i,s):this[Cs].set(o,new Map([[i,s]]))})}}}stopDelegating(r,i){if(this[Cs])if(!r)this[Cs].clear();else if(!i)this[Cs].delete(r);else{const s=this[Cs].get(r);s&&s.delete(i)}}_addEventListener(r,i,s){cG(this,r);const o=cb(this,r),a=Co.get(s.priority),l={callback:i,priority:a};for(const c of o)tG(c,l)}_removeEventListener(r,i){const s=cb(this,r);for(const o of s)for(let a=0;a<o.length;a++)o[a].callback==i&&(o.splice(a,1),a--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{Yt[t]=_I.prototype[t]});function aG(t,e){const n=t[Cl];return n&&n[e]?n[e].emitter:null}function CI(t,e){t[lb]||(t[lb]=e||hs())}function bg(t){return t[lb]}function kI(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function lG(){return{callbacks:[],childEvents:[]}}function cG(t,e){const n=kI(t);if(n[e])return;let r=e,i=null;const s=[];for(;r!==""&&!n[r];)n[r]=lG(),s.push(n[r]),i&&n[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(r!==""){for(const o of s)o.callbacks=n[r].callbacks.slice();n[r].childEvents.push(i)}}function cb(t,e){const n=kI(t)[e];if(!n)return[];let r=[n.callbacks];for(let i=0;i<n.childEvents.length;i++){const s=cb(t,n.childEvents[i]);r=r.concat(s)}return r}function SI(t,e){let n;return!t._events||!(n=t._events[e])||!n.callbacks.length?e.indexOf(":")>-1?SI(t,e.substr(0,e.lastIndexOf(":"))):null:n.callbacks}function LC(t,e,n){for(let[r,i]of t){i?typeof i=="function"&&(i=i(e.name)):i=e.name;const s=new $s(e.source,i);s.path=[...e.path],r.fire(s,...n)}}function uG(t,e,n,r,i){e._addEventListener?e._addEventListener(n,r,i):t._addEventListener.call(e,n,r,i)}function yg(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Lh=Symbol("observableProperties"),Km=Symbol("boundObservables"),$h=Symbol("boundProperties"),ll=Symbol("decoratedMethods"),$C=Symbol("decoratedOriginal"),EI=Kt(Yt());function Kt(t){if(!t)return EI;class e extends t{set(r,i){if(ln(r)){Object.keys(r).forEach(o=>{this.set(o,r[o])},this);return}wg(this);const s=this[Lh];if(r in this&&!s.has(r))throw new j("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get(){return s.get(r)},set(o){const a=s.get(r);let l=this.fire(`set:${r}`,r,o,a);l===void 0&&(l=o),(a!==l||!s.has(r))&&(s.set(r,l),this.fire(`change:${r}`,r,l,a))}}),this[r]=i}bind(...r){if(!r.length||!BC(r))throw new j("observable-bind-wrong-properties",this);if(new Set(r).size!==r.length)throw new j("observable-bind-duplicate-properties",this);wg(this);const i=this[$h];r.forEach(o=>{if(i.has(o))throw new j("observable-bind-rebind",this)});const s=new Map;return r.forEach(o=>{const a={property:o,to:[]};i.set(o,a),s.set(o,a)}),{to:dG,toMany:fG,_observable:this,_bindProperties:r,_to:[],_bindings:s}}unbind(...r){if(!this[Lh])return;const i=this[$h],s=this[Km];if(r.length){if(!BC(r))throw new j("observable-unbind-wrong-properties",this);r.forEach(o=>{const a=i.get(o);a&&(a.to.forEach(([l,c])=>{const u=s.get(l),d=u[c];d.delete(a),d.size||delete u[c],Object.keys(u).length||(s.delete(l),this.stopListening(l,"change"))}),i.delete(o))})}else s.forEach((o,a)=>{this.stopListening(a,"change")}),s.clear(),i.clear()}decorate(r){wg(this);const i=this[r];if(!i)throw new j("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,(s,o)=>{s.return=i.apply(this,o)}),this[r]=function(...s){return this.fire(r,s)},this[r][$C]=i,this[ll]||(this[ll]=[]),this[ll].push(r)}stopListening(r,i,s){if(!r&&this[ll]){for(const o of this[ll])this[o]=this[o][$C];delete this[ll]}super.stopListening(r,i,s)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{Kt[t]=EI.prototype[t]});function wg(t){t[Lh]||(Object.defineProperty(t,Lh,{value:new Map}),Object.defineProperty(t,Km,{value:new Map}),Object.defineProperty(t,$h,{value:new Map}))}function dG(...t){const e=mG(...t),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new j("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new j("observable-bind-to-extra-callback",this);e.to.forEach(i=>{if(i.properties.length&&i.properties.length!==r)throw new j("observable-bind-to-properties-length",this);i.properties.length||(i.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),vG(this._observable,this._to),gG(this),this._bindProperties.forEach(i=>{TI(this._observable,i)})}function fG(t,e,n){if(this._bindings.size>1)throw new j("observable-bind-to-many-not-one-binding",this);this.to(...hG(t,e),n)}function hG(t,e){const n=t.map(r=>[r,e]);return Array.prototype.concat.apply([],n)}function BC(t){return t.every(e=>typeof e=="string")}function mG(...t){if(!t.length)throw new j("observable-bind-to-parse-error",null);const e={to:[]};let n;return typeof t[t.length-1]=="function"&&(e.callback=t.pop()),t.forEach(r=>{if(typeof r=="string")n.properties.push(r);else if(typeof r=="object")n={observable:r,properties:[]},e.to.push(n);else throw new j("observable-bind-to-parse-error",null)}),e}function pG(t,e,n,r){const i=t[Km],s=i.get(n),o=s||{};o[r]||(o[r]=new Set),o[r].add(e),s||i.set(n,o)}function gG(t){let e;t._bindings.forEach((n,r)=>{t._to.forEach(i=>{e=i.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([i.observable,e]),pG(t._observable,n,i.observable,e)})})}function TI(t,e){const r=t[$h].get(e);let i;r.callback?i=r.callback.apply(t,r.to.map(s=>s[0][s[1]])):(i=r.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:t.set(e,i)}function vG(t,e){e.forEach(n=>{const r=t[Km];let i;r.get(n.observable)||t.listenTo(n.observable,"change",(s,o)=>{i=r.get(n.observable)[o],i&&i.forEach(a=>{TI(t,a.property)})})})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AI{constructor(){this._replacedElements=[]}replace(e,n){this._replacedElements.push({element:e,newElement:n}),e.style.display="none",n&&e.parentNode.insertBefore(n,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:n})=>{e.style.display="",n&&n.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ub(t){let e=0;for(const n of t)e++;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kr(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function si(t){return!!(t&&t[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function db(t,e,n={},r=[]){const i=n&&n.xmlns,s=i?t.createElementNS(i,e):t.createElement(e);for(const o in n)s.setAttribute(o,n[o]);(_1(r)||!si(r))&&(r=[r]);for(let o of r)_1(o)&&(o=t.createTextNode(o)),s.appendChild(o);return s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xI{constructor(e,n){this._config={},n&&this.define(VC(n)),e&&this._setObjectToTarget(this._config,e)}set(e,n){this._setToTarget(this._config,e,n)}define(e,n){this._setToTarget(this._config,e,n,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,n,r,i=!1){if(Qr(n)){this._setObjectToTarget(e,n,i);return}const s=n.split(".");n=s.pop();for(const o of s)Qr(e[o])||(e[o]={}),e=e[o];if(Qr(r)){Qr(e[n])||(e[n]={}),e=e[n],this._setObjectToTarget(e,r,i);return}i&&typeof e[n]<"u"||(e[n]=r)}_getFromSource(e,n){const r=n.split(".");n=r.pop();for(const i of r){if(!Qr(e[i])){e=null;break}e=e[i]}return e?VC(e[n]):void 0}_setObjectToTarget(e,n,r){Object.keys(n).forEach(i=>{this._setToTarget(e,i,n[i],r)})}}function VC(t){return hy(t,bG)}function bG(t){return Ra(t)?t:void 0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Io(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Bh(t){const e=Object.prototype.toString.apply(t);return e=="[object Window]"||e=="[object global]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const PI=Vo(Yt());function Vo(t){if(!t)return PI;class e extends t{listenTo(r,i,s,o={}){if(Io(r)||Bh(r)){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(r,a)||new yG(r,a);this.listenTo(l,i,s,o)}else super.listenTo(r,i,s,o)}stopListening(r,i,s){if(Io(r)||Bh(r)){const o=this._getAllProxyEmitters(r);for(const a of o)this.stopListening(a,i,s)}else super.stopListening(r,i,s)}_getProxyEmitter(r,i){return aG(this,II(r,i))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(r,i)).filter(i=>!!i)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{Vo[t]=PI.prototype[t]});class yG extends Yt(){constructor(e,n){super(),CI(this,II(e,n)),this._domNode=e,this._options=n}attach(e){if(this._domListeners&&this._domListeners[e])return;const n=this._createDomListener(e);this._domNode.addEventListener(e,n,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=n}detach(e){let n;this._domListeners[e]&&(!(n=this._events[e])||!n.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,n,r){this.attach(e),Yt().prototype._addEventListener.call(this,e,n,r)}_removeEventListener(e,n){Yt().prototype._removeEventListener.call(this,e,n),this.detach(e)}_createDomListener(e){const n=r=>{this.fire(e,r)};return n.removeListener=()=>{this._domNode.removeEventListener(e,n,this._options),delete this._domListeners[e]},n}}function wG(t){return t["data-ck-expando"]||(t["data-ck-expando"]=hs())}function II(t,e){let n=wG(t);for(const r of Object.keys(e).sort())e[r]&&(n+="-"+r);return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let fb;try{fb={window,document}}catch{/* istanbul ignore next -- @preserve */fb={window:{},document:{}}}const pt=fb;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hb(t){let e=t.parentElement;if(!e)return null;for(;e.tagName!="BODY";){const n=e.style.overflowY||pt.window.getComputedStyle(e).overflowY;if(n==="auto"||n==="scroll")break;if(e=e.parentElement,!e)return null}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _G(t){const e=[];let n=t;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)e.unshift(n),n=n.parentNode;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gm(t){return Object.prototype.toString.apply(t)=="[object Range]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function OI(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function An(t){return Object.prototype.toString.call(t)=="[object Text]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const RI=["top","right","bottom","left","width","height"];class zt{constructor(e){const n=Gm(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),MI(e)||n)if(n){const r=zt.getDomRangeRects(e);wf(this,zt.getBoundingRect(r))}else wf(this,e.getBoundingClientRect());else if(Bh(e)){const{innerWidth:r,innerHeight:i}=e;wf(this,{top:0,right:r,bottom:i,left:0,width:r,height:i})}else wf(this,e)}clone(){return new zt(this)}moveTo(e,n){return this.top=n,this.right=e+this.width,this.bottom=n+this.height,this.left=e,this}moveBy(e,n){return this.top+=n,this.right+=e,this.left+=e,this.bottom+=n,this}getIntersection(e){const n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new zt(n)}getIntersectionArea(e){const n=this.getIntersection(e);return n?n.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let n=this.clone();if(zC(e))return n;let r=e,i=e.parentNode||e.commonAncestorContainer,s;for(;i&&!zC(i);){if(r instanceof HTMLElement&&UC(r)==="absolute"&&(s=r),s&&(UC(i)!=="relative"||CG(i)==="visible")){r=i,i=i.parentNode;continue}const o=new zt(i),a=n.getIntersection(o);if(a)a.getArea()<n.getArea()&&(n=a);else return null;r=i,i=i.parentNode}return n}isEqual(e){for(const n of RI)if(this[n]!==e[n])return!1;return!0}contains(e){const n=this.getIntersection(e);return!!(n&&n.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let n,r,i;if(Bh(e))n=e.innerWidth-e.document.documentElement.clientWidth,r=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{const s=OI(e);n=e.offsetWidth-e.clientWidth-s.left-s.right,r=e.offsetHeight-e.clientHeight-s.top-s.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,i==="ltr"?this.right-=n:this.left+=n,this.height-=r,this.bottom-=r,this}static getDomRangeRects(e){const n=[],r=Array.from(e.getClientRects());if(r.length)for(const i of r)n.push(new zt(i));else{let i=e.startContainer;An(i)&&(i=i.parentNode);const s=new zt(i.getBoundingClientRect());s.right=s.left,s.width=0,n.push(s)}return n}static getBoundingRect(e){const n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const i of e)r++,n.left=Math.min(n.left,i.left),n.top=Math.min(n.top,i.top),n.right=Math.max(n.right,i.right),n.bottom=Math.max(n.bottom,i.bottom);return r==0?null:(n.width=n.right-n.left,n.height=n.bottom-n.top,new zt(n))}}function wf(t,e){for(const n of RI)t[n]=e[n]}function zC(t){return MI(t)?t===t.ownerDocument.body:!1}function MI(t){return t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.getBoundingClientRect=="function"}function UC(t){return t.ownerDocument.defaultView.getComputedStyle(t).position}function CG(t){return t.ownerDocument.defaultView.getComputedStyle(t).overflow}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kG(t,e=0){const n=t.map(i=>{if(i instanceof Document){const s=new zt(pt.window);return s.top+=e,s.height-=e,s}else return new zt(i)});let r=n[0];for(const i of n.slice(1))r&&(r=r.getIntersection(i));return r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function SG(t){const e=[];let n=hb(t);for(;n&&n!==pt.document.body;)e.push(n),n=hb(n);return e.push(pt.document),e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function EG(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ym=class Cn{constructor(e,n){Cn._observerInstance||Cn._createObserver(),this._element=e,this._callback=n,Cn._addElementCallback(e,n),Cn._observerInstance.observe(e)}get element(){return this._element}destroy(){Cn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,n){Cn._elementCallbacks||(Cn._elementCallbacks=new Map);let r=Cn._elementCallbacks.get(e);r||(r=new Set,Cn._elementCallbacks.set(e,r)),r.add(n)}static _deleteElementCallback(e,n){const r=Cn._getElementCallbacks(e);r&&(r.delete(n),r.size||(Cn._elementCallbacks.delete(e),Cn._observerInstance.unobserve(e))),Cn._elementCallbacks&&!Cn._elementCallbacks.size&&(Cn._observerInstance=null,Cn._elementCallbacks=null)}static _getElementCallbacks(e){return Cn._elementCallbacks?Cn._elementCallbacks.get(e):null}static _createObserver(){Cn._observerInstance=new pt.window.ResizeObserver(e=>{for(const n of e){const r=Cn._getElementCallbacks(n.target);if(r)for(const i of r)i(n)}})}};Ym._observerInstance=null;Ym._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HC(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Vy(t){return e=>e+t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _f(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function DI(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yu(t){return t&&t.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function TG(t){try{pt.document.createAttribute(t)}catch{return!1}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Fa(t){return!!(t&&t.getClientRects&&t.getClientRects().length)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function AG(t){return!t||!t.parentNode||t.offsetParent===pt.document.body?null:t.offsetParent}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function NI({element:t,target:e,positions:n,limiter:r,fitInViewport:i,viewportOffsetConfig:s}){Ia(e)&&(e=e()),Ia(r)&&(r=r());const o=AG(t),a=new zt(t),l=new zt(e);let c;const u=i&&xG(s)||null,d={targetRect:l,elementRect:a,positionedElementAncestor:o,viewportRect:u};if(!r&&!i)c=new mb(n[0],d);else{const f=r&&new zt(r).getVisible();Object.assign(d,{limiterRect:f,viewportRect:u}),c=PG(n,d)||new mb(n[0],d)}return c}function xG(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new zt(pt.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e}function PG(t,e){const{elementRect:n}=e,r=n.getArea(),i=t.map(a=>new mb(a,e)).filter(a=>!!a.name);let s=0,o=null;for(const a of i){const{limiterIntersectionArea:l,viewportIntersectionArea:c}=a;if(l===r)return a;const u=c**2+l**2;u>s&&(s=u,o=a)}return o}function IG(t,e){const n=FI(new zt(e)),r=OI(e);let i=0,s=0;i-=n.left,s-=n.top,i+=e.scrollLeft,s+=e.scrollTop,i-=r.left,s-=r.top,t.moveBy(i,s)}function FI(t){const{scrollX:e,scrollY:n}=pt.window;return t.clone().moveBy(e,n)}class mb{constructor(e,n){const r=e(n.targetRect,n.elementRect,n.viewportRect);if(!r)return;const{left:i,top:s,name:o,config:a}=r;this.name=o,this.config=a,this._positioningFunctionCorrdinates={left:i,top:s},this._options=n}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const n=this._options.viewportRect;if(n){const r=e.getIntersection(n);if(r)return r.getIntersectionArea(this._rect)}else return e.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=FI(this._rect),this._options.positionedElementAncestor&&IG(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jC(t){const e=t.parentNode;e&&e.removeChild(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function OG({target:t,viewportOffset:e=0,ancestorOffset:n=0,alignToTop:r,forceScroll:i}){const s=zy(t);let o=s,a=null;for(e=DG(e);o;){let l;o==s?l=WC(t):l=WC(a),MG({parent:l,getRect:()=>qC(t,o),alignToTop:r,ancestorOffset:n,forceScroll:i});const c=qC(t,o);if(RG({window:o,rect:c,viewportOffset:e,alignToTop:r,forceScroll:i}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function RG({window:t,rect:e,alignToTop:n,forceScroll:r,viewportOffset:i}){const s=e.clone().moveBy(0,i.bottom),o=e.clone().moveBy(0,-i.top),a=new zt(t).excludeScrollbarsAndBorders(),l=[o,s],c=n&&r,u=l.every(p=>a.contains(p));let{scrollX:d,scrollY:f}=t;const h=d,m=f;c?f-=a.top-e.top+i.top:u||($I(o,a)?f-=a.top-e.top+i.top:LI(s,a)&&(n?f+=e.top-a.top-i.top:f+=e.bottom-a.bottom+i.bottom)),u||(BI(e,a)?d-=a.left-e.left+i.left:VI(e,a)&&(d+=e.right-a.right+i.right)),(d!=h||f!==m)&&t.scrollTo(d,f)}function MG({parent:t,getRect:e,alignToTop:n,forceScroll:r,ancestorOffset:i=0,limiterElement:s}){const o=zy(t),a=n&&r;let l,c,u;const d=s||o.document.body;for(;t!=d;)c=e(),l=new zt(t).excludeScrollbarsAndBorders(),u=l.contains(c),a?t.scrollTop-=l.top-c.top+i:u||($I(c,l)?t.scrollTop-=l.top-c.top+i:LI(c,l)&&(n?t.scrollTop+=c.top-l.top-i:t.scrollTop+=c.bottom-l.bottom+i)),u||(BI(c,l)?t.scrollLeft-=l.left-c.left+i:VI(c,l)&&(t.scrollLeft+=c.right-l.right+i)),t=t.parentNode}function LI(t,e){return t.bottom>e.bottom}function $I(t,e){return t.top<e.top}function BI(t,e){return t.left<e.left}function VI(t,e){return t.right>e.right}function zy(t){return Gm(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function WC(t){if(Gm(t)){let e=t.commonAncestorContainer;return An(e)&&(e=e.parentNode),e}else return t.parentNode}function qC(t,e){const n=zy(t),r=new zt(t);if(n===e)return r;{let i=n;for(;i!=e;){const s=i.frameElement,o=new zt(s).excludeScrollbarsAndBorders();r.moveBy(o.left,o.top),i=i.parent}}return r}function DG(t){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const NG={ctrl:"",cmd:"",alt:"",shift:""},FG={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},It=zG(),LG=Object.fromEntries(Object.entries(It).map(([t,e])=>[e,t.charAt(0).toUpperCase()+t.slice(1)]));function ec(t){let e;if(typeof t=="string"){if(e=It[t.toLowerCase()],!e)throw new j("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?It.alt:0)+(t.ctrlKey?It.ctrl:0)+(t.shiftKey?It.shift:0)+(t.metaKey?It.cmd:0);return e}function Uy(t){return typeof t=="string"&&(t=UG(t)),t.map(e=>typeof e=="string"?BG(e):e).reduce((e,n)=>n+e,0)}function KC(t){let e=Uy(t);return Object.entries(wt.isMac?NG:FG).reduce((i,[s,o])=>(e&It[s]&&(e&=~It[s],i+=o),i),"")+(e?LG[e]:"")}function $G(t){return t==It.arrowright||t==It.arrowleft||t==It.arrowup||t==It.arrowdown}function Hy(t,e){const n=e==="ltr";switch(t){case It.arrowleft:return n?"left":"right";case It.arrowright:return n?"right":"left";case It.arrowup:return"up";case It.arrowdown:return"down"}}function BG(t){if(t.endsWith("!"))return ec(t.slice(0,-1));const e=ec(t);return wt.isMac&&e==It.ctrl?It.cmd:e}function VG(t,e){const n=Hy(t,e);return n==="down"||n==="right"}function zG(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;for(const e of"`-=[];',./\\")t[e]=e.charCodeAt(0);return t}function UG(t){return t.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const HG=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function GC(t){return HG.includes(t)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sr(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */pt.window.CKEDITOR_TRANSLATIONS||(pt.window.CKEDITOR_TRANSLATIONS={});function jG(t,e,n=1){if(typeof n!="number")throw new j("translation-service-quantity-not-a-number",null,{quantity:n});const r=qG();r===1&&(t=Object.keys(pt.window.CKEDITOR_TRANSLATIONS)[0]);const i=e.id||e.string;if(r===0||!WG(t,i))return n!==1?e.plural:e.string;const s=pt.window.CKEDITOR_TRANSLATIONS[t].dictionary,o=pt.window.CKEDITOR_TRANSLATIONS[t].getPluralForm||(c=>c===1?0:1),a=s[i];if(typeof a=="string")return a;const l=Number(o(n));return a[l]}function WG(t,e){return!!pt.window.CKEDITOR_TRANSLATIONS[t]&&!!pt.window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}function qG(){return Object.keys(pt.window.CKEDITOR_TRANSLATIONS).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KG{constructor({uiLanguage:e="en",contentLanguage:n}={}){this.uiLanguage=e,this.contentLanguage=n||this.uiLanguage,this.uiLanguageDirection=GC(this.uiLanguage),this.contentLanguageDirection=GC(this.contentLanguage),this.t=(r,i)=>this._t(r,i)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,n=[]){n=sr(n),typeof e=="string"&&(e={string:e});const i=!!e.plural?n[0]:1,s=jG(this.uiLanguage,e,i);return GG(s,n)}}function GG(t,e){return t.replace(/%(\d+)/g,(n,r)=>r<e.length?e[r]:n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ui extends Yt(){constructor(e={},n={}){super();const r=si(e);if(r||(n=e),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const i of e)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,n){return this.addMany([e],n)}addMany(e,n){if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new j("collection-add-item-invalid-index",this);let r=0;for(const i of e){const s=this._getItemIdBeforeAdding(i),o=n+r;this._items.splice(o,0,i),this._itemMap.set(s,i),this.fire("add",i,o),r++}return this.fire("change",{added:e,removed:[],index:n}),this}get(e){let n;if(typeof e=="string")n=this._itemMap.get(e);else if(typeof e=="number")n=this._items[e];else throw new j("collection-get-invalid-arg",this);return n||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const n=this._idProperty,r=e[n];return r&&this._itemMap.has(r)}}getIndex(e){let n;return typeof e=="string"?n=this._itemMap.get(e):n=e,n?this._items.indexOf(n):-1}remove(e){const[n,r]=this._remove(e);return this.fire("change",{added:[],removed:[n],index:r}),n}map(e,n){return this._items.map(e,n)}find(e,n){return this._items.find(e,n)}filter(e,n){return this._items.filter(e,n)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new j("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:n=>{this._setUpBindToBinding(r=>new n(r))},using:n=>{typeof n=="function"?this._setUpBindToBinding(n):this._setUpBindToBinding(r=>r[n])}}}_setUpBindToBinding(e){const n=this._bindToCollection,r=(i,s,o)=>{const a=n._bindToCollection==this,l=n._bindToInternalToExternalMap.get(s);if(a&&l)this._bindToExternalToInternalMap.set(s,l),this._bindToInternalToExternalMap.set(l,s);else{const c=e(s);if(!c){this._skippedIndexesFromExternal.push(o);return}let u=o;for(const d of this._skippedIndexesFromExternal)o>d&&u--;for(const d of n._skippedIndexesFromExternal)u>=d&&u++;this._bindToExternalToInternalMap.set(s,c),this._bindToInternalToExternalMap.set(c,s),this.add(c,u);for(let d=0;d<n._skippedIndexesFromExternal.length;d++)u<=n._skippedIndexesFromExternal[d]&&n._skippedIndexesFromExternal[d]++}};for(const i of n)r(null,i,n.getIndex(i));this.listenTo(n,"add",r),this.listenTo(n,"remove",(i,s,o)=>{const a=this._bindToExternalToInternalMap.get(s);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,c)=>(o<c&&l.push(c-1),o>c&&l.push(c),l),[])})}_getItemIdBeforeAdding(e){const n=this._idProperty;let r;if(n in e){if(r=e[n],typeof r!="string")throw new j("collection-add-invalid-id",this);if(this.get(r))throw new j("collection-add-item-already-exists",this)}else e[n]=r=hs();return r}_remove(e){let n,r,i,s=!1;const o=this._idProperty;if(typeof e=="string"?(r=e,i=this._itemMap.get(r),s=!i,i&&(n=this._items.indexOf(i))):typeof e=="number"?(n=e,i=this._items[n],s=!i,i&&(r=i[o])):(i=e,r=i[o],n=this._items.indexOf(i),s=n==-1||!this._itemMap.get(r)),s)throw new j("collection-remove-404",this);this._items.splice(n,1),this._itemMap.delete(r);const a=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(a),this.fire("remove",i,n),[i,n]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $n(t){const e=t.next();return e.done?null:e.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hi extends Vo(Kt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new j("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ys{constructor(){this._listener=new(Vo())}listenTo(e){this._listener.listenTo(e,"keydown",(n,r)=>{this._listener.fire("_keydown:"+ec(r),r)})}set(e,n,r={}){const i=Uy(e),s=r.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(o,a)=>{n(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0},{priority:s})}press(e){return!!this._listener.fire("_keydown:"+ec(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function YG(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Bs(t){return si(t)?new Map(t):YG(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const QG=1e4;function JG(t,e,n,r){if(Math.max(e.length,t.length)>QG)return t.slice(0,n).concat(e).concat(t.slice(n+r,t.length));{const i=Array.from(t);return i.splice(n,r,...e),i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pb(t,e){let n;function r(...i){r.cancel(),n=setTimeout(()=>t(...i),e)}return r.cancel=()=>{clearTimeout(n)},r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function XG(t){function e(d){return d.length>=40&&d.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let n="";try{n=atob(t)}catch{return"INVALID"}const r=n.split("-"),i=r[0],s=r[1];if(!s)return e(t);try{atob(s)}catch{try{if(atob(i),!atob(i).length)return e(t)}catch{return e(t)}}if(i.length<40||i.length>255)return"INVALID";let o="";try{atob(i),o=atob(s)}catch{return"INVALID"}if(o.length!==8)return"INVALID";const a=Number(o.substring(0,4)),l=Number(o.substring(4,6))-1,c=Number(o.substring(6,8)),u=new Date(a,l,c);return u<oG||isNaN(Number(u))?"INVALID":"VALID"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ZG(t){return!!t&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}function eY(t){return!!t&&t.length==1&&/[\ud800-\udbff]/.test(t)}function tY(t){return!!t&&t.length==1&&/[\udc00-\udfff]/.test(t)}function jy(t,e){return eY(t.charAt(e-1))&&tY(t.charAt(e))}function Wy(t,e){return ZG(t.charAt(e))}const nY=rY();function zI(t,e){const n=String(t).matchAll(nY);return Array.from(n).some(r=>r.index<e&&e<r.index+r[0].length)}function rY(){const t=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],e=/\p{Regional_Indicator}{2}/u.source,n="(?:"+t.map(i=>i.source).join("|")+")",r=`${e}|${n}(?:${n})*`;return new RegExp(r,"ug")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ka extends Ui{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(n,r,i)=>{this._renderViewIntoCollectionParent(r,i)}),this.on("remove",(n,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const n of this)this._renderViewIntoCollectionParent(n)}delegate(...e){if(!e.length||!iY(e))throw new j("ui-viewcollection-delegate-wrong-events",this);return{to:n=>{for(const r of this)for(const i of e)r.delegate(i).to(n);this.on("add",(r,i)=>{for(const s of e)i.delegate(s).to(n)}),this.on("remove",(r,i)=>{for(const s of e)i.stopDelegating(s,n)})}}}_renderViewIntoCollectionParent(e,n){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}remove(e){return super.remove(e)}}function iY(t){return t.every(e=>typeof e=="string")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Et=class extends Vo(Kt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Ui,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(n,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ls.bind(this,this)}createCollection(e){const n=new Ka(e);return this._viewCollections.add(n),n}registerChild(e){si(e)||(e=[e]);for(const n of e)this._unboundChildren.add(n)}deregisterChild(e){si(e)||(e=[e]);for(const n of e)this._unboundChildren.remove(n)}setTemplate(e){this.template=new ls(e)}extendTemplate(e){ls.extend(this.template,e)}render(){if(this.isRendered)throw new j("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const sY="http://www.w3.org/1999/xhtml";class ls extends Yt(){constructor(e){super(),Object.assign(this,QC(YC(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=ZC(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new j("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(n){if(n.children)for(const r of n.children)Vh(r)?yield r:qy(r)&&(yield*e(r))}yield*e(this)}static bind(e,n){return{to(r,i){return new oY({eventNameOrFunction:r,attribute:r,observable:e,emitter:n,callback:i})},if(r,i,s){return new UI({observable:e,emitter:n,attribute:r,valueIfTrue:i,callback:s})}}}static extend(e,n){if(e._isRendered)throw new j("template-extend-render",[this,e]);qI(e,QC(YC(n)))}_renderNode(e){let n;if(e.node?n=this.tag&&this.text:n=this.tag?this.text:!this.text,n)throw new j("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let n=e.node;return n||(n=e.node=document.createElementNS(this.ns||sY,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),n}_renderText(e){let n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),rh(this.text)?this._bindToObservable({schema:this.text,updater:lY(n),data:e}):n.textContent=this.text.join(""),n}_renderAttributes(e){if(!this.attributes)return;const n=e.node,r=e.revertData;for(const i in this.attributes){const s=n.getAttribute(i),o=this.attributes[i];r&&(r.attributes[i]=s);const a=XC(o)?o[0].ns:null;if(rh(o)){const l=XC(o)?o[0].value:o;r&&ek(i)&&l.unshift(s),this._bindToObservable({schema:l,updater:cY(n,i,a),data:e})}else if(i=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{r&&s&&ek(i)&&o.unshift(s);const l=o.map(c=>c&&(c.value||c)).reduce((c,u)=>c.concat(u),[]).reduce(WI,"");tc(l)||n.setAttributeNS(a,i,l)}}}_renderStyleAttribute(e,n){const r=n.node;for(const i in e){const s=e[i];rh(s)?this._bindToObservable({schema:[s],updater:uY(r,i),data:n}):r.style[i]=s}}_renderElementChildren(e){const n=e.node,r=e.intoFragment?document.createDocumentFragment():n,i=e.isApplying;let s=0;for(const o of this.children)if(Ky(o)){if(!i){o.setParent(n);for(const a of o)r.appendChild(a.element)}}else if(Vh(o))i||(o.isRendered||o.render(),r.appendChild(o.element));else if(Io(o))r.appendChild(o);else if(i){const a=e.revertData,l=ZC();a.children.push(l),o._renderNode({intoFragment:!1,node:r.childNodes[s++],isApplying:!0,revertData:l})}else r.appendChild(o.render());e.intoFragment&&n.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const n in this.eventListeners){const r=this.eventListeners[n].map(i=>{const[s,o]=n.split("@");return i.activateDomEventListener(s,o,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:n,data:r}){const i=r.revertData;HI(e,n,r);const s=e.filter(o=>!tc(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,n,r));i&&i.bindings.push(s)}_revertTemplateFromNode(e,n){for(const i of n.bindings)for(const s of i)s();if(n.text){e.textContent=n.text;return}const r=e;for(const i in n.attributes){const s=n.attributes[i];s===null?r.removeAttribute(i):r.setAttribute(i,s)}for(let i=0;i<n.children.length;++i)this._revertTemplateFromNode(r.childNodes[i],n.children[i])}}class Id{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const n=this.observable[this.attribute];return this.callback?this.callback(n,e):n}activateAttributeListener(e,n,r){const i=()=>HI(e,n,r);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class oY extends Id{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,n,r){const i=(s,o)=>{(!n||o.target.matches(n))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(r.node,e,i),()=>{this.emitter.stopListening(r.node,e,i)}}}class UI extends Id{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const n=super.getValue(e);return tc(n)?!1:this.valueIfTrue||!0}}function rh(t){return t?(t.value&&(t=t.value),Array.isArray(t)?t.some(rh):t instanceof Id):!1}function aY(t,e){return t.map(n=>n instanceof Id?n.getValue(e):n)}function HI(t,e,{node:n}){const r=aY(t,n);let i;t.length==1&&t[0]instanceof UI?i=r[0]:i=r.reduce(WI,""),tc(i)?e.remove():e.set(i)}function lY(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function cY(t,e,n){return{set(r){t.setAttributeNS(n,e,r)},remove(){t.removeAttributeNS(n,e)}}}function uY(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function YC(t){return hy(t,n=>{if(n&&(n instanceof Id||qy(n)||Vh(n)||Ky(n)))return n})}function QC(t){if(typeof t=="string"?t=hY(t):t.text&&mY(t),t.on&&(t.eventListeners=fY(t.on),delete t.on),!t.text){t.attributes&&dY(t.attributes);const e=[];if(t.children)if(Ky(t.children))e.push(t.children);else for(const n of t.children)qy(n)||Vh(n)||Io(n)?e.push(n):e.push(new ls(n));t.children=e}return t}function dY(t){for(const e in t)t[e].value&&(t[e].value=sr(t[e].value)),jI(t,e)}function fY(t){for(const e in t)jI(t,e);return t}function hY(t){return{text:[t]}}function mY(t){t.text=sr(t.text)}function jI(t,e){t[e]=sr(t[e])}function WI(t,e){return tc(e)?t:tc(t)?e:`${t} ${e}`}function JC(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function qI(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),JC(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),JC(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new j("ui-template-extend-children-mismatch",t);let n=0;for(const r of e.children)qI(t.children[n++],r)}}function tc(t){return!t&&t!==0}function Vh(t){return t instanceof Et}function qy(t){return t instanceof ls}function Ky(t){return t instanceof Ka}function XC(t){return ln(t[0])&&t[0].ns}function ZC(){return{children:[],bindings:[],attributes:{}}}function ek(t){return t=="class"||t=="style"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pY extends Ka{constructor(e,n=[]){super(n),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ls({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=db(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ga extends Et{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const n=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),r=n.getAttribute("viewBox");r&&(this.viewBox=r);for(const{name:i,value:s}of Array.from(n.attributes))Ga.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;n.childNodes.length>0;)this.element.appendChild(n.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}Ga.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dn extends Et{constructor(e){super(e),this._focusDelayed=null;const n=this.bindTemplate,r=hs();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new Ga,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const i={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",s=>!s),n.if("isVisible","ck-hidden",s=>!s),n.to("isOn",s=>s?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",s=>s||"button"),tabindex:n.to("tabindex"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,s=>!s),"aria-checked":n.to("isOn"),"aria-pressed":n.to("isOn",s=>this.isToggleable?String(!!s):!1),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(s=>{this.isEnabled?this.fire("execute"):s.preventDefault()})}};wt.isSafari&&(this._focusDelayed||(this._focusDelayed=pb(()=>this.focus(),0)),i.on.mousedown=n.to(()=>{this._focusDelayed()}),i.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(i)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const e=new Et,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:n.to("label")}]}),e}_createKeystrokeView(){const e=new Et;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",n=>KC(n))}]}),e}_getTooltipString(e,n,r){return e?typeof e=="string"?e:(r&&(r=KC(r)),e instanceof Function?e(n,r):`${n}${r?` (${r})`:""}`):""}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qm extends dn{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Et;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var gY={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const Zu=gY,KI={};for(const t of Object.keys(Zu))KI[Zu[t]]=t;const Qe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var GI=Qe;for(const t of Object.keys(Qe)){if(!("channels"in Qe[t]))throw new Error("missing channels property: "+t);if(!("labels"in Qe[t]))throw new Error("missing channel labels property: "+t);if(Qe[t].labels.length!==Qe[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=Qe[t];delete Qe[t].channels,delete Qe[t].labels,Object.defineProperty(Qe[t],"channels",{value:e}),Object.defineProperty(Qe[t],"labels",{value:n})}Qe.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=s-i;let a,l;s===i?a=0:e===s?a=(n-r)/o:n===s?a=2+(r-e)/o:r===s&&(a=4+(e-n)/o),a=Math.min(a*60,360),a<0&&(a+=360);const c=(i+s)/2;return s===i?l=0:c<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,c*100]};Qe.rgb.hsv=function(t){let e,n,r,i,s;const o=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(o,a,l),u=c-Math.min(o,a,l),d=function(f){return(c-f)/6/u+1/2};return u===0?(i=0,s=0):(s=u/c,e=d(o),n=d(a),r=d(l),o===c?i=r-n:a===c?i=1/3+e-r:l===c&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};Qe.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const i=Qe.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};Qe.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,o=(1-n-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function vY(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}Qe.rgb.keyword=function(t){const e=KI[t];if(e)return e;let n=1/0,r;for(const i of Object.keys(Zu)){const s=Zu[i],o=vY(t,s);o<n&&(n=o,r=i)}return r};Qe.keyword.rgb=function(t){return Zu[t]};Qe.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,o=e*.0193+n*.1192+r*.9505;return[i*100,s*100,o*100]};Qe.rgb.lab=function(t){const e=Qe.rgb.xyz(t);let n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*r-16,o=500*(n-r),a=200*(r-i);return[s,o,a]};Qe.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let i,s,o;if(n===0)return o=r*255,[o,o,o];r<.5?i=r*(1+n):i=r+n-r*n;const a=2*r-i,l=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,l[c]=o*255;return l};Qe.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,i=n;const s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;const o=(r+n)/2,a=r===0?2*i/(s+i):2*n/(r+n);return[e,a*100,o*100]};Qe.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const i=Math.floor(e)%6,s=e-Math.floor(e),o=255*r*(1-n),a=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};Qe.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01);let s,o;o=(2-n)*r;const a=(2-n)*i;return s=n*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};Qe.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const i=n+r;let s;i>1&&(n/=i,r/=i);const o=Math.floor(6*e),a=1-r;s=6*e-o,o&1&&(s=1-s);const l=n+s*(a-n);let c,u,d;switch(o){default:case 6:case 0:c=a,u=l,d=n;break;case 1:c=l,u=a,d=n;break;case 2:c=n,u=a,d=l;break;case 3:c=n,u=l,d=a;break;case 4:c=l,u=n,d=a;break;case 5:c=a,u=n,d=l;break}return[c*255,u*255,d*255]};Qe.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[s*255,o*255,a*255]};Qe.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let i,s,o;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,o=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};Qe.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*n-16,s=500*(e-n),o=200*(n-r);return[i,s,o]};Qe.lab.xyz=function(t){const e=t[0],n=t[1],r=t[2];let i,s,o;s=(e+16)/116,i=n/500+s,o=s-r/200;const a=s**3,l=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};Qe.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(n*n+r*r);return[e,o,i]};Qe.lch.lab=function(t){const e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),o=n*Math.sin(i);return[e,s,o]};Qe.rgb.ansi16=function(t,e=null){const[n,r,i]=t;let s=e===null?Qe.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(o+=60),o};Qe.hsv.ansi16=function(t){return Qe.rgb.ansi16(Qe.hsv.rgb(t),t[2])};Qe.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};Qe.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};Qe.ansi256.rgb=function(t){if(t>=232){const s=(t-232)*10+8;return[s,s,s]}t-=16;let e;const n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};Qe.rgb.hex=function(t){const n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};Qe.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(a=>a+a).join(""));const r=parseInt(n,16),i=r>>16&255,s=r>>8&255,o=r&255;return[i,s,o]};Qe.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),o=i-s;let a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===e?l=(n-r)/o%6:i===n?l=2+(r-e)/o:l=4+(e-n)/o,l/=6,l%=1,[l*360,o*100,a*100]};Qe.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};Qe.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};Qe.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];const i=[0,0,0],s=e%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};Qe.hcg.hsv=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);let i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};Qe.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};Qe.hcg.hwb=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};Qe.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,i=r-e;let s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};Qe.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Qe.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Qe.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Qe.gray.hsl=function(t){return[0,0,t[0]]};Qe.gray.hsv=Qe.gray.hsl;Qe.gray.hwb=function(t){return[0,100,t[0]]};Qe.gray.cmyk=function(t){return[0,0,0,t[0]]};Qe.gray.lab=function(t){return[t[0],0,0]};Qe.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};Qe.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const zh=GI;function bY(){const t={},e=Object.keys(zh);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function yY(t){const e=bY(),n=[t];for(e[t].distance=0;n.length;){const r=n.pop(),i=Object.keys(zh[r]);for(let s=i.length,o=0;o<s;o++){const a=i[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(a))}}return e}function wY(t,e){return function(n){return e(t(n))}}function _Y(t,e){const n=[e[t].parent,t];let r=zh[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=wY(zh[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}var CY=function(t){const e=yY(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){const o=r[s];e[o].parent!==null&&(n[o]=_Y(o,e))}return n};const gb=GI,kY=CY,qc={},SY=Object.keys(gb);function EY(t){const e=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function TY(t){const e=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const i=t(n);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}SY.forEach(t=>{qc[t]={},Object.defineProperty(qc[t],"channels",{value:gb[t].channels}),Object.defineProperty(qc[t],"labels",{value:gb[t].labels});const e=kY(t);Object.keys(e).forEach(r=>{const i=e[r];qc[t][r]=TY(i),qc[t][r].raw=EY(i)})});/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YI extends Et{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${hs()}`;const n=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:n.to("for")},children:[{text:n.to("text")}]})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QI extends Et{constructor(e,n){super(e);const r=`ck-labeled-field-view-${hs()}`,i=`ck-labeled-field-view-status-${hs()}`;this.fieldView=n(this,r,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,a)=>o||a);const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",o=>!o),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const n=new YI(this.locale);return n.for=e,n.bind("text").to(this,"label"),n}_createStatusView(e){const n=new Et(this.locale),r=this.bindTemplate;return n.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",i=>!i)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),n}focus(){this.fieldView.focus()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AY extends Et{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Hi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",n.if("isFocused","ck-input_focused"),n.if("isEmpty","ck-input-text_empty"),n.if("hasError","ck-error")],id:n.to("id"),placeholder:n.to("placeholder"),readonly:n.to("isReadOnly"),inputmode:n.to("inputMode"),"aria-invalid":n.if("hasError",!0),"aria-describedby":n.to("ariaDescribedById")},on:{input:n.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:n.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,n,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=xY(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function xY(t){return!t.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PY extends AY{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IY extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",n.to("position",r=>`ck-dropdown__panel_${r}`),n.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:n.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():en("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nc extends Et{constructor(e,n,r){super(e);const i=this.bindTemplate;this.buttonView=n,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Ys,this.focusTracker=new Hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[n,r]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(n,r,i)=>{i&&(this.panelPosition==="auto"?this.panelView.position=nc._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(n,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(n,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(n,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:n,southEast:r,southWest:i,northEast:s,northWest:o,southMiddleEast:a,southMiddleWest:l,northMiddleEast:c,northMiddleWest:u}=nc.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,i,a,l,e,s,o,c,u,n]:[i,r,l,a,e,o,s,u,c,n]}}nc.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)*3/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)*3/4,name:"nmw"})};nc._getOptimalPosition=NI;const JI='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class OY extends dn{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ga;return e.content=JI,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Od{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const n in e.actions){let r=e.actions[n];typeof r=="string"&&(r=[r]);for(const i of r)e.keystrokeHandler.set(i,(s,o)=>{this[n](),o()})}}get first(){return this.focusables.find(_g)||null}get last(){return this.focusables.filter(_g).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((n,r)=>{const i=n.element===this.focusTracker.focusedElement;return i&&(e=r),i}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const n=this.current,r=this.focusables.length;if(!r)return null;if(n===null)return this[e===1?"first":"last"];let i=(n+r+e)%r;do{const s=this.focusables.get(i);if(_g(s))return s;i=(i+r+e)%r}while(i!==n);return null}}function _g(t){return!!(t.focus&&Fa(t.element))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XI extends Et{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RY extends Et{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function MY(t){return t.bindTemplate.to(e=>{e.target===t.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ZI(t){return Array.isArray(t)?{items:t,removeItems:[]}:t?Object.assign({items:[],removeItems:[]},t):{items:[],removeItems:[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fe extends Kt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",tk,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",tk),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function tk(t){t.return=!1,t.stop()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pt extends Kt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",n=>{if(!this.affectsData)return;const r=e.model.document.selection,s=!(r.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(n.return=!1,n.stop())},{priority:"highest"}),this.on("execute",n=>{this.isEnabled||n.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",nk,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",nk),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function nk(t){t.return=!1,t.stop()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eO extends Yt(){constructor(e,n=[],r=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const i of n)i.pluginName&&this._availablePlugins.set(i.pluginName,i);this._contextPlugins=new Map;for(const[i,s]of r)this._contextPlugins.set(i,s),this._contextPlugins.set(s,i),i.pluginName&&this._availablePlugins.set(i.pluginName,i)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const n=this._plugins.get(e);if(!n){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new j("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return n}has(e){return this._plugins.has(e)}init(e,n=[],r=[]){const i=this,s=this._context;h(e),p(e);const o=e.filter(C=>!d(C,n)),a=[...m(o)];E(a,r);const l=T(a);return _(l,"init").then(()=>_(l,"afterInit")).then(()=>l);function c(C){return typeof C=="function"}function u(C){return c(C)&&!!C.isContextPlugin}function d(C,k){return k.some(S=>S===C||f(C)===S||f(S)===C)}function f(C){return c(C)?C.pluginName||C.name:C}function h(C,k=new Set){C.forEach(S=>{c(S)&&(k.has(S)||(k.add(S),S.pluginName&&!i._availablePlugins.has(S.pluginName)&&i._availablePlugins.set(S.pluginName,S),S.requires&&h(S.requires,k)))})}function m(C,k=new Set){return C.map(S=>c(S)?S:i._availablePlugins.get(S)).reduce((S,O)=>k.has(O)?S:(k.add(O),O.requires&&(p(O.requires,O),m(O.requires,k).forEach(D=>S.add(D))),S.add(O)),new Set)}function p(C,k=null){C.map(S=>c(S)?S:i._availablePlugins.get(S)||S).forEach(S=>{y(S,k),v(S,k),b(S,k)})}function y(C,k){if(!c(C))throw k?new j("plugincollection-soft-required",s,{missingPlugin:C,requiredBy:f(k)}):new j("plugincollection-plugin-not-found",s,{plugin:C})}function v(C,k){if(u(k)&&!u(C))throw new j("plugincollection-context-required",s,{plugin:f(C),requiredBy:f(k)})}function b(C,k){if(k&&d(C,n))throw new j("plugincollection-required",s,{plugin:f(C),requiredBy:f(k)})}function T(C){return C.map(k=>{let S=i._contextPlugins.get(k);return S=S||new k(s),i._add(k,S),S})}function _(C,k){return C.reduce((S,O)=>!O[k]||i._contextPlugins.has(O)?S:S.then(O[k].bind(O)),Promise.resolve())}function E(C,k){for(const S of k){if(typeof S!="function")throw new j("plugincollection-replace-plugin-invalid-type",null,{pluginItem:S});const O=S.pluginName;if(!O)throw new j("plugincollection-replace-plugin-missing-name",null,{pluginItem:S});if(S.requires&&S.requires.length)throw new j("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:O});const D=i._availablePlugins.get(O);if(!D)throw new j("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:O});const te=C.indexOf(D);if(te===-1){if(i._contextPlugins.has(D))return;throw new j("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:O})}if(D.requires&&D.requires.length)throw new j("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:O});C.splice(te,1,S),i._availablePlugins.set(O,S)}}}destroy(){const e=[];for(const[,n]of this)typeof n.destroy=="function"&&!this._contextPlugins.has(n)&&e.push(n.destroy());return Promise.all(e)}_add(e,n){this._plugins.set(e,n);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new j("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,n)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tO{constructor(e){this._contextOwner=null,this.config=new xI(e,this.constructor.defaultConfig);const n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new eO(this,n);const r=this.config.get("language")||{};this.locale=new KG({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Ui}initPlugins(){const e=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[];for(const r of e.concat(n)){if(typeof r!="function")throw new j("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new j("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(e,[],n)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,n){if(this._contextOwner)throw new j("context-addeditor-private-context");this.editors.add(e),n&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const n of this.config.names())["plugins","removePlugins","extraPlugins"].includes(n)||(e[n]=this.config.get(n));return e}static create(e){return new Promise(n=>{const r=new this(e);n(r.initPlugins().then(()=>r))})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nO extends Kt(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ih=new WeakMap;let rk=!1;function rO({view:t,element:e,text:n,isDirectHost:r=!0,keepOnFocus:i=!1}){const s=t.document;ih.has(s)||(ih.set(s,new Map),s.registerPostFixer(a=>Cg(s,a)),s.on("change:isComposing",()=>{t.change(a=>Cg(s,a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,l,c)=>{o(c)}),e.placeholder?o(e.placeholder):n&&o(n),n&&$Y();function o(a){ih.get(s).set(e,{text:a,isDirectHost:r,keepOnFocus:i,hostElement:r?e:null}),t.change(l=>Cg(s,l))}}function DY(t,e){return e.hasClass("ck-placeholder")?!1:(t.addClass("ck-placeholder",e),!0)}function NY(t,e){return e.hasClass("ck-placeholder")?(t.removeClass("ck-placeholder",e),!0):!1}function FY(t,e){if(!t.isAttached()||Array.from(t.getChildren()).some(o=>!o.is("uiElement")))return!1;const r=t.document,s=r.selection.anchor;return r.isComposing&&s&&s.parent===t?!1:e||!r.isFocused?!0:!!s&&s.parent!==t}function Cg(t,e){const n=ih.get(t),r=[];let i=!1;for(const[s,o]of n)o.isDirectHost&&(r.push(s),ik(e,s,o)&&(i=!0));for(const[s,o]of n){if(o.isDirectHost)continue;const a=LY(s);a&&(r.includes(a)||(o.hostElement=a,ik(e,s,o)&&(i=!0)))}return i}function ik(t,e,n){const{text:r,isDirectHost:i,hostElement:s}=n;let o=!1;return s.getAttribute("data-placeholder")!==r&&(t.setAttribute("data-placeholder",r,s),o=!0),(i||e.childCount==1)&&FY(s,n.keepOnFocus)?DY(t,s)&&(o=!0):NY(t,s)&&(o=!0),o}function LY(t){if(t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function $Y(){rk||en("enableplaceholder-deprecated-text-option"),rk=!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ya=class{is(){throw new Error("is() method is abstract")}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Qa=class extends Yt(Ya){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new j("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.index),n=n.parent;return e}getAncestors(e={}){const n=[];let r=e.includeSelf?this:this.parent;for(;r;)n[e.parentFirst?"push":"unshift"](r),r=r.parent;return n}getCommonAncestor(e,n={}){const r=this.getAncestors(n),i=e.getAncestors(n);let s=0;for(;r[s]==i[s]&&r[s];)s++;return s===0?null:r[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),r=e.getPath(),i=kr(n,r);switch(i){case"prefix":return!0;case"extension":return!1;default:return n[i]<r[i]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,n){this.fire(`change:${e}`,n),this.parent&&this.parent._fireChange(e,n)}toJSON(){const e=bx(this);return delete e.parent,e}};Qa.prototype.is=function(t){return t==="node"||t==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let on=class vb extends Qa{constructor(e,n){super(e),this._textData=n}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof vb?this===e||this.data===e.data:!1}_clone(){return new vb(this.document,this.data)}};on.prototype.is=function(t){return t==="$text"||t==="view:$text"||t==="text"||t==="view:text"||t==="node"||t==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Xi=class extends Ya{constructor(e,n,r){if(super(),this.textNode=e,n<0||n>e.data.length)throw new j("view-textproxy-wrong-offsetintext",this);if(r<0||n+r>e.data.length)throw new j("view-textproxy-wrong-length",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const n=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)n[e.parentFirst?"push":"unshift"](r),r=r.parent;return n}};Xi.prototype.is=function(t){return t==="$textProxy"||t==="view:$textProxy"||t==="textProxy"||t==="view:textProxy"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ed{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let n of e)(typeof n=="string"||n instanceof RegExp)&&(n={name:n}),this._patterns.push(n)}match(...e){for(const n of e)for(const r of this._patterns){const i=sk(n,r);if(i)return{element:n,pattern:r,match:i}}return null}matchAll(...e){const n=[];for(const r of e)for(const i of this._patterns){const s=sk(r,i);s&&n.push({element:r,pattern:i,match:s})}return n.length>0?n:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],n=e.name;return typeof e!="function"&&n&&!(n instanceof RegExp)?n:null}}function sk(t,e){if(typeof e=="function")return e(t);const n={};return e.name&&(n.name=BY(e.name,t.name),!n.name)||e.attributes&&(n.attributes=HY(e.attributes,t),!n.attributes)||e.classes&&(n.classes=jY(e.classes,t),!n.classes)||e.styles&&(n.styles=WY(e.styles,t),!n.styles)?null:n}function BY(t,e){return t instanceof RegExp?!!e.match(t):t===e}function Gy(t,e,n){const r=VY(t),i=Array.from(e),s=[];if(r.forEach(([o,a])=>{i.forEach(l=>{zY(o,l)&&UY(a,l,n)&&s.push(l)})}),!(!r.length||s.length<r.length))return s}function VY(t){return Array.isArray(t)?t.map(e=>Qr(e)?((e.key===void 0||e.value===void 0)&&en("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):Qr(t)?Object.entries(t):[[t,!0]]}function zY(t,e){return t===!0||t===e||t instanceof RegExp&&e.match(t)}function UY(t,e,n){if(t===!0)return!0;const r=n(e);return t===r||t instanceof RegExp&&!!String(r).match(t)}function HY(t,e){const n=new Set(e.getAttributeKeys());return Qr(t)?(t.style!==void 0&&en("matcher-pattern-deprecated-attributes-style-key",t),t.class!==void 0&&en("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class")),Gy(t,n,r=>e.getAttribute(r))}function jY(t,e){return Gy(t,e.getClassNames(),()=>{})}function WY(t,e){return Gy(t,e.getStyleNames(!0),n=>e.getStyle(n))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qY{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const n=Array.from(GY(e).entries());for(const[r,i]of n)this._styleProcessor.toNormalizedForm(r,i,this._styles)}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(r)}set(e,n){if(ln(e))for(const[r,i]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,i,this._styles);else this._styleProcessor.toNormalizedForm(e,n,this._styles)}remove(e){const n=bb(e);iV(this._styles,n),delete this._styles[e],this._cleanEmptyObjectsOnPath(n)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!ln(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);if(Array.isArray(r))return r[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([r])=>r)}clear(){this._styles={}}_getStylesEntries(){const e=[],n=Object.keys(this._styles);for(const r of n)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_cleanEmptyObjectsOnPath(e){const n=e.split(".");if(!(n.length>1))return;const i=n.splice(0,n.length-1).join("."),s=Zn(this._styles,i);if(!s)return;!Array.from(Object.keys(s)).length&&this.remove(i)}}class KY{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,n,r){if(ln(n)){kg(r,bb(e),n);return}if(this._normalizers.has(e)){const i=this._normalizers.get(e),{path:s,value:o}=i(n);kg(r,s,o)}else kg(r,e,n)}getNormalized(e,n){if(!e)return Sx({},n);if(n[e]!==void 0)return n[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if(typeof r=="string")return Zn(n,r);const i=r(e,n);if(i)return i}return Zn(n,bb(e))}getReducedForm(e,n){const r=this.getNormalized(e,n);return r===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(r):[[e,r]]}getStyleNames(e){const n=Array.from(this._consumables.keys()).filter(i=>{const s=this.getNormalized(i,e);return s&&typeof s=="object"?Object.keys(s).length:s}),r=new Set([...n,...Object.keys(e)]);return Array.from(r.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,n){this._normalizers.set(e,n)}setExtractor(e,n){this._extractors.set(e,n)}setReducer(e,n){this._reducers.set(e,n)}setStyleRelation(e,n){this._mapStyleNames(e,n);for(const r of n)this._mapStyleNames(r,[e])}_mapStyleNames(e,n){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...n)}}function GY(t){let e=null,n=0,r=0,i=null;const s=new Map;if(t==="")return s;t.charAt(t.length-1)!=";"&&(t=t+";");for(let o=0;o<t.length;o++){const a=t.charAt(o);if(e===null)switch(a){case":":i||(i=t.substr(n,o-n),r=o+1);break;case'"':case"'":e=a;break;case";":{const l=t.substr(r,o-r);i&&s.set(i.trim(),l.trim()),i=null,n=o+1;break}}else a===e&&(e=null)}return s}function bb(t){return t.replace("-",".")}function kg(t,e,n){let r=n;ln(n)&&(r=Sx({},Zn(t,e),n)),nV(t,e,r)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Bi=class iO extends Qa{constructor(e,n,r,i){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=n,this._attrs=YY(r),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const s=this._attrs.get("class");ok(this._classes,s),this._attrs.delete("class")}this._styles=new qY(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const n=this._styles.toString();return n==""?void 0:n}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof iO))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[n,r]of this._attrs)if(!e._attrs.has(n)||e._attrs.get(n)!==r)return!1;for(const n of this._classes)if(!e._classes.has(n))return!1;for(const n of this._styles.getStyleNames())if(!e._styles.has(n)||e._styles.getAsString(n)!==this._styles.getAsString(n))return!1;return!0}hasClass(...e){for(const n of e)if(!this._classes.has(n))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const n of e)if(!this._styles.has(n))return!1;return!0}findAncestor(...e){const n=new ed(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(n.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),n=this._styles.toString(),r=Array.from(this._attrs).map(i=>`${i[0]}="${i[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(n?` style="${n}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const n=[];if(e)for(const i of this.getChildren())n.push(i._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,n);return r._classes=new Set(this._classes),r._styles.set(this._styles.getNormalized()),r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,n){this._fireChange("children",this);let r=0;const i=QY(this.document,n);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,r++;return r}_removeChildren(e,n=1){this._fireChange("children",this);for(let r=e;r<e+n;r++)this._children[r].parent=null;return this._children.splice(e,n)}_setAttribute(e,n){const r=String(n);this._fireChange("attributes",this),e=="class"?ok(this._classes,r):e=="style"?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const n of sr(e))this._classes.add(n)}_removeClass(e){this._fireChange("attributes",this);for(const n of sr(e))this._classes.delete(n)}_setStyle(e,n){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,n)}_removeStyle(e){this._fireChange("attributes",this);for(const n of sr(e))this._styles.remove(n)}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Bi.prototype.is=function(t,e){return e?e===this.name&&(t==="element"||t==="view:element"):t==="element"||t==="view:element"||t==="node"||t==="view:node"};function YY(t){const e=Bs(t);for(const[n,r]of e)r===null?e.delete(n):typeof r!="string"&&e.set(n,String(r));return e}function ok(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(r=>t.add(r))}function QY(t,e){return typeof e=="string"?[new on(t,e)]:(si(e)||(e=[e]),Array.from(e).map(n=>typeof n=="string"?new on(t,n):n instanceof Xi?new on(t,n.data):n))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class td extends Bi{constructor(e,n,r,i){super(e,n,r,i),this.getFillerOffset=sO}}td.prototype.is=function(t,e){return e?e===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function sO(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jm extends Kt(td){constructor(e,n,r,i){super(e,n,r,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",s=>s&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Jm.prototype.is=function(t,e){return e?e===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ak=Symbol("rootName");class oO extends Jm{constructor(e,n){super(e,n),this.rootName="main"}get rootName(){return this.getCustomProperty(ak)}set rootName(e){this._setCustomProperty(ak,e)}set _name(e){this.name=e}}oO.prototype.is=function(t,e){return e?e===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let la=class{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new j("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new j("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Ve._createAt(e.startPosition):this._position=Ve._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,r;do r=this.position,n=this.next();while(!n.done&&e(n.value));n.done||(this._position=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const n=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(r instanceof on){if(e.isAtEnd)return this._position=Ve._createAfter(r),this._next();i=r.data[e.offset]}else i=r.getChild(e.offset);if(i instanceof Bi){if(!this.shallow)e=new Ve(i,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",i,n,e,1)}if(i instanceof on){if(this.singleCharacters)return e=new Ve(i,0),this._position=e,this._next();let s=i.data.length,o;return i==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new Xi(i,0,s),e=Ve._createAfter(o)):(o=new Xi(i,0,i.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,n,e,s)}if(typeof i=="string"){let s;this.singleCharacters?s=1:s=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const o=new Xi(r,e.offset,s);return e.offset+=s,this._position=e,this._formatReturnValue("text",o,n,e,s)}return e=Ve._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,n,e)}_previous(){let e=this.position.clone();const n=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(r instanceof on){if(e.isAtStart)return this._position=Ve._createBefore(r),this._previous();i=r.data[e.offset-1]}else i=r.getChild(e.offset-1);if(i instanceof Bi)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",i,n,e,1)):(e=new Ve(i,i.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,n,e));if(i instanceof on){if(this.singleCharacters)return e=new Ve(i,i.data.length),this._position=e,this._previous();let s=i.data.length,o;if(i==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new Xi(i,a,i.data.length-a),s=o.data.length,e=Ve._createBefore(o)}else o=new Xi(i,0,i.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,n,e,s)}if(typeof i=="string"){let s;if(this.singleCharacters)s=1;else{const a=r===this._boundaryStartParent?this.boundaries.start.offset:0;s=e.offset-a}e.offset-=s;const o=new Xi(r,e.offset,s);return this._position=e,this._formatReturnValue("text",o,n,e,s)}return e=Ve._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,n,e,1)}_formatReturnValue(e,n,r,i,s){return n instanceof Xi&&(n.offsetInText+n.data.length==n.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(i=Ve._createAfter(n.textNode),this._position=i):r=Ve._createAfter(n.textNode)),n.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(i=Ve._createBefore(n.textNode),this._position=i):r=Ve._createBefore(n.textNode))),{done:!1,value:{type:e,item:n,previousPosition:r,nextPosition:i,length:s}}}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ve=class Ss extends Ya{constructor(e,n){super(),this.parent=e,this.offset=n}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Jm);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const n=Ss._createAt(this),r=n.offset+e;return n.offset=r<0?0:r,n}getLastMatchingPosition(e,n={}){n.startPosition=this;const r=new la(n);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const n=this.getAncestors(),r=e.getAncestors();let i=0;for(;n[i]==r[i]&&n[i];)i++;return i===0?null:n[i-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const n=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];n.push(this.offset),r.push(e.offset);const i=kr(n,r);switch(i){case"prefix":return"before";case"extension":return"after";default:return n[i]<r[i]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new la(e)}clone(){return new Ss(this.parent,this.offset)}static _createAt(e,n){if(e instanceof Ss)return new this(e.parent,e.offset);{const r=e;if(n=="end")n=r.is("$text")?r.data.length:r.childCount;else{if(n=="before")return this._createBefore(r);if(n=="after")return this._createAfter(r);if(n!==0&&!n)throw new j("view-createpositionat-offset-required",r)}return new Ss(r,n)}}static _createAfter(e){if(e.is("$textProxy"))return new Ss(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new j("view-position-after-root",e,{root:e});return new Ss(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ss(e.textNode,e.offsetInText);if(!e.parent)throw new j("view-position-before-root",e,{root:e});return new Ss(e.parent,e.index)}};Ve.prototype.is=function(t){return t==="position"||t==="view:position"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ht=class co extends Ya{constructor(e,n=null){super(),this.start=e.clone(),this.end=n?n.clone():e.clone()}*[Symbol.iterator](){yield*new la({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Cf,{direction:"backward"}),n=this.end.getLastMatchingPosition(Cf);return e.parent.is("$text")&&e.isAtStart&&(e=Ve._createBefore(e.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=Ve._createAfter(n.parent)),new co(e,n)}getTrimmed(){let e=this.start.getLastMatchingPosition(Cf);if(e.isAfter(this.end)||e.isEqual(this.end))return new co(e,e);let n=this.end.getLastMatchingPosition(Cf,{direction:"backward"});const r=e.nodeAfter,i=n.nodeBefore;return r&&r.is("$text")&&(e=new Ve(r,0)),i&&i.is("$text")&&(n=new Ve(i,i.data.length)),new co(e,n)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const r=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return r&&i}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new co(this.start,e.start)),this.containsPosition(e.end)&&n.push(new co(e.end,this.end))):n.push(this.clone()),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,r=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(r=e.end),new co(n,r)}return null}getWalker(e={}){return e.boundaries=this,new la(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,n=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(n=this.end.parent.previousSibling),e&&e.is("element")&&e===n?e:null}clone(){return new co(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new la(e);for(const r of n)yield r.item}*getPositions(e={}){e.boundaries=this;const n=new la(e);yield n.position;for(const r of n)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,n,r,i){return new this(new Ve(e,n),new Ve(r,i))}static _createFromPositionAndShift(e,n){const r=e,i=e.getShiftedBy(n);return n>0?new this(r,i):new this(i,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const n=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ve._createBefore(e),n)}};ht.prototype.is=function(t){return t==="range"||t==="view:range"};function Cf(t){return!!(t.item.is("attributeElement")||t.item.is("uiElement"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Oo=class aO extends Yt(Ya){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const n of this._ranges)(!e||n.start.isBefore(e.start))&&(e=n);return e?e.clone():null}getLastRange(){let e=null;for(const n of this._ranges)(!e||n.end.isAfter(e.end))&&(e=n);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let r=!1;for(const i of e._ranges)if(n.isEqual(i)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const n=ub(this.getRanges()),r=ub(e.getRanges());if(n!=r)return!1;if(n==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let s=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),i.start.isEqual(o.start)&&i.end.isEqual(o.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[n,r,i]=e;if(typeof r=="object"&&(i=r,r=void 0),n===null)this._setRanges([]),this._setFakeOptions(i);else if(n instanceof aO||n instanceof Yy)this._setRanges(n.getRanges(),n.isBackward),this._setFakeOptions({fake:n.isFake,label:n.fakeSelectionLabel});else if(n instanceof ht)this._setRanges([n],i&&i.backward),this._setFakeOptions(i);else if(n instanceof Ve)this._setRanges([new ht(n)]),this._setFakeOptions(i);else if(n instanceof Qa){const s=!!i&&!!i.backward;let o;if(r===void 0)throw new j("view-selection-setto-required-second-parameter",this);r=="in"?o=ht._createIn(n):r=="on"?o=ht._createOn(n):o=new ht(Ve._createAt(n,r)),this._setRanges([o],s),this._setFakeOptions(i)}else if(si(n))this._setRanges(n,i&&i.backward),this._setFakeOptions(i);else throw new j("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,n){if(this.anchor===null)throw new j("view-selection-setfocus-no-ranges",this);const r=Ve._createAt(e,n);if(r.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.pop(),r.compareWith(i)=="before"?this._addRange(new ht(r,i),!0):this._addRange(new ht(i,r)),this.fire("change")}_setRanges(e,n=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!n}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,n=!1){if(!(e instanceof ht))throw new j("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!n}_pushRange(e){for(const n of this._ranges)if(e.isIntersecting(n))throw new j("view-selection-range-intersects",this,{addedRange:e,intersectingRange:n});this._ranges.push(new ht(e.start,e.end))}};Oo.prototype.is=function(t){return t==="selection"||t==="view:selection"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Yy=class extends Yt(Ya){constructor(...e){super(),this._selection=new Oo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,n){this._selection.setFocus(e,n)}};Yy.prototype.is=function(t){return t==="selection"||t=="documentSelection"||t=="view:selection"||t=="view:documentSelection"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pc extends $s{constructor(e,n,r){super(e,n),this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Sg=Symbol("bubbling contexts");function yb(t){class e extends t{fire(r,...i){try{const s=r instanceof $s?r:new $s(this,r),o=Eg(this);if(!o.size)return;if(Kc(s,"capturing",this),cl(o,"$capture",s,...i))return s.return;const a=s.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,c=l?!!lO(o,l):!1;let u=l||JY(a);if(Kc(s,"atTarget",u),!c){if(cl(o,"$text",s,...i))return s.return;Kc(s,"bubbling",u)}for(;u;){if(u.is("rootElement")){if(cl(o,"$root",s,...i))return s.return}else if(u.is("element")&&cl(o,u.name,s,...i))return s.return;if(cl(o,u,s,...i))return s.return;u=u.parent,Kc(s,"bubbling",u)}return Kc(s,"bubbling",this),cl(o,"$document",s,...i),s.return}catch(s){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(s,this)}}_addEventListener(r,i,s){const o=sr(s.context||"$document"),a=Eg(this);for(const l of o){let c=a.get(l);c||(c=new(Yt()),a.set(l,c)),this.listenTo(c,r,i,s)}}_removeEventListener(r,i){const s=Eg(this);for(const o of s.values())this.stopListening(o,r,i)}}return e}{const t=yb(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{yb[e]=t.prototype[e]})}function Kc(t,e,n){t instanceof Pc&&(t._eventPhase=e,t._currentTarget=n)}function cl(t,e,n,...r){const i=typeof e=="string"?t.get(e):lO(t,e);return i?(i.fire(n,...r),n.stop.called):!1}function lO(t,e){for(const[n,r]of t)if(typeof n=="function"&&n(e))return r;return null}function Eg(t){return t[Sg]||(t[Sg]=new Map),t[Sg]}function JY(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,r=e.getPath(),i=n.getPath();return r.length>i.length?e:n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let cO=class extends yb(Kt()){constructor(e){super(),this._postFixers=new Set,this.selection=new Yy,this.roots=new Ui({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let n=!1;do for(const r of this._postFixers)if(n=r(e),n)break;while(n)}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const uO=10;class ya extends Bi{constructor(e,n,r,i){super(e,n,r,i),this._priority=uO,this._id=null,this._clonesGroup=null,this.getFillerOffset=XY}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new j("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const n=super._clone(e);return n._priority=this._priority,n._id=this._id,n}}ya.DEFAULT_PRIORITY=uO;ya.prototype.is=function(t,e){return e?e===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function XY(){if(Tg(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(Tg(t)>1)return null;t=t.parent}return!t||Tg(t)>1?null:this.childCount}function Tg(t){return Array.from(t.getChildren()).filter(e=>!e.is("uiElement")).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qy extends Bi{constructor(e,n,r,i){super(e,n,r,i),this.getFillerOffset=ZY}_insertChild(e,n){if(n&&(n instanceof Qa||Array.from(n).length>0))throw new j("view-emptyelement-cannot-add",[this,n]);return 0}}Qy.prototype.is=function(t,e){return e?e===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function ZY(){return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xm extends Bi{constructor(e,n,r,i){super(e,n,r,i),this.getFillerOffset=tQ}_insertChild(e,n){if(n&&(n instanceof Qa||Array.from(n).length>0))throw new j("view-uielement-cannot-add",[this,n]);return 0}render(e,n){return this.toDomElement(e)}toDomElement(e){const n=e.createElement(this.name);for(const r of this.getAttributeKeys())n.setAttribute(r,this.getAttribute(r));return n}}Xm.prototype.is=function(t,e){return e?e===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function eQ(t){t.document.on("arrowKey",(e,n)=>nQ(e,n,t.domConverter),{priority:"low"})}function tQ(){return null}function nQ(t,e,n){if(e.keyCode==It.arrowright){const r=e.domTarget.ownerDocument.defaultView.getSelection(),i=r.rangeCount==1&&r.getRangeAt(0).collapsed;if(i||e.shiftKey){const s=r.focusNode,o=r.focusOffset,a=n.domPositionToView(s,o);if(a===null)return;let l=!1;const c=a.getLastMatchingPosition(u=>(u.item.is("uiElement")&&(l=!0),!!(u.item.is("uiElement")||u.item.is("attributeElement"))));if(l){const u=n.viewPositionToDom(c);i?r.collapse(u.parent,u.offset):r.extend(u.parent,u.offset)}}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jy extends Bi{constructor(e,n,r,i){super(e,n,r,i),this.getFillerOffset=rQ}_insertChild(e,n){if(n&&(n instanceof Qa||Array.from(n).length>0))throw new j("view-rawelement-cannot-add",[this,n]);return 0}render(e,n){}}Jy.prototype.is=function(t,e){return e?e===this.name&&(t==="rawElement"||t==="view:rawElement"||t==="element"||t==="view:element"):t==="rawElement"||t==="view:rawElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function rQ(){return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let wa=class extends Yt(Ya){constructor(e,n){super(),this._children=[],this._customProperties=new Map,this.document=e,n&&this._insertChild(0,n)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,n){this._fireChange("children",this);let r=0;const i=iQ(this.document,n);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,r++;return r}_removeChildren(e,n=1){this._fireChange("children",this);for(let r=e;r<e+n;r++)this._children[r].parent=null;return this._children.splice(e,n)}_fireChange(e,n){this.fire("change:"+e,n)}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}};wa.prototype.is=function(t){return t==="documentFragment"||t==="view:documentFragment"};function iQ(t,e){return typeof e=="string"?[new on(t,e)]:(si(e)||(e=[e]),Array.from(e).map(n=>typeof n=="string"?new on(t,n):n instanceof Xi?new on(t,n.data):n))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dO{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,n){this.document.selection._setFocus(e,n)}createDocumentFragment(e){return new wa(this.document,e)}createText(e){return new on(this.document,e)}createAttributeElement(e,n,r={}){const i=new ya(this.document,e,n);return typeof r.priority=="number"&&(i._priority=r.priority),r.id&&(i._id=r.id),r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createContainerElement(e,n,r={},i={}){let s=null;Qr(r)?i=r:s=r;const o=new td(this.document,e,n,s);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEditableElement(e,n,r={}){const i=new Jm(this.document,e,n);return r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createEmptyElement(e,n,r={}){const i=new Qy(this.document,e,n);return r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createUIElement(e,n,r){const i=new Xm(this.document,e,n);return r&&(i.render=r),i}createRawElement(e,n,r,i={}){const s=new Jy(this.document,e,n);return r&&(s.render=r),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}setAttribute(e,n,r){r._setAttribute(e,n)}removeAttribute(e,n){n._removeAttribute(e)}addClass(e,n){n._addClass(e)}removeClass(e,n){n._removeClass(e)}setStyle(e,n,r){Qr(e)&&r===void 0?n._setStyle(e):r._setStyle(e,n)}removeStyle(e,n){n._removeStyle(e)}setCustomProperty(e,n,r){r._setCustomProperty(e,n)}removeCustomProperty(e,n){return n._removeCustomProperty(e)}breakAttributes(e){return e instanceof Ve?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const n=e.parent;if(!n.is("containerElement"))throw new j("view-writer-break-non-container-element",this.document);if(!n.parent)throw new j("view-writer-break-root",this.document);if(e.isAtStart)return Ve._createBefore(n);if(!e.isAtEnd){const r=n._clone(!1);this.insert(Ve._createAfter(n),r);const i=new ht(e,Ve._createAt(n,"end")),s=new Ve(r,0);this.move(i,s)}return Ve._createAfter(n)}mergeAttributes(e){const n=e.offset,r=e.parent;if(r.is("$text"))return e;if(r.is("attributeElement")&&r.childCount===0){const o=r.parent,a=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Ve(o,a))}const i=r.getChild(n-1),s=r.getChild(n);if(!i||!s)return e;if(i.is("$text")&&s.is("$text"))return ck(i,s);if(i.is("attributeElement")&&s.is("attributeElement")&&i.isSimilar(s)){const o=i.childCount;return i._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ve(i,o))}return e}mergeContainers(e){const n=e.nodeBefore,r=e.nodeAfter;if(!n||!r||!n.is("containerElement")||!r.is("containerElement"))throw new j("view-writer-merge-containers-invalid-position",this.document);const i=n.getChild(n.childCount-1),s=i instanceof on?Ve._createAt(i,"end"):Ve._createAt(n,"end");return this.move(ht._createIn(r),Ve._createAt(n,"end")),this.remove(ht._createOn(r)),s}insert(e,n){n=si(n)?[...n]:[n],fO(n,this.document);const r=n.reduce((o,a)=>{const l=o[o.length-1],c=!a.is("uiElement");return!l||l.breakAttributes!=c?o.push({breakAttributes:c,nodes:[a]}):l.nodes.push(a),o},[]);let i=null,s=e;for(const{nodes:o,breakAttributes:a}of r){const l=this._insertNodes(s,o,a);i||(i=l.start),s=l.end}return i?new ht(i,s):new ht(e)}remove(e){const n=e instanceof ht?e:ht._createOn(e);if(Gc(n,this.document),n.isCollapsed)return new wa(this.document);const{start:r,end:i}=this._breakAttributesRange(n,!0),s=r.parent,o=i.offset-r.offset,a=s._removeChildren(r.offset,o);for(const c of a)this._removeFromClonedElementsGroup(c);const l=this.mergeAttributes(r);return n.start=l,n.end=l.clone(),new wa(this.document,a)}clear(e,n){Gc(e,this.document);const r=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of r){const s=i.item;let o;if(s.is("element")&&n.isSimilar(s))o=ht._createOn(s);else if(!i.nextPosition.isAfter(e.start)&&s.is("$textProxy")){const a=s.getAncestors().find(l=>l.is("element")&&n.isSimilar(l));a&&(o=ht._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,n){let r;if(n.isAfter(e.end)){n=this._breakAttributes(n,!0);const i=n.parent,s=i.childCount;e=this._breakAttributesRange(e,!0),r=this.remove(e),n.offset+=i.childCount-s}else r=this.remove(e);return this.insert(n,r)}wrap(e,n){if(!(n instanceof ya))throw new j("view-writer-wrap-invalid-attribute",this.document);if(Gc(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&!sQ(r.parent)&&(r=r.getLastMatchingPosition(s=>s.item.is("uiElement"))),r=this._wrapPosition(r,n);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new ht(r)}else return this._wrapRange(e,n)}unwrap(e,n){if(!(n instanceof ya))throw new j("view-writer-unwrap-invalid-attribute",this.document);if(Gc(e,this.document),e.isCollapsed)return e;const{start:r,end:i}=this._breakAttributesRange(e,!0),s=r.parent,o=this._unwrapChildren(s,r.offset,i.offset,n),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ht(a,l)}rename(e,n){const r=new td(this.document,e,n.getAttributes());return this.insert(Ve._createAfter(n),r),this.move(ht._createIn(n),Ve._createAt(r,0)),this.remove(ht._createOn(n)),r}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,n){return Ve._createAt(e,n)}createPositionAfter(e){return Ve._createAfter(e)}createPositionBefore(e){return Ve._createBefore(e)}createRange(e,n){return new ht(e,n)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Oo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new j("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,n,r){let i;if(r?i=wb(e):i=e.parent.is("$text")?e.parent.parent:e.parent,!i)throw new j("view-writer-invalid-position-container",this.document);let s;r?s=this._breakAttributes(e,!0):s=e.parent.is("$text")?Ag(e):e;const o=i._insertChild(s.offset,n);for(const u of n)this._addToClonedElementsGroup(u);const a=s.getShiftedBy(o),l=this.mergeAttributes(s);l.isEqual(s)||a.offset--;const c=this.mergeAttributes(a);return new ht(l,c)}_wrapChildren(e,n,r,i){let s=n;const o=[];for(;s<r;){const l=e.getChild(s),c=l.is("$text"),u=l.is("attributeElement");if(u&&this._wrapAttributeElement(i,l))o.push(new Ve(e,s));else if(c||!u||oQ(i,l)){const d=i._clone();l._remove(),d._appendChild(l),e._insertChild(s,d),this._addToClonedElementsGroup(d),o.push(new Ve(e,s))}else this._wrapChildren(l,0,l.childCount,i);s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==n)continue;this.mergeAttributes(l).isEqual(l)||(a++,r--)}return ht._createFromParentsAndOffsets(e,n,e,r)}_unwrapChildren(e,n,r,i){let s=n;const o=[];for(;s<r;){const l=e.getChild(s);if(!l.is("attributeElement")){s++;continue}if(l.isSimilar(i)){const c=l.getChildren(),u=l.childCount;l._remove(),e._insertChild(s,c),this._removeFromClonedElementsGroup(l),o.push(new Ve(e,s),new Ve(e,s+u)),s+=u,r+=u-1;continue}if(this._unwrapAttributeElement(i,l)){o.push(new Ve(e,s),new Ve(e,s+1)),s++;continue}this._unwrapChildren(l,0,l.childCount,i),s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==n||l.offset==r)continue;this.mergeAttributes(l).isEqual(l)||(a++,r--)}return ht._createFromParentsAndOffsets(e,n,e,r)}_wrapRange(e,n){const{start:r,end:i}=this._breakAttributesRange(e,!0),s=r.parent,o=this._wrapChildren(s,r.offset,i.offset,n),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ht(a,l)}_wrapPosition(e,n){if(n.isSimilar(e.parent))return lk(e.clone());e.parent.is("$text")&&(e=Ag(e));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,e.parent._insertChild(e.offset,r);const i=new ht(e,e.getShiftedBy(1));this.wrap(i,n);const s=new Ve(r.parent,r.index);r._remove();const o=s.nodeBefore,a=s.nodeAfter;return o instanceof on&&a instanceof on?ck(o,a):lk(s)}_wrapAttributeElement(e,n){if(!uk(e,n)||e.name!==n.name||e.priority!==n.priority)return!1;for(const r of e.getAttributeKeys())if(!(r==="class"||r==="style")&&n.hasAttribute(r)&&n.getAttribute(r)!==e.getAttribute(r))return!1;for(const r of e.getStyleNames())if(n.hasStyle(r)&&n.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r==="class"||r==="style"||n.hasAttribute(r)||this.setAttribute(r,e.getAttribute(r),n);for(const r of e.getStyleNames())n.hasStyle(r)||this.setStyle(r,e.getStyle(r),n);for(const r of e.getClassNames())n.hasClass(r)||this.addClass(r,n);return!0}_unwrapAttributeElement(e,n){if(!uk(e,n)||e.name!==n.name||e.priority!==n.priority)return!1;for(const r of e.getAttributeKeys())if(!(r==="class"||r==="style")&&(!n.hasAttribute(r)||n.getAttribute(r)!==e.getAttribute(r)))return!1;if(!n.hasClass(...e.getClassNames()))return!1;for(const r of e.getStyleNames())if(!n.hasStyle(r)||n.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r==="class"||r==="style"||this.removeAttribute(r,n);return this.removeClass(Array.from(e.getClassNames()),n),this.removeStyle(Array.from(e.getStyleNames()),n),!0}_breakAttributesRange(e,n=!1){const r=e.start,i=e.end;if(Gc(e,this.document),e.isCollapsed){const l=this._breakAttributes(e.start,n);return new ht(l,l)}const s=this._breakAttributes(i,n),o=s.parent.childCount,a=this._breakAttributes(r,n);return s.offset+=s.parent.childCount-o,new ht(a,s)}_breakAttributes(e,n=!1){const r=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new j("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new j("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new j("view-writer-cannot-break-raw-element",this.document);if(!n&&i.is("$text")&&_b(i.parent)||_b(i))return e.clone();if(i.is("$text"))return this._breakAttributes(Ag(e),n);const s=i.childCount;if(r==s){const o=new Ve(i.parent,i.index+1);return this._breakAttributes(o,n)}else if(r===0){const o=new Ve(i.parent,i.index);return this._breakAttributes(o,n)}else{const o=i.index+1,a=i._clone();i.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=i.childCount-r,c=i._removeChildren(r,l);a._appendChild(c);const u=new Ve(i.parent,o);return this._breakAttributes(u,n)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const i of e.getChildren())this._addToClonedElementsGroup(i);const n=e.id;if(!n)return;let r=this._cloneGroups.get(n);r||(r=new Set,this._cloneGroups.set(n,r)),r.add(e),e._clonesGroup=r}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const i of e.getChildren())this._removeFromClonedElementsGroup(i);const n=e.id;if(!n)return;const r=this._cloneGroups.get(n);r&&r.delete(e)}}function sQ(t){return Array.from(t.getChildren()).some(e=>!e.is("uiElement"))}function wb(t){let e=t.parent;for(;!_b(e);){if(!e)return;e=e.parent}return e}function oQ(t,e){return t.priority<e.priority?!0:t.priority>e.priority?!1:t.getIdentity()<e.getIdentity()}function lk(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new Ve(e,e.data.length);const n=t.nodeAfter;return n&&n.is("$text")?new Ve(n,0):t}function Ag(t){if(t.offset==t.parent.data.length)return new Ve(t.parent.parent,t.parent.index+1);if(t.offset===0)return new Ve(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new on(t.root.document,e)),new Ve(t.parent.parent,t.parent.index+1)}function ck(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new Ve(t,n)}const aQ=[on,ya,td,Qy,Jy,Xm];function fO(t,e){for(const n of t){if(!aQ.some(r=>n instanceof r))throw new j("view-writer-insert-invalid-node-type",e);n.is("$text")||fO(n.getChildren(),e)}}function _b(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Gc(t,e){const n=wb(t.start),r=wb(t.end);if(!n||!r||n!==r)throw new j("view-writer-invalid-range-container",e)}function uk(t,e){return t.id===null&&e.id===null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hO=t=>t.createTextNode(""),mO=t=>{const e=t.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},pO=t=>{const e=t.createElement("br");return e.dataset.ckeFiller="true",e},Mi=7,nd="".repeat(Mi);function Yr(t){return typeof t=="string"?t.substr(0,Mi)===nd:An(t)&&t.data.substr(0,Mi)===nd}function iu(t){return t.data.length==Mi&&Yr(t)}function dk(t){const e=typeof t=="string"?t:t.data;return Yr(t)?e.slice(Mi):e}function lQ(t){t.document.on("arrowKey",cQ,{priority:"low"})}function cQ(t,e){if(e.keyCode==It.arrowleft){const n=e.domTarget.ownerDocument.defaultView.getSelection();if(n.rangeCount==1&&n.getRangeAt(0).collapsed){const r=n.getRangeAt(0).startContainer,i=n.getRangeAt(0).startOffset;Yr(r)&&i<=Mi&&n.collapse(r,0)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let uQ=class extends Kt(){constructor(e,n){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=n,this.set("isFocused",!1),this.set("isSelecting",!1),wt.isBlink&&!wt.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,n){if(e==="text")this.domConverter.mapViewToDom(n.parent)&&this.markedTexts.add(n);else{if(!this.domConverter.mapViewToDom(n))return;if(e==="attributes")this.markedAttributes.add(n);else if(e==="children")this.markedChildren.add(n);else throw new j("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!wt.isAndroid)return;let e=null;const n=wt.isBlink&&!wt.isAndroid?!this.isSelecting:!0;for(const r of this.markedChildren)this._updateChildrenMappings(r);n?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ve._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(n)if(e){const r=this.domConverter.viewPositionToDom(e),i=r.parent.ownerDocument;Yr(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=fk(i,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const r=Array.from(this.domConverter.mapViewToDom(e).childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(r,i),o=this._findUpdateActions(s,r,i,fQ);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const l of o)if(l==="update"){const c=a.equal+a.insert,u=a.equal+a.delete,d=e.getChild(c);d&&!(d.is("uiElement")||d.is("rawElement"))&&this._updateElementMappings(d,r[u]),jC(i[c]),a.equal++}else a[l]++}}_updateElementMappings(e,n){this.domConverter.unbindDomElement(n),this.domConverter.bindElements(n,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ve._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=this.domConverter.viewPositionToDom(e);return!!(n&&An(n.parent)&&Yr(n.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Yr(e))throw new j("view-renderer-filler-was-lost",this);iu(e)?e.remove():e.data=e.data.substr(Mi),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(n.root)||!n.is("element")||!dQ(n)||r===n.getFillerOffset())return!1;const i=e.nodeBefore,s=e.nodeAfter;return!(i instanceof on||s instanceof on||wt.isAndroid&&(i||s))}_updateText(e,n){const r=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const o=n.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(s=nd+s),hk(r,s)}_updateAttrs(e){const n=this.domConverter.mapViewToDom(e);if(!n)return;const r=Array.from(n.attributes).map(s=>s.name),i=e.getAttributeKeys();for(const s of i)this.domConverter.setDomElementAttribute(n,s,e.getAttribute(s),e);for(const s of r)e.hasAttribute(s)||this.domConverter.removeDomElementAttribute(n,s)}_updateChildren(e,n){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(wt.isAndroid){let d=null;for(const f of Array.from(r.childNodes)){if(d&&An(d)&&An(f)){r.normalize();break}d=f}}const i=n.inlineFillerPosition,s=r.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));i&&i.parent===e&&fk(r.ownerDocument,o,i.offset);const a=this._diffNodeLists(s,o),l=this._findUpdateActions(a,s,o,hQ);let c=0;const u=new Set;for(const d of l)d==="delete"?(u.add(s[c]),jC(s[c])):(d==="equal"||d==="update")&&c++;c=0;for(const d of l)d==="insert"?(DI(r,c,o[c]),c++):d==="update"?(hk(s[c],o[c].data),c++):d==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[c])),c++);for(const d of u)d.parentNode||this.domConverter.unbindDomElement(d)}_diffNodeLists(e,n){return e=gQ(e,this._fakeSelectionContainer),bu(e,n,mQ.bind(null,this.domConverter))}_findUpdateActions(e,n,r,i){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],o=[],a=[];const l={equal:0,insert:0,delete:0};for(const c of e)c==="insert"?a.push(r[l.equal+l.insert]):c==="delete"?o.push(n[l.equal+l.delete]):(s=s.concat(bu(o,a,i).map(u=>u==="equal"?"update":u)),s.push("equal"),o=[],a=[]),l[c]++;return s.concat(bu(o,a,i).map(c=>c==="equal"?"update":c))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const n of e.getChildren())this._markDescendantTextToSync(n)}}_updateSelection(){if(wt.isBlink&&!wt.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&wt.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const n=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=vQ(n));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!r.parentElement||r.parentElement!=e)&&e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||"";const i=n.getSelection(),s=n.createRange();i.removeAllRanges(),s.selectNodeContents(r),i.addRange(s)}_updateDomSelection(e){const n=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(n))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);n.setBaseAndExtent(r.parent,r.offset,i.parent,i.offset),wt.isGecko&&pQ(i,n)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const n=e&&this.domConverter.domSelectionToView(e);return!(n&&this.selection.isEqual(n)||!this.selection.isCollapsed&&this.selection.isSimilar(n))}_fakeSelectionNeedsUpdate(e){const n=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!n||n.parentElement!==e||r.anchorNode!==n&&!n.contains(r.anchorNode)?!0:n.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const n=e.getSelection();if(n.rangeCount){const r=e.activeElement,i=this.domConverter.mapDomToView(r);r&&i&&n.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function dQ(t){if(t.getAttribute("contenteditable")=="false")return!1;const e=t.findAncestor(n=>n.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function fk(t,e,n){const r=e instanceof Array?e:e.childNodes,i=r[n];if(An(i))return i.data=nd+i.data,i;{const s=t.createTextNode(nd);return Array.isArray(e)?r.splice(n,0,s):DI(e,n,s),s}}function fQ(t,e){return Io(t)&&Io(e)&&!An(t)&&!An(e)&&!yu(t)&&!yu(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function hQ(t,e){return Io(t)&&Io(e)&&An(t)&&An(e)}function mQ(t,e,n){return e===n?!0:An(e)&&An(n)?e.data===n.data:!!(t.isBlockFiller(e)&&t.isBlockFiller(n))}function pQ(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const r=n.childNodes[t.offset];r&&r.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function gQ(t,e){const n=Array.from(t);return n.length==0||!e||n[n.length-1]==e&&n.pop(),n}function vQ(t){const e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}function hk(t,e){const n=t.data;if(n==e)return;const r=yI(n,e);for(const i of r)i.type==="insert"?t.insertData(i.index,i.values.join("")):t.deleteData(i.index,i.howMany)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const bQ=pO(pt.document),yQ=hO(pt.document),wQ=mO(pt.document),kf="data-ck-unsafe-attribute-",mk="data-ck-unsafe-element";class gO{constructor(e,{blockFillerMode:n,renderingMode:r="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ed,this._inlineObjectElementMatcher=new ed,this.document=e,this.renderingMode=r,this.blockFillerMode=n||(r==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?pt.document:pt.document.implementation.createHTMLDocument("")}bindFakeSelection(e,n){this._fakeSelectionMapping.set(e,new Oo(n))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}unbindDomElement(e){const n=this._domToViewMapping.get(e);if(n){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(n);for(const r of Array.from(e.children))this.unbindDomElement(r)}}bindDocumentFragments(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}shouldRenderAttribute(e,n,r){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&n.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:r==="img"&&(e==="src"||e==="srcset")||r==="source"&&e==="srcset"?!0:!n.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,n){if(this.renderingMode==="data"){e.innerHTML=n;return}const r=new DOMParser().parseFromString(n,"text/html"),i=r.createDocumentFragment(),s=r.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);const o=r.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const c of a){for(const d of c.getAttributeNames())this.setDomElementAttribute(c,d,c.getAttribute(d));const u=c.tagName.toLowerCase();this._shouldRenameElement(u)&&(gk(u),c.replaceWith(this._createReplacementDomElement(u,c)))}for(;e.firstChild;)e.firstChild.remove();e.append(i)}viewToDom(e,n={}){if(e.is("$text")){const r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let r;if(e.is("documentFragment"))r=this._domDocument.createDocumentFragment(),n.bind&&this.bindDocumentFragments(r,e);else{if(e.is("uiElement"))return e.name==="$comment"?r=this._domDocument.createComment(e.getCustomProperty("$rawContent")):r=e.render(this._domDocument,this),n.bind&&this.bindElements(r,e),r;this._shouldRenameElement(e.name)?(gk(e.name),r=this._createReplacementDomElement(e.name)):e.hasAttribute("xmlns")?r=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):r=this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(r,this),n.bind&&this.bindElements(r,e);for(const i of e.getAttributeKeys())this.setDomElementAttribute(r,i,e.getAttribute(i),e)}if(n.withChildren!==!1)for(const i of this.viewChildrenToDom(e,n))r.appendChild(i);return r}}setDomElementAttribute(e,n,r,i){const s=this.shouldRenderAttribute(n,r,e.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(n);if(s||en("domconverter-unsafe-attribute-detected",{domElement:e,key:n,value:r}),!TG(n)){en("domconverter-invalid-attribute-detected",{domElement:e,key:n,value:r});return}e.hasAttribute(n)&&!s?e.removeAttribute(n):e.hasAttribute(kf+n)&&s&&e.removeAttribute(kf+n),e.setAttribute(s?n:kf+n,r)}removeDomElementAttribute(e,n){n!=mk&&(e.removeAttribute(n),e.removeAttribute(kf+n))}*viewChildrenToDom(e,n={}){const r=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const s of e.getChildren()){r===i&&(yield this._getBlockFiller());const o=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!$n(s.getAttributes());o&&this.renderingMode=="data"?yield*this.viewChildrenToDom(s,n):(o&&en("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,n)),i++}r===i&&(yield this._getBlockFiller())}viewRangeToDom(e){const n=this.viewPositionToDom(e.start),r=this.viewPositionToDom(e.end),i=this._domDocument.createRange();return i.setStart(n.parent,n.offset),i.setEnd(r.parent,r.offset),i}viewPositionToDom(e){const n=e.parent;if(n.is("$text")){const r=this.findCorrespondingDomText(n);if(!r)return null;let i=e.offset;return Yr(r)&&(i+=Mi),{parent:r,offset:i}}else{let r,i,s;if(e.offset===0){if(r=this.mapViewToDom(n),!r)return null;s=r.childNodes[0]}else{const a=e.nodeBefore;if(i=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!i)return null;r=i.parentNode,s=i.nextSibling}if(An(s)&&Yr(s))return{parent:s,offset:Mi};const o=i?_f(i)+1:0;return{parent:r,offset:o}}}domToView(e,n={}){const r=[],i=this._domToView(e,n,r),s=i.next().value;return!s||(i.next(),this._processDomInlineNodes(null,r,n),s.is("$text")&&s.data.length==0)?null:s}*domChildrenToView(e,n={},r=[]){for(let i=0;i<e.childNodes.length;i++){const s=e.childNodes[i],o=this._domToView(s,n,r),a=o.next().value;a!==null&&(this._isBlockViewElement(a)&&this._processDomInlineNodes(e,r,n),yield a,o.next())}this._processDomInlineNodes(e,r,n)}domSelectionToView(e){if(e.rangeCount===1){let i=e.getRangeAt(0).startContainer;An(i)&&(i=i.parentNode);const s=this.fakeSelectionToView(i);if(s)return s}const n=this.isDomSelectionBackward(e),r=[];for(let i=0;i<e.rangeCount;i++){const s=e.getRangeAt(i),o=this.domRangeToView(s);o&&r.push(o)}return new Oo(r,{backward:n})}domRangeToView(e){const n=this.domPositionToView(e.startContainer,e.startOffset),r=this.domPositionToView(e.endContainer,e.endOffset);return n&&r?new ht(n,r):null}domPositionToView(e,n=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,_f(e));const r=this.mapDomToView(e);if(r&&(r.is("uiElement")||r.is("rawElement")))return Ve._createBefore(r);if(An(e)){if(iu(e))return this.domPositionToView(e.parentNode,_f(e));const i=this.findCorrespondingViewText(e);let s=n;return i?(Yr(e)&&(s-=Mi,s=s<0?0:s),new Ve(i,s)):null}else{if(n===0){const i=this.mapDomToView(e);if(i)return new Ve(i,0)}else{const i=e.childNodes[n-1];if(An(i)&&iu(i)||i&&this.isBlockFiller(i))return this.domPositionToView(i.parentNode,_f(i));const s=An(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(s&&s.parent)return new Ve(s.parent,s.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(iu(e))return null;const n=this.getHostViewElement(e);if(n)return n;const r=e.previousSibling;if(r){if(!this.isElement(r))return null;const i=this.mapDomToView(r);if(i){const s=i.nextSibling;return s instanceof on?s:null}}else{const i=this.mapDomToView(e.parentNode);if(i){const s=i.getChild(0);return s instanceof on?s:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const n=e.previousSibling;return n&&this.mapViewToDom(n)?this.mapViewToDom(n).nextSibling:!n&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const n=this.mapViewToDom(e);if(n&&n.ownerDocument.activeElement!==n){const{scrollX:r,scrollY:i}=pt.window,s=[];pk(n,o=>{const{scrollLeft:a,scrollTop:l}=o;s.push([a,l])}),n.focus(),pk(n,o=>{const[a,l]=s.shift();o.scrollLeft=a,o.scrollTop=l}),pt.window.scrollTo(r,i)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const n=e.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(n);r&&r.rangeCount>0&&n.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(bQ):e.tagName==="BR"&&vO(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(wQ)||CQ(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const n=this._domDocument.createRange();try{n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const r=n.collapsed;return n.detach(),r}getHostViewElement(e){const n=_G(e);for(n.pop();n.length;){const r=n.pop(),i=this._domToViewMapping.get(r);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return hO(this._domDocument);case"markedNbsp":return mO(this._domDocument);case"br":return pO(this._domDocument)}}_isDomSelectionPositionCorrect(e,n){if(An(e)&&Yr(e)&&n<Mi||this.isElement(e)&&Yr(e.childNodes[n]))return!1;const r=this.mapDomToView(e);return!(r&&(r.is("uiElement")||r.is("rawElement")))}*_domToView(e,n,r){if(this.isBlockFiller(e))return null;const i=this.getHostViewElement(e);if(i)return i;if(yu(e)&&n.skipComments)return null;if(An(e)){if(iu(e))return null;{const s=e.data;if(s==="")return null;const o=new on(this.document,s);return r.push(o),o}}else{let s=this.mapDomToView(e);if(s)return this._isInlineObjectElement(s)&&r.push(s),s;if(this.isDocumentFragment(e))s=new wa(this.document),n.bind&&this.bindDocumentFragments(e,s);else{s=this._createViewElement(e,n),n.bind&&this.bindElements(e,s);const a=e.attributes;if(a)for(let l=a.length,c=0;c<l;c++)s._setAttribute(a[c].name,a[c].value);if(this._isViewElementWithRawContent(s,n))return s._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(s)||r.push(s),s;if(yu(e))return s._setCustomProperty("$rawContent",e.data),s}yield s;const o=[];if(n.withChildren!==!1)for(const a of this.domChildrenToView(e,n,o))s._appendChild(a);if(this._isInlineObjectElement(s))r.push(s);else for(const a of o)r.push(a)}}_processDomInlineNodes(e,n,r){if(!n.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let i=!1;for(let s=0;s<n.length;s++){const o=n[s];if(!o.is("$text")){i=!1;continue}let a,l=!1;if(_Q(o,this.preElements))a=dk(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const c=s>0?n[s-1]:null,u=s+1<n.length?n[s+1]:null,d=!c||c.is("element")&&c.name=="br"||i,f=u?!1:!Yr(o.data);r.withChildren!==!1&&(d&&(a=a.replace(/^ /,"")),f&&(a=a.replace(/ $/,""))),a=dk(a),a=a.replace(/ \u00A0/g,"  ");const h=u&&u.is("element")&&u.name!="br",m=u&&u.is("$text")&&u.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!u||h||m)&&(a=a.replace(/\u00A0$/," ")),(d||c&&c.is("element")&&c.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),n.splice(s,1),s--):(o._data=a,i=l)}n.length=0}_processDataFromViewText(e){let n=e.data;if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return n;if(n.charAt(0)==" "){const r=this._getTouchingInlineViewNode(e,!1);(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r)||!r)&&(n=""+n.substr(1))}if(n.charAt(n.length-1)==" "){const r=this._getTouchingInlineViewNode(e,!0),i=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";(n.charAt(n.length-2)==" "||!r||i)&&(n=n.substr(0,n.length-1)+"")}return n.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return!1;const n=this._processDataFromViewText(e);return n.charAt(n.length-1)==" "}_getTouchingInlineViewNode(e,n){const r=new la({startPosition:n?Ve._createAfter(e):Ve._createBefore(e),direction:n?"forward":"backward"});for(const i of r){if(i.item.is("element","br"))return null;if(this._isInlineObjectElement(i.item))return i.item;if(i.item.is("containerElement"))return null;if(i.item.is("$textProxy"))return i.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,n){if(yu(e))return new Xm(this.document,"$comment");const r=n.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Bi(this.document,r)}_isViewElementWithRawContent(e,n){return n.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const n=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(n)}_createReplacementDomElement(e,n){const r=this._domDocument.createElement("span");if(r.setAttribute(mk,e),n){for(;n.firstChild;)r.appendChild(n.firstChild);for(const i of n.getAttributeNames())r.setAttribute(i,n.getAttribute(i))}return r}}function _Q(t,e){return t.getAncestors().some(n=>n.is("element")&&e.includes(n.name))}function pk(t,e){let n=t;for(;n;)e(n),n=n.parentElement}function CQ(t,e){return t.isEqualNode(yQ)&&vO(t,e)&&t.parentNode.childNodes.length===1}function vO(t,e){const n=t.parentNode;return!!n&&!!n.tagName&&e.includes(n.tagName.toLowerCase())}function gk(t){t==="script"&&en("domconverter-unsafe-script-element-detected"),t==="style"&&en("domconverter-unsafe-style-element-detected")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gs extends Vo(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rc{constructor(e,n,r){this.view=e,this.document=e.document,this.domEvent=n,this.domTarget=n.target,YA(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zo extends gs{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(i,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,n,r){this.isEnabled&&this.document.fire(e,new rc(this.view,n,r))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kQ extends zo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const n={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return ec(this)}};this.fire(e.type,e,n)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SQ extends gs{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Po(n=>{this.document.fire("selectionChangeDone",n)},200)}observe(){const e=this.document;e.on("arrowKey",(n,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(n,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const n=this.document.selection,r=new Oo(n.getRanges(),{backward:n.isBackward,fake:!1});(e==It.arrowleft||e==It.arrowup)&&r.setTo(r.getFirstPosition()),(e==It.arrowright||e==It.arrowdown)&&r.setTo(r.getLastPosition());const i={oldSelection:n,newSelection:r,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let bO=class extends gs{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const n=this.domConverter,r=new Set,i=new Set;for(const o of e){const a=n.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&i.add(a))}for(const o of e){const a=n.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const l=n.findCorrespondingViewText(o.target);l&&!i.has(l.parent)?r.add(l):!l&&Yr(o.target)&&i.add(n.mapDomToView(o.target.parentNode))}}let s=!1;for(const o of r)s=!0,this.renderer.markToSync("text",o);for(const o of i){const a=n.mapViewToDom(o),l=Array.from(o.getChildren()),c=Array.from(n.domChildrenToView(a,{withChildren:!1}));G8(l,c,EQ)||(s=!0,this.renderer.markToSync("children",o))}s&&this.view.forceRender()}_isBogusBrMutation(e){let n=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(n=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),n&&n.is("element","br")}};function EQ(t,e){if(!Array.isArray(t))return t===e?!0:t.is("$text")&&e.is("$text")?t.data===e.data:!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Uh extends zo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const n=this.document;n.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),n.on("blur",(r,i)=>{const s=n.selection.editableElement;(s===null||s===i.target)&&(n.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TQ extends gs{constructor(e){super(e),this.mutationObserver=e.getObserver(bO),this.focusObserver=e.getObserver(Uh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Po(n=>{this.document.fire("selectionChangeDone",n)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Po(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const n=e.ownerDocument,r=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,n),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",r,{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),!this._documents.has(n)&&(this.listenTo(n,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(n,"selectionchange",(s,o)=>{this.document.isComposing&&!wt.isAndroid||(this._handleSelectionChange(o,n),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(n))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,n){if(!this.isEnabled)return;const r=n.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(r.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(r);if(i.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(r))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(i))this.view.forceRender();else{const s={oldSelection:this.selection,newSelection:i,domSelection:r};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AQ extends zo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const n=this.document;n.on("compositionstart",()=>{n.isComposing=!0},{priority:"low"}),n.on("compositionend",()=>{n.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yO{constructor(e,n={}){this._files=n.cacheFiles?vk(e):null,this._native=e}get files(){return this._files||(this._files=vk(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,n){this._native.setData(e,n)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,n,r){this._native.setDragImage(e,n,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function vk(t){const e=Array.from(t.files||[]),n=Array.from(t.items||[]);return e.length?e:n.filter(r=>r.kind==="file").map(r=>r.getAsFile())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xQ extends zo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const n=e.getTargetRanges(),r=this.view,i=r.document;let s=null,o=null,a=[];if(e.dataTransfer&&(s=new yO(e.dataTransfer)),e.data!==null?o=e.data:s&&(o=s.getData("text/plain")),i.selection.isFake)a=Array.from(i.selection.getRanges());else if(n.length)a=n.map(l=>{const c=r.domConverter.domPositionToView(l.startContainer,l.startOffset),u=r.domConverter.domPositionToView(l.endContainer,l.endOffset);if(c)return r.createRange(c,u);if(u)return r.createRange(u)}).filter(l=>!!l);else if(wt.isAndroid){const l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(r.domConverter.domSelectionToView(l).getRanges())}if(wt.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(a[0].end)]});return}if(e.inputType=="insertText"&&o&&o.includes(`
`)){const l=o.split(/\n{1,2}/g);let c=a;for(let u=0;u<l.length;u++){const d=l[u];d!=""&&(this.fire(e.type,e,{data:d,dataTransfer:s,targetRanges:c,inputType:e.inputType,isComposing:e.isComposing}),c=[i.selection.getFirstRange()]),u+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:c}),c=[i.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:s,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PQ extends gs{constructor(e){super(e),this.document.on("keydown",(n,r)=>{if(this.isEnabled&&$G(r.keyCode)){const i=new Pc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(i,r),i.stop.called&&n.stop()}})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IQ extends gs{constructor(e){super(e);const n=this.document;n.on("keydown",(r,i)=>{if(!this.isEnabled||i.keyCode!=It.tab||i.ctrlKey)return;const s=new Pc(n,"tab",n.selection.getFirstRange());n.fire(s,i),s.stop.called&&r.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class OQ extends Kt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new cO(e),this.domConverter=new gO(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new uQ(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new dO(this.document),this.addObserver(bO),this.addObserver(Uh),this.addObserver(TQ),this.addObserver(kQ),this.addObserver(SQ),this.addObserver(AQ),this.addObserver(PQ),this.addObserver(xQ),this.addObserver(IQ),lQ(this),eQ(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),wt.isiOS&&this.listenTo(this.document,"blur",(n,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,n="main"){const r=this.document.getRoot(n);r._name=e.tagName.toLowerCase();const i={};for(const{name:o,value:a}of Array.from(e.attributes))i[o]=a,o==="class"?this._writer.addClass(a.split(" "),r):this._writer.setAttribute(o,a,r);this._initialDomRootAttributes.set(e,i);const s=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};s(),this.domRoots.set(n,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),r.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),r.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),r.on("change:isReadOnly",()=>this.change(s)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,n)}detachDomRoot(e){const n=this.domRoots.get(e);Array.from(n.attributes).forEach(({name:i})=>n.removeAttribute(i));const r=this._initialDomRootAttributes.get(n);for(const i in r)n.setAttribute(i,r[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(n);for(const i of this._observers.values())i.stopObserving(n)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let n=this._observers.get(e);if(n)return n;n=new e(this),this._observers.set(e,n);for(const[r,i]of this.domRoots)n.observe(i,r);return n.enable(),n}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:n,viewportOffset:r=20,ancestorOffset:i=20}={}){const s=this.document.selection.getFirstRange();if(!s)return;const o=Fo({alignToTop:e,forceScroll:n,viewportOffset:r,ancestorOffset:i});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const a={target:this.domConverter.viewRangeToDom(s),viewportOffset:r,ancestorOffset:i,alignToTop:e,forceScroll:n};this.fire("scrollToTheSelection",a,o),OG(a)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new j("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const n=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),n}catch(n){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(n,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Uh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,n){return Ve._createAt(e,n)}createPositionAfter(e){return Ve._createAfter(e)}createPositionBefore(e){return Ve._createBefore(e)}createRange(e,n){return new ht(e,n)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Oo(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Uo{is(){throw new Error("is() method is abstract")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ja=class extends Uo{constructor(e){super(),this.parent=null,this._attrs=Bs(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new j("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new j("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.startOffset),n=n.parent;return e}getAncestors(e={}){const n=[];let r=e.includeSelf?this:this.parent;for(;r;)n[e.parentFirst?"push":"unshift"](r),r=r.parent;return n}getCommonAncestor(e,n={}){const r=this.getAncestors(n),i=e.getAncestors(n);let s=0;for(;r[s]==i[s]&&r[s];)s++;return s===0?null:r[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),r=e.getPath(),i=kr(n,r);switch(i){case"prefix":return!0;case"extension":return!1;default:return n[i]<r[i]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((n,r)=>(n[r[0]]=r[1],n),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,n){this._attrs.set(e,n)}_setAttributesTo(e){this._attrs=Bs(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};Ja.prototype.is=function(t){return t==="node"||t==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wu{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,n)=>e+n.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const n=this._nodes.indexOf(e);return n==-1?null:n}getNodeStartOffset(e){const n=this.getNodeIndex(e);return n===null?null:this._nodes.slice(0,n).reduce((r,i)=>r+i.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const n=this._nodes[e];if(!n)throw new j("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(n)}offsetToIndex(e){let n=0;for(const r of this._nodes){if(e>=n&&e<n+r.offsetSize)return this.getNodeIndex(r);n+=r.offsetSize}if(n!=e)throw new j("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,n){for(const r of n)if(!(r instanceof Ja))throw new j("model-nodelist-insertnodes-not-node",this);this._nodes=JG(this._nodes,Array.from(n),e,0)}_removeNodes(e,n=1){return this._nodes.splice(e,n)}toJSON(){return this._nodes.map(e=>e.toJSON())}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ut extends Ja{constructor(e,n){super(n),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Ut(this.data,this.getAttributes())}static fromJSON(e){return new Ut(e.data,e.attributes)}}Ut.prototype.is=function(t){return t==="$text"||t==="model:$text"||t==="text"||t==="model:text"||t==="node"||t==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Di extends Uo{constructor(e,n,r){if(super(),this.textNode=e,n<0||n>e.offsetSize)throw new j("model-textproxy-wrong-offsetintext",this);if(r<0||n+r>e.offsetSize)throw new j("model-textproxy-wrong-length",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const n=[];let r=e.includeSelf?this:this.parent;for(;r;)n[e.parentFirst?"push":"unshift"](r),r=r.parent;return n}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Di.prototype.is=function(t){return t==="$textProxy"||t==="model:$textProxy"||t==="textProxy"||t==="model:textProxy"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let rn=class sh extends Ja{constructor(e,n,r){super(n),this._children=new wu,this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let n=this;for(const r of e)n=n.getChild(n.offsetToIndex(r));return n}findAncestor(e,n={}){let r=n.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const n of this._children)e.children.push(n.toJSON())}return e}_clone(e=!1){const n=e?Array.from(this._children).map(r=>r._clone(!0)):void 0;return new sh(this.name,this.getAttributes(),n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const r=RQ(n);for(const i of r)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,n=1){const r=this._children._removeNodes(e,n);for(const i of r)i.parent=null;return r}static fromJSON(e){let n;if(e.children){n=[];for(const r of e.children)r.name?n.push(sh.fromJSON(r)):n.push(Ut.fromJSON(r))}return new sh(e.name,e.attributes,n)}};rn.prototype.is=function(t,e){return e?e===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t==="node"||t==="model:node"};function RQ(t){return typeof t=="string"?[new Ut(t)]:(si(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new Ut(e):e instanceof Di?new Ut(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class is{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new j("model-tree-walker-no-start-position",null);const n=e.direction||"forward";if(n!="forward"&&n!="backward")throw new j("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=_e._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,r,i,s;do i=this.position,s=this._visitedParent,{done:n,value:r}=this.next();while(!n&&e(r));n||(this._position=i,this._visitedParent=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(r.parent===null&&n.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=_u(n,r),s=i||wO(n,r,i);if(s instanceof rn){if(!this.shallow)n.path.push(0),this._visitedParent=s;else{if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}return this._position=n,Xo("elementStart",s,e,n,1)}if(s instanceof Ut){let o;if(this.singleCharacters)o=1;else{let c=s.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),o=c-n.offset}const a=n.offset-s.startOffset,l=new Di(s,a,o);return n.offset+=o,this._position=n,Xo("text",l,e,n,o)}return n.path.pop(),n.offset++,this._position=n,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():Xo("elementEnd",r,e,n)}_previous(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(r.parent===null&&n.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=n.parent,s=_u(n,i),o=s||_O(n,i,s);if(o instanceof rn)return n.offset--,this.shallow?(this._position=n,Xo("elementStart",o,e,n,1)):(n.path.push(o.maxOffset),this._position=n,this._visitedParent=o,this.ignoreElementEnd?this._previous():Xo("elementEnd",o,e,n));if(o instanceof Ut){let a;if(this.singleCharacters)a=1;else{let u=o.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),a=n.offset-u}const l=n.offset-o.startOffset,c=new Di(o,l-a,a);return n.offset-=a,this._position=n,Xo("text",c,e,n,a)}return n.path.pop(),this._position=n,this._visitedParent=r.parent,Xo("elementStart",r,e,n,1)}}function Xo(t,e,n,r,i){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:i}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _e extends Uo{constructor(e,n,r="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new j("model-position-root-invalid",e);if(!(n instanceof Array)||n.length===0)throw new j("model-position-path-incorrect-format",e,{path:n});e.is("rootElement")?n=n.slice():(n=[...e.getPath(),...n],e=e.root),this.root=e,this.path=n,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let n=0;n<this.path.length-1;n++)if(e=e.getChild(e.offsetToIndex(this.path[n])),!e)throw new j("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new j("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return _u(this,this.parent)}get nodeAfter(){const e=this.parent;return wO(this,e,_u(this,e))}get nodeBefore(){const e=this.parent;return _O(this,e,_u(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const n=kr(this.path,e.path);switch(n){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[n]<e.path[n]?"before":"after"}}getLastMatchingPosition(e,n={}){n.startPosition=this;const r=new is(n);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const n=this.parent;return n.is("element")?n.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const n=kr(this.path,e.path),r=typeof n=="string"?Math.min(this.path.length,e.path.length):n;return this.path.slice(0,r)}getCommonAncestor(e){const n=this.getAncestors(),r=e.getAncestors();let i=0;for(;n[i]==r[i]&&n[i];)i++;return i===0?null:n[i-1]}getShiftedBy(e){const n=this.clone(),r=n.offset+e;return n.offset=r<0?0:r,n}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const n=Math.min(this.path.length,e.path.length);for(let r=0;r<n;r++){const i=this.path[r]-e.path[r];if(i<-1||i>1)return!1;if(i===1)return bk(e,this,r);if(i===-1)return bk(this,e,r)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Cb(this.path,n):Cb(e.path,n)}hasSameParentAs(e){if(this.root!==e.root)return!1;const n=this.getParentPath(),r=e.getParentPath();return kr(n,r)=="same"}getTransformedByOperation(e){let n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=_e._createAt(this);break}return n}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const n=e.movedRange;return n.containsPosition(this)||n.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const n=e.movedRange,r=n.containsPosition(this)||n.start.isEqual(this);let i;return r?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?i=_e._createAt(e.deletionPosition):i=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,n){const r=_e._createAt(this);if(this.root!=e.root)return r;if(kr(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;r.offset-=n}}else if(kr(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+n>this.path[i])return null;r.path[i]-=n}}return r}_getTransformedByInsertion(e,n){const r=_e._createAt(this);if(this.root!=e.root)return r;if(kr(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=n);else if(kr(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;e.offset<=this.path[i]&&(r.path[i]+=n)}return r}_getTransformedByMove(e,n,r){if(n=n._getTransformedByDeletion(e,r),e.isEqual(n))return _e._createAt(this);const i=this._getTransformedByDeletion(e,r);return i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,n):i._getTransformedByInsertion(n,r)}_getCombined(e,n){const r=e.path.length-1,i=_e._createAt(n);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[r]-e.offset,i.path=[...i.path,...this.path.slice(r+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,n,r="toNone"){if(e instanceof _e)return new _e(e.root,e.path,e.stickiness);{const i=e;if(n=="end")n=i.maxOffset;else{if(n=="before")return this._createBefore(i,r);if(n=="after")return this._createAfter(i,r);if(n!==0&&!n)throw new j("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new j("model-position-parent-incorrect",[this,e]);const s=i.getPath();return s.push(n),new this(i.root,s,r)}}static _createAfter(e,n){if(!e.parent)throw new j("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,n)}static _createBefore(e,n){if(!e.parent)throw new j("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,n)}static fromJSON(e,n){if(e.root==="$graveyard"){const r=new _e(n.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!n.getRoot(e.root))throw new j("model-position-fromjson-no-root",n,{rootName:e.root});return new _e(n.getRoot(e.root),e.path,e.stickiness)}}_e.prototype.is=function(t){return t==="position"||t==="model:position"};function _u(t,e){const n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function wO(t,e,n){return n!==null?null:e.getChild(e.offsetToIndex(t.offset))}function _O(t,e,n){return n!==null?null:e.getChild(e.offsetToIndex(t.offset)-1)}function bk(t,e,n){return!(n+1===t.path.length||!Cb(e.path,n+1)||!MQ(t,n+1))}function Cb(t,e){for(;e<t.length;){if(t[e]!==0)return!1;e++}return!0}function MQ(t,e){let n=t.parent,r=t.path.length-1,i=0;for(;r>=e;){if(t.path[r]+i!==n.maxOffset)return!1;i=1,r--,n=n.parent}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class de extends Uo{constructor(e,n){super(),this.start=_e._createAt(e),this.end=n?_e._createAt(n):_e._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new is({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),n=this.end.getParentPath();return kr(e,n)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const r=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return r&&i}containsItem(e){const n=_e._createBefore(e);return this.containsPosition(n)||this.start.isEqual(n)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new de(this.start,e.start)),this.containsPosition(e.end)&&n.push(new de(e.end,this.end))):n.push(new de(this.start,this.end)),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,r=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(r=e.end),new de(n,r)}return null}getJoined(e,n=!1){let r=this.isIntersecting(e);if(r||(this.start.isBefore(e.start)?r=n?this.end.isTouching(e.start):this.end.isEqual(e.start):r=n?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let i=this.start,s=this.end;return e.start.isBefore(i)&&(i=e.start),e.end.isAfter(s)&&(s=e.end),new de(i,s)}getMinimalFlatRanges(){const e=[],n=this.start.getCommonPath(this.end).length,r=_e._createAt(this.start);let i=r.parent;for(;r.path.length>n+1;){const s=i.maxOffset-r.offset;s!==0&&e.push(new de(r,r.getShiftedBy(s))),r.path=r.path.slice(0,-1),r.offset++,i=i.parent}for(;r.path.length<=this.end.path.length;){const s=this.end.path[r.path.length-1],o=s-r.offset;o!==0&&e.push(new de(r,r.getShiftedBy(o))),r.offset=s,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new is(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new is(e);for(const r of n)yield r.item}*getPositions(e={}){e.boundaries=this;const n=new is(e);yield n.position;for(const r of n)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new de(this.start,this.end)]}getTransformedByOperations(e){const n=[new de(this.start,this.end)];for(const r of e)for(let i=0;i<n.length;i++){const s=n[i].getTransformedByOperation(r);n.splice(i,1,...s),i+=s.length-1}for(let r=0;r<n.length;r++){const i=n[r];for(let s=r+1;s<n.length;s++){const o=n[s];(i.containsRange(o)||o.containsRange(i)||i.isEqual(o))&&n.splice(s,1)}}return n}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,n=this.end.nodeBefore;return e&&e.is("element")&&e===n?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,n=!1){return this._getTransformedByInsertion(e.position,e.howMany,n)}_getTransformedByMoveOperation(e,n=!1){const r=e.sourcePosition,i=e.howMany,s=e.targetPosition;return this._getTransformedByMove(r,s,i,n)}_getTransformedBySplitOperation(e){const n=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),n.root!=r.root&&(r=this.end.getShiftedBy(-1)),new de(n,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new de(this.start);let n=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return n.root!=r.root&&(r=this.end.getShiftedBy(-1)),n.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(n=_e._createAt(r),n.offset=0):(e.deletionPosition.isEqual(n)||(r=e.deletionPosition),n=e.targetPosition),new de(n,r)):new de(n,r)}_getTransformedByInsertion(e,n,r=!1){if(r&&this.containsPosition(e))return[new de(this.start,e),new de(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];{const i=new de(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,n),i.end=i.end._getTransformedByInsertion(e,n),[i]}}_getTransformedByMove(e,n,r,i=!1){if(this.isCollapsed){const d=this.start._getTransformedByMove(e,n,r);return[new de(d)]}const s=de._createFromPositionAndShift(e,r),o=n._getTransformedByDeletion(e,r);if(this.containsPosition(n)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const d=this.start._getTransformedByMove(e,n,r),f=this.end._getTransformedByMove(e,n,r);return[new de(d,f)]}let a;const l=this.getDifference(s);let c=null;const u=this.getIntersection(s);if(l.length==1?c=new de(l[0].start._getTransformedByDeletion(e,r),l[0].end._getTransformedByDeletion(e,r)):l.length==2&&(c=new de(this.start,this.end._getTransformedByDeletion(e,r))),c?a=c._getTransformedByInsertion(o,r,u!==null||i):a=[],u){const d=new de(u.start._getCombined(s.start,o),u.end._getCombined(s.start,o));a.length==2?a.splice(1,0,d):a.push(d)}return a}_getTransformedByDeletion(e,n){let r=this.start._getTransformedByDeletion(e,n),i=this.end._getTransformedByDeletion(e,n);return r==null&&i==null?null:(r==null&&(r=e),i==null&&(i=e),new de(r,i))}static _createFromPositionAndShift(e,n){const r=e,i=e.getShiftedBy(n);return n>0?new this(r,i):new this(i,r)}static _createIn(e){return new this(_e._createAt(e,0),_e._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(_e._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new j("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const n=e[0];e.sort((s,o)=>s.start.isAfter(o.start)?1:-1);const r=e.indexOf(n),i=new this(n.start,n.end);if(r>0)for(let s=r-1;e[s].end.isEqual(i.start);s++)i.start=_e._createAt(e[s].start);for(let s=r+1;s<e.length&&e[s].start.isEqual(i.end);s++)i.end=_e._createAt(e[s].end);return i}static fromJSON(e,n){return new this(_e.fromJSON(e.start,n),_e.fromJSON(e.end,n))}}de.prototype.is=function(t){return t==="range"||t==="model:range"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class CO extends Yt(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,n)=>{if(n.viewPosition)return;const r=this._modelToViewMapping.get(n.modelPosition.parent);if(!r)throw new j("mapping-model-position-view-parent-not-found",this,{modelPosition:n.modelPosition});n.viewPosition=this.findPositionIn(r,n.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,n)=>{if(n.modelPosition)return;const r=this.findMappedViewAncestor(n.viewPosition),i=this._viewToModelMapping.get(r),s=this._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,r);n.modelPosition=_e._createAt(i,s)},{priority:"low"})}bindElements(e,n){this._modelToViewMapping.set(e,n),this._viewToModelMapping.set(n,e)}unbindViewElement(e,n={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const i of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(i);n.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const n=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(n)==e&&this._viewToModelMapping.delete(n)}bindElementToMarker(e,n){const r=this._markerNameToElements.get(n)||new Set;r.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(n),this._markerNameToElements.set(n,r),this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,n){const r=this._markerNameToElements.get(n);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(n));const i=this._elementToMarkerNames.get(e);i&&(i.delete(n),i.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,n]of this._deferredBindingRemovals)e.root==n&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new de(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ht(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const n={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",n),n.modelPosition}toViewPosition(e,n={}){const r={modelPosition:e,mapper:this,isPhantom:n.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const n=this._markerNameToElements.get(e);if(!n)return null;const r=new Set;for(const i of n)if(i.is("attributeElement"))for(const s of i.getElementsWithSameId())r.add(s);else r.add(i);return r}registerViewToModelLength(e,n){this._viewToModelLengthCallbacks.set(e,n)}findMappedViewAncestor(e){let n=e.parent;for(;!this._viewToModelMapping.has(n);)n=n.parent;return n}_toModelOffset(e,n,r){if(r!=e){const s=this._toModelOffset(e.parent,e.index,r),o=this._toModelOffset(e,n,e);return s+o}if(e.is("$text"))return n;let i=0;for(let s=0;s<n;s++)i+=this.getModelLength(e.getChild(s));return i}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let n=0;for(const r of e.getChildren())n+=this.getModelLength(r);return n}}findPositionIn(e,n){let r,i=0,s=0,o=0;if(e.is("$text"))return new Ve(e,n);for(;s<n;)r=e.getChild(o),i=this.getModelLength(r),s+=i,o++;return s==n?this._moveViewPositionToTextNode(new Ve(e,o)):this.findPositionIn(r,n-(s-i))}_moveViewPositionToTextNode(e){const n=e.nodeBefore,r=e.nodeAfter;return n instanceof on?new Ve(n,n.data.length):r instanceof on?new Ve(r,0):e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DQ{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,n){n=Sf(n),e instanceof Di&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(n,!0)}consume(e,n){return n=Sf(n),e instanceof Di&&(e=this._getSymbolForTextProxy(e)),this.test(e,n)?(this._consumable.get(e).set(n,!1),!0):!1}test(e,n){n=Sf(n),e instanceof Di&&(e=this._getSymbolForTextProxy(e));const r=this._consumable.get(e);if(r===void 0)return null;const i=r.get(n);return i===void 0?null:i}revert(e,n){n=Sf(n),e instanceof Di&&(e=this._getSymbolForTextProxy(e));const r=this.test(e,n);return r===!1?(this._consumable.get(e).set(n,!0),!0):r===!0?!1:null}verifyAllConsumed(e){const n=[];for(const[r,i]of this._consumable)for(const[s,o]of i){const a=s.split(":")[0];o&&e==a&&n.push({event:s,item:r.name||r.description})}if(n.length)throw new j("conversion-model-consumable-not-consumed",null,{items:n})}_getSymbolForTextProxy(e){let n=null;const r=this._textProxyRegistry.get(e.startOffset);if(r){const i=r.get(e.endOffset);i&&(n=i.get(e.parent))}return n||(n=this._addSymbolForTextProxy(e)),n}_addSymbolForTextProxy(e){const n=e.startOffset,r=e.endOffset,i=e.parent,s=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(n),o||(o=new Map,this._textProxyRegistry.set(n,o)),a=o.get(r),a||(a=new Map,o.set(r,a)),a.set(i,s),s}}function Sf(t){const e=t.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?t:e.length>1?e[0]+":"+e[1]:e[0]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kO extends Yt(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,n,r){const i=this._createConversionApi(r,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,i);const s=this._reduceChanges(e.getChanges());for(const o of s)o.type==="insert"?this._convertInsert(de._createFromPositionAndShift(o.position,o.length),i):o.type==="reinsert"?this._convertReinsert(de._createFromPositionAndShift(o.position,o.length),i):o.type==="remove"?this._convertRemove(o.position,o.length,o.name,i):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,i);for(const o of i.mapper.flushUnboundMarkerNames()){const a=n.get(o).getRange();this._convertMarkerRemove(o,a,i),this._convertMarkerAdd(o,a,i)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,i);i.mapper.flushDeferredBindings(),i.consumable.verifyAllConsumed("insert")}convert(e,n,r,i={}){const s=this._createConversionApi(r,void 0,i);this._convertInsert(e,s);for(const[o,a]of n)this._convertMarkerAdd(o,a,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,n,r){const i=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},i);const s=e.getFirstPosition().root;if(!i.mapper.toViewElement(s))return;const o=Array.from(n.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(i.consumable,e,o),this.fire("selection",{selection:e},i),!!e.isCollapsed){for(const a of o)if(i.consumable.test(e,"addMarker:"+a.name)){const l=a.getRange();if(!NQ(e.getFirstPosition(),a,i.mapper))continue;const c={item:e,markerName:a.name,markerRange:l};this.fire(`addMarker:${a.name}`,c,i)}for(const a of e.getAttributeKeys())if(i.consumable.test(e,"attribute:"+a)){const l={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire(`attribute:${a}:$text`,l,i)}}}_convertInsert(e,n,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(n.consumable,Array.from(e));for(const i of Array.from(e.getWalker({shallow:!0})).map(yk))this._testAndFire("insert",i,n)}_convertRemove(e,n,r,i){this.fire(`remove:${r}`,{position:e,length:n},i)}_convertAttribute(e,n,r,i,s){this._addConsumablesForRange(s.consumable,e,`attribute:${n}`);for(const o of e){const a={item:o.item,range:de._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:n,attributeOldValue:r,attributeNewValue:i};this._testAndFire(`attribute:${n}`,a,s)}}_convertReinsert(e,n){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(n.consumable,r);for(const i of r.map(yk))this._testAndFire("insert",{...i,reconversion:!0},n)}_convertMarkerAdd(e,n,r){if(n.root.rootName=="$graveyard")return;const i=`addMarker:${e}`;if(r.consumable.add(n,i),this.fire(i,{markerName:e,markerRange:n},r),!!r.consumable.consume(n,i)){this._addConsumablesForRange(r.consumable,n,i);for(const s of n.getItems()){if(!r.consumable.test(s,i))continue;const o={item:s,range:de._createOn(s),markerName:e,markerRange:n};this.fire(i,o,r)}}}_convertMarkerRemove(e,n,r){n.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:n},r)}_reduceChanges(e){const n={changes:e};return this.fire("reduceChanges",n),n.changes}_addConsumablesForInsert(e,n){for(const r of n){const i=r.item;if(e.test(i,"insert")===null){e.add(i,"insert");for(const s of i.getAttributeKeys())e.add(i,"attribute:"+s)}}return e}_addConsumablesForRange(e,n,r){for(const i of n.getItems())e.add(i,r);return e}_addConsumablesForSelection(e,n,r){e.add(n,"selection");for(const i of r)e.add(n,"addMarker:"+i.name);for(const i of n.getAttributeKeys())e.add(n,"attribute:"+i);return e}_testAndFire(e,n,r){const i=FQ(e,n),s=n.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(n.item):n.item,o=this._firedEventsMap.get(r),a=o.get(s);if(!a)o.set(s,new Set([i]));else if(!a.has(i))a.add(i);else return;this.fire(i,n,r)}_testAndFireAddAttributes(e,n){const r={item:e,range:de._createOn(e)};for(const i of r.item.getAttributeKeys())r.attributeKey=i,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(i),this._testAndFire(`attribute:${i}`,r,n)}_createConversionApi(e,n=new Set,r={}){const i={...this._conversionApi,consumable:new DQ,writer:e,options:r,convertItem:s=>this._convertInsert(de._createOn(s),i),convertChildren:s=>this._convertInsert(de._createIn(s),i,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,i),canReuseView:s=>!n.has(i.mapper.toModelElement(s))};return this._firedEventsMap.set(i,new Map),i}}function NQ(t,e,n){const r=e.getRange(),i=Array.from(t.getAncestors());return i.shift(),i.reverse(),!i.some(o=>{if(r.containsItem(o))return!!n.toViewElement(o).getCustomProperty("addHighlight")})}function FQ(t,e){const n=e.item.is("element")?e.item.name:"$text";return`${t}:${n}`}function yk(t){const e=t.item,n=de._createFromPositionAndShift(t.previousPosition,t.length);return{item:e,range:n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jr extends Yt(Uo){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let r=!1;for(const i of e._ranges)if(n.isEqual(i)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new de(e.start,e.end)}getFirstRange(){let e=null;for(const n of this._ranges)(!e||n.start.isBefore(e.start))&&(e=n);return e?new de(e.start,e.end):null}getLastRange(){let e=null;for(const n of this._ranges)(!e||n.end.isAfter(e.end))&&(e=n);return e?new de(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[n,r,i]=e;if(typeof r=="object"&&(i=r,r=void 0),n===null)this._setRanges([]);else if(n instanceof Jr)this._setRanges(n.getRanges(),n.isBackward);else if(n&&typeof n.getRanges=="function")this._setRanges(n.getRanges(),n.isBackward);else if(n instanceof de)this._setRanges([n],!!i&&!!i.backward);else if(n instanceof _e)this._setRanges([new de(n)]);else if(n instanceof Ja){const s=!!i&&!!i.backward;let o;if(r=="in")o=de._createIn(n);else if(r=="on")o=de._createOn(n);else if(r!==void 0)o=new de(_e._createAt(n,r));else throw new j("model-selection-setto-required-second-parameter",[this,n]);this._setRanges([o],s)}else if(si(n))this._setRanges(n,i&&!!i.backward);else throw new j("model-selection-setto-not-selectable",[this,n])}_setRanges(e,n=!1){const r=Array.from(e),i=r.some(s=>{if(!(s instanceof de))throw new j("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(s))});r.length===this._ranges.length&&!i||(this._replaceAllRanges(r),this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0}))}setFocus(e,n){if(this.anchor===null)throw new j("model-selection-setfocus-no-ranges",[this,e]);const r=_e._createAt(e,n);if(r.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(i)=="before"?(this._pushRange(new de(r,i)),this._lastRangeBackward=!0):(this._pushRange(new de(i,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,n){this.getAttribute(e)!==n&&(this._attrs.set(e,n),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const n of this.getRanges()){const r=wk(n.start,e);$Q(r,n)&&(yield r);for(const s of n.getWalker()){const o=s.item;s.type=="elementEnd"&&LQ(o,e,n)&&(yield o)}const i=wk(n.end,e);BQ(i,n)&&(yield i)}}containsEntireContent(e=this.anchor.root){const n=_e._createAt(e,0),r=_e._createAt(e,"end");return n.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new de(e.start,e.end))}_checkRange(e){for(let n=0;n<this._ranges.length;n++)if(e.isIntersecting(this._ranges[n]))throw new j("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[n]})}_replaceAllRanges(e){this._removeAllRanges();for(const n of e)this._pushRange(n)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Jr.prototype.is=function(t){return t==="selection"||t==="model:selection"};function SO(t,e){return e.has(t)?!1:(e.add(t),t.root.document.model.schema.isBlock(t)&&!!t.parent)}function LQ(t,e,n){return SO(t,e)&&Xy(t,n)}function wk(t,e){const r=t.parent.root.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const o=i.find(a=>s?!1:(s=r.isLimit(a),!s&&SO(a,e)));return i.forEach(a=>e.add(a)),o}function Xy(t,e){const n=VQ(t);return n?!e.containsRange(de._createOn(n),!0):!0}function $Q(t,e){return t?e.isCollapsed||t.isEmpty?!0:e.start.isTouching(_e._createAt(t,t.maxOffset))?!1:Xy(t,e):!1}function BQ(t,e){return t?e.isCollapsed||t.isEmpty?!0:e.end.isTouching(_e._createAt(t,0))?!1:Xy(t,e):!1}function VQ(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ms extends Yt(de){constructor(e,n){super(e,n),zQ.call(this)}detach(){this.stopListening()}toRange(){return new de(this.start,this.end)}static fromRange(e){return new ms(e.start,e.end)}}ms.prototype.is=function(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"};function zQ(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&UQ.call(this,n)},{priority:"low"})}function UQ(t){const e=this.getTransformedByOperation(t),n=de._createFromRanges(e),r=!n.isEqual(this),i=HQ(this,t);let s=null;if(r){n.root.rootName=="$graveyard"&&(t.type=="remove"?s=t.sourcePosition:s=t.deletionPosition);const o=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",o,{deletionPosition:s})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:s})}function HQ(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const rd="selection:";class Vi extends Yt(Uo){constructor(e){super(),this._selection=new jQ(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,n){this._selection.setFocus(e,n)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,n){this._selection.setAttribute(e,n)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return rd+e}static _isStoreAttributeKey(e){return e.startsWith(rd)}}Vi.prototype.is=function(t){return t==="selection"||t=="model:selection"||t=="documentSelection"||t=="model:documentSelection"};class jQ extends Jr{constructor(e){super(),this.markers=new Ui({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(n,r)=>{const i=r[0];!i.isDocumentOperation||i.type=="marker"||i.type=="rename"||i.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(n,r,i,s)=>{this._updateMarker(r,s)}),this.listenTo(this._document,"change",(n,r)=>{WQ(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,n){super.setFocus(e,n),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,n){if(this._setAttribute(e,n)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}overrideGravity(){const e=hs();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new j("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const n=this._prepareRange(e);n&&this._ranges.push(n)}_validateSelectionRanges(e){for(const n of e)if(!this._document._validateSelectionRange(n))throw new j("document-selection-wrong-position",this,{range:n})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const n=ms.fromRange(e);return n.on("change:range",(r,i,s)=>{if(this._hasChangedRange=!0,n.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const o=this._ranges.indexOf(n);this._ranges.splice(o,1),n.detach()}}),n}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let n=!1;for(const i of this._model.markers){const s=i.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const o=i.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(i)}const r=Array.from(this.markers);for(const i of e)this.markers.has(i)||(this.markers.add(i),n=!0);for(const i of Array.from(this.markers))e.includes(i)||(this.markers.remove(i),n=!0);n&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,n){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let i=!1;const s=Array.from(this.markers),o=this.markers.has(e);if(!n)o&&(this.markers.remove(e),i=!0);else{let a=!1;for(const l of this.getRanges())if(n.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),i=!0):!a&&o&&(this.markers.remove(e),i=!0)}i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const n=Bs(this._getSurroundingAttributes()),r=Bs(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,o]of this._attributePriority)o=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(n);const i=[];for(const[s,o]of this.getAttributes())(!r.has(s)||r.get(s)!==o)&&i.push(s);for(const[s]of r)this.hasAttribute(s)||i.push(s);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(e,n,r=!0){const i=r?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===n?!1:(this._attrs.set(e,n),this._attributePriority.set(e,i),!0)}_removeAttribute(e,n=!0){const r=n?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,r),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const n=new Set;for(const[r,i]of this.getAttributes())e.get(r)!==i&&this._removeAttribute(r,!1);for(const[r,i]of e)this._setAttribute(r,i,!1)&&n.add(r);return n}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const n of e.getAttributeKeys())n.startsWith(rd)&&(yield[n.substr(rd.length),e.getAttribute(n)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),n=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const i=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=Yc(i,n)),r||(r=Yc(s,n)),!this.isGravityOverridden&&!r){let o=i;for(;o&&!r;)o=o.previousSibling,r=Yc(o,n)}if(!r){let o=s;for(;o&&!r;)o=o.nextSibling,r=Yc(o,n)}r||(r=this.getStoredAttributes())}else{const i=this.getFirstRange();for(const s of i){if(s.item.is("element")&&n.isObject(s.item)){r=Yc(s.item,n);break}if(s.type=="text"){r=s.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const n=this._model.schema.getNearestSelectionRange(e);n&&this._pushRange(n)}}function Yc(t,e){if(!t)return null;if(t instanceof Di||t instanceof Ut)return t.getAttributes();if(!e.isInline(t))return null;if(!e.isObject(t))return[];const n=[];for(const[r,i]of t.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&n.push([r,i]);return n}function WQ(t,e){const n=t.document.differ;for(const r of n.getChanges()){if(r.type!="insert")continue;const i=r.position.parent;r.length===i.maxOffset&&t.enqueueChange(e,o=>{const a=Array.from(i.getAttributeKeys()).filter(l=>l.startsWith(rd));for(const l of a)o.removeAttribute(l,i)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EO{constructor(e){this._dispatchers=e}add(e){for(const n of this._dispatchers)e(n);return this}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qQ extends EO{elementToElement(e){return this.add(uJ(e))}elementToStructure(e){return this.add(dJ(e))}attributeToElement(e){return this.add(fJ(e))}attributeToAttribute(e){return this.add(hJ(e))}markerToElement(e){return this.add(mJ(e))}markerToHighlight(e){return this.add(gJ(e))}markerToData(e){return this.add(pJ(e))}}function TO(){return(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const r=n.writer,i=n.mapper.toViewPosition(e.range.start),s=r.createText(e.item.data);r.insert(i,s)}}function AO(){return(t,e,n)=>{n.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&n.convertChildren(e.item)}}function KQ(){return(t,e,n)=>{const r=n.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),s=n.mapper.toViewPosition(i,{isPhantom:!0}),o=n.writer.createRange(r,s),a=n.writer.remove(o.getTrimmed());for(const l of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(l,{defer:!0})}}function xO(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),typeof e.priority=="number"&&(n._priority=e.priority),n._id=e.id,n}function GQ(){return(t,e,n)=>{const r=e.selection;if(r.isCollapsed||!n.consumable.consume(r,"selection"))return;const i=[];for(const s of r.getRanges())i.push(n.mapper.toViewRange(s));n.writer.setSelection(i,{backward:r.isBackward})}}function YQ(){return(t,e,n)=>{const r=e.selection;if(!r.isCollapsed||!n.consumable.consume(r,"selection"))return;const i=n.writer,s=r.getFirstPosition(),o=n.mapper.toViewPosition(s),a=i.breakAttributes(o);i.setSelection(a)}}function QQ(){return(t,e,n)=>{const r=n.writer,i=r.document.selection;for(const s of i.getRanges())s.isCollapsed&&s.end.parent.isAttached()&&n.writer.mergeAttributes(s.start);r.setSelection(null)}}function JQ(t){return(e,n,r)=>{if(!r.consumable.test(n.item,e.name))return;const i=t(n.attributeOldValue,r,n),s=t(n.attributeNewValue,r,n);if(!i&&!s)return;r.consumable.consume(n.item,e.name);const o=r.writer,a=o.document.selection;if(n.item instanceof Jr||n.item instanceof Vi)o.wrap(a.getFirstRange(),s);else{let l=r.mapper.toViewRange(n.range);n.attributeOldValue!==null&&i&&(l=o.unwrap(l,i)),n.attributeNewValue!==null&&s&&o.wrap(l,s)}}}function XQ(t,e=kJ){return(n,r,i)=>{if(!e(r.item,i.consumable,{preflight:!0}))return;const s=t(r.item,i,r);if(!s)return;e(r.item,i.consumable);const o=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,s),i.writer.insert(o,s),i.convertAttributes(r.item),MO(s,r.item.getChildren(),i,{reconversion:r.reconversion})}}function ZQ(t,e){return(n,r,i)=>{if(!e(r.item,i.consumable,{preflight:!0}))return;const s=new Map;i.writer._registerSlotFactory(yJ(r.item,s,i));const o=t(r.item,i,r);if(i.writer._clearSlotFactory(),!o)return;wJ(r.item,s,i),e(r.item,i.consumable);const a=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(a,o),i.convertAttributes(r.item),_J(o,s,i,{reconversion:r.reconversion})}}function eJ(t){return(e,n,r)=>{n.isOpening=!0;const i=t(n,r);n.isOpening=!1;const s=t(n,r);if(!i||!s)return;const o=n.markerRange;if(o.isCollapsed&&!r.consumable.consume(o,e.name))return;for(const c of o)if(!r.consumable.consume(c.item,e.name))return;const a=r.mapper,l=r.writer;l.insert(a.toViewPosition(o.start),i),r.mapper.bindElementToMarker(i,n.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),s),r.mapper.bindElementToMarker(s,n.markerName)),e.stop()}}function tJ(){return(t,e,n)=>{const r=n.mapper.markerNameToElements(e.markerName);if(r){for(const i of r)n.mapper.unbindElementFromMarkerName(i,e.markerName),n.writer.clear(n.writer.createRangeOn(i),i);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function nJ(t){return(e,n,r)=>{const i=t(n.markerName,r);if(!i)return;const s=n.markerRange;r.consumable.consume(s,e.name)&&(_k(s,!1,r,n,i),_k(s,!0,r,n,i),e.stop())}}function _k(t,e,n,r,i){const s=e?t.start:t.end,o=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,a=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(o||a){let c,u;e&&o||!e&&!a?(c=o,u=!0):(c=a,u=!1);const d=n.mapper.toViewElement(c);if(d){rJ(d,e,u,n,r,i);return}}const l=n.mapper.toViewPosition(s);iJ(l,e,n,r,i)}function rJ(t,e,n,r,i,s){const o=`data-${s.group}-${e?"start":"end"}-${n?"before":"after"}`,a=t.hasAttribute(o)?t.getAttribute(o).split(","):[];a.unshift(s.name),r.writer.setAttribute(o,a.join(","),t),r.mapper.bindElementToMarker(t,i.markerName)}function iJ(t,e,n,r,i){const s=`${i.group}-${e?"start":"end"}`,o=i.name?{name:i.name}:null,a=n.writer.createUIElement(s,o);n.writer.insert(t,a),n.mapper.bindElementToMarker(a,r.markerName)}function sJ(t){return(e,n,r)=>{const i=t(n.markerName,r);if(!i)return;const s=r.mapper.markerNameToElements(n.markerName);if(!s)return;for(const a of s)r.mapper.unbindElementFromMarkerName(a,n.markerName),a.is("containerElement")?(o(`data-${i.group}-start-before`,a),o(`data-${i.group}-start-after`,a),o(`data-${i.group}-end-before`,a),o(`data-${i.group}-end-after`,a)):r.writer.clear(r.writer.createRangeOn(a),a);r.writer.clearClonedElementsGroup(n.markerName),e.stop();function o(a,l){if(l.hasAttribute(a)){const c=new Set(l.getAttribute(a).split(","));c.delete(i.name),c.size==0?r.writer.removeAttribute(a,l):r.writer.setAttribute(a,Array.from(c).join(","),l)}}}}function oJ(t){return(e,n,r)=>{if(!r.consumable.test(n.item,e.name))return;const i=t(n.attributeOldValue,r,n),s=t(n.attributeNewValue,r,n);if(!i&&!s)return;r.consumable.consume(n.item,e.name);const o=r.mapper.toViewElement(n.item),a=r.writer;if(!o)throw new j("conversion-attribute-to-attribute-on-text",r.dispatcher,n);if(n.attributeOldValue!==null&&i)if(i.key=="class"){const l=sr(i.value);for(const c of l)a.removeClass(c,o)}else if(i.key=="style"){const l=Object.keys(i.value);for(const c of l)a.removeStyle(c,o)}else a.removeAttribute(i.key,o);if(n.attributeNewValue!==null&&s)if(s.key=="class"){const l=sr(s.value);for(const c of l)a.addClass(c,o)}else if(s.key=="style"){const l=Object.keys(s.value);for(const c of l)a.setStyle(c,s.value[c],o)}else a.setAttribute(s.key,s.value,o)}}function aJ(t){return(e,n,r)=>{if(!n.item||!(n.item instanceof Jr||n.item instanceof Vi)&&!n.item.is("$textProxy"))return;const i=Zy(t,n,r);if(!i||!r.consumable.consume(n.item,e.name))return;const s=r.writer,o=xO(s,i),a=s.document.selection;if(n.item instanceof Jr||n.item instanceof Vi)s.wrap(a.getFirstRange(),o);else{const l=r.mapper.toViewRange(n.range),c=s.wrap(l,o);for(const u of c.getItems())if(u.is("attributeElement")&&u.isSimilar(o)){r.mapper.bindElementToMarker(u,n.markerName);break}}}}function lJ(t){return(e,n,r)=>{if(!n.item||!(n.item instanceof rn))return;const i=Zy(t,n,r);if(!i||!r.consumable.test(n.item,e.name))return;const s=r.mapper.toViewElement(n.item);if(s&&s.getCustomProperty("addHighlight")){r.consumable.consume(n.item,e.name);for(const a of de._createIn(n.item))r.consumable.consume(a.item,e.name);s.getCustomProperty("addHighlight")(s,i,r.writer),r.mapper.bindElementToMarker(s,n.markerName)}}}function cJ(t){return(e,n,r)=>{if(n.markerRange.isCollapsed)return;const i=Zy(t,n,r);if(!i)return;const s=xO(r.writer,i),o=r.mapper.markerNameToElements(n.markerName);if(o){for(const a of o)r.mapper.unbindElementFromMarkerName(a,n.markerName),a.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(a),s):a.getCustomProperty("removeHighlight")(a,i.id,r.writer);r.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}function uJ(t){const e=PO(t.model),n=id(t.view,"container");return e.attributes.length&&(e.children=!0),r=>{r.on(`insert:${e.name}`,XQ(n,RO(e)),{priority:t.converterPriority||"normal"}),(e.children||e.attributes.length)&&r.on("reduceChanges",OO(e),{priority:"low"})}}function dJ(t){const e=PO(t.model),n=id(t.view,"container");return e.children=!0,r=>{if(r._conversionApi.schema.checkChild(e.name,"$text"))throw new j("conversion-element-to-structure-disallowed-text",r,{elementName:e.name});r.on(`insert:${e.name}`,ZQ(n,RO(e)),{priority:t.converterPriority||"normal"}),r.on("reduceChanges",OO(e),{priority:"low"})}}function fJ(t){t=Fo(t);let e=t.model;typeof e=="string"&&(e={key:e});let n=`attribute:${e.key}`;if(e.name&&(n+=":"+e.name),e.values)for(const i of e.values)t.view[i]=id(t.view[i],"attribute");else t.view=id(t.view,"attribute");const r=IO(t);return i=>{i.on(n,JQ(r),{priority:t.converterPriority||"normal"})}}function hJ(t){t=Fo(t);let e=t.model;typeof e=="string"&&(e={key:e});let n=`attribute:${e.key}`;if(e.name&&(n+=":"+e.name),e.values)for(const i of e.values)t.view[i]=Ck(t.view[i]);else t.view=Ck(t.view);const r=IO(t);return i=>{i.on(n,oJ(r),{priority:t.converterPriority||"normal"})}}function mJ(t){const e=id(t.view,"ui");return n=>{n.on(`addMarker:${t.model}`,eJ(e),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,tJ(),{priority:t.converterPriority||"normal"})}}function pJ(t){t=Fo(t);const e=t.model;let n=t.view;return n||(n=r=>({group:e,name:r.substr(t.model.length+1)})),r=>{r.on(`addMarker:${e}`,nJ(n),{priority:t.converterPriority||"normal"}),r.on(`removeMarker:${e}`,sJ(n),{priority:t.converterPriority||"normal"})}}function gJ(t){return e=>{e.on(`addMarker:${t.model}`,aJ(t.view),{priority:t.converterPriority||"normal"}),e.on(`addMarker:${t.model}`,lJ(t.view),{priority:t.converterPriority||"normal"}),e.on(`removeMarker:${t.model}`,cJ(t.view),{priority:t.converterPriority||"normal"})}}function PO(t){return typeof t=="string"&&(t={name:t}),t.attributes?Array.isArray(t.attributes)||(t.attributes=[t.attributes]):t.attributes=[],t.children=!!t.children,t}function id(t,e){return typeof t=="function"?t:(n,r)=>vJ(t,r,e)}function vJ(t,e,n){typeof t=="string"&&(t={name:t});let r;const i=e.writer,s=Object.assign({},t.attributes);if(n=="container")r=i.createContainerElement(t.name,s);else if(n=="attribute"){const o={priority:t.priority||ya.DEFAULT_PRIORITY};r=i.createAttributeElement(t.name,s,o)}else r=i.createUIElement(t.name,s);if(t.styles){const o=Object.keys(t.styles);for(const a of o)i.setStyle(a,t.styles[a],r)}if(t.classes){const o=t.classes;if(typeof o=="string")i.addClass(o,r);else for(const a of o)i.addClass(a,r)}return r}function IO(t){return t.model.values?(e,n,r)=>{const i=t.view[e];return i?i(e,n,r):null}:t.view}function Ck(t){return typeof t=="string"?e=>({key:t,value:e}):typeof t=="object"?t.value?()=>t:e=>({key:t.key,value:e}):t}function Zy(t,e,n){const r=typeof t=="function"?t(e,n):t;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function bJ(t){return(e,n)=>{if(!e.is("element",t.name))return!1;if(n.type=="attribute"){if(t.attributes.includes(n.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(t.children)return!0}return!1}}function OO(t){const e=bJ(t);return(n,r)=>{const i=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const s of r.changes){const o=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(!o||!e(o,s)){i.push(s);continue}if(!r.reconvertedElements.has(o)){r.reconvertedElements.add(o);const a=_e._createBefore(o);let l=i.length;for(let c=i.length-1;c>=0;c--){const u=i[c],f=(u.type=="attribute"?u.range.start:u.position).compareWith(a);if(f=="before"||u.type=="remove"&&f=="same")break;l=c}i.splice(l,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}r.changes=i}}function RO(t){return(e,n,r={})=>{const i=["insert"];for(const s of t.attributes)e.hasAttribute(s)&&i.push(`attribute:${s}`);return i.every(s=>n.test(e,s))?(r.preflight||i.forEach(s=>n.consume(e,s)),!0):!1}}function yJ(t,e,n){return(r,i)=>{const s=r.createContainerElement("$slot");let o=null;if(i==="children")o=Array.from(t.getChildren());else if(typeof i=="function")o=Array.from(t.getChildren()).filter(a=>i(a));else throw new j("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:i});return e.set(s,o),s}}function wJ(t,e,n){const r=Array.from(e.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new j("conversion-slot-filter-overlap",n.dispatcher,{element:t});if(i.size!=t.childCount)throw new j("conversion-slot-filter-incomplete",n.dispatcher,{element:t})}function _J(t,e,n,r){n.mapper.on("modelToViewPosition",o,{priority:"highest"});let i=null,s=null;for([i,s]of e)MO(t,s,n,r),n.writer.move(n.writer.createRangeIn(i),n.writer.createPositionBefore(i)),n.writer.remove(i);n.mapper.off("modelToViewPosition",o);function o(a,l){const c=l.modelPosition.nodeAfter,u=s.indexOf(c);u<0||(l.viewPosition=l.mapper.findPositionIn(i,u))}}function MO(t,e,n,r){for(const i of e)CJ(t.root,i,n,r)||n.convertItem(i)}function CJ(t,e,n,r){const{writer:i,mapper:s}=n;if(!r.reconversion)return!1;const o=s.toViewElement(e);return!o||o.root==t||!n.canReuseView(o)?!1:(i.move(i.createRangeOn(o),s.toViewPosition(_e._createBefore(e))),!0)}function kJ(t,e,{preflight:n}={}){return n?e.test(t,"insert"):e.consume(t,"insert")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function DO(t){const{schema:e,document:n}=t.model;for(const r of n.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return t.insertElement("paragraph",r),!0;return!1}function NO(t,e,n){const r=n.createContext(t);return!(!n.checkChild(r,"paragraph")||!n.checkChild(r.push("paragraph"),e))}function FO(t,e){const n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SJ extends EO{elementToElement(e){return this.add(LO(e))}elementToAttribute(e){return this.add(AJ(e))}attributeToAttribute(e){return this.add(xJ(e))}elementToMarker(e){return this.add(PJ(e))}dataToMarker(e){return this.add(IJ(e))}}function kk(){return(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:r,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=r,e.modelCursor=i}}}function EJ(){return(t,e,{schema:n,consumable:r,writer:i})=>{let s=e.modelCursor;if(!r.test(e.viewItem))return;if(!n.checkChild(s,"$text")){if(!NO(s,"$text",n)||e.viewItem.data.trim().length==0)return;const a=s.nodeBefore;s=FO(s,i),a&&a.is("element","$marker")&&(i.move(i.createRangeOn(a),s),s=i.createPositionAfter(a))}r.consume(e.viewItem);const o=i.createText(e.viewItem.data);i.insert(o,s),e.modelRange=i.createRange(s,s.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function TJ(t,e){return(n,r)=>{const i=r.newSelection,s=[];for(const a of i.getRanges())s.push(e.toModelRange(a));const o=t.createSelection(s,{backward:i.isBackward});o.isEqual(t.document.selection)||t.change(a=>{a.setSelection(o)})}}function LO(t){t=Fo(t);const e=kb(t),n=ew(t.view),r=n?`element:${n}`:"element";return i=>{i.on(r,e,{priority:t.converterPriority||"normal"})}}function AJ(t){t=Fo(t),$O(t);const e=BO(t,!1),n=ew(t.view),r=n?`element:${n}`:"element";return i=>{i.on(r,e,{priority:t.converterPriority||"low"})}}function xJ(t){t=Fo(t);let e=null;(typeof t.view=="string"||t.view.key)&&(e=MJ(t)),$O(t,e);const n=BO(t,!0);return r=>{r.on("element",n,{priority:t.converterPriority||"low"})}}function PJ(t){const e=FJ(t.model);return LO({...t,model:e})}function IJ(t){t=Fo(t),t.model||(t.model=i=>i?t.view+":"+i:t.view);const e={view:t.view,model:t.model},n=kb(Sk(e,"start")),r=kb(Sk(e,"end"));return i=>{i.on(`element:${t.view}-start`,n,{priority:t.converterPriority||"normal"}),i.on(`element:${t.view}-end`,r,{priority:t.converterPriority||"normal"});const s=Co.low,o=Co.highest,a=Co.get(t.converterPriority)/o;i.on("element",OJ(e),{priority:s+a})}}function OJ(t){return(e,n,r)=>{const i=`data-${t.view}`;if(!r.consumable.test(n.viewItem,{attributes:i+"-end-after"})&&!r.consumable.test(n.viewItem,{attributes:i+"-start-after"})&&!r.consumable.test(n.viewItem,{attributes:i+"-end-before"})&&!r.consumable.test(n.viewItem,{attributes:i+"-start-before"}))return;n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor)),r.consumable.consume(n.viewItem,{attributes:i+"-end-after"})&&s(n.modelRange.end,n.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-after"})&&s(n.modelRange.end,n.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-end-before"})&&s(n.modelRange.start,n.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-before"})&&s(n.modelRange.start,n.viewItem.getAttribute(i+"-start-before").split(","));function s(o,a){for(const l of a){const c=t.model(l,r),u=r.writer.createElement("$marker",{"data-name":c});r.writer.insert(u,o),n.modelCursor.isEqual(o)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(o,1),n.modelRange=n.modelRange._getTransformedByInsertion(o,1)[0]}}}}function ew(t){return typeof t=="string"?t:typeof t=="object"&&typeof t.name=="string"?t.name:null}function kb(t){const e=new ed(t.view);return(n,r,i)=>{const s=e.match(r.viewItem);if(!s)return;const o=s.match;if(o.name=!0,!i.consumable.test(r.viewItem,o))return;const a=RJ(t.model,r.viewItem,i);a&&i.safeInsert(a,r.modelCursor)&&(i.consumable.consume(r.viewItem,o),i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r))}}function RJ(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}function MJ(t){typeof t.view=="string"&&(t.view={key:t.view});const e=t.view.key;let n;if(e=="class"||e=="style")n={[e=="class"?"classes":"styles"]:t.view.value};else{const r=typeof t.view.value>"u"?/[\s\S]*/:t.view.value;n={attributes:{[e]:r}}}return t.view.name&&(n.name=t.view.name),t.view=n,e}function $O(t,e=null){const n=e===null?!0:s=>s.getAttribute(e),r=typeof t.model!="object"?t.model:t.model.key,i=typeof t.model!="object"||typeof t.model.value>"u"?n:t.model.value;t.model={key:r,value:i}}function BO(t,e){const n=new ed(t.view);return(r,i,s)=>{if(!i.modelRange&&e)return;const o=n.match(i.viewItem);if(!o||(DJ(t.view,i.viewItem)?o.match.name=!0:delete o.match.name,!s.consumable.test(i.viewItem,o.match)))return;const a=t.model.key,l=typeof t.model.value=="function"?t.model.value(i.viewItem,s):t.model.value;if(l===null)return;i.modelRange||Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor)),NJ(i.modelRange,{key:a,value:l},e,s)&&(s.consumable.test(i.viewItem,{name:!0})&&(o.match.name=!0),s.consumable.consume(i.viewItem,o.match))}}function DJ(t,e){const n=typeof t=="function"?t(e):t;return typeof n=="object"&&!ew(n)?!1:!n.classes&&!n.attributes&&!n.styles}function NJ(t,e,n,r){let i=!1;for(const s of Array.from(t.getItems({shallow:n})))r.schema.checkAttribute(s,e.key)&&(i=!0,!s.hasAttribute(e.key)&&r.writer.setAttribute(e.key,e.value,s));return i}function FJ(t){return(e,n)=>{const r=typeof t=="string"?t:t(e,n);return n.writer.createElement("$marker",{"data-name":r})}}function Sk(t,e){const n=(r,i)=>{const s=r.getAttribute("name"),o=t.model(s,i);return i.writer.createElement("$marker",{"data-name":o})};return{view:`${t.view}-${e}`,model:n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function LJ(t){t.document.registerPostFixer(e=>$J(e,t))}function $J(t,e){const n=e.document.selection,r=e.schema,i=[];let s=!1;for(const o of n.getRanges()){const a=VO(o,r);a&&!a.isEqual(o)?(i.push(a),s=!0):i.push(o)}return s&&t.setSelection(UJ(i),{backward:n.isBackward}),!1}function VO(t,e){return t.isCollapsed?BJ(t,e):VJ(t,e)}function BJ(t,e){const n=t.start,r=e.getNearestSelectionRange(n);if(!r){const s=n.getAncestors().reverse().find(o=>e.isObject(o));return s?de._createOn(s):null}if(!r.isCollapsed)return r;const i=r.start;return n.isEqual(i)?null:new de(i)}function VJ(t,e){const{start:n,end:r}=t,i=e.checkChild(n,"$text"),s=e.checkChild(r,"$text"),o=e.getLimitElement(n),a=e.getLimitElement(r);if(o===a){if(i&&s)return null;if(zJ(n,r,e)){const d=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),h=r.nodeBefore&&e.isSelectable(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward"),m=d?d.start:n,p=h?h.end:r;return new de(m,p)}}const l=o&&!o.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const u=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,d=l&&(!u||!Tk(n.nodeAfter,e)),f=c&&(!u||!Tk(r.nodeBefore,e));let h=n,m=r;return d&&(h=_e._createBefore(Ek(o,e))),f&&(m=_e._createAfter(Ek(a,e))),new de(h,m)}return null}function Ek(t,e){let n=t,r=n;for(;e.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function zJ(t,e,n){const r=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),i=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return r||i}function UJ(t){const e=[...t],n=new Set;let r=1;for(;r<e.length;){const s=e[r],o=e.slice(0,r);for(const[a,l]of o.entries())if(!n.has(a)){if(s.isEqual(l))n.add(a);else if(s.isIntersecting(l)){n.add(a),n.add(r);const c=s.getJoined(l);e.push(c)}}r++}return e.filter((s,o)=>!n.has(o))}function Tk(t,e){return t&&e.isSelectable(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HJ extends Kt(){constructor(e,n){super(),this.model=e,this.view=new OQ(n),this.mapper=new CO,this.downcastDispatcher=new kO({mapper:this.mapper,schema:e.schema});const r=this.model.document,i=r.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(r.differ,s,o),this.downcastDispatcher.convertSelection(i,s,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",TJ(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",jJ(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",TO(),{priority:"lowest"}),this.downcastDispatcher.on("insert",AO(),{priority:"lowest"}),this.downcastDispatcher.on("remove",KQ(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",QQ()),this.downcastDispatcher.on("selection",GQ(),{priority:"low"}),this.downcastDispatcher.on("selection",YQ(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new oO(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const n=typeof e=="string"?e:e.name,r=this.model.markers.get(n);if(!r)throw new j("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:n});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function jJ(t,e,n){return(r,i)=>{if(!(n.document.isComposing&&!wt.isAndroid))for(let s=0;s<i.targetRanges.length;s++){const o=i.targetRanges[s],a=t.toModelRange(o),l=VO(a,e);!l||l.isEqual(a)||(i.targetRanges[s]=t.toViewRange(l))}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cu{constructor(){this._consumables=new Map}add(e,n){let r;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?r=this._consumables.get(e):(r=new WJ(e),this._consumables.set(e,r)),r.add(n)}test(e,n){const r=this._consumables.get(e);return r===void 0?null:e.is("$text")||e.is("documentFragment")?r:r.test(n)}consume(e,n){return this.test(e,n)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(n),!0):!1}revert(e,n){const r=this._consumables.get(e);r!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):r.revert(n))}static consumablesFromElement(e){const n={element:e,name:!0,attributes:[],classes:[],styles:[]},r=e.getAttributeKeys();for(const o of r)o=="style"||o=="class"||n.attributes.push(o);const i=e.getClassNames();for(const o of i)n.classes.push(o);const s=e.getStyleNames();for(const o of s)n.styles.push(o);return n}static createFrom(e,n){if(n||(n=new Cu),e.is("$text"))return n.add(e),n;e.is("element")&&n.add(e,Cu.consumablesFromElement(e)),e.is("documentFragment")&&n.add(e);for(const r of e.getChildren())n=Cu.createFrom(r,n);return n}}const Ef=["attributes","classes","styles"];class WJ{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const n of Ef)n in e&&this._add(n,e[n])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const n of Ef)if(n in e){const r=this._test(n,e[n]);if(r!==!0)return r}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const n of Ef)n in e&&this._consume(n,e[n])}revert(e){e.name&&(this._canConsumeName=!0);for(const n of Ef)n in e&&this._revert(n,e[n])}_add(e,n){const r=Ln(n)?n:[n],i=this._consumables[e];for(const s of r){if(e==="attributes"&&(s==="class"||s==="style"))throw new j("viewconsumable-invalid-attribute",this);if(i.set(s,!0),e==="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(s))i.set(o,!0)}}_test(e,n){const r=Ln(n)?n:[n],i=this._consumables[e];for(const s of r)if(e==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles",a=this._test(o,[...this._consumables[o].keys()]);if(a!==!0)return a}else{const o=i.get(s);if(o===void 0)return null;if(!o)return!1}return!0}_consume(e,n){const r=Ln(n)?n:[n],i=this._consumables[e];for(const s of r)if(e==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles";this._consume(o,[...this._consumables[o].keys()])}else if(i.set(s,!1),e=="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(s))i.set(o,!1)}_revert(e,n){const r=Ln(n)?n:[n],i=this._consumables[e];for(const s of r)if(e==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles";this._revert(o,[...this._consumables[o].keys()])}else i.get(s)===!1&&i.set(s,!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qJ extends Kt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,n)=>{n[0]=new _a(n[0])},{priority:"highest"}),this.on("checkChild",(e,n)=>{n[0]=new _a(n[0]),n[1]=this.getDefinition(n[1])},{priority:"highest"})}register(e,n){if(this._sourceDefinitions[e])throw new j("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},n)],this._clearCache()}extend(e,n){if(!this._sourceDefinitions[e])throw new j("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},n)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let n;return typeof e=="string"?n=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?n="$text":n=e.name,this.getDefinitions()[n]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const n=this.getDefinition(e);return!!(n&&n.isBlock)}isLimit(e){const n=this.getDefinition(e);return n?!!(n.isLimit||n.isObject):!1}isObject(e){const n=this.getDefinition(e);return n?!!(n.isObject||n.isLimit&&n.isSelectable&&n.isContent):!1}isInline(e){const n=this.getDefinition(e);return!!(n&&n.isInline)}isSelectable(e){const n=this.getDefinition(e);return n?!!(n.isSelectable||n.isObject):!1}isContent(e){const n=this.getDefinition(e);return n?!!(n.isContent||n.isObject):!1}checkChild(e,n){return n?this._checkContextMatch(n,e):!1}checkAttribute(e,n){const r=this.getDefinition(e.last);return r?r.allowAttributes.includes(n):!1}checkMerge(e,n){if(e instanceof _e){const r=e.nodeBefore,i=e.nodeAfter;if(!(r instanceof rn))throw new j("schema-check-merge-no-element-before",this);if(!(i instanceof rn))throw new j("schema-check-merge-no-element-after",this);return this.checkMerge(r,i)}for(const r of n.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e){this.on("checkChild",(n,[r,i])=>{if(!i)return;const s=e(r,i);typeof s=="boolean"&&(n.stop(),n.return=s)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(n,[r,i])=>{const s=e(r,i);typeof s=="boolean"&&(n.stop(),n.return=s)},{priority:"high"})}setAttributeProperties(e,n){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),n)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let n;for(e instanceof _e?n=e.parent:n=(e instanceof de?[e]:Array.from(e.getRanges())).reduce((i,s)=>{const o=s.getCommonAncestor();return i?i.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(n)&&n.parent;)n=n.parent;return n}checkAttributeInSelection(e,n){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new Ut("",e.getAttributes())];return this.checkAttribute(i,n)}else{const r=e.getRanges();for(const i of r)for(const s of i)if(this.checkAttribute(s.item,n))return!0}return!1}*getValidRanges(e,n){e=lX(e);for(const r of e)yield*this._getValidRangesForRange(r,n)}getNearestSelectionRange(e,n="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new de(e);let r,i;const s=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(n=="both"||n=="backward")&&(r=new is({boundaries:de._createIn(s),startPosition:e,direction:"backward"})),(n=="both"||n=="forward")&&(i=new is({boundaries:de._createIn(s),startPosition:e}));for(const o of aX(r,i)){const a=o.walker==r?"elementEnd":"elementStart",l=o.value;if(l.type==a&&this.isObject(l.item))return de._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new de(l.nextPosition)}return null}findAllowedParent(e,n){let r=e.parent;for(;r;){if(this.checkChild(r,n))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,n,r){const i=r.model;for(const[s,o]of Object.entries(n))i.schema.checkAttribute(e,s)&&r.setAttribute(s,o,e)}removeDisallowedAttributes(e,n){for(const r of e)if(r.is("$text"))Ak(this,r,n);else{const s=de._createIn(r).getPositions();for(const o of s){const a=o.nodeBefore||o.parent;Ak(this,a,n)}}}getAttributesWithProperty(e,n,r){const i={};for(const[s,o]of e.getAttributes()){const a=this.getAttributeProperties(s);a[n]!==void 0&&(r===void 0||r===a[n])&&(i[s]=o)}return i}createContext(e){return new _a(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},n=this._sourceDefinitions,r=Object.keys(n);for(const i of r)e[i]=KJ(n[i],i);for(const i of r)GJ(e,i);for(const i of r)YJ(e,i);for(const i of r)QJ(e,i);for(const i of r)JJ(e,i),XJ(e,i);for(const i of r)ZJ(e,i),eX(e,i),tX(e,i);this._compiledDefinitions=e}_checkContextMatch(e,n,r=n.length-1){const i=n.getItem(r);if(e.allowIn.includes(i.name)){if(r==0)return!0;{const s=this.getDefinition(i);return this._checkContextMatch(s,n,r-1)}}else return!1}*_getValidRangesForRange(e,n){let r=e.start,i=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(de._createIn(s),n)),this.checkAttribute(s,n)||(r.isEqual(i)||(yield new de(r,i)),r=_e._createAfter(s)),i=_e._createAfter(s);r.isEqual(i)||(yield new de(r,i))}}class _a{constructor(e){if(e instanceof _a)return e;let n;typeof e=="string"?n=[e]:Array.isArray(e)?n=e:n=e.getAncestors({includeSelf:!0}),this._items=n.map(oX)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const n=new _a([e]);return n._items=[...this._items,...n._items],n}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function KJ(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return nX(t,n),Zo(t,n,"allowIn"),Zo(t,n,"allowContentOf"),Zo(t,n,"allowWhere"),Zo(t,n,"allowAttributes"),Zo(t,n,"allowAttributesOf"),Zo(t,n,"allowChildren"),Zo(t,n,"inheritTypesFrom"),rX(t,n),n}function GJ(t,e){const n=t[e];for(const r of n.allowChildren){const i=t[r];i&&i.allowIn.push(e)}n.allowChildren.length=0}function YJ(t,e){for(const n of t[e].allowContentOf)t[n]&&iX(t,n).forEach(i=>{i.allowIn.push(e)});delete t[e].allowContentOf}function QJ(t,e){for(const n of t[e].allowWhere){const r=t[n];if(r){const i=r.allowIn;t[e].allowIn.push(...i)}}delete t[e].allowWhere}function JJ(t,e){for(const n of t[e].allowAttributesOf){const r=t[n];if(r){const i=r.allowAttributes;t[e].allowAttributes.push(...i)}}delete t[e].allowAttributesOf}function XJ(t,e){const n=t[e];for(const r of n.inheritTypesFrom){const i=t[r];if(i){const s=Object.keys(i).filter(o=>o.startsWith("is"));for(const o of s)o in n||(n[o]=i[o])}}delete n.inheritTypesFrom}function ZJ(t,e){const n=t[e],r=n.allowIn.filter(i=>t[i]);n.allowIn=Array.from(new Set(r))}function eX(t,e){const n=t[e];for(const r of n.allowIn)t[r].allowChildren.push(e)}function tX(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function nX(t,e){for(const n of t){const r=Object.keys(n).filter(i=>i.startsWith("is"));for(const i of r)e[i]=!!n[i]}}function Zo(t,e,n){for(const r of t){const i=r[n];typeof i=="string"?e[n].push(i):Array.isArray(i)&&e[n].push(...i)}}function rX(t,e){for(const n of t){const r=n.inheritAllFrom;r&&(e.allowContentOf.push(r),e.allowWhere.push(r),e.allowAttributesOf.push(r),e.inheritTypesFrom.push(r))}}function iX(t,e){const n=t[e];return sX(t).filter(r=>r.allowIn.includes(n.name))}function sX(t){return Object.keys(t).map(e=>t[e])}function oX(t){return typeof t=="string"||t.is("documentFragment")?{name:typeof t=="string"?t:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute(e){return t.getAttribute(e)}}}function*aX(t,e){let n=!1;for(;!n;){if(n=!0,t){const r=t.next();r.done||(n=!1,yield{walker:t,value:r.value})}if(e){const r=e.next();r.done||(n=!1,yield{walker:e,value:r.value})}}}function*lX(t){for(const e of t)yield*e.getMinimalFlatRanges()}function Ak(t,e,n){for(const r of e.getAttributeKeys())t.checkAttribute(e,r)||n.removeAttribute(r,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cX extends Yt(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(n,r)=>this._convertItem(n,r),convertChildren:(n,r)=>this._convertChildren(n,r),safeInsert:(n,r)=>this._safeInsert(n,r),updateConversionResult:(n,r)=>this._updateConversionResult(n,r),splitToAllowedParent:(n,r)=>this._splitToAllowedParent(n,r),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)}}convert(e,n,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=dX(r,n),this.conversionApi.writer=n,this.conversionApi.consumable=Cu.createFrom(e),this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor),s=n.createDocumentFragment();if(i){this._removeEmptyElements();for(const o of Array.from(this._modelCursor.parent.getChildren()))n.append(o,s);s.markers=uX(s,n)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,n){const r={viewItem:e,modelCursor:n,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof de))throw new j("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,n){let r=n.is("position")?n:_e._createAt(n,0);const i=new de(r);for(const s of Array.from(e.getChildren())){const o=this._convertItem(s,r);o.modelRange instanceof de&&(i.end=o.modelRange.end,r=o.modelCursor)}return{modelRange:i,modelCursor:r}}_safeInsert(e,n){const r=this._splitToAllowedParent(e,n);return r?(this.conversionApi.writer.insert(e,r.position),!0):!1}_updateConversionResult(e,n){const r=this._getSplitParts(e),i=this.conversionApi.writer;n.modelRange||(n.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(r[r.length-1])));const s=this._cursorParents.get(e);s?n.modelCursor=i.createPositionAt(s,0):n.modelCursor=n.modelRange.end}_splitToAllowedParent(e,n){const{schema:r,writer:i}=this.conversionApi;let s=r.findAllowedParent(n,e);if(s){if(s===n.parent)return{position:n};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return NO(n,e,r)?{position:FO(n,i)}:null;const o=this.conversionApi.writer.split(n,s),a=[];for(const c of o.range.getWalker())if(c.type=="elementEnd")a.push(c.item);else{const u=a.pop(),d=c.item;this._registerSplitPair(u,d)}const l=o.range.end.parent;return this._cursorParents.set(e,l),{position:o.position,cursorParent:l}}_registerSplitPair(e,n){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(n,r),r.push(n)}_getSplitParts(e){let n;return this._splitParts.has(e)?n=this._splitParts.get(e):n=[e],n}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const n of this._splitParts.keys())n.isEmpty&&!this._emptyElementsToKeep.has(n)&&(this.conversionApi.writer.remove(n),this._splitParts.delete(n),e=!0);e&&this._removeEmptyElements()}}function uX(t,e){const n=new Set,r=new Map,i=de._createIn(t).getItems();for(const s of i)s.is("element","$marker")&&n.add(s);for(const s of n){const o=s.getAttribute("data-name"),a=e.createPositionBefore(s);r.has(o)?r.get(o).end=a.clone():r.set(o,new de(a.clone())),e.remove(s)}return r}function dX(t,e){let n;for(const r of new _a(t)){const i={};for(const o of r.getAttributeKeys())i[o]=r.getAttribute(o);const s=e.createElement(r.name,i);n&&e.insert(s,n),n=_e._createAt(s,0)}return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fX{getHtml(e){const r=document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zO{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new gO(e,{renderingMode:"data"}),this.htmlWriter=new fX}toData(e){const n=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(n)}toView(e){const n=this._toDom(e);return this.domConverter.domToView(n,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const n=this.domParser.parseFromString(e,"text/html"),r=n.createDocumentFragment(),i=n.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);return r}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hX extends Yt(){constructor(e,n){super(),this.model=e,this.mapper=new CO,this.downcastDispatcher=new kO({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",TO(),{priority:"lowest"}),this.downcastDispatcher.on("insert",AO(),{priority:"lowest"}),this.upcastDispatcher=new cX({schema:e.schema}),this.viewDocument=new cO(n),this.stylesProcessor=n,this.htmlProcessor=new zO(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new dO(this.viewDocument),this.upcastDispatcher.on("text",EJ(),{priority:"lowest"}),this.upcastDispatcher.on("element",kk(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",kk(),{priority:"lowest"}),Kt().prototype.decorate.call(this,"init"),Kt().prototype.decorate.call(this,"set"),Kt().prototype.decorate.call(this,"get"),Kt().prototype.decorate.call(this,"toView"),Kt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},DO)},{priority:"lowest"})}get(e={}){const{rootName:n="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([n]))throw new j("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(n);return i.isAttached()||en("datacontroller-get-detached-root",this),r==="empty"&&!this.model.hasContent(i,{ignoreWhitespaces:!0})?"":this.stringify(i,e)}stringify(e,n={}){const r=this.toView(e,n);return this.processor.toData(r)}toView(e,n={}){const r=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const s=de._createIn(e),o=new wa(r);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:mX(e);return this.downcastDispatcher.convert(s,a,i,n),o}init(e){if(this.model.document.version)throw new j("datacontroller-init-document-not-empty",this);let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new j("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const i of Object.keys(n)){const s=this.model.document.getRoot(i);r.insert(this.parse(n[i],s),s,0)}}),Promise.resolve()}set(e,n={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new j("datacontroller-set-non-existent-root",this);this.model.enqueueChange(n.batchType||{},i=>{i.setSelection(null),i.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(r)){const o=this.model.document.getRoot(s);i.remove(i.createRangeIn(o)),i.insert(this.parse(r[s],o),o,0)}})}parse(e,n="$root"){const r=this.processor.toView(e);return this.toModel(r,n)}toModel(e,n="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,n))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const n of e)if(!this.model.document.getRoot(n))return!1;return!0}}function mX(t){const e=[],n=t.root.document;if(!n)return new Map;const r=de._createIn(t);for(const i of n.model.markers){const s=i.getRange(),o=s.isCollapsed,a=s.start.isEqual(r.start)||s.end.isEqual(r.end);if(o&&a)e.push([i.name,s]);else{const l=r.getIntersection(s);l&&e.push([i.name,l])}}return e.sort(([i,s],[o,a])=>{if(s.end.compareWith(a.start)!=="after")return 1;if(s.start.compareWith(a.end)!=="before")return-1;switch(s.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(s.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(i)}}}),new Map(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pX{constructor(e,n){this._helpers=new Map,this._downcast=sr(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=sr(n),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,n){const r=this._downcast.includes(n);if(!this._upcast.includes(n)&&!r)throw new j("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[n],isDowncast:r})}for(e){if(!this._helpers.has(e))throw new j("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:n,view:r}of xg(e))this.for("upcast").elementToElement({model:n,view:r,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:n,view:r}of xg(e))this.for("upcast").elementToAttribute({view:r,model:n,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:n,view:r}of xg(e))this.for("upcast").attributeToAttribute({view:r,model:n})}_createConversionHelpers({name:e,dispatchers:n,isDowncast:r}){if(this._helpers.has(e))throw new j("conversion-group-exists",this);const i=r?new qQ(n):new SJ(n);this._helpers.set(e,i)}}function*xg(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},r=t.view[e],i=t.upcastAlso?t.upcastAlso[e]:void 0;yield*xk(n,r,i)}else yield*xk(t.model,t.view,t.upcastAlso)}function*xk(t,e,n){if(yield{model:t,view:e},n)for(const r of sr(n))yield{model:t,view:r}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oi{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,n){return new this(e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tw(t,e){const n=HO(e),r=n.reduce((o,a)=>o+a.offsetSize,0),i=t.parent;ad(t);const s=t.index;return i._insertChild(s,n),od(i,s+n.length),od(i,s),new de(t,t.getShiftedBy(r))}function UO(t){if(!t.isFlat)throw new j("operation-utils-remove-range-not-flat",this);const e=t.start.parent;ad(t.start),ad(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return od(e,t.start.index),n}function sd(t,e){if(!t.isFlat)throw new j("operation-utils-move-range-not-flat",this);const n=UO(t);return e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),tw(e,n)}function gX(t,e,n){ad(t.start),ad(t.end);for(const r of t.getItems({shallow:!0})){const i=r.is("$textProxy")?r.textNode:r;n!==null?i._setAttribute(e,n):i._removeAttribute(e),od(i.parent,i.index)}od(t.end.parent,t.end.index)}function HO(t){const e=[];function n(r){if(typeof r=="string")e.push(new Ut(r));else if(r instanceof Di)e.push(new Ut(r.data,r.getAttributes()));else if(r instanceof Ja)e.push(r);else if(si(r))for(const i of r)n(i)}n(t);for(let r=1;r<e.length;r++){const i=e[r],s=e[r-1];i instanceof Ut&&s instanceof Ut&&jO(i,s)&&(e.splice(r-1,2,new Ut(s.data+i.data,s.getAttributes())),r--)}return e}function od(t,e){const n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&jO(n,r)){const i=new Ut(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,i)}}function ad(t){const e=t.textNode,n=t.parent;if(e){const r=t.offset-e.startOffset,i=e.index;n._removeChildren(i,1);const s=new Ut(e.data.substr(0,r),e.getAttributes()),o=new Ut(e.data.substr(r),e.getAttributes());n._insertChild(i,[s,o])}}function jO(t,e){const n=t.getAttributes(),r=e.getAttributes();for(const i of n){if(i[1]!==e.getAttribute(i[0]))return!1;r.next()}return r.next().done}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ft extends oi{constructor(e,n,r,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=n,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[de._createFromPositionAndShift(this.sourcePosition,this.howMany),de._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Ft(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ft(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent,r=this.sourcePosition.offset,i=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new j("move-operation-nodes-do-not-exist",this);if(e===n&&r<i&&i<r+this.howMany)throw new j("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&kr(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=r&&this.targetPosition.path[s]<r+this.howMany)throw new j("move-operation-node-into-itself",this)}}_execute(){sd(de._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,n){const r=_e.fromJSON(e.sourcePosition,n),i=_e.fromJSON(e.targetPosition,n);return new this(r,e.howMany,i,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gn extends oi{constructor(e,n,r){super(r),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new wu(HO(n)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new wu([...this.nodes].map(r=>r._clone(!0))),n=new Gn(this.position,e,this.baseVersion);return n.shouldReceiveAttributes=this.shouldReceiveAttributes,n}getReversed(){const e=this.position.root.document.graveyard,n=new _e(e,[0]);return new Ft(this.position,this.nodes.maxOffset,n,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new j("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new wu([...e].map(n=>n._clone(!0))),tw(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,n){const r=[];for(const s of e.nodes)s.name?r.push(rn.fromJSON(s)):r.push(Ut.fromJSON(s));const i=new Gn(_e.fromJSON(e.position,n),r,e.baseVersion);return i.shouldReceiveAttributes=e.shouldReceiveAttributes,i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ht extends oi{constructor(e,n,r,i,s){super(s),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=n,this.insertionPosition=r,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new _e(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new de(this.splitPosition,e)}get affectedSelectable(){const e=[de._createFromPositionAndShift(this.splitPosition,0),de._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(de._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Ht(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,n=new _e(e,[0]);return new bn(this.moveTargetPosition,this.howMany,this.splitPosition,n,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,n=this.splitPosition.offset;if(!e||e.maxOffset<n)throw new j("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new j("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new j("split-operation-graveyard-position-invalid",this)}else throw new j("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)sd(de._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();tw(this.insertionPosition,r)}const n=new de(_e._createAt(e,this.splitPosition.offset),_e._createAt(e,e.maxOffset));sd(n,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const n=e.path.slice(0,-1);return n[n.length-1]++,new _e(e.root,n,"toPrevious")}static fromJSON(e,n){const r=_e.fromJSON(e.splitPosition,n),i=_e.fromJSON(e.insertionPosition,n),s=e.graveyardPosition?_e.fromJSON(e.graveyardPosition,n):null;return new this(r,e.howMany,i,s,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bn extends oi{constructor(e,n,r,i,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=n,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new _e(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new de(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[de._createOn(e),de._createFromPositionAndShift(this.targetPosition,0),de._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new bn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),n=this.sourcePosition.path.slice(0,-1),r=new _e(this.sourcePosition.root,n)._getTransformedByMergeOperation(this);return new Ht(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent;if(e.parent)if(n.parent){if(this.howMany!=e.maxOffset)throw new j("merge-operation-how-many-invalid",this)}else throw new j("merge-operation-target-position-invalid",this);else throw new j("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,n=de._createIn(e);sd(n,this.targetPosition),sd(de._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,n){const r=_e.fromJSON(e.sourcePosition,n),i=_e.fromJSON(e.targetPosition,n),s=_e.fromJSON(e.graveyardPosition,n);return new this(r,e.howMany,i,s,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $r extends oi{constructor(e,n,r,i,s,o){super(o),this.name=e,this.oldRange=n?n.clone():null,this.newRange=r?r.clone():null,this.affectsData=s,this._markers=i}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new $r(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new $r(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,n){return new $r(e.name,e.oldRange?de.fromJSON(e.oldRange,n):null,e.newRange?de.fromJSON(e.newRange,n):null,n.model.markers,e.affectsData,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sn extends oi{constructor(e,n,r,i,s){super(s),this.range=e.clone(),this.key=n,this.oldValue=r===void 0?null:r,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Sn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Sn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new j("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Kl(e.getAttribute(this.key),this.oldValue))throw new j("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new j("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Kl(this.oldValue,this.newValue)||gX(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,n){return new Sn(de.fromJSON(e.range,n),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class On extends oi{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new On(this.baseVersion)}getReversed(){return new On(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Br extends oi{constructor(e,n,r,i){super(i),this.position=e,this.position.stickiness="toNext",this.oldName=n,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Br(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Br(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof rn){if(e.name!==this.oldName)throw new j("rename-operation-wrong-name",this)}else throw new j("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,n){return new Br(_e.fromJSON(e.position,n),e.oldName,e.newName,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ds extends oi{constructor(e,n,r,i,s){super(s),this.root=e,this.key=n,this.oldValue=r===void 0?null:r,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Ds(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ds(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new j("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new j("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new j("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,n){if(!n.getRoot(e.root))throw new j("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Ds(n.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cs extends oi{constructor(e,n,r,i,s){if(super(s),this.rootName=e,this.elementName=n,this.isAdd=r,this._document=i,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new cs(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new cs(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,n){return new cs(e.rootName,e.elementName,e.isAdd,n,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Si={};Si[Sn.className]=Sn;Si[Gn.className]=Gn;Si[$r.className]=$r;Si[Ft.className]=Ft;Si[On.className]=On;Si[oi.className]=oi;Si[Br.className]=Br;Si[Ds.className]=Ds;Si[cs.className]=cs;Si[Ht.className]=Ht;Si[bn.className]=bn;class vX{static fromJSON(e,n){return Si[e.__className].fromJSON(e,n)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Sb=new Map;function Rt(t,e,n){let r=Sb.get(t);r||(r=new Map,Sb.set(t,r)),r.set(e,n)}function bX(t,e){const n=Sb.get(t);return n&&n.has(e)?n.get(e):yX}function yX(t){return[t]}function Pk(t,e,n={}){const r=bX(t.constructor,e.constructor);try{return t=t.clone(),r(t,e,n)}catch(i){throw i}}function wX(t,e,n){t=t.slice(),e=e.slice();const r=new _X(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(t),r.setOriginalOperations(e);const i=r.originalOperations;if(t.length==0||e.length==0)return{operationsA:t,operationsB:e,originalOperations:i};const s=new WeakMap;for(const l of t)s.set(l,0);const o={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;for(;a<t.length;){const l=t[a],c=s.get(l);if(c==e.length){a++;continue}const u=e[c],d=Pk(l,u,r.getContext(l,u,!0)),f=Pk(u,l,r.getContext(u,l,!1));r.updateRelation(l,u),r.setOriginalOperations(d,l),r.setOriginalOperations(f,u);for(const h of d)s.set(h,c+f.length);t.splice(a,1,...d),e.splice(c,1,...f)}if(n.padWithNoOps){const l=t.length-o.originalOperationsACount,c=e.length-o.originalOperationsBCount;Ok(t,c-l),Ok(e,l-c)}return Ik(t,o.nextBaseVersionB),Ik(e,o.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:i}}class _X{constructor(e,n,r=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=n,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(e,n=null){const r=n?this.originalOperations.get(n):null;for(const i of e)this.originalOperations.set(i,r||i)}updateRelation(e,n){if(e instanceof Ft)n instanceof bn?e.targetPosition.isEqual(n.sourcePosition)||n.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,n,"insertAtSource"):e.targetPosition.isEqual(n.deletionPosition)?this._setRelation(e,n,"insertBetween"):e.targetPosition.isAfter(n.sourcePosition)&&this._setRelation(e,n,"moveTargetAfter"):n instanceof Ft&&(e.targetPosition.isEqual(n.sourcePosition)||e.targetPosition.isBefore(n.sourcePosition)?this._setRelation(e,n,"insertBefore"):this._setRelation(e,n,"insertAfter"));else if(e instanceof Ht){if(n instanceof bn)e.splitPosition.isBefore(n.sourcePosition)&&this._setRelation(e,n,"splitBefore");else if(n instanceof Ft)if(e.splitPosition.isEqual(n.sourcePosition)||e.splitPosition.isBefore(n.sourcePosition))this._setRelation(e,n,"splitBefore");else{const r=de._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.splitPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(e.splitPosition)){const i=r.end.offset-e.splitPosition.offset,s=e.splitPosition.offset-r.start.offset;this._setRelation(e,n,{howMany:i,offset:s})}}}else if(e instanceof bn)n instanceof bn?(e.targetPosition.isEqual(n.sourcePosition)||this._setRelation(e,n,"mergeTargetNotMoved"),e.sourcePosition.isEqual(n.targetPosition)&&this._setRelation(e,n,"mergeSourceNotMoved"),e.sourcePosition.isEqual(n.sourcePosition)&&this._setRelation(e,n,"mergeSameElement")):n instanceof Ht&&e.sourcePosition.isEqual(n.splitPosition)&&this._setRelation(e,n,"splitAtSource");else if(e instanceof $r){const r=e.newRange;if(!r)return;if(n instanceof Ft){const i=de._createFromPositionAndShift(n.sourcePosition,n.howMany),s=i.containsPosition(r.start)||i.start.isEqual(r.start),o=i.containsPosition(r.end)||i.end.isEqual(r.end);(s||o)&&!i.containsRange(r)&&this._setRelation(e,n,{side:s?"left":"right",path:s?r.start.path.slice():r.end.path.slice()})}else if(n instanceof bn){const i=r.start.isEqual(n.targetPosition),s=r.start.isEqual(n.deletionPosition),o=r.end.isEqual(n.deletionPosition),a=r.end.isEqual(n.sourcePosition);(i||s||o||a)&&this._setRelation(e,n,{wasInLeftElement:i,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,n,r){return{aIsStrong:r,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(n),abRelation:this._useRelations?this._getRelation(e,n):null,baRelation:this._useRelations?this._getRelation(n,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const n=this.originalOperations.get(e);return n.wasUndone||this._history.isUndoneOperation(n)}_getRelation(e,n){const r=this.originalOperations.get(n),i=this._history.getUndoneOperation(r);if(!i)return null;const s=this.originalOperations.get(e),o=this._relations.get(s);return o&&o.get(i)||null}_setRelation(e,n,r){const i=this.originalOperations.get(e),s=this.originalOperations.get(n);let o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(s,r)}}function Ik(t,e){for(const n of t)n.baseVersion=e++}function Ok(t,e){for(let n=0;n<e;n++)t.push(new On(0))}Rt(Sn,Sn,(t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const r=t.range.getDifference(e.range).map(s=>new Sn(s,t.key,t.oldValue,t.newValue,0)),i=t.range.getIntersection(e.range);return i&&n.aIsStrong&&r.push(new Sn(i,e.key,e.newValue,t.newValue,0)),r.length==0?[new On(0)]:r}else return[t]});Rt(Sn,Gn,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const r=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new Sn(i,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const i=WO(e,t.key,t.oldValue);i&&r.unshift(i)}return r}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]});function WO(t,e,n){const i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;const s=new de(t.position,t.position.getShiftedBy(t.howMany));return new Sn(s,e,i,n,0)}Rt(Sn,bn,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(de._createFromPositionAndShift(e.graveyardPosition,1));const r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map(i=>new Sn(i,t.key,t.oldValue,t.newValue,t.baseVersion))});Rt(Sn,Ft,(t,e)=>CX(t.range,e).map(r=>new Sn(r,t.key,t.oldValue,t.newValue,t.baseVersion)));function CX(t,e){const n=de._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,i=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(i=t.getDifference(n),r=t.getIntersection(n)):i=[t];const s=[];for(let o of i){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),l=o.start.hasSameParentAs(a),c=o._getTransformedByInsertion(a,e.howMany,l);s.push(...c)}return r&&s.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s}Rt(Sn,Ht,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new de(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]});Rt(Gn,Sn,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const r=WO(t,e.key,e.newValue);r&&n.push(r)}return n});Rt(Gn,Gn,(t,e,n)=>t.position.isEqual(e.position)&&n.aIsStrong?[t]:(t.position=t.position._getTransformedByInsertOperation(e),[t]));Rt(Gn,Ft,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]));Rt(Gn,Ht,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]));Rt(Gn,bn,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]));Rt($r,Gn,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]));Rt($r,$r,(t,e,n)=>{if(t.name==e.name)if(n.aIsStrong)t.oldRange=e.newRange?e.newRange.clone():null;else return[new On(0)];return[t]});Rt($r,bn,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]));Rt($r,Ft,(t,e,n)=>{if(t.oldRange&&(t.oldRange=de._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const r=de._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if(n.abRelation.side=="left"&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.end=r.end,t.newRange.start.path=n.abRelation.path,[t];if(n.abRelation.side=="right"&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=r.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=de._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]});Rt($r,Ht,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=_e._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=_e._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=_e._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=_e._createAt(e.insertionPosition):t.newRange.end=r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]});Rt(bn,Gn,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]));Rt(bn,bn,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition))if(n.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),t.sourcePosition=new _e(e.graveyardPosition.root,r),t.howMany=0,[t]}else return[new On(0)];if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource"){const r=t.targetPosition.root.rootName=="$graveyard",i=e.targetPosition.root.rootName=="$graveyard";if(i&&!r||!(r&&!i)&&n.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),c=t.targetPosition._getTransformedByMergeOperation(e);return[new Ft(l,t.howMany,c,0)]}else return[new On(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),(!t.graveyardPosition.isEqual(e.graveyardPosition)||!n.aIsStrong)&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]});Rt(bn,Ft,(t,e,n)=>{const r=de._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new On(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])});Rt(bn,Ht,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const r=e.howMany!=0,i=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(r||i||n.abRelation=="mergeTargetNotMoved")return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if(n.abRelation=="mergeSourceNotMoved")return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if(n.abRelation=="mergeSameElement"||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]});Rt(Ft,Gn,(t,e)=>{const r=de._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]});Rt(Ft,Ft,(t,e,n)=>{const r=de._createFromPositionAndShift(t.sourcePosition,t.howMany),i=de._createFromPositionAndShift(e.sourcePosition,e.howMany);let s=n.aIsStrong,o=!n.aIsStrong;n.abRelation=="insertBefore"||n.baRelation=="insertAfter"?o=!0:(n.abRelation=="insertAfter"||n.baRelation=="insertBefore")&&(o=!1);let a;if(t.targetPosition.isEqual(e.targetPosition)&&o?a=t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Rk(t,e)&&Rk(e,t))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Il([r],a);if(i.containsPosition(t.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Il([r],a);const u=kr(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(u=="prefix"||u=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Il([r],a);t.type=="remove"&&e.type!="remove"&&!n.aWasUndone&&!n.forceWeakRemove?s=!0:t.type!="remove"&&e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&(s=!1);const d=[],f=r.getDifference(i);for(const m of f){m.start=m.start._getTransformedByDeletion(e.sourcePosition,e.howMany),m.end=m.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const p=kr(m.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",y=m._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,p);d.push(...y)}const h=r.getIntersection(i);return h!==null&&s&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.length===0?d.push(h):d.length==1?i.start.isBefore(r.start)||i.start.isEqual(r.start)?d.unshift(h):d.push(h):d.splice(1,0,h)),d.length===0?[new On(t.baseVersion)]:Il(d,a)});Rt(Ft,Ht,(t,e,n)=>{let r=t.targetPosition.clone();(!t.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||n.abRelation=="moveTargetAfter")&&(r=t.targetPosition._getTransformedBySplitOperation(e));const i=de._createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){let a=new de(e.splitPosition,i.end);a=a._getTransformedBySplitOperation(e);const l=[new de(i.start,e.splitPosition),a];return Il(l,r)}t.targetPosition.isEqual(e.splitPosition)&&n.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&n.abRelation=="insertBetween"&&(r=t.targetPosition);const o=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);t.howMany>1&&a&&!n.aWasUndone&&o.push(de._createFromPositionAndShift(e.insertionPosition,1))}return Il(o,r)});Rt(Ft,bn,(t,e,n)=>{const r=de._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(t.type=="remove"&&!n.forceWeakRemove){if(!n.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(o.push(new Ft(t.sourcePosition,t.howMany-1,t.targetPosition,0)),a=a._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),l=l._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const c=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),u=new Ft(a,1,c,0),d=u.getMovedRangeStart().path.slice();d.push(0);const f=new _e(u.targetPosition.root,d);l=l._getTransformedByMove(a,c,1);const h=new Ft(l,e.howMany,f,0);return o.push(u),o.push(h),o}}else if(t.howMany==1)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new On(0)]}const s=de._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=s.start,t.howMany=s.end.offset-s.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]});Rt(Br,Gn,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]));Rt(Br,bn,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]));Rt(Br,Ft,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]));Rt(Br,Br,(t,e,n)=>{if(t.position.isEqual(e.position))if(n.aIsStrong)t.oldName=e.newName;else return[new On(0)];return[t]});Rt(Br,Ht,(t,e)=>{const n=t.position.path,r=e.splitPosition.getParentPath();if(kr(n,r)=="same"&&!e.graveyardPosition){const i=new Br(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,i]}return t.position=t.position._getTransformedBySplitOperation(e),[t]});Rt(Ds,Ds,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new On(0)];t.oldValue=e.newValue}return[t]});Rt(cs,cs,(t,e)=>t.rootName===e.rootName&&t.isAdd===e.isAdd?[new On(0)]:[t]);Rt(Ht,Gn,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]));Rt(Ht,bn,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const i=new _e(e.graveyardPosition.root,r),s=Ht.getInsertionPosition(new _e(e.graveyardPosition.root,r)),o=new Ht(i,0,s,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Ht.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Ht.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]});Rt(Ht,Ft,(t,e,n)=>{const r=de._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const s=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&s){const o=t.splitPosition._getTransformedByMoveOperation(e),a=t.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);const c=new _e(a.root,l);return[new Ft(o,t.howMany,c,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const i=t.splitPosition.isEqual(e.targetPosition);if(i&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore"))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=Ht.getInsertionPosition(t.splitPosition),[t];if(i&&n.abRelation&&n.abRelation.howMany){const{howMany:s,offset:o}=n.abRelation;return t.howMany+=s,t.splitPosition=t.splitPosition.getShiftedBy(o),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){const s=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=s,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=Ht.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=Ht.getInsertionPosition(t.splitPosition),[t]});Rt(Ht,Ht,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new On(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new On(0)];if(n.abRelation=="splitBefore")return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const r=t.splitPosition.root.rootName=="$graveyard",i=e.splitPosition.root.rootName=="$graveyard";if(i&&!r||!(r&&!i)&&n.aIsStrong){const l=[];return e.howMany&&l.push(new Ft(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&l.push(new Ft(t.splitPosition,t.howMany,t.moveTargetPosition,0)),l}else return[new On(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&n.abRelation=="splitBefore")return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&n.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const i=new _e(e.insertionPosition.root,r),s=new Ft(t.insertionPosition,1,i,0);return[t,s]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=Ht.getInsertionPosition(t.splitPosition),[t]});function Rk(t,e){return t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Il(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=new Ft(i.start,i.end.offset-i.start.offset,e,0);n.push(s);for(let o=r+1;o<t.length;o++)t[o]=t[o]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rr extends Yt(_e){constructor(e,n,r="toNone"){if(super(e,n,r),!this.root.is("rootElement"))throw new j("model-liveposition-root-not-rootelement",e);kX.call(this)}detach(){this.stopListening()}toPosition(){return new _e(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,n){return new this(e.root,e.path.slice(),n||e.stickiness)}}Rr.prototype.is=function(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"};function kX(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&SX.call(this,n)},{priority:"low"})}function SX(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ul{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},en("batch-constructor-deprecated-string-type"));const{isUndoable:n=!0,isLocal:r=!0,isUndo:i=!1,isTyping:s=!1}=e;this.operations=[],this.isUndoable=n,this.isLocal=r,this.isUndo=i,this.isTyping=s}get type(){return en("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EX{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const n=e;switch(n.type){case"insert":{if(this._isInInsertedElement(n.position.parent))return;this._markInsert(n.position.parent,n.position.offset,n.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const r of n.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break}case"remove":case"move":case"reinsert":{if(n.sourcePosition.isEqual(n.targetPosition)||n.sourcePosition.getShiftedBy(n.howMany).isEqual(n.targetPosition))return;const r=this._isInInsertedElement(n.sourcePosition.parent),i=this._isInInsertedElement(n.targetPosition.parent);r||this._markRemove(n.sourcePosition.parent,n.sourcePosition.offset,n.howMany),i||this._markInsert(n.targetPosition.parent,n.getMovedRangeStart().offset,n.howMany);break}case"rename":{if(this._isInInsertedElement(n.position.parent))return;this._markRemove(n.position.parent,n.position.offset,1),this._markInsert(n.position.parent,n.position.offset,1);const r=de._createFromPositionAndShift(n.position,1);for(const i of this._markerCollection.getMarkersIntersectingRange(r)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}break}case"split":{const r=n.splitPosition.parent;this._isInInsertedElement(r)||this._markRemove(r,n.splitPosition.offset,n.howMany),this._isInInsertedElement(n.insertionPosition.parent)||this._markInsert(n.insertionPosition.parent,n.insertionPosition.offset,1),n.graveyardPosition&&this._markRemove(n.graveyardPosition.parent,n.graveyardPosition.offset,1);break}case"merge":{const r=n.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const i=n.graveyardPosition.parent;this._markInsert(i,n.graveyardPosition.offset,1);const s=n.targetPosition.parent;this._isInInsertedElement(s)||this._markInsert(s,n.targetPosition.offset,r.maxOffset);break}case"detachRoot":case"addRoot":{const r=n.affectedSelectable;if(!r._isLoaded||r.isAttached()==n.isAdd)return;this._bufferRootStateChange(n.rootName,n.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!n.root._isLoaded)return;const r=n.root.rootName;this._bufferRootAttributeChange(r,n.key,n.oldValue,n.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,n,r){n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let i=this._changedMarkers.get(e);i?i.newMarkerData=r:(i={newMarkerData:r,oldMarkerData:n},this._changedMarkers.set(e,i)),i.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[n,r]of this._changedMarkers)r.oldMarkerData.range!=null&&e.push({name:n,range:r.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[n,r]of this._changedMarkers)r.newMarkerData.range!=null&&e.push({name:n,range:r.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,n])=>({name:e,data:{oldRange:n.oldMarkerData.range,newRange:n.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:n}of this._changedMarkers.values()){if(e.affectsData!==n.affectsData)return!0;if(e.affectsData){const r=e.range&&!n.range,i=!e.range&&n.range,s=e.range&&n.range&&!e.range.isEqual(n.range);if(r||i||s)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let n=[];for(const r of this._changesInElement.keys()){const i=this._changesInElement.get(r).sort((u,d)=>u.offset===d.offset?u.type!=d.type?u.type=="remove"?-1:1:0:u.offset<d.offset?-1:1),s=this._elementSnapshots.get(r),o=Mk(r.getChildren()),a=TX(s.length,i);let l=0,c=0;for(const u of a)if(u==="i")n.push(this._getInsertDiff(r,l,o[l])),l++;else if(u==="r")n.push(this._getRemoveDiff(r,l,s[c])),c++;else if(u==="a"){const d=o[l].attributes,f=s[c].attributes;let h;if(o[l].name=="$text")h=new de(_e._createAt(r,l),_e._createAt(r,l+1));else{const m=r.offsetToIndex(l);h=new de(_e._createAt(r,l),_e._createAt(r.getChild(m),0))}n.push(...this._getAttributesDiff(h,f,d)),l++,c++}else l++,c++}n.sort((r,i)=>r.position.root!=i.position.root?r.position.root.rootName<i.position.root.rootName?-1:1:r.position.isEqual(i.position)?r.changeCount-i.changeCount:r.position.isBefore(i.position)?-1:1);for(let r=1,i=0;r<n.length;r++){const s=n[i],o=n[r],a=s.type=="remove"&&o.type=="remove"&&s.name=="$text"&&o.name=="$text"&&s.position.isEqual(o.position),l=s.type=="insert"&&o.type=="insert"&&s.name=="$text"&&o.name=="$text"&&s.position.parent==o.position.parent&&s.position.offset+s.length==o.position.offset,c=s.type=="attribute"&&o.type=="attribute"&&s.position.parent==o.position.parent&&s.range.isFlat&&o.range.isFlat&&s.position.offset+s.length==o.position.offset&&s.attributeKey==o.attributeKey&&s.attributeOldValue==o.attributeOldValue&&s.attributeNewValue==o.attributeNewValue;a||l||c?(s.length++,c&&(s.range.end=s.range.end.getShiftedBy(1)),n[r]=null):i=r}n=n.filter(r=>r);for(const r of n)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=n,this._cachedChanges=n.filter(AX),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const n={...e};return n.state!==void 0&&delete n.attributes,n})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,n){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:n?"attached":"detached"});return}const r=this._changedRoots.get(e);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(e)):r.state=n?"attached":"detached"}_bufferRootAttributeChange(e,n,r,i){const s=this._changedRoots.get(e)||{name:e},o=s.attributes||{};if(o[n]){const a=o[n];i===a.oldValue?delete o[n]:a.newValue=i}else o[n]={oldValue:r,newValue:i};Object.entries(o).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(e)):(s.attributes=o,this._changedRoots.set(e,s))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const n=de._createOn(e);for(const r of this._markerCollection.getMarkersIntersectingRange(n)){const i=r.getData();this.bufferMarkerChange(r.name,i,i)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const r=n.getData();this.bufferMarkerChange(n.name,{...r,range:null},r)}}}_markInsert(e,n,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"insert",offset:n,howMany:r,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,n,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"remove",offset:n,howMany:r,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,n,r)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const n={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,n)}_markChange(e,n){this._makeSnapshot(e);const r=this._getChangesForElement(e);this._handleChange(n,r),r.push(n);for(let i=0;i<r.length;i++)r[i].howMany<1&&(r.splice(i,1),i--)}_getChangesForElement(e){let n;return this._changesInElement.has(e)?n=this._changesInElement.get(e):(n=[],this._changesInElement.set(e,n)),n}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Mk(e.getChildren()))}_handleChange(e,n){e.nodesToHandle=e.howMany;for(const r of n){const i=e.offset+e.howMany,s=r.offset+r.howMany;if(e.type=="insert"&&(r.type=="insert"&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<s&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),r.type=="remove"&&e.offset<r.offset&&(r.offset+=e.howMany),r.type=="attribute")){if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<s){const o=r.howMany;r.howMany=e.offset-r.offset,n.unshift({type:"attribute",offset:i,howMany:o-r.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(r.type=="insert"){if(i<=r.offset)r.offset-=e.howMany;else if(i<=s)if(e.offset<r.offset){const o=i-r.offset;r.offset=e.offset,r.howMany-=o,e.nodesToHandle-=o}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<s){const o=s-e.offset;r.howMany-=o,e.nodesToHandle-=o}}if(r.type=="remove"&&(i<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(i<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){const o=i-r.offset;r.offset=e.offset,r.howMany-=o}else if(e.offset<s)if(i<=s){const o=r.howMany;r.howMany=e.offset-r.offset;const a=o-r.howMany-e.nodesToHandle;n.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else r.howMany-=s-e.offset}}if(e.type=="attribute"){if(r.type=="insert")if(e.offset<r.offset&&i>r.offset){if(i>s){const o={type:"attribute",offset:s,howMany:i-s,count:this._changeCount++};this._handleChange(o,n),n.push(o)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<s&&(i>s?(e.nodesToHandle=i-s,e.offset=s):e.nodesToHandle=0);if(r.type=="remove"&&e.offset<r.offset&&i>r.offset){const o={type:"attribute",offset:r.offset,howMany:i-r.offset,count:this._changeCount++};this._handleChange(o,n),n.push(o),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}r.type=="attribute"&&(e.offset>=r.offset&&i<=s?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&i>=s&&(r.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,n,r){return{type:"insert",position:_e._createAt(e,n),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,n,r){return{type:"remove",position:_e._createAt(e,n),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,n,r){const i=[];r=new Map(r);for(const[s,o]of n){const a=r.has(s)?r.get(s):null;a!==o&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),r.delete(s)}for(const[s,o]of r)i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return i}_isInInsertedElement(e){const n=e.parent;if(!n)return!1;const r=this._changesInElement.get(n),i=e.startOffset;if(r){for(const s of r)if(s.type=="insert"&&i>=s.offset&&i<s.offset+s.howMany)return!0}return this._isInInsertedElement(n)}_removeAllNestedChanges(e,n,r){const i=new de(_e._createAt(e,n),_e._createAt(e,n+r));for(const s of i.getItems({shallow:!0}))s.is("element")&&(this._elementSnapshots.delete(s),this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function Mk(t){const e=[];for(const n of t)if(n.is("$text"))for(let r=0;r<n.data.length;r++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function TX(t,e){const n=[];let r=0,i=0;for(const s of e){if(s.offset>r){for(let o=0;o<s.offset-r;o++)n.push("e");i+=s.offset-r}if(s.type=="insert"){for(let o=0;o<s.howMany;o++)n.push("i");r=s.offset+s.howMany}else if(s.type=="remove"){for(let o=0;o<s.howMany;o++)n.push("r");r=s.offset,i+=s.howMany}else n.push(..."a".repeat(s.howMany).split("")),r=s.offset+s.howMany,i+=s.howMany}if(i<t)for(let s=0;s<t-i-r;s++)n.push("e");return n}function AX(t){const e="position"in t&&t.position.root.rootName=="$graveyard",n="range"in t&&t.range.root.rootName=="$graveyard";return!e&&!n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xX{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new j("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,n=this.version){if(!this._operations.length)return[];const r=this._operations[0];e===void 0&&(e=r.baseVersion);let i=n-1;for(const[a,l]of this._gaps)e>a&&e<l&&(e=l),i>a&&i<l&&(i=a-1);if(i<r.baseVersion||e>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(e);s===void 0&&(s=0);let o=this._baseVersionToOperationIndex.get(i);return o===void 0&&(o=this._operations.length-1),this._operations.slice(s,o+1)}getOperation(e){const n=this._baseVersionToOperationIndex.get(e);if(n!==void 0)return this._operations[n]}setOperationAsUndone(e,n){this._undoPairs.set(n,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hh extends rn{constructor(e,n,r="main"){super(n),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Hh.prototype.is=function(t,e){return e?e===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t==="node"||t==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Dk="$graveyard";let PX=class extends Yt(){constructor(e){super(),this.model=e,this.history=new xX,this.selection=new Vi(this),this.roots=new Ui({idProperty:"rootName"}),this.differ=new EX(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Dk),this.listenTo(e,"applyOperation",(n,r)=>{const i=r[0];i.isDocumentOperation&&this.differ.bufferOperation(i)},{priority:"high"}),this.listenTo(e,"applyOperation",(n,r)=>{const i=r[0];i.isDocumentOperation&&this.history.addOperation(i)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(n,r,i,s,o)=>{const a={...r.getData(),range:s};this.differ.bufferMarkerChange(r.name,o,a),i===null&&r.on("change",(l,c)=>{const u=r.getData();this.differ.bufferMarkerChange(r.name,{...u,range:c},u)})}),this.registerPostFixer(n=>{let r=!1;for(const i of this.roots)!i.isAttached()&&!i.isEmpty&&(n.remove(n.createRangeIn(i)),r=!0);for(const i of this.model.markers)i.getRange().root.isAttached()||(n.removeMarker(i),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Dk)}createRoot(e="$root",n="main"){if(this.roots.get(n))throw new j("model-document-createroot-name-exists",this,{name:n});const r=new Hh(this,e,n);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(n=>n.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(n=>n!=this.graveyard&&(e||n.isAttached())&&n._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=bx(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),n=this.model,r=n.schema,i=n.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(i)||n.createRange(i)}_validateSelectionRange(e){return Nk(e.start)&&Nk(e.end)}_callPostFixers(e){let n=!1;do for(const r of this._postFixers)if(this.selection.refresh(),n=r(e),n)break;while(n)}};function Nk(t){const e=t.textNode;if(e){const n=e.data,r=t.offset-e.startOffset;return!jy(n,r)&&!Wy(n,r)}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IX extends Yt(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const n=e instanceof kl?e.name:e;return this._markers.has(n)}get(e){return this._markers.get(e)||null}_set(e,n,r=!1,i=!1){const s=e instanceof kl?e.name:e;if(s.includes(","))throw new j("markercollection-incorrect-marker-name",this);const o=this._markers.get(s);if(o){const c=o.getData(),u=o.getRange();let d=!1;return u.isEqual(n)||(o._attachLiveRange(ms.fromRange(n)),d=!0),r!=o.managedUsingOperations&&(o._managedUsingOperations=r,d=!0),typeof i=="boolean"&&i!=o.affectsData&&(o._affectsData=i,d=!0),d&&this.fire(`update:${s}`,o,u,n,c),o}const a=ms.fromRange(n),l=new kl(s,a,r,i);return this._markers.set(s,l),this.fire(`update:${s}`,l,null,n,{...l.getData(),range:null}),l}_remove(e){const n=e instanceof kl?e.name:e,r=this._markers.get(n);return r?(this._markers.delete(n),this.fire(`update:${n}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0):!1}_refresh(e){const n=e instanceof kl?e.name:e,r=this._markers.get(n);if(!r)throw new j("markercollection-refresh-marker-not-exists",this);const i=r.getRange();this.fire(`update:${n}`,r,i,i,r.getData())}*getMarkersAtPosition(e){for(const n of this)n.getRange().containsPosition(e)&&(yield n)}*getMarkersIntersectingRange(e){for(const n of this)n.getRange().getIntersection(e)!==null&&(yield n)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const n of this._markers.values())n.name.startsWith(e+":")&&(yield n)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class kl extends Yt(Uo){constructor(e,n,r,i){super(),this.name=e,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=r,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}kl.prototype.is=function(t){return t==="marker"||t==="model:marker"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class OX extends oi{constructor(e,n){super(null),this.sourcePosition=e.clone(),this.howMany=n}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new j("detach-operation-on-document-node",this)}_execute(){UO(de._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xs extends Uo{constructor(e){super(),this.markers=new Map,this._children=new wu,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let n=this;for(const r of e)n=n.getChild(n.offsetToIndex(r));return n}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const n of this._children)e.push(n.toJSON());return e}static fromJSON(e){const n=[];for(const r of e)r.name?n.push(rn.fromJSON(r)):n.push(Ut.fromJSON(r));return new xs(n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const r=RX(n);for(const i of r)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,n=1){const r=this._children._removeNodes(e,n);for(const i of r)i.parent=null;return r}}xs.prototype.is=function(t){return t==="documentFragment"||t==="model:documentFragment"};function RX(t){return typeof t=="string"?[new Ut(t)]:(si(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new Ut(e):e instanceof Di?new Ut(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MX{constructor(e,n){this.model=e,this.batch=n}createText(e,n){return new Ut(e,n)}createElement(e,n){return new rn(e,n)}createDocumentFragment(){return new xs}cloneElement(e,n=!0){return e._clone(n)}insert(e,n,r=0){if(this._assertWriterUsedCorrectly(),e instanceof Ut&&e.data=="")return;const i=_e._createAt(n,r);if(e.parent)if($k(e.root,i.root)){this.move(de._createOn(e),i);return}else{if(e.root.document)throw new j("model-writer-insert-forbidden-move",this);this.remove(e)}const s=i.root.document?i.root.document.version:null,o=new Gn(i,e,s);if(e instanceof Ut&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof xs)for(const[a,l]of e.markers){const c=_e._createAt(l.root,0),d={range:new de(l.start._getCombined(c,i),l.end._getCombined(c,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,d):this.addMarker(a,d)}}insertText(e,n,r,i){n instanceof xs||n instanceof rn||n instanceof _e?this.insert(this.createText(e),n,r):this.insert(this.createText(e,n),r,i)}insertElement(e,n,r,i){n instanceof xs||n instanceof rn||n instanceof _e?this.insert(this.createElement(e),n,r):this.insert(this.createElement(e,n),r,i)}append(e,n){this.insert(e,n,"end")}appendText(e,n,r){n instanceof xs||n instanceof rn?this.insert(this.createText(e),n,"end"):this.insert(this.createText(e,n),r,"end")}appendElement(e,n,r){n instanceof xs||n instanceof rn?this.insert(this.createElement(e),n,"end"):this.insert(this.createElement(e,n),r,"end")}setAttribute(e,n,r){if(this._assertWriterUsedCorrectly(),r instanceof de){const i=r.getMinimalFlatRanges();for(const s of i)Fk(this,e,n,s)}else Lk(this,e,n,r)}setAttributes(e,n){for(const[r,i]of Bs(e))this.setAttribute(r,i,n)}removeAttribute(e,n){if(this._assertWriterUsedCorrectly(),n instanceof de){const r=n.getMinimalFlatRanges();for(const i of r)Fk(this,e,null,i)}else Lk(this,e,null,n)}clearAttributes(e){this._assertWriterUsedCorrectly();const n=r=>{for(const i of r.getAttributeKeys())this.removeAttribute(i,r)};if(!(e instanceof de))n(e);else for(const r of e.getItems())n(r)}move(e,n,r){if(this._assertWriterUsedCorrectly(),!(e instanceof de))throw new j("writer-move-invalid-range",this);if(!e.isFlat)throw new j("writer-move-range-not-flat",this);const i=_e._createAt(n,r);if(i.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!$k(e.root,i.root))throw new j("writer-move-different-document",this);const s=e.root.document?e.root.document.version:null,o=new Ft(e.start,e.end.offset-e.start.offset,i,s);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const r=(e instanceof de?e:de._createOn(e)).getMinimalFlatRanges().reverse();for(const i of r)this._addOperationForAffectedMarkers("move",i),DX(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const n=e.nodeBefore,r=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(n instanceof rn))throw new j("writer-merge-no-element-before",this);if(!(r instanceof rn))throw new j("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,n,r){return this.model.createPositionFromPath(e,n,r)}createPositionAt(e,n){return this.model.createPositionAt(e,n)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,n){return this.model.createRange(e,n)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const n=e.nodeBefore,r=e.nodeAfter;this.move(de._createIn(r),_e._createAt(n,"end")),this.remove(r)}_merge(e){const n=_e._createAt(e.nodeBefore,"end"),r=_e._createAt(e.nodeAfter,0),i=e.root.document.graveyard,s=new _e(i,[0]),o=e.root.document.version,a=new bn(r,e.nodeAfter.maxOffset,n,s,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,n){if(this._assertWriterUsedCorrectly(),!(e instanceof rn))throw new j("writer-rename-not-element-instance",this);const r=e.root.document?e.root.document.version:null,i=new Br(_e._createBefore(e),e.name,n,r);this.batch.addOperation(i),this.model.applyOperation(i)}split(e,n){this._assertWriterUsedCorrectly();let r=e.parent;if(!r.parent)throw new j("writer-split-element-no-parent",this);if(n||(n=r.parent),!e.parent.getAncestors({includeSelf:!0}).includes(n))throw new j("writer-split-invalid-limit-element",this);let i,s;do{const o=r.root.document?r.root.document.version:null,a=r.maxOffset-e.offset,l=Ht.getInsertionPosition(e),c=new Ht(e,a,l,null,o);this.batch.addOperation(c),this.model.applyOperation(c),!i&&!s&&(i=r,s=e.parent.nextSibling),e=this.createPositionAfter(e.parent),r=e.parent}while(r!==n);return{position:e,range:new de(_e._createAt(i,"end"),_e._createAt(s,0))}}wrap(e,n){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new j("writer-wrap-range-not-flat",this);const r=n instanceof rn?n:new rn(n);if(r.childCount>0)throw new j("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new j("writer-wrap-element-attached",this);this.insert(r,e.start);const i=new de(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,_e._createAt(r,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new j("writer-unwrap-element-no-parent",this);this.move(de._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,n){if(this._assertWriterUsedCorrectly(),!n||typeof n.usingOperation!="boolean")throw new j("writer-addmarker-no-usingoperation",this);const r=n.usingOperation,i=n.range,s=n.affectsData===void 0?!1:n.affectsData;if(this.model.markers.has(e))throw new j("writer-addmarker-marker-exists",this);if(!i)throw new j("writer-addmarker-no-range",this);return r?(Qc(this,e,null,i,s),this.model.markers.get(e)):this.model.markers._set(e,i,r,s)}updateMarker(e,n){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name,i=this.model.markers.get(r);if(!i)throw new j("writer-updatemarker-marker-not-exists",this);if(!n){en("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),this.model.markers._refresh(i);return}const s=typeof n.usingOperation=="boolean",o=typeof n.affectsData=="boolean",a=o?n.affectsData:i.affectsData;if(!s&&!n.range&&!o)throw new j("writer-updatemarker-wrong-options",this);const l=i.getRange(),c=n.range?n.range:l;if(s&&n.usingOperation!==i.managedUsingOperations){n.usingOperation?Qc(this,r,null,c,a):(Qc(this,r,l,null,a),this.model.markers._set(r,c,void 0,a));return}i.managedUsingOperations?Qc(this,r,l,c,a):this.model.markers._set(r,c,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name;if(!this.model.markers.has(n))throw new j("writer-removemarker-no-marker",this);const r=this.model.markers.get(n);if(!r.managedUsingOperations){this.model.markers._remove(n);return}const i=r.getRange();Qc(this,n,i,null,r.affectsData)}addRoot(e,n="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(e);if(r&&r.isAttached())throw new j("writer-addroot-root-exists",this);const i=this.model.document,s=new cs(e,n,!0,i,i.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const n=typeof e=="string"?this.model.document.getRoot(e):e;if(!n||!n.isAttached())throw new j("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===n&&this.removeMarker(s);for(const s of n.getAttributeKeys())this.removeAttribute(s,n);this.remove(this.createRangeIn(n));const r=this.model.document,i=new cs(n.rootName,n.name,!1,r,r.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,n)}setSelectionAttribute(e,n){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,n);else for(const[r,i]of Bs(e))this._setSelectionAttribute(r,i)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const n of e)this._removeSelectionAttribute(n)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,n){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const i=Vi._getStoreAttributeKey(e);this.setAttribute(i,n,r.anchor.parent)}r._setAttribute(e,n)}_removeSelectionAttribute(e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=Vi._getStoreAttributeKey(e);this.removeAttribute(r,n.anchor.parent)}n._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new j("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,n){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const i=r.getRange();let s=!1;if(e==="move"){const o=n;s=o.containsPosition(i.start)||o.start.isEqual(i.start)||o.containsPosition(i.end)||o.end.isEqual(i.end)}else{const o=n,a=o.nodeBefore,l=o.nodeAfter,c=i.start.parent==a&&i.start.isAtEnd,u=i.end.parent==l&&i.end.offset==0,d=i.end.nodeAfter==l,f=i.start.nodeAfter==l;s=c||u||d||f}s&&this.updateMarker(r.name,{range:i})}}}function Fk(t,e,n,r){const i=t.model,s=i.document;let o=r.start,a,l,c;for(const d of r.getWalker({shallow:!0}))c=d.item.getAttribute(e),a&&l!=c&&(l!=n&&u(),o=a),a=d.nextPosition,l=c;a instanceof _e&&a!=o&&l!=n&&u();function u(){const d=new de(o,a),f=d.root.document?s.version:null,h=new Sn(d,e,l,n,f);t.batch.addOperation(h),i.applyOperation(h)}}function Lk(t,e,n,r){const i=t.model,s=i.document,o=r.getAttribute(e);let a,l;if(o!=n){if(r.root===r){const u=r.document?s.version:null;l=new Ds(r,e,o,n,u)}else{a=new de(_e._createBefore(r),t.createPositionAfter(r));const u=a.root.document?s.version:null;l=new Sn(a,e,o,n,u)}t.batch.addOperation(l),i.applyOperation(l)}}function Qc(t,e,n,r,i){const s=t.model,o=s.document,a=new $r(e,n,r,s.markers,!!i,o.version);t.batch.addOperation(a),s.applyOperation(a)}function DX(t,e,n,r){let i;if(t.root.document){const s=r.document,o=new _e(s.graveyard,[0]);i=new Ft(t,e,o,s.version)}else i=new OX(t,e);n.addOperation(i),r.applyOperation(i)}function $k(t,e){return t===e||t instanceof Hh&&e instanceof Hh}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function NX(t,e,n={}){if(e.isCollapsed)return;const r=e.getFirstRange();if(r.root.rootName=="$graveyard")return;const i=t.schema;t.change(s=>{if(!n.doNotResetEntireContent&&jX(i,e)){HX(s,e);return}const o={};if(!n.doNotAutoparagraph){const c=e.getSelectedElement();c&&Object.assign(o,i.getAttributesWithProperty(c,"copyOnReplace",!0))}const[a,l]=FX(r);a.isTouching(l)||s.remove(s.createRange(a,l)),n.leaveUnmerged||($X(s,a,l),i.removeDisallowedAttributes(a.parent.getChildren(),s)),YO(s,e,a),!n.doNotAutoparagraph&&zX(i,a)&&GO(s,a,e,o),a.detach(),l.detach()})}function FX(t){const e=t.root.document.model,n=t.start;let r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const i=LX(r);if(i&&r.isTouching(e.createPositionAt(i,0))){const s=e.createSelection(t);e.modifySelection(s,{direction:"backward"});const o=s.getLastPosition(),a=e.createRange(o,r);e.hasContent(a,{ignoreMarkers:!0})||(r=o)}}return[Rr.fromPosition(n,"toPrevious"),Rr.fromPosition(r,"toNext")]}function LX(t){const e=t.parent,n=e.root.document.model.schema,r=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const i of r){if(n.isLimit(i))return null;if(n.isBlock(i))return i}}function $X(t,e,n){const r=t.model;if(!nw(t.model.schema,e,n))return;const[i,s]=VX(e,n);!i||!s||(!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(s,{ignoreMarkers:!0})?KO(t,e,n,i.parent):qO(t,e,n,i.parent))}function qO(t,e,n,r){const i=e.parent,s=n.parent;if(!(i==r||s==r)){for(e=t.createPositionAfter(i),n=t.createPositionBefore(s),n.isEqual(e)||t.insert(s,e),t.merge(e);n.parent.isEmpty;){const o=n.parent;n=t.createPositionBefore(o),t.remove(o)}nw(t.model.schema,e,n)&&qO(t,e,n,r)}}function KO(t,e,n,r){const i=e.parent,s=n.parent;if(!(i==r||s==r)){for(e=t.createPositionAfter(i),n=t.createPositionBefore(s),n.isEqual(e)||t.insert(i,n);e.parent.isEmpty;){const o=e.parent;e=t.createPositionBefore(o),t.remove(o)}n=t.createPositionBefore(s),BX(t,n),nw(t.model.schema,e,n)&&KO(t,e,n,r)}}function BX(t,e){const n=e.nodeBefore,r=e.nodeAfter;n.name!=r.name&&t.rename(n,r.name),t.clearAttributes(n),t.setAttributes(Object.fromEntries(r.getAttributes()),n),t.merge(e)}function nw(t,e,n){const r=e.parent,i=n.parent;return r==i||t.isLimit(r)||t.isLimit(i)?!1:UX(e,n,t)}function VX(t,e){const n=t.getAncestors(),r=e.getAncestors();let i=0;for(;n[i]&&n[i]==r[i];)i++;return[n[i],r[i]]}function zX(t,e){const n=t.checkChild(e,"$text"),r=t.checkChild(e,"paragraph");return!n&&r}function UX(t,e,n){const r=new de(t,e);for(const i of r.getWalker())if(n.isLimit(i.item))return!1;return!0}function GO(t,e,n,r={}){const i=t.createElement("paragraph");t.model.schema.setAllowedAttributes(i,r,t),t.insert(i,e),YO(t,n,t.createPositionAt(i,0))}function HX(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),GO(t,t.createPositionAt(n,0),e)}function jX(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const r=e.getFirstRange();return r.start.parent==r.end.parent?!1:t.checkChild(n,"paragraph")}function YO(t,e,n){e instanceof Vi?t.setSelection(n):e.setTo(n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function WX(t,e){return t.change(n=>{const r=n.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return r;const s=i.start.root,o=i.start.getCommonPath(i.end),a=s.getNodeByPath(o);let l;i.start.parent==i.end.parent?l=i:l=n.createRange(n.createPositionAt(a,i.start.path[o.length]),n.createPositionAt(a,i.end.path[o.length]+1));const c=l.end.offset-l.start.offset;for(const u of l.getItems({shallow:!0}))u.is("$textProxy")?n.appendText(u.data,u.getAttributes(),r):n.append(n.cloneElement(u,!0),r);if(l!=i){const u=i._getTransformedByMove(l.start,n.createPositionAt(r,0),c)[0],d=n.createRange(n.createPositionAt(r,0),u.start),f=n.createRange(u.end,n.createPositionAt(r,"end"));Bk(f,n),Bk(d,n)}return r})}function Bk(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(r=>e.createRangeOn(r)).filter(r=>(r.start.isAfter(t.start)||r.start.isEqual(t.start))&&(r.end.isBefore(t.end)||r.end.isEqual(t.end))).forEach(r=>{n.push(r.start.parent),e.remove(r)}),n.forEach(r=>{let i=r;for(;i.parent&&i.isEmpty;){const s=e.createRangeOn(i);i=i.parent,e.remove(s)}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qX(t,e,n){return t.change(r=>{const i=n||t.document.selection;i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0});const s=new KX(t,r,i.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const u=[];for(const[d,f]of e.markers){const{start:h,end:m}=f,p=h.isEqual(m);u.push({position:h,name:d,isCollapsed:p},{position:m,name:d,isCollapsed:p})}u.sort(({position:d},{position:f})=>d.isBefore(f)?1:-1);for(const{position:d,name:f,isCollapsed:h}of u){let m=null,p=null;const y=d.parent===e&&d.isAtStart,v=d.parent===e&&d.isAtEnd;!y&&!v?(m=r.createElement("$marker"),r.insert(m,d)):h&&(p=y?"start":"end"),o.push({name:f,element:m,collapsed:p})}}a=e.getChildren()}else a=[e];s.handleNodes(a);let l=s.getSelectionRange();if(e.is("documentFragment")&&o.length){const u=l?ms.fromRange(l):null,d={};for(let f=o.length-1;f>=0;f--){const{name:h,element:m,collapsed:p}=o[f],y=!d[h];if(y&&(d[h]=[]),m){const v=r.createPositionAt(m,"before");d[h].push(v),r.remove(m)}else{const v=s.getAffectedRange();if(!v){p&&d[h].push(s.position);continue}p?d[h].push(v[p]):d[h].push(y?v.start:v.end)}}for(const[f,[h,m]]of Object.entries(d))h&&m&&h.root===m.root&&r.addMarker(f,{usingOperation:!0,affectsData:!0,range:new de(h,m)});u&&(l=u.toRange(),u.detach())}/* istanbul ignore else -- @preserve */l&&(i instanceof Vi?r.setSelection(l):i.setTo(l));const c=s.getAffectedRange()||t.createRange(i.anchor);return s.destroy(),c})}class KX{constructor(e,n,r){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=n,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=n.createDocumentFragment(),this._documentFragmentPosition=n.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const n of Array.from(e))this._handleNode(n);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const n=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(e);if(r.isAfter(n)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new j("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?de._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new de(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let n=this._checkAndAutoParagraphToAllowedPosition(e);if(!n&&(n=this._checkAndSplitToAllowedPosition(e),!n)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Rr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new j("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Rr.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Rr.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof rn)||!this._canMergeLeft(e))return;const n=Rr._createBefore(e);n.stickiness="toNext";const r=Rr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(n)&&(this._affectedStart.detach(),this._affectedStart=Rr._createAt(n.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=n.nodeBefore,this._lastNode=n.nodeBefore),this.writer.merge(n),n.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Rr._createAt(n.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),n.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof rn)||!this._canMergeRight(e))return;const n=Rr._createAfter(e);n.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(n))throw new j("insertcontent-invalid-insertion-position",this);this.position=_e._createAt(n.nodeBefore,"end");const r=Rr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(n)&&(this._affectedEnd.detach(),this._affectedEnd=Rr._createAt(n.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=n.nodeBefore,this._lastNode=n.nodeBefore),this.writer.merge(n),n.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Rr._createAt(n.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),n.detach()}_canMergeLeft(e){const n=e.previousSibling;return n instanceof rn&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}_canMergeRight(e){const n=e.nextSibling;return n instanceof rn&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}_tryAutoparagraphing(e){const n=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,n)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const n=this.writer.createElement("paragraph");return this.writer.insert(n,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=n,this.position=this.writer.createPositionAt(n,0),!0}_checkAndSplitToAllowedPosition(e){const n=this._getAllowedIn(this.position.parent,e);if(!n)return!1;for(n!=this.position.parent&&this._insertPartialFragment();n!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===n&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,n){return this.schema.checkChild(e,n)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,n)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function QO(t,e,n="auto"){const r=t.getSelectedElement();if(r&&e.schema.isObject(r)&&!e.schema.isInline(r))return n=="before"||n=="after"?e.createRange(e.createPositionAt(r,n)):e.createRangeOn(r);const i=$n(t.getSelectedBlocks());if(!i)return e.createRange(t.focus);if(i.isEmpty)return e.createRange(e.createPositionAt(i,0));const s=e.createPositionAfter(i);return t.focus.isTouching(s)?e.createRange(s):e.createRange(e.createPositionBefore(i))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function GX(t,e,n,r={}){if(!t.schema.isObject(e))throw new j("insertobject-element-not-an-object",t,{object:e});const i=n||t.document.selection;let s=i;r.findOptimalPosition&&t.schema.isBlock(e)&&(s=t.createSelection(QO(i,t,r.findOptimalPosition)));const o=$n(i.getSelectedBlocks()),a={};return o&&Object.assign(a,t.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),t.change(l=>{s.isCollapsed||t.deleteContent(s,{doNotAutoparagraph:!0});let c=e;const u=s.anchor.parent;!t.schema.checkChild(u,e)&&t.schema.checkChild(u,"paragraph")&&t.schema.checkChild("paragraph",e)&&(c=l.createElement("paragraph"),l.insert(e,c)),t.schema.setAllowedAttributes(c,a,l);const d=t.insertContent(c,s);return d.isCollapsed||r.setSelection&&YX(l,e,r.setSelection,a),d})}function YX(t,e,n,r){const i=t.model;if(n=="on"){t.setSelection(e,"on");return}if(n!="after")throw new j("insertobject-invalid-place-parameter-value",i);let s=e.nextSibling;if(i.schema.isInline(e)){t.setSelection(e,"after");return}!(s&&i.schema.checkChild(s,"$text"))&&i.schema.checkChild(e.parent,"paragraph")&&(s=t.createElement("paragraph"),i.schema.setAllowedAttributes(s,r,t),i.insertContent(s,t.createPositionAfter(e))),s&&t.setSelection(s,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const QX=' ,.?!:;"-()';function JX(t,e,n={}){const r=t.schema,i=n.direction!="backward",s=n.unit?n.unit:"character",o=!!n.treatEmojiAsSingleUnit,a=e.focus,l=new is({boundaries:tZ(a,i),singleCharacters:!0,direction:i?"forward":"backward"}),c={walker:l,schema:r,isForward:i,unit:s,treatEmojiAsSingleUnit:o};let u;for(;u=l.next();){if(u.done)return;const d=XX(c,u.value);if(d){e instanceof Vi?t.change(f=>{f.setSelectionFocus(d)}):e.setFocus(d);return}}}function XX(t,e){const{isForward:n,walker:r,unit:i,schema:s,treatEmojiAsSingleUnit:o}=t,{type:a,item:l,nextPosition:c}=e;if(a=="text")return t.unit==="word"?eZ(r,n):ZX(r,i,o);if(a==(n?"elementStart":"elementEnd")){if(s.isSelectable(l))return _e._createAt(l,n?"after":"before");if(s.checkChild(c,"$text"))return c}else{if(s.isLimit(l)){r.skip(()=>!0);return}if(s.checkChild(c,"$text"))return c}}function ZX(t,e,n){const r=t.position.textNode;if(r){const i=r.data;let s=t.position.offset-r.startOffset;for(;jy(i,s)||e=="character"&&Wy(i,s)||n&&zI(i,s);)t.next(),s=t.position.offset-r.startOffset}return t.position}function eZ(t,e){let n=t.position.textNode;for(n||(n=e?t.position.nodeAfter:t.position.nodeBefore);n&&n.is("$text");){const r=t.position.offset-n.startOffset;if(rZ(n,r,e))n=e?t.position.nodeAfter:t.position.nodeBefore;else{if(nZ(n.data,r,e))break;t.next()}}return t.position}function tZ(t,e){const n=t.root,r=_e._createAt(n,e?"end":0);return e?new de(t,r):new de(r,t)}function nZ(t,e,n){const r=e+(n?0:-1);return QX.includes(t.charAt(r))}function rZ(t,e,n){return e===(n?t.offsetSize:0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let iZ=class extends Kt(){constructor(){super(),this.markers=new IX,this.document=new PX(this),this.schema=new qJ,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,n)=>{n[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,n)=>{if(n.name==="$marker")return!0}),LJ(this),this.document.registerPostFixer(DO),this.on("insertContent",(e,[n,r])=>{e.return=qX(this,n,r)}),this.on("insertObject",(e,[n,r,i])=>{e.return=GX(this,n,r,i)}),this.on("canEditAt",e=>{const n=!this.document.isReadOnly;e.return=n,n||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new ul,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(n){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(n,this)}}enqueueChange(e,n){try{e?typeof e=="function"?(n=e,e=new ul):e instanceof ul||(e=new ul(e)):e=new ul,this._pendingChanges.push({batch:e,callback:n}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,n,r,...i){const s=Pg(n,r);return this.fire("insertContent",[e,s,r,...i])}insertObject(e,n,r,i,...s){const o=Pg(n,r);return this.fire("insertObject",[e,o,i,i,...s])}deleteContent(e,n){NX(this,e,n)}modifySelection(e,n){JX(this,e,n)}getSelectedContent(e){return WX(this,e)}hasContent(e,n={}){const r=e instanceof de?e:de._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:s=!1}=n;if(!s){for(const o of this.markers.getMarkersIntersectingRange(r))if(o.affectsData)return!0}for(const o of r.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(i){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const n=Pg(e);return this.fire("canEditAt",[n])}createPositionFromPath(e,n,r){return new _e(e,n,r)}createPositionAt(e,n){return _e._createAt(e,n)}createPositionAfter(e){return _e._createAfter(e)}createPositionBefore(e){return _e._createBefore(e)}createRange(e,n){return new de(e,n)}createRangeIn(e){return de._createIn(e)}createRangeOn(e){return de._createOn(e)}createSelection(...e){return new Jr(...e)}createBatch(e){return new ul(e)}createOperationFromJSON(e){return vX.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const n=this._pendingChanges[0].batch;this._currentWriter=new MX(this,n);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function Pg(t,e){if(t)return t instanceof Jr||t instanceof Vi?t:t instanceof Ja?e||e===0?new Jr(t,e):t.is("rootElement")?new Jr(t,"in"):new Jr(t,"on"):new Jr(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sZ extends zo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rw extends zo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iw{constructor(e){this.document=e}createDocumentFragment(e){return new wa(this.document,e)}createElement(e,n,r){return new Bi(this.document,e,n,r)}createText(e){return new on(this.document,e)}clone(e,n=!1){return e._clone(n)}appendChild(e,n){return n._appendChild(e)}insertChild(e,n,r){return r._insertChild(e,n)}removeChildren(e,n,r){return r._removeChildren(e,n)}remove(e){const n=e.parent;return n?this.removeChildren(n.getChildIndex(e),1,n):[]}replace(e,n){const r=e.parent;if(r){const i=r.getChildIndex(e);return this.removeChildren(i,1,r),this.insertChild(i,n,r),!0}return!1}unwrapElement(e){const n=e.parent;if(n){const r=n.getChildIndex(e);this.remove(e),this.insertChild(r,e.getChildren(),n)}}rename(e,n){const r=new Bi(this.document,e,n.getAttributes(),n.getChildren());return this.replace(n,r)?r:null}setAttribute(e,n,r){r._setAttribute(e,n)}removeAttribute(e,n){n._removeAttribute(e)}addClass(e,n){n._addClass(e)}removeClass(e,n){n._removeClass(e)}setStyle(e,n,r){Qr(e)&&r===void 0?n._setStyle(e):r._setStyle(e,n)}removeStyle(e,n){n._removeStyle(e)}setCustomProperty(e,n,r){r._setCustomProperty(e,n)}removeCustomProperty(e,n){return n._removeCustomProperty(e)}createPositionAt(e,n){return Ve._createAt(e,n)}createPositionAfter(e){return Ve._createAfter(e)}createPositionBefore(e){return Ve._createBefore(e)}createRange(e,n){return new ht(e,n)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Oo(...e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oZ{constructor(){this._commands=new Map}add(e,n){this._commands.set(e,n)}get(e){return this._commands.get(e)}execute(e,...n){const r=this.get(e);if(!r)throw new j("commandcollection-command-not-found",this,{commandName:e});return r.execute(...n)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aZ extends Ys{constructor(e){super(),this.editor=e}set(e,n,r={}){if(typeof n=="string"){const i=n;n=(s,o)=>{this.editor.execute(i),o()}}super.set(e,n,r)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lZ extends Kt(){constructor(e={}){super();const n=this.constructor,r=e.language||n.defaultConfig&&n.defaultConfig.language;this._context=e.context||new tO({language:r}),this._context._addEditor(this,!e.context);const i=Array.from(n.builtinPlugins||[]);this.config=new xI(e,n.defaultConfig),this.config.define("plugins",i),this.config.define(this._context._getEditorConfig()),this.plugins=new eO(this,i,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new oZ,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new iZ,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const s=new KY;this.data=new hX(this.model,s),this.editing=new HJ(this.model,s),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new pX([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new aZ(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new j("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new j("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new j("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,n=e.get("plugins"),r=e.get("removePlugins")||[],i=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(n.concat(i),r,s)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(n=>this.once("ready",n))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...n){try{return this.commands.execute(e,...n)}catch(r){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cZ(t){if(!Ia(t.updateSourceElement))throw new j("attachtoform-missing-elementapi-interface",t);const e=t.sourceElement;if(uZ(e)&&e.form){let n;const r=e.form,i=()=>t.updateSourceElement();Ia(r.submit)&&(n=r.submit,r.submit=()=>{i(),n.apply(r)}),r.addEventListener("submit",i),t.on("destroy",()=>{r.removeEventListener("submit",i),n&&(r.submit=n)})}}function uZ(t){return!!t&&t.tagName.toLowerCase()==="textarea"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function oh(t){class e extends t{setData(r){this.data.set(r)}getData(r){return this.data.get(r)}}return e}{const t=oh(Object);oh.setData=t.prototype.setData,oh.getData=t.prototype.getData}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Eb(t){class e extends t{updateSourceElement(r=this.data.get()){if(!this.sourceElement)throw new j("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!s){HC(this.sourceElement,"");return}HC(this.sourceElement,r)}}return e}Eb.updateSourceElement=Eb(Object).prototype.updateSourceElement;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jh extends nO{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ui({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new j("pendingactions-add-invalid-message",this);const n=new(Kt());return n.set("message",e),this._actions.add(n),this.hasAny=!0,n}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const dZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',fZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',hZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',mZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',pZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',gZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',vZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',bZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',yZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',wZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',_Z='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',CZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',kZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',SZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',EZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',TZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',AZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',xZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',PZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',IZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',OZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',RZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',MZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',DZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',NZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',FZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',LZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',$Z='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',BZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',VZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',zZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',UZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',HZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',jZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const fn={bold:VZ,cancel:dZ,caption:fZ,check:hZ,cog:mZ,eraser:pZ,image:vZ,lowVision:gZ,importExport:jZ,paragraph:zZ,plus:UZ,text:HZ,alignBottom:bZ,alignMiddle:yZ,alignTop:wZ,alignLeft:_Z,alignCenter:CZ,alignRight:kZ,alignJustify:SZ,objectLeft:IZ,objectCenter:TZ,objectRight:OZ,objectFullWidth:xZ,objectInline:PZ,objectBlockLeft:EZ,objectBlockRight:AZ,objectSizeFull:RZ,objectSizeLarge:MZ,objectSizeSmall:DZ,objectSizeMedium:NZ,pencil:FZ,pilcrow:LZ,quote:$Z,threeVerticalDots:BZ};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{threeVerticalDots:JO}=fn,WZ={alignLeft:fn.alignLeft,bold:fn.bold,importExport:fn.importExport,paragraph:fn.paragraph,plus:fn.plus,text:fn.text,threeVerticalDots:fn.threeVerticalDots};class sw extends Et{constructor(e,n){super(e);const r=this.bindTemplate,i=this.t;this.options=n||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Hi,this.keystrokes=new Ys,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new qZ(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=e.uiLanguageDirection==="rtl";this._focusCycler=new Od({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:MY(this)}}),this._behavior=this.options.shouldGroupWhenFull?new GZ(this):new KZ(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,n)=>{this.focusTracker.add(n.element)}),this.items.on("remove",(e,n)=>{this.focusTracker.remove(n.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,n,r){this.items.addMany(this._buildItemsFromConfig(e,n,r))}_buildItemsFromConfig(e,n,r){const i=ZI(e),s=r||i.removeItems;return this._cleanItemsConfiguration(i.items,n,s).map(a=>ln(a)?this._createNestedToolbarDropdown(a,n,s):a==="|"?new XI:a==="-"?new RY:n.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,n,r){const i=e.filter((s,o,a)=>s==="|"?!0:r.indexOf(s)!==-1?!1:s==="-"?this.options.shouldGroupWhenFull?(en("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!ln(s)&&!n.has(s)?(en("toolbarview-item-unavailable",{item:s}),!1):!0);return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(e){const n=o=>o!=="-"&&o!=="|",r=e.length,i=e.findIndex(n);if(i===-1)return[];const s=r-e.slice().reverse().findIndex(n);return e.slice(i,s).filter((o,a,l)=>n(o)?!0:!(a>0&&l[a-1]===o))}_createNestedToolbarDropdown(e,n,r){let{label:i,icon:s,items:o,tooltip:a=!0,withText:l=!1}=e;if(o=this._cleanItemsConfiguration(o,n,r),!o.length)return null;const c=this.locale,u=ko(c);return i||en("toolbarview-nested-toolbar-dropdown-missing-label",e),u.class="ck-toolbar__nested-toolbar-dropdown",u.buttonView.set({label:i,tooltip:a,withText:!!l}),s!==!1?u.buttonView.icon=WZ[s]||s||JO:u.buttonView.withText=!0,Zm(u,()=>u.toolbarView._buildItemsFromConfig(o,n,r)),u}}class qZ extends Et{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class KZ{constructor(e){const n=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(r=>r),e.focusables.bindTo(e.items).using(r=>r),e.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class GZ{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(n=>n),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(n,r)=>{const i=r.index,s=Array.from(r.added);for(const o of r.removed)i>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=i;o<i+s.length;o++){const a=s[o-i];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Fa(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let n;for(;this._areItemsOverflowing;)this._groupLastItem(),n=!0;if(!n&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,n=this.viewLocale.uiLanguageDirection,r=new zt(e.lastChild),i=new zt(e);if(!this.cachedPadding){const s=pt.window.getComputedStyle(e),o=n==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(s[o])}return n==="ltr"?r.right>i.right-this.cachedPadding:r.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Ym(this.viewElement,n=>{(!e||e!==n.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=n.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new XI),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,n=e.t,r=ko(e);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Zm(r,this.groupedItems),r.buttonView.set({label:n("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:JO}),r}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YZ extends Et{constructor(e){super(e);const n=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Hi,this.keystrokes=new Ys,this._focusCycler=new Od({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:n.to("role"),"aria-label":n.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,n)=>{this.focusTracker.add(n.element)}),this.items.on("remove",(e,n)=>{this.focusTracker.remove(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XO extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",n.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QZ extends Et{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ow extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Ys,this.focusTracker=new Hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",r=>!r),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,n)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),n())}),this.keystrokes.set("arrowleft",(e,n)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),n())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new dn;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new dn,n=e.bindTemplate;return e.icon=JI,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":n.to("isOn"),"aria-haspopup":!0,"aria-expanded":n.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ko(t,e=OY){const n=new e(t),r=new IY(t),i=new nc(t,n,r);return n.bind("isEnabled").to(i),n instanceof ow?n.arrowView.bind("isOn").to(i,"isOpen"):n.bind("isOn").to(i,"isOpen"),JZ(i),i}function Zm(t,e,n={}){t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.isOpen?Vk(t,e,n):t.once("change:isOpen",()=>Vk(t,e,n),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&e4(t,()=>t.toolbarView.items.find(r=>r.isOn))}function Vk(t,e,n){const r=t.locale,i=r.t,s=t.toolbarView=new sw(r),o=typeof e=="function"?e():e;s.ariaLabel=n.ariaLabel||i("Dropdown toolbar"),n.maxWidth&&(s.maxWidth=n.maxWidth),n.class&&(s.class=n.class),n.isCompact&&(s.isCompact=n.isCompact),n.isVertical&&(s.isVertical=!0),o instanceof Ka?s.items.bindTo(o).using(a=>a):s.items.addMany(o),t.panelView.children.add(s),s.items.delegate("execute").to(t)}function ZO(t,e,n={}){t.isOpen?zk(t,e,n):t.once("change:isOpen",()=>zk(t,e,n),{priority:"highest"}),e4(t,()=>t.listView.items.find(r=>r instanceof XO?r.children.first.isOn:!1))}function zk(t,e,n){const r=t.locale,i=t.listView=new YZ(r),s=typeof e=="function"?e():e;i.ariaLabel=n.ariaLabel,i.role=n.role,i.items.bindTo(s).using(o=>{if(o.type==="separator")return new QZ(r);if(o.type==="button"||o.type==="switchbutton"){const a=new XO(r);let l;return o.type==="button"?l=new dn(r):l=new Qm(r),l.bind(...Object.keys(o.model)).to(o.model),l.delegate("execute").to(a),a.children.add(l),a}return null}),t.panelView.children.add(i),i.items.delegate("execute").to(t)}function e4(t,e){t.on("change:isOpen",()=>{if(!t.isOpen)return;const n=e();n&&(typeof n.focus=="function"?n.focus():en("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))},{priority:Co.low-10})}function JZ(t){XZ(t),ZZ(t),eee(t),tee(t),nee(t),ree(t)}function XZ(t){t.on("render",()=>{By({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:()=>[t.element,...t.focusTracker._elements]})})}function ZZ(t){t.on("execute",e=>{e.source instanceof Qm||(t.isOpen=!1)})}function eee(t){t.focusTracker.on("change:isFocused",(e,n,r)=>{t.isOpen&&!r&&(t.isOpen=!1)})}function tee(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}function nee(t){t.on("change:isOpen",(e,n,r)=>{if(r)return;const i=t.panelView.element;i&&i.contains(pt.document.activeElement)&&t.buttonView.focus()})}function ree(t){t.on("change:isOpen",(e,n,r)=>{r&&t.panelView.focus()},{priority:"low"})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function t4(t,e,n){const r=new PY(t.locale);return r.set({id:e,ariaDescribedById:n}),r.bind("isReadOnly").to(t,"isEnabled",i=>!i),r.bind("hasError").to(t,"errorText",i=>!!i),r.on("input",()=>{t.errorText=null}),t.bind("isEmpty","isFocused","placeholder").to(r),r}const ld=(t,e=0,n=1)=>t>n?n:t<e?e:t,nr=(t,e=0,n=Math.pow(10,e))=>Math.round(n*t)/n,iee=t=>cee(Tb(t)),Tb=t=>(t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?nr(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?nr(parseInt(t.substring(6,8),16)/255,2):1}),see=t=>lee(aee(t)),oee=({h:t,s:e,v:n,a:r})=>{const i=(200-e)*n/100;return{h:nr(t),s:nr(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:nr(i/2),a:nr(r,2)}},Ab=t=>{const{h:e,s:n,l:r}=oee(t);return`hsl(${e}, ${n}%, ${r}%)`},aee=({h:t,s:e,v:n,a:r})=>{t=t/360*6,e=e/100,n=n/100;const i=Math.floor(t),s=n*(1-e),o=n*(1-(t-i)*e),a=n*(1-(1-t+i)*e),l=i%6;return{r:nr([n,o,s,s,a,n][l]*255),g:nr([a,n,n,o,s,s][l]*255),b:nr([s,s,a,n,n,o][l]*255),a:nr(r,2)}},Tf=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},lee=({r:t,g:e,b:n,a:r})=>{const i=r<1?Tf(nr(r*255)):"";return"#"+Tf(t)+Tf(e)+Tf(n)+i},cee=({r:t,g:e,b:n,a:r})=>{const i=Math.max(t,e,n),s=i-Math.min(t,e,n),o=s?i===t?(e-n)/s:i===e?2+(n-t)/s:4+(t-e)/s:0;return{h:nr(60*(o<0?o+6:o)),s:nr(i?s/i*100:0),v:nr(i/255*100),a:r}},n4=(t,e)=>{if(t===e)return!0;for(const n in t)if(t[n]!==e[n])return!1;return!0},uee=(t,e)=>t.toLowerCase()===e.toLowerCase()?!0:n4(Tb(t),Tb(e)),Uk={},r4=t=>{let e=Uk[t];return e||(e=document.createElement("template"),e.innerHTML=t,Uk[t]=e),e},aw=(t,e,n)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:n}))};let Bl=!1;const xb=t=>"touches"in t,dee=t=>Bl&&!xb(t)?!1:(Bl||(Bl=xb(t)),!0),Hk=(t,e)=>{const n=xb(e)?e.touches[0]:e,r=t.el.getBoundingClientRect();aw(t.el,"move",t.getMove({x:ld((n.pageX-(r.left+window.pageXOffset))/r.width),y:ld((n.pageY-(r.top+window.pageYOffset))/r.height)}))},fee=(t,e)=>{const n=e.keyCode;n>40||t.xy&&n<37||n<33||(e.preventDefault(),aw(t.el,"move",t.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))};class i4{constructor(e,n,r,i){const s=r4(`<div role="slider" tabindex="0" part="${n}" ${r}><div part="${n}-pointer"></div></div>`);e.appendChild(s.content.cloneNode(!0));const o=e.querySelector(`[part=${n}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=i,this.nodes=[o.firstChild,o]}set dragging(e){const n=e?document.addEventListener:document.removeEventListener;n(Bl?"touchmove":"mousemove",this),n(Bl?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!dee(e)||!Bl&&e.button!=0)return;this.el.focus(),Hk(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),Hk(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":fee(this,e);break}}style(e){e.forEach((n,r)=>{for(const i in n)this.nodes[r].style.setProperty(i,n[i])})}}class hee extends i4{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:Ab({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${nr(e)}`)}getMove(e,n){return{h:n?ld(this.h+e.x*360,0,360):360*e.x}}}class mee extends i4{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:Ab(e)},{"background-color":Ab({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${nr(e.s)}%, Brightness ${nr(e.v)}%`)}getMove(e,n){return{s:n?ld(this.hsva.s+e.x*100,0,100):e.x*100,v:n?ld(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const pee=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',gee="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",vee="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",Af=Symbol("same"),Ig=Symbol("color"),jk=Symbol("hsva"),Og=Symbol("update"),Wk=Symbol("parts"),qk=Symbol("css"),Kk=Symbol("sliders");class bee extends HTMLElement{static get observedAttributes(){return["color"]}get[qk](){return[pee,gee,vee]}get[Kk](){return[mee,hee]}get color(){return this[Ig]}set color(e){if(!this[Af](e)){const n=this.colorModel.toHsva(e);this[Og](n),this[Ig]=e}}constructor(){super();const e=r4(`<style>${this[qk].join("")}</style>`),n=this.attachShadow({mode:"open"});n.appendChild(e.content.cloneNode(!0)),n.addEventListener("move",this),this[Wk]=this[Kk].map(r=>new r(n))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,n,r){const i=this.colorModel.fromAttr(r);this[Af](i)||(this.color=i)}handleEvent(e){const n=this[jk],r={...n,...e.detail};this[Og](r);let i;!n4(r,n)&&!this[Af](i=this.colorModel.fromHsva(r))&&(this[Ig]=i,aw(this,"color-changed",{value:i}))}[Af](e){return this.color&&this.colorModel.equal(e,this.color)}[Og](e){this[jk]=e,this[Wk].forEach(n=>n.update(e))}}const yee={defaultColor:"#000",toHsva:iee,fromHsva:({h:t,s:e,v:n})=>see({h:t,s:e,v:n,a:1}),equal:uee,fromAttr:t=>t};class wee extends bee{get colorModel(){return yee}}class _ee extends wee{}customElements.define("hex-color-picker",_ee);/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cee{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,n){this._components.set(Rg(e),{callback:n,originalName:e})}create(e){if(!this.has(e))throw new j("componentfactory-item-missing",this,{name:e});return this._components.get(Rg(e)).callback(this.editor.locale)}has(e){return this._components.has(Rg(e))}}function Rg(t){return String(t).toLowerCase()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Gk=Vy("px"),Yk=pt.document.body;class or extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",r=>`ck-balloon-panel_${r}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",Gk),left:n.to("left",Gk)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const n=or.defaultPositions,r=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:Yk,fitInViewport:!0},e),i=or._getOptimalPosition(r),s=parseInt(i.left),o=parseInt(i.top),a=i.name,l=i.config||{},{withArrow:c=!0}=l;this.top=o,this.left=s,this.position=a,this.withArrow=c}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const n=Pb(e.target),r=e.limiter?Pb(e.limiter):Yk;this.listenTo(pt.document,"scroll",(i,s)=>{const o=s.target,a=n&&o.contains(n),l=r&&o.contains(r);(a||l||!n||!r)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(pt.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(pt.document,"scroll"),this.stopListening(pt.window,"resize")}}or.arrowSideOffset=25;or.arrowHeightOffset=10;or.stickyVerticalOffset=20;or._getOptimalPosition=NI;or.defaultPositions=s4();function Pb(t){return Ra(t)?t:Gm(t)?t.commonAncestorContainer:typeof t=="function"?Pb(t()):null}function s4(t={}){const{sideOffset:e=or.arrowSideOffset,heightOffset:n=or.arrowHeightOffset,stickyVerticalOffset:r=or.stickyVerticalOffset,config:i}=t;return{northWestArrowSouthWest:(a,l)=>({top:s(a,l),left:a.left-e,name:"arrow_sw",...i&&{config:i}}),northWestArrowSouthMiddleWest:(a,l)=>({top:s(a,l),left:a.left-l.width*.25-e,name:"arrow_smw",...i&&{config:i}}),northWestArrowSouth:(a,l)=>({top:s(a,l),left:a.left-l.width/2,name:"arrow_s",...i&&{config:i}}),northWestArrowSouthMiddleEast:(a,l)=>({top:s(a,l),left:a.left-l.width*.75+e,name:"arrow_sme",...i&&{config:i}}),northWestArrowSouthEast:(a,l)=>({top:s(a,l),left:a.left-l.width+e,name:"arrow_se",...i&&{config:i}}),northArrowSouthWest:(a,l)=>({top:s(a,l),left:a.left+a.width/2-e,name:"arrow_sw",...i&&{config:i}}),northArrowSouthMiddleWest:(a,l)=>({top:s(a,l),left:a.left+a.width/2-l.width*.25-e,name:"arrow_smw",...i&&{config:i}}),northArrowSouth:(a,l)=>({top:s(a,l),left:a.left+a.width/2-l.width/2,name:"arrow_s",...i&&{config:i}}),northArrowSouthMiddleEast:(a,l)=>({top:s(a,l),left:a.left+a.width/2-l.width*.75+e,name:"arrow_sme",...i&&{config:i}}),northArrowSouthEast:(a,l)=>({top:s(a,l),left:a.left+a.width/2-l.width+e,name:"arrow_se",...i&&{config:i}}),northEastArrowSouthWest:(a,l)=>({top:s(a,l),left:a.right-e,name:"arrow_sw",...i&&{config:i}}),northEastArrowSouthMiddleWest:(a,l)=>({top:s(a,l),left:a.right-l.width*.25-e,name:"arrow_smw",...i&&{config:i}}),northEastArrowSouth:(a,l)=>({top:s(a,l),left:a.right-l.width/2,name:"arrow_s",...i&&{config:i}}),northEastArrowSouthMiddleEast:(a,l)=>({top:s(a,l),left:a.right-l.width*.75+e,name:"arrow_sme",...i&&{config:i}}),northEastArrowSouthEast:(a,l)=>({top:s(a,l),left:a.right-l.width+e,name:"arrow_se",...i&&{config:i}}),southWestArrowNorthWest:a=>({top:o(a),left:a.left-e,name:"arrow_nw",...i&&{config:i}}),southWestArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left-l.width*.25-e,name:"arrow_nmw",...i&&{config:i}}),southWestArrowNorth:(a,l)=>({top:o(a),left:a.left-l.width/2,name:"arrow_n",...i&&{config:i}}),southWestArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left-l.width*.75+e,name:"arrow_nme",...i&&{config:i}}),southWestArrowNorthEast:(a,l)=>({top:o(a),left:a.left-l.width+e,name:"arrow_ne",...i&&{config:i}}),southArrowNorthWest:a=>({top:o(a),left:a.left+a.width/2-e,name:"arrow_nw",...i&&{config:i}}),southArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.25-e,name:"arrow_nmw",...i&&{config:i}}),southArrowNorth:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width/2,name:"arrow_n",...i&&{config:i}}),southArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.75+e,name:"arrow_nme",...i&&{config:i}}),southArrowNorthEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width+e,name:"arrow_ne",...i&&{config:i}}),southEastArrowNorthWest:a=>({top:o(a),left:a.right-e,name:"arrow_nw",...i&&{config:i}}),southEastArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.right-l.width*.25-e,name:"arrow_nmw",...i&&{config:i}}),southEastArrowNorth:(a,l)=>({top:o(a),left:a.right-l.width/2,name:"arrow_n",...i&&{config:i}}),southEastArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.right-l.width*.75+e,name:"arrow_nme",...i&&{config:i}}),southEastArrowNorthEast:(a,l)=>({top:o(a),left:a.right-l.width+e,name:"arrow_ne",...i&&{config:i}}),westArrowEast:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.left-l.width-n,name:"arrow_e",...i&&{config:i}}),eastArrowWest:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.right+n,name:"arrow_w",...i&&{config:i}}),viewportStickyNorth:(a,l,c)=>a.getIntersection(c)?{top:c.top+r,left:a.left+a.width/2-l.width/2,name:"arrowless",config:{withArrow:!1,...i}}:null};function s(a,l){return a.top-l.height-n}function o(a){return a.bottom+n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Qk="ck-tooltip";class zn extends Vo(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,zn._editors.add(e),zn._instance)return zn._instance;zn._instance=this,this.tooltipTextView=new Et(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new or(e.locale),this.balloonPanelView.class=Qk,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Po(this._pinTooltip,600),this.listenTo(pt.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(pt.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(pt.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(pt.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(pt.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const n=e.ui.view&&e.ui.view.body;zn._editors.delete(e),this.stopListening(e.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),zn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),zn._instance=null)}static getPositioningFunctions(e){const n=zn.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:n}){const r=Mg(n);r&&r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,kee(r)))}_onLeaveOrBlur(e,{target:n,relatedTarget:r}){if(e.name==="mouseleave"){if(!Ra(n)||this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const i=Mg(n),s=Mg(r);i&&i!==s&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:n,position:r,cssClass:i}){const s=$n(zn._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:e,positions:zn.getPositioningFunctions(r)}),this._resizeObserver=new Ym(e,()=>{Fa(e)||this._unpinTooltip()}),this.balloonPanelView.class=[Qk,i].filter(o=>o).join(" ");for(const o of zn._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of zn._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!Fa(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:zn.getPositioningFunctions(this._currentTooltipPosition)})}}zn.defaultBalloonPositions=s4({heightOffset:5,sideOffset:13});zn._editors=new Set;zn._instance=null;function Mg(t){return Ra(t)?t.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function kee(t){return{text:t.dataset.ckeTooltipText,position:t.dataset.ckeTooltipPosition||"s",cssClass:t.dataset.ckeTooltipClass||""}}const See=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Eee=53,Tee=10,Aee=50,xee=350,Pee="Powered by",xf={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class Iee extends Vo(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=my(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor,n=!!e.config.get("ui.poweredBy.forceVisible");/* istanbul ignore next -- @preserve */!n&&XG(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(r,i,s)=>{this._updateLastFocusedEditableElement(),s?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(r,i,s)=>{this._updateLastFocusedEditableElement(),s&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,n=this._balloonView=new or,r=a4(e),i=new Oee(e.locale,r.label);n.content.add(i),n.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(n),e.ui.focusTracker.add(n.element),this._balloonView=n}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=Ree(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,n=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!n||!r){this._lastFocusedEditableElement=null;return}const i=Array.from(e.ui.getEditableElementsNames()).map(s=>e.ui.getEditableElement(s));i.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=i[0]}}class Oee extends Et{constructor(e,n){super(e);const r=new Ga,i=this.bindTemplate;r.set({content:See,isColorInherited:!1}),r.extendTemplate({attributes:{style:{width:Eee+"px",height:Tee+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...n?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[n]}]:[],r],on:{dragstart:i.to(s=>s.preventDefault())}}]})}}function Ree(t,e){const n=a4(t),r=n.side==="right"?Mee(e,n):Dee(e,n);return{target:e,positions:[r]}}function Mee(t,e){return o4(t,e,(n,r)=>n.left+n.width-r.width-e.horizontalOffset)}function Dee(t,e){return o4(t,e,n=>n.left+e.horizontalOffset)}function o4(t,e,n){return(r,i)=>{const s=r.getVisible();if(!s||r.width<xee||r.height<Aee)return xf;let o;e.position==="inside"?o=r.bottom-i.height:o=r.bottom-i.height/2,o-=e.verticalOffset;const a=n(r,i);if(e.position==="inside"){const l=i.clone().moveTo(a,o);if(l.getIntersectionArea(s)<l.getArea())return xf}else{const l=hb(t);if(l){const c=new zt(l),u=s.bottom+i.height/2>c.bottom,d=e.side==="left"?r.left<c.left:r.right>c.right;if(u||d)return xf}}return{top:o,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function a4(t){const e=t.config.get("ui.poweredBy"),n=e&&e.position||"border";return{position:n,label:Pee,verticalOffset:n==="inside"?5:0,horizontalOffset:5,side:t.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nee extends Kt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const n=e.editing.view;this.editor=e,this.componentFactory=new Cee(e),this.focusTracker=new Hi,this.tooltipManager=new zn(e),this.poweredBy=new Iee(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(n.document,"layoutChanged",this.update.bind(this)),this.listenTo(n,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,n){this._editableElementsMap.set(e,n),n.ckeditorInstance||(n.ckeditorInstance=this.editor),this.focusTracker.add(n);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(n)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const n=this._editableElementsMap.get(e);n&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(n),this.focusTracker.remove(n),n.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,n={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:n})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,n=e.config.get("ui.viewportOffset");if(n)return n;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor,n=e.editing.view;let r,i;e.keystrokes.set("Alt+F10",(s,o)=>{const a=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(a)&&!Array.from(n.domRoots.values()).includes(a)&&(r=a);const l=this._getCurrentFocusedToolbarDefinition();(!l||!i)&&(i=this._getFocusableCandidateToolbarDefinitions());for(let c=0;c<i.length;c++){const u=i.shift();if(i.push(u),u!==l&&this._focusFocusableCandidateToolbar(u)){l&&l.options.afterBlur&&l.options.afterBlur();break}}o()}),e.keystrokes.set("Esc",(s,o)=>{const a=this._getCurrentFocusedToolbarDefinition();a&&(r?(r.focus(),r=null):e.editing.view.focus(),a.options.afterBlur&&a.options.afterBlur(),o())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const n of this._focusableToolbarDefinitions){const{toolbarView:r,options:i}=n;(Fa(r.element)||i.beforeFocus)&&e.push(n)}return e.sort((n,r)=>Jk(n)-Jk(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:n,options:{beforeFocus:r}}=e;return r&&r(),Fa(n.element)?(n.focus(),!0):!1}_handleScrollToTheSelection(e,n){const r={top:0,bottom:0,left:0,right:0,...this.viewportOffset};n.viewportOffset.top+=r.top,n.viewportOffset.bottom+=r.bottom,n.viewportOffset.left+=r.left,n.viewportOffset.right+=r.right}}function Jk(t){const{toolbarView:e,options:n}=t;let r=10;return Fa(e.element)&&r--,n.isContextual&&r--,r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fee extends Et{constructor(e){super(e),this.body=new pY(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lee extends Fee{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,n=new YI;return n.text=e("Rich Text Editor"),n.extendTemplate({attributes:{class:"ck-voice-label"}}),n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $ee extends Et{constructor(e,n,r){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=n}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?r(this):n(this);function n(i){e.change(s=>{const o=e.document.getRoot(i.name);s.addClass(i.isFocused?"ck-focused":"ck-blurred",o),s.removeClass(i.isFocused?"ck-blurred":"ck-focused",o)})}function r(i){e.once("change:isRenderingInProgress",(s,o,a)=>{a?r(i):n(i)})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bee extends $ee{constructor(e,n,r,i={}){super(e,n,r);const s=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=i.label||(()=>s("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(n=>{const r=e.document.getRoot(this.name);n.setAttribute("aria-label",this._generateLabel(this),r)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xk extends nO{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,n)=>{window.alert(n.message)},{priority:"lowest"})}showSuccess(e,n={}){this._showNotification({message:e,type:"success",namespace:n.namespace,title:n.title})}showInfo(e,n={}){this._showNotification({message:e,type:"info",namespace:n.namespace,title:n.title})}showWarning(e,n={}){this._showNotification({message:e,type:"warning",namespace:n.namespace,title:n.title})}_showNotification(e){const n=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(n,{message:e.message,type:e.type,title:e.title||""})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class l4 extends Kt(){constructor(e,n){super(),n&&YA(this,n),e&&this.set(e)}}const Vee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',zee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Pf=Vy("px");class Wh extends Fe{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const n=this.editor.editing.view,i=n.document.selection.editableElement;return i?n.domConverter.mapViewToDom(i.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new j("contextualballoon-add-view-exist",[this,e]);const n=e.stackId||"main";if(!this._idToStack.has(n)){this._idToStack.set(n,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(n)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(n);return}const r=this._idToStack.get(n);e.singleViewMode&&this.showStack(n),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new j("contextualballoon-remove-view-not-exist",[this,e]);const n=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(n.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(n.values())[n.size-2])),n.size===1?(this._idToStack.delete(this._getStackId(n)),this._numberOfStacks=this._idToStack.size):n.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const n=this._idToStack.get(e);if(!n)throw new j("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==n&&this._showView(Array.from(n.values()).pop())}_createPanelView(){this._view=new or(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(r=>r[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)+1;e[n]||(n=0),this.showStack(this._getStackId(e[n]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)-1;e[n]||(n=e.length-1),this.showStack(this._getStackId(e[n]))}_createRotatorView(){const e=new Uee(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,i)=>!i&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,i)=>{if(i<2)return"";const s=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return n("%0 of %1",[s,i])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new Hee(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(n,r)=>!r&&n>=2?Math.min(n-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:n="",withArrow:r=!0,singleViewMode:i=!1}){this.view.class=n,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class Uee extends Et{constructor(e){super(e);const n=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Hi,this.buttonPrevView=this._createButtonView(n("Previous"),Vee),this.buttonNextView=this._createButtonView(n("Next"),zee),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",i=>i?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,n){const r=new dn(this.locale);return r.set({label:e,icon:n,tooltip:!0}),r}}class Hee extends Et{constructor(e,n){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=n,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",i=>i?"":"ck-hidden")],style:{top:r.to("top",Pf),left:r.to("left",Pf),width:r.to("width",Pf),height:r.to("height",Pf)}},children:this.content}),this.on("change:numberOfPanels",(i,s,o,a)=>{o>a?this._addPanels(o-a):this._removePanels(a-o),this.updatePosition()})}_addPanels(e){for(;e--;){const n=new Et;n.setTemplate({tag:"div"}),this.content.add(n),this.registerChild(n)}}_removePanels(e){for(;e--;){const n=this.content.last;this.content.remove(n),this.deregisterChild(n),n.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:n}=this._balloonPanelView,{width:r,height:i}=new zt(this._balloonPanelView.element);Object.assign(this,{top:e,left:n,width:r,height:i})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const dl=Vy("px");class jee extends Et{constructor(e){super(e);const n=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new ls({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:n.to("isSticky",r=>r?"block":"none"),height:n.to("isSticky",r=>r?dl(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new ls({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",n.if("isSticky","ck-sticky-panel__content_sticky"),n.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:n.to("isSticky",r=>r?dl(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:n.to("_stickyTopOffset",r=>r&&dl(r)),bottom:n.to("_stickyBottomOffset",r=>r&&dl(r)),marginLeft:n.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(pt.document,"scroll",(e,n)=>{this.checkIfShouldBeSticky(n.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(e){if(!this.limiterElement||!this.isActive){this._unstick();return}const n=SG(this.limiterElement);if(e&&!n.includes(e))return;const r=kG(n,this.viewportTopOffset),i=new zt(this.limiterElement);if(r&&i.top<r.top){const s=i.getIntersection(r);if(s){const o=r.top;if(o+this._contentPanelRect.height+this.limiterBottomOffset>s.bottom){const a=Math.max(i.bottom-r.bottom,0)+this.limiterBottomOffset;i.bottom-a>i.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(a):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<i.height?this._stickToTopOfAncestors(o):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=dl(-pt.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=dl(-pt.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new zt(this._contentPanel)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wee extends Nee{constructor(e,n){super(e),this.view=n,this._toolbarConfig=ZI(e.config.get("toolbar")),this._elementReplacer=new AI,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const n=this.editor,r=this.view,i=n.editing.view,s=r.editable,o=i.document.getRoot();s.name=o.rootName,r.render();const a=s.element;this.setEditableElement(s.name,a),r.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,n=this.editor.editing.view;this._elementReplacer.restore(),n.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:n})=>n||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,n=e.editing.view,r=n.document.getRoot(),i=e.sourceElement;let s;const o=e.config.get("placeholder");o&&(s=typeof o=="string"?o:o[this.view.editable.name]),!s&&i&&i.tagName.toLowerCase()==="textarea"&&(s=i.getAttribute("placeholder")),s&&(r.placeholder=s),rO({view:n,element:r,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,n,r){const i=this.view.stickyPanel;if(i.isSticky){const s=new zt(i.element).height;n.viewportOffset.top+=s}else{const s=()=>{this.editor.editing.view.scrollToTheSelection(r)};this.listenTo(i,"change:isSticky",s),setTimeout(()=>{this.stopListening(i,"change:isSticky",s)},20)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qee extends Lee{constructor(e,n,r={}){super(e),this.stickyPanel=new jee(e),this.toolbar=new sw(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),this.editable=new Bee(e,n)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class c4{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const r="error"in n?n.error:n.reason;r instanceof Error&&this._handleError(r,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(n)}off(e,n){this._listeners[e]=this._listeners[e].filter(r=>r!==n)}_fire(e,...n){const r=this._listeners[e]||[];for(const i of r)i.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,n){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,n=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-n)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ib(t,e=new Set){const n=[t],r=new Set;let i=0;for(;n.length>i;){const s=n[i++];if(!(r.has(s)||!Kee(s)||e.has(s)))if(r.add(s),Symbol.iterator in s)try{for(const o of s)n.push(o)}catch{}else for(const o in s)o!=="defaultValue"&&n.push(s[o])}return r}function Kee(t){const e=Object.prototype.toString.call(t),n=typeof t;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||t===void 0||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function u4(t,e,n=new Set){if(t===e&&Gee(t))return!0;const r=Ib(t,n),i=Ib(e,n);for(const s of r)if(i.has(s))return!0;return!1}function Gee(t){return typeof t=="object"&&t!==null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class d4 extends c4{constructor(e,n={}){super(n),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=my(this._save.bind(this),typeof n.saveInterval=="number"?n.saveInterval:5e3),e&&(this._creator=(r,i)=>e.create(r,i)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},n=[],r=this._config.rootsAttributes||{},i={};for(const[o,a]of Object.entries(this._data.roots))a.isLoaded?(e[o]="",i[o]=r[o]||{}):n.push(o);const s={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:n,rootsAttributes:i,_watchdogInitialData:this._data};return delete s.initialData,s.extraPlugins.push(Yee),this._initUsingData?this.create(e,s,s.context):Ra(this._elementOrData)?this.create(this._elementOrData,s,s.context):this.create(this._editables,s,s.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,n=this._config,r){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(n)||{},this._config.context=r,this._creator(e,this._config))).then(i=>{this._editor=i,i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=i.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(n){console.error(n,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,n=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:r}=e,i=r.has("CommentsRepository")&&r.get("CommentsRepository"),s=r.has("TrackChanges")&&r.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};n.forEach(a=>{o.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of e.model.markers)a._affectsData&&(o.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return i&&(o.commentThreads=JSON.stringify(i.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),s&&(o.suggestions=JSON.stringify(s.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const n of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(n);r&&(e[n]=r)}return e}_isErrorComingFromThisItem(e){return u4(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return hy(e,(n,r)=>{if(Ra(n)||r==="context")return n})}}class Yee{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:1e3-1})}_createNode(e,n){if("name"in n){const r=e.createElement(n.name,n.attributes);if(n.children)for(const i of n.children)r._appendChild(this._createNode(e,i));return r}else return e.createText(n.data,n.attributes)}_restoreEditorData(e){const n=this.editor;Object.entries(this._data.roots).forEach(([r,{content:i,attributes:s}])=>{const o=JSON.parse(i),a=JSON.parse(s),l=n.model.document.getRoot(r);for(const[c,u]of a)e.setAttribute(c,u,l);for(const c of o){const u=this._createNode(e,c);e.insert(u,l,"end")}}),Object.entries(this._data.markers).forEach(([r,i])=>{const{document:s}=n.model,{rangeJSON:{start:o,end:a},...l}=i,c=s.getRoot(o.root),u=e.createPositionFromPath(c,o.path,o.stickiness),d=e.createPositionFromPath(c,a.path,a.stickiness),f=e.createRange(u,d);e.addMarker(r,{range:f,...l})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);e.forEach(r=>{const i=this.editor.config.get("collaboration.channelId"),s=this.editor.plugins.get("CommentsRepository");s.hasCommentThread(r.threadId)&&s.getCommentThread(r.threadId).remove(),s.addCommentThread({channelId:i,...r})}),n.forEach(r=>{const i=this.editor.plugins.get("TrackChangesEditing");if(i.hasSuggestion(r.id)){const s=i.getSuggestion(r.id);s.attributes=r.attributes}else i.addSuggestionData(r)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ku=Symbol("MainQueueId");class Qee extends c4{constructor(e,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Jee,this._watchdogConfig=n,this._creator=r=>e.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(ku,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const n=Zk(e);return Promise.all(n.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return i=new d4(null,this._watchdogConfig),i.setCreator(r.creator),i._setExcludedProperties(this._contextProps),r.destructor&&i.setDestructor(r.destructor),this._watchdogs.set(r.id,i),i.on("error",(s,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:r.id,error:o}),a&&this._actionQueues.enqueue(r.id,()=>new Promise(l=>{const c=()=>{i.off("restart",c),this._fire("itemRestart",{itemId:r.id}),l()};i.on("restart",c)}))}),i.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(e){const n=Zk(e);return Promise.all(n.map(r=>this._actionQueues.enqueue(r,()=>{const i=this._getWatchdog(r);return this._watchdogs.delete(r),i.destroy()})))}destroy(){return this._actionQueues.enqueue(ku,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ku,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Ib(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const n=this._watchdogs.get(e);if(!n)throw new Error(`Item with the given id was not registered: ${e}.`);return n}_isErrorComingFromThisItem(e){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(e))return!1;return u4(this._context,e.context)}}class Jee{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,n){const r=e===ku;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(ku),this._queues.get(e)])).then(n),o=s.catch(()=>{});return this._queues.set(e,o),s.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function Zk(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ep extends oh(Eb(lZ)){constructor(e,n={}){if(!ah(e)&&n.initialData!==void 0)throw new j("editor-create-initial-data",null);super(n),this.config.get("initialData")===void 0&&this.config.set("initialData",Xee(e)),ah(e)&&(this.sourceElement=e),this.model.document.createRoot();const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=new qee(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:r});this.ui=new Wee(this,i),cZ(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,n={}){return new Promise(r=>{const i=new this(e,n);r(i.initPlugins().then(()=>i.ui.init(ah(e)?e:null)).then(()=>i.data.init(i.config.get("initialData"))).then(()=>i.fire("ready")).then(()=>i))})}}ep.Context=tO;ep.EditorWatchdog=d4;ep.ContextWatchdog=Qee;function Xee(t){return ah(t)?EG(t):t}function ah(t){return Ra(t)}function f4(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ic=f4();function Zee(t){Ic=t}const ete=/[&<>"']/,tte=/[&<>"']/g,nte=/[<>"']|&(?!#?\w+;)/,rte=/[<>"']|&(?!#?\w+;)/g,ite={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eS=t=>ite[t];function Hn(t,e){if(e){if(ete.test(t))return t.replace(tte,eS)}else if(nte.test(t))return t.replace(rte,eS);return t}const ste=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function h4(t){return t.replace(ste,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const ote=/(^|[^\[])\^/g;function Qt(t,e){t=t.source||t,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(ote,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const ate=/[^\w:]/g,lte=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function tS(t,e,n){if(t){let r;try{r=decodeURIComponent(h4(n)).replace(ate,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!lte.test(n)&&(n=fte(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const If={},cte=/^[^:]+:\/*[^/]*$/,ute=/^([^:]+:)[\s\S]*$/,dte=/^([^:]+:\/*[^/]*)[\s\S]*$/;function fte(t,e){If[" "+t]||(cte.test(t)?If[" "+t]=t+"/":If[" "+t]=lh(t,"/",!0)),t=If[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(ute,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(dte,"$1")+e:t+e}const qh={exec:function(){}};function ji(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function nS(t,e){const n=t.replace(/\|/g,(s,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function lh(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.substr(0,r-i)}function hte(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function m4(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function rS(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function iS(t,e,n,r){const i=e.href,s=e.title?Hn(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o,[])};return r.state.inLink=!1,a}else return{type:"image",raw:n,href:i,title:s,text:Hn(o)}}function mte(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class lw{constructor(e){this.options=e||Ic}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:lh(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=mte(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim():n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const s=lh(r,"#");(this.options.pedantic||!s||/ $/.test(s))&&(r=s.trim())}const i={type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:n[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,o,a,l,c,u,d,f,h,m,p=n[1].trim();const y=p.length>1,v={type:"list",raw:"",ordered:y,start:y?+p.slice(0,-1):"",loose:!1,items:[]};p=y?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=y?p:"[*+-]");const b=new RegExp(`^( {0,3}${p})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(m=!1,!(!(n=b.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),u=n[2].split(`
`,1)[0],d=e.split(`
`,1)[0],this.options.pedantic?(o=2,h=u.trimLeft()):(o=n[2].search(/[^ ]/),o=o>4?1:o,h=u.slice(o),o+=n[1].length),l=!1,!u&&/^ *$/.test(d)&&(r+=d+`
`,e=e.substring(d.length+1),m=!0),!m){const _=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(f=e.split(`
`,1)[0],u=f,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!_.test(u));){if(u.search(/[^ ]/)>=o||!u.trim())h+=`
`+u.slice(o);else if(!l)h+=`
`+u;else break;!l&&!u.trim()&&(l=!0),r+=f+`
`,e=e.substring(f.length+1)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(h),i&&(s=i[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:h}),v.raw+=r}v.items[v.items.length-1].raw=r.trimRight(),v.items[v.items.length-1].text=h.trimRight(),v.raw=v.raw.trimRight();const T=v.items.length;for(a=0;a<T;a++){this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]);const _=v.items[a].tokens.filter(C=>C.type==="space"),E=_.every(C=>{const k=C.raw.split("");let S=0;for(const O of k)if(O===`
`&&(S+=1),S>1)return!0;return!1});!v.loose&&_.length&&E&&(v.loose=!0,v.items[a].loose=!0)}return v}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(n[0]):Hn(n[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(e){const n=this.rules.block.def.exec(e);if(n)return n[3]&&(n[3]=n[3].substring(1,n[3].length-1)),{type:"def",tag:n[1].toLowerCase().replace(/\s+/g," "),raw:n[0],href:n[2],title:n[3]}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:nS(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,o,a,l;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=nS(r.rows[s],r.header.length).map(c=>({text:c}));for(i=r.header.length,o=0;o<i;o++)r.header[o].tokens=[],this.lexer.inlineTokens(r.header[o].text,r.header[o].tokens);for(i=r.rows.length,o=0;o<i;o++)for(l=r.rows[o],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n){const r={type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r={type:"paragraph",raw:n[0],text:n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(e){const n=this.rules.block.text.exec(e);if(n){const r={type:"text",raw:n[0],text:n[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Hn(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Hn(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=lh(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=hte(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),iS(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i||!i.href){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return iS(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const s=i[1]||i[2]||"";if(!s||s&&(r===""||this.rules.inline.punctuation.exec(r))){const o=i[0].length-1;let a,l,c=o,u=0;const d=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+o);(i=d.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=a.length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;if(l=Math.min(l,l+c+u),Math.min(o,l)%2){const h=e.slice(1,o+i.index+l);return{type:"em",raw:e.slice(0,o+i.index+l+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}const f=e.slice(2,o+i.index+l-1);return{type:"strong",raw:e.slice(0,o+i.index+l+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Hn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2],[])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=Hn(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=Hn(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=Hn(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let o;do o=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(o!==r[0]);i=Hn(r[0]),r[1]==="www."?s="http://"+i:s=i}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Hn(r[0]):r[0]:i=Hn(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const st={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qh,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};st._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;st._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;st.def=Qt(st.def).replace("label",st._label).replace("title",st._title).getRegex();st.bullet=/(?:[*+-]|\d{1,9}[.)])/;st.listItemStart=Qt(/^( *)(bull) */).replace("bull",st.bullet).getRegex();st.list=Qt(st.list).replace(/bull/g,st.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+st.def.source+")").getRegex();st._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";st._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;st.html=Qt(st.html,"i").replace("comment",st._comment).replace("tag",st._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();st.paragraph=Qt(st._paragraph).replace("hr",st.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st._tag).getRegex();st.blockquote=Qt(st.blockquote).replace("paragraph",st.paragraph).getRegex();st.normal=ji({},st);st.gfm=ji({},st.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});st.gfm.table=Qt(st.gfm.table).replace("hr",st.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st._tag).getRegex();st.gfm.paragraph=Qt(st._paragraph).replace("hr",st.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",st.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st._tag).getRegex();st.pedantic=ji({},st.normal,{html:Qt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",st._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qh,paragraph:Qt(st.normal._paragraph).replace("hr",st.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",st.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const We={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};We._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";We.punctuation=Qt(We.punctuation).replace(/punctuation/g,We._punctuation).getRegex();We.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;We.escapedEmSt=/\\\*|\\_/g;We._comment=Qt(st._comment).replace("(?:-->|$)","-->").getRegex();We.emStrong.lDelim=Qt(We.emStrong.lDelim).replace(/punct/g,We._punctuation).getRegex();We.emStrong.rDelimAst=Qt(We.emStrong.rDelimAst,"g").replace(/punct/g,We._punctuation).getRegex();We.emStrong.rDelimUnd=Qt(We.emStrong.rDelimUnd,"g").replace(/punct/g,We._punctuation).getRegex();We._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;We._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;We._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;We.autolink=Qt(We.autolink).replace("scheme",We._scheme).replace("email",We._email).getRegex();We._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;We.tag=Qt(We.tag).replace("comment",We._comment).replace("attribute",We._attribute).getRegex();We._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;We._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;We._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;We.link=Qt(We.link).replace("label",We._label).replace("href",We._href).replace("title",We._title).getRegex();We.reflink=Qt(We.reflink).replace("label",We._label).replace("ref",st._label).getRegex();We.nolink=Qt(We.nolink).replace("ref",st._label).getRegex();We.reflinkSearch=Qt(We.reflinkSearch,"g").replace("reflink",We.reflink).replace("nolink",We.nolink).getRegex();We.normal=ji({},We);We.pedantic=ji({},We.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Qt(/^!?\[(label)\]\((.*?)\)/).replace("label",We._label).getRegex(),reflink:Qt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",We._label).getRegex()});We.gfm=ji({},We.normal,{escape:Qt(We.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});We.gfm.url=Qt(We.gfm.url,"i").replace("email",We.gfm._extended_email).getRegex();We.breaks=ji({},We.gfm,{br:Qt(We.br).replace("{2,}","*").getRegex(),text:Qt(We.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function pte(t){return t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function sS(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class Vs{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ic,this.options.tokenizer=this.options.tokenizer||new lw,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:st.normal,inline:We.normal};this.options.pedantic?(n.block=st.pedantic,n.inline=We.pedantic):this.options.gfm&&(n.block=st.gfm,this.options.breaks?n.inline=We.breaks:n.inline=We.gfm),this.tokenizer.rules=n}static get rules(){return{block:st,inline:We}}static lex(e,n){return new Vs(n).lex(e)}static lexInline(e,n){return new Vs(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n){this.inlineQueue.push({src:e,tokens:n})}inlineTokens(e,n=[]){let r,i,s,o=e,a,l,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+rS("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+rS("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,c)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,sS)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,sS))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const d=e.slice(1);let f;this.options.extensions.startInline.forEach(function(h){f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(s,pte)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class cw{constructor(e){this.options=e||Ic}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Hn(i,!0)+'">'+(r?e:Hn(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Hn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,n,r,i){return this.options.headerIds?"<h"+n+' id="'+this.options.headerPrefix+i.slug(r)+'">'+e+"</h"+n+`>
`:"<h"+n+">"+e+"</h"+n+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,n){return n&&(n="<tbody>"+n+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?"<"+r+' align="'+n.align+'">':"<"+r+">")+e+"</"+r+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,n,r){if(e=tS(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+Hn(e)+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=tS(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<img src="'+e+'" alt="'+r+'"';return n&&(i+=' title="'+n+'"'),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class p4{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class g4{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class zs{constructor(e){this.options=e||Ic,this.options.renderer=this.options.renderer||new cw,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new p4,this.slugger=new g4}static parse(e,n){return new zs(n).parse(e)}static parseInline(e,n){return new zs(n).parseInline(e)}parse(e,n=!0){let r="",i,s,o,a,l,c,u,d,f,h,m,p,y,v,b,T,_,E,C;const k=e.length;for(i=0;i<k;i++){if(h=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(C=this.options.extensions.renderers[h.type].call({parser:this},h),C!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){r+=C||"";continue}switch(h.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(h.tokens),h.depth,h4(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(d="",u="",a=h.header.length,s=0;s<a;s++)u+=this.renderer.tablecell(this.parseInline(h.header[s].tokens),{header:!0,align:h.align[s]});for(d+=this.renderer.tablerow(u),f="",a=h.rows.length,s=0;s<a;s++){for(c=h.rows[s],u="",l=c.length,o=0;o<l;o++)u+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:h.align[o]});f+=this.renderer.tablerow(u)}r+=this.renderer.table(d,f);continue}case"blockquote":{f=this.parse(h.tokens),r+=this.renderer.blockquote(f);continue}case"list":{for(m=h.ordered,p=h.start,y=h.loose,a=h.items.length,f="",s=0;s<a;s++)b=h.items[s],T=b.checked,_=b.task,v="",b.task&&(E=this.renderer.checkbox(T),y?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=E+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=E+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:E}):v+=E),v+=this.parse(b.tokens,y),f+=this.renderer.listitem(v,_,T);r+=this.renderer.list(f,m,p);continue}case"html":{r+=this.renderer.html(h.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(f=h.tokens?this.parseInline(h.tokens):h.text;i+1<k&&e[i+1].type==="text";)h=e[++i],f+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);r+=n?this.renderer.paragraph(f):f;continue}default:{const S='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(S);return}else throw new Error(S)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,s,o;const a=e.length;for(i=0;i<a;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=o||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return r}}function lt(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=ji({},lt.defaults,e||{}),m4(e),n){const r=e.highlight;let i;try{i=Vs.lex(t,e)}catch(a){return n(a)}const s=function(a){let l;if(!a)try{e.walkTokens&&lt.walkTokens(i,e.walkTokens),l=zs.parse(i,e)}catch(c){a=c}return e.highlight=r,a?n(a):n(null,l)};if(!r||r.length<3||(delete e.highlight,!i.length))return s();let o=0;lt.walkTokens(i,function(a){a.type==="code"&&(o++,setTimeout(()=>{r(a.text,a.lang,function(l,c){if(l)return s(l);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),o--,o===0&&s()})},0))}),o===0&&s();return}try{const r=Vs.lex(t,e);return e.walkTokens&&lt.walkTokens(r,e.walkTokens),zs.parse(r,e)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Hn(r.message+"",!0)+"</pre>";throw r}}lt.options=lt.setOptions=function(t){return ji(lt.defaults,t),Zee(lt.defaults),lt};lt.getDefaults=f4;lt.defaults=Ic;lt.use=function(...t){const e=ji({},...t),n=lt.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(i=>{if(i.extensions&&(r=!0,i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const o=n.renderers?n.renderers[s.name]:null;o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[s.level]?n[s.level].unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}s.childTokens&&(n.childTokens[s.name]=s.childTokens)})),i.renderer){const s=lt.defaults.renderer||new cw;for(const o in i.renderer){const a=s[o];s[o]=(...l)=>{let c=i.renderer[o].apply(s,l);return c===!1&&(c=a.apply(s,l)),c}}e.renderer=s}if(i.tokenizer){const s=lt.defaults.tokenizer||new lw;for(const o in i.tokenizer){const a=s[o];s[o]=(...l)=>{let c=i.tokenizer[o].apply(s,l);return c===!1&&(c=a.apply(s,l)),c}}e.tokenizer=s}if(i.walkTokens){const s=lt.defaults.walkTokens;e.walkTokens=function(o){i.walkTokens.call(this,o),s&&s.call(this,o)}}r&&(e.extensions=n),lt.setOptions(e)})};lt.walkTokens=function(t,e){for(const n of t)switch(e.call(lt,n),n.type){case"table":{for(const r of n.header)lt.walkTokens(r.tokens,e);for(const r of n.rows)for(const i of r)lt.walkTokens(i.tokens,e);break}case"list":{lt.walkTokens(n.items,e);break}default:lt.defaults.extensions&&lt.defaults.extensions.childTokens&&lt.defaults.extensions.childTokens[n.type]?lt.defaults.extensions.childTokens[n.type].forEach(function(r){lt.walkTokens(n[r],e)}):n.tokens&&lt.walkTokens(n.tokens,e)}};lt.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ji({},lt.defaults,e||{}),m4(e);try{const n=Vs.lexInline(t,e);return e.walkTokens&&lt.walkTokens(n,e.walkTokens),zs.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Hn(n.message+"",!0)+"</pre>";throw n}};lt.Parser=zs;lt.parser=zs.parse;lt.Renderer=cw;lt.TextRenderer=p4;lt.Lexer=Vs;lt.lexer=Vs.lex;lt.Tokenizer=lw;lt.Slugger=g4;lt.parse=lt;lt.options;lt.setOptions;lt.use;lt.walkTokens;lt.parseInline;zs.parse;Vs.lex;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */lt.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...t){return Object.getPrototypeOf(this).checkbox.call(this,...t).trimRight()},code(...t){return Object.getPrototypeOf(this).code.call(this,...t).replace(`
</code>`,"</code>")}}});function gte(t){const e={gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1};return lt.parse(t,e)}function vte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}function Ob(t,e){return Array(e+1).join(t)}var bte=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function uw(t){return bte.indexOf(t.nodeName.toLowerCase())!==-1}var v4=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function b4(t){return v4.indexOf(t.nodeName.toLowerCase())!==-1}var yte=v4.join();function wte(t){return t.querySelector&&t.querySelector(yte)}var yr={};yr.paragraph={filter:"p",replacement:function(t){return`

`+t+`

`}};yr.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+`
`}};yr.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var r=Number(e.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=Ob(r===1?"=":"-",t.length);return`

`+t+`
`+i+`

`}else return`

`+Ob("#",r)+" "+t+`

`}};yr.blockquote={filter:"blockquote",replacement:function(t){return t=t.replace(/^\n+|\n+$/g,""),t=t.replace(/^/gm,"> "),`

`+t+`

`}};yr.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return n.nodeName==="LI"&&n.lastElementChild===e?`
`+t:`

`+t+`

`}};yr.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=e.parentNode;if(i.nodeName==="OL"){var s=i.getAttribute("start"),o=Array.prototype.indexOf.call(i.children,e);r=(s?Number(s)+o:o+1)+".  "}return r+t+(e.nextSibling&&!/\n$/.test(t)?`
`:"")}};yr.indentedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="indented"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};yr.fencedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){for(var r=e.firstChild.className||"",i=(r.match(/language-(\S+)/)||[null,""])[1],s=e.firstChild.textContent,o=n.fence.charAt(0),a=3,l=new RegExp("^"+o+"{3,}","gm"),c;c=l.exec(s);)c[0].length>=a&&(a=c[0].length+1);var u=Ob(o,a);return`

`+u+i+`
`+s.replace(/\n$/,"")+`
`+u+`

`}};yr.horizontalRule={filter:"hr",replacement:function(t,e,n){return`

`+n.hr+`

`}};yr.inlineLink={filter:function(t,e){return e.linkStyle==="inlined"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href"),r=e.title?' "'+e.title+'"':"";return"["+t+"]("+n+r+")"}};yr.referenceLink={filter:function(t,e){return e.linkStyle==="referenced"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e,n){var r=e.getAttribute("href"),i=e.title?' "'+e.title+'"':"",s,o;switch(n.linkReferenceStyle){case"collapsed":s="["+t+"][]",o="["+t+"]: "+r+i;break;case"shortcut":s="["+t+"]",o="["+t+"]: "+r+i;break;default:var a=this.references.length+1;s="["+t+"]["+a+"]",o="["+a+"]: "+r+i}return this.references.push(o),s},references:[],append:function(t){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};yr.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}};yr.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}};yr.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n=t.parentNode.nodeName==="PRE"&&!e;return t.nodeName==="CODE"&&!n},replacement:function(t){if(!t.trim())return"";var e="`",n="",r="",i=t.match(/`+/gm);if(i)for(/^`/.test(t)&&(n=" "),/`$/.test(t)&&(r=" ");i.indexOf(e)!==-1;)e=e+"`";return e+n+t+r+e}};yr.image={filter:"img",replacement:function(t,e){var n=e.alt||"",r=e.getAttribute("src")||"",i=e.title||"",s=i?' "'+i+'"':"";return r?"!["+n+"]("+r+s+")":""}};function y4(t){this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[];for(var e in t.rules)this.array.push(t.rules[e])}y4.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){if(t.isBlank)return this.blankRule;var e;return(e=Dg(this.array,t,this.options))||(e=Dg(this._keep,t,this.options))||(e=Dg(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};function Dg(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(_te(i,e,n))return i}}function _te(t,e,n){var r=t.filter;if(typeof r=="string"){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(t,e,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Cte(t){var e=t.element,n=t.isBlock,r=t.isVoid,i=t.isPre||function(d){return d.nodeName==="PRE"};if(!(!e.firstChild||i(e))){for(var s=null,o=!1,a=null,l=oS(a,e,i);l!==e;){if(l.nodeType===3||l.nodeType===4){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!o&&c[0]===" "&&(c=c.substr(1)),!c){l=Ng(l);continue}l.data=c,s=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):r(l)&&(s=null,o=!0);else{l=Ng(l);continue}var u=oS(a,l,i);a=l,l=u}s&&(s.data=s.data.replace(/ $/,""),s.data||Ng(s))}}function Ng(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function oS(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var w4=typeof window<"u"?window:{};function kte(){var t=w4.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch{}return e}function Ste(){var t=function(){};{var e=require("jsdom").JSDOM;t.prototype.parseFromString=function(n){return new e(n).window.document}}return t}var Ete=kte()?w4.DOMParser:Ste();function Tte(t){var e;if(typeof t=="string"){var n=Ate().parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html");e=n.getElementById("turndown-root")}else e=t.cloneNode(!0);return Cte({element:e,isBlock:uw,isVoid:b4}),e}var Fg;function Ate(){return Fg=Fg||new Ete,Fg}function xte(t){return t.isBlock=uw(t),t.isCode=t.nodeName.toLowerCase()==="code"||t.parentNode.isCode,t.isBlank=Pte(t),t.flankingWhitespace=Ite(t),t}function Pte(t){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(t.nodeName)===-1&&/^\s*$/i.test(t.textContent)&&!b4(t)&&!wte(t)}function Ite(t){var e="",n="";if(!t.isBlock){var r=/^\s/.test(t.textContent),i=/\s$/.test(t.textContent),s=t.isBlank&&r&&i;r&&!aS("left",t)&&(e=" "),!s&&i&&!aS("right",t)&&(n=" ")}return{leading:e,trailing:n}}function aS(t,e){var n,r,i;return t==="left"?(n=e.previousSibling,r=/ $/):(n=e.nextSibling,r=/^ /),n&&(n.nodeType===3?i=r.test(n.nodeValue):n.nodeType===1&&!uw(n)&&(i=r.test(n.textContent))),i}var Ote=Array.prototype.reduce,_4=/^\n*/,C4=/\n*$/,Rte=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function ic(t){if(!(this instanceof ic))return new ic(t);var e={rules:yr,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=vte({},e,t),this.rules=new y4(this.options)}ic.prototype={turndown:function(t){if(!Fte(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(t==="")return"";var e=k4.call(this,new Tte(t));return Mte.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if(typeof t=="function")t(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return Rte.reduce(function(e,n){return e.replace(n[0],n[1])},t)}};function k4(t){var e=this;return Ote.call(t.childNodes,function(n,r){r=new xte(r);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:e.escape(r.nodeValue):r.nodeType===1&&(i=Dte.call(e,r)),S4(n,i)},"")}function Mte(t){var e=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(t=S4(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Dte(t){var e=this.rules.forNode(t),n=k4.call(this,t),r=t.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+e.replacement(n,t,this.options)+r.trailing}function Nte(t,e){var n=[t.match(C4)[0],e.match(_4)[0]].sort(),r=n[n.length-1];return r.length<2?r:`

`}function S4(t,e){var n=Nte(t,e);return t=t.replace(C4,""),e=e.replace(_4,""),t+n+e}function Fte(t){return t!=null&&(typeof t=="string"||t.nodeType&&(t.nodeType===1||t.nodeType===9||t.nodeType===11))}var lS=/highlight-(?:text|source)-([a-z0-9]+)/;function Lte(t){t.addRule("highlightedCodeBlock",{filter:function(e){var n=e.firstChild;return e.nodeName==="DIV"&&lS.test(e.className)&&n&&n.nodeName==="PRE"},replacement:function(e,n,r){var i=n.className||"",s=(i.match(lS)||[null,""])[1];return`

`+r.fence+s+`
`+n.firstChild.textContent+`
`+r.fence+`

`}})}function $te(t){t.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var Bte=Array.prototype.indexOf,Vte=Array.prototype.every,sc={};sc.tableCell={filter:["th","td"],replacement:function(t,e){return E4(t,e)}};sc.tableRow={filter:"tr",replacement:function(t,e){var n="",r={left:":--",right:"--:",center:":-:"};if(dw(e))for(var i=0;i<e.childNodes.length;i++){var s="---",o=(e.childNodes[i].getAttribute("align")||"").toLowerCase();o&&(s=r[o]||s),n+=E4(s,e.childNodes[i])}return`
`+t+(n?`
`+n:"")}};sc.table={filter:function(t){return t.nodeName==="TABLE"&&dw(t.rows[0])},replacement:function(t){return t=t.replace(`

`,`
`),`

`+t+`

`}};sc.tableSection={filter:["thead","tbody","tfoot"],replacement:function(t){return t}};function dw(t){var e=t.parentNode;return e.nodeName==="THEAD"||e.firstChild===t&&(e.nodeName==="TABLE"||zte(e))&&Vte.call(t.childNodes,function(n){return n.nodeName==="TH"})}function zte(t){var e=t.previousSibling;return t.nodeName==="TBODY"&&(!e||e.nodeName==="THEAD"&&/^\s*$/i.test(e.textContent))}function E4(t,e){var n=Bte.call(e.parentNode.childNodes,e),r=" ";return n===0&&(r="| "),r+t+" |"}function Ute(t){t.keep(function(n){return n.nodeName==="TABLE"&&!dw(n.rows[0])});for(var e in sc)t.addRule(e,sc[e])}function Hte(t){t.addRule("taskListItems",{filter:function(e){return e.type==="checkbox"&&e.parentNode.nodeName==="LI"},replacement:function(e,n){return(n.checked?"[x]":"[ ]")+" "}})}function jte(t){t.use([Lte,$te,Ute,Hte])}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Wte=ic.prototype.escape;function cS(t){return t=Wte(t),t=t.replace(/</g,"\\<"),t}ic.prototype.escape=function(t){let e="",n=0;for(const r of Yte(t)){const i=r.index;i>n&&(e+=cS(t.substring(n,i)));const s=r[0];e+=s,n=i+s.length}return n<t.length&&(e+=cS(t.substring(n,t.length))),e};const fw=new ic({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});fw.use([jte,Kte]);function qte(t){return fw.turndown(t)}function Kte(t){t.addRule("taskListItems",{filter(e){return e.type==="checkbox"&&(e.parentNode.nodeName==="LI"||e.parentNode.parentNode.nodeName==="LI")},replacement(e,n){return(n.checked?"[x]":"[ ]")+" "}})}const Gte=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function*Yte(t){for(const e of t.matchAll(Gte)){const n=e[0],r=Qte(n);yield Object.assign([n.substring(0,r)],{index:e.index})}}function Qte(t){let e=t.length;for(;e>0;){const n=t[e-1];if(`?!.,:*_~'"`.includes(n))e--;else if(n==")"){let r=0;for(let i=0;i<e;i++)t[i]=="("?r++:t[i]==")"&&r--;if(r<0)e--;else break}else break}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jte{constructor(e){this._htmlDP=new zO(e)}keepHtml(e){fw.keep([e])}toView(e){const n=gte(e);return this._htmlDP.toView(n)}toData(e){const n=this._htmlDP.toData(e);return qte(n)}registerRawContentMatcher(e){this._htmlDP.registerRawContentMatcher(e)}useFillerType(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xte extends Fe{constructor(e){super(e),e.data.processor=new Jte(e.data.viewDocument)}static get pluginName(){return"Markdown"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zte extends Pt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,n=e.document,r=$n(n.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&uS(r,e.schema)}execute(e={}){const n=this.editor.model,r=n.document,i=e.selection||r.selection;n.canEditAt(i)&&n.change(s=>{const o=i.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&uS(a,n.schema)&&s.rename(a,"paragraph")})}}function uS(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ene extends Pt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const n=this.editor.model,r=e.attributes;let i=e.position;n.canEditAt(i)&&n.change(s=>{if(i=this._findPositionToInsertParagraph(i,s),!i)return;const o=s.createElement("paragraph");r&&n.schema.setAllowedAttributes(o,r,s),n.insertContent(o,i),s.setSelection(o,"in")})}_findPositionToInsertParagraph(e,n){const r=this.editor.model;if(r.schema.checkChild(e,"paragraph"))return e;const i=r.schema.findAllowedParent(e,"paragraph");if(!i)return null;const s=e.parent,o=r.schema.checkChild(s,"$text");return s.isEmpty||o&&e.isAtEnd?r.createPositionAfter(s):!s.isEmpty&&o&&e.isAtStart?r.createPositionBefore(s):n.split(e,i).position}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rd extends Fe{static get pluginName(){return"Paragraph"}init(){const e=this.editor,n=e.model;e.commands.add("paragraph",new Zte(e)),e.commands.add("insertParagraph",new ene(e)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(r,{writer:i})=>!Rd.paragraphLikeElements.has(r.name)||r.isEmpty?null:i.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Rd.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hw extends zo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const n=this.document;this.listenTo(n,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(n,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(n,"dragover",r("dragging"),{priority:"low"});function r(i){return(s,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,l=new $s(n,i);n.fire(l,{dataTransfer:o.dataTransfer,method:s.name,targetRanges:a,target:o.target,domEvent:o.domEvent}),l.stop.called&&o.stopPropagation()}}}onDomEvent(e){const n="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",i={dataTransfer:new yO(n,{cacheFiles:r})};(e.type=="drop"||e.type=="dragover")&&(i.dropRange=tne(this.view,e)),this.fire(e.type,e,i)}}function tne(t,e){const n=e.target.ownerDocument,r=e.clientX,i=e.clientY;let s;return n.caretRangeFromPoint&&n.caretRangeFromPoint(r,i)?s=n.caretRangeFromPoint(r,i):e.rangeParent&&(s=n.createRange(),s.setStart(e.rangeParent,e.rangeOffset),s.collapse(!0)),s?t.domConverter.domRangeToView(s):null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nne(t){return t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(t.includes("</p><p>")||t.includes("<br>"))&&(t=`<p>${t}</p>`),t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rne(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,n)=>n.length==1?" ":n).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const dS=["figcaption","li"];function T4(t){let e="";if(t.is("$text")||t.is("$textProxy"))e=t.data;else if(t.is("element","img")&&t.hasAttribute("alt"))e=t.getAttribute("alt");else if(t.is("element","br"))e=`
`;else{let n=null;for(const r of t.getChildren()){const i=T4(r);n&&(n.is("containerElement")||r.is("containerElement"))&&(dS.includes(n.name)||dS.includes(r.name)?e+=`
`:e+=`

`),e+=i,n=r}}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Us extends Fe{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(hw),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,n=e.model,r=e.editing.view,i=r.document;this.listenTo(i,"clipboardInput",(s,o)=>{o.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&s.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(s,o)=>{const a=o.dataTransfer;let l;if(o.content)l=o.content;else{let u="";a.getData("text/html")?u=rne(a.getData("text/html")):a.getData("text/plain")&&(u=nne(a.getData("text/plain"))),l=this.editor.data.htmlProcessor.toView(u)}const c=new $s(this,"inputTransformation");this.fire(c,{content:l,dataTransfer:a,targetRanges:o.targetRanges,method:o.method}),c.stop.called&&s.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(s,o)=>{if(o.content.isEmpty)return;const l=this.editor.data.toModel(o.content,"$clipboardHolder");l.childCount!=0&&(s.stop(),n.change(()=>{this.fire("contentInsertion",{content:l,method:o.method,dataTransfer:o.dataTransfer,targetRanges:o.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(s,o)=>{o.resultRange=n.insertContent(o.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,n=e.model.document,i=e.editing.view.document,s=(o,a)=>{const l=a.dataTransfer;a.preventDefault();const c=e.data.toView(e.model.getSelectedContent(n.selection));i.fire("clipboardOutput",{dataTransfer:l,content:c,method:o.name})};this.listenTo(i,"copy",s,{priority:"low"}),this.listenTo(i,"cut",(o,a)=>{e.model.canEditAt(e.model.document.selection)?s(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(i,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",T4(a.content))),a.method=="cut"&&e.model.deleteContent(n.selection)},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class A4{constructor(e,n=20){this._batch=null,this.model=e,this._size=0,this.limit=n,this._isLocked=!1,this._changeCallback=(r,i)=>{i.isLocal&&i.isUndoable&&i!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ine extends Pt{constructor(e,n){super(e),this._buffer=new A4(e.model,n),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const n=this.editor.model,r=n.document,i=e.text||"",s=i.length;let o=r.selection;if(e.selection?o=e.selection:e.range&&(o=n.createSelection(e.range)),!n.canEditAt(o))return;const a=e.resultRange;n.enqueueChange(this._buffer.batch,l=>{this._buffer.lock(),n.deleteContent(o),i&&n.insertContent(l.createText(i,r.selection.getAttributes()),o),a?l.setSelection(a):o.is("documentSelection")||l.setSelection(o),this._buffer.unlock(),this._buffer.input(s)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const fS=["insertText","insertReplacementText"];class sne extends gs{constructor(e){super(e),this.focusObserver=e.getObserver(Uh),wt.isAndroid&&fS.push("insertCompositionText");const n=e.document;n.on("beforeinput",(r,i)=>{if(!this.isEnabled)return;const{data:s,targetRanges:o,inputType:a,domEvent:l}=i;if(!fS.includes(a))return;this.focusObserver.flush();const c=new $s(n,"insertText");n.fire(c,new rc(e,l,{text:s,selection:e.createSelection(o)})),c.stop.called&&r.stop()}),n.on("compositionend",(r,{data:i,domEvent:s})=>{!this.isEnabled||wt.isAndroid||i&&n.fire("insertText",new rc(e,s,{text:i,selection:n.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class x4 extends Fe{static get pluginName(){return"Input"}init(){const e=this.editor,n=e.model,r=e.editing.view,i=n.document.selection;r.addObserver(sne);const s=new ine(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",s),e.commands.add("input",s),this.listenTo(r.document,"insertText",(o,a)=>{r.document.isComposing||a.preventDefault();const{text:l,selection:c,resultRange:u}=a,d=Array.from(c.getRanges()).map(m=>e.editing.mapper.toModelRange(m));let f=l;if(wt.isAndroid){const m=Array.from(d[0].getItems()).reduce((p,y)=>p+(y.is("$textProxy")?y.data:""),"");m&&(m.length<=f.length?f.startsWith(m)&&(f=f.substring(m.length),d[0].start=d[0].start.getShiftedBy(m.length)):m.startsWith(f)&&(d[0].start=d[0].start.getShiftedBy(f.length),f=""))}const h={text:f,selection:n.createSelection(d)};u&&(h.resultRange=e.editing.mapper.toModelRange(u)),e.execute("insertText",h),r.scrollToTheSelection()}),wt.isAndroid?this.listenTo(r.document,"keydown",(o,a)=>{i.isCollapsed||a.keyCode!=229||!r.document.isComposing||hS(n,s)}):this.listenTo(r.document,"compositionstart",()=>{i.isCollapsed||hS(n,s)})}}function hS(t,e){if(!e.isEnabled)return;const n=e.buffer;n.lock(),t.enqueueChange(n.batch,()=>{t.deleteContent(t.document.selection)}),n.unlock()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mS extends Pt{constructor(e,n){super(e),this.direction=n,this._buffer=new A4(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const n=this.editor.model,r=n.document;n.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const s=i.createSelection(e.selection||r.selection);if(!n.canEditAt(s))return;const o=e.sequence||1,a=s.isCollapsed;if(s.isCollapsed&&n.modifySelection(s,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(i);return}if(this._shouldReplaceFirstBlockWithParagraph(s,o)){this.editor.execute("paragraph",{selection:s});return}if(s.isCollapsed)return;let l=0;s.getFirstRange().getMinimalFlatRanges().forEach(c=>{l+=ub(c.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),n.deleteContent(s,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),i.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const n=this.editor.model,i=n.document.selection,s=n.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(s))||!n.schema.checkChild(s,"paragraph"))return!1;const a=s.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const n=this.editor.model,i=n.document.selection,s=n.schema.getLimitElement(i),o=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(o,s),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,n){const r=this.editor.model;if(n>1||this.direction!="backward"||!e.isCollapsed)return!1;const i=e.getFirstPosition(),s=r.schema.getLimitElement(i),o=s.getChild(0);return!(i.parent!=o||!e.containsEntireContent(o)||!r.schema.checkChild(s,"paragraph")||o.name=="paragraph")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const one="character",pS="word",ane="codePoint",go="selection",Sl="backward",su="forward",P4={deleteContent:{unit:go,direction:Sl},deleteContentBackward:{unit:ane,direction:Sl},deleteWordBackward:{unit:pS,direction:Sl},deleteHardLineBackward:{unit:go,direction:Sl},deleteSoftLineBackward:{unit:go,direction:Sl},deleteContentForward:{unit:one,direction:su},deleteWordForward:{unit:pS,direction:su},deleteHardLineForward:{unit:go,direction:su},deleteSoftLineForward:{unit:go,direction:su}};class lne extends gs{constructor(e){super(e);const n=e.document;let r=0;n.on("keydown",()=>{r++}),n.on("keyup",()=>{r=0}),n.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=s,c=P4[l];if(!c)return;const u={direction:c.direction,unit:c.unit,sequence:r};u.unit==go&&(u.selectionToRemove=e.createSelection(o[0])),l==="deleteContentBackward"&&(wt.isAndroid&&(u.sequence=1),une(o)&&(u.unit=go,u.selectionToRemove=e.createSelection(o)));const d=new Pc(n,"delete",o[0]);n.fire(d,new rc(e,a,u)),d.stop.called&&i.stop()}),wt.isBlink&&cne(this)}observe(){}stopObserving(){}}function cne(t){const e=t.view,n=e.document;let r=null,i=!1;n.on("keydown",(a,{keyCode:l})=>{r=l,i=!1}),n.on("keyup",(a,{keyCode:l,domEvent:c})=>{const u=n.selection,d=t.isEnabled&&l==r&&s(l)&&!u.isCollapsed&&!i;if(r=null,d){const f=u.getFirstRange(),h=new Pc(n,"delete",f),m={unit:go,direction:o(l),selectionToRemove:u};n.fire(h,new rc(e,c,m))}}),n.on("beforeinput",(a,{inputType:l})=>{const c=P4[l];s(r)&&c&&c.direction==o(r)&&(i=!0)},{priority:"high"}),n.on("beforeinput",(a,{inputType:l,data:c})=>{r==It.delete&&l=="insertText"&&c==""&&a.stop()},{priority:"high"});function s(a){return a==It.backspace||a==It.delete}function o(a){return a==It.backspace?Sl:su}}function une(t){if(t.length!=1||t[0].isCollapsed)return!1;const e=t[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:r}of e){if(!r.parent.is("$text"))n++;else{const i=r.parent.data,s=r.offset;if(jy(i,s)||Wy(i,s)||zI(i,s))continue;n++}if(n>1)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xa extends Fe{static get pluginName(){return"Delete"}init(){const e=this.editor,n=e.editing.view,r=n.document,i=e.model.document;n.addObserver(lne),this._undoOnBackspace=!1;const s=new mS(e,"forward");e.commands.add("deleteForward",s),e.commands.add("forwardDelete",s),e.commands.add("delete",new mS(e,"backward")),this.listenTo(r,"delete",(o,a)=>{r.isComposing||a.preventDefault();const{direction:l,sequence:c,selectionToRemove:u,unit:d}=a,f=l==="forward"?"deleteForward":"delete",h={sequence:c};if(d=="selection"){const m=Array.from(u.getRanges()).map(p=>e.editing.mapper.toModelRange(p));h.selection=e.model.createSelection(m)}else h.unit=d;e.execute(f,h),n.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(i,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dne extends Fe{static get requires(){return[x4,Xa]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function I4(t,e){let n=t.start;return{text:Array.from(t.getWalker({ignoreElementEnd:!1})).reduce((i,{item:s})=>s.is("$text")||s.is("$textProxy")?i+s.data:(n=e.createPositionAfter(s),""),""),range:e.createRange(n,t.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fne extends Kt(){constructor(e,n){super(),this.model=e,this.testCallback=n,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(r,{directChange:i})=>{if(i){if(!n.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(n,"change:data",(r,i)=>{i.isUndo||!i.isLocal||this._evaluateTextBeforeSelection("data",{batch:i})})}_evaluateTextBeforeSelection(e,n={}){const r=this.model,s=r.document.selection,o=r.createRange(r.createPositionAt(s.focus.parent,0),s.focus),{text:a,range:l}=I4(o,r),c=this.testCallback(a);if(!c&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!c,c){const u=Object.assign(n,{text:a,range:l});typeof c=="object"&&Object.assign(u,c),this.fire(`matched:${e}`,u)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gS extends Fe{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,n=e.model,r=e.editing.view,i=e.locale,s=n.document.selection;this.listenTo(r.document,"arrowKey",(o,a)=>{if(!s.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==It.arrowright,c=a.keyCode==It.arrowleft;if(!l&&!c)return;const u=i.contentLanguageDirection;let d=!1;u==="ltr"&&l||u==="rtl"&&c?d=this._handleForwardMovement(a):d=this._handleBackwardMovement(a),d===!0&&o.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(s,"change:range",(o,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&ch(s.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const n=this.attributes,i=this.editor.model.document.selection,s=i.getFirstPosition();return this._isGravityOverridden||s.isAtStart&&Lg(i,n)?!1:ch(s,n)?(Of(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const n=this.attributes,r=this.editor.model,i=r.document.selection,s=i.getFirstPosition();return this._isGravityOverridden?(Of(e),this._restoreGravity(),$g(r,n,s),!0):s.isAtStart?Lg(i,n)?(Of(e),$g(r,n,s),!0):!1:hne(s,n)?s.isAtEnd&&!Lg(i,n)&&ch(s,n)?(Of(e),$g(r,n,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Lg(t,e){for(const n of e)if(t.hasAttribute(n))return!0;return!1}function $g(t,e,n){const r=n.nodeBefore;t.change(i=>{if(r){const s=[],o=t.schema.isObject(r)&&t.schema.isInline(r);for(const[a,l]of r.getAttributes())t.schema.checkAttribute("$text",a)&&(!o||t.schema.getAttributeProperties(a).copyFromObject!==!1)&&s.push([a,l]);i.setSelectionAttribute(s)}else i.removeSelectionAttribute(e)})}function Of(t){t.preventDefault()}function hne(t,e){const n=t.getShiftedBy(-1);return ch(n,e)}function ch(t,e){const{nodeBefore:n,nodeAfter:r}=t;for(const i of e){const s=n?n.getAttribute(i):void 0;if((r?r.getAttribute(i):void 0)!==s)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function oc(t,e,n,r){return r.createRange(vS(t,e,n,!0,r),vS(t,e,n,!1,r))}function vS(t,e,n,r,i){let s=t.textNode||(r?t.nodeBefore:t.nodeAfter),o=null;for(;s&&s.getAttribute(e)==n;)o=s,s=r?s.previousSibling:s.nextSibling;return o?i.createPositionAt(o,r?"before":"after"):t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function mne(t,e,n,r){const i=t.editing.view,s=new Set;i.document.registerPostFixer(o=>{const a=t.model.document.selection;let l=!1;if(a.hasAttribute(e)){const c=oc(a.getFirstPosition(),e,a.getAttribute(e),t.model),u=t.editing.mapper.toViewRange(c);for(const d of u.getItems())d.is("element",n)&&!d.hasClass(r)&&(o.addClass(r,d),s.add(d),l=!0)}return l}),t.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){i.change(l=>{for(const c of s.values())l.removeClass(r,c),s.delete(c)})}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*O4(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pne extends Pt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const n=this.editor.model,r=n.document.selection,i=n.schema,s=r.isCollapsed,o=r.getFirstRange(),a=o.start.parent,l=o.end.parent;if(i.isLimit(a)||i.isLimit(l))return!s&&a==l&&n.deleteContent(r),!1;if(s){const c=O4(e.model.schema,r.getAttributes());return bS(e,o.start),e.setSelectionAttribute(c),!0}else{const c=!(o.start.isAtStart&&o.end.isAtEnd),u=a==l;if(n.deleteContent(r,{leaveUnmerged:c}),c){if(u)return bS(e,r.focus),!0;e.setSelection(l,0)}}return!1}}function bS(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gne={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class R4 extends gs{constructor(e){super(e);const n=this.document;let r=!1;n.on("keydown",(i,s)=>{r=s.shiftKey}),n.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;let o=s.inputType;wt.isSafari&&r&&o=="insertParagraph"&&(o="insertLineBreak");const a=s.domEvent,l=gne[o];if(!l)return;const c=new Pc(n,"enter",s.targetRanges[0]);n.fire(c,new rc(e,a,{isSoft:l.isSoft})),c.stop.called&&i.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tp extends Fe{static get pluginName(){return"Enter"}init(){const e=this.editor,n=e.editing.view,r=n.document;n.addObserver(R4),e.commands.add("enter",new pne(e)),this.listenTo(r,"enter",(i,s)=>{r.isComposing||s.preventDefault(),!s.isSoft&&(e.execute("enter"),n.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vne extends Pt{execute(){const e=this.editor.model,n=e.document;e.change(r=>{yne(e,r,n.selection),this.fire("afterExecute",{writer:r})})}refresh(){const e=this.editor.model,n=e.document;this.isEnabled=bne(e.schema,n.selection)}}function bne(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const r=e.getFirstRange(),i=r.start.parent,s=r.end.parent;return!((Rb(i,t)||Rb(s,t))&&i!==s)}function yne(t,e,n){const r=n.isCollapsed,i=n.getFirstRange(),s=i.start.parent,o=i.end.parent,a=s==o;if(r){const l=O4(t.schema,n.getAttributes());yS(t,e,i.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(l)}else{const l=!(i.start.isAtStart&&i.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:l}),a?yS(t,e,n.focus):l&&e.setSelection(o,0)}}function yS(t,e,n){const r=e.createElement("softBreak");t.insertContent(r,n),e.setSelection(r,"after")}function Rb(t,e){return t.is("rootElement")?!1:e.isLimit(t)||Rb(t.parent,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wne extends Fe{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,n=e.model.schema,r=e.conversion,i=e.editing.view,s=i.document;n.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(o,{writer:a})=>a.createEmptyElement("br")}),i.addObserver(R4),e.commands.add("shiftEnter",new vne(e)),this.listenTo(s,"enter",(o,a)=>{s.isComposing||a.preventDefault(),a.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _ne extends Yt(){constructor(){super(...arguments),this._stack=[]}add(e,n){const r=this._stack,i=r[0];this._insertDescriptor(e);const s=r[0];i!==s&&!Bg(i,s)&&this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:n})}remove(e,n){const r=this._stack,i=r[0];this._removeDescriptor(e);const s=r[0];i!==s&&!Bg(i,s)&&this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:n})}_insertDescriptor(e){const n=this._stack,r=n.findIndex(s=>s.id===e.id);if(Bg(e,n[r]))return;r>-1&&n.splice(r,1);let i=0;for(;n[i]&&Cne(n[i],e);)i++;n.splice(i,0,e)}_removeDescriptor(e){const n=this._stack,r=n.findIndex(i=>i.id===e);r>-1&&n.splice(r,1)}}function Bg(t,e){return t&&e&&t.priority==e.priority&&Kh(t.classes)==Kh(e.classes)}function Cne(t,e){return t.priority>e.priority?!0:t.priority<e.priority?!1:Kh(t.classes)>Kh(e.classes)}function Kh(t){return Array.isArray(t)?t.sort().join(","):t}const kne='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Sne="ck-widget",wS="ck-widget_selected";function hn(t){return t.is("element")?!!t.getCustomProperty("widget"):!1}function M4(t,e,n={}){if(!t.is("containerElement"))throw new j("widget-to-widget-wrong-element-type",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass(Sne,t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=Ine,e.setCustomProperty("widgetLabel",[],t),n.label&&Ane(t,n.label),n.hasSelectionHandle&&One(t,e),D4(t,e),t}function Ene(t,e,n){if(e.classes&&n.addClass(sr(e.classes),t),e.attributes)for(const r in e.attributes)n.setAttribute(r,e.attributes[r],t)}function Tne(t,e,n){if(e.classes&&n.removeClass(sr(e.classes),t),e.attributes)for(const r in e.attributes)n.removeAttribute(r,t)}function D4(t,e,n=Ene,r=Tne){const i=new _ne;i.on("change:top",(a,l)=>{l.oldDescriptor&&r(t,l.oldDescriptor,l.writer),l.newDescriptor&&n(t,l.newDescriptor,l.writer)});const s=(a,l,c)=>i.add(l,c),o=(a,l,c)=>i.remove(l,c);e.setCustomProperty("addHighlight",s,t),e.setCustomProperty("removeHighlight",o,t)}function Ane(t,e){t.getCustomProperty("widgetLabel").push(e)}function xne(t){return t.getCustomProperty("widgetLabel").reduce((n,r)=>typeof r=="function"?n?n+". "+r():r():n?n+". "+r:r,"")}function N4(t,e,n={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("role","textbox",t),n.label&&e.setAttribute("aria-label",n.label,t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(r,i,s)=>{e.setAttribute("contenteditable",s?"false":"true",t)}),t.on("change:isFocused",(r,i,s)=>{s?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),D4(t,e),t}function Pne(t,e){const n=t.getSelectedElement();if(n){const r=uo(t);if(r)return e.createRange(e.createPositionAt(n,r))}return QO(t,e)}function Ine(){return null}function One(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(r){const i=this.toDomElement(r),s=new Ga;return s.set("content",kne),s.render(),i.appendChild(s.element),i});e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Es="widget-type-around";function ea(t,e,n){return!!t&&hn(t)&&!n.isInline(e)}function Rne(t){return t.closest(".ck-widget__type-around__button")}function Mne(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function Dne(t,e){const n=t.closest(".ck-widget");return e.mapDomToView(n)}function uo(t){return t.getAttribute(Es)}const Nne='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const F4=["before","after"],Fne=new DOMParser().parseFromString(Nne,"image/svg+xml").firstChild,_S="ck-widget__type-around_disabled";class Lne extends Fe{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[tp,Xa]}init(){const e=this.editor,n=e.editing.view;this.on("change:isEnabled",(r,i,s)=>{n.change(o=>{for(const a of n.document.roots)s?o.removeClass(_S,a):o.addClass(_S,a)}),s||e.model.change(o=>{o.removeSelectionAttribute(Es)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,n){const r=this.editor,i=r.editing.view,s=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,n),attributes:s}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(e,n,r,i){this.listenTo(e,n,(...s)=>{this.isEnabled&&r(...s)},i)}_insertParagraphAccordingToFakeCaretPosition(){const r=this.editor.model.document.selection,i=uo(r);if(!i)return!1;const s=r.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,n=e.model.schema,r=e.locale.t,i={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(s,o,a)=>{const l=a.mapper.toViewElement(o.item);l&&ea(l,o.item,n)&&($ne(a.writer,i,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,n=e.model,r=n.document.selection,i=n.schema,s=e.editing.view;this._listenToIfEnabled(s.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[hn,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(a,l)=>{l.directChange&&e.model.change(c=>{c.removeSelectionAttribute(Es)})}),this._listenToIfEnabled(n.document,"change:data",()=>{const a=r.getSelectedElement();if(a){const l=e.editing.mapper.toViewElement(a);if(ea(l,a,i))return}e.model.change(l=>{l.removeSelectionAttribute(Es)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,c)=>{const u=c.writer;if(this._currentFakeCaretModelElement){const m=c.mapper.toViewElement(this._currentFakeCaretModelElement);m&&(u.removeClass(F4.map(o),m),this._currentFakeCaretModelElement=null)}const d=l.selection.getSelectedElement();if(!d)return;const f=c.mapper.toViewElement(d);if(!ea(f,d,i))return;const h=uo(l.selection);h&&(u.addClass(o(h),f),this._currentFakeCaretModelElement=d)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,c)=>{c||e.model.change(u=>{u.removeSelectionAttribute(Es)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,n){const r=this.editor,i=r.model,s=i.document.selection,o=i.schema,a=r.editing.view,l=n.keyCode,c=VG(l,r.locale.contentLanguageDirection),u=a.document.selection.getSelectedElement(),d=r.editing.mapper.toModelElement(u);let f;ea(u,d,o)?f=this._handleArrowKeyPressOnSelectedWidget(c):s.isCollapsed?f=this._handleArrowKeyPressWhenSelectionNextToAWidget(c):n.shiftKey||(f=this._handleArrowKeyPressWhenNonCollapsedSelection(c)),f&&(n.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,i=r.document.selection,s=uo(i);return r.change(o=>{if(s){if(!(s===(e?"after":"before")))return o.removeSelectionAttribute(Es),!0}else return o.setSelectionAttribute(Es,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const n=this.editor,r=n.model,i=r.schema,s=n.plugins.get("Widget"),o=s._getObjectElementNextToSelection(e),a=n.editing.mapper.toViewElement(o);return ea(a,o,i)?(r.change(l=>{s._setSelectionOverElement(o),l.setSelectionAttribute(Es,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const n=this.editor,r=n.model,i=r.schema,s=n.editing.mapper,o=r.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,l=s.toViewElement(a);return ea(l,a,i)?(r.change(c=>{c.setSelection(a,"on"),c.setSelectionAttribute(Es,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,n=e.editing.view;this._listenToIfEnabled(n.document,"mousedown",(r,i)=>{const s=Rne(i.domTarget);if(!s)return;const o=Mne(s),a=Dne(s,n.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,o),i.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,n=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(i,s)=>{if(i.eventPhase!="atTarget")return;const o=n.getSelectedElement(),a=e.editing.mapper.toViewElement(o),l=e.model.schema;let c;this._insertParagraphAccordingToFakeCaretPosition()?c=!0:ea(a,o,l)&&(this._insertParagraph(o,s.isSoft?"before":"after"),c=!0),c&&(s.preventDefault(),i.stop())},{context:hn})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(r,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=n.selection)},{priority:"high"}),wt.isAndroid?this._listenToIfEnabled(n,"keydown",(r,i)=>{i.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,n=e.editing.view,r=e.model,i=r.schema;this._listenToIfEnabled(n.document,"delete",(s,o)=>{if(s.eventPhase!="atTarget")return;const a=uo(r.document.selection);if(!a)return;const l=o.direction,c=r.document.selection.getSelectedElement(),u=a==="before",d=l=="forward";if(u===d)e.execute("delete",{selection:r.createSelection(c,"on")});else{const h=i.getNearestSelectionRange(r.createPositionAt(c,a),l);if(h)if(!h.isCollapsed)r.change(m=>{m.setSelection(h),e.execute(d?"deleteForward":"delete")});else{const m=r.createSelection(h.start);if(r.modifySelection(m,{direction:l}),!m.focus.isEqual(h.start))r.change(p=>{p.setSelection(h),e.execute(d?"deleteForward":"delete")});else{const p=zne(i,h.start.parent);r.deleteContent(r.createSelection(p,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),s.stop()},{context:hn})}_enableInsertContentIntegration(){const e=this.editor,n=this.editor.model,r=n.document.selection;this._listenToIfEnabled(e.model,"insertContent",(i,[s,o])=>{if(o&&!o.is("documentSelection"))return;const a=uo(r);if(a)return i.stop(),n.change(l=>{const c=r.getSelectedElement(),u=n.createPositionAt(c,a),d=l.createSelection(u),f=n.insertContent(s,d);return l.setSelection(d),f})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(i,s)=>{const[,o,a={}]=s;if(o&&!o.is("documentSelection"))return;const l=uo(r);l&&(a.findOptimalPosition=l,s[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(i,[s])=>{if(s&&!s.is("documentSelection"))return;uo(r)&&i.stop()},{priority:"high"})}}function $ne(t,e,n){const r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(i){const s=this.toDomElement(i);return Bne(s,e),Vne(s),s});t.insert(t.createPositionAt(n,"end"),r)}function Bne(t,e){for(const n of F4){const r=new ls({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:e[n],"aria-hidden":"true"},children:[t.ownerDocument.importNode(Fne,!0)]});t.appendChild(r.render())}}function Vne(t){const e=new ls({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}function zne(t,e){let n=e;for(const r of e.getAncestors({parentFirst:!0})){if(r.childCount>1||t.isLimit(r))break;n=r}return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Une(t){const e=t.model;return(n,r)=>{const i=r.keyCode==It.arrowup,s=r.keyCode==It.arrowdown,o=r.shiftKey,a=e.document.selection;if(!i&&!s)return;const l=s;if(o&&Wne(a,l))return;const c=Hne(t,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(o)return}(c.isCollapsed||jne(t,c,l))&&(e.change(u=>{const d=l?c.end:c.start;if(o){const f=e.createSelection(a.anchor);f.setFocus(d),u.setSelection(f)}else u.setSelection(d)}),n.stop(),r.preventDefault(),r.stopPropagation())}}}function Hne(t,e,n){const r=t.model;if(n){const i=e.isCollapsed?e.focus:e.getLastPosition(),s=CS(r,i,"forward");if(!s)return null;const o=r.createRange(i,s),a=kS(r.schema,o,"backward");return a?r.createRange(i,a):null}else{const i=e.isCollapsed?e.focus:e.getFirstPosition(),s=CS(r,i,"backward");if(!s)return null;const o=r.createRange(s,i),a=kS(r.schema,o,"forward");return a?r.createRange(a,i):null}}function CS(t,e,n){const r=t.schema,i=t.createRangeIn(e.root),s=n=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of i.getWalker({startPosition:e,direction:n})){if(r.isLimit(a)&&!r.isInline(a))return o;if(l==s&&r.isBlock(a))return null}return null}function kS(t,e,n){const r=n=="backward"?e.end:e.start;if(t.checkChild(r,"$text"))return r;for(const{nextPosition:i}of e.getWalker({direction:n}))if(t.checkChild(i,"$text"))return i;return null}function jne(t,e,n){const r=t.model,i=t.view.domConverter;if(n){const c=r.createSelection(e.start);r.modifySelection(c),!c.focus.isAtEnd&&!e.start.isEqual(c.focus)&&(e=r.createRange(c.focus,e.end))}const s=t.mapper.toViewRange(e),o=i.viewRangeToDom(s),a=zt.getDomRangeRects(o);let l;for(const c of a){if(l===void 0){l=Math.round(c.bottom);continue}if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}return!0}function Wne(t,e){return!t.isCollapsed&&t.isBackward==e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class np extends Fe{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Lne,Xa]}init(){const e=this.editor,n=e.editing.view,r=n.document;this.editor.editing.downcastDispatcher.on("selection",(i,s,o)=>{const a=o.writer,l=s.selection;if(l.isCollapsed)return;const c=l.getSelectedElement();if(!c)return;const u=e.editing.mapper.toViewElement(c);hn(u)&&o.consumable.consume(l,"selection")&&a.setSelection(a.createRangeOn(u),{fake:!0,label:xne(u)})}),this.editor.editing.downcastDispatcher.on("selection",(i,s,o)=>{this._clearPreviouslySelectedWidgets(o.writer);const a=o.writer,l=a.document.selection;let c=null;for(const u of l.getRanges())for(const d of u){const f=d.item;hn(f)&&!Kne(f,c)&&(a.addClass(wS,f),this._previouslySelected.add(f),c=f)}},{priority:"low"}),n.addObserver(rw),this.listenTo(r,"mousedown",(...i)=>this._onMousedown(...i)),this.listenTo(r,"arrowKey",(...i)=>{this._handleSelectionChangeOnArrowKeyPress(...i)},{context:[hn,"$text"]}),this.listenTo(r,"arrowKey",(...i)=>{this._preventDefaultOnArrowKeyPress(...i)},{context:"$root"}),this.listenTo(r,"arrowKey",Une(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(i,s)=>{this._handleDelete(s.direction=="forward")&&(s.preventDefault(),i.stop())},{context:"$root"})}_onMousedown(e,n){const r=this.editor,i=r.editing.view,s=i.document;let o=n.target;if(qne(o)){if((wt.isSafari||wt.isGecko)&&n.domEvent.detail>=3){const l=r.editing.mapper,c=o.is("attributeElement")?o.findAncestor(d=>!d.is("attributeElement")):o,u=l.toModelElement(c);n.preventDefault(),this.editor.model.change(d=>{d.setSelection(u,"in")})}return}if(!hn(o)&&(o=o.findAncestor(hn),!o))return;wt.isAndroid&&n.preventDefault(),s.isFocused||i.focus();const a=r.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_handleSelectionChangeOnArrowKeyPress(e,n){const r=n.keyCode,i=this.editor.model,s=i.schema,o=i.document.selection,a=o.getSelectedElement(),l=Hy(r,this.editor.locale.contentLanguageDirection),c=l=="down"||l=="right",u=l=="up"||l=="down";if(a&&s.isObject(a)){const f=c?o.getLastPosition():o.getFirstPosition(),h=s.getNearestSelectionRange(f,c?"forward":"backward");h&&(i.change(m=>{m.setSelection(h)}),n.preventDefault(),e.stop());return}if(!o.isCollapsed&&!n.shiftKey){const f=o.getFirstPosition(),h=o.getLastPosition(),m=f.nodeAfter,p=h.nodeBefore;(m&&s.isObject(m)||p&&s.isObject(p))&&(i.change(y=>{y.setSelection(c?h:f)}),n.preventDefault(),e.stop());return}if(!o.isCollapsed)return;const d=this._getObjectElementNextToSelection(c);if(d&&s.isObject(d)){if(s.isInline(d)&&u)return;this._setSelectionOverElement(d),n.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,n){const r=this.editor.model,i=r.schema,s=r.document.selection.getSelectedElement();s&&i.isObject(s)&&(n.preventDefault(),e.stop())}_handleDelete(e){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const i=this._getObjectElementNextToSelection(e);if(i)return this.editor.model.change(s=>{let o=r.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,s.remove(a)}this._setSelectionOverElement(i)}),!0}_setSelectionOverElement(e){this.editor.model.change(n=>{n.setSelection(n.createRangeOn(e))})}_getObjectElementNextToSelection(e){const n=this.editor.model,r=n.schema,i=n.document.selection,s=n.createSelection(i);if(n.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(i))return null;const o=e?s.focus.nodeBefore:s.focus.nodeAfter;return o&&r.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const n of this._previouslySelected)e.removeClass(wS,n);this._previouslySelected.clear()}}function qne(t){let e=t;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(hn(e))return!1;e=e.parent}return!1}function Kne(t,e){return e?Array.from(t.getAncestors()).includes(e):!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gh extends Fe{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Wh]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const n=e.plugins.get("BalloonToolbar");this.listenTo(n,"show",r=>{Gne(e.editing.view.document.selection)&&r.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:n,items:r,getRelatedElement:i,balloonClassName:s="ck-toolbar-container"}){if(!r.length){en("widget-toolbar-no-items",{toolbarId:e});return}const o=this.editor,a=o.t,l=new sw(o.locale);if(l.ariaLabel=n||a("Widget toolbar"),this._toolbarDefinitions.has(e))throw new j("widget-toolbar-duplicated",this,{toolbarId:e});const c={view:l,getRelatedElement:i,balloonClassName:s,itemsConfig:r,initialized:!1};o.ui.addToolbar(l,{isContextual:!0,beforeFocus:()=>{const u=i(o.editing.view.document.selection);u&&this._showToolbar(c,u)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(e,c)}_updateToolbarsVisibility(){let e=0,n=null,r=null;for(const i of this._toolbarDefinitions.values()){const s=i.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!s)this._isToolbarInBalloon(i)&&this._hideToolbar(i);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(i)&&this._hideToolbar(i);else{const o=s.getAncestors().length;o>e&&(e=o,n=s,r=i)}}r&&this._showToolbar(r,n)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,n){this._isToolbarVisible(e)?SS(this.editor,n):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:L4(this.editor,n),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const r of this._toolbarDefinitions.values())if(this._isToolbarVisible(r)){const i=r.getRelatedElement(this.editor.editing.view.document.selection);SS(this.editor,i)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function SS(t,e){const n=t.plugins.get("ContextualBalloon"),r=L4(t,e);n.updatePosition(r)}function L4(t,e){const n=t.editing.view,r=or.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}function Gne(t){const e=t.getSelectedElement();return!!(e&&hn(e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yne extends Fe{static get pluginName(){return"DragDrop"}static get requires(){return[Us,np]}init(){const e=this.editor,n=e.editing.view;if(this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=my(r=>this._updateDropMarker(r),40),this._removeDropMarkerDelayed=pb(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=pb(()=>this._clearDraggableAttributes(),40),e.plugins.has("DragDropExperimental")){this.forceDisabled("DragDropExperimental");return}n.addObserver(hw),n.addObserver(rw),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,i,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,i,s)=>{s||this._finalizeDragging(!1)}),wt.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,n=e.model,r=n.document,i=e.editing.view,s=i.document;this.listenTo(s,"dragstart",(o,a)=>{const l=r.selection;if(a.target&&a.target.is("editableElement")){a.preventDefault();return}const c=a.target?AS(a.target):null;if(c){const h=e.editing.mapper.toModelElement(c);this._draggedRange=ms.fromRange(n.createRangeOn(h)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!s.selection.isCollapsed){const h=s.selection.getSelectedElement();(!h||!hn(h))&&(this._draggedRange=ms.fromRange(l.getFirstRange()))}if(!this._draggedRange){a.preventDefault();return}this._draggingUid=hs();const u=this.isEnabled&&e.model.canEditAt(this._draggedRange);a.dataTransfer.effectAllowed=u?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const d=n.createSelection(this._draggedRange.toRange()),f=e.data.toView(n.getSelectedContent(d));s.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:f,method:"dragstart"}),u||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(s,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const l=ES(e,a.targetRanges,a.target);if(!e.model.canEditAt(l)){a.dataTransfer.dropEffect="none";return}this._draggedRange||(a.dataTransfer.dropEffect="copy"),wt.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move"));/* istanbul ignore else -- @preserve */l&&this._updateDropMarkerThrottled(l)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"clipboardInput",(i,s)=>{if(s.method!="drop")return;const o=ES(e,s.targetRanges,s.target);this._removeDropMarker();/* istanbul ignore if -- @preserve */if(!o||!e.model.canEditAt(o)){this._finalizeDragging(!1),i.stop();return}if(this._draggedRange&&this._draggingUid!=s.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),TS(s.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(o,!0)){this._finalizeDragging(!1),i.stop();return}s.targetRanges=[e.editing.mapper.toViewRange(o)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Us);e.on("contentInsertion",(n,r)=>{if(!this.isEnabled||r.method!=="drop")return;const i=r.targetRanges.map(s=>this.editor.editing.mapper.toModelRange(s));this.editor.model.change(s=>s.setSelection(i))},{priority:"high"}),e.on("contentInsertion",(n,r)=>{if(!this.isEnabled||r.method!=="drop")return;const i=TS(r.dataTransfer)=="move",s=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(s&&i)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,n=e.editing.view,r=n.document;this.listenTo(r,"mousedown",(i,s)=>{if(wt.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let o=AS(s.target);if(wt.isBlink&&!o&&!r.selection.isCollapsed){const a=r.selection.getSelectedElement();if(!a||!hn(a)){const l=r.selection.editableElement;l&&!l.isReadOnly&&(o=l)}}o&&(n.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(r,"mouseup",()=>{wt.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(n=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&n.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(n,{writer:r})=>{if(e.model.schema.checkChild(n.markerRange.start,"$text"))return r.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(s){const o=this.toDomElement(s);return o.append("",s.createElement("span"),""),o})}})}_updateDropMarker(e){const n=this.editor,r=n.model.markers;n.model.change(i=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||i.updateMarker("drop-target",{range:e}):i.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(n=>{n.removeMarker("drop-target")})}_finalizeDragging(e){const n=this.editor,r=n.model;this._removeDropMarker(),this._clearDraggableAttributes(),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&r.deleteContent(r.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function ES(t,e,n){const r=t.model,i=t.editing.mapper;let s=null;const o=e?e[0].start:null;if(n.is("uiElement")&&(n=n.parent),s=Qne(t,n),s)return s;const a=ere(t,n),l=o?i.toModelPosition(o):null;return l?(s=Xne(t,l,a),s||(s=r.schema.getNearestSelectionRange(l,wt.isGecko?"forward":"backward"),s)?s:Zne(t,l.parent)):Jne(t,a)}function Qne(t,e){const n=t.model,r=t.editing.mapper;if(hn(e))return n.createRangeOn(r.toModelElement(e));if(!e.is("editableElement")){const i=e.findAncestor(s=>hn(s)||s.is("editableElement"));if(hn(i))return n.createRangeOn(r.toModelElement(i))}return null}function Jne(t,e){const n=t.model,r=n.schema,i=n.createPositionAt(e,0);return r.getNearestSelectionRange(i,"forward")}function Xne(t,e,n){const r=t.model;if(!r.schema.checkChild(n,"$block"))return null;const i=r.createPositionAt(n,0),s=e.path.slice(0,i.path.length),a=r.createPositionFromPath(e.root,s).nodeAfter;return a&&r.schema.isObject(a)?r.createRangeOn(a):null}function Zne(t,e){const n=t.model;let r=e;for(;r;){if(n.schema.isObject(r))return n.createRangeOn(r);r=r.parent}/* istanbul ignore next -- @preserve */return null}function ere(t,e){const n=t.editing.mapper,r=t.editing.view,i=n.toModelElement(e);if(i)return i;const s=r.createPositionBefore(e),o=n.findMappedViewAncestor(s);return n.toModelElement(o)}function TS(t){return wt.isGecko?t.dropEffect:["all","copyMove"].includes(t.effectAllowed)?"move":"copy"}function AS(t){if(t.is("editableElement"))return null;if(t.hasClass("ck-widget__selection-handle"))return t.findAncestor(hn);if(hn(t))return t;const e=t.findAncestor(n=>hn(n)||n.is("editableElement"));return hn(e)?e:null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tre extends Fe{static get pluginName(){return"PastePlainText"}static get requires(){return[Us]}init(){const e=this.editor,n=e.model,r=e.editing.view,i=r.document,s=n.document.selection;let o=!1;r.addObserver(hw),this.listenTo(i,"keydown",(a,l)=>{o=l.shiftKey}),e.plugins.get(Us).on("contentInsertion",(a,l)=>{!o&&!nre(l.content,n.schema)||n.change(c=>{const u=Array.from(s.getAttributes()).filter(([f])=>n.schema.getAttributeProperties(f).isFormatting);s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0}),u.push(...s.getAttributes());const d=c.createRangeIn(l.content);for(const f of d.getItems())f.is("$textProxy")&&c.setAttributes(u,f)})})}}function nre(t,e){if(t.childCount>1)return!1;const n=t.getChild(0);return e.isObject(n)?!1:Array.from(n.getAttributeKeys()).length==0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rre extends Fe{static get pluginName(){return"Clipboard"}static get requires(){return[Us,Yne,tre]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ire extends Pt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,n=e.document.selection;let r=e.schema.getLimitElement(n);if(n.containsEntireContent(r)||!xS(e.schema,r))do if(r=r.parent,!r)return;while(!xS(e.schema,r));e.change(i=>{i.setSelection(r,"in")})}}function xS(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const sre=Uy("Ctrl+A");class ore extends Fe{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,r=e.editing.view.document;e.commands.add("selectAll",new ire(e)),this.listenTo(r,"keydown",(i,s)=>{ec(s)===sre&&(e.execute("selectAll"),s.preventDefault())})}}const are='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lre extends Fe{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",n=>{const r=e.commands.get("selectAll"),i=new dn(n),s=n.t;return i.set({label:s("Select all"),icon:are,keystroke:"Ctrl+A",tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),i})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cre extends Fe{static get requires(){return[ore,lre]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $4 extends Pt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(n,r)=>{r[1]={...r[1]};const i=r[1];i.batchType||(i.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(n,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const n=this.editor.model.document.selection,r={ranges:n.hasOwnRange?Array.from(n.getRanges()):[],isBackward:n.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,n,r){const i=this.editor.model,s=i.document,o=[],a=e.map(c=>c.getTransformedByOperations(r)),l=a.flat();for(const c of a){const u=c.filter(d=>d.root!=s.graveyard).filter(d=>!dre(d,l));u.length&&(ure(u),o.push(u[0]))}o.length&&i.change(c=>{c.setSelection(o,{backward:n})})}_undo(e,n){const r=this.editor.model,i=r.document;this._createdBatches.add(n);const s=e.operations.slice().filter(o=>o.isDocumentOperation);s.reverse();for(const o of s){const a=o.baseVersion+1,l=Array.from(i.history.getOperations(a)),u=wX([o.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let d of u){const f=d.affectedSelectable;f&&!r.canEditAt(f)&&(d=new On(d.baseVersion)),n.addOperation(d),r.applyOperation(d),i.history.setOperationAsUndone(o,d)}}}}function ure(t){t.sort((e,n)=>e.start.isBefore(n.start)?-1:1);for(let e=1;e<t.length;e++){const r=t[e-1].getJoined(t[e],!0);r&&(e--,t.splice(e,2,r))}}function dre(t,e){return e.some(n=>n!==t&&n.containsRange(t,!0))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fre extends $4{execute(e=null){const n=e?this._stack.findIndex(s=>s.batch==e):this._stack.length-1,r=this._stack.splice(n,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{this._undo(r.batch,i);const s=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,s)}),this.fire("revert",r.batch,i),this.refresh()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hre extends $4{execute(){const e=this._stack.pop(),n=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(n,()=>{const i=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(i);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,n)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mre extends Fe{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new fre(e),this._redoCommand=new hre(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(n,r)=>{const i=r[0];if(!i.isDocumentOperation)return;const s=i.batch,o=this._redoCommand.createdBatches.has(s),a=this._undoCommand.createdBatches.has(s);this._batchRegistry.has(s)||(this._batchRegistry.add(s),s.isUndoable&&(o?this._undoCommand.addBatch(s):a||(this._undoCommand.addBatch(s),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(n,r,i)=>{this._redoCommand.addBatch(i)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const PS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',IS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pre extends Fe{static get pluginName(){return"UndoUI"}init(){const e=this.editor,n=e.locale,r=e.t,i=n.uiLanguageDirection=="ltr"?PS:IS,s=n.uiLanguageDirection=="ltr"?IS:PS;this._addButton("undo",r("Undo"),"CTRL+Z",i),this._addButton("redo",r("Redo"),"CTRL+Y",s)}_addButton(e,n,r,i){const s=this.editor;s.ui.componentFactory.add(e,o=>{const a=s.commands.get(e),l=new dn(o);return l.set({label:n,icon:i,keystroke:r,tooltip:!0}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>{s.execute(e),s.editing.view.focus()}),l})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gre extends Fe{static get requires(){return[mre,pre]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vre extends Fe{static get requires(){return[rre,tp,cre,wne,dne,gre]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ro(t,e,n,r){let i,s=null;typeof r=="function"?i=r:(s=t.commands.get(r),i=()=>{t.execute(r)}),t.model.document.on("change:data",(o,a)=>{if(s&&!s.isEnabled||!e.isEnabled)return;const l=$n(t.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const c=Array.from(t.model.document.differ.getChanges()),u=c[0];if(c.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)return;const d=u.position.parent;if(d.is("element","codeBlock")||d.is("element","listItem")&&typeof r!="function"&&!["numberedList","bulletedList","todoList"].includes(r)||s&&s.value===!0)return;const f=d.getChild(0),h=t.model.createRangeOn(f);if(!h.containsRange(l)&&!l.end.isEqual(h.end))return;const m=n.exec(f.data.substr(0,l.end.offset));m&&t.model.enqueueChange(p=>{const y=p.createPositionAt(d,0),v=p.createPositionAt(d,m[0].length),b=new ms(y,v);if(i({match:m})!==!1){p.remove(b);const _=t.model.document.selection.getFirstRange(),E=p.createRangeIn(d);d.isEmpty&&!E.isEqual(_)&&!E.containsRange(_,!0)&&p.remove(d)}b.detach(),t.model.enqueueChange(()=>{t.plugins.get("Delete").requestUndoOnBackspace()})})})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fl(t,e,n,r){let i,s;n instanceof RegExp?i=n:s=n,s=s||(o=>{let a;const l=[],c=[];for(;(a=i.exec(o))!==null&&!(a&&a.length<4);){let{index:u,"1":d,"2":f,"3":h}=a;const m=d+f+h;u+=a[0].length-m.length;const p=[u,u+d.length],y=[u+d.length+f.length,u+d.length+f.length+h.length];l.push(p),l.push(y),c.push([u+d.length,u+d.length+f.length])}return{remove:l,format:c}}),t.model.document.on("change:data",(o,a)=>{if(a.isUndo||!a.isLocal||!e.isEnabled)return;const l=t.model,c=l.document.selection;if(!c.isCollapsed)return;const u=Array.from(l.document.differ.getChanges()),d=u[0];if(u.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1)return;const f=c.focus,h=f.parent,{text:m,range:p}=bre(l.createRange(l.createPositionAt(h,0),f),l),y=s(m),v=OS(p.start,y.format,l),b=OS(p.start,y.remove,l);v.length&&b.length&&l.enqueueChange(T=>{if(r(T,v)!==!1){for(const E of b.reverse())T.remove(E);l.enqueueChange(()=>{t.plugins.get("Delete").requestUndoOnBackspace()})}})})}function OS(t,e,n){return e.filter(r=>r[0]!==void 0&&r[1]!==void 0).map(r=>n.createRange(t.getShiftedBy(r[0]),t.getShiftedBy(r[1])))}function bre(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((i,s)=>!(s.is("$text")||s.is("$textProxy"))||s.getAttribute("code")?(n=e.createPositionAfter(s),""):i+s.data,""),range:e.createRange(n,t.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yre extends Fe{static get requires(){return[Xa]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&ro(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&ro(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&ro(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&ro(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const n=Rf(this.editor,"bold");fl(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),fl(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(e.get("italic")){const n=Rf(this.editor,"italic");fl(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),fl(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(e.get("code")){const n=Rf(this.editor,"code");fl(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(e.get("strikethrough")){const n=Rf(this.editor,"strikethrough");fl(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const r=n[7],i=new RegExp(`^(#{${r}})\\s$`);ro(this.editor,this,i,()=>{if(!e.isEnabled||e.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&ro(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,n=e.model.document.selection;e.commands.get("codeBlock")&&ro(e,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&ro(this.editor,this,/^---$/,"horizontalLine")}}function Rf(t,e){return(n,r)=>{if(!t.commands.get(e).isEnabled)return!1;const s=t.model.schema.getValidRanges(r,e);for(const o of s)n.setAttribute(e,!0,o);n.removeSelectionAttribute(e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class B4 extends Pt{constructor(e,n){super(e),this.attributeKey=n}refresh(){const e=this.editor.model,n=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(n.selection,this.attributeKey)}execute(e={}){const n=this.editor.model,i=n.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;n.change(o=>{if(i.isCollapsed)s?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=n.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const l of a)s?o.setAttribute(this.attributeKey,s,l):o.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,n=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const i of r.getRanges())for(const s of i.getItems())if(n.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hl="bold";class wre extends Fe{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:hl}),e.model.schema.setAttributeProperties(hl,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:hl,view:"strong",upcastAlso:["b",n=>{const r=n.getStyle("font-weight");return r&&(r=="bold"||Number(r)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(hl,new B4(e,hl)),e.keystrokes.set("CTRL+B",hl)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Vg="bold";class _re extends Fe{static get pluginName(){return"BoldUI"}init(){const e=this.editor,n=e.t;e.ui.componentFactory.add(Vg,r=>{const i=e.commands.get(Vg),s=new dn(r);return s.set({label:n("Bold"),icon:fn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(Vg),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RS extends Fe{static get requires(){return[wre,_re]}static get pluginName(){return"Bold"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ml="italic";class Cre extends Fe{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:ml}),e.model.schema.setAttributeProperties(ml,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ml,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(ml,new B4(e,ml)),e.keystrokes.set("CTRL+I",ml)}}const kre='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const zg="italic";class Sre extends Fe{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,n=e.t;e.ui.componentFactory.add(zg,r=>{const i=e.commands.get(zg),s=new dn(r);return s.set({label:n("Italic"),icon:kre,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(zg),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MS extends Fe{static get requires(){return[Cre,Sre]}static get pluginName(){return"Italic"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ere extends Pt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const n=this.editor.model,r=n.schema,i=n.document.selection,s=Array.from(i.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;n.change(a=>{if(!o)this._removeQuote(a,s.filter(Mf));else{const l=s.filter(c=>Mf(c)||NS(r,c));this._applyQuote(a,l)}})}_getValue(){const e=this.editor.model.document.selection,n=$n(e.getSelectedBlocks());return!!(n&&Mf(n))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,n=this.editor.model.schema,r=$n(e.getSelectedBlocks());return r?NS(n,r):!1}_removeQuote(e,n){DS(e,n).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd){e.unwrap(r.start.parent);return}if(r.start.isAtStart){const s=e.createPositionBefore(r.start.parent);e.move(r,s);return}r.end.isAtEnd||e.split(r.end);const i=e.createPositionAfter(r.end.parent);e.move(r,i)})}_applyQuote(e,n){const r=[];DS(e,n).reverse().forEach(i=>{let s=Mf(i.start);s||(s=e.createElement("blockQuote"),e.wrap(i,s)),r.push(s)}),r.reverse().reduce((i,s)=>i.nextSibling==s?(e.merge(e.createPositionAfter(i)),i):s)}}function Mf(t){return t.parent.name=="blockQuote"?t.parent:null}function DS(t,e){let n,r=0;const i=[];for(;r<e.length;){const s=e[r],o=e[r+1];n||(n=t.createPositionBefore(s)),(!o||s.nextSibling!=o)&&(i.push(t.createRange(n,t.createPositionAfter(s))),n=null),r++}return i}function NS(t,e){const n=t.checkChild(e.parent,"blockQuote"),r=t.checkChild(["$root","blockQuote"],e);return n&&r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tre extends Fe{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[tp,Xa]}init(){const e=this.editor,n=e.model.schema;e.commands.add("blockQuote",new Ere(e)),n.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const a=e.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const c=l.position.nodeAfter;if(!c)continue;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0;if(c.is("element","blockQuote")&&!n.checkChild(l.position,c))return o.unwrap(c),!0;if(c.is("element")){const u=o.createRangeIn(c);for(const d of u.getItems())if(d.is("element","blockQuote")&&!n.checkChild(o.createPositionBefore(d),d))return o.unwrap(d),!0}}else if(l.type=="remove"){const c=l.position.parent;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0}return!1});const r=this.editor.editing.view.document,i=e.model.document.selection,s=e.commands.get("blockQuote");this.listenTo(r,"enter",(o,a)=>{if(!i.isCollapsed||!s.value)return;i.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(o,a)=>{if(a.direction!="backward"||!i.isCollapsed||!s.value)return;const l=i.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Are extends Fe{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,n=e.t;e.ui.componentFactory.add("blockQuote",r=>{const i=e.commands.get("blockQuote"),s=new dn(r);return s.set({label:n("Block quote"),icon:fn.quote,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xre extends Fe{static get requires(){return[Tre,Are]}static get pluginName(){return"BlockQuote"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pre extends Pt{constructor(e,n){super(e),this.modelElements=n}refresh(){const e=$n(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(n=>FS(e,n,this.editor.model.schema))}execute(e){const n=this.editor.model,r=n.document,i=e.value;n.change(s=>{const o=Array.from(r.selection.getSelectedBlocks()).filter(a=>FS(a,i,n.schema));for(const a of o)a.is("element",i)||s.rename(a,i)})}}function FS(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const LS="paragraph";class Ire extends Fe{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Rd]}init(){const e=this.editor,n=e.config.get("heading.options"),r=[];for(const i of n)i.model!=="paragraph"&&(e.model.schema.register(i.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(i),r.push(i.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new Pre(e,r))}afterInit(){const e=this.editor,n=e.commands.get("enter"),r=e.config.get("heading.options");n&&this.listenTo(n,"afterExecute",(i,s)=>{const o=e.model.document.selection.getFirstPosition().parent;r.some(l=>o.is("element",l.model))&&!o.is("element",LS)&&o.childCount===0&&s.writer.rename(o,LS)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Co.low+1})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ore(t){const e=t.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map(r=>{const i=n[r.title];return i&&i!=r.title&&(r.title=i),r})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rre extends Fe{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,n=e.t,r=Ore(e),i=n("Choose heading"),s=n("Heading");e.ui.componentFactory.add("heading",o=>{const a={},l=new Ui,c=e.commands.get("heading"),u=e.commands.get("paragraph"),d=[c];for(const h of r){const m={type:"button",model:new l4({label:h.title,class:h.class,role:"menuitemradio",withText:!0})};h.model==="paragraph"?(m.model.bind("isOn").to(u,"value"),m.model.set("commandName","paragraph"),d.push(u)):(m.model.bind("isOn").to(c,"value",p=>p===h.model),m.model.set({commandName:"heading",commandValue:h.model})),l.add(m),a[h.model]=h.title}const f=ko(o);return ZO(f,l,{ariaLabel:s,role:"menu"}),f.buttonView.set({ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),f.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),f.bind("isEnabled").toMany(d,"isEnabled",(...h)=>h.some(m=>m)),f.buttonView.bind("label").to(c,"value",u,"value",(h,m)=>{const p=h||m&&"paragraph";return typeof p=="boolean"||!a[p]?i:a[p]}),this.listenTo(f,"execute",h=>{const{commandName:m,commandValue:p}=h.source;e.execute(m,p?{value:p}:void 0),e.editing.view.focus()}),f})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mre extends Fe{static get requires(){return[Ire,Rre]}static get pluginName(){return"Heading"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dre extends Pt{refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled&&r.hasAttribute("alt")?this.value=r.getAttribute("alt"):this.value=!1}execute(e){const n=this.editor,r=n.plugins.get("ImageUtils"),i=n.model,s=r.getClosestSelectedImageElement(i.document.selection);i.change(o=>{o.setAttribute("alt",e.newValue,s)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Nre(t){return t.createContainerElement("span",{class:"image-inline"},t.createEmptyElement("img"))}function $S(t){return t.createContainerElement("figure",{class:"image"},[t.createEmptyElement("img"),t.createSlot("children")])}function V4(t,e){const n=t.plugins.get("ImageUtils"),r=t.plugins.has("ImageInlineEditing")&&t.plugins.has("ImageBlockEditing");return s=>n.isInlineImageView(s)?r&&(s.getStyle("display")=="block"||s.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==e?null:i(s):null;function i(s){const o={name:!0};return s.hasAttribute("src")&&(o.attributes=["src"]),o}}function mw(t,e){const n=$n(e.getSelectedBlocks());return!n||t.isObject(n)||n.isEmpty&&n.name!="listItem"?"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ps extends Fe{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},n=null,r=null){const i=this.editor,s=i.model,o=s.document.selection;r=z4(i,n||o,r),e={...Object.fromEntries(o.getAttributes()),...e};for(const a in e)s.schema.checkAttribute(r,a)||delete e[a];return s.change(a=>{const l=a.createElement(r,e);return s.insertObject(l,n,null,{setSelection:"on",findOptimalPosition:!n&&r!="imageInline"?"auto":void 0}),l.parent?l:null})}getClosestSelectedImageWidget(e){const n=e.getFirstPosition();if(!n)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let i=n.parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(e){const n=e.getSelectedElement();return this.isImage(n)?n:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const n=this.editor.model.document.selection;return Fre(this.editor,n)&&Lre(n)}toImageWidget(e,n,r){return n.setCustomProperty("image",!0,e),M4(e,n,{label:()=>{const o=this.findViewImgElement(e).getAttribute("alt");return o?`${o} ${r}`:r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&hn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const n=this.editor.editing.view;for(const{item:r}of n.createRangeIn(e))if(this.isInlineImageView(r))return r}}function Fre(t,e){if(z4(t,e,null)=="imageBlock"){const r=$re(e,t.model);if(t.model.schema.checkChild(r,"imageBlock"))return!0}else if(t.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function Lre(t){return[...t.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function $re(t,e){const r=Pne(t,e).start.parent;return r.isEmpty&&!r.is("element","$root")?r.parent:r}function z4(t,e,n){const r=t.model.schema,i=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")?t.plugins.has("ImageInlineEditing")?n||(i==="inline"?"imageInline":i==="block"?"imageBlock":e.is("selection")?mw(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bre extends Fe{static get requires(){return[ps]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Dre(this.editor))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vre extends Et{constructor(e){super(e);const n=this.locale.t;this.focusTracker=new Hi,this.keystrokes=new Ys,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(n("Save"),fn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),fn.cancel,"ck-button-cancel","cancel"),this._focusables=new Ka,this._focusCycler=new Od({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),vI({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,n,r,i){const s=new dn(this.locale);return s.set({label:e,icon:n,tooltip:!0}),s.extendTemplate({attributes:{class:r}}),i&&s.delegate("execute").to(this,i),s}_createLabeledInputView(){const e=this.locale.t,n=new QI(this.locale,t4);return n.label=e("Text alternative"),n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zre(t){const e=t.plugins.get("ContextualBalloon");if(t.plugins.get("ImageUtils").getClosestSelectedImageWidget(t.editing.view.document.selection)){const r=U4(t);e.updatePosition(r)}}function U4(t){const e=t.editing.view,n=or.defaultPositions,r=t.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ure extends Fe{static get requires(){return[Wh]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,n=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const i=e.commands.get("imageTextAlternative"),s=new dn(r);return s.set({label:n("Change image text alternative"),icon:fn.lowVision,tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",o=>!!o),this.listenTo(s,"execute",()=>{this._showForm()}),s})}_createForm(){const e=this.editor,r=e.editing.view.document,i=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(gI(Vre))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(s,o)=>{this._hideForm(!0),o()}),this.listenTo(e.ui,"update",()=>{i.getClosestSelectedImageWidget(r.selection)?this._isVisible&&zre(e):this._hideForm(!0)}),By({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,n=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:U4(e)}),r.fieldView.value=r.fieldView.element.value=n.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class H4 extends Fe{static get requires(){return[Bre,Ure]}static get pluginName(){return"ImageTextAlternative"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Hre(t){const e=(n,r,i)=>{if(!i.consumable.test(r.viewItem,{name:!0,classes:"image"}))return;const s=t.findViewImgElement(r.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(r.viewItem,{name:!0,classes:"image"});const o=i.convertItem(s,r.modelCursor),a=$n(o.modelRange.getItems());if(!a){i.consumable.revert(r.viewItem,{name:!0,classes:"image"});return}i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r)};return n=>{n.on("element:figure",e)}}function j4(t,e){const n=(r,i,s)=>{if(!s.consumable.consume(i.item,r.name))return;const o=s.writer,a=s.mapper.toViewElement(i.item),l=t.findViewImgElement(a);if(i.attributeNewValue===null){const c=i.attributeOldValue;c&&c.data&&(o.removeAttribute("srcset",l),o.removeAttribute("sizes",l),c.width&&o.removeAttribute("width",l))}else{const c=i.attributeNewValue;c&&c.data&&(o.setAttribute("srcset",c.data,l),o.setAttribute("sizes","100vw",l),c.width&&o.setAttribute("width",c.width,l))}};return r=>{r.on(`attribute:srcset:${e}`,n)}}function Yh(t,e,n){const r=(i,s,o)=>{if(!o.consumable.consume(s.item,i.name))return;const a=o.writer,l=o.mapper.toViewElement(s.item),c=t.findViewImgElement(l);a.setAttribute(s.attributeKey,s.attributeNewValue||"",c)};return i=>{i.on(`attribute:${n}:${e}`,r)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jre extends gs{observe(e){this.listenTo(e,"load",(n,r)=>{const i=r.target;this.checkShouldIgnoreEventFromTarget(i)||i.tagName=="IMG"&&this._fireEvents(r)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wre extends Pt{constructor(e){super(e);const n=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||n==="block"&&en("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||n==="inline"&&en("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const n=sr(e.source),r=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(r.getAttributes());n.forEach((o,a)=>{const l=r.getSelectedElement();if(typeof o=="string"&&(o={src:o}),a&&l&&i.isImage(l)){const c=this.editor.model.createPositionAfter(l);i.insertImage({...o,...s},c)}else i.insertImage({...o,...s})})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qre extends Pt{refresh(){const n=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(e){const n=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(r=>{r.setAttribute("src",e.source,n),r.removeAttribute("srcset",n),r.removeAttribute("sizes",n)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class W4 extends Fe{static get requires(){return[ps]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,n=e.conversion;e.editing.view.addObserver(jre),n.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:s=>{const o={data:s.getAttribute("srcset")};return s.hasAttribute("width")&&(o.width=s.getAttribute("width")),o}}});const r=new Wre(e),i=new qre(e);e.commands.add("insertImage",r),e.commands.add("replaceImageSource",i),e.commands.add("imageInsert",r)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class q4 extends Pt{constructor(e,n){super(e),this._modelElementName=n}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(r):this.isEnabled=n.isBlockImage(r)}execute(){const e=this.editor,n=this.editor.model,r=e.plugins.get("ImageUtils"),i=r.getClosestSelectedImageElement(n.document.selection),s=Object.fromEntries(i.getAttributes());return!s.src&&!s.uploadId?null:n.change(o=>{const a=Array.from(n.markers).filter(u=>u.getRange().containsItem(i)),l=r.insertImage(s,n.createSelection(i,"on"),this._modelElementName);if(!l)return null;const c=o.createRangeOn(l);for(const u of a){const d=u.getRange(),f=d.root.rootName!="$graveyard"?d.getJoined(c,!0):c;o.updateMarker(u,{range:f})}return{oldElement:i,newElement:l}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class K4 extends Fe{static get requires(){return[W4,ps,Us]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new q4(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,n=e.t,r=e.conversion,i=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>$S(o)}),r.for("editingDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>i.toImageWidget($S(o),o,n("image widget"))}),r.for("downcast").add(Yh(i,"imageBlock","src")).add(Yh(i,"imageBlock","alt")).add(j4(i,"imageBlock")),r.for("upcast").elementToElement({view:V4(e,"imageBlock"),model:(s,{writer:o})=>o.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}).add(Hre(i))}_setupClipboardIntegration(){const e=this.editor,n=e.model,r=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(i.isInlineImageView))return;a.targetRanges?c=e.editing.mapper.toModelRange(a.targetRanges[0]):c=n.document.selection.getFirstRange();const u=n.createSelection(c);if(mw(n.schema,u)==="imageBlock"){const d=new iw(r.document),f=l.map(h=>d.createElement("figure",{class:"image"},h));a.content=d.createDocumentFragment(f)}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kre extends Fe{static get requires(){return[K4,np,H4]}static get pluginName(){return"ImageBlock"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gre extends Fe{static get requires(){return[W4,ps,Us]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,n=e.model.schema;n.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),n.addChildCheck((r,i)=>{if(r.endsWith("caption")&&i.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new q4(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,n=e.t,r=e.conversion,i=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToElement({model:"imageInline",view:(s,{writer:o})=>o.createEmptyElement("img")}),r.for("editingDowncast").elementToStructure({model:"imageInline",view:(s,{writer:o})=>i.toImageWidget(Nre(o),o,n("image widget"))}),r.for("downcast").add(Yh(i,"imageInline","src")).add(Yh(i,"imageInline","alt")).add(j4(i,"imageInline")),r.for("upcast").elementToElement({view:V4(e,"imageInline"),model:(s,{writer:o})=>o.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,n=e.model,r=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(i.isBlockImageView))return;a.targetRanges?c=e.editing.mapper.toModelRange(a.targetRanges[0]):c=n.document.selection.getFirstRange();const u=n.createSelection(c);if(mw(n.schema,u)==="imageInline"){const d=new iw(r.document),f=l.map(h=>h.childCount===1?(Array.from(h.getAttributes()).forEach(m=>d.setAttribute(...m,i.findViewImgElement(h))),h.getChild(0)):h);a.content=d.createDocumentFragment(f)}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yre extends Fe{static get requires(){return[Gre,np,H4]}static get pluginName(){return"ImageInline"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qre extends Fe{static get requires(){return[Kre,Yre]}static get pluginName(){return"Image"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jre extends Pt{refresh(){const e=this.editor,n=e.plugins.get("ImageCaptionUtils"),r=e.plugins.get("ImageUtils");if(!e.plugins.has(K4)){this.isEnabled=!1,this.value=!1;return}const i=e.model.document.selection,s=i.getSelectedElement();if(!s){const o=n.getCaptionFromModelSelection(i);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=r.isImage(s),this.isEnabled?this.value=!!n.getCaptionFromImageModelElement(s):this.value=!1}execute(e={}){const{focusCaptionOnShow:n}=e;this.editor.model.change(r=>{this.value?this._hideImageCaption(r):this._showImageCaption(r,n)})}_showImageCaption(e,n){const i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let a=i.getSelectedElement();const l=s._getSavedCaption(a);o.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=i.getSelectedElement());const c=l||e.createElement("caption");e.append(c,a),n&&e.setSelection(c,"in")}_hideImageCaption(e){const n=this.editor,r=n.model.document.selection,i=n.plugins.get("ImageCaptionEditing"),s=n.plugins.get("ImageCaptionUtils");let o=r.getSelectedElement(),a;o?a=s.getCaptionFromImageModelElement(o):(a=s.getCaptionFromModelSelection(r),o=a.parent),i._saveCaption(o,a),e.setSelection(o,"on"),e.remove(a)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class G4 extends Fe{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[ps]}getCaptionFromImageModelElement(e){for(const n of e.getChildren())if(n&&n.is("element","caption"))return n;return null}getCaptionFromModelSelection(e){const n=this.editor.plugins.get("ImageUtils"),r=e.getFirstPosition().findAncestor("caption");return r&&n.isBlockImage(r.parent)?r:null}matchImageCaptionViewElement(e){const n=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&n.isBlockImageView(e.parent)?{name:!0}:null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xre extends Fe{static get requires(){return[ps,G4]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,n=e.model.schema;n.isRegistered("caption")?n.extend("caption",{allowIn:"imageBlock"}):n.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new Jre(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,n=e.editing.view,r=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),s=e.t;e.conversion.for("upcast").elementToElement({view:o=>i.matchImageCaptionViewElement(o),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>r.isBlockImage(o.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!r.isBlockImage(o.parent))return null;const l=a.createEditableElement("figcaption");a.setCustomProperty("imageCaption",!0,l),l.placeholder=s("Enter image caption"),rO({view:n,element:l,keepOnFocus:!0});const c=o.parent.getAttribute("alt"),u=c?s("Caption for image: %0",[c]):s("Caption for the image");return N4(l,a,{label:u})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,n=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),i=e.commands.get("imageTypeInline"),s=e.commands.get("imageTypeBlock"),o=a=>{if(!a.return)return;const{oldElement:l,newElement:c}=a.return;/* istanbul ignore if: paranoid check -- @preserve */if(!l)return;if(n.isBlockImage(l)){const d=r.getCaptionFromImageModelElement(l);if(d){this._saveCaption(c,d);return}}const u=this._getSavedCaption(l);u&&this._saveCaption(c,u)};i&&this.listenTo(i,"execute",o,{priority:"low"}),s&&this.listenTo(s,"execute",o,{priority:"low"})}_getSavedCaption(e){const n=this._savedCaptionsMap.get(e);return n?rn.fromJSON(n):null}_saveCaption(e,n){this._savedCaptionsMap.set(e,n.toJSON())}_registerCaptionReconversion(){const e=this.editor,n=e.model,r=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils");n.document.on("change:data",()=>{const s=n.document.differ.getChanges();for(const o of s){if(o.attributeKey!=="alt")continue;const a=o.range.start.nodeAfter;if(r.isBlockImage(a)){const l=i.getCaptionFromImageModelElement(a);if(!l)return;e.editing.reconvertItem(l)}}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zre extends Fe{static get requires(){return[G4]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,n=e.editing.view,r=e.plugins.get("ImageCaptionUtils"),i=e.t;e.ui.componentFactory.add("toggleImageCaption",s=>{const o=e.commands.get("toggleImageCaption"),a=new dn(s);return a.set({icon:fn.caption,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.bind("label").to(o,"value",l=>i(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=r.getCaptionFromModelSelection(e.model.document.selection);if(l){const c=e.editing.mapper.toViewElement(l);n.scrollToTheSelection(),n.change(u=>{u.addClass("image__caption_highlighted",c)})}e.editing.view.focus()}),a})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eie extends Fe{static get requires(){return[Xre,Zre]}static get pluginName(){return"ImageCaption"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tie extends Pt{constructor(e,n){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(n.map(r=>{if(r.isDefault)for(const i of r.modelElements)this._defaultStyles[i]=r.name;return[r.name,r]}))}refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled?r.hasAttribute("imageStyle")?this.value=r.getAttribute("imageStyle"):this.value=this._defaultStyles[r.name]:this.value=!1}execute(e={}){const n=this.editor,r=n.model,i=n.plugins.get("ImageUtils");r.change(s=>{const o=e.value;let a=i.getClosestSelectedImageElement(r.document.selection);o&&this.shouldConvertImageType(o,a)&&(this.editor.execute(i.isBlockImage(a)?"imageTypeInline":"imageTypeBlock"),a=i.getClosestSelectedImageElement(r.document.selection)),!o||this._styles.get(o).isDefault?s.removeAttribute("imageStyle",a):s.setAttribute("imageStyle",o,a)})}shouldConvertImageType(e,n){return!this._styles.get(e).modelElements.includes(n.name)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{objectFullWidth:nie,objectInline:Y4,objectLeft:Q4,objectRight:Mb,objectCenter:Db,objectBlockLeft:J4,objectBlockRight:X4}=fn,uh={get inline(){return{name:"inline",title:"In line",icon:Y4,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Q4,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:J4,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Db,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Mb,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:X4,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Db,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Mb,modelElements:["imageBlock"],className:"image-style-side"}}},Z4={full:nie,left:J4,right:X4,center:Db,inlineLeft:Q4,inlineRight:Mb,inline:Y4},e5=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function rie(t){return(t.configuredStyles.options||[]).map(r=>oie(r)).filter(r=>aie(r,t))}function iie(t,e){return t&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:t?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function sie(t){return t.has("ImageBlockEditing")&&t.has("ImageInlineEditing")?[...e5]:[]}function oie(t){return typeof t=="string"?uh[t]?t={...uh[t]}:t={name:t}:t=lie(uh[t.name],t),typeof t.icon=="string"&&(t.icon=Z4[t.icon]||t.icon),t}function aie(t,{isBlockPluginLoaded:e,isInlinePluginLoaded:n}){const{modelElements:r,name:i}=t;if(!r||!r.length||!i)return t5({style:t}),!1;{const s=[e?"imageBlock":null,n?"imageInline":null];if(!r.some(o=>s.includes(o)))return en("image-style-missing-dependency",{style:t,missingPlugins:r.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function lie(t,e){const n={...e};for(const r in t)Object.prototype.hasOwnProperty.call(e,r)||(n[r]=t[r]);return n}function t5(t){en("image-style-configuration-definition-invalid",t)}const Nb={normalizeStyles:rie,getDefaultStylesConfiguration:iie,getDefaultDropdownDefinitions:sie,warnInvalidStyle:t5,DEFAULT_OPTIONS:uh,DEFAULT_ICONS:Z4,DEFAULT_DROPDOWN_DEFINITIONS:e5};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cie(t){return(e,n,r)=>{if(!r.consumable.consume(n.item,e.name))return;const i=BS(n.attributeNewValue,t),s=BS(n.attributeOldValue,t),o=r.mapper.toViewElement(n.item),a=r.writer;s&&a.removeClass(s.className,o),i&&a.addClass(i.className,o)}}function uie(t){const e={imageInline:t.filter(n=>!n.isDefault&&n.modelElements.includes("imageInline")),imageBlock:t.filter(n=>!n.isDefault&&n.modelElements.includes("imageBlock"))};return(n,r,i)=>{if(!r.modelRange)return;const s=r.viewItem,o=$n(r.modelRange.getItems());if(o&&i.schema.checkAttribute(o,"imageStyle"))for(const a of e[o.name])i.consumable.consume(s,{classes:a.className})&&i.writer.setAttribute("imageStyle",a.name,o)}}function BS(t,e){for(const n of e)if(n.name===t)return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class n5 extends Fe{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[ps]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:n}=Nb,r=this.editor,i=r.plugins.has("ImageBlockEditing"),s=r.plugins.has("ImageInlineEditing");r.config.define("image.styles",n(i,s)),this.normalizedStyles=e({configuredStyles:r.config.get("image.styles"),isBlockPluginLoaded:i,isInlinePluginLoaded:s}),this._setupConversion(i,s),this._setupPostFixer(),r.commands.add("imageStyle",new tie(r,this.normalizedStyles))}_setupConversion(e,n){const r=this.editor,i=r.model.schema,s=cie(this.normalizedStyles),o=uie(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",s),r.data.downcastDispatcher.on("attribute:imageStyle",s),e&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:figure",o,{priority:"low"})),n&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:img",o,{priority:"low"}))}_setupPostFixer(){const e=this.editor,n=e.model.document,r=e.plugins.get(ps),i=new Map(this.normalizedStyles.map(s=>[s.name,s]));n.registerPostFixer(s=>{let o=!1;for(const a of n.differ.getChanges())if(a.type=="insert"||a.type=="attribute"&&a.attributeKey=="imageStyle"){let l=a.type=="insert"?a.position.nodeAfter:a.range.start.nodeAfter;if(l&&l.is("element","paragraph")&&l.childCount>0&&(l=l.getChild(0)),!r.isImage(l))continue;const c=l.getAttribute("imageStyle");if(!c)continue;const u=i.get(c);(!u||!u.modelElements.includes(l.name))&&(s.removeAttribute("imageStyle",l),o=!0)}return o})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class die extends Fe{static get requires(){return[n5]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,n=this.editor.config.get("image.toolbar")||[],r=e.get("ImageStyleEditing"),i=VS(r.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of i)this._createButton(o);const s=VS([...n.filter(ln),...Nb.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const o of s)this._createDropdown(o,i)}_createDropdown(e,n){const r=this.editor.ui.componentFactory;r.add(e.name,i=>{let s;const{defaultItem:o,items:a,title:l}=e,c=a.filter(h=>n.find(({name:m})=>zS(m)===h)).map(h=>{const m=r.create(h);return h===o&&(s=m),m});a.length!==c.length&&Nb.warnInvalidStyle({dropdown:e});const u=ko(i,ow),d=u.buttonView,f=d.arrowView;return Zm(u,c,{enableActiveItemFocusOnDropdownOpen:!0}),d.set({label:US(l,s.label),class:null,tooltip:!0}),f.unbind("label"),f.set({label:l}),d.bind("icon").toMany(c,"isOn",(...h)=>{const m=h.findIndex(po);return m<0?s.icon:c[m].icon}),d.bind("label").toMany(c,"isOn",(...h)=>{const m=h.findIndex(po);return US(l,m<0?s.label:c[m].label)}),d.bind("isOn").toMany(c,"isOn",(...h)=>h.some(po)),d.bind("class").toMany(c,"isOn",(...h)=>h.some(po)?"ck-splitbutton_flatten":void 0),d.on("execute",()=>{c.some(({isOn:h})=>h)?u.isOpen=!u.isOpen:s.fire("execute")}),u.bind("isEnabled").toMany(c,"isEnabled",(...h)=>h.some(po)),this.listenTo(u,"execute",()=>{this.editor.editing.view.focus()}),u})}_createButton(e){const n=e.name;this.editor.ui.componentFactory.add(zS(n),r=>{const i=this.editor.commands.get("imageStyle"),s=new dn(r);return s.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",o=>o===n),s.on("execute",this._executeCommand.bind(this,n)),s})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function VS(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}function zS(t){return`imageStyle:${t}`}function US(t,e){return(t?t+": ":"")+e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fie extends Fe{static get requires(){return[n5,die]}static get pluginName(){return"ImageStyle"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hie extends Fe{static get requires(){return[Gh,ps]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,n=e.t,r=e.plugins.get(Gh),i=e.plugins.get("ImageUtils");r.register("image",{ariaLabel:n("Image toolbar"),items:mie(e.config.get("image.toolbar")||[]),getRelatedElement:s=>i.getClosestSelectedImageWidget(s)})}}function mie(t){return t.map(e=>ln(e)?e.name:e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pie extends Kt(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=n=>{this.loaded=n.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const n=this._reader;return this.total=e.size,new Promise((r,i)=>{n.onload=()=>{const s=n.result;this._data=s,r(s)},n.onerror=()=>{i("error")},n.onabort=()=>{i("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ca extends Fe{constructor(){super(...arguments),this.loaders=new Ui,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[jh]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,n)=>n?e/n*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return en("filerepository-no-upload-adapter"),null;const n=new HS(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(e,n),e instanceof Promise&&n.file.then(r=>{this._loadersMap.set(r,n)}).catch(()=>{}),n.on("change:uploaded",()=>{let r=0;for(const i of this.loaders)r+=i.uploaded;this.uploaded=r}),n.on("change:uploadTotal",()=>{let r=0;for(const i of this.loaders)i.uploadTotal&&(r+=i.uploadTotal);this.uploadTotal=r}),n}destroyLoader(e){const n=e instanceof HS?e:this.getLoader(e);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((r,i)=>{r===n&&this._loadersMap.delete(i)})}_updatePendingAction(){const e=this.editor.plugins.get(jh);if(this.loaders.length){if(!this._pendingAction){const n=this.editor.t,r=i=>`${n("Upload in progress")} ${parseInt(i)}%.`;this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class HS extends Kt(){constructor(e,n){super(),this.id=hs(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=n(this),this._reader=new pie,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,i)=>i?r/i*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new j("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new j("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const n={};return n.promise=new Promise((r,i)=>{n.rejecter=i,n.isFulfilled=!1,e.then(s=>{n.isFulfilled=!0,r(s)}).catch(s=>{n.isFulfilled=!0,i(s)})}),n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gie extends Et{constructor(e){super(e),this.buttonView=new dn(e),this._fileInputView=new vie(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class vie extends Et{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:n.to("acceptedType"),multiple:n.to("allowMultipleFiles")},on:{change:n.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bie extends Fe{static get requires(){return[Ca]}static get pluginName(){return"SimpleUploadAdapter"}init(){const e=this.editor.config.get("simpleUpload");if(e){if(!e.uploadUrl){en("simple-upload-adapter-missing-uploadurl");return}this.editor.plugins.get(Ca).createUploadAdapter=n=>new yie(n,e)}}}class yie{constructor(e,n){this.loader=e,this.options=n}upload(){return this.loader.file.then(e=>new Promise((n,r)=>{this._initRequest(),this._initListeners(n,r,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.options.uploadUrl,!0),e.responseType="json"}_initListeners(e,n,r){const i=this.xhr,s=this.loader,o=`Couldn't upload file: ${r.name}.`;i.addEventListener("error",()=>n(o)),i.addEventListener("abort",()=>n()),i.addEventListener("load",()=>{const a=i.response;if(!a||a.error)return n(a&&a.error&&a.error.message?a.error.message:o);const l=a.url?{default:a.url}:a.urls;e({...a,urls:l})});/* istanbul ignore else -- @preserve */i.upload&&i.upload.addEventListener("progress",a=>{a.lengthComputable&&(s.uploadTotal=a.total,s.uploaded=a.loaded)})}_sendRequest(e){const n=this.options.headers||{},r=this.options.withCredentials||!1;for(const s of Object.keys(n))this.xhr.setRequestHeader(s,n[s]);this.xhr.withCredentials=r;const i=new FormData;i.append("upload",e),this.xhr.send(i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function r5(t){const e=t.map(n=>n.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function wie(t){return new Promise((e,n)=>{const r=t.getAttribute("src");fetch(r).then(i=>i.blob()).then(i=>{const s=i5(i,r),a=`image.${s.replace("image/","")}`,l=new File([i],a,{type:s});e(l)}).catch(i=>i&&i.name==="TypeError"?Cie(r).then(e).catch(n):n(i))})}function _ie(t,e){return!t.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function i5(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function Cie(t){return kie(t).then(e=>{const n=i5(e,t),i=`image.${n.replace("image/","")}`;return new File([e],i,{type:n})})}function kie(t){return new Promise((e,n)=>{const r=pt.document.createElement("img");r.addEventListener("load",()=>{const i=pt.document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0),i.toBlob(o=>o?e(o):n())}),r.addEventListener("error",()=>n()),r.src=t})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sie extends Fe{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,n=e.t,r=i=>{const s=new gie(i),o=e.commands.get("uploadImage"),a=e.config.get("image.upload.types"),l=r5(a);return s.set({acceptedType:a.map(c=>`image/${c}`).join(","),allowMultipleFiles:!0}),s.buttonView.set({label:n("Insert image"),icon:fn.image,tooltip:!0}),s.buttonView.bind("isEnabled").to(o),s.on("done",(c,u)=>{const d=Array.from(u).filter(f=>l.test(f.type));d.length&&(e.execute("uploadImage",{file:d}),e.editing.view.focus())}),s};e.ui.componentFactory.add("uploadImage",r),e.ui.componentFactory.add("imageUpload",r)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Eie extends Fe{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(n,r,i)=>{const s=this.editor,o=r.item,a=o.getAttribute("uploadId");if(!i.consumable.consume(r.item,n.name))return;const l=s.plugins.get("ImageUtils"),c=s.plugins.get(Ca),u=a?r.attributeNewValue:null,d=this.placeholder,f=s.editing.mapper.toViewElement(o),h=i.writer;if(u=="reading"){jS(f,h),WS(l,d,f,h);return}if(u=="uploading"){const m=c.loaders.get(a);jS(f,h),m?(qS(f,h),Aie(f,h,m,s.editing.view),Rie(l,f,h,m)):WS(l,d,f,h);return}u=="complete"&&c.loaders.get(a)&&Pie(f,h,s.editing.view),xie(f,h),qS(f,h),Tie(f,h)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function jS(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function Tie(t,e){e.removeClass("ck-appear",t)}function WS(t,e,n,r){n.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",n);const i=t.findViewImgElement(n);i.getAttribute("src")!==e&&r.setAttribute("src",e,i),s5(n,"placeholder")||r.insert(r.createPositionAfter(i),Oie(r))}function qS(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),o5(t,e,"placeholder")}function Aie(t,e,n,r){const i=Iie(e);e.insert(e.createPositionAt(t,"end"),i),n.on("change:uploadedPercent",(s,o,a)=>{r.change(l=>{l.setStyle("width",a+"%",i)})})}function xie(t,e){o5(t,e,"progressBar")}function Pie(t,e,n){const r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),r),setTimeout(()=>{n.change(i=>i.remove(i.createRangeOn(r)))},3e3)}function Iie(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}function Oie(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}function s5(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function o5(t,e,n){const r=s5(t,n);r&&e.remove(e.createRangeOn(r))}function Rie(t,e,n,r){if(r.data){const i=t.findViewImgElement(e);n.setAttribute("src",r.data,i)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mie extends Pt{refresh(){const e=this.editor,n=e.plugins.get("ImageUtils"),r=e.model.document.selection.getSelectedElement();this.isEnabled=n.isImageAllowed()||n.isImage(r)}execute(e){const n=sr(e.file),r=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(r.getAttributes());n.forEach((o,a)=>{const l=r.getSelectedElement();if(a&&l&&i.isImage(l)){const c=this.editor.model.createPositionAfter(l);this._uploadImage(o,s,c)}else this._uploadImage(o,s)})}_uploadImage(e,n,r){const i=this.editor,o=i.plugins.get(Ca).createLoader(e),a=i.plugins.get("ImageUtils");o&&a.insertImage({...n,uploadId:o.id},r)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Die extends Fe{static get requires(){return[Ca,Xk,Us,ps]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,n=e.model.document,r=e.conversion,i=e.plugins.get(Ca),s=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline"),a=r5(e.config.get("image.upload.types")),l=new Mie(e);e.commands.add("uploadImage",l),e.commands.add("imageUpload",l),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(c,u)=>{if(Nie(u.dataTransfer))return;const d=Array.from(u.dataTransfer.files).filter(f=>f?a.test(f.type):!1);d.length&&(c.stop(),e.model.change(f=>{u.targetRanges&&f.setSelection(u.targetRanges.map(h=>e.editing.mapper.toModelRange(h))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:d})})}))}),this.listenTo(o,"inputTransformation",(c,u)=>{const d=Array.from(e.editing.view.createRangeIn(u.content)).map(h=>h.item).filter(h=>_ie(s,h)&&!h.getAttribute("uploadProcessed")).map(h=>({promise:wie(h),imageElement:h}));if(!d.length)return;const f=new iw(e.editing.view.document);for(const h of d){f.setAttribute("uploadProcessed",!0,h.imageElement);const m=i.createLoader(h.promise);m&&(f.setAttribute("src","",h.imageElement),f.setAttribute("uploadId",m.id,h.imageElement))}}),e.editing.view.document.on("dragover",(c,u)=>{u.preventDefault()}),n.on("change",()=>{const c=n.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),u=new Set;for(const d of c)if(d.type=="insert"&&d.name!="$text"){const f=d.position.nodeAfter,h=d.position.root.rootName=="$graveyard";for(const m of Fie(e,f)){const p=m.getAttribute("uploadId");if(!p)continue;const y=i.loaders.get(p);y&&(h?u.has(p)||y.abort():(u.add(p),this._uploadImageElements.set(p,m),y.status=="idle"&&this._readAndUpload(y)))}}}),this.on("uploadComplete",(c,{imageElement:u,data:d})=>{const f=d.urls?d.urls:d;this.editor.model.change(h=>{h.setAttribute("src",f.default,u),this._parseAndSetSrcsetAttributeOnImage(f,u,h)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const n=this.editor,r=n.model,i=n.locale.t,s=n.plugins.get(Ca),o=n.plugins.get(Xk),a=n.plugins.get("ImageUtils"),l=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},u=>{u.setAttribute("uploadStatus","reading",l.get(e.id))}),e.read().then(()=>{const u=e.upload(),d=l.get(e.id);/* istanbul ignore next -- @preserve */if(wt.isSafari){const f=n.editing.mapper.toViewElement(d),h=a.findViewImgElement(f);n.editing.view.once("render",()=>{if(!h.parent)return;const m=n.editing.view.domConverter.mapViewToDom(h.parent);if(!m)return;const p=m.style.display;m.style.display="none",m._ckHack=m.offsetHeight,m.style.display=p})}return r.enqueueChange({isUndoable:!1},f=>{f.setAttribute("uploadStatus","uploading",d)}),u}).then(u=>{r.enqueueChange({isUndoable:!1},d=>{const f=l.get(e.id);d.setAttribute("uploadStatus","complete",f),this.fire("uploadComplete",{data:u,imageElement:f})}),c()}).catch(u=>{if(e.status!=="error"&&e.status!=="aborted")throw u;e.status=="error"&&u&&o.showWarning(u,{title:i("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},d=>{d.remove(l.get(e.id))}),c()});function c(){r.enqueueChange({isUndoable:!1},u=>{const d=l.get(e.id);u.removeAttribute("uploadId",d),u.removeAttribute("uploadStatus",d),l.delete(e.id)}),s.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,n,r){let i=0;const s=Object.keys(e).filter(o=>{const a=parseInt(o,10);if(!isNaN(a))return i=Math.max(i,a),!0}).map(o=>`${e[o]} ${o}w`).join(", ");s!=""&&r.setAttribute("srcset",{data:s,width:i},n)}}function Nie(t){return Array.from(t.types).includes("text/html")&&t.getData("text/html")!==""}function Fie(t,e){const n=t.plugins.get("ImageUtils");return Array.from(t.model.createRangeOn(e)).filter(r=>n.isImage(r.item)).map(r=>r.item)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lie extends Fe{static get pluginName(){return"ImageUpload"}static get requires(){return[Die,Sie,Eie]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $ie{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(n=>this._definitions.add(n)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(n,r,i)=>{if(!i.consumable.test(r.item,"attribute:linkHref")||!(r.item.is("selection")||i.schema.isInline(r.item)))return;const s=i.writer,o=s.document.selection;for(const a of this._definitions){const l=s.createAttributeElement("a",a.attributes,{priority:5});a.classes&&s.addClass(a.classes,l);for(const c in a.styles)s.setStyle(c,a.styles[c],l);s.setCustomProperty("link",!0,l),a.callback(r.attributeNewValue)?r.item.is("selection")?s.wrap(o.getFirstRange(),l):s.wrap(i.mapper.toViewRange(r.range),l):s.unwrap(i.mapper.toViewRange(r.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(n,r,{writer:i,mapper:s})=>{const o=s.toViewElement(r.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));for(const l of this._definitions){const c=Bs(l.attributes);if(l.callback(r.attributeNewValue)){for(const[u,d]of c)u==="class"?i.addClass(d,a):i.setAttribute(u,d,a);l.classes&&i.addClass(l.classes,a);for(const u in l.styles)i.setStyle(u,l.styles[u],a)}else{for(const[u,d]of c)u==="class"?i.removeClass(d,a):i.removeAttribute(u,a);l.classes&&i.removeClass(l.classes,a);for(const u in l.styles)i.removeStyle(u,a)}}})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Bie=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Vie=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,zie=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Uie=/^((\w+:(\/{2,})?)|(\W))/i,Ug="Ctrl+K";function Hie(t){return t.is("attributeElement")&&!!t.getCustomProperty("link")}function KS(t,{writer:e}){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function a5(t){const e=String(t);return jie(e)?e:"#"}function jie(t){return!!t.replace(Bie,"").match(Vie)}function Wie(t,e){const n={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach(r=>("label"in r&&n[r.label]&&(r.label=n[r.label]),r)),e}function qie(t){const e=[];if(t)for(const[n,r]of Object.entries(t)){const i=Object.assign({},r,{id:`link${t6(n)}`});e.push(i)}return e}function Fb(t,e){return t?e.checkAttribute(t.name,"linkHref"):!1}function Kie(t){return zie.test(t)}function pw(t,e){const n=Kie(t)?"mailto:":e,r=!!n&&!l5(t);return t&&r?n+t:t}function l5(t){return Uie.test(t)}function GS(t){window.open(t,"_blank","noopener")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gie extends Pt{constructor(){super(...arguments),this.manualDecorators=new Ui,this.automaticDecorators=new $ie}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,n=e.document.selection,r=n.getSelectedElement()||$n(n.getSelectedBlocks());Fb(r,e.schema)?(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(r,"linkHref")):(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(n,"linkHref"));for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}execute(e,n={}){const r=this.editor.model,i=r.document.selection,s=[],o=[];for(const a in n)n[a]?s.push(a):o.push(a);r.change(a=>{if(i.isCollapsed){const l=i.getFirstPosition();if(i.hasAttribute("linkHref")){const c=YS(i);let u=oc(l,"linkHref",i.getAttribute("linkHref"),r);i.getAttribute("linkHref")===c&&(u=this._updateLinkContent(r,a,u,e)),a.setAttribute("linkHref",e,u),s.forEach(d=>{a.setAttribute(d,!0,u)}),o.forEach(d=>{a.removeAttribute(d,u)}),a.setSelection(a.createPositionAfter(u.end.nodeBefore))}else if(e!==""){const c=Bs(i.getAttributes());c.set("linkHref",e),s.forEach(d=>{c.set(d,!0)});const{end:u}=r.insertContent(a.createText(e,c),l);a.setSelection(u)}["linkHref",...s,...o].forEach(c=>{a.removeSelectionAttribute(c)})}else{const l=r.schema.getValidRanges(i.getRanges(),"linkHref"),c=[];for(const d of i.getSelectedBlocks())r.schema.checkAttribute(d,"linkHref")&&c.push(a.createRangeOn(d));const u=c.slice();for(const d of l)this._isRangeToUpdate(d,c)&&u.push(d);for(const d of u){let f=d;if(u.length===1){const h=YS(i);i.getAttribute("linkHref")===h&&(f=this._updateLinkContent(r,a,d,e),a.setSelection(a.createSelection(f)))}a.setAttribute("linkHref",e,f),s.forEach(h=>{a.setAttribute(h,!0,f)}),o.forEach(h=>{a.removeAttribute(h,f)})}}})}_getDecoratorStateFromModel(e){const n=this.editor.model,r=n.document.selection,i=r.getSelectedElement();return Fb(i,n.schema)?i.getAttribute(e):r.getAttribute(e)}_isRangeToUpdate(e,n){for(const r of n)if(r.containsRange(e))return!1;return!0}_updateLinkContent(e,n,r,i){const s=n.createText(i,{linkHref:i});return e.insertContent(s,r)}}function YS(t){if(t.isCollapsed){const e=t.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(t.getFirstRange().getItems());if(e.length>1)return null;const n=e[0];return n.is("$text")||n.is("$textProxy")?n.data:null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yie extends Pt{refresh(){const e=this.editor.model,n=e.document.selection,r=n.getSelectedElement();Fb(r,e.schema)?this.isEnabled=e.schema.checkAttribute(r,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(n,"linkHref")}execute(){const e=this.editor,n=this.editor.model,r=n.document.selection,i=e.commands.get("link");n.change(s=>{const o=r.isCollapsed?[oc(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),n)]:n.schema.getValidRanges(r.getRanges(),"linkHref");for(const a of o)if(s.removeAttribute("linkHref",a),i)for(const l of i.manualDecorators)s.removeAttribute(l.id,a)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qie extends Kt(){constructor({id:e,label:n,attributes:r,classes:i,styles:s,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=n,this.attributes=r,this.classes=i,this.styles=s}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Jie="ck-link_selected",QS="automatic",Xie="manual",Zie=/^(https?:)?\/\//;class ese extends Fe{static get pluginName(){return"LinkEditing"}static get requires(){return[gS,x4,Us]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:KS}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(i,s)=>KS(a5(i),s)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:i=>i.getAttribute("href")}}),e.commands.add("link",new Gie(e)),e.commands.add("unlink",new Yie(e));const n=Wie(e.t,qie(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(i=>i.mode===QS)),this._enableManualDecorators(n.filter(i=>i.mode===Xie)),e.plugins.get(gS).registerAttribute("linkHref"),mne(e,"linkHref","a",Jie),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const n=this.editor,i=n.commands.get("link").automaticDecorators;n.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:QS,callback:s=>!!s&&Zie.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(e),i.length&&n.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const n=this.editor,i=n.commands.get("link").manualDecorators;e.forEach(s=>{n.model.schema.extend("$text",{allowAttributes:s.id});const o=new Qie(s);i.add(o),n.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:c},{item:u})=>{if((u.is("selection")||c.isInline(u))&&a){const d=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,d);for(const f in o.styles)l.setStyle(f,o.styles[f],d);return l.setCustomProperty("link",!0,d),d}}}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"click",(i,s)=>{if(!(wt.isMac?s.domEvent.metaKey:s.domEvent.ctrlKey))return;let a=s.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const l=a.getAttribute("href");l&&(i.stop(),s.preventDefault(),GS(l))},{context:"$capture"}),this.listenTo(r,"keydown",(i,s)=>{const a=e.commands.get("link").value;a&&s.keyCode===It.enter&&s.altKey&&(i.stop(),GS(a))})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,r=n.document.selection;this.listenTo(n,"insertContent",()=>{const i=r.anchor.nodeBefore,s=r.anchor.nodeAfter;r.hasAttribute("linkHref")&&i&&i.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||n.change(o=>{Hg(o,jg(n.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,n=e.model;e.editing.view.addObserver(rw);let r=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{r=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!r)return;r=!1;const i=n.document.selection;if(!i.isCollapsed||!i.hasAttribute("linkHref"))return;const s=i.getFirstPosition(),o=oc(s,"linkHref",i.getAttribute("linkHref"),n);(s.isTouching(o.start)||s.isTouching(o.end))&&n.change(a=>{Hg(a,jg(n.schema))})})}_enableTypingOverLink(){const e=this.editor,n=e.editing.view;let r=null,i=!1;this.listenTo(n.document,"delete",()=>{i=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const s=e.model.document.selection;if(!s.isCollapsed){if(i){i=!1;return}JS(e)&&tse(e.model)&&(r=s.getAttributes())}},{priority:"high"}),this.listenTo(e.model,"insertContent",(s,[o])=>{i=!1,JS(e)&&r&&(e.model.change(a=>{for(const[l,c]of r)a.setAttribute(l,c,o)}),r=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,n=e.model,r=n.document.selection,i=e.editing.view;let s=!1,o=!1;this.listenTo(i.document,"delete",(a,l)=>{o=l.direction==="backward"},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{s=!1;const a=r.getFirstPosition(),l=r.getAttribute("linkHref");if(!l)return;const c=oc(a,"linkHref",l,n);s=c.containsPosition(a)||c.end.isEqual(a)},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{o&&(o=!1,!s&&e.model.enqueueChange(a=>{Hg(a,jg(n.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,n=e.model,r=this.editor.config.get("link.defaultProtocol");r&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(i,s)=>{n.change(o=>{const a=o.createRangeIn(s.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const c=pw(l.getAttribute("linkHref"),r);o.setAttribute("linkHref",c,l)}})})}}function Hg(t,e){t.removeSelectionAttribute("linkHref");for(const n of e)t.removeSelectionAttribute(n)}function tse(t){const e=t.document.selection,n=e.getFirstPosition(),r=e.getLastPosition(),i=n.nodeAfter;if(!i||!i.is("$text")||!i.hasAttribute("linkHref"))return!1;const s=r.textNode||r.nodeBefore;return i===s?!0:oc(n,"linkHref",i.getAttribute("linkHref"),t).containsRange(t.createRange(n,r),!0)}function JS(t){return t.model.change(n=>n.batch).isTyping}function jg(t){return t.getDefinition("$text").allowAttributes.filter(n=>n.startsWith("link"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nse extends Et{constructor(e,n){super(e),this.focusTracker=new Hi,this.keystrokes=new Ys,this._focusables=new Ka;const r=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),fn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),fn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(n),this.children=this._createFormChildren(n.manualDecorators),this._focusCycler=new Od({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form","ck-responsive-form"];n.manualDecorators.length&&i.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,n)=>(e[n.name]=n.isOn,e),{})}render(){super.render(),vI({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,n=new QI(this.locale,t4);return n.label=e("Link URL"),n}_createButton(e,n,r,i){const s=new dn(this.locale);return s.set({label:e,icon:n,tooltip:!0}),s.extendTemplate({attributes:{class:r}}),i&&s.delegate("execute").to(this,i),s}_createManualDecoratorSwitches(e){const n=this.createCollection();for(const r of e.manualDecorators){const i=new Qm(this.locale);i.set({name:r.id,label:r.label,withText:!0}),i.bind("isOn").toMany([r,e],"value",(s,o)=>o===void 0&&s===void 0?!!r.defaultValue:!!s),i.on("execute",()=>{r.set("value",!i.isOn)}),n.add(i)}return n}_createFormChildren(e){const n=this.createCollection();if(n.add(this.urlInputView),e.length){const r=new Et;r.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(i=>({tag:"li",children:[i],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),n.add(r)}return n.add(this.saveButtonView),n.add(this.cancelButtonView),n}}const rse='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ise extends Et{constructor(e){super(e),this.focusTracker=new Hi,this.keystrokes=new Ys,this._focusables=new Ka;const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),rse,"unlink"),this.editButtonView=this._createButton(n("Edit link"),fn.pencil,"edit"),this.set("href",void 0),this._focusCycler=new Od({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,n,r){const i=new dn(this.locale);return i.set({label:e,icon:n,tooltip:!0}),i.delegate("execute").to(this,r),i}_createPreviewButton(){const e=new dn(this.locale),n=this.bindTemplate,r=this.t;return e.set({withText:!0,tooltip:r("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:n.to("href",i=>i&&a5(i)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",i=>i||r("This link has no URL")),e.bind("isEnabled").to(this,"href",i=>!!i),e.template.tag="a",e.template.eventListeners={},e}}const sse='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Gi="link-ui";class ose extends Fe{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Wh]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(sZ),this._balloon=e.plugins.get(Wh),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Gi,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Gi,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,n=new ise(e.locale),r=e.commands.get("link"),i=e.commands.get("unlink");return n.bind("href").to(r,"value"),n.editButtonView.bind("isEnabled").to(r),n.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(n,"edit",()=>{this._addFormView()}),this.listenTo(n,"unlink",()=>{e.execute("unlink"),this._hideUI()}),n.keystrokes.set("Esc",(s,o)=>{this._hideUI(),o()}),n.keystrokes.set(Ug,(s,o)=>{this._addFormView(),o()}),n}_createFormView(){const e=this.editor,n=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),i=new(gI(nse))(e.locale,n);return i.urlInputView.fieldView.bind("value").to(n,"value"),i.urlInputView.bind("isEnabled").to(n,"isEnabled"),i.saveButtonView.bind("isEnabled").to(n),this.listenTo(i,"submit",()=>{const{value:s}=i.urlInputView.fieldView.element,o=pw(s,r);e.execute("link",o,i.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(i,"cancel",()=>{this._closeFormView()}),i.keystrokes.set("Esc",(s,o)=>{this._closeFormView(),o()}),i}_createToolbarLinkButton(){const e=this.editor,n=e.commands.get("link"),r=e.t;e.ui.componentFactory.add("link",i=>{const s=new dn(i);return s.isEnabled=!0,s.label=r("Link"),s.icon=sse,s.keystroke=Ug,s.tooltip=!0,s.isToggleable=!0,s.bind("isEnabled").to(n,"isEnabled"),s.bind("isOn").to(n,"value",o=>!!o),this.listenTo(s,"execute",()=>this._showUI(!0)),s})}_enableBalloonActivators(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Ug,(r,i)=>{i(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,n)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),n())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,n)=>{this._isUIVisible&&(this._hideUI(),n())}),By({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=n.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,n=e.editing.view.document;let r=this._getSelectedLinkElement(),i=o();const s=()=>{const a=this._getSelectedLinkElement(),l=o();r&&!a||!r&&l!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),r=a,i=l};function o(){return n.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,n=this.editor.model,r=e.document;let i;if(n.markers.has(Gi)){const s=Array.from(this.editor.editing.mapper.markerNameToElements(Gi)),o=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));i=e.domConverter.viewRangeToDom(o)}else i=()=>{const s=this._getSelectedLinkElement();return s?e.domConverter.mapViewToDom(s):e.domConverter.viewRangeToDom(r.selection.getFirstRange())};return{target:i}}_getSelectedLinkElement(){const e=this.editor.editing.view,n=e.document.selection,r=n.getSelectedElement();if(n.isCollapsed||r&&hn(r))return Wg(n.getFirstPosition());{const i=n.getFirstRange().getTrimmed(),s=Wg(i.start),o=Wg(i.end);return!s||s!=o?null:e.createRangeIn(s).getTrimmed().isEqual(i)?s:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(n=>{const r=e.document.selection.getFirstRange();if(e.markers.has(Gi))n.updateMarker(Gi,{range:r});else if(r.start.isAtEnd){const i=r.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:r});n.addMarker(Gi,{usingOperation:!1,affectsData:!1,range:n.createRange(i,r.end)})}else n.addMarker(Gi,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Gi)&&e.change(n=>{n.removeMarker(Gi)})}}function Wg(t){return t.getAncestors().find(e=>Hie(e))||null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ase=4,lse=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),cse=2;class use extends Fe{static get requires(){return[Xa]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,n=new fne(e.model,r=>{if(!dse(r))return;const i=XS(r.substr(0,r.length-1));if(i)return{url:i}});n.on("matched:data",(r,i)=>{const{batch:s,range:o,url:a}=i;if(!s.isTyping)return;const l=o.end.getShiftedBy(-1),c=l.getShiftedBy(-a.length),u=e.model.createRange(c,l);this._applyAutoLink(a,u)}),n.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,n=e.model,r=e.commands.get("enter");r&&r.on("execute",()=>{const i=n.document.selection.getFirstPosition();if(!i.parent.previousSibling)return;const s=n.createRangeIn(i.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(s)})}_enableShiftEnterHandling(){const e=this.editor,n=e.model,r=e.commands.get("shiftEnter");r&&r.on("execute",()=>{const i=n.document.selection.getFirstPosition(),s=n.createRange(n.createPositionAt(i.parent,0),i.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(s)})}_checkAndApplyAutoLinkOnRange(e){const n=this.editor.model,{text:r,range:i}=I4(e,n),s=XS(r);if(s){const o=n.createRange(i.end.getShiftedBy(-s.length),i.end);this._applyAutoLink(s,o)}}_applyAutoLink(e,n){const r=this.editor.model,i=this.editor.config.get("link.defaultProtocol"),s=pw(e,i);!this.isEnabled||!fse(n,r)||!l5(s)||hse(n)||this._persistAutoLink(s,n)}_persistAutoLink(e,n){const r=this.editor.model,i=this.editor.plugins.get("Delete");r.enqueueChange(s=>{s.setAttribute("linkHref",e,n),r.enqueueChange(()=>{i.requestUndoOnBackspace()})})}}function dse(t){return t.length>ase&&t[t.length-1]===" "&&t[t.length-2]!==" "}function XS(t){const e=lse.exec(t);return e?e[cse]:null}function fse(t,e){return e.schema.checkAttributeInSelection(e.createSelection(t),"linkHref")}function hse(t){const e=t.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mse extends Fe{static get requires(){return[ese,ose,use]}static get pluginName(){return"Link"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ZS extends Pt{constructor(e,n){super(e),this.type=n}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const n=this.editor.model,r=n.document,i=Array.from(r.selection.getSelectedBlocks()).filter(o=>t2(o,n.schema)),s=e.forceValue!==void 0?!e.forceValue:this.value;n.change(o=>{if(s){let a=i[i.length-1].nextSibling,l=Number.POSITIVE_INFINITY,c=[];for(;a&&a.name=="listItem"&&a.getAttribute("listIndent")!==0;){const u=a.getAttribute("listIndent");u<l&&(l=u);const d=u-l;c.push({element:a,listIndent:d}),a=a.nextSibling}c=c.reverse();for(const u of c)o.setAttribute("listIndent",u.listIndent,u.element)}if(!s){let a=Number.POSITIVE_INFINITY;for(const l of i)l.is("element","listItem")&&l.getAttribute("listIndent")<a&&(a=l.getAttribute("listIndent"));a=a===0?1:a,e2(i,!0,a),e2(i,!1,a)}for(const a of i.reverse())s&&a.name=="listItem"?o.rename(a,"paragraph"):!s&&a.name!="listItem"?(o.setAttributes({listType:this.type,listIndent:0},a),o.rename(a,"listItem")):!s&&a.name=="listItem"&&a.getAttribute("listType")!=this.type&&o.setAttribute("listType",this.type,a);this.fire("_executeCleanup",i)})}_getValue(){const e=$n(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,n=this.editor.model.schema,r=$n(e.getSelectedBlocks());return r?t2(r,n):!1}}function e2(t,e,n){const r=e?t[0]:t[t.length-1];if(r.is("element","listItem")){let i=r[e?"previousSibling":"nextSibling"],s=r.getAttribute("listIndent");for(;i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=n;)s>i.getAttribute("listIndent")&&(s=i.getAttribute("listIndent")),i.getAttribute("listIndent")==s&&t[e?"unshift":"push"](i),i=i[e?"previousSibling":"nextSibling"]}}function t2(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class n2 extends Pt{constructor(e,n){super(e),this._indentBy=n=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,n=e.document;let r=Array.from(n.selection.getSelectedBlocks());e.change(i=>{const s=r[r.length-1];let o=s.nextSibling;for(;o&&o.name=="listItem"&&o.getAttribute("listIndent")>s.getAttribute("listIndent");)r.push(o),o=o.nextSibling;this._indentBy<0&&(r=r.reverse());for(const a of r){const l=a.getAttribute("listIndent")+this._indentBy;l<0?i.rename(a,"paragraph"):i.setAttribute("listIndent",l,a)}this.fire("_executeCleanup",r)})}_checkEnabled(){const e=$n(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const n=e.getAttribute("listIndent"),r=e.getAttribute("listType");let i=e.previousSibling;for(;i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=n;){if(i.getAttribute("listIndent")==n)return i.getAttribute("listType")==r;i=i.previousSibling}return!1}return!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pse(t){const e=t.createContainerElement("li");return e.getFillerOffset=Cse,e}function gse(t,e){const n=e.mapper,r=e.writer,i=t.getAttribute("listType")=="numbered"?"ol":"ul",s=pse(r),o=r.createContainerElement(i,null);return r.insert(r.createPositionAt(o,0),s),n.bindElements(t,s),s}function c5(t,e,n,r){const i=e.parent,s=n.mapper,o=n.writer;let a=s.toViewPosition(r.createPositionBefore(t));const l=d5(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),c=t.previousSibling;if(l&&l.getAttribute("listIndent")==t.getAttribute("listIndent")){const u=s.toViewElement(l);a=o.breakContainer(o.createPositionAfter(u))}else if(c&&c.name=="listItem"){a=s.toViewPosition(r.createPositionAt(c,"end"));const u=s.findMappedViewAncestor(a),d=vse(u);d?a=o.createPositionBefore(d):a=o.createPositionAt(u,"end")}else a=s.toViewPosition(r.createPositionBefore(t));if(a=u5(a),o.insert(a,i),c&&c.name=="listItem"){const u=s.toViewElement(c),f=o.createRange(o.createPositionAt(u,0),a).getWalker({ignoreElementEnd:!0});for(const h of f)if(h.item.is("element","li")){const m=o.breakContainer(o.createPositionBefore(h.item)),p=h.item.parent,y=o.createPositionAt(e,"end");pi(o,y.nodeBefore,y.nodeAfter),o.move(o.createRangeOn(p),y),f._position=m}}else{const u=i.nextSibling;if(u&&(u.is("element","ul")||u.is("element","ol"))){let d=null;for(const f of u.getChildren()){const h=s.toModelElement(f);if(h&&h.getAttribute("listIndent")>t.getAttribute("listIndent"))d=f;else break}d&&(o.breakContainer(o.createPositionAfter(d)),o.move(o.createRangeOn(d.parent),o.createPositionAt(e,"end")))}}pi(o,i,i.nextSibling),pi(o,i.previousSibling,i)}function pi(t,e,n){return!e||!n||e.name!="ul"&&e.name!="ol"||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function u5(t){return t.getLastMatchingPosition(e=>e.item.is("uiElement"))}function d5(t,e){const n=!!e.sameIndent,r=!!e.smallerIndent,i=e.listIndent;let s=t;for(;s&&s.name=="listItem";){const o=s.getAttribute("listIndent");if(n&&i==o||r&&i>o)return s;e.direction==="forward"?s=s.nextSibling:s=s.previousSibling}return null}function r2(t,e,n,r){t.ui.componentFactory.add(e,i=>{const s=t.commands.get(e),o=new dn(i);return o.set({label:n,icon:r,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.on("execute",()=>{t.execute(e),t.editing.view.focus()}),o})}function vse(t){for(const e of t.getChildren())if(e.name=="ul"||e.name=="ol")return e;return null}function Lb(t,e){const n=[],r=t.parent,i={ignoreElementEnd:!1,startPosition:t,shallow:!0,direction:e},s=r.getAttribute("listIndent"),o=[...new is(i)].filter(a=>a.item.is("element")).map(a=>a.item);for(const a of o){if(!a.is("element","listItem")||a.getAttribute("listIndent")<s)break;if(!(a.getAttribute("listIndent")>s)){if(a.getAttribute("listType")!==r.getAttribute("listType")||a.getAttribute("listStyle")!==r.getAttribute("listStyle")||a.getAttribute("listReversed")!==r.getAttribute("listReversed")||a.getAttribute("listStart")!==r.getAttribute("listStart"))break;e==="backward"?n.unshift(a):n.push(a)}}return n}function bse(t){let n=[...t.document.selection.getSelectedBlocks()].filter(r=>r.is("element","listItem")).map(r=>{const i=t.change(s=>s.createPositionAt(r,0));return[...Lb(i,"backward"),...Lb(i,"forward")]}).flat();return n=[...new Set(n)],n}const yse=["disc","circle","square"],wse=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function _se(t){return yse.includes(t)?"bulleted":wse.includes(t)?"numbered":null}function Cse(){const t=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||t?0:sO.call(this)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kse extends Fe{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return _se(e)}getSelectedListItems(e){return bse(e)}getSiblingNodes(e,n){return Lb(e,n)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function i2(t){return(e,n,r)=>{const i=r.consumable;if(!i.test(n.item,"insert")||!i.test(n.item,"attribute:listType")||!i.test(n.item,"attribute:listIndent"))return;i.consume(n.item,"insert"),i.consume(n.item,"attribute:listType"),i.consume(n.item,"attribute:listIndent");const s=n.item,o=gse(s,r);c5(s,o,r,t)}}function Sse(t){return(e,n,r)=>{const o=r.mapper.toViewPosition(n.position).getLastMatchingPosition(h=>!h.item.is("element","li")).nodeAfter,a=r.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o));const l=o.parent,c=l.previousSibling,u=a.createRangeOn(l),d=a.remove(u);c&&c.nextSibling&&pi(a,c,c.nextSibling);const f=r.mapper.toModelElement(o);f5(f.getAttribute("listIndent")+1,n.position,u.start,o,r,t);for(const h of a.createRangeIn(d).getItems())r.mapper.unbindViewElement(h);e.stop()}}const Ese=(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const r=n.mapper.toViewElement(e.item),i=n.writer;i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r));const s=r.parent,o=e.attributeNewValue=="numbered"?"ol":"ul";i.rename(o,s)},Tse=(t,e,n)=>{n.consumable.consume(e.item,t.name);const i=n.mapper.toViewElement(e.item).parent,s=n.writer;pi(s,i,i.nextSibling),pi(s,i.previousSibling,i)};function Ase(t){return(e,n,r)=>{if(!r.consumable.consume(n.item,"attribute:listIndent"))return;const i=r.mapper.toViewElement(n.item),s=r.writer;s.breakContainer(s.createPositionBefore(i)),s.breakContainer(s.createPositionAfter(i));const o=i.parent,a=o.previousSibling,l=s.createRangeOn(o);s.remove(l),a&&a.nextSibling&&pi(s,a,a.nextSibling),f5(n.attributeOldValue+1,n.range.start,l.start,i,r,t),c5(n.item,i,r,t);for(const c of n.item.getChildren())r.consumable.consume(c,"insert")}}const s2=(t,e,n)=>{if(n.consumable.test(e.item,t.name)&&e.item.name!="listItem"){let r=n.mapper.toViewPosition(e.range.start);const i=n.writer,s=[];for(;(r.parent.name=="ul"||r.parent.name=="ol")&&(r=i.breakContainer(r),r.parent.name=="li");){const o=r,a=i.createPositionAt(r.parent,"end");if(!o.isEqual(a)){const l=i.remove(i.createRange(o,a));s.push(l)}r=i.createPositionAfter(r.parent)}if(s.length>0){for(let o=0;o<s.length;o++){const a=r.nodeBefore;if(r=i.insert(r,s[o]).end,o>0){const c=pi(i,a,a.nextSibling);c&&c.parent==a&&r.offset--}}pi(i,r.nodeBefore,r.nodeAfter)}}},xse=(t,e,n)=>{const r=n.mapper.toViewPosition(e.position),i=r.nodeBefore,s=r.nodeAfter;pi(n.writer,i,s)},Pse=(t,e,n)=>{if(n.consumable.consume(e.viewItem,{name:!0})){const r=n.writer,i=r.createElement("listItem"),s=Fse(e.viewItem);r.setAttribute("listIndent",s,i);const o=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(r.setAttribute("listType",o,i),!n.safeInsert(i,e.modelCursor))return;const a=Dse(i,e.viewItem.getChildren(),n);e.modelRange=r.createRange(e.modelCursor,a),n.updateConversionResult(i,e)}},o2=(t,e,n)=>{if(n.consumable.test(e.viewItem,{name:!0})){const r=Array.from(e.viewItem.getChildren());for(const i of r)!(i.is("element","li")||ac(i))&&i._remove()}},Ise=(t,e,n)=>{if(n.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const r=[...e.viewItem.getChildren()];let i=!1;for(const s of r)i&&!ac(s)&&s._remove(),ac(s)&&(i=!0)}};function a2(t){return(e,n)=>{if(n.isPhantom)return;const r=n.modelPosition.nodeBefore;if(r&&r.is("element","listItem")){const i=n.mapper.toViewElement(r),s=i.getAncestors().find(ac),o=t.createPositionAt(i,0).getWalker();for(const a of o)if(a.type=="elementStart"&&a.item.is("element","li")){n.viewPosition=a.previousPosition;break}else if(a.type=="elementEnd"&&a.item==s){n.viewPosition=a.nextPosition;break}}}}function Ose(t){return(e,n)=>{const r=n.viewPosition,i=r.parent,s=n.mapper;if(i.name=="ul"||i.name=="ol"){if(r.isAtEnd){const o=s.toModelElement(r.nodeBefore),a=s.getModelLength(r.nodeBefore);n.modelPosition=t.createPositionBefore(o).getShiftedBy(a)}else{const o=s.toModelElement(r.nodeAfter);n.modelPosition=t.createPositionBefore(o)}e.stop()}else if(i.name=="li"&&r.nodeBefore&&(r.nodeBefore.name=="ul"||r.nodeBefore.name=="ol")){const o=s.toModelElement(i);let a=1,l=r.nodeBefore;for(;l&&ac(l);)a+=s.getModelLength(l),l=l.previousSibling;n.modelPosition=t.createPositionBefore(o).getShiftedBy(a),e.stop()}}}function Rse(t,e){const n=t.document.differ.getChanges(),r=new Map;let i=!1;for(const l of n)if(l.type=="insert"&&l.name=="listItem")s(l.position);else if(l.type=="insert"&&l.name!="listItem"){if(l.name!="$text"){const u=l.position.nodeAfter;u.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",u),i=!0),u.hasAttribute("listType")&&(e.removeAttribute("listType",u),i=!0),u.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",u),i=!0),u.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",u),i=!0),u.hasAttribute("listStart")&&(e.removeAttribute("listStart",u),i=!0);for(const d of Array.from(t.createRangeIn(u)).filter(f=>f.item.is("element","listItem")))s(d.previousPosition)}const c=l.position.getShiftedBy(l.length);s(c)}else l.type=="remove"&&l.name=="listItem"?s(l.position):(l.type=="attribute"&&l.attributeKey=="listIndent"||l.type=="attribute"&&l.attributeKey=="listType")&&s(l.range.start);for(const l of r.values())o(l),a(l);return i;function s(l){const c=l.nodeBefore;if(!c||!c.is("element","listItem")){const u=l.nodeAfter;u&&u.is("element","listItem")&&r.set(u,u)}else{let u=c;if(r.has(u))return;for(let d=u.previousSibling;d&&d.is("element","listItem");d=u.previousSibling)if(u=d,r.has(u))return;r.set(c,u)}}function o(l){let c=0,u=null;for(;l&&l.is("element","listItem");){const d=l.getAttribute("listIndent");if(d>c){let f;u===null?(u=d-c,f=c):(u>d&&(u=d),f=d-u),e.setAttribute("listIndent",f,l),i=!0}else u=null,c=l.getAttribute("listIndent")+1;l=l.nextSibling}}function a(l){let c=[],u=null;for(;l&&l.is("element","listItem");){const d=l.getAttribute("listIndent");if(u&&u.getAttribute("listIndent")>d&&(c=c.slice(0,d+1)),d!=0)if(c[d]){const f=c[d];l.getAttribute("listType")!=f&&(e.setAttribute("listType",f,l),i=!0)}else c[d]=l.getAttribute("listType");u=l,l=l.nextSibling}}}const Mse=function(t,[e,n]){const r=this;let i=e.is("documentFragment")?e.getChild(0):e,s;if(n?s=r.createSelection(n):s=r.document.selection,i&&i.is("element","listItem")){const o=s.getFirstPosition();let a=null;if(o.parent.is("element","listItem")?a=o.parent:o.nodeBefore&&o.nodeBefore.is("element","listItem")&&(a=o.nodeBefore),a){const l=a.getAttribute("listIndent");if(l>0)for(;i&&i.is("element","listItem");)i._setAttribute("listIndent",i.getAttribute("listIndent")+l),i=i.nextSibling}}};function Dse(t,e,n){const{writer:r,schema:i}=n;let s=r.createPositionAfter(t);for(const o of e)if(o.name=="ul"||o.name=="ol")s=n.convertItem(o,s).modelCursor;else{const a=n.convertItem(o,r.createPositionAt(t,"end")),l=a.modelRange.start.nodeAfter;l&&l.is("element")&&!i.checkChild(t,l.name)&&(a.modelCursor.parent.is("element","listItem")?t=a.modelCursor.parent:t=Nse(a.modelCursor),s=r.createPositionAfter(t))}return s}function Nse(t){const e=new is({startPosition:t});let n;do n=e.next();while(!n.value.item.is("element","listItem"));return n.value.item}function f5(t,e,n,r,i,s){const o=d5(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t}),a=i.mapper,l=i.writer,c=o?o.getAttribute("listIndent"):null;let u;if(!o)u=n;else if(c==t){const d=a.toViewElement(o).parent;u=l.createPositionAfter(d)}else{const d=s.createPositionAt(o,"end");u=a.toViewPosition(d)}u=u5(u);for(const d of[...r.getChildren()])ac(d)&&(u=l.move(l.createRangeOn(d),u).end,pi(l,d,d.nextSibling),pi(l,d.previousSibling,d))}function ac(t){return t.is("element","ol")||t.is("element","ul")}function Fse(t){let e=0,n=t.parent;for(;n;){if(n.is("element","li"))e++;else{const r=n.previousSibling;r&&r.is("element","li")&&e++}n=n.parent}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lse extends Fe{static get pluginName(){return"ListEditing"}static get requires(){return[tp,Xa,kse]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const n=e.data,r=e.editing;e.model.document.registerPostFixer(s=>Rse(e.model,s)),r.mapper.registerViewToModelLength("li",$b),n.mapper.registerViewToModelLength("li",$b),r.mapper.on("modelToViewPosition",a2(r.view)),r.mapper.on("viewToModelPosition",Ose(e.model)),n.mapper.on("modelToViewPosition",a2(r.view)),e.conversion.for("editingDowncast").add(s=>{s.on("insert",s2,{priority:"high"}),s.on("insert:listItem",i2(e.model)),s.on("attribute:listType:listItem",Ese,{priority:"high"}),s.on("attribute:listType:listItem",Tse,{priority:"low"}),s.on("attribute:listIndent:listItem",Ase(e.model)),s.on("remove:listItem",Sse(e.model)),s.on("remove",xse,{priority:"low"})}),e.conversion.for("dataDowncast").add(s=>{s.on("insert",s2,{priority:"high"}),s.on("insert:listItem",i2(e.model))}),e.conversion.for("upcast").add(s=>{s.on("element:ul",o2,{priority:"high"}),s.on("element:ol",o2,{priority:"high"}),s.on("element:li",Ise,{priority:"high"}),s.on("element:li",Pse)}),e.model.on("insertContent",Mse,{priority:"high"}),e.commands.add("numberedList",new ZS(e,"numbered")),e.commands.add("bulletedList",new ZS(e,"bulleted")),e.commands.add("indentList",new n2(e,"forward")),e.commands.add("outdentList",new n2(e,"backward"));const i=r.view.document;this.listenTo(i,"enter",(s,o)=>{const a=this.editor.model.document,l=a.selection.getLastPosition().parent;a.selection.isCollapsed&&l.name=="listItem"&&l.isEmpty&&(this.editor.execute("outdentList"),o.preventDefault(),s.stop())},{context:"li"}),this.listenTo(i,"delete",(s,o)=>{if(o.direction!=="backward")return;const a=this.editor.model.document.selection;if(!a.isCollapsed)return;const l=a.getFirstPosition();if(!l.isAtStart)return;const c=l.parent;c.name!=="listItem"||c.previousSibling&&c.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),o.preventDefault(),s.stop())},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(s,o)=>{const a=o.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),o.stopPropagation(),o.preventDefault(),s.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,n=e.get("indent"),r=e.get("outdent");n&&n.registerChildCommand(e.get("indentList")),r&&r.registerChildCommand(e.get("outdentList"))}}function $b(t){let e=1;for(const n of t.getChildren())if(n.name=="ul"||n.name=="ol")for(const r of n.getChildren())e+=$b(r);return e}const $se='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Bse='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vse extends Fe{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;r2(this.editor,"numberedList",e("Numbered List"),$se),r2(this.editor,"bulletedList",e("Bulleted List"),Bse)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zse extends Fe{static get requires(){return[Lse,Vse]}static get pluginName(){return"List"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gw=["left","right","center","justify"];function h5(t){return gw.includes(t)}function m5(t,e){return e.contentLanguageDirection=="rtl"?t==="right":t==="left"}function p5(t){const e=t.map(r=>{let i;return typeof r=="string"?i={name:r}:i=r,i}).filter(r=>{const i=gw.includes(r.name);return i||en("alignment-config-name-not-recognized",{option:r}),i}),n=e.filter(r=>!!r.className).length;if(n&&n<e.length)throw new j("alignment-config-classnames-are-missing",{configuredOptions:t});return e.forEach((r,i,s)=>{const o=s.slice(i+1);if(o.some(l=>l.name==r.name))throw new j("alignment-config-name-already-defined",{option:r,configuredOptions:t});if(r.className&&o.some(c=>c.className==r.className))throw new j("alignment-config-classname-already-defined",{option:r,configuredOptions:t})}),e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const vw="alignment";class Use extends Pt{refresh(){const n=this.editor.locale,r=$n(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!r&&this._canBeAligned(r),this.isEnabled&&r.hasAttribute("alignment")?this.value=r.getAttribute("alignment"):this.value=n.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const n=this.editor,r=n.locale,i=n.model,s=i.document,o=e.value;i.change(a=>{const l=Array.from(s.selection.getSelectedBlocks()).filter(d=>this._canBeAligned(d)),c=l[0].getAttribute("alignment");m5(o,r)||c===o||!o?Hse(l,a):jse(l,a,o)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,vw)}}function Hse(t,e){for(const n of t)e.removeAttribute(vw,n)}function jse(t,e,n){for(const r of t)e.setAttribute(vw,n,r)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wse extends Fe{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:gw.map(n=>({name:n}))})}init(){const e=this.editor,n=e.locale,r=e.model.schema,s=p5(e.config.get("alignment.options")).filter(c=>h5(c.name)&&!m5(c.name,n)),o=s.some(c=>!!c.className);r.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?e.conversion.attributeToAttribute(Yse(s)):e.conversion.for("downcast").attributeToAttribute(qse(s));const a=Kse(s);for(const c of a)e.conversion.for("upcast").attributeToAttribute(c);const l=Gse(s);for(const c of l)e.conversion.for("upcast").attributeToAttribute(c);e.commands.add("alignment",new Use(e))}}function qse(t){const e={};for(const{name:r}of t)e[r]={key:"style",value:{"text-align":r}};return{model:{key:"alignment",values:t.map(r=>r.name)},view:e}}function Kse(t){const e=[];for(const{name:n}of t)e.push({view:{key:"style",value:{"text-align":n}},model:{key:"alignment",value:n}});return e}function Gse(t){const e=[];for(const{name:n}of t)e.push({view:{key:"align",value:n},model:{key:"alignment",value:n}});return e}function Yse(t){const e={};for(const r of t)e[r.name]={key:"class",value:r.className};return{model:{key:"alignment",values:t.map(r=>r.name)},view:e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Df=new Map([["left",fn.alignLeft],["right",fn.alignRight],["center",fn.alignCenter],["justify",fn.alignJustify]]);class Qse extends Fe{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,n=e.ui.componentFactory,r=e.t,i=p5(e.config.get("alignment.options"));i.map(s=>s.name).filter(h5).forEach(s=>this._addButton(s)),n.add("alignment",s=>{const o=ko(s);Zm(o,()=>i.map(c=>n.create(`alignment:${c.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:r("Text alignment toolbar")}),o.buttonView.set({label:r("Text alignment"),tooltip:!0}),o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const a=s.contentLanguageDirection==="rtl"?Df.get("right"):Df.get("left"),l=e.commands.get("alignment");return o.buttonView.bind("icon").to(l,"value",c=>Df.get(c)||a),o.bind("isEnabled").to(l,"isEnabled"),this.listenTo(o,"execute",()=>{e.editing.view.focus()}),o})}_addButton(e){const n=this.editor;n.ui.componentFactory.add(`alignment:${e}`,r=>{const i=n.commands.get("alignment"),s=new dn(r);return s.set({label:this.localizedOptionTitles[e],icon:Df.get(e),tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(i),s.bind("isOn").to(i,"value",o=>o===e),this.listenTo(s,"execute",()=>{n.execute("alignment",{value:e}),n.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jse extends Fe{static get requires(){return[Wse,Qse]}static get pluginName(){return"Alignment"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xse(t){const e=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"input",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"textarea",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],n=e.map(s=>s.name).join("|"),r=t.replace(new RegExp(`</?(${n})( .*?)?>`,"g"),`
$&
`).replace(/<br[^>]*>/g,`$&
`).split(`
`);let i=0;return r.filter(s=>s.length).map(s=>Zse(s,e)?qg(s,i++):eoe(s,e)?qg(s,--i):qg(s,i)).join(`
`)}function Zse(t,e){return e.some(n=>!(n.isVoid||!new RegExp(`<${n.name}( .*?)?>`).test(t)))}function eoe(t,e){return e.some(n=>new RegExp(`</${n.name}>`).test(t))}function qg(t,e,n="    "){return`${n.repeat(Math.max(0,e))}${t}`}const toe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const l2="SourceEditingMode";class noe extends Fe{static get pluginName(){return"SourceEditing"}static get requires(){return[jh]}constructor(e){super(e),this.set("isSourceEditingMode",!1),this._elementReplacer=new AI,this._replacedRoots=new Map,this._dataFromRoots=new Map}init(){const e=this.editor,n=e.t;e.ui.componentFactory.add("sourceEditing",r=>{const i=new dn(r);return i.set({label:n("Source"),icon:toe,tooltip:!0,withText:!0,class:"ck-source-editing-button"}),i.bind("isOn").to(this,"isSourceEditingMode"),i.bind("isEnabled").to(this,"isEnabled",e,"isReadOnly",e.plugins.get(jh),"hasAny",(s,o,a)=>!(!s||o||a)),this.listenTo(i,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),i}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(r,i,s)=>{s?(this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(r,i,s)=>this._handleReadOnlyMode(!s)),this.listenTo(e,"change:isReadOnly",(r,i,s)=>this._handleReadOnlyMode(s))),e.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}afterInit(){const e=this.editor;["RealTimeCollaborativeEditing","CommentsEditing","TrackChangesEditing","RevisionHistory"].some(r=>e.plugins.has(r))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}updateEditorData(){const e=this.editor,n={};for(const[r,i]of this._replacedRoots){const s=this._dataFromRoots.get(r),o=i.dataset.value;s!==o&&(n[r]=o,this._dataFromRoots.set(r,o))}Object.keys(n).length&&e.data.set(n,{batchType:{isUndoable:!0}})}_showSourceEditing(){const e=this.editor,n=e.editing.view,r=e.model;r.change(i=>{i.setSelection(null),i.removeSelectionAttribute(r.document.selection.getAttributeKeys())});for(const[i,s]of n.domRoots){const o=roe(e.data.get({rootName:i})),a=db(s.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),l=db(s.ownerDocument,"div",{class:"ck-source-editing-area","data-value":o},[a]);a.value=o,a.setSelectionRange(0,0),a.addEventListener("input",()=>{l.dataset.value=a.value,e.ui.update()}),n.change(c=>{const u=n.document.getRoot(i);c.addClass("ck-hidden",u)}),e.ui.setEditableElement("sourceEditing:"+i,a),this._replacedRoots.set(i,l),this._elementReplacer.replace(s,l),this._dataFromRoots.set(i,o)}this._focusSourceEditing()}_hideSourceEditing(){const n=this.editor.editing.view;this.updateEditorData(),n.change(r=>{for(const[i]of this._replacedRoots)r.removeClass("ck-hidden",n.document.getRoot(i))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),n.focus()}_focusSourceEditing(){const e=this.editor,[n]=this._replacedRoots.values(),r=n.querySelector("textarea");e.editing.view.document.isFocused=!1,r.focus()}_disableCommands(){const e=this.editor;for(const n of e.commands.commands())n.forceDisabled(l2)}_enableCommands(){const e=this.editor;for(const n of e.commands.commands())n.clearForceDisabled(l2)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(const[,n]of this._replacedRoots)n.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){const n=this.editor.ui.view.editable;return n&&!n.hasExternalElement}}function roe(t){return ioe(t)?Xse(t):t}function ioe(t){return t.startsWith("<")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pn(t,e,n,r,i=1){e!=null&&i!==void 0&&i!==null&&e>i?r.setAttribute(t,e,n):r.removeAttribute(t,n)}function Za(t,e,n={}){const r=t.createElement("tableCell",n);return t.insertElement("paragraph",r),t.insert(r,e),r}function Bb(t,e){const n=e.parent.parent,r=parseInt(n.getAttribute("headingColumns")||"0"),{column:i}=t.getCellLocation(e);return!!r&&i<r}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function soe(){return t=>{t.on("element:figure",(e,n,r)=>{if(!r.consumable.test(n.viewItem,{name:!0,classes:"table"}))return;const i=loe(n.viewItem);if(!i||!r.consumable.test(i,{name:!0}))return;r.consumable.consume(n.viewItem,{name:!0,classes:"table"});const s=r.convertItem(i,n.modelCursor),o=$n(s.modelRange.getItems());if(!o){r.consumable.revert(n.viewItem,{name:!0,classes:"table"});return}r.convertChildren(n.viewItem,r.writer.createPositionAt(o,"end")),r.updateConversionResult(o,n)})}}function ooe(){return t=>{t.on("element:table",(e,n,r)=>{const i=n.viewItem;if(!r.consumable.test(i,{name:!0}))return;const{rows:s,headingRows:o,headingColumns:a}=coe(i),l={};a&&(l.headingColumns=a),o&&(l.headingRows=o);const c=r.writer.createElement("table",l);if(r.safeInsert(c,n.modelCursor)){if(r.consumable.consume(i,{name:!0}),s.forEach(u=>r.convertItem(u,r.writer.createPositionAt(c,"end"))),r.convertChildren(i,r.writer.createPositionAt(c,"end")),c.isEmpty){const u=r.writer.createElement("tableRow");r.writer.insert(u,r.writer.createPositionAt(c,"end")),Za(r.writer,r.writer.createPositionAt(u,"end"))}r.updateConversionResult(c,n)}})}}function aoe(){return t=>{t.on("element:tr",(e,n)=>{n.viewItem.isEmpty&&n.modelCursor.index==0&&e.stop()},{priority:"high"})}}function c2(t){return e=>{e.on(`element:${t}`,(n,r,{writer:i})=>{if(!r.modelRange)return;const s=r.modelRange.start.nodeAfter,o=i.createPositionAt(s,0);if(r.viewItem.isEmpty){i.insertElement("paragraph",o);return}const a=Array.from(s.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=i.createElement("paragraph");i.insert(l,i.createPositionAt(s,0));for(const c of a)i.move(i.createRangeOn(c),i.createPositionAt(l,"end"))}},{priority:"low"})}}function loe(t){for(const e of t.getChildren())if(e.is("element","table"))return e}function coe(t){let e=0,n;const r=[],i=[];let s;for(const o of Array.from(t.getChildren())){if(o.name!=="tbody"&&o.name!=="thead"&&o.name!=="tfoot")continue;o.name==="thead"&&!s&&(s=o);const a=Array.from(o.getChildren()).filter(l=>l.is("element","tr"));for(const l of a)if(s&&o===s||o.name==="tbody"&&Array.from(l.getChildren()).length&&Array.from(l.getChildren()).every(c=>c.is("element","th")))e++,r.push(l);else{i.push(l);const c=uoe(l);(!n||c<n)&&(n=c)}}return{headingRows:e,headingColumns:n||0,rows:[...r,...i]}}function uoe(t){let e=0,n=0;const r=Array.from(t.getChildren()).filter(i=>i.name==="th"||i.name==="td");for(;n<r.length&&r[n].name==="th";){const i=r[n],s=parseInt(i.getAttribute("colspan")||"1");e=e+s,n++}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bt{constructor(e,n={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=n.row!==void 0?n.row:n.startRow||0,this._endRow=n.row!==void 0?n.row:n.endRow,this._startColumn=n.column!==void 0?n.column:n.startColumn||0,this._endColumn=n.column!==void 0?n.column:n.endColumn,this._includeAllSlots=!!n.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let n=null;const r=this._getSpanned();if(r)this._includeAllSlots&&!this._shouldSkipSlot()&&(n=this._formatOutValue(r.cell,r.row,r.column));else{const i=e.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();const s=parseInt(i.getAttribute("colspan")||"1"),o=parseInt(i.getAttribute("rowspan")||"1");(s>1||o>1)&&this._recordSpans(i,o,s),this._shouldSkipSlot()||(n=this._formatOutValue(i)),this._nextCellAtColumn=this._column+s}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,n||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,n=this._row,r=this._column){return{done:!1,value:new doe(this,e,n,r)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),n=this._row<this._startRow,r=this._column<this._startColumn,i=this._endColumn!==void 0&&this._column>this._endColumn;return e||n||r||i}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,n,r){const i={cell:e,row:this._row,column:this._column};for(let s=this._row;s<this._row+n;s++)for(let o=this._column;o<this._column+r;o++)(s!=this._row||o!=this._column)&&this._markSpannedCell(s,o,i)}_markSpannedCell(e,n,r){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(n,r)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let n=this._startRow;!this._jumpedToStartRow;n--)e===this._getRowLength(n)&&(this._row=n,this._rowIndex=n,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((r,i)=>r+parseInt(i.getAttribute("colspan")||"1"),0)}}class doe{constructor(e,n,r,i){this.cell=n,this.row=e._row,this.column=e._column,this.cellAnchorRow=r,this.cellAnchorColumn=i,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function u2(t,e){return(n,{writer:r})=>{const i=n.getAttribute("headingRows")||0,s=r.createContainerElement("table",null,[]),o=r.createContainerElement("figure",{class:"table"},s);i>0&&r.insert(r.createPositionAt(s,"end"),r.createContainerElement("thead",null,r.createSlot(a=>a.is("element","tableRow")&&a.index<i))),i<t.getRows(n)&&r.insert(r.createPositionAt(s,"end"),r.createContainerElement("tbody",null,r.createSlot(a=>a.is("element","tableRow")&&a.index>=i)));for(const{positionOffset:a,filter:l}of e.additionalSlots)r.insert(r.createPositionAt(s,a),r.createSlot(l));return r.insert(r.createPositionAt(s,"after"),r.createSlot(a=>a.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:l})=>l(a)))),e.asWidget?hoe(o,r):o}}function foe(){return(t,{writer:e})=>t.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function d2(t={}){return(e,{writer:n})=>{const r=e.parent,i=r.parent,s=i.getChildIndex(r),o=new Bt(i,{row:s}),a=i.getAttribute("headingRows")||0,l=i.getAttribute("headingColumns")||0;let c=null;for(const u of o)if(u.cell==e){const f=u.row<a||u.column<l?"th":"td";c=t.asWidget?N4(n.createEditableElement(f),n):n.createContainerElement(f);break}return c}}function f2(t={}){return(e,{writer:n})=>{if(!e.parent.is("element","tableCell")||!g5(e))return null;if(t.asWidget)return n.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const r=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}}function g5(t){return t.parent.childCount==1&&!moe(t)}function hoe(t,e){return e.setCustomProperty("table",!0,t),M4(t,e,{hasSelectionHandle:!0})}function moe(t){return!t.getAttributeKeys().next().done}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class poe extends Pt{refresh(){const e=this.editor.model,n=e.document.selection,r=e.schema;this.isEnabled=goe(n,r)}execute(e={}){const n=this.editor,r=n.model,i=n.plugins.get("TableUtils"),s=n.config.get("table.defaultHeadings.rows"),o=n.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&s&&(e.headingRows=s),e.headingColumns===void 0&&o&&(e.headingColumns=o),r.change(a=>{const l=i.createTable(a,e);r.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function goe(t,e){const n=t.getFirstPosition().parent,r=n===n.root?n:n.parent;return e.checkChild(r,"table")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class h2 extends Pt{constructor(e,n={}){super(e),this.order=n.order||"below"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,n=e.model.document.selection,r=e.plugins.get("TableUtils"),i=this.order==="above",s=r.getSelectionAffectedTableCells(n),o=r.getRowIndexes(s),a=i?o.first:o.last,l=s[0].findAncestor("table");r.insertRows(l,{at:i?a:a+1,copyStructureFromAbove:!i})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class m2 extends Pt{constructor(e,n={}){super(e),this.order=n.order||"right"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,n=e.model.document.selection,r=e.plugins.get("TableUtils"),i=this.order==="left",s=r.getSelectionAffectedTableCells(n),o=r.getColumnIndexes(s),a=i?o.first:o.last,l=s[0].findAncestor("table");r.insertColumns(l,{columns:1,at:i?a:a+1})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class p2 extends Pt{constructor(e,n={}){super(e),this.direction=n.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(n,2):e.splitCellVertically(n,2)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function v5(t,e,n){const{startRow:r,startColumn:i,endRow:s,endColumn:o}=e,a=n.createElement("table"),l=s-r+1;for(let u=0;u<l;u++)n.insertElement("tableRow",a,"end");const c=[...new Bt(t,{startRow:r,endRow:s,startColumn:i,endColumn:o,includeAllSlots:!0})];for(const{row:u,column:d,cell:f,isAnchor:h,cellAnchorRow:m,cellAnchorColumn:p}of c){const y=u-r,v=a.getChild(y);if(!h)(m<r||p<i)&&Za(n,n.createPositionAt(v,"end"));else{const b=n.cloneElement(f);n.append(b,v),C5(b,u,d,s,o,n)}}return voe(a,t,r,i,n),a}function b5(t,e,n=0){const r=[],i=new Bt(t,{startRow:n,endRow:e-1});for(const s of i){const{row:o,cellHeight:a}=s,l=o+a-1;o<e&&e<=l&&r.push(s)}return r}function y5(t,e,n){const r=t.parent,i=r.parent,s=r.index,o=parseInt(t.getAttribute("rowspan")),a=e-s,l={},c=o-a;c>1&&(l.rowspan=c);const u=parseInt(t.getAttribute("colspan")||"1");u>1&&(l.colspan=u);const d=s,f=d+a,h=[...new Bt(i,{startRow:d,endRow:f,includeAllSlots:!0})];let m=null,p;for(const y of h){const{row:v,column:b,cell:T}=y;T===t&&p===void 0&&(p=b),p!==void 0&&p===b&&v===f&&(m=Za(n,y.getPositionBefore(),l))}return pn("rowspan",a,t,n),m}function w5(t,e){const n=[],r=new Bt(t);for(const i of r){const{column:s,cellWidth:o}=i,a=s+o-1;s<e&&e<=a&&n.push(i)}return n}function _5(t,e,n,r){const i=parseInt(t.getAttribute("colspan")),s=n-e,o={},a=i-s;a>1&&(o.colspan=a);const l=parseInt(t.getAttribute("rowspan")||"1");l>1&&(o.rowspan=l);const c=Za(r,r.createPositionAfter(t),o);return pn("colspan",s,t,r),c}function C5(t,e,n,r,i,s){const o=parseInt(t.getAttribute("colspan")||"1"),a=parseInt(t.getAttribute("rowspan")||"1");if(n+o-1>i){const u=i-n+1;pn("colspan",u,t,s,1)}if(e+a-1>r){const u=r-e+1;pn("rowspan",u,t,s,1)}}function voe(t,e,n,r,i){const s=parseInt(e.getAttribute("headingRows")||"0");if(s>0){const a=s-n;pn("headingRows",a,t,i,0)}const o=parseInt(e.getAttribute("headingColumns")||"0");if(o>0){const a=o-r;pn("headingColumns",a,t,i,0)}}function Vb(t,e){const n=e.getColumns(t),r=new Array(n).fill(0);for(const{column:s}of new Bt(t))r[s]++;const i=r.reduce((s,o,a)=>o?s:[...s,a],[]);if(i.length>0){const s=i[i.length-1];return e.removeColumns(t,{at:s}),!0}return!1}function zb(t,e){const n=[],r=e.getRows(t);for(let i=0;i<r;i++)t.getChild(i).isEmpty&&n.push(i);if(n.length>0){const i=n[n.length-1];return e.removeRows(t,{at:i}),!0}return!1}function bw(t,e){Vb(t,e)||zb(t,e)}function k5(t,e){const n=Array.from(new Bt(t,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(n.every(({cellHeight:s})=>s===1))return e.lastRow;const i=n[0].cellHeight-1;return e.lastRow+i}function S5(t,e){const n=Array.from(new Bt(t,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(n.every(({cellWidth:s})=>s===1))return e.lastColumn;const i=n[0].cellWidth-1;return e.lastColumn+i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nf extends Pt{constructor(e,n){super(e),this.direction=n.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,n=e.document,i=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(n.selection)[0],s=this.value,o=this.direction;e.change(a=>{const l=o=="right"||o=="down",c=l?i:s,u=l?s:i,d=u.parent;woe(u,c,a);const f=this.isHorizontal?"colspan":"rowspan",h=parseInt(i.getAttribute(f)||"1"),m=parseInt(s.getAttribute(f)||"1");a.setAttribute(f,h+m,c),a.setSelection(a.createRangeIn(c));const p=this.editor.plugins.get("TableUtils"),y=d.findAncestor("table");bw(y,p)})}_getMergeableCell(){const n=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),i=r.getTableCellsContainingSelection(n.selection)[0];if(!i)return;const s=this.isHorizontal?boe(i,this.direction,r):yoe(i,this.direction,r);if(!s)return;const o=this.isHorizontal?"rowspan":"colspan",a=parseInt(i.getAttribute(o)||"1");if(parseInt(s.getAttribute(o)||"1")===a)return s}}function boe(t,e,n){const i=t.parent.parent,s=e=="right"?t.nextSibling:t.previousSibling,o=(i.getAttribute("headingColumns")||0)>0;if(!s)return;const a=e=="right"?t:s,l=e=="right"?s:t,{column:c}=n.getCellLocation(a),{column:u}=n.getCellLocation(l),d=parseInt(a.getAttribute("colspan")||"1"),f=Bb(n,a),h=Bb(n,l);return o&&f!=h?void 0:c+d===u?s:void 0}function yoe(t,e,n){const r=t.parent,i=r.parent,s=i.getChildIndex(r);if(e=="down"&&s===n.getRows(i)-1||e=="up"&&s===0)return null;const o=parseInt(t.getAttribute("rowspan")||"1"),a=i.getAttribute("headingRows")||0,l=e=="down"&&s+o===a,c=e=="up"&&s===a;if(a&&(l||c))return null;const u=parseInt(t.getAttribute("rowspan")||"1"),d=e=="down"?s+u:s,f=[...new Bt(i,{endRow:d})],m=f.find(y=>y.cell===t).column,p=f.find(({row:y,cellHeight:v,column:b})=>b!==m?!1:e=="down"?y===d:d===y+v);return p&&p.cell?p.cell:null}function woe(t,e,n){g2(t)||(g2(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function g2(t){const e=t.getChild(0);return t.childCount==1&&e.is("element","paragraph")&&e.isEmpty}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _oe extends Pt{refresh(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=n[0];if(r){const i=r.findAncestor("table"),o=e.getRows(i)-1,a=e.getRowIndexes(n),l=a.first===0&&a.last===o;this.isEnabled=!l}else this.isEnabled=!1}execute(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(e.document.selection),i=n.getRowIndexes(r),s=r[0],o=s.findAncestor("table"),a=n.getCellLocation(s).column;e.change(l=>{const c=i.last-i.first+1;n.removeRows(o,{at:i.first,rows:c});const u=Coe(o,i.first,a,n.getRows(o));l.setSelection(l.createPositionAt(u,0))})}}function Coe(t,e,n,r){const i=t.getChild(Math.min(e,r-1));let s=i.getChild(0),o=0;for(const a of i.getChildren()){if(o>n)return s;s=a,o+=parseInt(a.getAttribute("colspan")||"1")}return s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class koe extends Pt{refresh(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=n[0];if(r){const i=r.findAncestor("table"),s=e.getColumns(i),{first:o,last:a}=e.getColumnIndexes(n);this.isEnabled=a-o<s-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[n,r]=Eoe(this.editor.model.document.selection,e),i=n.parent.parent,s=[...new Bt(i)],o={first:s.find(l=>l.cell===n).column,last:s.find(l=>l.cell===r).column},a=Soe(s,n,r,o);this.editor.model.change(l=>{const c=o.last-o.first+1;e.removeColumns(i,{at:o.first,columns:c}),l.setSelection(l.createPositionAt(a,0))})}}function Soe(t,e,n,r){return parseInt(n.getAttribute("colspan")||"1")>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:r.first?t.reverse().find(({column:s})=>s<r.first).cell:t.reverse().find(({column:s})=>s>r.last).cell}function Eoe(t,e){const n=e.getSelectionAffectedTableCells(t),r=n[0],i=n.pop(),s=[r,i];return r.isBefore(i)?s:s.reverse()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Toe extends Pt{refresh(){const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=e.getSelectionAffectedTableCells(n.document.selection),i=r.length>0;this.isEnabled=i,this.value=i&&r.every(s=>this._isInHeading(s,s.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const n=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=n.getSelectionAffectedTableCells(r.document.selection),s=i[0].findAncestor("table"),{first:o,last:a}=n.getRowIndexes(i),l=this.value?o:a+1,c=s.getAttribute("headingRows")||0;r.change(u=>{if(l){const d=l>c?c:0,f=b5(s,l,d);for(const{cell:h}of f)y5(h,l,u)}pn("headingRows",l,s,u,0)})}_isInHeading(e,n){const r=parseInt(n.getAttribute("headingRows")||"0");return!!r&&e.parent.index<r}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Aoe extends Pt{refresh(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(e.document.selection),i=r.length>0;this.isEnabled=i,this.value=i&&r.every(s=>Bb(n,s))}execute(e={}){if(e.forceValue===this.value)return;const n=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=n.getSelectionAffectedTableCells(r.document.selection),s=i[0].findAncestor("table"),{first:o,last:a}=n.getColumnIndexes(i),l=this.value?o:a+1;r.change(c=>{if(l){const u=w5(s,l);for(const{cell:d,column:f}of u)_5(d,f,l,c)}pn("headingColumns",l,s,c,0)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function xoe(t){if(t.is("element","tableColumnGroup"))return t;const e=t.getChildren();return Array.from(e).find(n=>n.is("element","tableColumnGroup"))}function Poe(t){const e=xoe(t);return e?Array.from(e.getChildren()):[]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pr extends Fe{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const n=e.parent,r=n.parent,i=r.getChildIndex(n),s=new Bt(r,{row:i});for(const{cell:o,row:a,column:l}of s)if(o===e)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(e,n){const r=e.createElement("table"),i=n.rows||2,s=n.columns||2;return Kg(e,r,0,i,s),n.headingRows&&pn("headingRows",Math.min(n.headingRows,i),r,e,0),n.headingColumns&&pn("headingColumns",Math.min(n.headingColumns,s),r,e,0),r}insertRows(e,n={}){const r=this.editor.model,i=n.at||0,s=n.rows||1,o=n.copyStructureFromAbove!==void 0,a=n.copyStructureFromAbove?i-1:i,l=this.getRows(e),c=this.getColumns(e);if(i>l)throw new j("tableutils-insertrows-insert-out-of-range",this,{options:n});r.change(u=>{const d=e.getAttribute("headingRows")||0;if(d>i&&pn("headingRows",d+s,e,u,0),!o&&(i===0||i===l)){Kg(u,e,i,s,c);return}const f=o?Math.max(i,a):i,h=new Bt(e,{endRow:f}),m=new Array(c).fill(1);for(const{row:p,column:y,cellHeight:v,cellWidth:b,cell:T}of h){const _=p+v-1,E=p<i&&i<=_,C=p<=a&&a<=_;E?(u.setAttribute("rowspan",v+s,T),m[y]=-b):o&&C&&(m[y]=b)}for(let p=0;p<s;p++){const y=u.createElement("tableRow");u.insert(y,e,i);for(let v=0;v<m.length;v++){const b=m[v],T=u.createPositionAt(y,"end");b>0&&Za(u,T,b>1?{colspan:b}:void 0),v+=Math.abs(b)-1}}})}insertColumns(e,n={}){const r=this.editor.model,i=n.at||0,s=n.columns||1;r.change(o=>{const a=e.getAttribute("headingColumns");i<a&&o.setAttribute("headingColumns",a+s,e);const l=this.getColumns(e);if(i===0||l===i){for(const u of e.getChildren())u.is("element","tableRow")&&El(s,o,o.createPositionAt(u,i?"end":0));return}const c=new Bt(e,{column:i,includeAllSlots:!0});for(const u of c){const{row:d,cell:f,cellAnchorColumn:h,cellAnchorRow:m,cellWidth:p,cellHeight:y}=u;if(h<i){o.setAttribute("colspan",p+s,f);const v=m+y-1;for(let b=d;b<=v;b++)c.skipRow(b)}else El(s,o,u.getPositionBefore())}})}removeRows(e,n){const r=this.editor.model,i=n.rows||1,s=this.getRows(e),o=n.at,a=o+i-1;if(a>s-1)throw new j("tableutils-removerows-row-index-out-of-range",this,{table:e,options:n});r.change(l=>{const c={first:o,last:a},{cellsToMove:u,cellsToTrim:d}=Roe(e,c);if(u.size){const f=a+1;Moe(e,f,u,l)}for(let f=a;f>=o;f--)l.remove(e.getChild(f));for(const{rowspan:f,cell:h}of d)pn("rowspan",f,h,l);Ooe(e,c,l),Vb(e,this)||zb(e,this)})}removeColumns(e,n){const r=this.editor.model,i=n.at,s=n.columns||1,o=n.at+s-1;r.change(a=>{Ioe(e,{first:i,last:o},a);const l=Poe(e);for(let c=o;c>=i;c--){for(const{cell:u,column:d,cellWidth:f}of[...new Bt(e)])d<=c&&f>1&&d+f>c?pn("colspan",f-1,u,a):d===c&&a.remove(u);if(l[c]){const u=c===0?l[1]:l[c-1],d=parseFloat(l[c].getAttribute("columnWidth")),f=parseFloat(u.getAttribute("columnWidth"));a.remove(l[c]),a.setAttribute("columnWidth",d+f+"%",u)}}zb(e,this)||Vb(e,this)})}splitCellVertically(e,n=2){const r=this.editor.model,s=e.parent.parent,o=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");r.change(l=>{if(a>1){const{newCellsSpan:c,updatedSpan:u}=v2(a,n);pn("colspan",u,e,l);const d={};c>1&&(d.colspan=c),o>1&&(d.rowspan=o);const f=a>n?n-1:a-1;El(f,l,l.createPositionAfter(e),d)}if(a<n){const c=n-a,u=[...new Bt(s)],{column:d}=u.find(({cell:p})=>p===e),f=u.filter(({cell:p,cellWidth:y,column:v})=>{const b=p!==e&&v===d,T=v<d&&v+y>d;return b||T});for(const{cell:p,cellWidth:y}of f)l.setAttribute("colspan",y+c,p);const h={};o>1&&(h.rowspan=o),El(c,l,l.createPositionAfter(e),h);const m=s.getAttribute("headingColumns")||0;m>d&&pn("headingColumns",m+c,s,l)}})}splitCellHorizontally(e,n=2){const r=this.editor.model,i=e.parent,s=i.parent,o=s.getChildIndex(i),a=parseInt(e.getAttribute("rowspan")||"1"),l=parseInt(e.getAttribute("colspan")||"1");r.change(c=>{if(a>1){const u=[...new Bt(s,{startRow:o,endRow:o+a-1,includeAllSlots:!0})],{newCellsSpan:d,updatedSpan:f}=v2(a,n);pn("rowspan",f,e,c);const{column:h}=u.find(({cell:p})=>p===e),m={};d>1&&(m.rowspan=d),l>1&&(m.colspan=l);for(const p of u){const{column:y,row:v}=p,b=v>=o+f,T=y===h,_=(v+o+f)%d===0;b&&T&&_&&El(1,c,p.getPositionBefore(),m)}}if(a<n){const u=n-a,d=[...new Bt(s,{startRow:0,endRow:o})];for(const{cell:m,cellHeight:p,row:y}of d)if(m!==e&&y+p>o){const v=p+u;c.setAttribute("rowspan",v,m)}const f={};l>1&&(f.colspan=l),Kg(c,s,o+1,u,1,f);const h=s.getAttribute("headingRows")||0;h>o&&pn("headingRows",h+u,s,c)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((r,i)=>{const s=parseInt(i.getAttribute("colspan")||"1");return r+s},0)}getRows(e){return Array.from(e.getChildren()).reduce((n,r)=>r.is("element","tableRow")?n+1:n,0)}createTableWalker(e,n={}){return new Bt(e,n)}getSelectedTableCells(e){const n=[];for(const r of this.sortRanges(e.getRanges())){const i=r.getContainedElement();i&&i.is("element","tableCell")&&n.push(i)}return n}getTableCellsContainingSelection(e){const n=[];for(const r of e.getRanges()){const i=r.start.findAncestor("tableCell");i&&n.push(i)}return n}getSelectionAffectedTableCells(e){const n=this.getSelectedTableCells(e);return n.length?n:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const n=e.map(r=>r.parent.index);return this._getFirstLastIndexesObject(n)}getColumnIndexes(e){const n=e[0].findAncestor("table"),i=[...new Bt(n)].filter(s=>e.includes(s.cell)).map(s=>s.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const n=new Set,r=new Set;let i=0;for(const o of e){const{row:a,column:l}=this.getCellLocation(o),c=parseInt(o.getAttribute("rowspan"))||1,u=parseInt(o.getAttribute("colspan"))||1;n.add(a),r.add(l),c>1&&n.add(a+c-1),u>1&&r.add(l+u-1),i+=c*u}return Noe(n,r)==i}sortRanges(e){return Array.from(e).sort(Doe)}_getFirstLastIndexesObject(e){const n=e.sort((s,o)=>s-o),r=n[0],i=n[n.length-1];return{first:r,last:i}}_areCellInTheSameTableSection(e){const n=e[0].findAncestor("table"),r=this.getRowIndexes(e),i=parseInt(n.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(r,i))return!1;const s=this.getColumnIndexes(e),o=parseInt(n.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(s,o)}_areIndexesInSameSection({first:e,last:n},r){const i=e<r,s=n<r;return i===s}}function Kg(t,e,n,r,i,s={}){for(let o=0;o<r;o++){const a=t.createElement("tableRow");t.insert(a,e,n),El(i,t,t.createPositionAt(a,"end"),s)}}function El(t,e,n,r={}){for(let i=0;i<t;i++)Za(e,n,r)}function v2(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e),r=t-n*e+n;return{newCellsSpan:n,updatedSpan:r}}function Ioe(t,e,n){const r=t.getAttribute("headingColumns")||0;if(r&&e.first<r){const i=Math.min(r-1,e.last)-e.first+1;n.setAttribute("headingColumns",r-i,t)}}function Ooe(t,{first:e,last:n},r){const i=t.getAttribute("headingRows")||0;if(e<i){const s=n<i?i-(n-e+1):e;pn("headingRows",s,t,r,0)}}function Roe(t,{first:e,last:n}){const r=new Map,i=[];for(const{row:s,column:o,cellHeight:a,cell:l}of new Bt(t,{endRow:n})){const c=s+a-1;if(s>=e&&s<=n&&c>n){const f=n-s+1,h=a-f;r.set(o,{cell:l,rowspan:h})}if(s<e&&c>=e){let f;c>=n?f=n-e+1:f=c-e+1,i.push({cell:l,rowspan:a-f})}}return{cellsToMove:r,cellsToTrim:i}}function Moe(t,e,n,r){const s=[...new Bt(t,{includeAllSlots:!0,row:e})],o=t.getChild(e);let a;for(const{column:l,cell:c,isAnchor:u}of s)if(n.has(l)){const{cell:d,rowspan:f}=n.get(l),h=a?r.createPositionAfter(a):r.createPositionAt(o,0);r.move(r.createRangeOn(d),h),pn("rowspan",f,d,r),a=d}else u&&(a=c)}function Doe(t,e){const n=t.start,r=e.start;return n.isBefore(r)?-1:1}function Noe(t,e){const n=Array.from(t.values()),r=Array.from(e.values()),i=Math.max(...n),s=Math.min(...n),o=Math.max(...r),a=Math.min(...r);return(i-s+1)*(o-a+1)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Foe extends Pt{refresh(){const e=this.editor.plugins.get(pr),n=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(n)}execute(){const e=this.editor.model,n=this.editor.plugins.get(pr);e.change(r=>{const i=n.getSelectedTableCells(e.document.selection),s=i.shift(),{mergeWidth:o,mergeHeight:a}=$oe(s,i,n);pn("colspan",o,s,r),pn("rowspan",a,s,r);for(const c of i)Loe(c,s,r);const l=s.findAncestor("table");bw(l,n),r.setSelection(s,"in")})}}function Loe(t,e,n){b2(t)||(b2(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function b2(t){const e=t.getChild(0);return t.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function $oe(t,e,n){let r=0,i=0;for(const c of e){const{row:u,column:d}=n.getCellLocation(c);r=y2(c,d,r,"colspan"),i=y2(c,u,i,"rowspan")}const{row:s,column:o}=n.getCellLocation(t),a=r-o,l=i-s;return{mergeWidth:a,mergeHeight:l}}function y2(t,e,n,r){const i=parseInt(t.getAttribute(r)||"1");return Math.max(n,e+i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Boe extends Pt{constructor(e){super(e),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(e.document.selection),i=n.getRowIndexes(r),s=r[0].findAncestor("table"),o=[];for(let a=i.first;a<=i.last;a++)for(const l of s.getChild(a).getChildren())o.push(e.createRangeOn(l));e.change(a=>{a.setSelection(o)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Voe extends Pt{constructor(e){super(e),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=e.getSelectionAffectedTableCells(n.document.selection),i=r[0],s=r.pop(),o=i.findAncestor("table"),a=e.getCellLocation(i),l=e.getCellLocation(s),c=Math.min(a.column,l.column),u=Math.max(a.column,l.column),d=[];for(const f of new Bt(o,{startColumn:c,endColumn:u}))d.push(n.createRangeOn(f.cell));n.change(f=>{f.setSelection(d)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zoe(t){t.document.registerPostFixer(e=>Uoe(e,t))}function Uoe(t,e){const n=e.document.differ.getChanges();let r=!1;const i=new Set;for(const s of n){let o=null;s.type=="insert"&&s.name=="table"&&(o=s.position.nodeAfter),(s.type=="insert"||s.type=="remove")&&(s.name=="tableRow"||s.name=="tableCell")&&(o=s.position.findAncestor("table")),Koe(s)&&(o=s.range.start.findAncestor("table")),o&&!i.has(o)&&(r=Hoe(o,t)||r,r=joe(o,t)||r,i.add(o))}return r}function Hoe(t,e){let n=!1;const r=Woe(t);if(r.length){n=!0;for(const i of r)pn("rowspan",i.rowspan,i.cell,e,1)}return n}function joe(t,e){let n=!1;const r=qoe(t),i=[];for(const[l,c]of r.entries())!c&&t.getChild(l).is("element","tableRow")&&i.push(l);if(i.length){n=!0;for(const l of i.reverse())e.remove(t.getChild(l)),r.splice(l,1)}const s=r.filter((l,c)=>t.getChild(c).is("element","tableRow")),o=s[0];if(!s.every(l=>l===o)){const l=s.reduce((c,u)=>u>c?u:c,0);for(const[c,u]of s.entries()){const d=l-u;if(d){for(let f=0;f<d;f++)Za(e,e.createPositionAt(t.getChild(c),"end"));n=!0}}}return n}function Woe(t){const e=parseInt(t.getAttribute("headingRows")||"0"),n=Array.from(t.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0),r=[];for(const{row:i,cell:s,cellHeight:o}of new Bt(t)){if(o<2)continue;const l=i<e?e:n;if(i+o>l){const c=l-i;r.push({cell:s,rowspan:c})}}return r}function qoe(t){const e=new Array(t.childCount).fill(0);for(const{rowIndex:n}of new Bt(t,{includeAllSlots:!0}))e[n]++;return e}function Koe(t){if(t.type!=="attribute")return!1;const e=t.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Goe(t){t.document.registerPostFixer(e=>Yoe(e,t))}function Yoe(t,e){const n=e.document.differ.getChanges();let r=!1;for(const i of n)i.type=="insert"&&i.name=="table"&&(r=Qoe(i.position.nodeAfter,t)||r),i.type=="insert"&&i.name=="tableRow"&&(r=E5(i.position.nodeAfter,t)||r),i.type=="insert"&&i.name=="tableCell"&&(r=Ub(i.position.nodeAfter,t)||r),(i.type=="remove"||i.type=="insert")&&Joe(i)&&(r=Ub(i.position.parent,t)||r);return r}function Qoe(t,e){let n=!1;for(const r of t.getChildren())r.is("element","tableRow")&&(n=E5(r,e)||n);return n}function E5(t,e){let n=!1;for(const r of t.getChildren())n=Ub(r,e)||n;return n}function Ub(t,e){if(t.childCount==0)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter(r=>r.is("$text"));for(const r of n)e.wrap(e.createRangeOn(r),"paragraph");return!!n.length}function Joe(t){return t.position.parent.is("element","tableCell")?t.type=="insert"&&t.name=="$text"||t.type=="remove":!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xoe(t,e){const n=t.document.differ;for(const r of n.getChanges()){let i,s=!1;if(r.type=="attribute"){const c=r.range.start.nodeAfter;if(!c||!c.is("element","table")||r.attributeKey!="headingRows"&&r.attributeKey!="headingColumns")continue;i=c,s=r.attributeKey=="headingRows"}else(r.name=="tableRow"||r.name=="tableCell")&&(i=r.position.findAncestor("table"),s=r.name=="tableRow");if(!i)continue;const o=i.getAttribute("headingRows")||0,a=i.getAttribute("headingColumns")||0,l=new Bt(i);for(const c of l){const d=c.row<o||c.column<a?"th":"td",f=e.mapper.toViewElement(c.cell);f&&f.is("element")&&f.name!=d&&e.reconvertItem(s?c.cell.parent:c.cell)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Zoe(t,e){const n=t.document.differ,r=new Set;for(const i of n.getChanges()){const s=i.type=="attribute"?i.range.start.parent:i.position.parent;s.is("element","tableCell")&&r.add(s)}for(const i of r.values()){const s=Array.from(i.getChildren()).filter(o=>eae(o,e.mapper));for(const o of s)e.reconvertItem(o)}}function eae(t,e){if(!t.is("element","paragraph"))return!1;const n=e.toViewElement(t);return n?g5(t)!==n.is("element","span"):!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tae extends Fe{static get pluginName(){return"TableEditing"}static get requires(){return[pr]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,n=e.model,r=n.schema,i=e.conversion,s=e.plugins.get(pr);r.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),r.register("tableRow",{allowIn:"table",isLimit:!0}),r.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add(soe()),i.for("upcast").add(ooe()),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:u2(s,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:u2(s,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add(aoe()),i.for("downcast").elementToElement({model:"tableRow",view:foe()}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(c2("td")),i.for("upcast").add(c2("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:d2({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:d2()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:f2({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:f2(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:w2("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:w2("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new poe(e)),e.commands.add("insertTableRowAbove",new h2(e,{order:"above"})),e.commands.add("insertTableRowBelow",new h2(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new m2(e,{order:"left"})),e.commands.add("insertTableColumnRight",new m2(e,{order:"right"})),e.commands.add("removeTableRow",new _oe(e)),e.commands.add("removeTableColumn",new koe(e)),e.commands.add("splitTableCellVertically",new p2(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new p2(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new Foe(e)),e.commands.add("mergeTableCellRight",new Nf(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Nf(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Nf(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Nf(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new Aoe(e)),e.commands.add("setTableRowHeader",new Toe(e)),e.commands.add("selectTableRow",new Boe(e)),e.commands.add("selectTableColumn",new Voe(e)),zoe(n),Goe(n),this.listenTo(n.document,"change:data",()=>{Xoe(n,e.editing),Zoe(n,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function w2(t){return e=>{const n=parseInt(e.getAttribute(t));return Number.isNaN(n)||n<=0?null:n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nae extends Et{constructor(e){super(e);const n=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Ys,this.focusTracker=new Hi,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(r,i)=>`${i}  ${r}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":n.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:n.to("label")}]}],on:{mousedown:n.to(r=>{r.preventDefault()}),click:n.to(()=>{this.fire("execute")})}}),this.on("boxover",(r,i)=>{const{row:s,column:o}=i.target.dataset;this.items.get((parseInt(s,10)-1)*10+(parseInt(o,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(r,i,s)=>{if(!s)return;const{row:o,column:a}=s.dataset;this.set({rows:parseInt(o),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),HK({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,n=this.columns;this.items.map((r,i)=>{const s=Math.floor(i/10),o=i%10,a=s<e&&o<n;r.set("isOn",a)})}_createGridButton(e,n,r,i){const s=new dn(e);return s.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),s.extendTemplate({attributes:{"data-row":n,"data-column":r}}),s}_createGridCollection(){const e=[];for(let n=0;n<100;n++){const r=Math.floor(n/10),i=n%10,s=`${r+1}  ${i+1}`;e.push(this._createGridButton(this.locale,r+1,i+1,s))}return this.createCollection(e)}}const rae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',iae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',sae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',oae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aae extends Fe{static get pluginName(){return"TableUI"}init(){const e=this.editor,n=this.editor.t,i=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",s=>{const o=e.commands.get("insertTable"),a=ko(s);a.bind("isEnabled").to(o),a.buttonView.set({icon:rae,label:n("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new nae(s),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}))}),a}),e.ui.componentFactory.add("tableColumn",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:n("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:n("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:n("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:n("Select column")}}];return this._prepareDropdown(n("Column"),iae,o,s)}),e.ui.componentFactory.add("tableRow",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:n("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:n("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:n("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:n("Select row")}}];return this._prepareDropdown(n("Row"),sae,o,s)}),e.ui.componentFactory.add("mergeTableCells",s=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:n("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:n("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(n("Merge cells"),oae,o,s)})}_prepareDropdown(e,n,r,i){const s=this.editor,o=ko(i),a=this._fillDropdownWithListOptions(o,r);return o.buttonView.set({label:e,icon:n,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(c=>c)),this.listenTo(o,"execute",l=>{s.execute(l.source.commandName),l.source instanceof Qm||s.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(e,n,r,i){const s=this.editor,o=ko(i,ow),a="mergeTableCells",l=s.commands.get(a),c=this._fillDropdownWithListOptions(o,r);return o.buttonView.set({label:e,icon:n,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([l,...c],"isEnabled",(...u)=>u.some(d=>d)),this.listenTo(o.buttonView,"execute",()=>{s.execute(a),s.editing.view.focus()}),this.listenTo(o,"execute",u=>{s.execute(u.source.commandName),s.editing.view.focus()}),o}_fillDropdownWithListOptions(e,n){const r=this.editor,i=[],s=new Ui;for(const o of n)lae(o,r,i,s);return ZO(e,s),i}}function lae(t,e,n,r){if(t.type==="button"||t.type==="switchbutton"){const i=t.model=new l4(t.model),{commandName:s,bindIsOn:o}=t.model,a=e.commands.get(s);n.push(a),i.set({commandName:s}),i.bind("isEnabled").to(a),o&&i.bind("isOn").to(a,"value"),i.set({withText:!0})}r.add(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ka extends Fe{static get pluginName(){return"TableSelection"}static get requires(){return[pr,pr]}init(){const e=this.editor,n=e.model,r=e.editing.view;this.listenTo(n,"deleteContent",(i,s)=>this._handleDeleteContent(i,s),{priority:"high"}),this.listenTo(r.document,"insertText",(i,s)=>this._handleInsertTextEvent(i,s),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(pr),n=this.editor.model.document.selection,r=e.getSelectedTableCells(n);return r.length==0?null:r}getSelectionAsFragment(){const e=this.editor.plugins.get(pr),n=this.getSelectedTableCells();return n?this.editor.model.change(r=>{const i=r.createDocumentFragment(),{first:s,last:o}=e.getColumnIndexes(n),{first:a,last:l}=e.getRowIndexes(n),c=n[0].findAncestor("table");let u=l,d=o;if(e.isSelectionRectangular(n)){const m={firstColumn:s,lastColumn:o,firstRow:a,lastRow:l};u=k5(c,m),d=S5(c,m)}const h=v5(c,{startRow:a,startColumn:s,endRow:u,endColumn:d},r);return r.insert(h,i,0),i}):null}setCellSelection(e,n){const r=this._getCellsToSelect(e,n);this.editor.model.change(i=>{i.setSelection(r.cells.map(s=>i.createRangeOn(s)),{backward:r.backward})})}getFocusCell(){const r=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return r&&r.is("element","tableCell")?r:null}getAnchorCell(){const e=this.editor.model.document.selection,r=$n(e.getRanges()).getContainedElement();return r&&r.is("element","tableCell")?r:null}_defineSelectionConverter(){const e=this.editor,n=new Set;e.conversion.for("editingDowncast").add(i=>i.on("selection",(s,o,a)=>{const l=a.writer;r(l);const c=this.getSelectedTableCells();if(!c)return;for(const d of c){const f=a.mapper.toViewElement(d);l.addClass("ck-editor__editable_selected",f),n.add(f)}const u=a.mapper.toViewElement(c[c.length-1]);l.setSelection(u,0)},{priority:"lowest"}));function r(i){for(const s of n)i.removeClass("ck-editor__editable_selected",s);n.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const n=this.getSelectedTableCells();if(!n)return;e.model.change(r=>{const i=r.createPositionAt(n[0],0),s=e.model.schema.getNearestSelectionRange(i);r.setSelection(s)})}})}_handleDeleteContent(e,n){const r=this.editor.plugins.get(pr),i=n[0],s=n[1],o=this.editor.model,a=!s||s.direction=="backward",l=r.getSelectedTableCells(i);l.length&&(e.stop(),o.change(c=>{const u=l[a?l.length-1:0];o.change(f=>{for(const h of l)o.deleteContent(f.createSelection(h,"in"))});const d=o.schema.getNearestSelectionRange(c.createPositionAt(u,0));i.is("documentSelection")?c.setSelection(d):i.setTo(d)}))}_handleInsertTextEvent(e,n){const r=this.editor,i=this.getSelectedTableCells();if(!i)return;const s=r.editing.view,o=r.editing.mapper,a=i.map(l=>s.createRangeOn(o.toViewElement(l)));n.selection=s.createSelection(a)}_getCellsToSelect(e,n){const r=this.editor.plugins.get("TableUtils"),i=r.getCellLocation(e),s=r.getCellLocation(n),o=Math.min(i.row,s.row),a=Math.max(i.row,s.row),l=Math.min(i.column,s.column),c=Math.max(i.column,s.column),u=new Array(a-o+1).fill(null).map(()=>[]),d={startRow:o,endRow:a,startColumn:l,endColumn:c};for(const{row:m,cell:p}of new Bt(e.findAncestor("table"),d))u[m-o].push(p);const f=s.row<i.row,h=s.column<i.column;return f&&u.reverse(),h&&u.forEach(m=>m.reverse()),{cells:u.flat(),backward:f||h}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cae extends Fe{static get pluginName(){return"TableClipboard"}static get requires(){return[ka,pr]}init(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"copy",(r,i)=>this._onCopyCut(r,i)),this.listenTo(n,"cut",(r,i)=>this._onCopyCut(r,i)),this.listenTo(e.model,"insertContent",(r,[i,s])=>this._onInsertContent(r,i,s),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,n){const r=this.editor.plugins.get(ka);if(!r.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;n.preventDefault(),e.stop();const i=this.editor.data,s=this.editor.editing.view.document,o=i.toView(r.getSelectionAsFragment());s.fire("clipboardOutput",{dataTransfer:n.dataTransfer,content:o,method:e.name})}_onInsertContent(e,n,r){if(r&&!r.is("documentSelection"))return;const i=this.editor.model,s=this.editor.plugins.get(pr);let o=this.getTableIfOnlyTableInContent(n,i);if(!o)return;const a=s.getSelectionAffectedTableCells(i.document.selection);if(!a.length){bw(o,s);return}e.stop(),i.change(l=>{const c={width:s.getColumns(o),height:s.getRows(o)},u=uae(a,c,l,s),d=u.lastRow-u.firstRow+1,f=u.lastColumn-u.firstColumn+1,h={startRow:0,startColumn:0,endRow:Math.min(d,c.height)-1,endColumn:Math.min(f,c.width)-1};o=v5(o,h,l);const m=a[0].findAncestor("table"),p=this._replaceSelectedCellsWithPasted(o,c,m,u,l);if(this.editor.plugins.get("TableSelection").isEnabled){const y=s.sortRanges(p.map(v=>l.createRangeOn(v)));l.setSelection(y)}else l.setSelection(p[0],0)})}_replaceSelectedCellsWithPasted(e,n,r,i,s){const{width:o,height:a}=n,l=fae(e,o,a),c=[...new Bt(r,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],u=[];let d;for(const y of c){const{row:v,column:b}=y;b===i.firstColumn&&(d=y.getPositionBefore());const T=v-i.firstRow,_=b-i.firstColumn,E=l[T%a][_%o],C=E?s.cloneElement(E):null,k=this._replaceTableSlotCell(y,C,d,s);k&&(C5(k,v,b,i.lastRow,i.lastColumn,s),u.push(k),d=s.createPositionAfter(k))}const f=parseInt(r.getAttribute("headingRows")||"0"),h=parseInt(r.getAttribute("headingColumns")||"0"),m=i.firstRow<f&&f<=i.lastRow,p=i.firstColumn<h&&h<=i.lastColumn;if(m){const y={first:i.firstColumn,last:i.lastColumn},v=Hb(r,f,y,s,i.firstRow);u.push(...v)}if(p){const y={first:i.firstRow,last:i.lastRow},v=jb(r,h,y,s);u.push(...v)}return u}_replaceTableSlotCell(e,n,r,i){const{cell:s,isAnchor:o}=e;return o&&i.remove(s),n?(i.insert(n,r),n):null}getTableIfOnlyTableInContent(e,n){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const r=n.createRangeIn(e);for(const i of r.getItems())if(i.is("element","table")){const s=n.createRange(r.start,n.createPositionBefore(i));if(n.hasContent(s,{ignoreWhitespaces:!0}))return null;const o=n.createRange(n.createPositionAfter(i),r.end);return n.hasContent(o,{ignoreWhitespaces:!0})?null:i}return null}}function uae(t,e,n,r){const i=t[0].findAncestor("table"),s=r.getColumnIndexes(t),o=r.getRowIndexes(t),a={firstColumn:s.first,lastColumn:s.last,firstRow:o.first,lastRow:o.last},l=t.length===1;return l&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,dae(i,a.lastRow+1,a.lastColumn+1,r)),l||!r.isSelectionRectangular(t)?hae(i,a,n):(a.lastRow=k5(i,a),a.lastColumn=S5(i,a)),a}function dae(t,e,n,r){const i=r.getColumns(t),s=r.getRows(t);n>i&&r.insertColumns(t,{at:i,columns:n-i}),e>s&&r.insertRows(t,{at:s,rows:e-s})}function fae(t,e,n){const r=new Array(n).fill(null).map(()=>new Array(e).fill(null));for(const{column:i,row:s,cell:o}of new Bt(t))r[s][i]=o;return r}function hae(t,e,n){const{firstRow:r,lastRow:i,firstColumn:s,lastColumn:o}=e,a={first:r,last:i},l={first:s,last:o};jb(t,s,a,n),jb(t,o+1,a,n),Hb(t,r,l,n),Hb(t,i+1,l,n,r)}function Hb(t,e,n,r,i=0){return e<1?void 0:b5(t,e,i).filter(({column:a,cellWidth:l})=>T5(a,l,n)).map(({cell:a})=>y5(a,e,r))}function jb(t,e,n,r){return e<1?void 0:w5(t,e).filter(({row:o,cellHeight:a})=>T5(o,a,n)).map(({cell:o,column:a})=>_5(o,a,e,r))}function T5(t,e,n){const r=t+e-1,{first:i,last:s}=n,o=t>=i&&t<=s,a=t<i&&r>=i;return o||a}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mae extends Fe{static get pluginName(){return"TableKeyboard"}static get requires(){return[ka,pr]}init(){const n=this.editor.editing.view.document;this.listenTo(n,"arrowKey",(...r)=>this._onArrowKey(...r),{context:"table"}),this.listenTo(n,"tab",(...r)=>this._handleTabOnSelectedTable(...r),{context:"figure"}),this.listenTo(n,"tab",(...r)=>this._handleTab(...r),{context:["th","td"]})}_handleTabOnSelectedTable(e,n){const r=this.editor,s=r.model.document.selection.getSelectedElement();!s||!s.is("element","table")||(n.preventDefault(),n.stopPropagation(),e.stop(),r.model.change(o=>{o.setSelection(o.createRangeIn(s.getChild(0).getChild(0)))}))}_handleTab(e,n){const r=this.editor,i=this.editor.plugins.get(pr),s=this.editor.plugins.get("TableSelection"),o=r.model.document.selection,a=!n.shiftKey;let l=i.getTableCellsContainingSelection(o)[0];if(l||(l=s.getFocusCell()),!l)return;n.preventDefault(),n.stopPropagation(),e.stop();const c=l.parent,u=c.parent,d=u.getChildIndex(c),f=c.getChildIndex(l),h=f===0;if(!a&&h&&d===0){r.model.change(v=>{v.setSelection(v.createRangeOn(u))});return}const m=f===c.childCount-1,p=d===i.getRows(u)-1;if(a&&p&&m&&(r.execute("insertTableRowBelow"),d===i.getRows(u)-1)){r.model.change(v=>{v.setSelection(v.createRangeOn(u))});return}let y;if(a&&m)y=u.getChild(d+1).getChild(0);else if(!a&&h){const v=u.getChild(d-1);y=v.getChild(v.childCount-1)}else y=c.getChild(f+(a?1:-1));r.model.change(v=>{v.setSelection(v.createRangeIn(y))})}_onArrowKey(e,n){const r=this.editor,i=n.keyCode,s=Hy(i,r.locale.contentLanguageDirection);this._handleArrowKeys(s,n.shiftKey)&&(n.preventDefault(),n.stopPropagation(),e.stop())}_handleArrowKeys(e,n){const r=this.editor.plugins.get(pr),i=this.editor.plugins.get("TableSelection"),s=this.editor.model,o=s.document.selection,a=["right","down"].includes(e),l=r.getSelectedTableCells(o);if(l.length){let u;return n?u=i.getFocusCell():u=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(u,e,n),!0}const c=o.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!c)return!1;if(!o.isCollapsed)if(n){if(o.isBackward==a&&!o.containsEntireContent(c))return!1}else{const u=o.getSelectedElement();if(!u||!s.schema.isObject(u))return!1}return this._isSelectionAtCellEdge(o,c,a)?(this._navigateFromCellInDirection(c,e,n),!0):!1}_isSelectionAtCellEdge(e,n,r){const i=this.editor.model,s=this.editor.model.schema,o=r?e.getLastPosition():e.getFirstPosition();if(!s.getLimitElement(o).is("element","tableCell"))return i.createPositionAt(n,r?"end":0).isTouching(o);const a=i.createSelection(o);return i.modifySelection(a,{direction:r?"forward":"backward"}),o.isEqual(a.focus)}_navigateFromCellInDirection(e,n,r=!1){const i=this.editor.model,s=e.findAncestor("table"),o=[...new Bt(s,{includeAllSlots:!0})],{row:a,column:l}=o[o.length-1],c=o.find(({cell:b})=>b==e);let{row:u,column:d}=c;switch(n){case"left":d--;break;case"up":u--;break;case"right":d+=c.cellWidth;break;case"down":u+=c.cellHeight;break}const f=u<0||u>a,h=d<0&&u<=0,m=d>l&&u>=a;if(f||h||m){i.change(b=>{b.setSelection(b.createRangeOn(s))});return}d<0?(d=r?0:l,u--):d>l&&(d=r?l:0,u++);const p=o.find(b=>b.row==u&&b.column==d).cell,y=["right","down"].includes(n),v=this.editor.plugins.get("TableSelection");if(r&&v.isEnabled){const b=v.getAnchorCell()||e;v.setCellSelection(b,p)}else{const b=i.createPositionAt(p,y?0:"end");i.change(T=>{T.setSelection(b)})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pae extends zo{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gae extends Fe{static get pluginName(){return"TableMouse"}static get requires(){return[ka,pr]}init(){this.editor.editing.view.addObserver(pae),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,n=e.plugins.get(pr);let r=!1;const i=e.plugins.get(ka);this.listenTo(e.editing.view.document,"mousedown",(s,o)=>{const a=e.model.document.selection;if(!this.isEnabled||!i.isEnabled||!o.domEvent.shiftKey)return;const l=i.getAnchorCell()||n.getTableCellsContainingSelection(a)[0];if(!l)return;const c=this._getModelTableCellFromDomEvent(o);c&&_2(l,c)&&(r=!0,i.setCellSelection(l,c),o.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1}),this.listenTo(e.editing.view.document,"selectionChange",s=>{r&&s.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let n,r,i=!1,s=!1;const o=e.plugins.get(ka);this.listenTo(e.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!o.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(n=this._getModelTableCellFromDomEvent(l))}),this.listenTo(e.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!n)return;const c=this._getModelTableCellFromDomEvent(l);c&&_2(n,c)&&(r=c,!i&&r!=n&&(i=!0)),i&&(s=!0,o.setCellSelection(n,r),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1,s=!1,n=null,r=null}),this.listenTo(e.editing.view.document,"selectionChange",a=>{s&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const n=e.target,r=this.editor.editing.view.createPositionAt(n,0);return this.editor.editing.mapper.toModelPosition(r).parent.findAncestor("tableCell",{includeSelf:!0})}}function _2(t,e){return t.parent.parent==e.parent.parent}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vae extends Fe{static get requires(){return[tae,aae,ka,gae,mae,cae,np]}static get pluginName(){return"Table"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function bae(t){const e=t.getSelectedElement();return e&&A5(e)?e:null}function yae(t){const e=t.getFirstPosition();if(!e)return null;let n=e.parent;for(;n;){if(n.is("element")&&A5(n))return n;n=n.parent}return null}function A5(t){return!!t.getCustomProperty("table")&&hn(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wae extends Fe{static get requires(){return[Gh]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,n=e.t,r=e.plugins.get(Gh),i=e.config.get("table.contentToolbar"),s=e.config.get("table.tableToolbar");i&&r.register("tableContent",{ariaLabel:n("Table toolbar"),items:i,getRelatedElement:yae}),s&&r.register("table",{ariaLabel:n("Table toolbar"),items:s,getRelatedElement:bae})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ta=or.defaultPositions;ta.northArrowSouth,ta.northArrowSouthWest,ta.northArrowSouthEast,ta.southArrowNorth,ta.southArrowNorthWest,ta.southArrowNorthEast,ta.viewportStickyNorth;const _ae={components:{ckeditor:UK.component},props:{content:{type:String,default:""}},emits:["content"],setup(t,{emit:e}){const n=ep,r=ie(t.content),i=ie({plugins:[Rd,Xte,RS,MS,vre,mse,yre,RS,MS,xre,Mre,Qre,eie,fie,hie,Lie,zse,Jse,noe,bie,vae,wae],toolbar:{items:["heading","alignment","bold","italic","link","bulletedList","numberedList","uploadImage","blockQuote","undo","redo","sourceEditing","insertTable"]},image:{toolbar:["toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},simpleUpload:{uploadUrl:"/admin/image/store",withCredentials:!0,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]}});return Le(r,s=>{e("content",s)},{immediate:!0}),{editor:n,editorData:r,editorConfig:i}}},rp=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};function Cae(t,e,n,r,i,s){const o=Pi("ckeditor");return V(),Ue(o,{editor:r.editor,modelValue:r.editorData,"onUpdate:modelValue":e[0]||(e[0]=a=>r.editorData=a),config:r.editorConfig},null,8,["editor","modelValue","config"])}const kae=rp(_ae,[["render",Cae]]);function x5(t,e){return function(){return t.apply(e,arguments)}}const{toString:Sae}=Object.prototype,{getPrototypeOf:yw}=Object,ip=(t=>e=>{const n=Sae.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vs=t=>(t=t.toLowerCase(),e=>ip(e)===t),sp=t=>e=>typeof e===t,{isArray:Oc}=Array,cd=sp("undefined");function Eae(t){return t!==null&&!cd(t)&&t.constructor!==null&&!cd(t.constructor)&&gi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const P5=vs("ArrayBuffer");function Tae(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&P5(t.buffer),e}const Aae=sp("string"),gi=sp("function"),I5=sp("number"),op=t=>t!==null&&typeof t=="object",xae=t=>t===!0||t===!1,dh=t=>{if(ip(t)!=="object")return!1;const e=yw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pae=vs("Date"),Iae=vs("File"),Oae=vs("Blob"),Rae=vs("FileList"),Mae=t=>op(t)&&gi(t.pipe),Dae=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gi(t.append)&&((e=ip(t))==="formdata"||e==="object"&&gi(t.toString)&&t.toString()==="[object FormData]"))},Nae=vs("URLSearchParams"),Fae=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Md(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Oc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function O5(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const R5=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),M5=t=>!cd(t)&&t!==R5;function Wb(){const{caseless:t}=M5(this)&&this||{},e={},n=(r,i)=>{const s=t&&O5(e,i)||i;dh(e[s])&&dh(r)?e[s]=Wb(e[s],r):dh(r)?e[s]=Wb({},r):Oc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Md(arguments[r],n);return e}const Lae=(t,e,n,{allOwnKeys:r}={})=>(Md(e,(i,s)=>{n&&gi(i)?t[s]=x5(i,n):t[s]=i},{allOwnKeys:r}),t),$ae=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bae=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Vae=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&yw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zae=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Uae=t=>{if(!t)return null;if(Oc(t))return t;let e=t.length;if(!I5(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Hae=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yw(Uint8Array)),jae=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Wae=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},qae=vs("HTMLFormElement"),Kae=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),C2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Gae=vs("RegExp"),D5=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Md(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Yae=t=>{D5(t,(e,n)=>{if(gi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(gi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Qae=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Oc(t)?r(t):r(String(t).split(e)),n},Jae=()=>{},Xae=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Gg="abcdefghijklmnopqrstuvwxyz",k2="0123456789",N5={DIGIT:k2,ALPHA:Gg,ALPHA_DIGIT:Gg+Gg.toUpperCase()+k2},Zae=(t=16,e=N5.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function ele(t){return!!(t&&gi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const tle=t=>{const e=new Array(10),n=(r,i)=>{if(op(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Oc(r)?[]:{};return Md(r,(o,a)=>{const l=n(o,i+1);!cd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},nle=vs("AsyncFunction"),rle=t=>t&&(op(t)||gi(t))&&gi(t.then)&&gi(t.catch),we={isArray:Oc,isArrayBuffer:P5,isBuffer:Eae,isFormData:Dae,isArrayBufferView:Tae,isString:Aae,isNumber:I5,isBoolean:xae,isObject:op,isPlainObject:dh,isUndefined:cd,isDate:Pae,isFile:Iae,isBlob:Oae,isRegExp:Gae,isFunction:gi,isStream:Mae,isURLSearchParams:Nae,isTypedArray:Hae,isFileList:Rae,forEach:Md,merge:Wb,extend:Lae,trim:Fae,stripBOM:$ae,inherits:Bae,toFlatObject:Vae,kindOf:ip,kindOfTest:vs,endsWith:zae,toArray:Uae,forEachEntry:jae,matchAll:Wae,isHTMLForm:qae,hasOwnProperty:C2,hasOwnProp:C2,reduceDescriptors:D5,freezeMethods:Yae,toObjectSet:Qae,toCamelCase:Kae,noop:Jae,toFiniteNumber:Xae,findKey:O5,global:R5,isContextDefined:M5,ALPHABET:N5,generateString:Zae,isSpecCompliantForm:ele,toJSONObject:tle,isAsyncFn:nle,isThenable:rle};function Dt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}we.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:we.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const F5=Dt.prototype,L5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{L5[t]={value:t}});Object.defineProperties(Dt,L5);Object.defineProperty(F5,"isAxiosError",{value:!0});Dt.from=(t,e,n,r,i,s)=>{const o=Object.create(F5);return we.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Dt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const ile=null;function qb(t){return we.isPlainObject(t)||we.isArray(t)}function $5(t){return we.endsWith(t,"[]")?t.slice(0,-2):t}function S2(t,e,n){return t?t.concat(e).map(function(i,s){return i=$5(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function sle(t){return we.isArray(t)&&!t.some(qb)}const ole=we.toFlatObject(we,{},null,function(e){return/^is[A-Z]/.test(e)});function ap(t,e,n){if(!we.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=we.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!we.isUndefined(y[p])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&we.isSpecCompliantForm(e);if(!we.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(we.isDate(m))return m.toISOString();if(!l&&we.isBlob(m))throw new Dt("Blob is not supported. Use a Buffer instead.");return we.isArrayBuffer(m)||we.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,p,y){let v=m;if(m&&!y&&typeof m=="object"){if(we.endsWith(p,"{}"))p=r?p:p.slice(0,-2),m=JSON.stringify(m);else if(we.isArray(m)&&sle(m)||(we.isFileList(m)||we.endsWith(p,"[]"))&&(v=we.toArray(m)))return p=$5(p),v.forEach(function(T,_){!(we.isUndefined(T)||T===null)&&e.append(o===!0?S2([p],_,s):o===null?p:p+"[]",c(T))}),!1}return qb(m)?!0:(e.append(S2(y,p,s),c(m)),!1)}const d=[],f=Object.assign(ole,{defaultVisitor:u,convertValue:c,isVisitable:qb});function h(m,p){if(!we.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),we.forEach(m,function(v,b){(!(we.isUndefined(v)||v===null)&&i.call(e,v,we.isString(b)?b.trim():b,p,f))===!0&&h(v,p?p.concat(b):[b])}),d.pop()}}if(!we.isObject(t))throw new TypeError("data must be an object");return h(t),e}function E2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ww(t,e){this._pairs=[],t&&ap(t,this,e)}const B5=ww.prototype;B5.append=function(e,n){this._pairs.push([e,n])};B5.toString=function(e){const n=e?function(r){return e.call(this,r,E2)}:E2;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function ale(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function V5(t,e,n){if(!e)return t;const r=n&&n.encode||ale,i=n&&n.serialize;let s;if(i?s=i(e,n):s=we.isURLSearchParams(e)?e.toString():new ww(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class lle{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){we.forEach(this.handlers,function(r){r!==null&&e(r)})}}const T2=lle,z5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cle=typeof URLSearchParams<"u"?URLSearchParams:ww,ule=typeof FormData<"u"?FormData:null,dle=typeof Blob<"u"?Blob:null,fle=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),hle=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ni={isBrowser:!0,classes:{URLSearchParams:cle,FormData:ule,Blob:dle},isStandardBrowserEnv:fle,isStandardBrowserWebWorkerEnv:hle,protocols:["http","https","file","blob","url","data"]};function mle(t,e){return ap(t,new Ni.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ni.isNode&&we.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ple(t){return we.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gle(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function U5(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&we.isArray(i)?i.length:o,l?(we.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!we.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&we.isArray(i[o])&&(i[o]=gle(i[o])),!a)}if(we.isFormData(t)&&we.isFunction(t.entries)){const n={};return we.forEachEntry(t,(r,i)=>{e(ple(r),i,n,0)}),n}return null}function vle(t,e,n){if(we.isString(t))try{return(e||JSON.parse)(t),we.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const _w={transitional:z5,adapter:Ni.isNode?"http":"xhr",transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=we.isObject(e);if(s&&we.isHTMLForm(e)&&(e=new FormData(e)),we.isFormData(e))return i&&i?JSON.stringify(U5(e)):e;if(we.isArrayBuffer(e)||we.isBuffer(e)||we.isStream(e)||we.isFile(e)||we.isBlob(e))return e;if(we.isArrayBufferView(e))return e.buffer;if(we.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mle(e,this.formSerializer).toString();if((a=we.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ap(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),vle(e)):e}],transformResponse:[function(e){const n=this.transitional||_w.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&we.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Dt.from(a,Dt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ni.classes.FormData,Blob:Ni.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};we.forEach(["delete","get","head","post","put","patch"],t=>{_w.headers[t]={}});const Cw=_w,ble=we.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yle=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&ble[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},A2=Symbol("internals");function Jc(t){return t&&String(t).trim().toLowerCase()}function fh(t){return t===!1||t==null?t:we.isArray(t)?t.map(fh):String(t)}function wle(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const _le=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Yg(t,e,n,r,i){if(we.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!we.isString(e)){if(we.isString(r))return e.indexOf(r)!==-1;if(we.isRegExp(r))return r.test(e)}}function Cle(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function kle(t,e){const n=we.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class lp{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=Jc(l);if(!u)throw new Error("header name must be a non-empty string");const d=we.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=fh(a))}const o=(a,l)=>we.forEach(a,(c,u)=>s(c,u,l));return we.isPlainObject(e)||e instanceof this.constructor?o(e,n):we.isString(e)&&(e=e.trim())&&!_le(e)?o(yle(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Jc(e),e){const r=we.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return wle(i);if(we.isFunction(n))return n.call(this,i,r);if(we.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Jc(e),e){const r=we.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Yg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Jc(o),o){const a=we.findKey(r,o);a&&(!n||Yg(r,r[a],a,n))&&(delete r[a],i=!0)}}return we.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Yg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return we.forEach(this,(i,s)=>{const o=we.findKey(r,s);if(o){n[o]=fh(i),delete n[s];return}const a=e?Cle(s):String(s).trim();a!==s&&delete n[s],n[a]=fh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return we.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&we.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[A2]=this[A2]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Jc(o);r[a]||(kle(i,o),r[a]=!0)}return we.isArray(e)?e.forEach(s):s(e),this}}lp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);we.reduceDescriptors(lp.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});we.freezeMethods(lp);const Ns=lp;function Qg(t,e){const n=this||Cw,r=e||n,i=Ns.from(r.headers);let s=r.data;return we.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function H5(t){return!!(t&&t.__CANCEL__)}function Dd(t,e,n){Dt.call(this,t??"canceled",Dt.ERR_CANCELED,e,n),this.name="CanceledError"}we.inherits(Dd,Dt,{__CANCEL__:!0});function Sle(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Dt("Request failed with status code "+n.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ele=Ni.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),we.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),we.isString(s)&&l.push("path="+s),we.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Tle(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ale(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function j5(t,e){return t&&!Tle(e)?Ale(t,e):e}const xle=Ni.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=we.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Ple(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ile(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function x2(t,e){let n=0;const r=Ile(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const Ole=typeof XMLHttpRequest<"u",Rle=Ole&&function(t){return new Promise(function(n,r){let i=t.data;const s=Ns.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}we.isFormData(i)&&(Ni.isStandardBrowserEnv||Ni.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(h+":"+m))}const u=j5(t.baseURL,t.url);c.open(t.method.toUpperCase(),V5(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const h=Ns.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:h,config:t,request:c};Sle(function(v){n(v),l()},function(v){r(v),l()},p),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new Dt("Request aborted",Dt.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Dt("Network Error",Dt.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const p=t.transitional||z5;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Dt(m,p.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,t,c)),c=null},Ni.isStandardBrowserEnv){const h=(t.withCredentials||xle(u))&&t.xsrfCookieName&&Ele.read(t.xsrfCookieName);h&&s.set(t.xsrfHeaderName,h)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&we.forEach(s.toJSON(),function(m,p){c.setRequestHeader(p,m)}),we.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",x2(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",x2(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=h=>{c&&(r(!h||h.type?new Dd(null,t,c):h),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=Ple(u);if(f&&Ni.protocols.indexOf(f)===-1){r(new Dt("Unsupported protocol "+f+":",Dt.ERR_BAD_REQUEST,t));return}c.send(i||null)})},hh={http:ile,xhr:Rle};we.forEach(hh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const W5={getAdapter:t=>{t=we.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=we.isString(n)?hh[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Dt(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(we.hasOwnProp(hh,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!we.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:hh};function Jg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Dd(null,t)}function P2(t){return Jg(t),t.headers=Ns.from(t.headers),t.data=Qg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),W5.getAdapter(t.adapter||Cw.adapter)(t).then(function(r){return Jg(t),r.data=Qg.call(t,t.transformResponse,r),r.headers=Ns.from(r.headers),r},function(r){return H5(r)||(Jg(t),r&&r.response&&(r.response.data=Qg.call(t,t.transformResponse,r.response),r.response.headers=Ns.from(r.response.headers))),Promise.reject(r)})}const I2=t=>t instanceof Ns?t.toJSON():t;function lc(t,e){e=e||{};const n={};function r(c,u,d){return we.isPlainObject(c)&&we.isPlainObject(u)?we.merge.call({caseless:d},c,u):we.isPlainObject(u)?we.merge({},u):we.isArray(u)?u.slice():u}function i(c,u,d){if(we.isUndefined(u)){if(!we.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!we.isUndefined(u))return r(void 0,u)}function o(c,u){if(we.isUndefined(u)){if(!we.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(I2(c),I2(u),!0)};return we.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);we.isUndefined(f)&&d!==a||(n[u]=f)}),n}const q5="1.5.0",kw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{kw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const O2={};kw.transitional=function(e,n,r){function i(s,o){return"[Axios v"+q5+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Dt(i(o," has been removed"+(n?" in "+n:"")),Dt.ERR_DEPRECATED);return n&&!O2[o]&&(O2[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Mle(t,e,n){if(typeof t!="object")throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Dt("option "+s+" must be "+l,Dt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Dt("Unknown option "+s,Dt.ERR_BAD_OPTION)}}const Kb={assertOptions:Mle,validators:kw},io=Kb.validators;class Qh{constructor(e){this.defaults=e,this.interceptors={request:new T2,response:new T2}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=lc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Kb.assertOptions(r,{silentJSONParsing:io.transitional(io.boolean),forcedJSONParsing:io.transitional(io.boolean),clarifyTimeoutError:io.transitional(io.boolean)},!1),i!=null&&(we.isFunction(i)?n.paramsSerializer={serialize:i}:Kb.assertOptions(i,{encode:io.function,serialize:io.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&we.merge(s.common,s[n.method]);s&&we.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Ns.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,d=0,f;if(!l){const m=[P2.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);d<f;)u=u.then(m[d++],m[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const m=a[d++],p=a[d++];try{h=m(h)}catch(y){p.call(this,y);break}}try{u=P2.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=lc(this.defaults,e);const n=j5(e.baseURL,e.url);return V5(n,e.params,e.paramsSerializer)}}we.forEach(["delete","get","head","options"],function(e){Qh.prototype[e]=function(n,r){return this.request(lc(r||{},{method:e,url:n,data:(r||{}).data}))}});we.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(lc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qh.prototype[e]=n(),Qh.prototype[e+"Form"]=n(!0)});const mh=Qh;class Sw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Dd(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Sw(function(i){e=i}),cancel:e}}}const Dle=Sw;function Nle(t){return function(n){return t.apply(null,n)}}function Fle(t){return we.isObject(t)&&t.isAxiosError===!0}const Gb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gb).forEach(([t,e])=>{Gb[e]=t});const Lle=Gb;function K5(t){const e=new mh(t),n=x5(mh.prototype.request,e);return we.extend(n,mh.prototype,e,{allOwnKeys:!0}),we.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return K5(lc(t,i))},n}const Mn=K5(Cw);Mn.Axios=mh;Mn.CanceledError=Dd;Mn.CancelToken=Dle;Mn.isCancel=H5;Mn.VERSION=q5;Mn.toFormData=ap;Mn.AxiosError=Dt;Mn.Cancel=Mn.CanceledError;Mn.all=function(e){return Promise.all(e)};Mn.spread=Nle;Mn.isAxiosError=Fle;Mn.mergeConfig=lc;Mn.AxiosHeaders=Ns;Mn.formToJSON=t=>U5(we.isHTMLForm(t)?new FormData(t):t);Mn.getAdapter=W5.getAdapter;Mn.HttpStatusCode=Lle;Mn.default=Mn;const R2=Mn;var $le=function(e){return Ble(e)&&!Vle(e)};function Ble(t){return!!t&&typeof t=="object"}function Vle(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Hle(t)}var zle=typeof Symbol=="function"&&Symbol.for,Ule=zle?Symbol.for("react.element"):60103;function Hle(t){return t.$$typeof===Ule}function jle(t){return Array.isArray(t)?[]:{}}function ud(t,e){return e.clone!==!1&&e.isMergeableObject(t)?cc(jle(t),t,e):t}function Wle(t,e,n){return t.concat(e).map(function(r){return ud(r,n)})}function qle(t,e){if(!e.customMerge)return cc;var n=e.customMerge(t);return typeof n=="function"?n:cc}function Kle(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function M2(t){return Object.keys(t).concat(Kle(t))}function G5(t,e){try{return e in t}catch{return!1}}function Gle(t,e){return G5(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Yle(t,e,n){var r={};return n.isMergeableObject(t)&&M2(t).forEach(function(i){r[i]=ud(t[i],n)}),M2(e).forEach(function(i){Gle(t,i)||(G5(t,i)&&n.isMergeableObject(e[i])?r[i]=qle(i,n)(t[i],e[i],n):r[i]=ud(e[i],n))}),r}function cc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Wle,n.isMergeableObject=n.isMergeableObject||$le,n.cloneUnlessOtherwiseSpecified=ud;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Yle(t,e,n):ud(e,n)}cc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return cc(r,i,n)},{})};var Qle=cc,Jle=Qle;const Xle=jr(Jle);var Zle=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},D2=typeof Symbol<"u"&&Symbol,ece=Zle,tce=function(){return typeof D2!="function"||typeof Symbol!="function"||typeof D2("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ece()},N2={foo:{}},nce=Object,rce=function(){return{__proto__:N2}.foo===N2.foo&&!({__proto__:null}instanceof nce)},ice="Function.prototype.bind called on incompatible ",Xg=Array.prototype.slice,sce=Object.prototype.toString,oce="[object Function]",ace=function(e){var n=this;if(typeof n!="function"||sce.call(n)!==oce)throw new TypeError(ice+n);for(var r=Xg.call(arguments,1),i,s=function(){if(this instanceof i){var u=n.apply(this,r.concat(Xg.call(arguments)));return Object(u)===u?u:this}else return n.apply(e,r.concat(Xg.call(arguments)))},o=Math.max(0,n.length-r.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i},lce=ace,Ew=Function.prototype.bind||lce,cce=Ew,uce=cce.call(Function.call,Object.prototype.hasOwnProperty),St,uc=SyntaxError,Y5=Function,Vl=TypeError,Zg=function(t){try{return Y5('"use strict"; return ('+t+").constructor;")()}catch{}},Sa=Object.getOwnPropertyDescriptor;if(Sa)try{Sa({},"")}catch{Sa=null}var ev=function(){throw new Vl},dce=Sa?function(){try{return arguments.callee,ev}catch{try{return Sa(arguments,"callee").get}catch{return ev}}}():ev,pl=tce(),fce=rce(),Un=Object.getPrototypeOf||(fce?function(t){return t.__proto__}:null),Tl={},hce=typeof Uint8Array>"u"||!Un?St:Un(Uint8Array),Ea={"%AggregateError%":typeof AggregateError>"u"?St:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?St:ArrayBuffer,"%ArrayIteratorPrototype%":pl&&Un?Un([][Symbol.iterator]()):St,"%AsyncFromSyncIteratorPrototype%":St,"%AsyncFunction%":Tl,"%AsyncGenerator%":Tl,"%AsyncGeneratorFunction%":Tl,"%AsyncIteratorPrototype%":Tl,"%Atomics%":typeof Atomics>"u"?St:Atomics,"%BigInt%":typeof BigInt>"u"?St:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?St:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?St:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?St:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?St:Float32Array,"%Float64Array%":typeof Float64Array>"u"?St:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?St:FinalizationRegistry,"%Function%":Y5,"%GeneratorFunction%":Tl,"%Int8Array%":typeof Int8Array>"u"?St:Int8Array,"%Int16Array%":typeof Int16Array>"u"?St:Int16Array,"%Int32Array%":typeof Int32Array>"u"?St:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":pl&&Un?Un(Un([][Symbol.iterator]())):St,"%JSON%":typeof JSON=="object"?JSON:St,"%Map%":typeof Map>"u"?St:Map,"%MapIteratorPrototype%":typeof Map>"u"||!pl||!Un?St:Un(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?St:Promise,"%Proxy%":typeof Proxy>"u"?St:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?St:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?St:Set,"%SetIteratorPrototype%":typeof Set>"u"||!pl||!Un?St:Un(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?St:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":pl&&Un?Un(""[Symbol.iterator]()):St,"%Symbol%":pl?Symbol:St,"%SyntaxError%":uc,"%ThrowTypeError%":dce,"%TypedArray%":hce,"%TypeError%":Vl,"%Uint8Array%":typeof Uint8Array>"u"?St:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?St:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?St:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?St:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?St:WeakMap,"%WeakRef%":typeof WeakRef>"u"?St:WeakRef,"%WeakSet%":typeof WeakSet>"u"?St:WeakSet};if(Un)try{null.error}catch(t){var mce=Un(Un(t));Ea["%Error.prototype%"]=mce}var pce=function t(e){var n;if(e==="%AsyncFunction%")n=Zg("async function () {}");else if(e==="%GeneratorFunction%")n=Zg("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Zg("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Un&&(n=Un(i.prototype))}return Ea[e]=n,n},F2={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Nd=Ew,Jh=uce,gce=Nd.call(Function.call,Array.prototype.concat),vce=Nd.call(Function.apply,Array.prototype.splice),L2=Nd.call(Function.call,String.prototype.replace),Xh=Nd.call(Function.call,String.prototype.slice),bce=Nd.call(Function.call,RegExp.prototype.exec),yce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,wce=/\\(\\)?/g,_ce=function(e){var n=Xh(e,0,1),r=Xh(e,-1);if(n==="%"&&r!=="%")throw new uc("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new uc("invalid intrinsic syntax, expected opening `%`");var i=[];return L2(e,yce,function(s,o,a,l){i[i.length]=a?L2(l,wce,"$1"):o||s}),i},Cce=function(e,n){var r=e,i;if(Jh(F2,r)&&(i=F2[r],r="%"+i[0]+"%"),Jh(Ea,r)){var s=Ea[r];if(s===Tl&&(s=pce(r)),typeof s>"u"&&!n)throw new Vl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new uc("intrinsic "+e+" does not exist!")},Tw=function(e,n){if(typeof e!="string"||e.length===0)throw new Vl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Vl('"allowMissing" argument must be a boolean');if(bce(/^%?[^%]*%?$/,e)===null)throw new uc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=_ce(e),i=r.length>0?r[0]:"",s=Cce("%"+i+"%",n),o=s.name,a=s.value,l=!1,c=s.alias;c&&(i=c[0],vce(r,gce([0,1],c)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],h=Xh(f,0,1),m=Xh(f,-1);if((h==='"'||h==="'"||h==="`"||m==='"'||m==="'"||m==="`")&&h!==m)throw new uc("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),i+="."+f,o="%"+i+"%",Jh(Ea,o))a=Ea[o];else if(a!=null){if(!(f in a)){if(!n)throw new Vl("base intrinsic for "+e+" exists, but the property is not available.");return}if(Sa&&u+1>=r.length){var p=Sa(a,f);d=!!p,d&&"get"in p&&!("originalValue"in p.get)?a=p.get:a=a[f]}else d=Jh(a,f),a=a[f];d&&!l&&(Ea[o]=a)}}return a},Q5={exports:{}};(function(t){var e=Ew,n=Tw,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||e.call(i,r),o=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var f=s(e,i,arguments);if(o&&a){var h=o(f,"length");h.configurable&&a(f,"length",{value:1+l(0,d.length-(arguments.length-1))})}return f};var c=function(){return s(e,r,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(Q5);var kce=Q5.exports,J5=Tw,X5=kce,Sce=X5(J5("String.prototype.indexOf")),Ece=function(e,n){var r=J5(e,!!n);return typeof r=="function"&&Sce(e,".prototype.")>-1?X5(r):r};const Tce={},Ace=Object.freeze(Object.defineProperty({__proto__:null,default:Tce},Symbol.toStringTag,{value:"Module"})),xce=bP(Ace);var Aw=typeof Map=="function"&&Map.prototype,tv=Object.getOwnPropertyDescriptor&&Aw?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zh=Aw&&tv&&typeof tv.get=="function"?tv.get:null,$2=Aw&&Map.prototype.forEach,xw=typeof Set=="function"&&Set.prototype,nv=Object.getOwnPropertyDescriptor&&xw?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,em=xw&&nv&&typeof nv.get=="function"?nv.get:null,B2=xw&&Set.prototype.forEach,Pce=typeof WeakMap=="function"&&WeakMap.prototype,Su=Pce?WeakMap.prototype.has:null,Ice=typeof WeakSet=="function"&&WeakSet.prototype,Eu=Ice?WeakSet.prototype.has:null,Oce=typeof WeakRef=="function"&&WeakRef.prototype,V2=Oce?WeakRef.prototype.deref:null,Rce=Boolean.prototype.valueOf,Mce=Object.prototype.toString,Dce=Function.prototype.toString,Nce=String.prototype.match,Pw=String.prototype.slice,yo=String.prototype.replace,Fce=String.prototype.toUpperCase,z2=String.prototype.toLowerCase,Z5=RegExp.prototype.test,U2=Array.prototype.concat,es=Array.prototype.join,Lce=Array.prototype.slice,H2=Math.floor,Yb=typeof BigInt=="function"?BigInt.prototype.valueOf:null,rv=Object.getOwnPropertySymbols,Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,dc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",br=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===dc||"symbol")?Symbol.toStringTag:null,eR=Object.prototype.propertyIsEnumerable,j2=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function W2(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Z5.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-H2(-t):H2(t);if(r!==t){var i=String(r),s=Pw.call(e,i.length+1);return yo.call(i,n,"$&_")+"."+yo.call(yo.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return yo.call(e,n,"$&_")}var Jb=xce,q2=Jb.custom,K2=nR(q2)?q2:null,$ce=function t(e,n,r,i){var s=n||{};if(ho(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ho(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ho(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ho(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ho(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return iR(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?W2(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?W2(e,c):c}var u=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&typeof e=="object")return Xb(e)?"[Array]":"[Object]";var d=nue(s,r);if(typeof i>"u")i=[];else if(rR(i,e)>=0)return"[Circular]";function f(q,L,G){if(L&&(i=Lce.call(i),i.push(L)),G){var N={depth:s.depth};return ho(s,"quoteStyle")&&(N.quoteStyle=s.quoteStyle),t(q,N,r+1,i)}return t(q,s,r+1,i)}if(typeof e=="function"&&!G2(e)){var h=Kce(e),m=Ff(e,f);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(m.length>0?" { "+es.call(m,", ")+" }":"")}if(nR(e)){var p=dc?yo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Qb.call(e);return typeof e=="object"&&!dc?Xc(p):p}if(Zce(e)){for(var y="<"+z2.call(String(e.nodeName)),v=e.attributes||[],b=0;b<v.length;b++)y+=" "+v[b].name+"="+tR(Bce(v[b].value),"double",s);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+z2.call(String(e.nodeName))+">",y}if(Xb(e)){if(e.length===0)return"[]";var T=Ff(e,f);return d&&!tue(T)?"["+Zb(T,d)+"]":"[ "+es.call(T,", ")+" ]"}if(zce(e)){var _=Ff(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!eR.call(e,"cause")?"{ ["+String(e)+"] "+es.call(U2.call("[cause]: "+f(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+es.call(_,", ")+" }"}if(typeof e=="object"&&o){if(K2&&typeof e[K2]=="function"&&Jb)return Jb(e,{depth:u-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Gce(e)){var E=[];return $2&&$2.call(e,function(q,L){E.push(f(L,e,!0)+" => "+f(q,e))}),Y2("Map",Zh.call(e),E,d)}if(Jce(e)){var C=[];return B2&&B2.call(e,function(q){C.push(f(q,e))}),Y2("Set",em.call(e),C,d)}if(Yce(e))return iv("WeakMap");if(Xce(e))return iv("WeakSet");if(Qce(e))return iv("WeakRef");if(Hce(e))return Xc(f(Number(e)));if(Wce(e))return Xc(f(Yb.call(e)));if(jce(e))return Xc(Rce.call(e));if(Uce(e))return Xc(f(String(e)));if(!Vce(e)&&!G2(e)){var k=Ff(e,f),S=j2?j2(e)===Object.prototype:e instanceof Object||e.constructor===Object,O=e instanceof Object?"":"null prototype",D=!S&&br&&Object(e)===e&&br in e?Pw.call(Ho(e),8,-1):O?"Object":"",te=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Q=te+(D||O?"["+es.call(U2.call([],D||[],O||[]),": ")+"] ":"");return k.length===0?Q+"{}":d?Q+"{"+Zb(k,d)+"}":Q+"{ "+es.call(k,", ")+" }"}return String(e)};function tR(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function Bce(t){return yo.call(String(t),/"/g,"&quot;")}function Xb(t){return Ho(t)==="[object Array]"&&(!br||!(typeof t=="object"&&br in t))}function Vce(t){return Ho(t)==="[object Date]"&&(!br||!(typeof t=="object"&&br in t))}function G2(t){return Ho(t)==="[object RegExp]"&&(!br||!(typeof t=="object"&&br in t))}function zce(t){return Ho(t)==="[object Error]"&&(!br||!(typeof t=="object"&&br in t))}function Uce(t){return Ho(t)==="[object String]"&&(!br||!(typeof t=="object"&&br in t))}function Hce(t){return Ho(t)==="[object Number]"&&(!br||!(typeof t=="object"&&br in t))}function jce(t){return Ho(t)==="[object Boolean]"&&(!br||!(typeof t=="object"&&br in t))}function nR(t){if(dc)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Qb)return!1;try{return Qb.call(t),!0}catch{}return!1}function Wce(t){if(!t||typeof t!="object"||!Yb)return!1;try{return Yb.call(t),!0}catch{}return!1}var qce=Object.prototype.hasOwnProperty||function(t){return t in this};function ho(t,e){return qce.call(t,e)}function Ho(t){return Mce.call(t)}function Kce(t){if(t.name)return t.name;var e=Nce.call(Dce.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function rR(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Gce(t){if(!Zh||!t||typeof t!="object")return!1;try{Zh.call(t);try{em.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Yce(t){if(!Su||!t||typeof t!="object")return!1;try{Su.call(t,Su);try{Eu.call(t,Eu)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Qce(t){if(!V2||!t||typeof t!="object")return!1;try{return V2.call(t),!0}catch{}return!1}function Jce(t){if(!em||!t||typeof t!="object")return!1;try{em.call(t);try{Zh.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Xce(t){if(!Eu||!t||typeof t!="object")return!1;try{Eu.call(t,Eu);try{Su.call(t,Su)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Zce(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function iR(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return iR(Pw.call(t,0,e.maxStringLength),e)+r}var i=yo.call(yo.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,eue);return tR(i,"single",e)}function eue(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+Fce.call(e.toString(16))}function Xc(t){return"Object("+t+")"}function iv(t){return t+" { ? }"}function Y2(t,e,n,r){var i=r?Zb(n,r):es.call(n,", ");return t+" ("+e+") {"+i+"}"}function tue(t){for(var e=0;e<t.length;e++)if(rR(t[e],`
`)>=0)return!1;return!0}function nue(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=es.call(Array(t.indent+1)," ");else return null;return{base:n,prev:es.call(Array(e+1),n)}}function Zb(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+es.call(t,","+n)+`
`+e.prev}function Ff(t,e){var n=Xb(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=ho(t,i)?e(t[i],t):""}var s=typeof rv=="function"?rv(t):[],o;if(dc){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)ho(t,l)&&(n&&String(Number(l))===l&&l<t.length||dc&&o["$"+l]instanceof Symbol||(Z5.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof rv=="function")for(var c=0;c<s.length;c++)eR.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}var Iw=Tw,Rc=Ece,rue=$ce,iue=Iw("%TypeError%"),Lf=Iw("%WeakMap%",!0),$f=Iw("%Map%",!0),sue=Rc("WeakMap.prototype.get",!0),oue=Rc("WeakMap.prototype.set",!0),aue=Rc("WeakMap.prototype.has",!0),lue=Rc("Map.prototype.get",!0),cue=Rc("Map.prototype.set",!0),uue=Rc("Map.prototype.has",!0),Ow=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},due=function(t,e){var n=Ow(t,e);return n&&n.value},fue=function(t,e,n){var r=Ow(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},hue=function(t,e){return!!Ow(t,e)},mue=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new iue("Side channel does not contain "+rue(s))},get:function(s){if(Lf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return sue(e,s)}else if($f){if(n)return lue(n,s)}else if(r)return due(r,s)},has:function(s){if(Lf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return aue(e,s)}else if($f){if(n)return uue(n,s)}else if(r)return hue(r,s);return!1},set:function(s,o){Lf&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Lf),oue(e,s,o)):$f?(n||(n=new $f),cue(n,s,o)):(r||(r={key:{},next:null}),fue(r,s,o))}};return i},pue=String.prototype.replace,gue=/%20/g,sv={RFC1738:"RFC1738",RFC3986:"RFC3986"},Rw={default:sv.RFC3986,formatters:{RFC1738:function(t){return pue.call(t,gue,"+")},RFC3986:function(t){return String(t)}},RFC1738:sv.RFC1738,RFC3986:sv.RFC3986},vue=Rw,ov=Object.prototype.hasOwnProperty,sa=Array.isArray,Yi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),bue=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(sa(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},sR=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},yue=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(sa(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!ov.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return sa(e)&&!sa(n)&&(i=sR(e,r)),sa(e)&&sa(n)?(n.forEach(function(s,o){if(ov.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return ov.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},wue=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},_ue=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Cue=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===vue.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Yi[c];continue}if(c<2048){a=a+(Yi[192|c>>6]+Yi[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Yi[224|c>>12]+Yi[128|c>>6&63]+Yi[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Yi[240|c>>18]+Yi[128|c>>12&63]+Yi[128|c>>6&63]+Yi[128|c&63]}return a},kue=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],u=o[c];typeof u=="object"&&u!==null&&r.indexOf(u)===-1&&(n.push({obj:o,prop:c}),r.push(u))}return bue(n),e},Sue=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Eue=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Tue=function(e,n){return[].concat(e,n)},Aue=function(e,n){if(sa(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},oR={arrayToObject:sR,assign:wue,combine:Tue,compact:kue,decode:_ue,encode:Cue,isBuffer:Eue,isRegExp:Sue,maybeMap:Aue,merge:yue},aR=mue,ph=oR,Tu=Rw,xue=Object.prototype.hasOwnProperty,Q2={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Ps=Array.isArray,Pue=Array.prototype.push,lR=function(t,e){Pue.apply(t,Ps(e)?e:[e])},Iue=Date.prototype.toISOString,J2=Tu.default,dr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ph.encode,encodeValuesOnly:!1,format:J2,formatter:Tu.formatters[J2],indices:!1,serializeDate:function(e){return Iue.call(e)},skipNulls:!1,strictNullHandling:!1},Oue=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},av={},Rue=function t(e,n,r,i,s,o,a,l,c,u,d,f,h,m,p,y){for(var v=e,b=y,T=0,_=!1;(b=b.get(av))!==void 0&&!_;){var E=b.get(e);if(T+=1,typeof E<"u"){if(E===T)throw new RangeError("Cyclic object value");_=!0}typeof b.get(av)>"u"&&(T=0)}if(typeof l=="function"?v=l(n,v):v instanceof Date?v=d(v):r==="comma"&&Ps(v)&&(v=ph.maybeMap(v,function(N){return N instanceof Date?d(N):N})),v===null){if(s)return a&&!m?a(n,dr.encoder,p,"key",f):n;v=""}if(Oue(v)||ph.isBuffer(v)){if(a){var C=m?n:a(n,dr.encoder,p,"key",f);return[h(C)+"="+h(a(v,dr.encoder,p,"value",f))]}return[h(n)+"="+h(String(v))]}var k=[];if(typeof v>"u")return k;var S;if(r==="comma"&&Ps(v))m&&a&&(v=ph.maybeMap(v,a)),S=[{value:v.length>0?v.join(",")||null:void 0}];else if(Ps(l))S=l;else{var O=Object.keys(v);S=c?O.sort(c):O}for(var D=i&&Ps(v)&&v.length===1?n+"[]":n,te=0;te<S.length;++te){var Q=S[te],q=typeof Q=="object"&&typeof Q.value<"u"?Q.value:v[Q];if(!(o&&q===null)){var L=Ps(v)?typeof r=="function"?r(D,Q):D:D+(u?"."+Q:"["+Q+"]");y.set(e,T);var G=aR();G.set(av,y),lR(k,t(q,L,r,i,s,o,r==="comma"&&m&&Ps(v)?null:a,l,c,u,d,f,h,m,p,G))}}return k},Mue=function(e){if(!e)return dr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||dr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Tu.default;if(typeof e.format<"u"){if(!xue.call(Tu.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Tu.formatters[r],s=dr.filter;return(typeof e.filter=="function"||Ps(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:dr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?dr.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:dr.charsetSentinel,delimiter:typeof e.delimiter>"u"?dr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:dr.encode,encoder:typeof e.encoder=="function"?e.encoder:dr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:dr.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:dr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:dr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:dr.strictNullHandling}},Due=function(t,e){var n=t,r=Mue(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Ps(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a;e&&e.arrayFormat in Q2?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=Q2[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=aR(),d=0;d<i.length;++d){var f=i[d];r.skipNulls&&n[f]===null||lR(o,Rue(n[f],f,l,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var h=o.join(r.delimiter),m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),h.length>0?m+h:""},fc=oR,e0=Object.prototype.hasOwnProperty,Nue=Array.isArray,Vn={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:fc.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Fue=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},cR=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Lue="utf8=%26%2310003%3B",$ue="utf8=%E2%9C%93",Bue=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,l,c=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===$ue?c="utf-8":o[l]===Lue&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var u=o[l],d=u.indexOf("]="),f=d===-1?u.indexOf("="):d+1,h,m;f===-1?(h=n.decoder(u,Vn.decoder,c,"key"),m=n.strictNullHandling?null:""):(h=n.decoder(u.slice(0,f),Vn.decoder,c,"key"),m=fc.maybeMap(cR(u.slice(f+1),n),function(p){return n.decoder(p,Vn.decoder,c,"value")})),m&&n.interpretNumericEntities&&c==="iso-8859-1"&&(m=Fue(m)),u.indexOf("[]=")>-1&&(m=Nue(m)?[m]:m),e0.call(r,h)?r[h]=fc.combine(r[h],m):r[h]=m}return r},Vue=function(t,e,n,r){for(var i=r?e:cR(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!n.parseArrays&&l===""?o={0:i}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[],o[c]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},zue=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,u=[];if(c){if(!r.plainObjects&&e0.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var d=0;r.depth>0&&(l=a.exec(s))!==null&&d<r.depth;){if(d+=1,!r.plainObjects&&e0.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+s.slice(l.index)+"]"),Vue(u,n,r,i)}},Uue=function(e){if(!e)return Vn;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Vn.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Vn.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Vn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Vn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Vn.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Vn.comma,decoder:typeof e.decoder=="function"?e.decoder:Vn.decoder,delimiter:typeof e.delimiter=="string"||fc.isRegExp(e.delimiter)?e.delimiter:Vn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Vn.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Vn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Vn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Vn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vn.strictNullHandling}},Hue=function(t,e){var n=Uue(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?Bue(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],l=zue(a,r[a],n,typeof t=="string");i=fc.merge(i,l,n)}return n.allowSparse===!0?i:fc.compact(i)},jue=Due,Wue=Hue,que=Rw,X2={formats:que,parse:Wue,stringify:jue},uR={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(t,e){(function(n,r){t.exports=r()})(wn,function(){var n={};n.version="0.2.0";var r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(m){var p,y;for(p in m)y=m[p],y!==void 0&&m.hasOwnProperty(p)&&(r[p]=y);return this},n.status=null,n.set=function(m){var p=n.isStarted();m=i(m,r.minimum,1),n.status=m===1?null:m;var y=n.render(!p),v=y.querySelector(r.barSelector),b=r.speed,T=r.easing;return y.offsetWidth,a(function(_){r.positionUsing===""&&(r.positionUsing=n.getPositioningCSS()),l(v,o(m,b,T)),m===1?(l(y,{transition:"none",opacity:1}),y.offsetWidth,setTimeout(function(){l(y,{transition:"all "+b+"ms linear",opacity:0}),setTimeout(function(){n.remove(),_()},b)},b)):setTimeout(_,b)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var m=function(){setTimeout(function(){n.status&&(n.trickle(),m())},r.trickleSpeed)};return r.trickle&&m(),this},n.done=function(m){return!m&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(m){var p=n.status;return p?(typeof m!="number"&&(m=(1-p)*i(Math.random()*p,.1,.95)),p=i(p+m,0,.994),n.set(p)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},function(){var m=0,p=0;n.promise=function(y){return!y||y.state()==="resolved"?this:(p===0&&n.start(),m++,p++,y.always(function(){p--,p===0?(m=0,n.done()):n.set((m-p)/m)}),this)}}(),n.render=function(m){if(n.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var p=document.createElement("div");p.id="nprogress",p.innerHTML=r.template;var y=p.querySelector(r.barSelector),v=m?"-100":s(n.status||0),b=document.querySelector(r.parent),T;return l(y,{transition:"all 0 linear",transform:"translate3d("+v+"%,0,0)"}),r.showSpinner||(T=p.querySelector(r.spinnerSelector),T&&h(T)),b!=document.body&&u(b,"nprogress-custom-parent"),b.appendChild(p),p},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var m=document.getElementById("nprogress");m&&h(m)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var m=document.body.style,p="WebkitTransform"in m?"Webkit":"MozTransform"in m?"Moz":"msTransform"in m?"ms":"OTransform"in m?"O":"";return p+"Perspective"in m?"translate3d":p+"Transform"in m?"translate":"margin"};function i(m,p,y){return m<p?p:m>y?y:m}function s(m){return(-1+m)*100}function o(m,p,y){var v;return r.positionUsing==="translate3d"?v={transform:"translate3d("+s(m)+"%,0,0)"}:r.positionUsing==="translate"?v={transform:"translate("+s(m)+"%,0)"}:v={"margin-left":s(m)+"%"},v.transition="all "+p+"ms "+y,v}var a=function(){var m=[];function p(){var y=m.shift();y&&y(p)}return function(y){m.push(y),m.length==1&&p()}}(),l=function(){var m=["Webkit","O","Moz","ms"],p={};function y(_){return _.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(E,C){return C.toUpperCase()})}function v(_){var E=document.body.style;if(_ in E)return _;for(var C=m.length,k=_.charAt(0).toUpperCase()+_.slice(1),S;C--;)if(S=m[C]+k,S in E)return S;return _}function b(_){return _=y(_),p[_]||(p[_]=v(_))}function T(_,E,C){E=b(E),_.style[E]=C}return function(_,E){var C=arguments,k,S;if(C.length==2)for(k in E)S=E[k],S!==void 0&&E.hasOwnProperty(k)&&T(_,k,S);else T(_,C[1],C[2])}}();function c(m,p){var y=typeof m=="string"?m:f(m);return y.indexOf(" "+p+" ")>=0}function u(m,p){var y=f(m),v=y+p;c(y,p)||(m.className=v.substring(1))}function d(m,p){var y=f(m),v;c(m,p)&&(v=y.replace(" "+p+" "," "),m.className=v.substring(1,v.length-1))}function f(m){return(" "+(m.className||"")+" ").replace(/\s+/gi," ")}function h(m){m&&m.parentNode&&m.parentNode.removeChild(m)}return n})})(uR);var Kue=uR.exports;const ns=jr(Kue);function dR(t,e){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>t.apply(this,r),e)}}function Qs(t,e){return document.dispatchEvent(new CustomEvent(`inertia:${t}`,e))}var Gue=t=>Qs("before",{cancelable:!0,detail:{visit:t}}),Yue=t=>Qs("error",{detail:{errors:t}}),Que=t=>Qs("exception",{cancelable:!0,detail:{exception:t}}),Z2=t=>Qs("finish",{detail:{visit:t}}),Jue=t=>Qs("invalid",{cancelable:!0,detail:{response:t}}),Zc=t=>Qs("navigate",{detail:{page:t}}),Xue=t=>Qs("progress",{detail:{progress:t}}),Zue=t=>Qs("start",{detail:{visit:t}}),ede=t=>Qs("success",{detail:{page:t}});function t0(t){return t instanceof File||t instanceof Blob||t instanceof FileList&&t.length>0||t instanceof FormData&&Array.from(t.values()).some(e=>t0(e))||typeof t=="object"&&t!==null&&Object.values(t).some(e=>t0(e))}function fR(t,e=new FormData,n=null){t=t||{};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&mR(e,hR(n,r),t[r]);return e}function hR(t,e){return t?t+"["+e+"]":e}function mR(t,e,n){if(Array.isArray(n))return Array.from(n.keys()).forEach(r=>mR(t,hR(e,r.toString()),n[r]));if(n instanceof Date)return t.append(e,n.toISOString());if(n instanceof File)return t.append(e,n,n.name);if(n instanceof Blob)return t.append(e,n);if(typeof n=="boolean")return t.append(e,n?"1":"0");if(typeof n=="string")return t.append(e,n);if(typeof n=="number")return t.append(e,`${n}`);if(n==null)return t.append(e,"");fR(n,t,e)}var tde={modal:null,listener:null,show(t){typeof t=="object"&&(t=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(t)}`);let e=document.createElement("html");e.innerHTML=t,e.querySelectorAll("a").forEach(r=>r.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let n=document.createElement("iframe");if(n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",this.modal.appendChild(n),document.body.prepend(this.modal),document.body.style.overflow="hidden",!n.contentWindow)throw new Error("iframe not yet ready.");n.contentWindow.document.open(),n.contentWindow.document.write(e.outerHTML),n.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(t){t.keyCode===27&&this.hide()}};function gl(t){return new URL(t.toString(),window.location.toString())}function nde(t,e,n,r="brackets"){let i=/^https?:\/\//.test(e.toString()),s=i||e.toString().startsWith("/"),o=!s&&!e.toString().startsWith("#")&&!e.toString().startsWith("?"),a=e.toString().includes("?")||t==="get"&&Object.keys(n).length,l=e.toString().includes("#"),c=new URL(e.toString(),"http://localhost");return t==="get"&&Object.keys(n).length&&(c.search=X2.stringify(Xle(X2.parse(c.search,{ignoreQueryPrefix:!0}),n),{encodeValuesOnly:!0,arrayFormat:r}),n={}),[[i?`${c.protocol}//${c.host}`:"",s?c.pathname:"",o?c.pathname.substring(1):"",a?c.search:"",l?c.hash:""].join(""),n]}function eu(t){return t=new URL(t.href),t.hash="",t}var eE=typeof window>"u",rde=class{constructor(){this.visitId=null}init({initialPage:t,resolveComponent:e,swapComponent:n}){this.page=t,this.resolveComponent=e,this.swapComponent=n,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var t;this.navigationType==="reload"&&((t=window.history.state)!=null&&t.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(t){this.page.url+=window.location.hash,this.setPage(t,{preserveState:!0}).then(()=>Zc(t))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",dR(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(t){typeof t.target.hasAttribute=="function"&&t.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(t=>({top:t.scrollTop,left:t.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(t=>{typeof t.scrollTo=="function"?t.scrollTo(0,0):(t.scrollTop=0,t.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>{var t;return(t=document.getElementById(window.location.hash.slice(1)))==null?void 0:t.scrollIntoView()})}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((t,e)=>{let n=this.page.scrollRegions[e];if(n)typeof t.scrollTo=="function"?t.scrollTo(n.left,n.top):(t.scrollTop=n.top,t.scrollLeft=n.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(t){window.history.state.version=t.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),Zc(t)})}locationVisit(t,e){try{let n={preserveScroll:e};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(n)),window.location.href=t.href,eu(window.location).href===eu(t).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(t){var n,r;let e=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),t.url+=window.location.hash,t.rememberedState=((n=window.history.state)==null?void 0:n.rememberedState)??{},t.scrollRegions=((r=window.history.state)==null?void 0:r.scrollRegions)??[],this.setPage(t,{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&this.restoreScrollPositions(),Zc(t)})}isLocationVisitResponse(t){return!!(t&&t.status===409&&t.headers["x-inertia-location"])}isInertiaResponse(t){return!!(t!=null&&t.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(t,{cancelled:e=!1,interrupted:n=!1}){t&&!t.completed&&!t.cancelled&&!t.interrupted&&(t.cancelToken.abort(),t.onCancel(),t.completed=!1,t.cancelled=e,t.interrupted=n,Z2(t),t.onFinish(t))}finishVisit(t){!t.cancelled&&!t.interrupted&&(t.completed=!0,t.cancelled=!1,t.interrupted=!1,Z2(t),t.onFinish(t))}resolvePreserveOption(t,e){return typeof t=="function"?t(e):t==="errors"?Object.keys(e.props.errors||{}).length>0:t}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(t,{method:e="get",data:n={},replace:r=!1,preserveScroll:i=!1,preserveState:s=!1,only:o=[],headers:a={},errorBag:l="",forceFormData:c=!1,onCancelToken:u=()=>{},onBefore:d=()=>{},onStart:f=()=>{},onProgress:h=()=>{},onFinish:m=()=>{},onCancel:p=()=>{},onSuccess:y=()=>{},onError:v=()=>{},queryStringArrayFormat:b="brackets"}={}){let T=typeof t=="string"?gl(t):t;if((t0(n)||c)&&!(n instanceof FormData)&&(n=fR(n)),!(n instanceof FormData)){let[C,k]=nde(e,T,n,b);T=gl(C),n=k}let _={url:T,method:e,data:n,replace:r,preserveScroll:i,preserveState:s,only:o,headers:a,errorBag:l,forceFormData:c,queryStringArrayFormat:b,cancelled:!1,completed:!1,interrupted:!1};if(d(_)===!1||!Gue(_))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let E=this.createVisitId();this.activeVisit={..._,onCancelToken:u,onBefore:d,onStart:f,onProgress:h,onFinish:m,onCancel:p,onSuccess:y,onError:v,queryStringArrayFormat:b,cancelToken:new AbortController},u({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),Zue(_),f(_),R2({method:e,url:eu(T).href,data:e==="get"?{}:n,params:e==="get"?n:{},signal:this.activeVisit.cancelToken.signal,headers:{...a,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...o.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":o.join(",")}:{},...l&&l.length?{"X-Inertia-Error-Bag":l}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:C=>{n instanceof FormData&&(C.percentage=C.progress?Math.round(C.progress*100):0,Xue(C),h(C))}}).then(C=>{var D;if(!this.isInertiaResponse(C))return Promise.reject({response:C});let k=C.data;o.length&&k.component===this.page.component&&(k.props={...this.page.props,...k.props}),i=this.resolvePreserveOption(i,k),s=this.resolvePreserveOption(s,k),s&&((D=window.history.state)!=null&&D.rememberedState)&&k.component===this.page.component&&(k.rememberedState=window.history.state.rememberedState);let S=T,O=gl(k.url);return S.hash&&!O.hash&&eu(S).href===O.href&&(O.hash=S.hash,k.url=O.href),this.setPage(k,{visitId:E,replace:r,preserveScroll:i,preserveState:s})}).then(()=>{let C=this.page.props.errors||{};if(Object.keys(C).length>0){let k=l?C[l]?C[l]:{}:C;return Yue(k),v(k)}return ede(this.page),y(this.page)}).catch(C=>{if(this.isInertiaResponse(C.response))return this.setPage(C.response.data,{visitId:E});if(this.isLocationVisitResponse(C.response)){let k=gl(C.response.headers["x-inertia-location"]),S=T;S.hash&&!k.hash&&eu(S).href===k.href&&(k.hash=S.hash),this.locationVisit(k,i===!0)}else if(C.response)Jue(C.response)&&tde.show(C.response.data);else return Promise.reject(C)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(C=>{if(!R2.isCancel(C)){let k=Que(C);if(this.activeVisit&&this.finishVisit(this.activeVisit),k)return Promise.reject(C)}})}setPage(t,{visitId:e=this.createVisitId(),replace:n=!1,preserveScroll:r=!1,preserveState:i=!1}={}){return Promise.resolve(this.resolveComponent(t.component)).then(s=>{e===this.visitId&&(t.scrollRegions=t.scrollRegions||[],t.rememberedState=t.rememberedState||{},n=n||gl(t.url).href===window.location.href,n?this.replaceState(t):this.pushState(t),this.swapComponent({component:s,page:t,preserveState:i}).then(()=>{r||this.resetScrollPositions(),n||Zc(t)}))})}pushState(t){this.page=t,window.history.pushState(t,"",t.url)}replaceState(t){this.page=t,window.history.replaceState(t,"",t.url)}handlePopstateEvent(t){if(t.state!==null){let e=t.state,n=this.createVisitId();Promise.resolve(this.resolveComponent(e.component)).then(r=>{n===this.visitId&&(this.page=e,this.swapComponent({component:r,page:e,preserveState:!1}).then(()=>{this.restoreScrollPositions(),Zc(e)}))})}else{let e=gl(this.page.url);e.hash=window.location.hash,this.replaceState({...this.page,url:e.href}),this.resetScrollPositions()}}get(t,e={},n={}){return this.visit(t,{...n,method:"get",data:e})}reload(t={}){return this.visit(window.location.href,{...t,preserveScroll:!0,preserveState:!0})}replace(t,e={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${e.method??"get"}() instead.`),this.visit(t,{preserveState:!0,...e,replace:!0})}post(t,e={},n={}){return this.visit(t,{preserveState:!0,...n,method:"post",data:e})}put(t,e={},n={}){return this.visit(t,{preserveState:!0,...n,method:"put",data:e})}patch(t,e={},n={}){return this.visit(t,{preserveState:!0,...n,method:"patch",data:e})}delete(t,e={}){return this.visit(t,{preserveState:!0,...e,method:"delete"})}remember(t,e="default"){var n;eE||this.replaceState({...this.page,rememberedState:{...(n=this.page)==null?void 0:n.rememberedState,[e]:t}})}restore(t="default"){var e,n;if(!eE)return(n=(e=window.history.state)==null?void 0:e.rememberedState)==null?void 0:n[t]}on(t,e){let n=r=>{let i=e(r);r.cancelable&&!r.defaultPrevented&&i===!1&&r.preventDefault()};return document.addEventListener(`inertia:${t}`,n),()=>document.removeEventListener(`inertia:${t}`,n)}},ide={buildDOMElement(t){let e=document.createElement("template");e.innerHTML=t;let n=e.content.firstChild;if(!t.startsWith("<script "))return n;let r=document.createElement("script");return r.innerHTML=n.innerHTML,n.getAttributeNames().forEach(i=>{r.setAttribute(i,n.getAttribute(i)||"")}),r},isInertiaManagedElement(t){return t.nodeType===Node.ELEMENT_NODE&&t.getAttribute("inertia")!==null},findMatchingElementIndex(t,e){let n=t.getAttribute("inertia");return n!==null?e.findIndex(r=>r.getAttribute("inertia")===n):-1},update:dR(function(t){let e=t.map(n=>this.buildDOMElement(n));Array.from(document.head.childNodes).filter(n=>this.isInertiaManagedElement(n)).forEach(n=>{var s,o;let r=this.findMatchingElementIndex(n,e);if(r===-1){(s=n==null?void 0:n.parentNode)==null||s.removeChild(n);return}let i=e.splice(r,1)[0];i&&!n.isEqualNode(i)&&((o=n==null?void 0:n.parentNode)==null||o.replaceChild(i,n))}),e.forEach(n=>document.head.appendChild(n))},1)};function sde(t,e,n){let r={},i=0;function s(){let u=i+=1;return r[u]=[],u.toString()}function o(u){u===null||Object.keys(r).indexOf(u)===-1||(delete r[u],c())}function a(u,d=[]){u!==null&&Object.keys(r).indexOf(u)>-1&&(r[u]=d),c()}function l(){let u=e(""),d={...u?{title:`<title inertia="">${u}</title>`}:{}},f=Object.values(r).reduce((h,m)=>h.concat(m),[]).reduce((h,m)=>{if(m.indexOf("<")===-1)return h;if(m.indexOf("<title ")===0){let y=m.match(/(<title [^>]+>)(.*?)(<\/title>)/);return h.title=y?`${y[1]}${e(y[2])}${y[3]}`:m,h}let p=m.match(/ inertia="[^"]+"/);return p?h[p[0]]=m:h[Object.keys(h).length]=m,h},d);return Object.values(f)}function c(){t?n(l()):ide.update(l())}return c(),{forceUpdate:c,createProvider:function(){let u=s();return{update:d=>a(u,d),disconnect:()=>o(u)}}}}var pR=null;function ode(t){document.addEventListener("inertia:start",ade.bind(null,t)),document.addEventListener("inertia:progress",lde),document.addEventListener("inertia:finish",cde)}function ade(t){pR=setTimeout(()=>ns.start(),t)}function lde(t){var e;ns.isStarted()&&((e=t.detail.progress)!=null&&e.percentage)&&ns.set(Math.max(ns.status,t.detail.progress.percentage/100*.9))}function cde(t){if(clearTimeout(pR),ns.isStarted())t.detail.visit.completed?ns.done():t.detail.visit.interrupted?ns.set(0):t.detail.visit.cancelled&&(ns.done(),ns.remove());else return}function ude(t){let e=document.createElement("style");e.type="text/css",e.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${t};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${t}, 0 0 5px ${t};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${t};
      border-left-color: ${t};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(e)}function dde({delay:t=250,color:e="#29d",includeCSS:n=!0,showSpinner:r=!1}={}){ode(t),ns.configure({showSpinner:r}),n&&ude(e)}var ss=new rde,tm={exports:{}};tm.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object GeneratorFunction]",f="[object Map]",h="[object Number]",m="[object Object]",p="[object Promise]",y="[object RegExp]",v="[object Set]",b="[object String]",T="[object Symbol]",_="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",D="[object Int16Array]",te="[object Int32Array]",Q="[object Uint8Array]",q="[object Uint8ClampedArray]",L="[object Uint16Array]",G="[object Uint32Array]",N=/[\\^$.*+?()[\]{}|]/g,M=/\w*$/,J=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,Z={};Z[s]=Z[o]=Z[E]=Z[C]=Z[a]=Z[l]=Z[k]=Z[S]=Z[O]=Z[D]=Z[te]=Z[f]=Z[h]=Z[m]=Z[y]=Z[v]=Z[b]=Z[T]=Z[Q]=Z[q]=Z[L]=Z[G]=!0,Z[c]=Z[u]=Z[_]=!1;var pe=typeof wn=="object"&&wn&&wn.Object===Object&&wn,H=typeof self=="object"&&self&&self.Object===Object&&self,U=pe||H||Function("return this")(),he=e&&!e.nodeType&&e,le=he&&!0&&t&&!t.nodeType&&t,xe=le&&le.exports===he;function He(w,A){return w.set(A[0],A[1]),w}function Re(w,A){return w.add(A),w}function $e(w,A){for(var B=-1,me=w?w.length:0;++B<me&&A(w[B],B,w)!==!1;);return w}function Ne(w,A){for(var B=-1,me=A.length,dt=w.length;++B<me;)w[dt+B]=A[B];return w}function Ke(w,A,B,me){var dt=-1,et=w?w.length:0;for(me&&et&&(B=w[++dt]);++dt<et;)B=A(B,w[dt],dt,w);return B}function P(w,A){for(var B=-1,me=Array(w);++B<w;)me[B]=A(B);return me}function F(w,A){return w==null?void 0:w[A]}function ne(w){var A=!1;if(w!=null&&typeof w.toString!="function")try{A=!!(w+"")}catch{}return A}function fe(w){var A=-1,B=Array(w.size);return w.forEach(function(me,dt){B[++A]=[dt,me]}),B}function K(w,A){return function(B){return w(A(B))}}function ge(w){var A=-1,B=Array(w.size);return w.forEach(function(me){B[++A]=me}),B}var ke=Array.prototype,ve=Function.prototype,ce=Object.prototype,ue=U["__core-js_shared__"],W=function(){var w=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),ee=ve.toString,Se=ce.hasOwnProperty,re=ce.toString,Ce=RegExp("^"+ee.call(Se).replace(N,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=xe?U.Buffer:void 0,Ye=U.Symbol,ut=U.Uint8Array,bt=K(Object.getPrototypeOf,Object),se=Object.create,De=ce.propertyIsEnumerable,ye=ke.splice,Me=Object.getOwnPropertySymbols,I=ze?ze.isBuffer:void 0,Te=K(Object.keys,Object),nt=Ti(U,"DataView"),yt=Ti(U,"Map"),jt=Ti(U,"Promise"),ci=Ti(U,"Set"),Tr=Ti(U,"WeakMap"),Yn=Ti(Object,"create"),Y=_r(nt),be=_r(yt),Be=_r(jt),at=_r(ci),mn=_r(Tr),cn=Ye?Ye.prototype:void 0,Ar=cn?cn.valueOf:void 0;function Dn(w){var A=-1,B=w?w.length:0;for(this.clear();++A<B;){var me=w[A];this.set(me[0],me[1])}}function wr(){this.__data__=Yn?Yn(null):{}}function En(w){return this.has(w)&&delete this.__data__[w]}function Ei(w){var A=this.__data__;if(Yn){var B=A[w];return B===r?void 0:B}return Se.call(A,w)?A[w]:void 0}function Vd(w){var A=this.__data__;return Yn?A[w]!==void 0:Se.call(A,w)}function Dc(w,A){var B=this.__data__;return B[w]=Yn&&A===void 0?r:A,this}Dn.prototype.clear=wr,Dn.prototype.delete=En,Dn.prototype.get=Ei,Dn.prototype.has=Vd,Dn.prototype.set=Dc;function Qn(w){var A=-1,B=w?w.length:0;for(this.clear();++A<B;){var me=w[A];this.set(me[0],me[1])}}function gp(){this.__data__=[]}function vp(w){var A=this.__data__,B=nl(A,w);if(B<0)return!1;var me=A.length-1;return B==me?A.pop():ye.call(A,B,1),!0}function bp(w){var A=this.__data__,B=nl(A,w);return B<0?void 0:A[B][1]}function yp(w){return nl(this.__data__,w)>-1}function wp(w,A){var B=this.__data__,me=nl(B,w);return me<0?B.push([w,A]):B[me][1]=A,this}Qn.prototype.clear=gp,Qn.prototype.delete=vp,Qn.prototype.get=bp,Qn.prototype.has=yp,Qn.prototype.set=wp;function ar(w){var A=-1,B=w?w.length:0;for(this.clear();++A<B;){var me=w[A];this.set(me[0],me[1])}}function _p(){this.__data__={hash:new Dn,map:new(yt||Qn),string:new Dn}}function Cp(w){return qo(this,w).delete(w)}function kp(w){return qo(this,w).get(w)}function Sp(w){return qo(this,w).has(w)}function Ep(w,A){return qo(this,w).set(w,A),this}ar.prototype.clear=_p,ar.prototype.delete=Cp,ar.prototype.get=kp,ar.prototype.has=Sp,ar.prototype.set=Ep;function xr(w){this.__data__=new Qn(w)}function Tp(){this.__data__=new Qn}function Ap(w){return this.__data__.delete(w)}function xp(w){return this.__data__.get(w)}function Pp(w){return this.__data__.has(w)}function Ip(w,A){var B=this.__data__;if(B instanceof Qn){var me=B.__data__;if(!yt||me.length<n-1)return me.push([w,A]),this;B=this.__data__=new ar(me)}return B.set(w,A),this}xr.prototype.clear=Tp,xr.prototype.delete=Ap,xr.prototype.get=xp,xr.prototype.has=Pp,xr.prototype.set=Ip;function tl(w,A){var B=$c(w)||il(w)?P(w.length,String):[],me=B.length,dt=!!me;for(var et in w)(A||Se.call(w,et))&&!(dt&&(et=="length"||jp(et,me)))&&B.push(et);return B}function zd(w,A,B){var me=w[A];(!(Se.call(w,A)&&qd(me,B))||B===void 0&&!(A in w))&&(w[A]=B)}function nl(w,A){for(var B=w.length;B--;)if(qd(w[B][0],A))return B;return-1}function Wi(w,A){return w&&Lc(A,Vc(A),w)}function Nc(w,A,B,me,dt,et,Tt){var Mt;if(me&&(Mt=et?me(w,dt,et,Tt):me(w)),Mt!==void 0)return Mt;if(!Ki(w))return w;var Tn=$c(w);if(Tn){if(Mt=Up(w),!A)return Bp(w,Mt)}else{var $t=ys(w),lr=$t==u||$t==d;if(Kd(w))return rl(w,A);if($t==m||$t==s||lr&&!et){if(ne(w))return et?w:{};if(Mt=qi(lr?{}:w),!A)return Vp(w,Wi(Mt,w))}else{if(!Z[$t])return et?w:{};Mt=Hp(w,$t,Nc,A)}}Tt||(Tt=new xr);var Pr=Tt.get(w);if(Pr)return Pr;if(Tt.set(w,Mt),!Tn)var Nn=B?zp(w):Vc(w);return $e(Nn||w,function(cr,Jn){Nn&&(Jn=cr,cr=w[Jn]),zd(Mt,Jn,Nc(cr,A,B,me,Jn,w,Tt))}),Mt}function Op(w){return Ki(w)?se(w):{}}function Rp(w,A,B){var me=A(w);return $c(w)?me:Ne(me,B(w))}function Mp(w){return re.call(w)}function Dp(w){if(!Ki(w)||qp(w))return!1;var A=Bc(w)||ne(w)?Ce:J;return A.test(_r(w))}function Np(w){if(!jd(w))return Te(w);var A=[];for(var B in Object(w))Se.call(w,B)&&B!="constructor"&&A.push(B);return A}function rl(w,A){if(A)return w.slice();var B=new w.constructor(w.length);return w.copy(B),B}function Fc(w){var A=new w.constructor(w.byteLength);return new ut(A).set(new ut(w)),A}function Wo(w,A){var B=A?Fc(w.buffer):w.buffer;return new w.constructor(B,w.byteOffset,w.byteLength)}function Ud(w,A,B){var me=A?B(fe(w),!0):fe(w);return Ke(me,He,new w.constructor)}function Hd(w){var A=new w.constructor(w.source,M.exec(w));return A.lastIndex=w.lastIndex,A}function Fp(w,A,B){var me=A?B(ge(w),!0):ge(w);return Ke(me,Re,new w.constructor)}function Lp(w){return Ar?Object(Ar.call(w)):{}}function $p(w,A){var B=A?Fc(w.buffer):w.buffer;return new w.constructor(B,w.byteOffset,w.length)}function Bp(w,A){var B=-1,me=w.length;for(A||(A=Array(me));++B<me;)A[B]=w[B];return A}function Lc(w,A,B,me){B||(B={});for(var dt=-1,et=A.length;++dt<et;){var Tt=A[dt],Mt=me?me(B[Tt],w[Tt],Tt,B,w):void 0;zd(B,Tt,Mt===void 0?w[Tt]:Mt)}return B}function Vp(w,A){return Lc(w,bs(w),A)}function zp(w){return Rp(w,Vc,bs)}function qo(w,A){var B=w.__data__;return Wp(A)?B[typeof A=="string"?"string":"hash"]:B.map}function Ti(w,A){var B=F(w,A);return Dp(B)?B:void 0}var bs=Me?K(Me,Object):Gp,ys=Mp;(nt&&ys(new nt(new ArrayBuffer(1)))!=C||yt&&ys(new yt)!=f||jt&&ys(jt.resolve())!=p||ci&&ys(new ci)!=v||Tr&&ys(new Tr)!=_)&&(ys=function(w){var A=re.call(w),B=A==m?w.constructor:void 0,me=B?_r(B):void 0;if(me)switch(me){case Y:return C;case be:return f;case Be:return p;case at:return v;case mn:return _}return A});function Up(w){var A=w.length,B=w.constructor(A);return A&&typeof w[0]=="string"&&Se.call(w,"index")&&(B.index=w.index,B.input=w.input),B}function qi(w){return typeof w.constructor=="function"&&!jd(w)?Op(bt(w)):{}}function Hp(w,A,B,me){var dt=w.constructor;switch(A){case E:return Fc(w);case a:case l:return new dt(+w);case C:return Wo(w,me);case k:case S:case O:case D:case te:case Q:case q:case L:case G:return $p(w,me);case f:return Ud(w,me,B);case h:case b:return new dt(w);case y:return Hd(w);case v:return Fp(w,me,B);case T:return Lp(w)}}function jp(w,A){return A=A??i,!!A&&(typeof w=="number"||z.test(w))&&w>-1&&w%1==0&&w<A}function Wp(w){var A=typeof w;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?w!=="__proto__":w===null}function qp(w){return!!W&&W in w}function jd(w){var A=w&&w.constructor,B=typeof A=="function"&&A.prototype||ce;return w===B}function _r(w){if(w!=null){try{return ee.call(w)}catch{}try{return w+""}catch{}}return""}function Wd(w){return Nc(w,!0,!0)}function qd(w,A){return w===A||w!==w&&A!==A}function il(w){return Kp(w)&&Se.call(w,"callee")&&(!De.call(w,"callee")||re.call(w)==s)}var $c=Array.isArray;function sl(w){return w!=null&&Gd(w.length)&&!Bc(w)}function Kp(w){return Yd(w)&&sl(w)}var Kd=I||Yp;function Bc(w){var A=Ki(w)?re.call(w):"";return A==u||A==d}function Gd(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=i}function Ki(w){var A=typeof w;return!!w&&(A=="object"||A=="function")}function Yd(w){return!!w&&typeof w=="object"}function Vc(w){return sl(w)?tl(w):Np(w)}function Gp(){return[]}function Yp(){return!1}t.exports=Wd})(tm,tm.exports);var fde=tm.exports;const Qi=jr(fde);var nm={exports:{}};nm.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Null]",b="[object Object]",T="[object Promise]",_="[object Proxy]",E="[object RegExp]",C="[object Set]",k="[object String]",S="[object Symbol]",O="[object Undefined]",D="[object WeakMap]",te="[object ArrayBuffer]",Q="[object DataView]",q="[object Float32Array]",L="[object Float64Array]",G="[object Int8Array]",N="[object Int16Array]",M="[object Int32Array]",J="[object Uint8Array]",z="[object Uint8ClampedArray]",Z="[object Uint16Array]",pe="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,he=/^(?:0|[1-9]\d*)$/,le={};le[q]=le[L]=le[G]=le[N]=le[M]=le[J]=le[z]=le[Z]=le[pe]=!0,le[a]=le[l]=le[te]=le[u]=le[Q]=le[d]=le[f]=le[h]=le[p]=le[y]=le[b]=le[E]=le[C]=le[k]=le[D]=!1;var xe=typeof wn=="object"&&wn&&wn.Object===Object&&wn,He=typeof self=="object"&&self&&self.Object===Object&&self,Re=xe||He||Function("return this")(),$e=e&&!e.nodeType&&e,Ne=$e&&!0&&t&&!t.nodeType&&t,Ke=Ne&&Ne.exports===$e,P=Ke&&xe.process,F=function(){try{return P&&P.binding&&P.binding("util")}catch{}}(),ne=F&&F.isTypedArray;function fe(w,A){for(var B=-1,me=w==null?0:w.length,dt=0,et=[];++B<me;){var Tt=w[B];A(Tt,B,w)&&(et[dt++]=Tt)}return et}function K(w,A){for(var B=-1,me=A.length,dt=w.length;++B<me;)w[dt+B]=A[B];return w}function ge(w,A){for(var B=-1,me=w==null?0:w.length;++B<me;)if(A(w[B],B,w))return!0;return!1}function ke(w,A){for(var B=-1,me=Array(w);++B<w;)me[B]=A(B);return me}function ve(w){return function(A){return w(A)}}function ce(w,A){return w.has(A)}function ue(w,A){return w==null?void 0:w[A]}function W(w){var A=-1,B=Array(w.size);return w.forEach(function(me,dt){B[++A]=[dt,me]}),B}function ee(w,A){return function(B){return w(A(B))}}function Se(w){var A=-1,B=Array(w.size);return w.forEach(function(me){B[++A]=me}),B}var re=Array.prototype,Ce=Function.prototype,ze=Object.prototype,Ye=Re["__core-js_shared__"],ut=Ce.toString,bt=ze.hasOwnProperty,se=function(){var w=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),De=ze.toString,ye=RegExp("^"+ut.call(bt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=Ke?Re.Buffer:void 0,I=Re.Symbol,Te=Re.Uint8Array,nt=ze.propertyIsEnumerable,yt=re.splice,jt=I?I.toStringTag:void 0,ci=Object.getOwnPropertySymbols,Tr=Me?Me.isBuffer:void 0,Yn=ee(Object.keys,Object),Y=bs(Re,"DataView"),be=bs(Re,"Map"),Be=bs(Re,"Promise"),at=bs(Re,"Set"),mn=bs(Re,"WeakMap"),cn=bs(Object,"create"),Ar=_r(Y),Dn=_r(be),wr=_r(Be),En=_r(at),Ei=_r(mn),Vd=I?I.prototype:void 0,Dc=Vd?Vd.valueOf:void 0;function Qn(w){var A=-1,B=w==null?0:w.length;for(this.clear();++A<B;){var me=w[A];this.set(me[0],me[1])}}function gp(){this.__data__=cn?cn(null):{},this.size=0}function vp(w){var A=this.has(w)&&delete this.__data__[w];return this.size-=A?1:0,A}function bp(w){var A=this.__data__;if(cn){var B=A[w];return B===r?void 0:B}return bt.call(A,w)?A[w]:void 0}function yp(w){var A=this.__data__;return cn?A[w]!==void 0:bt.call(A,w)}function wp(w,A){var B=this.__data__;return this.size+=this.has(w)?0:1,B[w]=cn&&A===void 0?r:A,this}Qn.prototype.clear=gp,Qn.prototype.delete=vp,Qn.prototype.get=bp,Qn.prototype.has=yp,Qn.prototype.set=wp;function ar(w){var A=-1,B=w==null?0:w.length;for(this.clear();++A<B;){var me=w[A];this.set(me[0],me[1])}}function _p(){this.__data__=[],this.size=0}function Cp(w){var A=this.__data__,B=rl(A,w);if(B<0)return!1;var me=A.length-1;return B==me?A.pop():yt.call(A,B,1),--this.size,!0}function kp(w){var A=this.__data__,B=rl(A,w);return B<0?void 0:A[B][1]}function Sp(w){return rl(this.__data__,w)>-1}function Ep(w,A){var B=this.__data__,me=rl(B,w);return me<0?(++this.size,B.push([w,A])):B[me][1]=A,this}ar.prototype.clear=_p,ar.prototype.delete=Cp,ar.prototype.get=kp,ar.prototype.has=Sp,ar.prototype.set=Ep;function xr(w){var A=-1,B=w==null?0:w.length;for(this.clear();++A<B;){var me=w[A];this.set(me[0],me[1])}}function Tp(){this.size=0,this.__data__={hash:new Qn,map:new(be||ar),string:new Qn}}function Ap(w){var A=Ti(this,w).delete(w);return this.size-=A?1:0,A}function xp(w){return Ti(this,w).get(w)}function Pp(w){return Ti(this,w).has(w)}function Ip(w,A){var B=Ti(this,w),me=B.size;return B.set(w,A),this.size+=B.size==me?0:1,this}xr.prototype.clear=Tp,xr.prototype.delete=Ap,xr.prototype.get=xp,xr.prototype.has=Pp,xr.prototype.set=Ip;function tl(w){var A=-1,B=w==null?0:w.length;for(this.__data__=new xr;++A<B;)this.add(w[A])}function zd(w){return this.__data__.set(w,r),this}function nl(w){return this.__data__.has(w)}tl.prototype.add=tl.prototype.push=zd,tl.prototype.has=nl;function Wi(w){var A=this.__data__=new ar(w);this.size=A.size}function Nc(){this.__data__=new ar,this.size=0}function Op(w){var A=this.__data__,B=A.delete(w);return this.size=A.size,B}function Rp(w){return this.__data__.get(w)}function Mp(w){return this.__data__.has(w)}function Dp(w,A){var B=this.__data__;if(B instanceof ar){var me=B.__data__;if(!be||me.length<n-1)return me.push([w,A]),this.size=++B.size,this;B=this.__data__=new xr(me)}return B.set(w,A),this.size=B.size,this}Wi.prototype.clear=Nc,Wi.prototype.delete=Op,Wi.prototype.get=Rp,Wi.prototype.has=Mp,Wi.prototype.set=Dp;function Np(w,A){var B=il(w),me=!B&&qd(w),dt=!B&&!me&&sl(w),et=!B&&!me&&!dt&&Yd(w),Tt=B||me||dt||et,Mt=Tt?ke(w.length,String):[],Tn=Mt.length;for(var $t in w)(A||bt.call(w,$t))&&!(Tt&&($t=="length"||dt&&($t=="offset"||$t=="parent")||et&&($t=="buffer"||$t=="byteLength"||$t=="byteOffset")||Hp($t,Tn)))&&Mt.push($t);return Mt}function rl(w,A){for(var B=w.length;B--;)if(Wd(w[B][0],A))return B;return-1}function Fc(w,A,B){var me=A(w);return il(w)?me:K(me,B(w))}function Wo(w){return w==null?w===void 0?O:v:jt&&jt in Object(w)?ys(w):jd(w)}function Ud(w){return Ki(w)&&Wo(w)==a}function Hd(w,A,B,me,dt){return w===A?!0:w==null||A==null||!Ki(w)&&!Ki(A)?w!==w&&A!==A:Fp(w,A,B,me,Hd,dt)}function Fp(w,A,B,me,dt,et){var Tt=il(w),Mt=il(A),Tn=Tt?l:qi(w),$t=Mt?l:qi(A);Tn=Tn==a?b:Tn,$t=$t==a?b:$t;var lr=Tn==b,Pr=$t==b,Nn=Tn==$t;if(Nn&&sl(w)){if(!sl(A))return!1;Tt=!0,lr=!1}if(Nn&&!lr)return et||(et=new Wi),Tt||Yd(w)?Lc(w,A,B,me,dt,et):Vp(w,A,Tn,B,me,dt,et);if(!(B&i)){var cr=lr&&bt.call(w,"__wrapped__"),Jn=Pr&&bt.call(A,"__wrapped__");if(cr||Jn){var Xs=cr?w.value():w,ws=Jn?A.value():A;return et||(et=new Wi),dt(Xs,ws,B,me,et)}}return Nn?(et||(et=new Wi),zp(w,A,B,me,dt,et)):!1}function Lp(w){if(!Gd(w)||Wp(w))return!1;var A=Kd(w)?ye:U;return A.test(_r(w))}function $p(w){return Ki(w)&&Bc(w.length)&&!!le[Wo(w)]}function Bp(w){if(!qp(w))return Yn(w);var A=[];for(var B in Object(w))bt.call(w,B)&&B!="constructor"&&A.push(B);return A}function Lc(w,A,B,me,dt,et){var Tt=B&i,Mt=w.length,Tn=A.length;if(Mt!=Tn&&!(Tt&&Tn>Mt))return!1;var $t=et.get(w);if($t&&et.get(A))return $t==A;var lr=-1,Pr=!0,Nn=B&s?new tl:void 0;for(et.set(w,A),et.set(A,w);++lr<Mt;){var cr=w[lr],Jn=A[lr];if(me)var Xs=Tt?me(Jn,cr,lr,A,w,et):me(cr,Jn,lr,w,A,et);if(Xs!==void 0){if(Xs)continue;Pr=!1;break}if(Nn){if(!ge(A,function(ws,Ko){if(!ce(Nn,Ko)&&(cr===ws||dt(cr,ws,B,me,et)))return Nn.push(Ko)})){Pr=!1;break}}else if(!(cr===Jn||dt(cr,Jn,B,me,et))){Pr=!1;break}}return et.delete(w),et.delete(A),Pr}function Vp(w,A,B,me,dt,et,Tt){switch(B){case Q:if(w.byteLength!=A.byteLength||w.byteOffset!=A.byteOffset)return!1;w=w.buffer,A=A.buffer;case te:return!(w.byteLength!=A.byteLength||!et(new Te(w),new Te(A)));case u:case d:case y:return Wd(+w,+A);case f:return w.name==A.name&&w.message==A.message;case E:case k:return w==A+"";case p:var Mt=W;case C:var Tn=me&i;if(Mt||(Mt=Se),w.size!=A.size&&!Tn)return!1;var $t=Tt.get(w);if($t)return $t==A;me|=s,Tt.set(w,A);var lr=Lc(Mt(w),Mt(A),me,dt,et,Tt);return Tt.delete(w),lr;case S:if(Dc)return Dc.call(w)==Dc.call(A)}return!1}function zp(w,A,B,me,dt,et){var Tt=B&i,Mt=qo(w),Tn=Mt.length,$t=qo(A),lr=$t.length;if(Tn!=lr&&!Tt)return!1;for(var Pr=Tn;Pr--;){var Nn=Mt[Pr];if(!(Tt?Nn in A:bt.call(A,Nn)))return!1}var cr=et.get(w);if(cr&&et.get(A))return cr==A;var Jn=!0;et.set(w,A),et.set(A,w);for(var Xs=Tt;++Pr<Tn;){Nn=Mt[Pr];var ws=w[Nn],Ko=A[Nn];if(me)var Jw=Tt?me(Ko,ws,Nn,A,w,et):me(ws,Ko,Nn,w,A,et);if(!(Jw===void 0?ws===Ko||dt(ws,Ko,B,me,et):Jw)){Jn=!1;break}Xs||(Xs=Nn=="constructor")}if(Jn&&!Xs){var Qd=w.constructor,Jd=A.constructor;Qd!=Jd&&"constructor"in w&&"constructor"in A&&!(typeof Qd=="function"&&Qd instanceof Qd&&typeof Jd=="function"&&Jd instanceof Jd)&&(Jn=!1)}return et.delete(w),et.delete(A),Jn}function qo(w){return Fc(w,Vc,Up)}function Ti(w,A){var B=w.__data__;return jp(A)?B[typeof A=="string"?"string":"hash"]:B.map}function bs(w,A){var B=ue(w,A);return Lp(B)?B:void 0}function ys(w){var A=bt.call(w,jt),B=w[jt];try{w[jt]=void 0;var me=!0}catch{}var dt=De.call(w);return me&&(A?w[jt]=B:delete w[jt]),dt}var Up=ci?function(w){return w==null?[]:(w=Object(w),fe(ci(w),function(A){return nt.call(w,A)}))}:Gp,qi=Wo;(Y&&qi(new Y(new ArrayBuffer(1)))!=Q||be&&qi(new be)!=p||Be&&qi(Be.resolve())!=T||at&&qi(new at)!=C||mn&&qi(new mn)!=D)&&(qi=function(w){var A=Wo(w),B=A==b?w.constructor:void 0,me=B?_r(B):"";if(me)switch(me){case Ar:return Q;case Dn:return p;case wr:return T;case En:return C;case Ei:return D}return A});function Hp(w,A){return A=A??o,!!A&&(typeof w=="number"||he.test(w))&&w>-1&&w%1==0&&w<A}function jp(w){var A=typeof w;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?w!=="__proto__":w===null}function Wp(w){return!!se&&se in w}function qp(w){var A=w&&w.constructor,B=typeof A=="function"&&A.prototype||ze;return w===B}function jd(w){return De.call(w)}function _r(w){if(w!=null){try{return ut.call(w)}catch{}try{return w+""}catch{}}return""}function Wd(w,A){return w===A||w!==w&&A!==A}var qd=Ud(function(){return arguments}())?Ud:function(w){return Ki(w)&&bt.call(w,"callee")&&!nt.call(w,"callee")},il=Array.isArray;function $c(w){return w!=null&&Bc(w.length)&&!Kd(w)}var sl=Tr||Yp;function Kp(w,A){return Hd(w,A)}function Kd(w){if(!Gd(w))return!1;var A=Wo(w);return A==h||A==m||A==c||A==_}function Bc(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=o}function Gd(w){var A=typeof w;return w!=null&&(A=="object"||A=="function")}function Ki(w){return w!=null&&typeof w=="object"}var Yd=ne?ve(ne):$p;function Vc(w){return $c(w)?Np(w):Bp(w)}function Gp(){return[]}function Yp(){return!1}t.exports=Kp})(nm,nm.exports);var hde=nm.exports;const mde=jr(hde);var pde={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let t=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,e=ss.restore(t),n=this.$options.remember.data.filter(i=>!(this[i]!==null&&typeof this[i]=="object"&&this[i].__rememberable===!1)),r=i=>this[i]!==null&&typeof this[i]=="object"&&typeof this[i].__remember=="function"&&typeof this[i].__restore=="function";n.forEach(i=>{this[i]!==void 0&&e!==void 0&&e[i]!==void 0&&(r(i)?this[i].__restore(e[i]):this[i]=e[i]),this.$watch(i,()=>{ss.remember(n.reduce((s,o)=>({...s,[o]:Qi(r(o)?this[o].__remember():this[o])}),{}),t)},{immediate:!0,deep:!0})})}},gde=pde;function gR(t,e){let n=typeof t=="string"?t:null,r=typeof t=="string"?e:t,i=n?ss.restore(n):null,s=Qi(typeof r=="object"?r:r()),o=null,a=null,l=u=>u,c=zr({...i?i.data:Qi(s),isDirty:!1,errors:i?i.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(s).reduce((u,d)=>(u[d]=this[d],u),{})},transform(u){return l=u,this},defaults(u,d){if(typeof r=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return typeof u>"u"?s=this.data():s=Object.assign({},Qi(s),typeof u=="string"?{[u]:d}:u),this},reset(...u){let d=Qi(typeof r=="object"?s:r()),f=Qi(d);return u.length===0?(s=f,Object.assign(this,d)):Object.keys(d).filter(h=>u.includes(h)).forEach(h=>{s[h]=f[h],this[h]=d[h]}),this},setError(u,d){return Object.assign(this.errors,typeof u=="string"?{[u]:d}:u),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...u){return this.errors=Object.keys(this.errors).reduce((d,f)=>({...d,...u.length>0&&!u.includes(f)?{[f]:this.errors[f]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(u,d,f={}){let h=l(this.data()),m={...f,onCancelToken:p=>{if(o=p,f.onCancelToken)return f.onCancelToken(p)},onBefore:p=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(a),f.onBefore)return f.onBefore(p)},onStart:p=>{if(this.processing=!0,f.onStart)return f.onStart(p)},onProgress:p=>{if(this.progress=p,f.onProgress)return f.onProgress(p)},onSuccess:async p=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,a=setTimeout(()=>this.recentlySuccessful=!1,2e3);let y=f.onSuccess?await f.onSuccess(p):null;return s=Qi(this.data()),this.isDirty=!1,y},onError:p=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(p),f.onError)return f.onError(p)},onCancel:()=>{if(this.processing=!1,this.progress=null,f.onCancel)return f.onCancel()},onFinish:p=>{if(this.processing=!1,this.progress=null,o=null,f.onFinish)return f.onFinish(p)}};u==="delete"?ss.delete(d,{...m,data:h}):ss[u](d,h,m)},get(u,d){this.submit("get",u,d)},post(u,d){this.submit("post",u,d)},put(u,d){this.submit("put",u,d)},patch(u,d){this.submit("patch",u,d)},delete(u,d){this.submit("delete",u,d)},cancel(){o&&o.cancel()},__rememberable:n===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(u){Object.assign(this,u.data),this.setError(u.errors)}});return Le(c,u=>{c.isDirty=!mde(c.data(),s),n&&ss.remember(Qi(u.__remember()),n)},{immediate:!0,deep:!0}),c}var Wr=ie(null),Ii=ie(null),lv=Rs(null),Bf=ie(null),n0=null,vde=Pe({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:t=>t},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:t,initialComponent:e,resolveComponent:n,titleCallback:r,onHeadUpdate:i}){Wr.value=e?Ru(e):null,Ii.value=t,Bf.value=null;let s=typeof window>"u";return n0=sde(s,r,i),s||(ss.init({initialPage:t,resolveComponent:n,swapComponent:async o=>{Wr.value=Ru(o.component),Ii.value=o.page,Bf.value=o.preserveState?Bf.value:Date.now()}}),ss.on("navigate",()=>n0.forceUpdate())),()=>{if(Wr.value){Wr.value.inheritAttrs=!!Wr.value.inheritAttrs;let o=Ze(Wr.value,{...Ii.value.props,key:Bf.value});return lv.value&&(Wr.value.layout=lv.value,lv.value=null),Wr.value.layout?typeof Wr.value.layout=="function"?Wr.value.layout(Ze,o):(Array.isArray(Wr.value.layout)?Wr.value.layout:[Wr.value.layout]).concat(o).reverse().reduce((a,l)=>(l.inheritAttrs=!!l.inheritAttrs,Ze(l,{...Ii.value.props},()=>a))):o}}}}),bde=vde,yde={install(t){ss.form=gR,Object.defineProperty(t.config.globalProperties,"$inertia",{get:()=>ss}),Object.defineProperty(t.config.globalProperties,"$page",{get:()=>Ii.value}),Object.defineProperty(t.config.globalProperties,"$headManager",{get:()=>n0}),t.mixin(gde)}};function vl(){return zr({props:R(()=>{var t;return(t=Ii.value)==null?void 0:t.props}),url:R(()=>{var t;return(t=Ii.value)==null?void 0:t.url}),component:R(()=>{var t;return(t=Ii.value)==null?void 0:t.component}),version:R(()=>{var t;return(t=Ii.value)==null?void 0:t.version}),scrollRegions:R(()=>{var t;return(t=Ii.value)==null?void 0:t.scrollRegions}),rememberedState:R(()=>{var t;return(t=Ii.value)==null?void 0:t.rememberedState})})}async function wde({id:t="app",resolve:e,setup:n,title:r,progress:i={},page:s,render:o}){let a=typeof window>"u",l=a?null:document.getElementById(t),c=s||JSON.parse(l.dataset.page),u=h=>Promise.resolve(e(h)).then(m=>m.default||m),d=[],f=await u(c.component).then(h=>n({el:l,App:bde,props:{initialPage:c,initialComponent:h,resolveComponent:u,titleCallback:r,onHeadUpdate:a?m=>d=m:null},plugin:yde}));if(!a&&i&&dde(i),a){let h=await o(OA({render:()=>Ze("div",{id:t,"data-page":JSON.stringify(c),innerHTML:f?o(f):""})}));return{head:d,body:h}}}class Fd{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const hc=typeof window>"u"||"Deno"in window;function fi(){}function _de(t,e){return typeof t=="function"?t(e):t}function r0(t){return typeof t=="number"&&t>=0&&t!==1/0}function vR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vf(t,e,n){return cp(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function mo(t,e,n){return cp(t)?[{...e,queryKey:t},n]:[t||{},e]}function tE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(cp(o)){if(r){if(e.queryHash!==Mw(o,e.options))return!1}else if(!rm(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function nE(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(cp(s)){if(!e.options.mutationKey)return!1;if(n){if(ca(e.options.mutationKey)!==ca(s))return!1}else if(!rm(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Mw(t,e){return((e==null?void 0:e.queryKeyHashFn)||ca)(t)}function ca(t){return JSON.stringify(t,(e,n)=>s0(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function rm(t,e){return bR(t,e)}function bR(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!bR(t[n],e[n])):!1}function yR(t,e){if(t===e)return t;const n=rE(t)&&rE(e);if(n||s0(t)&&s0(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const c=n?l:i[l];o[c]=yR(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function i0(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function rE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function s0(t){if(!iE(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!iE(n)||!n.hasOwnProperty("isPrototypeOf"))}function iE(t){return Object.prototype.toString.call(t)==="[object Object]"}function cp(t){return Array.isArray(t)}function wR(t){return new Promise(e=>{setTimeout(e,t)})}function sE(t){wR(0).then(t)}function Cde(){if(typeof AbortController=="function")return new AbortController}function o0(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yR(t,e):e}class kde extends Fd{constructor(){super(),this.setup=e=>{if(!hc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const im=new kde,oE=["online","offline"];class Sde extends Fd{constructor(){super(),this.setup=e=>{if(!hc&&window.addEventListener){const n=()=>e();return oE.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{oE.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const sm=new Sde;function Ede(t){return Math.min(1e3*2**t,3e4)}function up(t){return(t??"online")==="online"?sm.isOnline():!0}class _R{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function gh(t){return t instanceof _R}function CR(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((y,v)=>{s=y,o=v}),l=y=>{r||(h(new _R(y)),t.abort==null||t.abort())},c=()=>{e=!0},u=()=>{e=!1},d=()=>!im.isFocused()||t.networkMode!=="always"&&!sm.isOnline(),f=y=>{r||(r=!0,t.onSuccess==null||t.onSuccess(y),i==null||i(),s(y))},h=y=>{r||(r=!0,t.onError==null||t.onError(y),i==null||i(),o(y))},m=()=>new Promise(y=>{i=v=>{const b=r||!d();return b&&y(v),b},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),p=()=>{if(r)return;let y;try{y=t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{var b,T;if(r)return;const _=(b=t.retry)!=null?b:3,E=(T=t.retryDelay)!=null?T:Ede,C=typeof E=="function"?E(n,v):E,k=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!k){h(v);return}n++,t.onFail==null||t.onFail(n,v),wR(C).then(()=>{if(d())return m()}).then(()=>{e?h(v):p()})})};return up(t.networkMode)?p():m().then(p),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}const Dw=console;function Tde(){let t=[],e=0,n=u=>{u()},r=u=>{u()};const i=u=>{let d;e++;try{d=u()}finally{e--,e||a()}return d},s=u=>{e?t.push(u):sE(()=>{n(u)})},o=u=>(...d)=>{s(()=>{u(...d)})},a=()=>{const u=t;t=[],u.length&&sE(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u}}}const hr=Tde();class kR{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r0(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(hc?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Ade extends kR{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Dw,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||xde(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=o0(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(fi).catch(fi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!vR(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const o=Cde(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(u),(r=this.options.behavior)==null||r.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=u.fetchOptions)==null?void 0:i.meta)){var d;this.dispatch({type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta})}const f=h=>{if(gh(h)&&h.silent||this.dispatch({type:"error",error:h}),!gh(h)){var m,p,y,v;(m=(p=this.cache.config).onError)==null||m.call(p,h,this),(y=(v=this.cache.config).onSettled)==null||y.call(v,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=CR({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:h=>{var m,p,y,v;if(typeof h>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(m=(p=this.cache.config).onSuccess)==null||m.call(p,h,this),(y=(v=this.cache.config).onSettled)==null||y.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(h,m)=>{this.dispatch({type:"failed",failureCount:h,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:up(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return gh(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),hr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function xde(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}let SR=class extends Fd{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:Mw(s,n);let a=this.get(o);return a||(a=new Ade({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){hr.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=mo(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>tE(r,i))}findAll(e,n){const[r]=mo(e,n);return Object.keys(r).length>0?this.queries.filter(i=>tE(r,i)):this.queries}notify(e){hr.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){hr.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){hr.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}};class Pde extends kR{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Dw,this.observers=[],this.state=e.state||Ide(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var k;return this.retryer=CR({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(S,O)=>{this.dispatch({type:"failed",failureCount:S,error:O})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(k=this.options.retry)!=null?k:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l,c,u;if(!n){var d,f,h,m;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(f=this.mutationCache.config).onMutate)==null?void 0:d.call(f,this.state.variables,this));const S=await((h=(m=this.options).onMutate)==null?void 0:h.call(m,this.state.variables));S!==this.state.context&&this.dispatch({type:"loading",context:S,variables:this.state.variables})}const k=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,k,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,k,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,k,null,this.state.variables,this.state.context,this)),await((c=(u=this.options).onSettled)==null?void 0:c.call(u,k,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:k}),k}catch(k){try{var p,y,v,b,T,_,E,C;throw await((p=(y=this.mutationCache.config).onError)==null?void 0:p.call(y,k,this.state.variables,this.state.context,this)),await((v=(b=this.options).onError)==null?void 0:v.call(b,k,this.state.variables,this.state.context)),await((T=(_=this.mutationCache.config).onSettled)==null?void 0:T.call(_,void 0,k,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,k,this.state.variables,this.state.context)),k}finally{this.dispatch({type:"error",error:k})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!up(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),hr.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Ide(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}let ER=class extends Fd{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new Pde({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){hr.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>nE(e,n))}findAll(e){return this.mutations.filter(n=>nE(e,n))}notify(e){hr.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return hr.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(fi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}};function Ode(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,c=l==null?void 0:l.pageParam,u=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",f=((s=t.state.data)==null?void 0:s.pages)||[],h=((o=t.state.data)==null?void 0:o.pageParams)||[];let m=h,p=!1;const y=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>{var k;if((k=t.signal)!=null&&k.aborted)p=!0;else{var S;(S=t.signal)==null||S.addEventListener("abort",()=>{p=!0})}return t.signal}})},v=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),b=(C,k,S,O)=>(m=O?[k,...m]:[...m,k],O?[S,...C]:[...C,S]),T=(C,k,S,O)=>{if(p)return Promise.reject("Cancelled");if(typeof S>"u"&&!k&&C.length)return Promise.resolve(C);const D={queryKey:t.queryKey,pageParam:S,meta:t.options.meta};y(D);const te=v(D);return Promise.resolve(te).then(q=>b(C,S,q,O))};let _;if(!f.length)_=T([]);else if(u){const C=typeof c<"u",k=C?c:aE(t.options,f);_=T(f,C,k)}else if(d){const C=typeof c<"u",k=C?c:Rde(t.options,f);_=T(f,C,k,!0)}else{m=[];const C=typeof t.options.getNextPageParam>"u";_=(a&&f[0]?a(f[0],0,f):!0)?T([],C,h[0]):Promise.resolve(b([],h[0],f[0]));for(let S=1;S<f.length;S++)_=_.then(O=>{if(a&&f[S]?a(f[S],S,f):!0){const te=C?h[S]:aE(t.options,O);return T(O,C,te)}return Promise.resolve(b(O,h[S],f[S]))})}return _.then(C=>({pages:C,pageParams:m}))}}}}function aE(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Rde(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}let Mde=class{constructor(e={}){this.queryCache=e.queryCache||new SR,this.mutationCache=e.mutationCache||new ER,this.logger=e.logger||Dw,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=im.subscribe(()=>{im.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=sm.subscribe(()=>{sm.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=mo(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Vf(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=_de(n,s);if(typeof o>"u")return;const a=Vf(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return hr.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=mo(e,n),i=this.queryCache;hr.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=mo(e,n,r),o=this.queryCache,a={type:"active",...i};return hr.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=mo(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=hr.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(fi).catch(fi)}invalidateQueries(e,n,r){const[i,s]=mo(e,n,r);return hr.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(c=>{c.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=mo(e,n,r),o=hr.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...s,cancelRefetch:(c=s==null?void 0:s.cancelRefetch)!=null?c:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(fi);return s!=null&&s.throwOnError||(a=a.catch(fi)),a}fetchQuery(e,n,r){const i=Vf(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(fi).catch(fi)}fetchInfiniteQuery(e,n,r){const i=Vf(e,n,r);return i.behavior=Ode(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(fi).catch(fi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>ca(e)===ca(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>rm(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>ca(e)===ca(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>rm(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Mw(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}};class Dde extends Fd{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),lE(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return a0(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return a0(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),i0(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&cE(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return Fde(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(fi)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),hc||this.currentResult.isStale||!r0(this.options.staleTime))return;const n=vR(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(hc||this.options.enabled===!1||!r0(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||im.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,c=l?e.state:this.currentQueryInitialState,u=l?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:f,error:h,errorUpdatedAt:m,fetchStatus:p,status:y}=d,v=!1,b=!1,T;if(n._optimisticResults){const S=this.hasListeners(),O=!S&&lE(e,n),D=S&&cE(e,r,n,i);(O||D)&&(p=up(e.options.networkMode)?"fetching":"paused",f||(y="loading")),n._optimisticResults==="isRestoring"&&(p="idle")}if(n.keepPreviousData&&!d.dataUpdatedAt&&u!=null&&u.isSuccess&&y!=="error")T=u.data,f=u.dataUpdatedAt,y=u.status,v=!0;else if(n.select&&typeof d.data<"u")if(s&&d.data===(o==null?void 0:o.data)&&n.select===this.selectFn)T=this.selectResult;else try{this.selectFn=n.select,T=n.select(d.data),T=o0(s==null?void 0:s.data,T,n),this.selectResult=T,this.selectError=null}catch(S){this.selectError=S}else T=d.data;if(typeof n.placeholderData<"u"&&typeof T>"u"&&y==="loading"){let S;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))S=s.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof S<"u")try{S=n.select(S),this.selectError=null}catch(O){this.selectError=O}typeof S<"u"&&(y="success",T=o0(s==null?void 0:s.data,S,n),b=!0)}this.selectError&&(h=this.selectError,T=this.selectResult,m=Date.now(),y="error");const _=p==="fetching",E=y==="loading",C=y==="error";return{status:y,fetchStatus:p,isLoading:E,isSuccess:y==="success",isError:C,isInitialLoading:E&&_,data:T,dataUpdatedAt:f,error:h,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:C&&d.dataUpdatedAt===0,isPaused:p==="paused",isPlaceholderData:b,isPreviousData:v,isRefetchError:C&&d.dataUpdatedAt!==0,isStale:Nw(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,i0(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const l=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(c=>{const u=c;return this.currentResult[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!gh(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){hr.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,c;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Nde(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function lE(t,e){return Nde(t,e)||t.state.dataUpdatedAt>0&&a0(t,e,e.refetchOnMount)}function a0(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Nw(t,e)}return!1}function cE(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Nw(t,n)}function Nw(t,e){return t.isStaleByTime(e.staleTime)}function Fde(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!i0(t.getCurrentResult(),e)}const Lde="VUE_QUERY_CLIENT";function TR(t){const e=t?":"+t:"";return""+Lde+e}function di(t){return Array.isArray(t)}function uE(t,e){Object.keys(t).forEach(n=>{t[n]=e[n]})}function l0(t,e){if(e){const n=e(t);if(n!==void 0||Gt(t))return n}if(Array.isArray(t))return t.map(n=>l0(n,e));if(typeof t=="object"&&$de(t)){const n=Object.entries(t).map(([r,i])=>[r,l0(i,e)]);return Object.fromEntries(n)}return t}function rt(t){return l0(t,e=>{if(Gt(e))return rt(g(e))})}function $de(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Bde(t,e){return typeof t=="function"?t(...e):!!t}function Vde(t=""){const e=TR(t),n=ct(e,null);if(!n){var r;throw((r=Lt())==null?void 0:r.proxy)?new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library."):new Error("vue-query hooks can only be used inside setup() function.")}return n}class zde extends SR{find(e,n){const r=rt(e),i=rt(n);return super.find(r,i)}findAll(e,n){const r=rt(e),i=rt(n);return di(r)?super.findAll(r,i):super.findAll(r)}}class Ude extends ER{find(e){return super.find(rt(e))}findAll(e){return super.findAll(rt(e))}}class dE extends Mde{constructor(e={}){const n=rt(e),r={logger:rt(n.logger),defaultOptions:rt(n.defaultOptions),queryCache:n.queryCache||new zde,mutationCache:n.mutationCache||new Ude};super(r),this.isRestoring=ie(!1)}isFetching(e,n){const r=rt(e),i=rt(n);return di(r)?super.isFetching(r,i):super.isFetching(r)}isMutating(e){return super.isMutating(rt(e))}getQueryData(e,n){return super.getQueryData(rt(e),rt(n))}getQueriesData(e){const n=rt(e);return di(n)?super.getQueriesData(n):super.getQueriesData(n)}setQueryData(e,n,r){return super.setQueryData(rt(e),n,rt(r))}setQueriesData(e,n,r){const i=rt(e),s=rt(r);return di(i)?super.setQueriesData(i,n,s):super.setQueriesData(i,n,s)}getQueryState(e,n){return super.getQueryState(rt(e),rt(n))}removeQueries(e,n){const r=rt(e);return di(r)?super.removeQueries(r,rt(n)):super.removeQueries(r)}resetQueries(e,n,r){const i=rt(e),s=rt(n);return di(i)?super.resetQueries(i,s,rt(r)):super.resetQueries(i,s)}cancelQueries(e,n,r){const i=rt(e),s=rt(n);return di(i)?super.cancelQueries(i,s,rt(r)):super.cancelQueries(i,s)}invalidateQueries(e,n,r){const i=rt(e),s=rt(n);return di(i)?super.invalidateQueries(i,s,rt(r)):super.invalidateQueries(i,s)}refetchQueries(e,n,r){const i=rt(e),s=rt(n);return di(i)?super.refetchQueries(i,s,rt(r)):super.refetchQueries(i,s)}fetchQuery(e,n,r){const i=rt(e),s=rt(n);return di(i)?super.fetchQuery(i,s,rt(r)):super.fetchQuery(i)}prefetchQuery(e,n,r){return super.prefetchQuery(rt(e),rt(n),rt(r))}fetchInfiniteQuery(e,n,r){const i=rt(e),s=rt(n);return di(i)?super.fetchInfiniteQuery(i,s,rt(r)):super.fetchInfiniteQuery(i)}prefetchInfiniteQuery(e,n,r){return super.prefetchInfiniteQuery(rt(e),rt(n),rt(r))}setDefaultOptions(e){super.setDefaultOptions(rt(e))}setQueryDefaults(e,n){super.setQueryDefaults(rt(e),rt(n))}getQueryDefaults(e){return super.getQueryDefaults(rt(e))}setMutationDefaults(e,n){super.setMutationDefaults(rt(e),rt(n))}getMutationDefaults(e){return super.getMutationDefaults(rt(e))}}const Hde={install:(t,e={})=>{const n=TR(e.queryClientKey);let r;if("queryClient"in e&&e.queryClient)r=e.queryClient;else if(e.contextSharing&&typeof window<"u")if(window.__VUE_QUERY_CONTEXT__)r=window.__VUE_QUERY_CONTEXT__;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;r=new dE(o),window.__VUE_QUERY_CONTEXT__=r}else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;r=new dE(o)}hc||r.mount();let i=()=>{};if(e.clientPersister){r.isRestoring.value=!0;const[o,a]=e.clientPersister(r);i=o,a.then(()=>{r.isRestoring.value=!1,e.clientPersisterOnSuccess==null||e.clientPersisterOnSuccess(r)})}const s=()=>{r.unmount(),i()};if(t.onUnmount)t.onUnmount(s);else{const o=t.unmount;t.unmount=function(){s(),o()}}t.provide(n,r)}};function jde(t,e,n={},r={}){var i;const s=R(()=>Wde(e,n,r)),o=(i=s.value.queryClient)!=null?i:Vde(s.value.queryClientKey),a=R(()=>{const f=o.defaultQueryOptions(s.value);return f._optimisticResults=o.isRestoring.value?"isRestoring":"optimistic",f}),l=new t(o,a.value),c=zr(l.getCurrentResult());let u=()=>{};Le(o.isRestoring,f=>{f||(u(),u=l.subscribe(h=>{uE(c,h)}))},{immediate:!0}),Le(a,()=>{l.setOptions(a.value),uE(c,l.getCurrentResult())},{flush:"sync"}),x0(()=>{u()});const d=()=>new Promise((f,h)=>{let m=()=>{};const p=()=>{if(a.value.enabled!==!1){const y=l.getOptimisticResult(a.value);y.isStale?(m(),l.fetchOptimistic(a.value).then(f,h)):(m(),f(y))}};p(),m=Le(a,p,{deep:!0})});return Le(()=>c.error,f=>{if(c.isError&&!c.isFetching&&Bde(a.value.useErrorBoundary,[f,l.getCurrentQuery()]))throw f}),{...Cc(yd(c)),suspense:d}}function Wde(t,e={},n={}){const r=g(t),i=g(e),s=g(n);let o=r;return di(r)?typeof i=="function"?o={...s,queryKey:r,queryFn:i}:o={...i,queryKey:r}:o=r,rt(o)}function zf(t,e,n){const r=jde(Dde,t,e,n);return{...r,refetch:r.refetch.value,remove:r.remove.value}}const fE=t=>{typeof t=="function"&&t()},hE=(t,e,n=!0)=>{if(!n){fE(t);return}const r=5,i=qde(e)+r;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener("transitionend",o),fE(t))};e.addEventListener("transitionend",o),setTimeout(()=>{s||Kde(e)},i)},qde=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return!r&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*1e3)},Kde=t=>{t.dispatchEvent(new Event("transitionend"))},c0=Pe({name:"CCloseButton",props:{disabled:Boolean,white:Boolean},emits:["click"],setup(t,{emit:e}){const n=()=>{t.disabled||e("click")};return()=>Ze("button",{type:"button",class:["btn","btn-close",{"btn-close-white":t.white},t.disabled],"aria-label":"Close",disabled:t.disabled,onClick:n})}}),mc={type:String,validator:t=>["primary","secondary","success","danger","warning","info","dark","light","link","transparent"].includes(t)},Gde={type:String,validator:t=>["primary","secondary","success","danger","warning","info","dark","light","white","muted","high-emphasis","medium-emphasis","disabled","high-emphasis-inverse","medium-emphasis-inverse","disabled-inverse"].includes(t)},Yde=Pe({name:"CBackdrop",props:{visible:{type:Boolean,default:!1}},setup(t){return()=>Ze(vi,{onEnter:e=>{e.classList.add("show")},onLeave:e=>{e.classList.remove("show")}},()=>t.visible&&Ze("div",{class:"fade"}))}}),AR=Pe({name:"CCard",props:{color:mc,textColor:Gde},setup(t,{slots:e}){return()=>Ze("div",{class:["card",{[`bg-${t.color}`]:t.color,[`text-${t.textColor}`]:t.textColor}]},e.default&&e.default())}}),xR=Pe({name:"CCardBody",setup(t,{slots:e}){return()=>Ze("div",{class:"card-body"},e.default&&e.default())}}),Qde=Pe({name:"CLink",props:{active:Boolean,component:{type:String,default:"a"},disabled:Boolean,href:String},emits:["click"],setup(t,{slots:e,emit:n}){const r=()=>{n("click",t.href)};return()=>Ze(t.component,{class:[{active:t.active,disabled:t.disabled}],...t.active&&{"aria-current":"page"},...t.component==="a"&&t.disabled&&{"aria-disabled":!0,tabIndex:-1},...(t.component==="a"||t.component==="button")&&{onClick:r},href:t.href},e.default&&e.default())}}),cv=Pe({name:"CFormFeedback",props:{component:{type:String,default:"div"},invalid:Boolean,tooltip:Boolean,valid:Boolean},setup(t,{slots:e}){return()=>Ze(t.component,{class:[{[`invalid-${t.tooltip?"tooltip":"feedback"}`]:t.invalid,[`valid-${t.tooltip?"tooltip":"feedback"}`]:t.valid}]},e.default&&e.default())}}),mE=Pe({name:"CFormControlValidation",inheritAttrs:!1,props:{describedby:String,feedback:String,feedbackInvalid:String,feedbackValid:String,invalid:Boolean,tooltipFeedback:Boolean,valid:Boolean},setup(t,{slots:e}){return()=>[t.feedback&&(t.valid||t.invalid)&&Ze(cv,{...t.invalid&&{id:t.describedby},invalid:t.invalid,tooltip:t.tooltipFeedback,valid:t.valid},{default:()=>e.feedback&&e.feedback()||t.feedback}),(t.feedbackInvalid||e.feedbackInvalid)&&Ze(cv,{id:t.describedby,invalid:!0,tooltip:t.tooltipFeedback},{default:()=>e.feedbackInvalid&&e.feedbackInvalid()||t.feedbackInvalid}),(t.feedbackValid||e.feedbackValid)&&Ze(cv,{tooltip:t.tooltipFeedback,valid:!0},{default:()=>e.feedbackValid&&e.feedbackValid()||t.feedbackValid})]}}),pE=Pe({name:"CFormLabel",props:{customClassName:[Array,String]},setup(t,{slots:e}){return()=>Ze("label",{class:t.customClassName??"form-label"},e.default&&e.default())}}),Jde=Pe({name:"CFormFloating",setup(t,{slots:e}){return()=>Ze("div",{class:"form-floating"},e.default&&e.default())}}),gE=Pe({name:"CFormText",props:{component:{type:String,default:"div"}},setup(t,{slots:e}){return()=>Ze(t.component,{class:"form-text"},e.default&&e.default())}});Pe({name:"CFormControlWrapper",inheritAttrs:!1,props:{...mE.props,floatingLabel:String,id:String,label:String,text:String},setup(t,{slots:e}){const n=()=>Ze(mE,{describedby:t.describedby,feedback:t.feedback,feedbackInvalid:t.feedbackInvalid,feedbackValid:t.feedbackValid,floatingLabel:t.floatingLabel,invalid:t.invalid,tooltipFeedback:t.tooltipFeedback,valid:t.valid},{...e.feedback&&{feedback:()=>e.feedback&&e.feedback()},...e.feedbackInvalid&&{feedbackInvalid:()=>e.feedbackInvalid&&e.feedbackInvalid()},...e.feedbackValid&&{feedbackValid:()=>e.feedbackInvalid&&e.feedbackInvalid()}});return()=>t.floatingLabel?Ze(Jde,()=>[e.default&&e.default(),Ze(pE,{for:t.id},{default:()=>e.label&&e.label()||t.label||t.floatingLabel}),(t.text||e.text)&&Ze(gE,{id:t.describedby},{default:()=>e.text&&e.text()||t.text}),n()]):[(t.label||e.label)&&Ze(pE,{for:t.id},{default:()=>e.label&&e.label()||t.label}),e.default&&e.default(),(t.text||e.text)&&Ze(gE,{id:t.describedby},{default:()=>e.text&&e.text()||t.text}),n()]}});const Xde=Pe({name:"CModal",inheritAttrs:!1,props:{alignment:{default:"top",validator:t=>["top","center"].includes(t)},backdrop:{type:[Boolean,String],default:!0,validator:t=>typeof t=="string"?["static"].includes(t):typeof t=="boolean"},contentClassName:String,fullscreen:{type:[Boolean,String],validator:t=>typeof t=="string"?["sm","md","lg","xl","xxl"].includes(t):typeof t=="boolean"},keyboard:{type:Boolean,default:!0},scrollable:Boolean,size:{type:String,validator:t=>["sm","lg","xl"].includes(t)},transition:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},visible:Boolean},emits:["close","close-prevented","show"],setup(t,{slots:e,attrs:n,emit:r}){const i=ie(),s=ie(),o=ie(t.visible);Le(()=>t.visible,()=>{o.value=t.visible});const a=(y,v)=>{hE(()=>v(),y),document.body.classList.add("modal-open"),document.body.style.overflow="hidden",document.body.style.paddingRight="0px",y.style.display="block",setTimeout(()=>{y.classList.add("show")},1),r("show")},l=()=>{window.addEventListener("mousedown",h),window.addEventListener("keyup",f)},c=(y,v)=>{hE(()=>v(),y),document.body.classList.remove("modal-open"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"),document.body.className===""&&document.body.removeAttribute("class"),y.classList.remove("show")},u=y=>{window.removeEventListener("mousedown",h),window.removeEventListener("keyup",f),y.style.display="none"},d=()=>{r("close"),o.value=!1},f=y=>{s.value&&!s.value.contains(y.target)&&(t.backdrop!=="static"&&y.key==="Escape"&&t.keyboard&&d(),t.backdrop==="static"&&(i.value.classList.add("modal-static"),r("close-prevented"),setTimeout(()=>{i.value.classList.remove("modal-static")},300)))},h=y=>{window.addEventListener("mouseup",()=>m(y),{once:!0})},m=y=>{s.value&&!s.value.contains(y.target)&&(t.backdrop!=="static"&&d(),t.backdrop==="static"&&(i.value.classList.add("modal-static"),setTimeout(()=>{i.value.classList.remove("modal-static")},300)))};Rn("handleDismiss",d);const p=()=>Ze("div",{class:["modal",{fade:t.transition},n.class],ref:i},Ze("div",{class:["modal-dialog",{"modal-dialog-centered":t.alignment==="center",[`modal-fullscreen-${t.fullscreen}-down`]:t.fullscreen&&typeof t.fullscreen=="string","modal-fullscreen":t.fullscreen&&typeof t.fullscreen=="boolean","modal-dialog-scrollable":t.scrollable,[`modal-${t.size}`]:t.size}],role:"dialog"},Ze("div",{class:["modal-content",t.contentClassName],ref:s},e.default&&e.default())));return()=>[Ze(vi,{css:!1,onEnter:(y,v)=>a(y,v),onAfterEnter:()=>l(),onLeave:(y,v)=>c(y,v),onAfterLeave:y=>u(y)},()=>t.unmountOnClose?o.value&&p():Wt(p(),[[fr,o.value]])),t.backdrop&&Ze(Yde,{class:"modal-backdrop",visible:o.value})]}}),Zde=Pe({name:"CModalBody",setup(t,{slots:e}){return()=>Ze("div",{class:"modal-body"},e.default&&e.default())}}),efe=Pe({name:"CModalHeader",props:{closeButton:{type:Boolean,default:!0}},setup(t,{slots:e}){const n=ct("handleDismiss");return()=>Ze("span",{class:"modal-header"},[e.default&&e.default(),t.closeButton&&Ze(c0,{onClick:()=>n()},"")])}}),tfe=Pe({name:"CModalTitle",props:{component:{type:String,default:"h5"}},setup(t,{slots:e}){return()=>Ze(t.component,{class:"modal-title"},e.default&&e.default())}}),vE=Pe({name:"CNavLink",props:{active:Boolean,component:{type:String,default:"a"},disabled:Boolean,href:String},setup(t,{slots:e}){return()=>Ze(Qde,{class:"nav-link",active:t.active,component:t.component,disabled:t.disabled,href:t.href},{default:()=>e.default&&e.default()})}});Pe({name:"CNavItem",props:{...vE.props},setup(t,{slots:e}){return()=>Ze("li",{class:"nav-item"},t.href?Ze(vE,{active:t.active,component:t.component,disabled:t.disabled,href:t.href},{default:()=>e.default&&e.default()}):e.default&&e.default())}});const bE=Pe({name:"CProgressBar",props:{animated:Boolean,color:mc,value:{type:Number,default:0},variant:{type:String,validator:t=>t==="striped"}},setup(t,{slots:e}){return()=>Ze("div",{class:["progress-bar",`bg-${t.color}`,{[`progress-bar-${t.variant}`]:t.variant,"progress-bar-animated":t.animated}],role:"progressbar",style:`width: ${t.value}%`,"aria-valuenow":t.value,"aria-valuemin":"0","aria-valuemax":"100"},e.default&&e.default())}}),PR=Pe({name:"CProgress",props:{height:Number,thin:Boolean,white:Boolean,...bE.props},setup(t,{slots:e}){return()=>Ze("div",{class:["progress",{"progress-thin":t.thin,"progress-white":t.white}],...(t.height,{style:`height: ${t.height}px`})},t.value?Ze(bE,{value:t.value,animated:t.animated,color:t.color,variant:t.variant},e.default&&e.default()):e.default&&e.default())}});Pe({name:"CToastClose",props:{component:String,...c0.props},emits:["close"],setup(t,{slots:e,emit:n}){const r=ct("updateVisible"),i=()=>{n("close"),r(!1)};return()=>t.component?Ze(t.component,{onClick:()=>{i()}},()=>e.default&&e.default()):Ze(c0,{...t,onClick:()=>{i()}})}});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function yE(t){return Object.prototype.toString.call(t)==="[object Object]"}function nfe(t){var e,n;return yE(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(yE(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}function IR(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}const rfe={silent:!1,logLevel:"warn"},ife=["validator"],OR=Object.prototype,RR=OR.toString,sfe=OR.hasOwnProperty,MR=/^\s*function (\w+)/;function wE(t){var e;const n=(e=t==null?void 0:t.type)!==null&&e!==void 0?e:t;if(n){const r=n.toString().match(MR);return r?r[1]:""}return""}const La=nfe,ofe=t=>t;let Pn=ofe;const pc=(t,e)=>sfe.call(t,e),afe=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},gc=Array.isArray||function(t){return RR.call(t)==="[object Array]"},vc=t=>RR.call(t)==="[object Function]",om=(t,e)=>La(t)&&pc(t,"_vueTypes_name")&&(!e||t._vueTypes_name===e),DR=t=>La(t)&&(pc(t,"type")||["_vueTypes_name","validator","default","required"].some(e=>pc(t,e)));function Fw(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function el(t,e,n=!1){let r,i=!0,s="";r=La(t)?t:{type:t};const o=om(r)?r._vueTypes_name+" - ":"";if(DR(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&e==null)return i;gc(r.type)?(i=r.type.some(a=>el(a,e,!0)===!0),s=r.type.map(a=>wE(a)).join(" or ")):(s=wE(r),i=s==="Array"?gc(e):s==="Object"?La(e):s==="String"||s==="Number"||s==="Boolean"||s==="Function"?function(a){if(a==null)return"";const l=a.constructor.toString().match(MR);return l?l[1].replace(/^Async/,""):""}(e)===s:e instanceof r.type)}if(!i){const a=`${o}value "${e}" should be of type "${s}"`;return n===!1?(Pn(a),!1):a}if(pc(r,"validator")&&vc(r.validator)){const a=Pn,l=[];if(Pn=c=>{l.push(c)},i=r.validator(e),Pn=a,!i){const c=(l.length>1?"* ":"")+l.join(`
* `);return l.length=0,n===!1?(Pn(c),i):c}}return i}function ni(t,e){const n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(i){return i===void 0?this.type===Boolean||Array.isArray(this.type)&&this.type.includes(Boolean)?void(this.default=void 0):(pc(this,"default")&&delete this.default,this):vc(i)||el(this,i,!0)===!0?(this.default=gc(i)?()=>[...i]:La(i)?()=>Object.assign({},i):i,this):(Pn(`${this._vueTypes_name} - invalid default value: "${i}"`),this)}}}),{validator:r}=n;return vc(r)&&(n.validator=Fw(r,n)),n}function us(t,e){const n=ni(t,e);return Object.defineProperty(n,"validate",{value(r){return vc(this.validator)&&Pn(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=Fw(r,this),this}})}function _E(t,e,n){const r=function(l){const c={};return Object.getOwnPropertyNames(l).forEach(u=>{c[u]=Object.getOwnPropertyDescriptor(l,u)}),Object.defineProperties({},c)}(e);if(r._vueTypes_name=t,!La(n))return r;const{validator:i}=n,s=IR(n,ife);if(vc(i)){let{validator:l}=r;l&&(l=(a=(o=l).__original)!==null&&a!==void 0?a:o),r.validator=Fw(l?function(c){return l.call(this,c)&&i.call(this,c)}:i,r)}var o,a;return Object.assign(r,s)}function dp(t){return t.replace(/^(?!\s*$)/gm,"  ")}const lfe=()=>us("any",{}),cfe=()=>us("function",{type:Function}),CE=()=>us("boolean",{type:Boolean}),ufe=()=>us("string",{type:String}),dfe=()=>us("number",{type:Number}),ffe=()=>us("array",{type:Array}),hfe=()=>us("object",{type:Object}),mfe=()=>ni("integer",{type:Number,validator(t){const e=afe(t);return e===!1&&Pn(`integer - "${t}" is not an integer`),e}}),pfe=()=>ni("symbol",{validator(t){const e=typeof t=="symbol";return e===!1&&Pn(`symbol - invalid value "${t}"`),e}}),gfe=()=>Object.defineProperty({type:null,validator(t){const e=t===null;return e===!1&&Pn("nullable - value should be null"),e}},"_vueTypes_name",{value:"nullable"});function vfe(t,e="custom validation failed"){if(typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return ni(t.name||"<<anonymous function>>",{type:null,validator(n){const r=t(n);return r||Pn(`${this._vueTypes_name} - ${e}`),r}})}function bfe(t){if(!gc(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const e=`oneOf - value should be one of "${t.map(r=>typeof r=="symbol"?r.toString():r).join('", "')}".`,n={validator(r){const i=t.indexOf(r)!==-1;return i||Pn(e),i}};if(t.indexOf(null)===-1){const r=t.reduce((i,s)=>{if(s!=null){const o=s.constructor;i.indexOf(o)===-1&&i.push(o)}return i},[]);r.length>0&&(n.type=r)}return ni("oneOf",n)}function yfe(t){if(!gc(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");let e=!1,n=!1,r=[];for(let s=0;s<t.length;s+=1){const o=t[s];if(DR(o)){if(vc(o.validator)&&(e=!0),om(o,"oneOf")&&o.type){r=r.concat(o.type);continue}if(om(o,"nullable")){n=!0;continue}if(o.type===!0||!o.type){Pn('oneOfType - invalid usage of "true" and "null" as types.');continue}r=r.concat(o.type)}else r.push(o)}r=r.filter((s,o)=>r.indexOf(s)===o);const i=n===!1&&r.length>0?r:null;return ni("oneOfType",e?{type:i,validator(s){const o=[],a=t.some(l=>{const c=el(l,s,!0);return typeof c=="string"&&o.push(c),c===!0});return a||Pn(`oneOfType - provided value does not match any of the ${o.length} passed-in validators:
${dp(o.join(`
`))}`),a}}:{type:i})}function wfe(t){return ni("arrayOf",{type:Array,validator(e){let n="";const r=e.every(i=>(n=el(t,i,!0),n===!0));return r||Pn(`arrayOf - value validation error:
${dp(n)}`),r}})}function _fe(t){return ni("instanceOf",{type:t})}function Cfe(t){return ni("objectOf",{type:Object,validator(e){let n="";const r=Object.keys(e).every(i=>(n=el(t,e[i],!0),n===!0));return r||Pn(`objectOf - value validation error:
${dp(n)}`),r}})}function Lw(t){const e=Object.keys(t),n=e.filter(i=>{var s;return!((s=t[i])===null||s===void 0||!s.required)}),r=ni("shape",{type:Object,validator(i){if(!La(i))return!1;const s=Object.keys(i);if(n.length>0&&n.some(o=>s.indexOf(o)===-1)){const o=n.filter(a=>s.indexOf(a)===-1);return Pn(o.length===1?`shape - required property "${o[0]}" is not defined.`:`shape - required properties "${o.join('", "')}" are not defined.`),!1}return s.every(o=>{if(e.indexOf(o)===-1)return this._vueTypes_isLoose===!0||(Pn(`shape - shape definition does not include a "${o}" property. Allowed keys: "${e.join('", "')}".`),!1);const a=el(t[o],i[o],!0);return typeof a=="string"&&Pn(`shape - "${o}" property validation error:
 ${dp(a)}`),a===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),r}const kfe=["name","validate","getter"],Sfe=(()=>{var t;return(t=class{static get any(){return lfe()}static get func(){return cfe().def(this.defaults.func)}static get bool(){return this.defaults.bool===void 0?CE():CE().def(this.defaults.bool)}static get string(){return ufe().def(this.defaults.string)}static get number(){return dfe().def(this.defaults.number)}static get array(){return ffe().def(this.defaults.array)}static get object(){return hfe().def(this.defaults.object)}static get integer(){return mfe().def(this.defaults.integer)}static get symbol(){return pfe()}static get nullable(){return gfe()}static extend(e){if(Pn("VueTypes.extend is deprecated. Use the ES6+ method instead. See https://dwightjack.github.io/vue-types/advanced/extending-vue-types.html#extending-namespaced-validators-in-es6 for details."),gc(e))return e.forEach(l=>this.extend(l)),this;const{name:n,validate:r=!1,getter:i=!1}=e,s=IR(e,kfe);if(pc(this,n))throw new TypeError(`[VueTypes error]: Type "${n}" already defined`);const{type:o}=s;if(om(o))return delete s.type,Object.defineProperty(this,n,i?{get:()=>_E(n,o,s)}:{value(...l){const c=_E(n,o,s);return c.validator&&(c.validator=c.validator.bind(c,...l)),c}});let a;return a=i?{get(){const l=Object.assign({},s);return r?us(n,l):ni(n,l)},enumerable:!0}:{value(...l){const c=Object.assign({},s);let u;return u=r?us(n,c):ni(n,c),c.validator&&(u.validator=c.validator.bind(u,...l)),u},enumerable:!0},Object.defineProperty(this,n,a)}}).defaults={},t.sensibleDefaults=void 0,t.config=rfe,t.custom=vfe,t.oneOf=bfe,t.instanceOf=_fe,t.oneOfType=yfe,t.arrayOf=wfe,t.objectOf=Cfe,t.shape=Lw,t.utils={validate:(e,n)=>el(n,e,!0)===!0,toType:(e,n,r=!1)=>r?us(e,n):ni(e,n)},t})();function Efe(t={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var e;return(e=class extends Sfe{static get sensibleDefaults(){return Au({},this.defaults)}static set sensibleDefaults(n){this.defaults=n!==!1?Au({},n!==!0?n:t):{}}}).defaults=Au({},t),e}class Gve extends Efe(){}Pe({name:"CWidgetStatsB",props:{color:mc,inverse:Boolean,progress:Lw({color:mc,value:{type:Number,default:0}}),text:String,title:String,value:{type:[Number,String],default:0}},setup(t,{slots:e}){return()=>Ze(AR,{class:[{"text-high-emphasis-inverse":t.inverse}],color:t.color},()=>Ze(xR,{class:"card-body"},()=>[(t.value||e.value)&&Ze("div",{class:"fs-4 fw-semibold"},{default:()=>e.value&&e.value()||t.value}),(t.title||e.title)&&Ze("div",{},{default:()=>e.title&&e.title()||t.title}),Ze(PR,{class:"my-2",...t.progress&&t.progress.color&&{color:t.progress.color},height:4,...t.progress&&t.progress.value&&{value:t.progress.value},white:t.inverse}),(t.text||e.text)&&Ze("small",{class:[t.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},{default:()=>e.text&&e.text()||t.text})]))}});Pe({name:"CWidgetStatsC",props:{color:mc,inverse:Boolean,progress:Lw({color:mc,value:{type:Number,default:0}}),title:String,value:{type:[Number,String],default:0}},setup(t,{slots:e}){return()=>Ze(AR,{class:[{"text-white":t.inverse}],color:t.color},()=>Ze(xR,{class:"card-body"},()=>[e.icon&&Ze("div",{class:["text-end mb-4",t.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},e.icon&&e.icon()),(t.value||e.value)&&Ze("div",{class:"fs-4 fw-semibold"},{default:()=>e.value&&e.value()||t.value}),(t.title||e.title)&&Ze("div",{class:["text-uppercase fw-semibold small",t.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},{default:()=>e.title&&e.title()||t.title}),Ze(PR,{class:"my-2",...t.progress&&t.progress.color&&{color:t.progress.color},height:4,...t.progress&&t.progress.value&&{value:t.progress.value},white:t.inverse})]))}});const Tfe={__name:"ModalAlert",props:{title:String,visible:Boolean},emits:["close"],setup(t,{emit:e}){const n=t;return(r,i)=>(V(),Ue(g(Xde),{alignment:"center",scrollable:"",visible:n.visible,onClose:i[0]||(i[0]=()=>{e("close",!0)})},{default:Ee(()=>[oe(g(efe),null,{default:Ee(()=>[oe(g(tfe),null,{default:Ee(()=>[un(Ae(n.title),1)]),_:1})]),_:1}),oe(g(Zde),null,{default:Ee(()=>[ft(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["visible"]))}},Afe=rp(Tfe,[["__scopeId","data-v-7282b45f"]]);/*! Element Plus v2.3.12 */var xfe={name:"ru",el:{colorpicker:{confirm:"OK",clear:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"OK",selectDate:" ",selectTime:" ",startDate:" ",startTime:" ",endDate:" ",endTime:" ",prevYear:" ",nextYear:" ",prevMonth:" ",nextMonth:" ",year:"",month1:"",month2:"",month3:"",month4:"",month5:"",month6:"",month7:"",month8:"",month9:"",month10:"",month11:"",month12:"",week:"",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},select:{loading:"",noMatch:"  ",noData:" ",placeholder:""},cascader:{noMatch:"  ",loading:"",placeholder:"",noData:" "},pagination:{goto:"",pagesize:"  ",total:" {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages"},messagebox:{title:"",confirm:"OK",cancel:"",error:"  "},upload:{deleteTip:" []  ",delete:"",preview:"",continue:""},table:{emptyText:" ",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tree:{emptyText:" "},transfer:{noMatch:"  ",noData:" ",titles:[" 1"," 2"],filterPlaceholder:"  ",noCheckedFormat:"{total} ",hasCheckedFormat:"{checked}/{total} "},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"OK",cancelButtonText:""}}};const jo=t=>(L0("data-v-eccae3ae"),t=t(),$0(),t),Pfe={class:"meta-tags-block"},Ife={class:"meta-tags-block__left-column"},Ofe={class:"keywords_row"},Rfe=jo(()=>x("label",{for:"meta_keywords"},"Keywords",-1)),Mfe={key:0,class:"form_error_text"},Dfe={class:"title_row"},Nfe=jo(()=>x("label",{for:"meta_title"},"Title",-1)),Ffe={class:"field-remain-symbols"},Lfe={key:0,class:"form_error_text"},$fe={class:"description_row"},Bfe=jo(()=>x("label",{for:"meta_description"},"Description",-1)),Vfe={class:"field-remain-symbols"},zfe={key:0,class:"form_error_text"},Ufe={class:"meta-tags-block__right-column"},Hfe={class:"meta-result-buttons"},jfe={class:"buttons__device"},Wfe=jo(()=>x("i",{class:"la la-mobile"},null,-1)),qfe=[Wfe],Kfe=jo(()=>x("i",{class:"la la-desktop"},null,-1)),Gfe=[Kfe],Yfe={class:"meta-result-field"},Qfe={key:0,class:"meta-result-field__icon"},Jfe=jo(()=>x("i",{class:"la la-globe"},null,-1)),Xfe=[Jfe],Zfe={key:1,class:"search_item_yandex"},ehe={class:"search_item__title"},the={class:"search_item__url"},nhe={class:"search_item__description"},rhe={key:2,class:"search_item_yandex"},ihe={class:"search_item__title"},she={class:"search_item__url"},ohe={class:"search_item__description"},ahe={key:3,class:"search_item_google"},lhe={class:"search_item__url"},che=jo(()=>x("i",{class:"la la-globe"},null,-1)),uhe={class:"search_item__url_link"},dhe={class:"search_item__title"},fhe={class:"search_item__description"},hhe={key:4,class:"search_item_google"},mhe={class:"search_item__url"},phe=jo(()=>x("div",null,[x("i",{class:"la la-globe"})],-1)),ghe={class:"search_item__url_link"},vhe={class:"search_item__url_host"},bhe={class:"search_item__url_full_path"},yhe={class:"search_item__title"},whe={class:"search_item__description"},_he={__name:"MetaTagsBlock",props:{title:String,description:String,keywords:String,endpointForm:Object,slug:String,settings:Object},emits:["update:title","update:description","update:keywords"],setup(t,{emit:e}){const n=t,r=ie(70),i=ie(160),{t:s}=Pd({});function o(b,T){return!b||!T?"":b.length>T?b.slice(0,T-1)+"":b}const a=R(()=>o(n.description,i.value)),l=R(()=>o(n.title,r.value)),c=R(()=>n.title?r.value-d.value.length:r),u=R(()=>n.description?i.value-f.value.length:i),d=ie(n.title),f=ie(n.description),h=ie(n.keywords),m=ie("desktop"),p=ie("google");Le(d,()=>{e("update:title",d.value)}),Le(f,()=>{e("update:description",f.value)}),Le(h,()=>{e("update:keywords",h.value)});const y=b=>{m.value=b},v=b=>{p.value=b};return(b,T)=>{var C,k,S,O,D,te,Q,q;const _=rs,E=Zl;return V(),ae("section",Pfe,[x("div",Ife,[x("div",Ofe,[Rfe,oe(_,{modelValue:h.value,"onUpdate:modelValue":T[0]||(T[0]=L=>h.value=L),id:"meta_keywords"},null,8,["modelValue"]),(C=t.endpointForm)!=null&&C.errors.keywords?(V(),ae("div",Mfe,Ae(t.endpointForm.errors.keywords),1)):Ie("",!0)]),x("div",Dfe,[Nfe,oe(_,{modelValue:d.value,"onUpdate:modelValue":T[1]||(T[1]=L=>d.value=L),id:"meta_title"},null,8,["modelValue"]),x("div",Ffe,[un(Ae(g(s)("makeArticle.fields.symbols_remains"))+": ",1),x("span",{class:X(["field-remain-symbols__number",{"field-remain-symbols__number_error":c.value<0}])},Ae(c.value),3)]),(k=t.endpointForm)!=null&&k.errors.title?(V(),ae("div",Lfe,Ae(t.endpointForm.errors.title),1)):Ie("",!0)]),x("div",$fe,[Bfe,oe(_,{modelValue:f.value,"onUpdate:modelValue":T[2]||(T[2]=L=>f.value=L),type:"textarea",rows:4,id:"meta_description"},null,8,["modelValue"]),x("div",Vfe,[un(Ae(g(s)("makeArticle.fields.symbols_remains"))+": ",1),x("span",{class:X(["field-remain-symbols__number",{"field-remain-symbols__number_error":u.value<0}])},Ae(u.value),3)]),(S=t.endpointForm)!=null&&S.errors.description?(V(),ae("div",zfe,Ae(t.endpointForm.errors.description),1)):Ie("",!0)])]),x("div",Ufe,[x("div",Hfe,[x("div",jfe,[x("div",{class:X(["buttons__device__phone",{"device-active-button":m.value==="phone"}]),onClick:T[3]||(T[3]=L=>y("phone"))},qfe,2),x("div",{class:X(["buttons__device__desktop",{"device-active-button":m.value==="desktop"}]),onClick:T[4]||(T[4]=L=>y("desktop"))},Gfe,2)]),x("div",null,[oe(E,{plain:"",type:p.value==="google"?"primary":"",onClick:T[5]||(T[5]=L=>v("google"))},{default:Ee(()=>[un("Google ")]),_:1},8,["type"]),oe(E,{plain:"",type:p.value==="yandex"?"primary":"",onClick:T[6]||(T[6]=L=>v("yandex"))},{default:Ee(()=>[un("Yandex ")]),_:1},8,["type"])])]),x("div",Yfe,[m.value==="phone"&&p.value==="yandex"?(V(),ae("div",Qfe,Xfe)):Ie("",!0),m.value==="phone"&&p.value==="yandex"?(V(),ae("div",Zfe,[x("div",ehe,Ae(l.value),1),x("div",the,Ae((O=t.settings)==null?void 0:O.site_url)+" > "+Ae(t.slug),1),x("div",nhe,Ae(a.value),1)])):Ie("",!0),m.value==="desktop"&&p.value==="yandex"?(V(),ae("div",rhe,[x("div",ihe,Ae(l.value),1),x("div",she,Ae((D=t.settings)==null?void 0:D.site_url)+" > "+Ae(t.slug),1),x("div",ohe,Ae(a.value),1)])):Ie("",!0),m.value==="phone"&&p.value==="google"?(V(),ae("div",ahe,[x("div",lhe,[che,x("span",uhe,Ae((te=t.settings)==null?void 0:te.site_url)+" > "+Ae(t.slug),1)]),x("div",dhe,Ae(l.value),1),x("div",fhe,Ae(a.value),1)])):Ie("",!0),m.value==="desktop"&&p.value==="google"?(V(),ae("div",hhe,[x("div",mhe,[phe,x("div",ghe,[x("div",vhe,Ae((Q=t.settings)==null?void 0:Q.site_url),1),x("span",bhe,Ae((q=t.settings)==null?void 0:q.site_url)+" > "+Ae(t.slug),1)])]),x("div",yhe,Ae(l.value),1),x("div",whe,Ae(a.value),1)])):Ie("",!0)])])])}}},Che=rp(_he,[["__scopeId","data-v-eccae3ae"]]);function kE(t){if(!t)return"";let e="",n={:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"c",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya",".":"-",",":"-","!":"","?":""," ":"-",":":"-",";":"-",:"A",:"B",:"V",:"G",:"D",:"E",:"E",:"Zh",:"Z",:"I",:"Y",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"H",:"C",:"Ch",:"Sh",:"Sch",:"",:"Y",:"",:"E",:"Yu",:"Ya"};for(let r=0;r<t.length;++r)n[t[r]]===void 0?e+=t[r]:e+=n[t[r]];return e.replace(/\s+/g,"-").toLowerCase()}const tt=t=>(L0("data-v-ddac332c"),t=t(),$0(),t),khe={class:"article-breadcrumb"},She={href:"/"},Ehe=["href"],The=["href"],Ahe={key:0},xhe=["href"],Phe={key:1},Ihe={class:"mb-3"},Ohe={class:"article_name"},Rhe={for:"article_name"},Mhe={key:0,class:"form_error_text"},Dhe={class:"article_slug"},Nhe={for:"article_slug"},Fhe={key:0,class:"form_error_text"},Lhe={class:"form_small_fields_block"},$he={class:"article_category"},Bhe={for:"article_category"},Vhe={key:0,class:"form_error_text"},zhe={class:"article_tags"},Uhe={for:"article_tags"},Hhe={key:0,class:"form_error_text"},jhe={class:"article_author"},Whe={for:"article_author"},qhe={key:0,class:"form_error_text"},Khe={class:"article_publish_date"},Ghe={for:"article_publish_date"},Yhe={key:0,class:"form_error_text"},Qhe={class:"article_published"},Jhe={class:"article_preview_text"},Xhe={for:"article_preview_text"},Zhe={key:0,class:"form_error_text"},eme={class:"article_content"},tme={class:"content_heading"},nme={key:0,class:"form_error_text"},rme={class:"mb-3"},ime={key:0,for:"article_publish_date"},sme={class:"mb-3"},ome=["src"],ame={key:0,class:"form_error_text"},lme={class:"format_instruction mt-5"},cme={class:"instruction_table"},ume={class:"instruction_table_row"},dme=tt(()=>x("td",null,"  (h2, h3) ",-1)),fme=tt(()=>x("td",null,[x("code",null," +TOC+ +TOC+ ")],-1)),hme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/compTOC.png",class:"instruction_compoment_image"})],-1)),mme={class:"instruction_table_row"},pme=tt(()=>x("td",null,'  "" ()',-1)),gme=tt(()=>x("td",null,[x("code",null," +InfoGreen+   +InfoGreen+ ")],-1)),vme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp2.png",class:"instruction_compoment_image"})],-1)),bme={class:"instruction_table_row"},yme=tt(()=>x("td",null,'  "" ()',-1)),wme=tt(()=>x("td",null,[x("code",null," +InfoRed+   +InfoRed+ ")],-1)),_me=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp1.png",class:"instruction_compoment_image"})],-1)),Cme={class:"instruction_table_row"},kme=tt(()=>x("td",null,'  "" ()',-1)),Sme=tt(()=>x("td",null,[x("code",null," +InfoBlue+  td +InfoBlue+ ")],-1)),Eme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp4.png",class:"instruction_compoment_image"})],-1)),Tme={class:"instruction_table_row"},Ame=tt(()=>x("td",null,"- ( )",-1)),xme=tt(()=>x("td",null,[x("code",null," +ProsConsBlueMark+ (+)  1 (+)  2 || (-)  1 (-)  2 +ProsConsBlueMark+ ")],-1)),Pme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp9.png",class:"instruction_compoment_image"})],-1)),Ime={class:"instruction_table_row"},Ome=tt(()=>x("td",null,"- (    )",-1)),Rme=tt(()=>x("td",null,[x("code",null," +ProsConsEmptyPlus+ (+)  1 (+)  2 || (-)  1 (-)  2 +ProsConsEmptyPlus+ ")],-1)),Mme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp10.png",class:"instruction_compoment_image"})],-1)),Dme={class:"instruction_table_row"},Nme=tt(()=>x("td",null,"- (    )",-1)),Fme=tt(()=>x("td",null,[x("code",null," +ProsConsGreenPlus+ (+)  1 (+)  2 || (-)  1 (-)  2 +ProsConsGreenPlus+ ")],-1)),Lme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp11.png",class:"instruction_compoment_image"})],-1)),$me={class:"instruction_table_row"},Bme=tt(()=>x("td",null,"- ( )",-1)),Vme=tt(()=>x("td",null,[x("code",null," +ProsConsGreenMark+ (+)  1 (+)  2 || (-)  1 (-)  2 +ProsConsGreenMark+ ")],-1)),zme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp12.png",class:"instruction_compoment_image"})],-1)),Ume={class:"instruction_table_row"},Hme=tt(()=>x("td",null,"- ( -)",-1)),jme=tt(()=>x("td",null,[x("code",null," +ProsConsGreenMarkDashed+ (+)  1 (+)  2 || (-)  1 (-)  2 +ProsConsGreenMarkDashed+ ")],-1)),Wme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp13.png",class:"instruction_compoment_image"})],-1)),qme={class:"instruction_table_row"},Kme=tt(()=>x("td",null," ",-1)),Gme=tt(()=>x("td",null,[x("code",null," +Advice+   +Advice+ ")],-1)),Yme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp6.png",class:"instruction_compoment_image"})],-1)),Qme={class:"instruction_table_row"},Jme=tt(()=>x("td",null,"    ",-1)),Xme=tt(()=>x("td",null,[x("code",null," +TextBlockFirst+ -- -- T   +TextBlockFirst+ ")],-1)),Zme=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp16.png",class:"instruction_compoment_image"})],-1)),epe={class:"instruction_table_row"},tpe=tt(()=>x("td",null,"  ?",-1)),npe=tt(()=>x("td",null,[x("code",null," +DidYouKnowInArticle+ +DidYouKnowInArticle+ ")],-1)),rpe=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp3.png",class:"instruction_compoment_image"})],-1)),ipe={class:"instruction_table_row"},spe=tt(()=>x("td",null," 1 ()",-1)),ope=tt(()=>x("td",null,[x("code",null," +QuoteSolid+   --  -- +QuoteSolid+ ")],-1)),ape=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp7.png",class:"instruction_compoment_image"})],-1)),lpe={class:"instruction_table_row"},cpe=tt(()=>x("td",null," 1 ()",-1)),upe=tt(()=>x("td",null,[x("code",null," +QuoteDashed+   --  -- +QuoteDashed+ ")],-1)),dpe=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp8.png",class:"instruction_compoment_image"})],-1)),fpe={class:"instruction_table_row"},hpe=tt(()=>x("td",null,"   ()",-1)),mpe=tt(()=>x("td",null,[x("code",null," +LinksAlsoSolid+    ||       +LinksAlsoSolid+ ")],-1)),ppe=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp14.png",class:"instruction_compoment_image"})],-1)),gpe={class:"instruction_table_row"},vpe=tt(()=>x("td",null,"   ( )",-1)),bpe=tt(()=>x("td",null,[x("code",null," +LinksAlsoDashed+    ||       +LinksAlsoDashed+ ")],-1)),ype=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp15.png",class:"instruction_compoment_image"})],-1)),wpe={class:"instruction_table_row"},_pe=tt(()=>x("td",null," YouTube",-1)),Cpe=tt(()=>x("td",null,[x("code",null," +YouTubeComponent+    embed  +YouTubeComponent+ ")],-1)),kpe=tt(()=>x("td",null,null,-1)),Spe={class:"instruction_table_row"},Epe=tt(()=>x("td",null," ",-1)),Tpe=tt(()=>x("td",null,[x("code",null," +ArticleGalleryWrapper+     +ArticleGalleryWrapper+ ")],-1)),Ape=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp5.png",class:"instruction_compoment_image"})],-1)),xpe={class:"instruction_table_row"},Ppe=tt(()=>x("td",null,"    ",-1)),Ipe=tt(()=>x("td",null,[x("code",null," +MarkList+ (+)  1 (+)  2 +MarkList+ ")],-1)),Ope=tt(()=>x("td",null,[x("img",{loading:"lazy",src:"/images/article/components/comp17.png",class:"instruction_compoment_image"})],-1)),Rpe={__name:"MakeArticle",props:{article:Object},setup(t){var T,_,E,C,k,S,O,D,te,Q,q,L;const e=t,{t:n,locale:r}=Pd(),i=ie(null);function s(G){let N=[];function M(J){J&&(N.push(J),J.parents&&M(J.parents))}return M(G),N.reverse()}const o=R(()=>{var G;return s((G=e.article)==null?void 0:G.category_parents_tree)}),a=ie(xfe),{data:l}=zf({queryKey:["settings"],queryFn:async()=>(await fetch("/admin/settings-info",{method:"GET"})).json()}),{data:c}=zf({queryKey:["categories"],queryFn:async()=>(await fetch("/api/categories",{method:"POST"})).json()}),{data:u}=zf({queryKey:["tags"],queryFn:async()=>(await fetch("/api/tags",{method:"POST"})).json()}),{data:d}=zf({queryKey:["authors"],queryFn:async()=>(await fetch("/api/authors",{method:"POST"})).json()}),f=ie(!1),h=gR({name:(T=e.article)==null?void 0:T.name,slug:(_=e.article)==null?void 0:_.slug,category_id:(E=e.article)==null?void 0:E.category_id,tags:(C=e.article)==null?void 0:C.tags_ids,content_markdown:(k=e.article)==null?void 0:k.content_markdown,author_id:(S=e.article)==null?void 0:S.author_id,publish_date:(O=e.article)==null?void 0:O.publish_date,published:((D=e.article)==null?void 0:D.published)??!0,title:(te=e.article)==null?void 0:te.title,description:(Q=e.article)==null?void 0:Q.description,preview_text:(q=e.article)==null?void 0:q.preview_text,keywords:(L=e.article)==null?void 0:L.keywords,mainPic:null});Le(()=>h.name,()=>{h.slug=kE(h.name)});function m(G=!1){var M,J,z,Z,pe,H,U,he,le,xe,He,Re,$e,Ne;let N="/admin/article/store";if(G){const Ke=(M=vl().props)!=null&&M.article?(Z=(z=(J=vl().props)==null?void 0:J.article)==null?void 0:z.tokenForArticlePreview)==null?void 0:Z.cookieName:(H=(pe=vl().props)==null?void 0:pe.tokenForArticlePreview)==null?void 0:H.cookieName,P=(U=vl().props)!=null&&U.article?(xe=(le=(he=vl().props)==null?void 0:he.article)==null?void 0:le.tokenForArticlePreview)==null?void 0:xe.cookieValue:(Re=(He=vl().props)==null?void 0:He.tokenForArticlePreview)==null?void 0:Re.cookieValue;N="/admin/article/preview",document.cookie=`${Ke}=${P}; expires=Fri, 31 Dec 9999 23:59:59 GMT"; path=/`}e.article&&(N=`/admin/article/${($e=e.article)==null?void 0:$e.id}/update`,G&&(N=`/admin/article/${(Ne=e.article)==null?void 0:Ne.id}/update-preview`)),h.post(N,{preserveScroll:!0,onSuccess:Ke=>{var P,F,ne;G||(f.value=!0),G&&(i.value=(ne=(F=(P=Ke.props)==null?void 0:P.flash)==null?void 0:F.message)==null?void 0:ne.previewUrl,f.value=!0)}})}function p(G){h.content_markdown=G}function y(){window.location.href="/admin/article"}Le(l,()=>{r.value=l.value.lang}),Le(()=>h.title,()=>{h.slug=kE(h.name)});const v=G=>{const N=window.URL.createObjectURL(G);return console.log("res",N),N},b=G=>{if(typeof navigator.clipboard>"u"){console.log("navigator.clipboard");var N=document.createElement("textarea");N.value=G,N.style.position="fixed",document.body.appendChild(N),N.focus(),N.select();try{var M=document.execCommand("copy"),J=M?"successful":"unsuccessful";console.log("Copying text command was "+J)}catch(z){console.log("Was not possible to copy te text: ",z)}document.body.removeChild(N);return}window.navigator.clipboard.writeText(G)};return(G,N)=>{const M=fH,J=dH,z=rs,Z=Pq,pe=xq,H=uq,U=Tj,he=Zl,le=Pi("font-awesome-icon"),xe=Jj,He=Qj,Re=Ez;return V(),Ue(Re,{locale:a.value},{default:Ee(()=>{var $e,Ne,Ke,P,F,ne,fe;return[x("nav",khe,[oe(J,{separator:"/"},{default:Ee(()=>{var K;return[oe(M,null,{default:Ee(()=>[x("a",She,Ae(G.$t("makeArticle.fields.main_page")),1)]),_:1}),(V(!0),ae(it,null,yn(o.value,ge=>(V(),Ue(M,null,{default:Ee(()=>[x("a",{href:`/admin/category/${ge.id}/show`},Ae(ge.name),9,Ehe)]),_:2},1024))),256)),(K=t.article)!=null&&K.category.id?(V(),Ue(M,{key:0},{default:Ee(()=>{var ge,ke;return[x("a",{href:`/admin/category/${(ge=t.article)==null?void 0:ge.category.id}/show`},Ae((ke=t.article)==null?void 0:ke.category.name),9,The)]}),_:1})):Ie("",!0),oe(M,null,{default:Ee(()=>[un(Ae(g(h).name),1)]),_:1})]}),_:1})]),oe(Che,{title:g(h).title,"onUpdate:title":N[0]||(N[0]=K=>g(h).title=K),description:g(h).description,"onUpdate:description":N[1]||(N[1]=K=>g(h).description=K),keywords:g(h).keywords,"onUpdate:keywords":N[2]||(N[2]=K=>g(h).keywords=K),endpointForm:g(h),slug:g(h).slug,settings:g(l)},null,8,["title","description","keywords","endpointForm","slug","settings"]),oe(Afe,{visible:f.value,title:"",onClose:y},{default:Ee(()=>[i.value?(V(),ae("span",Ahe,[un("   : "),x("a",{href:i.value,target:"_blank"}," ",8,xhe)])):(V(),ae("span",Phe,"   "))]),_:1},8,["visible"]),x("form",null,[x("div",Ihe,[x("div",Ohe,[x("label",Rhe,Ae(G.$t("makeArticle.fields.title")),1),oe(z,{modelValue:g(h).name,"onUpdate:modelValue":N[3]||(N[3]=K=>g(h).name=K),size:"large",placeholder:" ",id:"article_name"},null,8,["modelValue"]),g(h).errors.name?(V(),ae("div",Mhe,Ae(g(h).errors.name),1)):Ie("",!0)]),x("div",Dhe,[x("label",Nhe,Ae(G.$t("makeArticle.fields.slug")),1),oe(z,{modelValue:g(h).slug,"onUpdate:modelValue":N[4]||(N[4]=K=>g(h).slug=K),size:"large",placeholder:"",id:"article_slug"},null,8,["modelValue"]),g(h).errors.slug?(V(),ae("div",Fhe,Ae(g(h).errors.slug),1)):Ie("",!0)])]),x("div",Lhe,[x("div",$he,[x("label",Bhe,Ae(G.$t("makeArticle.fields.category")),1),x("div",null,[oe(pe,{modelValue:g(h).category_id,"onUpdate:modelValue":N[5]||(N[5]=K=>g(h).category_id=K),filterable:"",placeholder:"Select",size:"large",id:"article_category"},{default:Ee(()=>[(V(!0),ae(it,null,yn(g(c),K=>(V(),Ue(Z,{key:K.id,label:K.name,value:K.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(h).errors.category_id?(V(),ae("div",Vhe,Ae(g(h).errors.category_id),1)):Ie("",!0)]),x("div",zhe,[x("label",Uhe,Ae(G.$t("makeArticle.fields.tags")),1),x("div",null,[oe(pe,{modelValue:g(h).tags,"onUpdate:modelValue":N[6]||(N[6]=K=>g(h).tags=K),filterable:"",multiple:"",placeholder:"Select",size:"large",id:"article_tags"},{default:Ee(()=>[(V(!0),ae(it,null,yn(g(u),K=>(V(),Ue(Z,{key:K.id,label:K.name,value:K.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(h).errors.tags?(V(),ae("div",Hhe,Ae(g(h).errors.tags),1)):Ie("",!0)]),x("div",jhe,[x("label",Whe,Ae(G.$t("makeArticle.fields.author")),1),x("div",null,[oe(pe,{modelValue:g(h).author_id,"onUpdate:modelValue":N[7]||(N[7]=K=>g(h).author_id=K),filterable:"",placeholder:"Select",size:"large",id:"article_author"},{default:Ee(()=>[(V(!0),ae(it,null,yn(g(d),K=>(V(),Ue(Z,{key:K.id,label:K.name,value:K.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),g(h).errors.author_id?(V(),ae("div",qhe,Ae(g(h).errors.author_id),1)):Ie("",!0)]),x("div",Khe,[x("label",Ghe,Ae(G.$t("makeArticle.fields.publish_date")),1),x("div",null,[oe(H,{size:"large",modelValue:g(h).publish_date,"onUpdate:modelValue":N[8]||(N[8]=K=>g(h).publish_date=K),type:"datetime",placeholder:" ",format:"DD/MM/YYYY HH:mm:ss","value-format":"YYYY/MM/DD HH:mm:ss",id:"article_publish_date"},null,8,["modelValue"])]),g(h).errors.publish_date?(V(),ae("div",Yhe,Ae(g(h).errors.publish_date),1)):Ie("",!0)])]),x("div",Qhe,[oe(U,{modelValue:g(h).published,"onUpdate:modelValue":N[9]||(N[9]=K=>g(h).published=K),size:"large"},{default:Ee(()=>[un(Ae(G.$t("makeArticle.fields.published")),1)]),_:1},8,["modelValue"])]),x("div",Jhe,[x("label",Xhe,Ae(G.$t("makeArticle.fields.preview_text")),1),oe(z,{modelValue:g(h).preview_text,"onUpdate:modelValue":N[10]||(N[10]=K=>g(h).preview_text=K),type:"textarea",size:"large",placeholder:" ",id:"article_preview_text"},null,8,["modelValue"]),g(h).errors.preview_text?(V(),ae("div",Zhe,Ae(g(h).errors.preview_text),1)):Ie("",!0)]),x("div",eme,[x("div",tme,Ae(G.$t("makeArticle.fields.content")),1),oe(kae,{onContent:p,content:g(h).content_markdown},null,8,["content"]),g(h).errors.content_markdown?(V(),ae("div",nme,Ae(g(h).errors.content_markdown),1)):Ie("",!0)]),x("div",rme,[(Ne=($e=e.article)==null?void 0:$e.mainPic[0])!=null&&Ne.original_url?(V(),ae("label",ime,Ae(G.$t("makeArticle.fields.preview_pic")),1)):Ie("",!0),x("div",sme,[g(h).mainPic||(P=(Ke=e.article)==null?void 0:Ke.mainPic[0])!=null&&P.original_url?(V(),ae("img",{key:0,src:g(h).mainPic?v(g(h).mainPic):(ne=(F=e.article)==null?void 0:F.mainPic[0])==null?void 0:ne.original_url,alt:"  ",class:"post_mainPic_thumb"},null,8,ome)):Ie("",!0)]),x("div",null,[x("input",{type:"file",onInput:N[11]||(N[11]=K=>g(h).mainPic=K.target.files[0])},null,32),g(h).errors.mainPic?(V(),ae("div",ame,Ae(g(h).errors.mainPic),1)):Ie("",!0)])]),oe(he,{onClick:N[12]||(N[12]=K=>m(!1)),color:"#626aef"},{default:Ee(()=>[un(Ae(G.$t("makeArticle.fields.save")),1)]),_:1}),(fe=e.article)!=null&&fe.id?(V(),Ue(he,{key:0,onClick:N[13]||(N[13]=K=>m(!0)),color:"#626aef"},{default:Ee(()=>[un(Ae(G.$t("makeArticle.fields.preview")),1)]),_:1})):Ie("",!0)]),x("section",lme,[oe(He,null,{default:Ee(()=>[oe(xe,{title:"",name:""},{default:Ee(()=>[x("table",cme,[x("tr",ume,[dme,fme,hme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[14]||(N[14]=K=>b(`+TOC+
+TOC+
`))})])]),x("tr",mme,[pme,gme,vme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[15]||(N[15]=K=>b(`+InfoGreen+

           

+InfoGreen+`))})])]),x("tr",bme,[yme,wme,_me,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[16]||(N[16]=K=>b(`+InfoRed+

           

+InfoRed+`))})])]),x("tr",Cme,[kme,Sme,Eme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[17]||(N[17]=K=>b(`+InfoBlue+

           

+InfoBlue+`))})])]),x("tr",Tme,[Ame,xme,Pme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[18]||(N[18]=K=>b(`+ProsConsBlueMark+

(+)  1

(+)  2

||

(-)  1

(-)  2

+ProsConsBlueMark+`))})])]),x("tr",Ime,[Ome,Rme,Mme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[19]||(N[19]=K=>b(`+ProsConsEmptyPlus+

(+)  1

(+)  2

||

(-)  1

(-)  2

+ProsConsEmptyPlus+`))})])]),x("tr",Dme,[Nme,Fme,Lme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[20]||(N[20]=K=>b(`+ProsConsGreenPlus+

(+)  1

(+)  2

||

(-)  1

(-)  2

+ProsConsGreenPlus+`))})])]),x("tr",$me,[Bme,Vme,zme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[21]||(N[21]=K=>b(`+ProsConsGreenMark+

(+)  1

(+)  2

||

(-)  1

(-)  2

+ProsConsGreenMark+`))})])]),x("tr",Ume,[Hme,jme,Wme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[22]||(N[22]=K=>b(`+ProsConsGreenMarkDashed+

(+)  1

(+)  2

||

(-)  1

(-)  2

+ProsConsGreenMarkDashed+`))})])]),x("tr",qme,[Kme,Gme,Yme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[23]||(N[23]=K=>b(`+Advice+

           

+Advice+`))})])]),x("tr",Qme,[Jme,Xme,Zme,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[24]||(N[24]=K=>b(`+TextBlockFirst+

          -- --
          T   

+TextBlockFirst+`))})])]),x("tr",epe,[tpe,npe,rpe,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[25]||(N[25]=K=>b(`+DidYouKnowInArticle+


+DidYouKnowInArticle+`))})])]),x("tr",ipe,[spe,ope,ape,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[26]||(N[26]=K=>b(`+QuoteSolid+
               

              --  --

+QuoteSolid+`))})])]),x("tr",lpe,[cpe,upe,dpe,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[27]||(N[27]=K=>b(`+QuoteDashed+
               

              --  --

+QuoteDashed+`))})])]),x("tr",fpe,[hpe,mpe,ppe,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[28]||(N[28]=K=>b(`+LinksAlsoSolid+
                

              ||

                   

+LinksAlsoSolid+`))})])]),x("tr",gpe,[vpe,bpe,ype,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[29]||(N[29]=K=>b(`+LinksAlsoDashed+
                

              ||

                   

+LinksAlsoDashed+`))})])]),x("tr",wpe,[_pe,Cpe,kpe,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[30]||(N[30]=K=>b(`+YouTubeComponent+
                 embed 
+YouTubeComponent+`))})])]),x("tr",Spe,[Epe,Tpe,Ape,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[31]||(N[31]=K=>b(`+ArticleGalleryWrapper+
                 
+ArticleGalleryWrapper+`))})])]),x("tr",xpe,[Ppe,Ipe,Ope,x("td",null,[oe(le,{icon:"fa-solid fa-copy",class:"icon copy_to_clipboard_icon",onClick:N[32]||(N[32]=K=>b(`+MarkList+

(+)  1

(+)  2

+MarkList+`))})])])])]),_:1})]),_:1})])]}),_:1},8,["locale"])}}},Mpe=rp(Rpe,[["__scopeId","data-v-ddac332c"]]),Dpe=Object.freeze(Object.defineProperty({__proto__:null,default:Mpe},Symbol.toStringTag,{value:"Module"})),Npe={makeArticle:{validation:{},fields:{symbols_remains:" ",title:"",slug:"",category:"",author:"",publish_date:" ",main_picture:" ",preview_pic:"  ",tags:"",published:"",save:"",preview:"",main_page:"",preview_text:"  ",content:""}}},Fpe={makeArticle:{validation:{},fields:{symbols_remains:"Symbols remains",title:"Title",slug:"Slug",category:"Category",author:"Author",publish_date:"Publish date",main_picture:"Main picture",preview_pic:"Preview picture",tags:"Tags",published:"Published",save:"Save",preview:"Preview",main_page:"Main",preview_text:"Preview text",content:"Content"}}};function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function Lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $pe(t,e,n){return e&&EE(t.prototype,e),n&&EE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $w(t,e){return Vpe(t)||Upe(t,e)||NR(t,e)||jpe()}function Ld(t){return Bpe(t)||zpe(t)||NR(t)||Hpe()}function Bpe(t){if(Array.isArray(t))return u0(t)}function Vpe(t){if(Array.isArray(t))return t}function zpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Upe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function NR(t,e){if(t){if(typeof t=="string")return u0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u0(t,e)}}function u0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var TE=function(){},Bw={},FR={},LR=null,$R={mark:TE,measure:TE};try{typeof window<"u"&&(Bw=window),typeof document<"u"&&(FR=document),typeof MutationObserver<"u"&&(LR=MutationObserver),typeof performance<"u"&&($R=performance)}catch{}var Wpe=Bw.navigator||{},AE=Wpe.userAgent,xE=AE===void 0?"":AE,Ro=Bw,an=FR,PE=LR,Uf=$R;Ro.document;var Js=!!an.documentElement&&!!an.head&&typeof an.addEventListener=="function"&&typeof an.createElement=="function",BR=~xE.indexOf("MSIE")||~xE.indexOf("Trident/"),Hf,jf,Wf,qf,Kf,Hs="___FONT_AWESOME___",d0=16,VR="fa",zR="svg-inline--fa",$a="data-fa-i2svg",f0="data-fa-pseudo-element",qpe="data-fa-pseudo-element-pending",Vw="data-prefix",zw="data-icon",IE="fontawesome-i2svg",Kpe="async",Gpe=["HTML","HEAD","STYLE","SCRIPT"],UR=function(){try{return!0}catch{return!1}}(),sn="classic",gn="sharp",Uw=[sn,gn];function $d(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[sn]}})}var dd=$d((Hf={},Bn(Hf,sn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Bn(Hf,gn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Hf)),fd=$d((jf={},Bn(jf,sn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Bn(jf,gn,{solid:"fass",regular:"fasr",light:"fasl"}),jf)),hd=$d((Wf={},Bn(Wf,sn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Bn(Wf,gn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Wf)),Ype=$d((qf={},Bn(qf,sn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Bn(qf,gn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),qf)),Qpe=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,HR="fa-layers-text",Jpe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Xpe=$d((Kf={},Bn(Kf,sn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Bn(Kf,gn,{900:"fass",400:"fasr",300:"fasl"}),Kf)),jR=[1,2,3,4,5,6,7,8,9,10],Zpe=jR.concat([11,12,13,14,15,16,17,18,19,20]),ege=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ua={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},md=new Set;Object.keys(fd[sn]).map(md.add.bind(md));Object.keys(fd[gn]).map(md.add.bind(md));var tge=[].concat(Uw,Ld(md),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ua.GROUP,ua.SWAP_OPACITY,ua.PRIMARY,ua.SECONDARY]).concat(jR.map(function(t){return"".concat(t,"x")})).concat(Zpe.map(function(t){return"w-".concat(t)})),xu=Ro.FontAwesomeConfig||{};function nge(t){var e=an.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function rge(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(an&&typeof an.querySelector=="function"){var ige=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];ige.forEach(function(t){var e=$w(t,2),n=e[0],r=e[1],i=rge(nge(n));i!=null&&(xu[r]=i)})}var WR={styleDefault:"solid",familyDefault:"classic",cssPrefix:VR,replacementClass:zR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};xu.familyPrefix&&(xu.cssPrefix=xu.familyPrefix);var bc=je(je({},WR),xu);bc.autoReplaceSvg||(bc.observeMutations=!1);var Xe={};Object.keys(WR).forEach(function(t){Object.defineProperty(Xe,t,{enumerable:!0,set:function(n){bc[t]=n,Pu.forEach(function(r){return r(Xe)})},get:function(){return bc[t]}})});Object.defineProperty(Xe,"familyPrefix",{enumerable:!0,set:function(e){bc.cssPrefix=e,Pu.forEach(function(n){return n(Xe)})},get:function(){return bc.cssPrefix}});Ro.FontAwesomeConfig=Xe;var Pu=[];function sge(t){return Pu.push(t),function(){Pu.splice(Pu.indexOf(t),1)}}var so=d0,os={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function oge(t){if(!(!t||!Js)){var e=an.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=an.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return an.head.insertBefore(e,r),t}}var age="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pd(){for(var t=12,e="";t-- >0;)e+=age[Math.random()*62|0];return e}function Mc(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Hw(t){return t.classList?Mc(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function qR(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lge(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(qR(t[n]),'" ')},"").trim()}function fp(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function jw(t){return t.size!==os.size||t.x!==os.x||t.y!==os.y||t.rotate!==os.rotate||t.flipX||t.flipY}function cge(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:c}}function uge(t){var e=t.transform,n=t.width,r=n===void 0?d0:n,i=t.height,s=i===void 0?d0:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&BR?l+="translate(".concat(e.x/so-r/2,"em, ").concat(e.y/so-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/so,"em), calc(-50% + ").concat(e.y/so,"em)) "):l+="translate(".concat(e.x/so,"em, ").concat(e.y/so,"em) "),l+="scale(".concat(e.size/so*(e.flipX?-1:1),", ").concat(e.size/so*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var dge=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function KR(){var t=VR,e=zR,n=Xe.cssPrefix,r=Xe.replacementClass,i=dge;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var OE=!1;function uv(){Xe.autoAddCss&&!OE&&(oge(KR()),OE=!0)}var fge={mixout:function(){return{dom:{css:KR,insertCss:uv}}},hooks:function(){return{beforeDOMElementCreation:function(){uv()},beforeI2svg:function(){uv()}}}},js=Ro||{};js[Hs]||(js[Hs]={});js[Hs].styles||(js[Hs].styles={});js[Hs].hooks||(js[Hs].hooks={});js[Hs].shims||(js[Hs].shims=[]);var Fi=js[Hs],GR=[],hge=function t(){an.removeEventListener("DOMContentLoaded",t),lm=1,GR.map(function(e){return e()})},lm=!1;Js&&(lm=(an.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(an.readyState),lm||an.addEventListener("DOMContentLoaded",hge));function mge(t){Js&&(lm?setTimeout(t,0):GR.push(t))}function Bd(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?qR(t):"<".concat(e," ").concat(lge(r),">").concat(s.map(Bd).join(""),"</").concat(e,">")}function RE(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var pge=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},dv=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?pge(n,i):n,l,c,u;for(r===void 0?(l=1,u=e[s[0]]):(l=0,u=r);l<o;l++)c=s[l],u=a(u,e[c],c,e);return u};function gge(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function h0(t){var e=gge(t);return e.length===1?e[0].toString(16):null}function vge(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function ME(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function m0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=ME(e);typeof Fi.hooks.addPack=="function"&&!i?Fi.hooks.addPack(t,ME(e)):Fi.styles[t]=je(je({},Fi.styles[t]||{}),s),t==="fas"&&m0("fa",e)}var Gf,Yf,Qf,Ol=Fi.styles,bge=Fi.shims,yge=(Gf={},Bn(Gf,sn,Object.values(hd[sn])),Bn(Gf,gn,Object.values(hd[gn])),Gf),Ww=null,YR={},QR={},JR={},XR={},ZR={},wge=(Yf={},Bn(Yf,sn,Object.keys(dd[sn])),Bn(Yf,gn,Object.keys(dd[gn])),Yf);function _ge(t){return~tge.indexOf(t)}function Cge(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!_ge(i)?i:null}var e3=function(){var e=function(s){return dv(Ol,function(o,a,l){return o[l]=dv(a,s,{}),o},{})};YR=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),QR=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),ZR=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in Ol||Xe.autoFetchSvg,r=dv(bge,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});JR=r.names,XR=r.unicodes,Ww=hp(Xe.styleDefault,{family:Xe.familyDefault})};sge(function(t){Ww=hp(t.styleDefault,{family:Xe.familyDefault})});e3();function qw(t,e){return(YR[t]||{})[e]}function kge(t,e){return(QR[t]||{})[e]}function da(t,e){return(ZR[t]||{})[e]}function t3(t){return JR[t]||{prefix:null,iconName:null}}function Sge(t){var e=XR[t],n=qw("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Mo(){return Ww}var Kw=function(){return{prefix:null,iconName:null,rest:[]}};function hp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?sn:n,i=dd[r][t],s=fd[r][t]||fd[r][i],o=t in Fi.styles?t:null;return s||o||null}var DE=(Qf={},Bn(Qf,sn,Object.keys(hd[sn])),Bn(Qf,gn,Object.keys(hd[gn])),Qf);function mp(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},Bn(e,sn,"".concat(Xe.cssPrefix,"-").concat(sn)),Bn(e,gn,"".concat(Xe.cssPrefix,"-").concat(gn)),e),o=null,a=sn;(t.includes(s[sn])||t.some(function(c){return DE[sn].includes(c)}))&&(a=sn),(t.includes(s[gn])||t.some(function(c){return DE[gn].includes(c)}))&&(a=gn);var l=t.reduce(function(c,u){var d=Cge(Xe.cssPrefix,u);if(Ol[u]?(u=yge[a].includes(u)?Ype[a][u]:u,o=u,c.prefix=u):wge[a].indexOf(u)>-1?(o=u,c.prefix=hp(u,{family:a})):d?c.iconName=d:u!==Xe.replacementClass&&u!==s[sn]&&u!==s[gn]&&c.rest.push(u),!i&&c.prefix&&c.iconName){var f=o==="fa"?t3(c.iconName):{},h=da(c.prefix,c.iconName);f.prefix&&(o=null),c.iconName=f.iconName||h||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!Ol.far&&Ol.fas&&!Xe.autoFetchSvg&&(c.prefix="fas")}return c},Kw());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===gn&&(Ol.fass||Xe.autoFetchSvg)&&(l.prefix="fass",l.iconName=da(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Mo()||"fas"),l}var Ege=function(){function t(){Lpe(this,t),this.definitions={}}return $pe(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=je(je({},n.definitions[a]||{}),o[a]),m0(a,o[a]);var l=hd[sn][a];l&&m0(l,o[a]),e3()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){typeof d=="string"&&(n[a][d]=c)}),n[a][l]=c}),n}}]),t}(),NE=[],Rl={},zl={},Tge=Object.keys(zl);function Age(t,e){var n=e.mixoutsTo;return NE=t,Rl={},Object.keys(zl).forEach(function(r){Tge.indexOf(r)===-1&&delete zl[r]}),NE.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),am(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Rl[o]||(Rl[o]=[]),Rl[o].push(s[o])})}r.provides&&r.provides(zl)}),n}function p0(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=Rl[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Ba(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Rl[t]||[];i.forEach(function(s){s.apply(null,n)})}function Ws(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return zl[t]?zl[t].apply(null,e):void 0}function g0(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Mo();if(e)return e=da(n,e)||e,RE(n3.definitions,n,e)||RE(Fi.styles,n,e)}var n3=new Ege,xge=function(){Xe.autoReplaceSvg=!1,Xe.observeMutations=!1,Ba("noAuto")},Pge={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Js?(Ba("beforeI2svg",e),Ws("pseudoElements2svg",e),Ws("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Xe.autoReplaceSvg===!1&&(Xe.autoReplaceSvg=!0),Xe.observeMutations=!0,mge(function(){Oge({autoReplaceSvgRoot:n}),Ba("watch",e)})}},Ige={icon:function(e){if(e===null)return null;if(am(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:da(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=hp(e[0]);return{prefix:r,iconName:da(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Xe.cssPrefix,"-"))>-1||e.match(Qpe))){var i=mp(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Mo(),iconName:da(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=Mo();return{prefix:s,iconName:da(s,e)||e}}}},li={noAuto:xge,config:Xe,dom:Pge,parse:Ige,library:n3,findIconDefinition:g0,toHtml:Bd},Oge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?an:n;(Object.keys(Fi.styles).length>0||Xe.autoFetchSvg)&&Js&&Xe.autoReplaceSvg&&li.dom.i2svg({node:r})};function pp(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Bd(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Js){var r=an.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Rge(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(jw(o)&&n.found&&!r.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};i.style=fp(je(je({},s),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Mge(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(Xe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:je(je({},i),{},{id:o}),children:r}]}]}function Gw(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,c=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=f===void 0?!1:f,m=r.found?r:n,p=m.width,y=m.height,v=i==="fak",b=[Xe.replacementClass,s?"".concat(Xe.cssPrefix,"-").concat(s):""].filter(function(O){return d.classes.indexOf(O)===-1}).filter(function(O){return O!==""||!!O}).concat(d.classes).join(" "),T={children:[],attributes:je(je({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(y)})},_=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(p/y*16*.0625,"em")}:{};h&&(T.attributes[$a]=""),l&&(T.children.push({tag:"title",attributes:{id:T.attributes["aria-labelledby"]||"title-".concat(u||pd())},children:[l]}),delete T.attributes.title);var E=je(je({},T),{},{prefix:i,iconName:s,main:n,mask:r,maskId:c,transform:o,symbol:a,styles:je(je({},_),d.styles)}),C=r.found&&n.found?Ws("generateAbstractMask",E)||{children:[],attributes:{}}:Ws("generateAbstractIcon",E)||{children:[],attributes:{}},k=C.children,S=C.attributes;return E.children=k,E.attributes=S,a?Mge(E):Rge(E)}function FE(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,c=je(je(je({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(c[$a]="");var u=je({},o.styles);jw(i)&&(u.transform=uge({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=fp(u);d.length>0&&(c.style=d);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function Dge(t){var e=t.content,n=t.title,r=t.extra,i=je(je(je({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=fp(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var fv=Fi.styles;function v0(t){var e=t[0],n=t[1],r=t.slice(4),i=$w(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(Xe.cssPrefix,"-").concat(ua.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Xe.cssPrefix,"-").concat(ua.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Xe.cssPrefix,"-").concat(ua.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var Nge={found:!1,width:512,height:512};function Fge(t,e){!UR&&!Xe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function b0(t,e){var n=e;return e==="fa"&&Xe.styleDefault!==null&&(e=Mo()),new Promise(function(r,i){if(Ws("missingIconAbstract"),n==="fa"){var s=t3(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&fv[e]&&fv[e][t]){var o=fv[e][t];return r(v0(o))}Fge(t,e),r(je(je({},Nge),{},{icon:Xe.showMissingIcons&&t?Ws("missingIconAbstract")||{}:{}}))})}var LE=function(){},y0=Xe.measurePerformance&&Uf&&Uf.mark&&Uf.measure?Uf:{mark:LE,measure:LE},ou='FA "6.4.2"',Lge=function(e){return y0.mark("".concat(ou," ").concat(e," begins")),function(){return r3(e)}},r3=function(e){y0.mark("".concat(ou," ").concat(e," ends")),y0.measure("".concat(ou," ").concat(e),"".concat(ou," ").concat(e," begins"),"".concat(ou," ").concat(e," ends"))},Yw={begin:Lge,end:r3},vh=function(){};function $E(t){var e=t.getAttribute?t.getAttribute($a):null;return typeof e=="string"}function $ge(t){var e=t.getAttribute?t.getAttribute(Vw):null,n=t.getAttribute?t.getAttribute(zw):null;return e&&n}function Bge(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Xe.replacementClass)}function Vge(){if(Xe.autoReplaceSvg===!0)return bh.replace;var t=bh[Xe.autoReplaceSvg];return t||bh.replace}function zge(t){return an.createElementNS("http://www.w3.org/2000/svg",t)}function Uge(t){return an.createElement(t)}function i3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?zge:Uge:n;if(typeof t=="string")return an.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(i3(o,{ceFn:r}))}),i}function Hge(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var bh={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(i3(i),n)}),n.getAttribute($a)===null&&Xe.keepOriginalSource){var r=an.createComment(Hge(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Hw(n).indexOf(Xe.replacementClass))return bh.replace(e);var i=new RegExp("".concat(Xe.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===Xe.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Bd(a)}).join(`
`);n.setAttribute($a,""),n.innerHTML=o}};function BE(t){t()}function s3(t,e){var n=typeof e=="function"?e:vh;if(t.length===0)n();else{var r=BE;Xe.mutateApproach===Kpe&&(r=Ro.requestAnimationFrame||BE),r(function(){var i=Vge(),s=Yw.begin("mutate");t.map(i),s(),n()})}}var Qw=!1;function o3(){Qw=!0}function w0(){Qw=!1}var cm=null;function VE(t){if(PE&&Xe.observeMutations){var e=t.treeCallback,n=e===void 0?vh:e,r=t.nodeCallback,i=r===void 0?vh:r,s=t.pseudoElementsCallback,o=s===void 0?vh:s,a=t.observeMutationsRoot,l=a===void 0?an:a;cm=new PE(function(c){if(!Qw){var u=Mo();Mc(c).forEach(function(d){if(d.type==="childList"&&d.addedNodes.length>0&&!$E(d.addedNodes[0])&&(Xe.searchPseudoElements&&o(d.target),n(d.target)),d.type==="attributes"&&d.target.parentNode&&Xe.searchPseudoElements&&o(d.target.parentNode),d.type==="attributes"&&$E(d.target)&&~ege.indexOf(d.attributeName))if(d.attributeName==="class"&&$ge(d.target)){var f=mp(Hw(d.target)),h=f.prefix,m=f.iconName;d.target.setAttribute(Vw,h||u),m&&d.target.setAttribute(zw,m)}else Bge(d.target)&&i(d.target)})}}),Js&&cm.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function jge(){cm&&cm.disconnect()}function Wge(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function qge(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=mp(Hw(t));return i.prefix||(i.prefix=Mo()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=kge(i.prefix,t.innerText)||qw(i.prefix,h0(t.innerText))),!i.iconName&&Xe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Kge(t){var e=Mc(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Xe.autoA11y&&(n?e["aria-labelledby"]="".concat(Xe.replacementClass,"-title-").concat(r||pd()):(e["aria-hidden"]="true",e.focusable="false")),e}function Gge(){return{iconName:null,title:null,titleId:null,prefix:null,transform:os,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function zE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=qge(t),r=n.iconName,i=n.prefix,s=n.rest,o=Kge(t),a=p0("parseNodeAttributes",{},t),l=e.styleParser?Wge(t):[];return je({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:os,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var Yge=Fi.styles;function a3(t){var e=Xe.autoReplaceSvg==="nest"?zE(t,{styleParser:!1}):zE(t);return~e.extra.classes.indexOf(HR)?Ws("generateLayersText",t,e):Ws("generateSvgReplacementMutation",t,e)}var Do=new Set;Uw.map(function(t){Do.add("fa-".concat(t))});Object.keys(dd[sn]).map(Do.add.bind(Do));Object.keys(dd[gn]).map(Do.add.bind(Do));Do=Ld(Do);function UE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Js)return Promise.resolve();var n=an.documentElement.classList,r=function(d){return n.add("".concat(IE,"-").concat(d))},i=function(d){return n.remove("".concat(IE,"-").concat(d))},s=Xe.autoFetchSvg?Do:Uw.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Yge));s.includes("fa")||s.push("fa");var o=[".".concat(HR,":not([").concat($a,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat($a,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Mc(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=Yw.begin("onTree"),c=a.reduce(function(u,d){try{var f=a3(d);f&&u.push(f)}catch(h){UR||h.name==="MissingIcon"&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(c).then(function(f){s3(f,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),u()})}).catch(function(f){l(),d(f)})})}function Qge(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;a3(t).then(function(n){n&&s3([n],e)})}function Jge(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:g0(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:g0(i||{})),t(r,je(je({},n),{},{mask:i}))}}var Xge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?os:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,d=n.title,f=d===void 0?null:d,h=n.titleId,m=h===void 0?null:h,p=n.classes,y=p===void 0?[]:p,v=n.attributes,b=v===void 0?{}:v,T=n.styles,_=T===void 0?{}:T;if(e){var E=e.prefix,C=e.iconName,k=e.icon;return pp(je({type:"icon"},e),function(){return Ba("beforeDOMElementCreation",{iconDefinition:e,params:n}),Xe.autoA11y&&(f?b["aria-labelledby"]="".concat(Xe.replacementClass,"-title-").concat(m||pd()):(b["aria-hidden"]="true",b.focusable="false")),Gw({icons:{main:v0(k),mask:l?v0(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:C,transform:je(je({},os),i),symbol:o,title:f,maskId:u,titleId:m,extra:{attributes:b,styles:_,classes:y}})})}},Zge={mixout:function(){return{icon:Jge(Xge)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=UE,n.nodeCallback=Qge,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?an:r,s=n.callback,o=s===void 0?function(){}:s;return UE(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,c=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,m){Promise.all([b0(i,a),u.iconName?b0(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(p){var y=$w(p,2),v=y[0],b=y[1];h([n,Gw({icons:{main:v,mask:b},prefix:a,iconName:i,transform:l,symbol:c,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(m)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,l=fp(a);l.length>0&&(i.style=l);var c;return jw(o)&&(c=Ws("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(c||s.icon),{children:r,attributes:i}}}},eve={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return pp({type:"layer"},function(){Ba("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Xe.cssPrefix,"-layers")].concat(Ld(s)).join(" ")},children:o}]})}}}},tve={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,c=l===void 0?{}:l,u=r.styles,d=u===void 0?{}:u;return pp({type:"counter",content:n},function(){return Ba("beforeDOMElementCreation",{content:n,params:r}),Dge({content:n.toString(),title:s,extra:{attributes:c,styles:d,classes:["".concat(Xe.cssPrefix,"-layers-counter")].concat(Ld(a))}})})}}}},nve={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?os:i,o=r.title,a=o===void 0?null:o,l=r.classes,c=l===void 0?[]:l,u=r.attributes,d=u===void 0?{}:u,f=r.styles,h=f===void 0?{}:f;return pp({type:"text",content:n},function(){return Ba("beforeDOMElementCreation",{content:n,params:r}),FE({content:n,transform:je(je({},os),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Xe.cssPrefix,"-layers-text")].concat(Ld(c))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(BR){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return Xe.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,FE({content:n.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},rve=new RegExp('"',"ug"),HE=[1105920,1112319];function ive(t){var e=t.replace(rve,""),n=vge(e,0),r=n>=HE[0]&&n<=HE[1],i=e.length===2?e[0]===e[1]:!1;return{value:h0(i?e[0]:e),isSecondary:r||i}}function jE(t,e){var n="".concat(qpe).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Mc(t.children),o=s.filter(function(k){return k.getAttribute(f0)===e})[0],a=Ro.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(Jpe),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&u!=="none"&&u!==""){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?gn:sn,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?fd[f][l[2].toLowerCase()]:Xpe[f][c],m=ive(d),p=m.value,y=m.isSecondary,v=l[0].startsWith("FontAwesome"),b=qw(h,p),T=b;if(v){var _=Sge(p);_.iconName&&_.prefix&&(b=_.iconName,h=_.prefix)}if(b&&!y&&(!o||o.getAttribute(Vw)!==h||o.getAttribute(zw)!==T)){t.setAttribute(n,T),o&&t.removeChild(o);var E=Gge(),C=E.extra;C.attributes[f0]=e,b0(b,h).then(function(k){var S=Gw(je(je({},E),{},{icons:{main:k,mask:Kw()},prefix:h,iconName:T,extra:C,watchable:!0})),O=an.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(O,t.firstChild):t.appendChild(O),O.outerHTML=S.map(function(D){return Bd(D)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function sve(t){return Promise.all([jE(t,"::before"),jE(t,"::after")])}function ove(t){return t.parentNode!==document.head&&!~Gpe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(f0)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function WE(t){if(Js)return new Promise(function(e,n){var r=Mc(t.querySelectorAll("*")).filter(ove).map(sve),i=Yw.begin("searchPseudoElements");o3(),Promise.all(r).then(function(){i(),w0(),e()}).catch(function(){i(),w0(),n()})})}var ave={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=WE,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?an:r;Xe.searchPseudoElements&&WE(i)}}},qE=!1,lve={mixout:function(){return{dom:{unwatch:function(){o3(),qE=!0}}}},hooks:function(){return{bootstrap:function(){VE(p0("mutationObserverCallbacks",{}))},noAuto:function(){jge()},watch:function(n){var r=n.observeMutationsRoot;qE?w0():VE(p0("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},KE=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},cve={mixout:function(){return{parse:{transform:function(n){return KE(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=KE(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},h={outer:a,inner:d,path:f};return{tag:"g",attributes:je({},h.outer),children:[{tag:"g",attributes:je({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:je(je({},r.icon.attributes),h.path)}]}]}}}},hv={x:0,y:0,width:"100%",height:"100%"};function GE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function uve(t){return t.tag==="g"?t.children:[t]}var dve={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?mp(i.split(" ").map(function(o){return o.trim()})):Kw();return s.prefix||(s.prefix=Mo()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,c=s.width,u=s.icon,d=o.width,f=o.icon,h=cge({transform:l,containerWidth:d,iconWidth:c}),m={tag:"rect",attributes:je(je({},hv),{},{fill:"white"})},p=u.children?{children:u.children.map(GE)}:{},y={tag:"g",attributes:je({},h.inner),children:[GE(je({tag:u.tag,attributes:je(je({},u.attributes),h.path)},p))]},v={tag:"g",attributes:je({},h.outer),children:[y]},b="mask-".concat(a||pd()),T="clip-".concat(a||pd()),_={tag:"mask",attributes:je(je({},hv),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,v]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:T},children:uve(f)},_]};return r.push(E,{tag:"rect",attributes:je({fill:"currentColor","clip-path":"url(#".concat(T,")"),mask:"url(#".concat(b,")")},hv)}),{children:r,attributes:i}}}},fve={provides:function(e){var n=!1;Ro.matchMedia&&(n=Ro.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:je(je({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=je(je({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:je(je({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:je(je({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:je(je({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:je(je({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:je(je({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:je(je({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:je(je({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},hve={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},mve=[fge,Zge,eve,tve,nve,ave,lve,cve,dve,fve,hve];Age(mve,{mixoutsTo:li});li.noAuto;li.config;var pve=li.library;li.dom;var _0=li.parse;li.findIconDefinition;li.toHtml;var gve=li.icon;li.layer;li.text;li.counter;function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function Or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bve(t,e){if(t==null)return{};var n=vve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var yve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l3={exports:{}};(function(t){(function(e){var n=function(v,b,T){if(!c(b)||d(b)||f(b)||h(b)||l(b))return b;var _,E=0,C=0;if(u(b))for(_=[],C=b.length;E<C;E++)_.push(n(v,b[E],T));else{_={};for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(_[v(k,T)]=n(v,b[k],T))}return _},r=function(v,b){b=b||{};var T=b.separator||"_",_=b.split||/(?=[A-Z])/;return v.split(_).join(T)},i=function(v){return m(v)?v:(v=v.replace(/[\-_\s]+(.)?/g,function(b,T){return T?T.toUpperCase():""}),v.substr(0,1).toLowerCase()+v.substr(1))},s=function(v){var b=i(v);return b.substr(0,1).toUpperCase()+b.substr(1)},o=function(v,b){return r(v,b).toLowerCase()},a=Object.prototype.toString,l=function(v){return typeof v=="function"},c=function(v){return v===Object(v)},u=function(v){return a.call(v)=="[object Array]"},d=function(v){return a.call(v)=="[object Date]"},f=function(v){return a.call(v)=="[object RegExp]"},h=function(v){return a.call(v)=="[object Boolean]"},m=function(v){return v=v-0,v===v},p=function(v,b){var T=b&&"process"in b?b.process:b;return typeof T!="function"?v:function(_,E){return T(_,v,E)}},y={camelize:i,decamelize:o,pascalize:s,depascalize:o,camelizeKeys:function(v,b){return n(p(i,b),v)},decamelizeKeys:function(v,b){return n(p(o,b),v,b)},pascalizeKeys:function(v,b){return n(p(s,b),v)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=y:e.humps=y})(yve)})(l3);var wve=l3.exports,_ve=["class","style"];function Cve(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=wve.camelize(n.slice(0,r)),s=n.slice(r+1).trim();return e[i]=s,e},{})}function kve(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function c3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(l){return c3(l)}),i=Object.keys(t.attributes||{}).reduce(function(l,c){var u=t.attributes[c];switch(c){case"class":l.class=kve(u);break;case"style":l.style=Cve(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var s=n.style,o=s===void 0?{}:s,a=bve(n,_ve);return Ze(t.tag,Os(Os(Os({},e),{},{class:i.class,style:Os(Os({},i.style),o)},i.attrs),a),r)}var u3=!1;try{u3=!0}catch{}function Sve(){if(!u3&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function mv(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Or({},t,e):{}}function Eve(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},Or(e,"fa-".concat(t.size),t.size!==null),Or(e,"fa-rotate-".concat(t.rotation),t.rotation!==null),Or(e,"fa-pull-".concat(t.pull),t.pull!==null),Or(e,"fa-swap-opacity",t.swapOpacity),Or(e,"fa-bounce",t.bounce),Or(e,"fa-shake",t.shake),Or(e,"fa-beat",t.beat),Or(e,"fa-fade",t.fade),Or(e,"fa-beat-fade",t.beatFade),Or(e,"fa-flash",t.flash),Or(e,"fa-spin-pulse",t.spinPulse),Or(e,"fa-spin-reverse",t.spinReverse),e);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function QE(t){if(t&&um(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(_0.icon)return _0.icon(t);if(t===null)return null;if(um(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var Tve=Pe({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var r=n.attrs,i=R(function(){return QE(e.icon)}),s=R(function(){return mv("classes",Eve(e))}),o=R(function(){return mv("transform",typeof e.transform=="string"?_0.transform(e.transform):e.transform)}),a=R(function(){return mv("mask",QE(e.mask))}),l=R(function(){return gve(i.value,Os(Os(Os(Os({},s.value),o.value),a.value),{},{symbol:e.symbol,title:e.title}))});Le(l,function(u){if(!u)return Sve("Could not find one or more icon(s)",i.value,a.value)},{immediate:!0});var c=R(function(){return l.value?c3(l.value.abstract[0],{},r):null});return function(){return c.value}}}),Ave={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"]};pve.add(Ave);const xve={ru:{...Npe},en:{...Fpe}},Pve=IK({legacy:!1,locale:"en",fallbackLocale:"ru ",globalInjection:!0,messages:xve});wde({resolve:t=>Object.assign({"./Pages/MakeArticle.vue":Dpe})[`./Pages/${t}.vue`],setup({el:t,App:e,props:n,plugin:r}){IA({render:()=>Ze(e,n)}).use(r).use(Hde).use(Pve).component("font-awesome-icon",Tve).mount(t)}})});export default Ive();
